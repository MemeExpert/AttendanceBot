(window.webpackJsonp=window.webpackJsonp||[]).push([[212,6,8,21,186,187,206],{5376:function(e,t,n){"use strict";t.__esModule=!0,t.getSelectionText=u,t.contextMenuCallbackNative=function(e){var t,n,r;e.preventDefault();var d=u();if("TEXTAREA"===e.target.tagName||"INPUT"===e.target.tagName)"checkbox"!==e.target.type&&(t=l.ContextMenuTypes.NATIVE_INPUT);else{if("none"===window.getComputedStyle(e.target).getPropertyValue("-webkit-user-select"))return;var c=e.target;do{null!=c.src&&(r=c.src),null!=c.href&&(n=c.href),c=c.parentNode}while(null!=c);null!=r?t=l.ContextMenuTypes.NATIVE_IMAGE:null!=n?t=l.ContextMenuTypes.NATIVE_LINK:d&&(t=l.ContextMenuTypes.NATIVE_TEXT)}t&&(0,o.openContextMenu)(e,function(e){return a.createElement(i.default,s({},e,{type:l.ContextMenuTypes[t],href:n,src:r,value:d}))})},t.contextMenuCallbackWeb=function(e){var t,n,r=!1;if("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)r=!0;else if(u())r=!0;else{var a=e.target;do{null!=a.src&&(t=a.src),null!=a.href&&(n=a.href),a=a.parentNode}while(null!=a);null==n&&null==t||(r=!0)}r||e.preventDefault()};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=(r=n(6293))&&r.__esModule?r:{default:r},l=n(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(){var e="";return window.getSelection?e=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(e=document.selection.createRange().text),e}},5473:function(e,t,n){"use strict";t.__esModule=!0,t.getPageSize=P,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(447),i=n(221),l=n(503),s=N(n(3)),u=n(6259),d=n(228),c=N(n(6104)),f=N(n(6011)),p=n(6904),h=n(6133),v=N(n(6022)),m=N(n(35)),y=N(n(44)),_=N(n(892)),g=N(n(5996)),E=N(n(6905)),S=N(n(6922)),T=n(0),O=N(n(13)),I=n(6051),C=N(n(5387));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=(0,l.makeLazy)(function(){return Promise.all([n.e(0),n.e(246),n.e(201)]).then(n.t.bind(null,7289,7))});function P(e){return e<I.PAGE_WIDTH_THRESHOLD?I.PageSizes.SMALL:I.PageSizes.LARGE}s.default.initialize();var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderStoreListing=function(e){var n=e.match.params,r=n.skuId,a=n.applicationId,i=n.slug,l=e.location,s=t.props.width,u=(0,o.parse)(l.search);return A(g.default,{page:T.AnalyticsPages.STORE_LISTING,root:!0},void 0,A(S.default,{skuId:r,applicationId:a,slug:i,location:l,storeListingId:u.store_listing_id,pageSize:P(s)}))},t.renderContent=function(e,n){return A(i.Switch,{},void 0,A(i.Route,{path:T.Routes.APPLICATION_STORE,exact:!0,render:function(t){var r=t.location;return A(g.default,{page:T.AnalyticsPages.STORE_DIRECTORY_HOME,root:!0},void 0,A(E.default,{location:r,scrollTo:e,getScrollTop:n}))}}),A(i.Route,{path:T.Routes.APPLICATION_STORE_BROWSE,render:function(t){var r=t.location;return A(g.default,{page:T.AnalyticsPages.STORE_DIRECTORY_BROWSE,root:!0},void 0,A(E.default,{location:r,scrollTo:e,getScrollTop:n}))}}),A(i.Route,{path:T.Routes.APPLICATION_STORE_LISTING_APPLICATION(":applicationId",":slug"),render:t.renderStoreListing}),A(i.Route,{path:T.Routes.APPLICATION_STORE_LISTING_APPLICATION(":applicationId"),render:t.renderStoreListing}),A(i.Route,{path:T.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug"),render:t.renderStoreListing}),A(i.Route,{path:T.Routes.APPLICATION_STORE_LISTING_SKU(":skuId"),render:t.renderStoreListing}),A(i.Redirect,{to:T.Routes.APPLICATION_STORE}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){(0,u.updateLocation)(this.props.location),this.stopListeningToHistory=y.default.getHistory().listen(function(e){e.pathname.startsWith(T.Routes.APPLICATION_STORE)&&(0,u.updateLocation)(e)}),this.props.isAuthenticated&&(0,d.fetchPaymentSources)(),v.default.disable(),v.default.setLayout(p.APPLICATION_STORE_LAYOUT),v.default.enable()},a.componentWillUnmount=function(){null!=this.stopListeningToHistory&&this.stopListeningToHistory(),v.default.disable(),v.default.setLayout(h.DEFAULT_LAYOUT),v.default.enable()},a.renderCustomErrorMessage=function(){return A("div",{},void 0,A("p",{},void 0,O.default.Messages.ERRORS_STORE_CRASH),A("p",{},void 0,O.default.Messages.ERRORS_ACTION_TO_TAKE))},a.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=e.theme,a=t?A("div",{className:C.default.applicationStore},void 0,this.renderContent()):A(M,{className:C.default.applicationStore,location:n,render:this.renderContent});return A(_.default,{theme:r,renderCustomMessage:this.renderCustomErrorMessage},void 0,a)},r}(a.Component);b.displayName="ApplicationStore";var R=(0,i.withRouter)((0,c.default)((0,f.default)(s.default.connectStores([m.default],function(){return{theme:m.default.theme}})(b))));t.default=R},5760:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o=H(n(2)),i=n(147),l=n(221),s=B(n(3)),u=B(n(839)),d=n(466),c=B(n(6064)),f=H(n(326)),p=B(n(827)),h=B(n(152)),v=B(n(960)),m=B(n(132)),y=H(n(903)),_=B(n(865)),g=B(n(824)),E=B(n(856)),S=B(n(12)),T=B(n(458)),O=B(n(849)),I=B(n(154)),C=B(n(86)),N=B(n(225)),A=B(n(838)),M=B(n(49)),P=B(n(150)),b=B(n(238)),R=B(n(185)),L=n(6781),D=H(n(6046)),w=H(n(111)),U=B(n(9)),k=B(n(44)),G=B(n(7452)),F=B(n(8173)),j=B(n(8174)),x=n(0);function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(e){var t=e.match.params.id;return v.default.call(function(){return _.default.open(t)}),Y(l.Redirect,{to:O.default.defaultRoute})}function K(e){var t=e.match,n=/-/g,r=t.params.section&&t.params.section.toUpperCase().replace(n,"_"),a=t.params.subsection&&t.params.subsection.toUpperCase().replace(n,"_");return!x.UserSettingsSections.hasOwnProperty(r)||a&&!x.UserSettingsSections.hasOwnProperty(a)||v.default.call(function(){return g.default.open(x.UserSettingsSections[r],a)}),Y(l.Redirect,{to:O.default.defaultRoute})}function z(){return v.default.call(function(){return c.default.open(x.CreateGuildModalScreens.CreateGuild,"External link")}),Y(l.Redirect,{to:O.default.defaultRoute})}function $(e){var t=e.match.params,n=t.guildId,r=t.channelId,a=t.type;v.default.call(function(){return(0,d.open)()});var o=parseInt(a,10)===x.ChannelTypes.GUILD_VOICE?x.Routes.CHANNEL(n):x.Routes.CHANNEL(n,r);return Y(l.Redirect,{to:o})}n(908),n(345),n(6108),n(8254),n(971),n(957),n(8255),n(7106),n(7271),n(181),n(8256),n(870),n(8257),n(8258),n(8260),n(8263),n(467),n(831),n(176),n(474),n(6749),n(8264),n(7200),s.default.initialize(),U.default.embedded&&(U.default.on("USER_SETTINGS_OPEN",function(){return g.default.open(x.UserSettingsSections.ACCOUNT)}),U.default.on("LAUNCH_APPLICATION",function(e,t){var n=w.getLibraryApplicationForApplicationId(t,C.default,b.default);D.playApplication(t,n,{analyticsParams:{location:{page:x.AnalyticsPages.DIRECT,object:x.AnalyticsObjects.WEB_URL}}})})),W.displayName="renderUserProfileRedirector",K.displayName="renderUserSettingsRedirector",z.displayName="createGuildModalRedirector",$.displayName="renderWelcomeRedirector",A.default.registerModals(j.default);var q=s.default.connectStores([T.default,O.default,S.default],function(){return{isConnected:T.default.isConnected(),defaultRoute:O.default.defaultRoute,token:S.default.getToken()}})(function(e){function t(){return e.apply(this,arguments)||this}return V(t,e),t.prototype.render=function(){var e=this.props,t=e.isConnected,n=e.defaultRoute;return null==e.token?Y(l.Redirect,{to:x.Routes.LOGIN}):t?Y(l.Redirect,{to:n}):null},t}(o.Component));function X(e){var t=e.match.params,n=t.gameId,r=t.action;return I.default.whenInitialized(function(){C.default.whenInitialized(function(){switch(r){case"launch":var e=C.default.getActiveLibraryApplication(n);if(null==e)return;D.playApplication(e.id,e,{analyticsParams:{location:{page:x.AnalyticsPages.DIRECT,object:x.AnalyticsObjects.WEB_URL}}});break;case"test-mode":R.default.whenInitialized(function(){return y.authorizeAndSetTestModeApplication(n)});break;case"uninstall":var t=C.default.getActiveLibraryApplication(n);if(null==t)return;f.uninstallBranchPrompt(t.id,t.branchId,x.AnalyticsLocations.URI_SCHEME)}})}),Y(l.Redirect,{to:x.Routes.APPLICATION_LIBRARY})}X.displayName="gameLibraryActionRedirector";var Q=(0,L.makeAuthenticated)(G.default);var J=Y(q,{}),Z=Y(q,{}),ee=[{path:x.Routes.APP,render:function(){return J},isSessionRequired:!0},{path:x.Routes.CHANNEL("@me",":channelId?"),render:function(){return Z},isSessionRequired:!0},{path:x.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),render:Q,isSessionRequired:!0,isChatRoute:!0},{path:x.Routes.GUILD_DISCOVERY,render:Q,isSessionRequired:!0,isChatRoute:!0}],te=Y(q,{}),ne=[{path:x.Routes.APP,render:function(){return te},isSessionRequired:!0},{path:x.Routes.USERS(":id"),render:W},{path:x.Routes.SETTINGS(":section",":subsection?"),render:K,isSessionRequired:!0},{path:x.Routes.WELCOME(":guildId",":channelId",":type"),render:$,isSessionRequired:!0},{path:x.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),render:Q,isSessionRequired:!0,isChatRoute:!0},{path:x.Routes.ACTIVITY,render:Q,isSessionRequired:!0,isChatRoute:!0},{path:x.Routes.APPLICATION_LIBRARY_ACTION(":gameId",":action"),render:X},{path:x.Routes.APPLICATION_LIBRARY,render:Q,isSessionRequired:!0,isChatRoute:!0},{path:x.Routes.GUILD_CREATE,render:z},{path:x.Routes.APPLICATION_STORE,render:Q,isSessionRequired:!0,isChatRoute:!0},{path:x.Routes.GUILD_DISCOVERY,render:Q,isSessionRequired:!0,isChatRoute:!0}];function re(e){if(!T.default.isConnected()&&!T.default.isTryingToConnect()){var t=S.default.getToken();if(null!=t)null!=function(e){for(var t=oe(),n=Array.isArray(t),r=0,t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a,l=o.path,s=o.isSessionRequired;if(s){var u=(0,i.matchPath)(e,l);if(null!=u)return u}}return null}(e)&&u.default.startSession(t)}}function ae(e){if(null!=e){var t=function(e){var t=e.params,n=t.guildId,r=t.channelId,a=void 0===r?null:r,o=t.messageId,i=void 0===o?null:o;return{guildId:n||x.ME,channelId:a,messageId:i}}(e),n=t.guildId,r=t.channelId,a=t.messageId;if(function(e){return null!=e&&(e===x.ME||/^\d+$/.test(e))}(n)&&function(e){return null==e||/^\d+$/.test(e)}(r)){var o=P.default.getGuildId(),i=M.default.getChannelId(o),l=N.default.jumpedMessageId(i),s=o!==n,u=i!==r,d=l!==a;if(null!=a){var c=T.default.isConnected()?void 0:"Page Load";v.default.call(function(){return h.default.jumpToMessage(r,a,!0,c)})}s&&p.default.selectGuild(n),(s||u||d)&&m.default.selectChannel(n,r,a)}else k.default.replaceWith(O.default.defaultRoute)}}function oe(){return S.default.isGuest()?ee:ne}var ie=Y(l.Redirect,{exact:!0,from:"/channels",to:"/"}),le=Y(l.Redirect,{to:"/"}),se=Y(F.default,{}),ue=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).historyUnlisten=null,t}V(t,e);var n=t.prototype;return n.componentDidMount=function(){U.default.setZoomFactor(E.default.zoom),this.handleHistoryChange(r.location),this.historyUnlisten=this.props.history.listen(this.handleHistoryChange)},n.componentWillUnmount=function(){this.historyUnlisten()},n.handleHistoryChange=function(e){var t=e.pathname;re(t),ae(function(e){var t=oe(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a,l=o.path;if(o.isChatRoute){var s=(0,i.matchPath)(e,l);if(null!=s)return s}}return null}(t))},n.render=function(){return Y(o.Fragment,{},void 0,S.default.isGuest()?Y(l.Switch,{},void 0,ee.map(function(e){var t=e.path,n=e.render;return Y(l.Route,{path:t,render:n},t)})):Y(l.Switch,{},void 0,ie,ne.map(function(e){var t=e.path,n=e.render;return Y(l.Route,{path:t,render:n},t)}),le),se)},t}(o.PureComponent);ue.displayName="ViewsWithMainInterface";var de=ue;t.default=de,e.exports=t.default}).call(this,n(7))},5997:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(4)),a=v(n(3)),o=v(n(8)),i=v(n(1)),l=v(n(827)),s=v(n(126)),u=v(n(313)),d=v(n(6111)),c=v(n(128)),f=v(n(28)),p=v(n(14)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y,_,g,E,S,T=["name","description","icon","splash","banner","region","afkChannelId","afkTimeout","systemChannelId","verificationLevel","defaultMessageNotifications","explicitContentFilter"],O=!1,I=h.FormStates.CLOSED,C={},N=!1,A=null,M=null,P=h.MFALevels.NONE,b=null,R=null,L=null;function D(e){if(null==E||null==g||g.id!==e)return!1;var t=f.default.getGuild(e);return null!=t&&(g===E?E=g=t:(g=t,E=E.set("roles",g.roles)),!0)}function w(e){var t=e.guildId,n=e.section,r=void 0===n?null:n,a=f.default.getGuild(t);if(null==a)return U();g=E=a,I=h.FormStates.OPEN,C={},S=t,P=E.mfaLevel,k({section:r||y||h.GuildSettingsSections.OVERVIEW})}function U(){O=!1,I=h.FormStates.CLOSED,g=E=null,N=!1,A=null,M=null,b=null,R=null,L=null,y=null,_=null,P=h.MFALevels.NONE}function k(e){if(null==E)return!1;if((y=e.section)===h.GuildSettingsSections.BANS)o.default.get(h.Endpoints.GUILD_BANS(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_LOADED_BANS,bans:e.body})});else if(y===h.GuildSettingsSections.INSTANT_INVITES)o.default.get(h.Endpoints.GUILD_INSTANT_INVITES(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_LOADED_INVITES,invites:e.body})});else if(y===h.GuildSettingsSections.EMBED)o.default.get(h.Endpoints.GUILD_EMBED(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_SET_EMBED,enabled:e.body.enabled,channelId:e.body.channel_id})});else{if(y===h.GuildSettingsSections.INTEGRATIONS)return F(e);y===h.GuildSettingsSections.MEMBERS?(S=E.id,l.default.requestMembers(E.id,"",0)):y===h.GuildSettingsSections.VANITY_URL?o.default.get(h.Endpoints.GUILD_VANITY_URL(E.id)).then(function(e){i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:e.body.code})}):y===h.GuildSettingsSections.AUDIT_LOG&&l.default.requestMembers(E.id,"",0)}}function G(e){return new d.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new u.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,r.default)(e.created_at)})}function F(e){return null!=E&&I===h.FormStates.OPEN&&((e.type!==h.ActionTypes.GUILD_INTEGRATIONS_UPDATE||e.guildId===E.id)&&void o.default.get(h.Endpoints.GUILD_INTEGRATIONS(E.id)).then(function(e){null!=E&&i.default.dispatch({type:h.ActionTypes.GUILD_SETTINGS_LOADED_INTEGATIONS,guildId:E.id,integrations:e.body})}))}var j=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default,p.default)},a.hasChanges=function(){return E!==g},a.isOpen=function(){return O},a.getSection=function(){return y},a.showNotice=function(){return this.hasChanges()},a.getGuildId=function(){return E?E.id:null},a.getProps=function(){return{submitting:I===h.FormStates.SUBMITTING,integrations:L,section:y,errors:C,guild:E,bans:b,invites:R,selectedRoleId:S,embedEnabled:N,embedChannelId:A,mfaLevel:P,searchQuery:_,vanityURLCode:M,hasChanges:this.hasChanges()}},r}(a.default.Store))(i.default,__OVERLAY__?{}:{GUILD_SETTINGS_INIT:w,GUILD_SETTINGS_OPEN:function(e){O=!0,w(e)},GUILD_SETTINGS_CLOSE:function(e){return U()},GUILD_SETTINGS_UPDATE:function(e){if(null==E)return!1;T.forEach(function(t){null!=E&&e.hasOwnProperty(t)&&(E=E.set(t,e[t]))}),function(){if(null==E)return!1;var e=E.toJS(),t=g.toJS();T.some(function(n){return e[n]!==t[n]})||(E=g)}()},GUILD_SETTINGS_CANCEL_CHANGES:function(e){var t=e.guildId;C={};var n=f.default.getGuild(t);null!=n&&(g=E=n)},GUILD_SETTINGS_SUBMIT:function(e){I=h.FormStates.SUBMITTING},GUILD_SETTINGS_SUBMIT_SUCCESS:function(e){I=h.FormStates.OPEN},GUILD_SETTINGS_SUBMIT_FAILURE:function(e){I=h.FormStates.OPEN,y=h.GuildSettingsSections.OVERVIEW,C=e.errors||{}},GUILD_SETTINGS_SET_SECTION:k,GUILD_SETTINGS_SET_SEARCH_QUERY:function(e){_=e.searchQuery},GUILD_SETTINGS_LOADED_BANS:function(e){b=e.bans.reduce(function(e,t){return null!=t.user&&null!=t.user.id&&(e[t.user.id]=t),e},{})},GUILD_SETTINGS_LOADED_INVITES:function(e){R=e.invites.reduce(function(e,t){return e[t.code]=G(t),e},{})},GUILD_SETTINGS_SET_EMBED:function(e){N=e.enabled,A=e.channelId},GUILD_SETTINGS_SET_VANITY_URL:function(e){M=e.code},GUILD_SETTINGS_SET_MFA_SUCCESS:function(e){var t=e.level;P=t},GUILD_SETTINGS_ROLE_SELECT:function(e){var t=e.roleId;S=t},GUILD_SETTINGS_LOADED_INTEGATIONS:function(e){L=e.integrations.map(function(e){return e.user=new c.default(e.user),e})},GUILD_BAN_ADD:function(e){var t,n=e.user,r=e.guildId;return null!=b&&null!=E&&E.id===r&&void(b=m({},b,(t={},t[n.id]={user:n,reason:null},t)))},GUILD_BAN_REMOVE:function(e){var t=e.user,n=e.guildId;return null!=b&&null!=E&&E.id===n&&void delete(b=m({},b))[t.id]},GUILD_ROLE_CREATE:function(e){var t=e.guildId,n=e.role;if(!D(t))return!1;S=n.id},GUILD_ROLE_UPDATE:function(e){if(!D(e.guildId))return!1},GUILD_ROLE_DELETE:function(e){var t=e.guildId,n=e.roleId;if(!D(t))return!1;S===n&&(S=t)},GUILD_UPDATE:function(e){if(null==E||E.id!==e.guild.id)return!1;var t=f.default.getGuild(E.id);if(null==t)return!1;var n=g=t,r=E.toJS();T.forEach(function(e){"icon"!==e&&"splash"!==e&&"banner"!==e&&(n=n.set(e,r[e]))}),E=n},GUILD_DELETE:function(e){if(null==E||E.id!==e.guild.id)return!1;U()},USER_CONNECTIONS_UPDATE:F,GUILD_INTEGRATIONS_UPDATE:F,INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(R=m({},R))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;R=m({},R,((t={})[e.invite.code]=G(e.invite),t))}});t.default=j,e.exports=t.default},6002:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EmptyStateText=t.EmptyStateImage=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(148)),l=n(0),s=d(n(5357)),u=d(n(5394));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=a.createContext(l.ThemeTypes.DARK),v=h.Provider,m=h.Consumer,y=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.lightSrc,n=e.darkSrc,r=e.width,a=e.height,d=e.offsetX,p=e.offsetY,h=e.style;return c(m,{},void 0,function(e){return c(i.default.Child,{grow:0,className:(0,o.default)(u.default.image,s.default.marginBottom40),style:f({},h,{width:r,height:a,marginLeft:d,marginTop:p,backgroundImage:"url("+(e===l.ThemeTypes.DARK?n:t)+")"})})})},t}(a.PureComponent);t.EmptyStateImage=y,y.displayName="EmptyStateImage";var _=function(e){var t=e.children,n=e.className,r=e.noteClassName,a=e.note,l=e.style;return c(i.default.Child,{grow:0,direction:i.default.Direction.VERTICAL,style:l},void 0,c("h4",{className:(0,o.default)(n,u.default.title)},void 0,t),a&&c("div",{className:(0,o.default)(r,u.default.text,s.default.marginTop8)},void 0,a))};t.EmptyStateText=_,_.displayName="EmptyStateText";var g=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.theme,r=e.className,a=e.style;return c(v,{value:n},void 0,c(i.default,{direction:i.default.Direction.VERTICAL,align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:(0,o.default)(u.default.wrapper,r),style:a},void 0,t))},t}(a.PureComponent);t.default=g,g.displayName="EmptyState",g.Text=_,g.Image=y},6007:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={selectGuild:function(e,t){a.default.dispatch({type:o.ActionTypes.DELAYED_GUILD_SELECT,guildId:e,analyticsSource:t})},selectChannel:function(e,t,n){a.default.dispatch({type:o.ActionTypes.DELAYED_CHANNEL_SELECT,guildId:e,channelId:t,analyticsSource:n})},flushSelection:function(e){void 0===e&&(e=!1),a.default.dispatch({type:o.ActionTypes.DELAYED_SELECT_FLUSH,immediate:e})}};t.default=i,e.exports=t.default},6008:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.IMAGE_GIF_RE=void 0;var r,a,o=f(n(2)),i=n(6081),l=(r=n(6527))&&r.__esModule?r:{default:r},s=f(n(6184)),u=n(233),d=n(6039),c=n(828);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=/\.gif($|\?|#)/i;t.IMAGE_GIF_RE=m;var y=p(l.default,{}),_=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={readyState:s.ImageReadyStates.LOADING,hasMouseOver:!1},n._cancellers=new Set,n.observeVisibility=function(){r.visibilityObserver.observe(v(n))},n.unobserveVisibility=function(){r.visibilityObserver.unobserve(v(n))},n.handleImageLoad=function(e){return n.setState({readyState:e?s.ImageReadyStates.ERROR:s.ImageReadyStates.READY})},n.preloadImage=function(e,t){var r=e.width,a=e.height,o=n.props,i=o.width,l=o.height;1===i&&1===l||n.loadImage(n.getSrc((0,d.getRatio)(i,l,r,a)),t)},n.onMouseEnter=function(e){r.isAnimated(n.props)&&n.setState({hasMouseOver:!0});var t=n.props.onMouseEnter;null!=t&&t(e,{preloadImage:n.preloadImage})},n.onMouseLeave=function(){return n.setState({hasMouseOver:!1})},n.onClick=function(e){var t=n.props,r=t.onZoom,a=t.onClick;null!=a?a(e):null!=r&&(e.preventDefault(),r(e,{placeholder:n.getSrc(n.getRatio())}))},n.renderAccessory=function(){var e=n.state.hasMouseOver,t=null!=n.props.renderAccessory?n.props.renderAccessory():null;return e?t:y},(0,u.isImageLoaded)(n.getSrc(n.getRatio(),r.isAnimated(n.props)))&&(n.state.readyState=s.ImageReadyStates.READY),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.isAnimated=function(e){var t=e.src,n=e.original;return e.animated||m.test(n||t)};var a=r.prototype;return a.componentDidMount=function(){this.state.readyState===s.ImageReadyStates.LOADING&&this.loadImage(this.getSrc(this.getRatio(),r.isAnimated(this.props)),this.handleImageLoad),r.isAnimated(this.props)&&this.observeVisibility()},a.componentDidUpdate=function(e){var t=r.isAnimated(this.props);r.isAnimated(e)!==t&&(t?this.observeVisibility():this.unobserveVisibility())},a.componentWillUnmount=function(){r.isAnimated(this.props)&&this.unobserveVisibility(),this._cancellers.forEach(function(e){return e()}),this._cancellers.clear()},a.getSrc=function(e,t){void 0===t&&(t=!1);var n=this.props,r=n.src,a=n.width,o=n.height;return(0,u.getImageSrc)(r,a,o,e,t?"png":null)},a.getWidth=function(){var e=this.props,t=e.width,n=e.minWidth;return Math.max(Math.round(t*this.getRatio()),n)},a.getHeight=function(){var e=this.props,t=e.height,n=e.minHeight;return Math.max(Math.round(t*this.getRatio()),n)},a.getRatio=function(){var e=this.props,t=e.width,n=e.height,r=e.maxWidth,a=void 0===r?400:r,o=e.maxHeight,i=void 0===o?300:o;return(0,d.getRatio)(t,n,a,i)},a.loadImage=function(e,t){var n=this,r=this.props,a=r.width,o=r.height;if(1!==a||1!==o){var i=(0,u.loadImage)(e,function(e,r){null!=i&&n._cancellers.delete(i),t&&t(e,r)});null!=i&&this._cancellers.add(i)}},a.render=function(){var e=this.props,t=e.alt,n=e.placeholder,a=e.onZoom,i=e.shouldLink,l=e.onContextMenu,u=e.autoPlay,d=e.original,f=e.className,v=e.imageClassName,m=e.children,y=e.animated,_=e.shouldAnimate,g=e.minWidth,E=e.minHeight,S=e.renderItem,T=e.onClick,O=e.renderAccessory,I=e.tabIndex,C=this.state,N=C.readyState,A=C.hasMouseOver,M=!!a,P={alt:null!=t?t:"",readyState:N,onContextMenu:l,zoomable:M,className:f,imageClassName:v,minWidth:g,minHeight:E,tabIndex:I,width:this.getWidth(),height:this.getHeight(),renderItem:S,src:"",children:null!=m?function(e){var t=e.src,n=e.size,r=e.alt;return m({src:t,size:n,alt:r})}:void 0,onMouseEnter:this.onMouseEnter};if(1===P.width&&1===P.height)return null;switch((M||null!=T)&&(P.onClick=this.onClick),i&&(P.original=d||P.src),N){case s.ImageReadyStates.LOADING:null!=n&&(P.src=n);break;case s.ImageReadyStates.READY:if(r.isAnimated(this.props)){P.onMouseLeave=this.onMouseLeave;var b=(u||A)&&(null==_||_)&&r.visibilityObserver.isVisible(this);b?(P.src=this.getSrc(this.getRatio()),P.renderAccessory=O):(P.src=this.getSrc(this.getRatio(),!y),P.renderAccessory=this.renderAccessory),null!=m&&(P.children=function(e){var t=e.src,n=e.size,r=e.alt;return m({src:t,size:n,animating:b,alt:r})})}else P.src=this.getSrc(this.getRatio())}return p(c.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o.createElement(s.default,h({},P,{backgroundOpacity:e.backgroundOpacity}))})},r}(o.Component);t.default=_,_.displayName="LazyImage",_.visibilityObserver=new i.VisibilityObserver({threshold:0}),_.defaultProps={alt:"",shouldLink:!1,autoPlay:!1,animated:!1,minWidth:0,minHeight:0}},6013:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={updateChannelDimensions:function(e,t,n,r){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_DIMENSIONS,channelId:e,scrollTop:t,scrollHeight:n,offsetHeight:r})},updateChannelListScroll:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTop:t})},channelListScrollTo:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:t})},clearChannelListScrollTo:function(e){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_CHANNEL_LIST_DIMENSIONS,guildId:e,scrollTo:null})},clearChannelDimensions:function(e){this.updateChannelDimensions(e,null,null,null)},updateGuildListScrollTo:function(e){a.default.dirtyDispatch({type:o.ActionTypes.UPDATE_GUILD_LIST_DIMENSIONS,scrollTop:e})}};t.default=i,e.exports=t.default},6014:function(e,t,n){"use strict";t.__esModule=!0,t.makeFile=function(e,t,n){if(null==t&&(t="unknown",e instanceof Blob))switch(e.type){case"image/png":t+=".png"}null==n&&(e instanceof Blob&&(n=e.type),n=n||o.default.lookup(t));if("function"!=typeof File||"Microsoft Edge"===i.default.name){var r=new Date,a=0;return null!=e.size&&"number"==typeof e.size?a=e.size:null!=e.byteLength&&"number"==typeof e.byteLength&&(a=e.byteLength),{lastModified:r.getTime(),lastModifiedDate:r,name:t,size:a,type:n}}return new File([e],t,{type:n})},t.classifyFile=function(e){return f(e.name,e.type)},t.classifyFileName=f,t.sizeString=function(e){return r.default.filesize(e)},t.maxFileSize=p,t.fileTooLarge=h,t.anyFileTooLarge=function(e){var t=p();return a.default.some(e,function(e){return h(e,t)})};var r=d(n(6235)),a=d(n(6)),o=d(n(6793)),i=d(n(32)),l=d(n(14)),s=d(n(222)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=[{reType:/^image\/vnd.adobe.photoshop/,klass:"photoshop"},{reType:/^image\/svg\+xml/,klass:"webcode"},{reType:/^image\//,klass:"image"},{reType:/^video\//,klass:"video"},{reName:/\.pdf$/,klass:"acrobat"},{reName:/\.ae/,klass:"ae"},{reName:/\.sketch$/,klass:"sketch"},{reName:/\.ai$/,klass:"ai"},{reName:/\.(?:rar|zip|7z|tar|tar\.gz)$/,klass:"archive"},{reName:/\.(?:c\+\+|cpp|cc|c|h|hpp|mm|m|json|js|rb|rake|py|asm|fs|pyc|dtd|cgi|bat|rss|java|graphml|idb|lua|o|gml|prl|sls|conf|cmake|make|sln|vbe|cxx|wbf|vbs|r|wml|php|bash|applescript|fcgi|yaml|ex|exs|sh|ml|actionscript)$/,klass:"code"},{reName:/\.(?:txt|rtf|doc|docx|md|pages|ppt|pptx|pptm|key|log)$/,klass:"document"},{reName:/\.(?:xls|xlsx|numbers|csv)$/,klass:"spreadsheet"},{reName:/\.(?:html|xhtml|htm|js|xml|xls|xsd|css|styl)$/,klass:"webcode"},{reName:/\.(?:mp3|ogg|wav|flac)$/,klass:"audio"}];function f(e,t){e=e?e.toLowerCase():"";var n=a.default.find(c,function(n){return n.reType&&t?n.reType.test(t):!(!n.reName||!e)&&n.reName.test(e)});return n?n.klass:"unknown"}function p(){var e=l.default.getCurrentUser();return e&&s.default.canUploadLargeFiles(e)?u.MAX_PREMIUM_ATTACHMENT_SIZE:u.MAX_ATTACHMENT_SIZE}function h(e,t){return null==t&&(t=p()),e.size>t}},6015:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=n(178),l=c(n(444)),s=c(n(6006)),u=n(0),d=c(n(5401));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h={SMALL:"7px 10px",MEDIUM:"10px"},v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.onClick,r=e.option;return n&&n(r)},t}return p(t,e),t.prototype.render=function(){var e,t=this.props,n=t.checked,r=t.disabled,a=t.option,c=t.size,p=t.infoClassName,h=n?"checked":null,v=a.desc?f("div",{className:(0,i.getClass)(d.default,"desc",h)},void 0,a.desc):null,m=n?a.color||u.Colors.BRAND:"",y=n?u.Colors.WHITE:a.color,_=r||a.disabled;return f(l.default,{className:(0,o.default)(d.default.item,(e={},e[d.default.disabled]=_,e)),style:{borderColor:m,backgroundColor:m,padding:c},editable:!0,onClick:!_&&this.handleClick},void 0,f(s.default,{value:n,disabled:_,onChange:this.handleClick,color:m}),f("div",{className:(0,o.default)(d.default.info,p)},void 0,f("div",{className:(0,i.getClass)(d.default,"title",h),style:{color:y}},void 0,a.name),v))},t}(a.PureComponent);v.displayName="RadioItem";var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderRadio=function(e){var n=t.props,r=n.value,a=n.disabled,o=n.size,i=n.itemInfoClassName,l=r===e.value;return f(v,{disabled:a,checked:l,option:e,onClick:t.props.onChange,size:o,infoClassName:i},e.value)},t}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.className;return f("div",{className:(0,o.default)(d.default.radioGroup,n)},void 0,t.map(this.renderRadio))},t}(a.PureComponent);m.displayName="RadioGroup",m.Sizes=h,m.defaultProps={options:[],onChange:u.NOOP,value:null,disabled:!1,size:h.MEDIUM};var y=m;t.default=y,e.exports=t.default},6016:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5451));function l(e){return e&&e.__esModule?e:{default:e}}var s=Object.freeze({UNKNOWN:"unknown",VISA:"visa",DISCOVER:"discover",MASTERCARD:"mastercard",AMEX:"amex",PAYPAL:"paypal",PAYMENT_REQUEST:"paymentRequest",G_PAY:"gPay"}),u={SMALL:i.default.cardIconSmall,MEDIUM:i.default.cardIconMedium,LARGE:i.default.cardIconLarge,XLARGE:i.default.cardIconXLarge},d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.getType=function(e){if(null==e)return s.UNKNOWN;var t=e.replace(/[^a-z]/gi,"").toUpperCase();return s[t]||s.UNKNOWN},a.prototype.render=function(){var e,t=this.props,n=t.flipped,a=t.type,l=t.className,s=t.size;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(s,i.default[a],l,(e={},e[i.default.flipped]=n,e))},void 0,a)},a}(a.PureComponent);d.displayName="PaymentSourceIcon",d.Types=s,d.Sizes=u,d.defaultProps={size:u.SMALL,flipped:!1};var c=d;t.default=c,e.exports=t.default},6017:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ActivityCount=t.AuthSpinner=t.SubText=t.Block=t.Input=t.ChannelIcon=t.GuildIcon=t.Avatar=t.Button=t.Image=t.VerifiedIcon=t.Subtitle=t.Title=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(17)),i=E(n(6203)),l=E(n(6204)),s=n(5992),u=E(n(124)),d=E(n(148)),c=E(n(6019)),f=E(n(301)),p=E(n(125)),h=E(n(822)),v=E(n(437)),m=E(n(442)),y=n(0),_=E(n(13)),g=E(n(5391));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var I=function(e){var t=e.className,n=e.children,r=O(e,["className","children"]);return a.createElement(p.default,T({},r,{color:p.default.Colors.WHITE,weight:p.default.Weights.LIGHT,className:(0,o.default)(g.default.title,t)}),n)};t.Title=I,I.displayName="Title";var C=function(e){var t=e.className,n=e.children,r=O(e,["className","children"]);return a.createElement(p.default,T({},r,{weight:p.default.Weights.NORMAL,className:(0,o.default)(g.default.subTitle,t)}),n)};t.Subtitle=C,C.displayName="Subtitle";var N=function(e){var t=e.theme,n=void 0===t?y.ThemeTypes.DARK:t;return S(v.default,{text:_.default.Messages.GUILD_VERIFIED,position:v.default.Positions.LEFT,color:v.default.Colors.BRAND},void 0,S(f.default,{className:g.default.verified,name:f.default.Names.VERIFIED,inner:n===y.ThemeTypes.DARK?y.Colors.PRIMARY_DARK:y.Colors.PRIMARY_DARK_300,checkmark:y.Colors.WHITE,width:25,height:25}))};t.VerifiedIcon=N,N.displayName="VerifiedIcon";var A=function(e){var t=e.className,n=O(e,["className"]);return a.createElement("img",T({alt:""},n,{className:(0,o.default)(g.default.image,t)}))};t.Image=A,A.displayName="Image";var M=function(e){var t,n=e.className,r=O(e,["className"]),i=r.look===u.default.Looks.LINK;return a.createElement(u.default,T({size:i?u.default.Sizes.MIN:u.default.Sizes.LARGE,fullWidth:!i,className:(0,o.default)(n,(t={},t[g.default.button]=!i,t[g.default.linkButton]=i,t))},r))};t.Button=M,M.displayName="Button",M.Looks=u.default.Looks,M.Colors=u.default.Colors,M.Sizes=u.default.Sizes;var P=function(e){var t=e.className,n=e.src,r=O(e,["className","src"]);return a.createElement(s.AvatarImage,T({src:n,className:(0,o.default)(g.default.inviteLargeIcon,t)},r))};t.Avatar=P,P.displayName="Avatar",P.Sizes=s.AvatarSizes;var b=function e(t){var n=t.className,r=t.guild,i=t.size,l=O(t,["className","guild","size"]);return a.createElement(c.default,T({guild:r,size:i,className:(0,o.default)(i===e.Sizes.XLARGE?g.default.inviteLargeIcon:g.default.inviteSmallIcon,n)},l))};t.GuildIcon=b,b.displayName="GuildIcon",b.Sizes=c.default.Sizes;var R=function e(t){var n=t.className,r=t.channel,i=t.size,l=O(t,["className","channel","size"]);return a.createElement(s.AvatarImage,T({src:r.getIconURL(),size:i,className:(0,o.default)(i===e.Sizes.XLARGE?g.default.inviteLargeIcon:g.default.inviteSmallIcon,n)},l))};t.ChannelIcon=R,R.displayName="ChannelIcon",R.Sizes=s.AvatarSizes;var L=function(e){var t,n=e.label,r=e.error,i=e.placeholder,l=e.value,s=e.className,u=e.inputClassName,d=e.setRef,c=O(e,["label","error","placeholder","value","className","inputClassName","setRef"]);return S(m.default,{title:n,error:r,className:s},void 0,a.createElement(h.default,T({},c,{value:l,inputRef:d,placeholder:i,className:g.default.input,inputClassName:(0,o.default)(u,(t={},t[g.default.inputError]=null!=r,t))})))};t.Input=L,L.displayName="Input";var D=function(e){var t=e.className,n=e.children;return S("div",{className:(0,o.default)(g.default.block,t)},void 0,n)};t.Block=D,D.displayName="Block";var w=function(e){var t=e.className,n=e.children;return S(p.default,{size:p.default.Sizes.SMALL,className:(0,o.default)(g.default.subText,t)},void 0,n)};t.SubText=w,w.displayName="SubText";var U=function(e){var t=e.className,n=e.hideQuote,r=void 0!==n&&n;return S(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER,className:t},void 0,S(l.default,{className:g.default.spinnerVideo}),r?null:S(C,{className:g.default.spinnerText},void 0,i.default[Math.floor(Math.random()*i.default.length)][0]))};t.AuthSpinner=U,U.displayName="AuthSpinner";var k=function(e){var t,n=e.online,r=e.total,a=e.className;return null==r?null:(null!=n&&n>0&&(t=S("div",{className:(0,o.default)(g.default.pill,g.default.pillOnline)},void 0,S("i",{className:g.default.pillIconOnline}),S(p.default,{tag:"span",size:p.default.Sizes.MEDIUM,className:g.default.pillMessage},void 0,_.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})))),S(d.default,{justify:d.default.Justify.CENTER,className:a},void 0,t,S("div",{className:g.default.pill},void 0,S("i",{className:g.default.pillIconTotal}),S(p.default,{tag:"span",size:p.default.Sizes.MEDIUM,className:g.default.pillMessage},void 0,_.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:r})))))};t.ActivityCount=k,k.displayName="ActivityCount";var G=function(e){var t=e.className,n=e.tag,r=void 0===n?"section":n,a=e.onSubmit,i=e.children;return S(r,{onSubmit:a,className:(0,o.default)(g.default.authBox,"theme-dark",t)},void 0,S("div",{className:g.default.centeringWrapper},void 0,i))};G.displayName="AuthBox";var F=G;t.default=F},6018:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(17)),o=n(6001),i=u(n(305)),l=n(828),s=u(n(5447));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.icon,n=e.timestamp,r=e.className,i=e.children;return d(l.BackgroundOpacityContext.Consumer,{},void 0,function(e){return d("div",{className:(0,a.default)(s.default.container,r)},void 0,d("div",{className:s.default.icon,style:{backgroundImage:"url('"+t+"')"}}),d("div",{className:(0,a.default)(s.default.content,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,i,d("time",{dateTime:n.toISOString(),className:(0,a.default)(s.default.timestamp,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,(0,o.calendarFormat)(n))))})}c.displayName="SystemMessage";var f=function(e){var t=e.onClick,n=e.children;return d("span",{className:s.default.action},void 0,"—",d(i.default,{onClick:t,className:s.default.actionAnchor},void 0,n))};f.displayName="SystemMessageAction",c.Action=f;var p=c;t.default=p,e.exports=t.default},6019:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=v(n(17)),l=n(221),s=n(178),u=v(n(219)),d=v(n(301)),c=v(n(437)),f=n(0),p=v(n(13)),h=v(n(5372));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _={MINI:"Mini",SMALL:"Small",MEDIUM:"Medium",LARGE:"Large",XLARGE:"XLarge"},g=((r={})[_.MINI]=[12,12,10,10,8,6,4],r[_.SMALL]=[14,14,12,12,10,8,6],r[_.MEDIUM]=[16,16,14,14,12,10,8],r[_.LARGE]=[18,18,16,16,14,12,10],r[_.XLARGE]=[20,20,18,18,16,14,12],r),E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderAcronym=function(){var e=this.props.guild;return null!=e.icon?null:e.acronym},a.renderVerifiedIcon=function(){var e=this.props,t=e.showVerified,n=e.guild,r=e.verifiedIconOuterColor;return!t||!n.hasFeature||n.hasFeature&&!n.hasFeature(f.GuildFeatures.VERIFIED)?null:y(c.default,{color:c.default.Colors.BRAND,text:p.default.Messages.GUILD_VERIFIED},void 0,y(d.default,{className:h.default.verifiedIcon,name:d.default.Names.VERIFIED,outer:r,inner:f.Colors.BRAND,checkmark:f.Colors.WHITE}))},a.renderIcon=function(){var e,t=this.props,n=t.guild,r=t.iconSrc,a=t.className,l=(t.showVerified,t.active),d=t.size,c=t.style,f=t.textScale,p=(t.showTooltip,t.tooltipPosition,t.onClick),v=t.to,y=(t.verifiedIconOuterColor,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["guild","iconSrc","className","showVerified","active","size","style","textScale","showTooltip","tooltipPosition","onClick","to","verifiedIconOuterColor"])),_=g[d],E=null==n.icon?{fontSize:(_[n.acronym.length]||_[_.length-1])*f}:{backgroundImage:"url('"+(r||n.getIconURL&&n.getIconURL()||"")+"')"};return o.createElement(u.default,m({className:(0,i.default)(h.default.icon,a,(0,s.getClass)(h.default,"iconSize",d),(e={},e[(0,s.getClass)(h.default,"iconActive",d)]=l,e[h.default.iconInactive]=!l,e[h.default.noIcon]=null==n.icon,e)),style:m({},E,c),onClick:null!=v||null==p?null:p},y),this.renderAcronym(),this.renderVerifiedIcon())},a.renderTooltip=function(){var e=this.props,t=e.guild,n=e.showTooltip,r=e.tooltipPosition;return n?y(c.default,{text:t.name,position:r},void 0,this.renderIcon()):this.renderIcon()},a.render=function(){var e=this.props,t=e.to,n=e.guild,r=e.source;return null!=t?y(l.Link,{to:{pathname:t,state:null!=r?{analyticsSource:r}:null},"aria-label":n.toString()},void 0,this.renderTooltip()):this.renderTooltip()},r}(o.PureComponent);E.displayName="GuildIcon",E.Sizes=_,E.defaultProps={size:_.LARGE,textScale:1,showVerified:!1,showTooltip:!1,active:!1,tooltipPosition:c.default.Positions.TOP,verifiedIconOuterColor:f.Colors.WHITE};var S=E;t.default=S,e.exports=t.default},6022:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=d(n(6167)),o=d(n(6302)),i=d(n(32)),l=n(6112),s=d(n(6092)),u=d(n(9));function d(e){return e&&e.__esModule?e:{default:e}}var c=!1,f=(0,o.default)(new a.default(window)),p=/Darwin|OS X/.test(i.default.os.family||""),h=p?"cmd":"ctrl",v=p?"opt":"alt",m=p?"return":"enter",y=[].concat(l.JUMP_TO_GUILD.binds,["mod+shift+[","mod+shift+]","ctrl+shift+tab","ctrl+tab","mod+n","mod+t","mod+shift+t","mod+plus","mod+minus","mod+0"]).map(function(e){return e.replace("mod",h)}),_=[];u.default.isDesktop()&&new a.default(document).bind("backspace",function(e){return e.preventDefault()});function g(e){var t=[];for(var n in e)t=t.concat(e[n].binds);return t.map(function(e){return e.replace("mod",h)})}function E(e){var t=function(t){var n=e[t],r=s.default.getKeybindList();u.default.embedded||(r=r.concat(y));var a=n.binds.filter(function(e){return e=e.replace("mod",h),r.indexOf(e)<0});if(0===a.length)return"continue";var o,i,l,d=n.global?f.bindGlobal:f.bind;if(n.action&&d.call(f,a,n.action),n.keyup&&d.call(f,a,n.keyup,"keyup"),n.keydown){var c=a.indexOf("any-character");-1!==c&&(o="keydown",i=n.keydown,l=function(e){return i(e,e.key)},document.addEventListener(o,l),_.push(function(){return document.removeEventListener(o,l)}),a.splice(c,1)),a.length>0&&d.call(f,a,n.keydown,"keydown")}n.keypress&&d.call(f,a,n.keypress,"keypress")};for(var n in e)t(n)}var S={combokeys:f,modKey:h,altKey:v,returnKey:m,checkDupes:function(e){for(var t={},n=[],r=g(e),a=0,o=r.length;a<o;a++)void 0===t[r[a]]?t[r[a]]=0:t[r[a]]+=1;for(var i in t)t[i]&&n.push(i);n.length&&console.warn("Duplicate keyboard shortcuts defined:",n)},setLayout:function(e){r=e},enable:function(){c||(c=!0,this.checkDupes(r),E(r))},enableTemp:function(e){E(e),c=!0},disableTemp:function(){this.disable(),this.enable()},disable:function(){c&&(c=!1,_.forEach(function(e){return e()}),_=[],f.reset())},validateKeybind:function(e){c&&this.hasBind(e)&&f.unbind(e)},hasBind:function(e){var t=g(r);return e=(e=e.replace("meta","cmd")).replace(/right|left/i,"").trim(),!(t.indexOf(e)<0)}};t.default=S,e.exports=t.default},6023:function(e,t,n){"use strict";t.__esModule=!0,t.getIconNameForChannel=h,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(219)),l=d(n(301)),s=n(0),u=d(n(5429));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f={SELECTED:u.default.modeSelected,CONNECTED:u.default.modeConnected,UNREAD:u.default.modeUnread,MUTED:u.default.modeMuted,LOCKED:u.default.modeLocked};function p(e){e.stopPropagation()}function h(e,t,n,r){if(void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),null==e)return null;switch(e.type){case s.ChannelTypes.GUILD_NEWS:return l.default.Names.NEWSPAPER;case s.ChannelTypes.GUILD_STORE:return l.default.Names.STORE_TAG;case s.ChannelTypes.DM:case s.ChannelTypes.GROUP_DM:return l.default.Names.NOVA_AT;case s.ChannelTypes.GUILD_TEXT:return null!=e.isNSFW&&e.isNSFW()?l.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?l.default.Names.CHANNEL_TEXT_LIMITED:l.default.Names.CHANNEL_TEXT;case s.ChannelTypes.GUILD_VOICE:return t?l.default.Names.LOCK_CLOSED:r?l.default.Names.LIVE_STREAM:e.isRoleRequired()?n?l.default.Names.VIDEO_CAMERA_LIMITED:l.default.Names.SPEAKER_LIMITED:n?l.default.Names.VIDEO_CAMERA:l.default.Names.SPEAKER;case s.ChannelTypes.GUILD_CATEGORY:default:return null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.channel;r&&r(e,a)},t.handleMouseDown=function(e){var n=t.props,r=n.onMouseDown,a=n.channel;r&&r(e,a)},t.handleMouseUp=function(e){var n=t.props,r=n.onMouseUp,a=n.channel;r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.channel;r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.getModeClassName=function(){var e=this.props,t=e.muted,n=e.selected,r=e.connected,a=e.unread,o=e.locked;return n?f.SELECTED:r?f.CONNECTED:o?f.LOCKED:t?f.MUTED:a?f.UNREAD:null},d.renderUnread=function(){var e=this.props,t=e.unread,n=e.muted,r=e.selected;return n||!t||r?null:c("div",{className:u.default.unread})},d.renderTypeIcon=function(){var e=this.props,t=h(e.channel,e.locked,e.video,e.stream);return null!=t?c(l.default,{name:t,className:u.default.icon}):null},d.renderName=function(){var e=this.props.channel.name;return c("div",{className:u.default.name},void 0,e)},d.renderIcons=function(){var e=this.props.children;return a.Children.count(e)>0?c("div",{onClick:p,className:u.default.children},void 0,e):null},d.render=function(){var e=this.props,t=e.onClick,n=e.onMouseDown,r=e.onMouseUp,a=e.onContextMenu,l=e.connectDragPreview,d=e.className,f=e.channel.type,p=c("div",{className:u.default.content},void 0,this.renderTypeIcon(),this.renderName(),this.renderIcons());return c(i.default,{className:(0,o.default)(d,u.default.wrapper,this.getModeClassName(),function(e){switch(e){case s.ChannelTypes.GUILD_VOICE:return u.default.typeVoice;case s.ChannelTypes.GUILD_NEWS:case s.ChannelTypes.GUILD_TEXT:case s.ChannelTypes.GUILD_STORE:default:return u.default.typeDefault}}(f)),onClick:t&&this.handleClick,onMouseUp:r&&this.handleMouseUp,onMouseDown:n&&this.handleMouseDown,onContextMenu:a&&this.handleContextMenu},void 0,this.renderUnread(),l?l(p):p)},r}(a.Component);v.displayName="ChannelItem";var m=v;t.default=m},6024:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(301)),l=s(n(5455));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className;return u("div",{className:(0,o.default)(l.default.error,n)},void 0,u(i.default,{name:i.default.Names.WARNING_BOX,className:l.default.icon}),u("div",{className:l.default.text},void 0,t))},r}(a.PureComponent);d.displayName="FormErrorBlock";var c=d;t.default=c,e.exports=t.default},6025:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Divider=t.Icon=t.Title=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(17)),o=c(n(219)),i=c(n(301)),l=c(n(437)),s=c(n(6033)),u=c(n(886)),d=c(n(5461));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.className,n=e.children,r=e.onContextMenu,o=e.onClick,i=e.muted,l=void 0!==i&&i;return f(s.default,{className:(0,a.default)(t,d.default.title),size:s.default.Sizes.SIZE_16,muted:l,onContextMenu:r,onClick:o},void 0,n)};t.Title=p,p.displayName="Title";var h=function(e){var t,n=e.className,r=e.iconClassName,s=e.selected,c=void 0!==s&&s,p=e.disabled,h=void 0!==p&&p,v=e.showBadge,m=void 0!==v&&v,y=e.foreground,_=e.background,g=e.name,E=e.onClick,S=e.onContextMenu,T=e.onMouseEnter,O=e.onMouseLeave,I=e.tooltip,C=e.hideOnClick,N=void 0===C||C,A=f(i.default,{x:0,y:0,width:24,height:24,name:g,className:(0,a.default)(r,d.default.icon),foreground:y,background:_});return A=f(o.default,{tag:"div",onClick:h?null:E,onContextMenu:h?null:S,onMouseEnter:T,onMouseLeave:O,className:(0,a.default)(n,(t={},t[d.default.iconWrapper]=!0,t[d.default.clickable]=!h&&null!=E,t[d.default.selected]=c,t))},void 0,m?f(u.default,{mask:u.default.Masks.HEADER_BAR_BADGE},void 0,A):A,m?f("span",{className:d.default.iconBadge}):null),null!=I?f(l.default,{text:I,position:l.default.Positions.BOTTOM,hideOnClick:N},void 0,A):A};t.Icon=h,h.Names=i.default.Names;var v=function(e){var t=e.className;return f("div",{className:(0,a.default)(d.default.divider,t)})};t.Divider=v,v.displayName="Divider";var m=function(e){var t,n=e.className,r=e.children,o=e.toolbar,i=e.transparent,l=void 0!==i&&i;return f("div",{className:(0,a.default)(n,(t={},t[d.default.container]=!0,t[d.default.transparent]=l,t))},void 0,f("div",{className:d.default.children},void 0,r),null!=o?f("div",{className:d.default.toolbar},void 0,o):null)};m.displayName="HeaderBar",m.Icon=h,m.Title=p,m.Divider=v;var y=m;t.default=y},6027:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=J(n(2)),i=Q(n(17)),l=Q(n(3)),s=Q(n(311)),u=Q(n(77)),d=Q(n(6475)),c=Q(n(6466)),f=Q(n(20)),p=Q(n(6132)),h=Q(n(149)),v=Q(n(310)),m=Q(n(85)),y=Q(n(49)),_=Q(n(150)),g=Q(n(307)),E=Q(n(35)),S=Q(n(14)),T=Q(n(130)),O=Q(n(448)),I=Q(n(305)),C=Q(n(124)),N=Q(n(219)),A=n(6002),M=Q(n(148)),P=Q(n(301)),b=Q(n(220)),R=(Q(n(308)),Q(n(6004))),L=Q(n(5998)),D=Q(n(125)),w=Q(n(822)),U=Q(n(437)),k=n(823),G=Q(n(18)),F=Q(n(6030)),j=n(6010),x=J(n(227)),B=Q(n(6021)),H=Q(n(889)),V=Q(n(6035)),Y=n(0),W=Q(n(13)),K=Q(n(312)),z=Q(n(5357)),$=Q(n(5370)),q=Q(n(880)),X=Q(n(5396));function Q(e){return e&&e.__esModule?e:{default:e}}function J(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ne=x.default.getMaxAgeOptions,re=x.default.getMaxUsesOptions,ae=x.default.INVITE_OPTIONS_FOREVER,oe=x.default.INVITE_OPTIONS_1_DAY,ie=x.default.INVITE_OPTIONS_12_HOURS,le=x.default.INVITE_OPTIONS_6_HOURS,se=x.default.INVITE_OPTIONS_1_HOUR,ue=x.default.INVITE_OPTIONS_30_MINUTES,de=x.default.INVITE_OPTIONS_UNLIMITED,ce=25,fe={MINUTES:"minutes",HOURS:"hours",DAYS:"days",NEVER:"never"},pe=((r={})[ue.value]={value:30,type:fe.MINUTES},r[se.value]={value:1,type:fe.HOURS},r[le.value]={value:6,type:fe.HOURS},r[ie.value]={value:12,type:fe.HOURS},r[oe.value]={value:1,type:fe.DAYS},r[ae.value]={value:0,type:fe.NEVER},r),he=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={sending:!1,invited:!1,hovered:!1},n}te(t,e);var n=t.prototype;return n.handleInvite=function(){var e=this,t=this.props,n=t.user,r=t.channel,a=t.code;this.setState({sending:!0}),d.default.enqueue({code:a,user:n,channel:r},function(t){t?e.setState({sending:!1,invited:!0}):e.setState({sending:!1,invited:!1})})},n.render=function(){var e,t=this,n=this.props,r=n.user,a=n.channel;return e=this.state.invited?ee(C.default,{look:C.default.Looks.LINK,size:C.default.Sizes.SMALL,disabled:!0,color:C.default.Colors.GREY},void 0,W.default.Messages.INVITE_FRIEND_MODAL_SENT):ee(C.default,{color:C.default.Colors.GREEN,look:this.state.hovered?C.default.Looks.FILLED:C.default.Looks.OUTLINED,className:X.default.inviteRowButton,size:C.default.Sizes.SMALL,submitting:this.state.sending,onClick:function(){return t.handleInvite()}},void 0,W.default.Messages.INVITE_FRIEND_MODAL_INVITE),ee("div",{className:X.default.inviteRow,onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})}},void 0,ee("div",{className:X.default.inviteRowInfo},void 0,ee(B.default,{channel:a,user:r,size:"small",className:X.default.inviteRowAvatar}),ee("div",{className:X.default.inviteRowName},void 0,null!=r?r.toString():null,null!=a?a.toString():null)),e)},t}(o.Component);he.displayName="InviteRow";var ve=function(e){function t(t){var n;(n=e.call(this,t)||this).handleGenerateNewLink=function(){var e=n.props,t=e.channel,r=e.source,a=null!=t?t.id:y.default.getChannelId();null!=a&&s.default.createInvite(a,{max_age:n.state.maxAge,max_uses:n.state.maxUses,temporary:n.state.temporary},r),n.state.maxAge===ae.value||n.state.savedMaxAge===ae.value?n.setState({settingsOpen:!1}):n.setState({settingsOpen:!1,savedMaxAge:ae.value})},n.handleCopy=function(e){var t=n.props,r=t.channel,a=t.source,o=t.code;(0,j.copy)(e),n.setState({copied:!0}),setTimeout(function(){n.setState({copied:!1})},1e3);var i,l=null!=r?r.id:y.default.getChannelId();if(null!=r)i=r.type;else{var s=f.default.getChannel(l);null!=s&&(i=s.type)}G.default.track(Y.AnalyticEvents.COPY_INSTANT_INVITE,{server:_.default.getGuildId(),channel:l,channel_type:i,location:a,code:o})},n.openSettings=function(){n.setState({settingsOpen:!0})},n.maxAgeString=function(){var e=n.state,t=e.maxAge,r=e.maxUses,a=parseInt(r,10),o=0===a,i=pe[t].value;switch(pe[t].type){case fe.MINUTES:return o?W.default.Messages.INVITE_EXPIRES_MINUTES:W.default.Messages.INVITE_EXPIRES_MINUTES_OR_USES.format({numUses:a});case fe.HOURS:return o?W.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:i}):W.default.Messages.INVITE_EXPIRES_HOURS_OR_USES.format({numHours:i,numUses:a});case fe.DAYS:return o?W.default.Messages.INVITE_EXPIRES_DAYS:W.default.Messages.INVITE_EXPIRES_DAYS_OR_USES.format({numUses:a});case fe.NEVER:return o?W.default.Messages.INVITE_EXPIRES_NEVER:W.default.Messages.INVITE_EXPIRES_USES.format({numUses:a});default:return""}},n.handleSelectMaxAge=function(e){n.setState({maxAge:parseInt(e.value,10),savedMaxAge:n.state.maxAge})},n.handleSelectMaxUses=function(e){n.setState({maxUses:parseInt(e.value,10)})},n.handleToggleTemporary=function(e){n.setState({temporary:e.currentTarget.checked})},n.handleQueryChange=function(e){null!=n._scroller&&n._scroller.scrollTo(0);var t=function(e){return!n.props.omitUserIds.has(e.id)};n.setState({query:e,friends:F.default.queryFriends(e,500,!1,t).map(function(e){return e.user}),dms:F.default.queryDMUsers(e,50,!1,t).map(function(e){return e.user}),groupDms:F.default.queryGroupDMs(e,50,!1).map(function(e){return e.channel})})},n.handleToggleMaxAge=function(){n.setState({maxAge:n.state.savedMaxAge,savedMaxAge:n.state.maxAge,generateNewLink:!0})},n.handleDone=function(){n.state.settingsOpen?n.setState({settingsOpen:!1}):u.default.pop()};var r=t.maxAge,a=t.maxUses,o=t.temporary,i=t.totalSuggestions,l=t.omitUserIds;return n.state={query:"",friends:m.default.getFriendIDs().reduce(function(e,t){var n=S.default.getUser(t);return null==n||l.has(n.id)||e.push(n),e},[]),dms:[],groupDms:[],copied:!1,focused:!1,settingsOpen:!1,maxAge:null!=r?r:oe.value,savedMaxAge:r===ae.value?oe.value:ae.value,maxUses:a||de.value,temporary:o||!1,showFriends:i>=ce,generateNewLink:!1},n}te(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.channel,n=e.code,r=e.source,a=e.totalSuggestions,o=e.canCreateInvites,i=e.streamUserId,l=this.state,u=l.maxAge,d=l.maxUses,c=l.temporary,p=l.showFriends;if(o){var h=null!=t?t.id:y.default.getChannelId();if(null==h)return;s.default.createInvite(h,{validate:n||null,max_age:u,max_uses:d,target_user_id:i,target_user_type:null!=i?Y.InviteTargetUserTypes.STREAM:null,temporary:c},r)}var v=this.props.guild;if(p){var m=this.state.friends.length,_=this.props.privateChannelIds,g=f.default.getChannels(),E=_.reduce(function(e,t){return g[t].type===Y.ChannelTypes.DM?e.numDms+=1:e.numGroupDms+=1,e},{numDms:0,numGroupDms:0}),S=E.numDms,T=E.numGroupDms;G.default.track(Y.AnalyticEvents.INVITE_SUGGESTION_OPENED,{location:r,num_suggestions:a,num_friends:m,num_dms:S,num_group_dms:T,guild_id:v.id})}G.default.track(Y.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite Modal",Source:r})},n.componentDidUpdate=function(){this.state.generateNewLink&&(this.handleGenerateNewLink(),this.setState({generateNewLink:!1}))},n.renderCopyInput=function(){var e,t=this,n=this.props,r=n.code,a=n.hide,l=n.vanityURLCode,s=n.canCreateInvites,u=this.state,d=u.copied,c=u.focused,f=u.showFriends,p=(0,x.getInviteURL)(r||l||"");return ee(o.Fragment,{},void 0,ee("div",{className:(0,i.default)(q.default.input,K.default.flexJustifyBetween,K.default.flexCenter,(e={},e[q.default.success]=d,e[q.default.focused]=c,e))},void 0,ee(w.default,{className:X.default.copyInput,name:"invite",value:a?W.default.Messages.INSTANT_INVITE_HIDDEN:p,editable:!1,inputClassName:X.default.noBorder,autoFocus:!f,onFocus:function(){return f?null:t.setState({focused:!0})},onBlur:function(){return f?null:t.setState({focused:!1})},spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),j.SUPPORTS_COPY?ee(C.default,{size:C.default.Sizes.SMALL,color:d?C.default.Colors.GREEN:C.default.Colors.BRAND,className:X.default.copyButton,onClick:function(){return t.handleCopy(p)}},void 0,d?W.default.Messages.INVITE_COPIED:W.default.Messages.COPY):null),s?ee(D.default,{className:(0,i.default)(z.default.marginTop8,X.default.footerText)},void 0,this.maxAgeString()," ",f?ee(I.default,{onClick:this.openSettings},void 0,W.default.Messages.INVITE_EDIT_LINK):null):null)},n.renderHeader=function(){var e=this,t=this.props,n=t.guild,r=t.streamUserId,a=this.state,o=a.showFriends,i=a.settingsOpen,l=a.query,s=null,u=null!=r?W.default.Messages.INVITE_STREAM_HEADER:W.default.Messages.GROUP_DM_INVITE_WITH_NAME.format({groupname:n.toString()});return s=i?ee(k.FormTitle,{tag:k.FormTitle.Tags.H2,className:z.default.marginReset},void 0,W.default.Messages.INVITE_SETTINGS_TITLE):o?ee("div",{className:X.default.header},void 0,ee(k.FormTitle,{tag:k.FormTitle.Tags.H2,className:z.default.marginBottom8},void 0,u),ee(V.default,{query:l,className:z.default.marginTop4,onQueryChange:this.handleQueryChange,placeholder:W.default.Messages.INVITE_SEARCH_FOR_FRIENDS,autoFocus:!0,onClear:function(){e.setState({query:""})}})):ee(k.FormTitle,{tag:k.FormTitle.Tags.H2,className:z.default.marginReset},void 0,u),ee(b.default.Header,{separator:o&&!i},void 0,ee(b.default.CloseButton,{className:X.default.closeButton,onClick:this.handleDone}),s)},n.renderSettingsBody=function(){var e=this.state,t=e.maxAge,n=e.maxUses,r=e.temporary,a=ne.find(function(e){return e.value===t}),o=re.find(function(e){return e.value===n});return ee(b.default.Content,{outerClassName:X.default.settingsContent,className:X.default.noScroll},void 0,ee("form",{onSubmit:this.handleGenerateNewLink},void 0,ee(k.FormItem,{title:W.default.Messages.EXPIRE_AFTER,className:z.default.marginTop20},void 0,ee(R.default,{value:a,clearable:!1,searchable:!1,options:ne,onChange:this.handleSelectMaxAge,className:X.default.select})),ee(k.FormItem,{title:W.default.Messages.MAX_NUMBER_OF_USES,className:(0,i.default)(z.default.marginTop20,z.default.marginBottom4)},void 0,ee(R.default,{value:o,clearable:!1,searchable:!1,options:re,onChange:this.handleSelectMaxUses,className:X.default.select})),ee(k.FormItem,{className:z.default.marginTop20},void 0,ee(L.default,{value:r,clearable:!1,searchable:!1,options:re,onChange:this.handleToggleTemporary,note:W.default.Messages.TEMPORARY_MEMBERSHIP_EXPLANATION,hideBorder:!0},void 0,ee(D.default,{},void 0,W.default.Messages.GRANT_TEMPORARY_MEMBERSHIP)))))},n.renderFriendsBody=function(){var e,t=this,n=this.props,r=n.code,a=n.vanityURLCode,o=n.privateChannelIds,l=this.state,s=l.query,u=l.dms,d=l.groupDms,c=l.friends,p=r||a;if(0===c.length&&0===o.length&&0===u.length&&0===d.length?e=W.default.Messages.INVITE_FRIEND_MODAL_NO_RESULTS:null==p&&(e=W.default.Messages.INVITE_FRIEND_MODAL_LOADING),null!=e)return ee(b.default.Content,{className:z.default.marginBottom20},void 0,ee(A.EmptyStateText,{},void 0,e));var h=f.default.getChannels(),m=new Set,y=null,_=null;return""===s?(y=o.map(function(e){var t=h[e];if(null==t)return null;if(t.type===Y.ChannelTypes.DM){var n=t.getRecipientId();if(null!=n){var r=S.default.getUser(n);return null==r?null:(m.add(n),ee(he,{user:r,code:p},"dm-"+n))}return null}return ee(he,{channel:t,code:p},"group-dm-"+t.id)}),_=c.map(function(e){return m.has(e.id)?null:ee(he,{user:e,code:p},"user-"+e.id)})):y=[].concat(u.map(function(e){var t=f.default.getDMFromUserId(e.id);return null==t?null:null==v.default.lastMessageId(t)?null:(m.add(e.id),ee(he,{user:e,code:p},"dm-"+e.id))}),d.map(function(e){return ee(he,{channel:e,code:p},"group-dm-"+e.id)}),c.map(function(e){return m.has(e.id)?null:ee(he,{user:e,code:p},"user-"+e.id)})),ee(b.default.Content,{className:(0,i.default)(X.default.scroller),scrollerRef:function(e){t._scroller=e}},void 0,y,_)},n.renderBody=function(){var e=this.props.guild,t=this.state,n=t.settingsOpen,r=t.showFriends;if(n)return this.renderSettingsBody();if(r)return this.renderFriendsBody();var a=S.default.getCurrentUser(),o=e.isOwner(a);return ee(b.default.Content,{className:X.default.noScroll},void 0,ee(M.default,{direction:M.default.Direction.VERTICAL,className:z.default.marginBottom20},void 0,ee(D.default,{className:X.default.subText},void 0,o?W.default.Messages.INVITE_SHARE_LINK_OWN_SERVER:W.default.Messages.SHARE_INVITE_LINK_FOR_ACCESS),this.renderCopyInput()))},n.renderFooter=function(){var e,t=this.props,n=t.canCreateInvites,r=t.streamUserId,a=this.state,l=a.showFriends,s=a.settingsOpen,u=a.maxAge,d=E.default.theme,c=null;if(s)c=ee(o.Fragment,{},void 0,ee(C.default,{onClick:this.handleGenerateNewLink},void 0,W.default.Messages.GENERATE_A_NEW_LINK),ee(C.default,{look:C.default.Looks.LINK,color:d===Y.ThemeTypes.LIGHT?C.default.Colors.PRIMARY:C.default.Colors.WHITE,onClick:this.handleDone},void 0,W.default.Messages.CANCEL));else if(l){var f=null!=r?W.default.Messages.INVITE_STREAM_FOOTER_LINK_HEADER:W.default.Messages.INVITE_FOOTER_LINK_HEADER;c=ee(M.default,{direction:M.default.Direction.VERTICAL,className:X.default.content},void 0,ee(k.FormTitle,{tag:k.FormTitle.Tags.H5,className:z.default.marginBottom8},void 0,f),this.renderCopyInput())}else n&&(c=ee(M.default,{justify:M.default.Justify.BETWEEN,className:z.default.marginTop20},void 0,ee(H.default,{checked:u===ae.value,onChange:this.handleToggleMaxAge},void 0,ee(D.default,{className:X.default.checkBoxLabel},void 0,W.default.Messages.SET_INVITE_LINK_NEVER_EXPIRE)),ee(U.default,{text:W.default.Messages.LINK_SETTINGS},void 0,ee(N.default,{onClick:this.openSettings,className:$.default.cursorPointer},void 0,ee(P.default,{name:P.default.Names.GEAR,width:18,height:18,color:Y.Colors.PRIMARY_DARK_400})))));return null!=c?ee(b.default.Footer,{className:s?X.default.settingsFooter:(0,i.default)((e={},e[X.default.noPadding]=!l,e[X.default.footer]=l,e))},void 0,c):null},n.render=function(){return ee("div",{className:this.state.showFriends?X.default.wrapper:void 0},void 0,ee(b.default,{className:X.default.modal},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(o.PureComponent);ve.displayName="InstantInviteModal";var me=l.default.connectStores([p.default,g.default,m.default,O.default,f.default,h.default],function(e){var t=e.channel,n=e.guild,r=e.streamUserId,a=null!=t?t.id:y.default.getChannelId(),o=null!=a?p.default.getInvite(a):null,i=m.default.getFriendIDs().length,l=f.default.getChannels(),s=null!=t?t.guild_id:null,u=new Set;null!=r?u=new Set(T.default.getVoiceStatesForChannel(a).map(function(e){return e.userId})):null!=s&&(u=new Set(c.default.getProps(s,a).rows.map(function(e){return e.userId})));var d=O.default.getPrivateChannelIds().filter(function(e){var t=l[e];if(null==t)return!1;if(t.type===Y.ChannelTypes.GROUP_DM)return!0;var n=v.default.lastMessageId(t.id),r=t.getRecipientId();return null!=r&&null!=n&&!u.has(r)}),_=d.length,E=g.default.hideInstantInvites,S=i+_,I=null!=t?t:f.default.getChannel(a),C=null!=I&&h.default.can(Y.Permissions.CREATE_INSTANT_INVITE,I),N={hide:E,totalSuggestions:S,privateChannelIds:d,vanityURLCode:C?null:n.vanityURLCode,canCreateInvites:C,omitUserIds:u};return null==o?N:Z({},N,{code:o.code,maxAge:o.maxAge,maxUses:o.maxUses,temporary:o.temporary})})(ve);t.default=me,e.exports=t.default},6028:function(e,t,n){"use strict";t.__esModule=!0,t.transitionToChannel=function(e,t){if(i.default.hasModalOpen())return;o.default.closeAll(),a.default.channelListScrollTo(e,t),r.default.selectChannel(e,t)},t.transitionToPage=function(e){if(i.default.hasModalOpen())return;o.default.closeAll(),l.default.replaceWith(e)};var r=s(n(6007)),a=s(n(6013)),o=s(n(825)),i=s(n(838)),l=s(n(44));function s(e){return e&&e.__esModule?e:{default:e}}},6029:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(6025)),i=n(846),l=f(n(6604)),s=f(n(6615)),u=f(n(6616)),d=f(n(6622)),c=f(n(5375));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=p(d.default,{}),v=p(u.default,{}),m=p(s.default,{}),y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.renderSearch=function(){var e=this.props,t=e.guildId,n=e.channelId;return null!=n?p(l.default,{className:c.default.search},t||n):null},s.renderToolbar=function(){var e=this.props,t=e.isGuest,n=e.renderToolbar,r=null!=n?n():null;return i.isMobile?null:p(a.Fragment,{},void 0,r,this.renderSearch(),h,t?null:v,m)},s.renderOverlayToolbar=function(){var e=this.props.renderToolbar;return null!=e?e():null},s.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return p(o.default,{className:n},void 0,t)},s.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.className,r=e.transparent;return p(o.default,{className:n,toolbar:__OVERLAY__?this.renderOverlayToolbar():this.renderToolbar(),transparent:r},void 0,t)},s.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},r}(a.Component);y.displayName="HeaderBarContainer",y.Title=o.default.Title,y.Icon=o.default.Icon,y.Divider=o.default.Divider,y.defaultProps={isAuthenticated:!0,transparent:!1};var _=y;t.default=_,e.exports=t.default},6030:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=I(n(6034)),a=I(n(6)),o=n(6162),i=n(126),l=I(n(20)),s=I(n(231)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(108)),d=I(n(71)),c=I(n(28)),f=I(n(225)),p=I(n(129)),h=I(n(85)),v=I(n(49)),m=I(n(150)),y=I(n(14)),_=I(n(176)),g=I(n(448)),E=I(n(6073)),S=I(n(87)),T=I(n(184)),O=n(0);function I(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N,A=10,M=5,P=1,b=50,R=function(){return!0},L=/(\t|\s)/,D=(N=n(6476)).MENTION_EVERYONE,w=N.MENTION_HERE,U=N.LAUNCHABLE_APPLICATIONS;function k(e,t,n,a,o){return void 0===o&&(o=!0),t.test(e)?A:n.test(e)?M:o&&(0,r.default)(a,e)?P:0}function G(e,t,n,a){for(var i=y.default.getUsers(),l=m.default.getGuildId(),s=(e=e.toLocaleLowerCase()).length,u=[],c=[],f=t.length,p=0,h=0;p<f;){var v=t[p],_=void 0,g=void 0;if(v.userId?(_=v.nick,g=i[v.userId]):(g=v,_=d.default.getNick(l,g.id)),!a||a(g)){var E=g.usernameLowerCase,S=null!=_?_.toLocaleLowerCase():null;E.substr(0,s)===e||_&&S.substr(0,s)===e?u.push({comparator:S||E,score:A,nick:_,user:g}):h<b&&((0,r.default)(e,E)||_&&(0,r.default)(e,S))&&(c.push({comparator:S||E,score:P,nick:_,user:g}),h+=1)}p+=1}return u.sort(o.sortByMatchScore),u.length<n&&(c.sort(o.sortByMatchScore),u=u.concat(c.slice(0,Math.max(0,n-u.length)))),u.length>n&&(u.length=n),u}function F(e,t){var n=l.default.getChannel(e);return(0,a.default)(f.default.getMessages(e).toArray()).reverse().map(function(e){return e.author}).reject(function(e){return e.isNonUserBot()}).uniqBy(function(e){return e.id}).map(function(e){var t=d.default.getMember(n.getGuildId(),e.id)||{};return{nick:t.nick||null,score:0,comparator:t.nick||e.username,user:e}}).take(t).value()}var j={queryFriends:function(e,t,n,r){return void 0===t&&(t=10),void 0===n&&(n=!0),G(e,h.default.getFriendIDs().map(function(e){return y.default.getUser(e)}),t,r)},queryDMUsers:function(e,t,n,r){return void 0===t&&(t=10),void 0===n&&(n=!0),G(e,l.default.getDMUserIds().map(function(e){return y.default.getUser(e)}),t,r)},queryChannelUsers:function(e,t,n,r){void 0===n&&(n=10),void 0===r&&(r=!0);var a,o=l.default.getChannel(e);if(null==o)return[];if(o.isPrivate()){a=o.recipients.map(function(e){return{userId:e,nick:o.nicks[e]}});var i=y.default.getCurrentUser();a.push({userId:i.id,nick:o.nicks[i.id]})}else if(0===t.length){var s=F(o.id,n);if(null!=s&&s.length>0)return s;a=d.default.getMembers(o.guild_id)}else a=d.default.getMembers(o.guild_id),r&&E.default.requestMembers(o.guild_id,t,n);return G(t,a,n,function(e){return o.isPrivate()||S.default.can(O.Permissions.VIEW_CHANNEL,e,o)})},queryGuildUsers:function(e,t,n,r,a){if(void 0===n&&(n=10),void 0===r&&(r=!0),null==c.default.getGuild(e))return[];if(0===t.length)return F(v.default.getChannelId(e),n);var o=d.default.getMembers(e);return r&&t.length>0&&E.default.requestMembers(e,t,n),G(t,o,n,a)},queryUsers:function(e,t,n,r,o){return void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=!0),r&&e.length>0&&E.default.requestMembers(null,e,t),G(e,(0,a.default)(y.default.getUsers()).values().value(),t,o)},queryChannels:function(e,t,n,r,s,d){void 0===n&&(n=10),void 0===r&&(r=!0),void 0===s&&(s=R),void 0===d&&(d=u.GUILD_SELECTABLE_CHANNELS_KEY),e=e.toLocaleLowerCase();var f=new RegExp("^"+T.default.escape(e),"i"),p=new RegExp(T.default.escape(e),"i"),h=y.default.getCurrentUser();return(t?(0,a.default)(u.default.getChannels(t)[d]).map(function(e){return e.channel}):(0,a.default)(l.default.getChannels()).values()).map(function(n){if(d!==n.type&&(d!==u.GUILD_SELECTABLE_CHANNELS_KEY||!(0,i.isGuildSelectableChannelType)(n.type))||(0,i.isGuildSelectableChannelType)(n.type)&&!S.default.can(O.Permissions.VIEW_CHANNEL,h,n)||d===O.ChannelTypes.GUILD_VOICE&&!S.default.can(O.Permissions.VIEW_CHANNEL|O.Permissions.CONNECT,h,n)||!s(n))return null;var a=c.default.getGuild(n.guild_id),o=l.default.getChannel(n.parent_id),v=k((t?n.toString()+" "+(null!=o?o.toString():""):n.toString()+" "+(null!=o?o.toString():"")+" "+a.toString()).toLocaleLowerCase(),f,p,e,r);return v>0?{channel:n,score:v,comparator:n.toString()}:null}).filter(Boolean).sortBy(function(e){return e.channel.name}).sort(o.sortByMatchScore).take(n).value()},queryGuilds:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=R),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),l=new RegExp(T.default.escape(e),"i");return(0,a.default)(c.default.getGuilds()).values().map(function(t){if(r(t)){var a=k(t.name.toLocaleLowerCase(),i,l,e,n);if(a>0)return{guild:t,score:a,comparator:t.toString()}}return null}).filter(Boolean).sortBy(function(e){return e.guild.name}).sort(o.sortByMatchScore).take(t).value()},queryGroupDMs:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=R),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),s=new RegExp(T.default.escape(e),"i"),u=g.default.getPrivateChannelIds(),d=l.default.getChannels();return(0,a.default)(u).map(function(e){return d[e]}).map(function(t){if(t.type!==O.ChannelTypes.GROUP_DM||!r(t))return null;var a=k(t.toString().toLocaleLowerCase(),i,s,e,n);return a>0?{channel:t,score:a,comparator:t.toString()}:null}).filter(Boolean).sort(o.sortByMatchScore).value()},queryApplications:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=R),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),l=new RegExp(T.default.escape(e),"i"),s=U();return(0,a.default)(s).map(function(t){var a=t.application;if(r(a)){var o=a.name.toLocaleLowerCase(),s=k(o,i,l,e,n);if(s>0)return{application:a,score:s,comparator:o}}return null}).filter(Boolean).sort(o.sortByMatchScore).take(t).value()},querySKUs:function(e,t,n,r){void 0===t&&(t=10),void 0===n&&(n=!0),void 0===r&&(r=R),e=e.toLocaleLowerCase();var i=new RegExp("^"+T.default.escape(e),"i"),l=new RegExp(T.default.escape(e),"i"),s=_.default.getSKUs();return(0,a.default)(s).values().map(function(t){if(t.type===O.SKUTypes.GAME&&r(t)){var a=t.name.toLocaleLowerCase(),o=k(a,i,l,e,n);if(o>0)return{sku:t,score:o,comparator:a}}return null}).filter(Boolean).sort(o.sortByMatchScore).take(t).value()},getRecentlyTalked:F,queryMentionResults:function(e,t,n){var o=this.queryChannelUsers(t.id,e).map(function(e){return C({},e,{status:p.default.getStatus(e.user.id)})}),i=o.length,l=[];if(i<O.MAX_AUTOCOMPLETE_RESULTS){var s=c.default.getGuild(t.getGuildId());null!=s&&((0,a.default)(s.roles).filter(function(t){var n=t.mentionable,a=t.name;return n&&(0,r.default)(e,a.toLowerCase())}).take(O.MAX_AUTOCOMPLETE_RESULTS-i).forEach(function(e){return l.push(e)}),i+=l.length)}var u=[];return t.isDM()||t.isGroupDM()||!n||(i<O.MAX_AUTOCOMPLETE_RESULTS&&(0,r.default)(e,D().test)&&(u.push(D()),i+=1),i<O.MAX_AUTOCOMPLETE_RESULTS&&(0,r.default)(e,w().test)&&u.push(w())),{users:o,globals:u,roles:l}},queryChannelResults:function(e,t){return{channels:this.queryChannels(e,t.getGuildId()).map(function(e){return e.channel})}},queryEmojiResults:function(e,t){return{emojis:s.default.search(t,e,O.MAX_AUTOCOMPLETE_RESULTS)}},matchSentinel:function(e,t,n){return!L.test(t)&&e===n}};t.default=j,e.exports=t.default},6031:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=y(n(6)),a=y(n(3)),o=y(n(21)),i=y(n(1)),l=y(n(6591)),s=n(6592),u=y(n(6593)),d=n(6041),c=y(n(20)),f=y(n(28)),p=y(n(85)),h=y(n(49)),v=y(n(150)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var _=.05,g={},E=!1;function S(e){return null==g[e]&&(g[e]={searchId:e,searchType:T(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:null,query:null,hasError:!1,searchFetcher:null,searchResults:null,totalResults:null,documentsIndexed:null,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),g[e]}function T(e){return f.default.getGuild(e)?m.SearchTypes.GUILD:c.default.getChannel(e)?m.SearchTypes.CHANNEL:null}function O(e,t,n){if(void 0===n&&(n=null),null==e)return n;var r=g[e];return null==r?n:t(r)}var I="SearchStore",C=!1,N={},A=null;function M(e){var t=e.searchId,n=g[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete g[t]}function P(){var e=v.default.getGuildId(),t=h.default.getChannelId(e),n=e||t;if(n===A)return!1;n&&!g[n]&&S(n),A=n}function b(){(0,d.refreshSearchTokens)()}var R=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(h.default,v.default,f.default,c.default);var e,t=o.default.get(I);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),N=e),C=!!o.default.get("tokenized")||!1},a.isOpen=function(){return E},a.getCurrentSearchId=function(){return A},a.isActive=function(e){return void 0===e&&(e=A),null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},a.isTokenized=function(){return C},a.getSearchType=function(e){return O(e||A,function(e){return e.searchType})},a.getResults=function(e){return O(e,function(e){return e.searchResults})},a.hasResults=function(e){return null!=O(e,function(e){return e.searchResults})},a.isIndexing=function(e){return O(e,function(e){return e.isIndexing})||!1},a.isHistoricalIndexing=function(e){return O(e,function(e){return e.isHistoricalIndexing})||!1},a.isSearching=function(e){return O(e,function(e){return e.isSearching})||!1},a.getAnalyticsId=function(e){return O(e,function(e){return e.analyticsId})},a.getResultsBlocked=function(e){return O(e,function(e){return e.resultsBlocked})},a.getDocumentsIndexedCount=function(e){return O(e,function(e){return e.documentsIndexed})},a.getSearchFetcher=function(e){return O(e,function(e){return e.searchFetcher})},a.getTotalResults=function(e){return O(e,function(e){return e.totalResults})||0},a.getEditorState=function(e){return O(e,function(e){return e.editorState})},a.getHistory=function(e){return N[e]},a.getOffset=function(e){return O(e,function(e){return e.offset})||0},a.getQuery=function(e){return O(e,function(e){return e.query})},a.hasError=function(e){return O(e,function(e){return e.hasError})||!1},a.shouldShowBlockedResults=function(e){return O(e,function(e){return e.showBlockedResults},!1)||!1},a.shouldShowNoResultsAlt=function(e){return O(e,function(e){return e.showNoResultsAlt},!1)||!1},a.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},r}(a.default.Store))(i.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,a=e.query,s=S(n);s.searchFetcher&&(s.searchFetcher.cancel(),s.searchFetcher=null);var u=new l.default(n,s.searchType,a);s.searchFetcher=u,s.isSearching=!0,s.searchResults=null,s.analyticsId=null,s.query=r.default.omit(a,"type"),s.offset=a.offset?a.offset:0,s.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=N[e]=N[e]||[];t=t.trim();var r=n.indexOf(t);-1!==r?(n.splice(r,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:r<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),o.default.set(I,{history:N})}}(n,t),u.fetch(function(e){i.default.dispatch({type:m.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){i.default.dispatch({type:m.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){i.default.dispatch({type:m.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=S(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=S(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=e.documentsIndexed,t.showNoResultsAlt=Math.random()<_;var n=t.query;if(n){var a=(0,s.createASTHighlighter)(n.content||""),o=0;t.searchResults=(0,r.default)(e.messages).map(function(e){return e.map(function(e){return u.default.create(e,a)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&o++,!t||e.hit})}).value(),t.resultsBlocked=o}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:M,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&S(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;S(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;S(t).showBlockedResults=n},CHANNEL_SELECT:function(e){return P()},GUILD_SELECT:function(e){return P()},CHANNEL_TOGGLE_SECTION:function(e){return null!=A&&M({searchId:A})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(o.default.remove(I),N={}):(delete N[t],o.default.set(I,{history:N}))},LOGOUT:function(e){return o.default.remove(I),void(N={})},CONNECTION_OPEN:function(e){Object.keys(g).forEach(function(e){null!=g[e]&&(g[e].searchType=T(e))})},SEARCH_MODAL_OPEN:function(e){E=!0},SEARCH_MODAL_CLOSE:function(e){E=!1},USER_SETTINGS_UPDATE:function(e){return b()},I18N_LOAD_SUCCESS:function(e){return b()}});t.default=R,e.exports=t.default},6032:function(e,t,n){"use strict";t.__esModule=!0,t.getCrumbLabels=function(e,t){var n;void 0===t&&(t={});return o((n={},n[i.PAYMENT_TYPE]=function(){return r.default.Messages.BILLING_STEP_PAYMENT_TYPE},n[i.PAYMENT_REQUEST_INFO]=function(){return r.default.Messages.BILLING_STEP_PAYMENT_INFO},n[i.PAYPAL]=function(){return r.default.Messages.BILLING_STEP_PAYPAL},n[i.PAYPAL_ADDRESS]=function(){return r.default.Messages.BILLING_STEP_ADDRESS},n[i.CREDIT_CARD_INFORMATION]=function(){return r.default.Messages.BILLING_STEP_CREDIT_CARD_INFORMATION},n[i.ADDRESS]=function(){return r.default.Messages.BILLING_STEP_ADDRESS},n[i.REVIEW]=function(){return r.default.Messages.BILLING_STEP_REVIEW},n[i.SELECT_PLAN]=function(){return r.default.Messages.BILLING_STEP_SELECT_PLAN},n[i.CONFIRM]=function(){return""},n),t)[e]()},t.errorToStep=function(e){if(null!=e){if(e.hasCardError())return i.CREDIT_CARD_INFORMATION;if(e.hasAddressError())return i.ADDRESS}return null},t.getStepIndex=function(e,t){return t.findIndex(function(t){return t===e})},t.canGoBack=function(e,t){return e>0||Object.keys(t).length>0},t.Steps=void 0;n(441),a(n(834));var r=a(n(13));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=Object.freeze({SELECT_PLAN:"select_plan",PAYMENT_TYPE:"payment_type",PAYPAL:"paypal",PAYPAL_ADDRESS:"paypal_address",PAYMENT_REQUEST_INFO:"payment_request_info",CREDIT_CARD_INFORMATION:"credit_card_information",ADDRESS:"address",REVIEW:"review",CONFIRM:"confirm"});t.Steps=i},6035:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SearchBarIcon=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=h(n(153)),l=h(n(305)),s=h(n(219)),u=h(n(301)),d=n(106),c=n(0),f=h(n(13)),p=h(n(5395));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=Object.freeze({SMALL:p.default.small,MEDIUM:p.default.medium,LARGE:p.default.large}),y=(0,i.default)({INHERITED:null,DARK:null,LIGHT:null}),_=function(e){var t,n,r,a=e.hasContent,i=e.onClear,l=e.className,d=e.themeMode,c=void 0===d?y.INHERITED:d,f=e.size,h=void 0===f?m.SMALL:f;return v(s.default,{className:(0,o.default)(l,p.default.iconLayout,h,(t={},t[p.default.darkTheme]=c===y.DARK,t[p.default.lightTheme]=c===y.LIGHT,t[p.default.clear]=a,t)),onClick:function(e){e.stopPropagation(),null!=i&&i(e)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},void 0,v("div",{className:p.default.iconContainer},void 0,v(u.default,{name:u.default.Names.SEARCH,className:(0,o.default)((n={},n[p.default.icon]=!0,n[p.default.visible]=!a,n))}),v(u.default,{name:u.default.Names.CLOSE,className:(0,o.default)((r={},r[p.default.icon]=!0,r[p.default.visible]=a,r))})))};t.SearchBarIcon=_,_.displayName="SearchBarIcon";var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.handleKeyDown=function(e){var n=t.props,r=n.onActivate,a=n.onQueryChange,o=t.ref.current;if(null!=o&&null==r)return e.keyCode===c.KeyboardKeys.ESCAPE&&o.value&&o.value.length>0?(o.value="",void(null!=a&&a(""))):void(t.props.gridResults?t.handleKeyDownGrid(e):t.handleKeyDownList(e));e.keyCode!==c.KeyboardKeys.TAB&&null!=r&&r(e)},t.handleChange=function(e){var n=t.props.onQueryChange;null!=n&&n(e.currentTarget.value)},t.handleFocus=function(e){var n=t.props.onFocus;null!=n&&n(e)},t.handleClear=function(){var e=t.props.onClear,n=t.ref.current;null!=e&&e(),null!=n&&n.focus()},t.handleRemoveTag=function(e){var n=t.props.onRemoveTag;n&&n(e)},t.focus=function(){var e=t.ref.current;null!=e&&e.focus()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props.subscribeToFocusEvent;e&&d.ComponentDispatch.subscribe(e,this.focus)},i.componentWillUnmount=function(){var e=this.props.subscribeToFocusEvent;e&&d.ComponentDispatch.unsubscribe(e,this.focus)},i.handleKeyDownGrid=function(e){var t=this.props,n=t.selectedRow,r=t.selectedColumn,a=t.sections,o=t.query,i=t.tags,l=t.onSelectionChange,s=t.onSelect,u=t.onRemoveTag;if(0!==a.length){switch(e.keyCode){case c.KeyboardKeys.BACKSPACE:(null==o||0===o.length)&&null!=i&&i.length>0&&(e.preventDefault(),e.stopPropagation(),u&&u(i.length-1));break;case c.KeyboardKeys.TAB:if(c.EnableAccessibility)break;case c.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),-1===n?(n=0,r=0):((n+=1)>=a.length&&(n=a.length-1),r>=a[n]&&(r=a[n]-1));break;case c.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),(n-=1)<0?(n=0,r=0):r>=a[n]&&(r=a[n]-1);break;case c.KeyboardKeys.ARROW_LEFT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r-=1)<0&&((n-=1)>=0?r=a[n]-1:n<0&&(n=0,r=0));break;case c.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(r+=1)>=a[n]&&(r=0,(n+=1)>=a.length&&(r=a[n=a.length-1]-1));break;case c.KeyboardKeys.ENTER:if(e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),-1===r&&(r=0),n>=a.length||r>=a[n])return;return void(null!=s&&s(n,r,e));case c.KeyboardKeys.ESCAPE:return e.preventDefault(),e.stopPropagation(),void(null!=s&&s(null,null,e));default:return}null!=l&&l(n,r)}},i.handleKeyDownList=function(e){var t=this.props,n=t.sections,r=t.selectedSection,a=t.selectedRow,o=t.onSelect,i=t.onSelectionChange,l=t.query,s=t.tags,u=t.onKeyDown,d=this.ref.current;if(null!=u&&u(e),null!=d)switch(e.keyCode){case c.KeyboardKeys.BACKSPACE:(null==l||0===l.length)&&null!=s&&s.length>0&&(e.preventDefault(),e.stopPropagation(),this.props.onRemoveTag&&this.props.onRemoveTag(s.length-1));break;case c.KeyboardKeys.TAB:if(c.EnableAccessibility)break;case c.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),n.length>r&&++a>=n[r]&&(++r>=n.length&&(r=0),a=0),i&&i(r,a);break;case c.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),--a<0&&(--r<0&&(r=n.length-1),a=n[r]-1),i&&i(r,a);break;case c.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation(),n.length>r&&n[r]>a&&o&&o(r,a,e);break;case c.KeyboardKeys.ESCAPE:e.preventDefault(),e.stopPropagation(),o&&o(null,null,e),d.blur()}},i.render=function(){var e,t=this,n=this.props,r=n.autoFocus,i=n.query,s=n.placeholder,d=n.themeMode,c=n.disabled,f=n.onClear,h=n.size,m=n.tags,g=n.onActivate,E=n.className,S=null!=i&&i.length>0,T=[];return null!=m&&m.forEach(function(e,n){return T.push(v(l.default,{className:p.default.tag,onClick:t.handleRemoveTag.bind(t,n)},n,e,v(u.default,{name:u.default.Names.CLOSE,className:p.default.close})))}),v("div",{className:(0,o.default)(E,p.default.container,h,(e={},e[p.default.darkTheme]=d===y.DARK,e[p.default.lightTheme]=d===y.LIGHT,e[p.default.disabled]=c,e))},void 0,v("div",{className:p.default.inner},void 0,T,a.createElement("input",{className:p.default.input,type:"text",ref:this.ref,spellCheck:"false",placeholder:s,value:i,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,disabled:c,autoFocus:r,onMouseDown:g}),f?v(_,{size:h,themeMode:d,hasContent:S,onClear:this.handleClear}):null))},r}(a.Component);g.displayName="SearchBar",g.Sizes=m,g.ThemeModes=y,g.defaultProps={themeMode:y.INHERITED,size:m.SMALL,query:"",sections:[],selectedSection:0,selectedRow:-1,selectedColumn:-1,gridResults:!1,placeholder:f.default.Messages.DM_SEARCH_PLACEHOLDER,disabled:!1,autoFocus:!1};var E=g;t.default=E},6036:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Item=t.Separator=t.Header=t.Types=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=n(229),l=d(n(219)),s=n(0),u=d(n(5398));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p={SIDE:u.default.side,TOP:u.default.top,TOP_PILL:u.default.topPill};t.Types=p;var h=function(e){var t=e.className,n=e.onClick,r=e.children;return f(l.default,{className:(0,o.default)(u.default.header,t),onClick:n},void 0,r)};t.Header=h,h.displayName="Header";var v=function(e){var t=e.style;return f("div",{className:u.default.separator,style:t})};t.Separator=v,v.displayName="Separator";var m={DEFAULT:"Default",HOVER:"Hover",SELECTED:"Selected"};function y(e,t){if(null==e)return null;var n={};return t===m.SELECTED?(n.backgroundColor=e,n.color=s.Colors.WHITE,n):(t===m.HOVER&&(n.backgroundColor=(0,i.hex2rgb)(e,.1)),n.color=e,n)}var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hover:!1,active:!1},t.handleMouseDown=function(e){var n=t.props.color;t.handleClick(e),null!=n&&t.setState({active:!0})},t.handleMouseUp=function(){t.setState({active:!1})},t.handleMouseOver=function(){t.setState({hover:!0})},t.handleMouseOut=function(){t.setState({hover:!1,active:!1})},t}c(t,e);var n=t.prototype;return n.handleClick=function(e){var t=this.props,n=t.onClick,r=t.id,a=t.onItemSelect;null!=n?n(e):null!=a&&a(r)},n.getStyle=function(){var e=this.props,t=e.color,n=e.id,r=e.selectedItem,a=e.itemType,o=this.state,l=o.hover,s=o.active;return null==t?null:a===p.SIDE?null!=n&&r===n||s?y(t,m.SELECTED):l?y(t,m.HOVER):y(t):a===p.TOP?r===n?{borderColor:t,color:t}:l?{borderColor:(0,i.hex2rgb)(t,.1),color:(0,i.hex2rgb)(t,.6)}:{borderColor:"transparent",color:(0,i.hex2rgb)(t,.4)}:null},n.render=function(){var e,t=this.props,n=t.children,r=t.className,a=t.id,i=t.selectedItem,l=t.color;return f("div",{className:(0,o.default)(r,(e={},e[u.default.item]=!0,e[u.default.selected]=null==l&&i===a,e[u.default.themed]=null==l,e)),style:this.getStyle(),onMouseEnter:null!=l?this.handleMouseOver:null,onMouseLeave:null!=l?this.handleMouseOut:null,onMouseUp:null!=l?this.handleMouseUp:null,onMouseDown:this.handleMouseDown},void 0,n)},t}(a.Component);t.Item=_,_.displayName="Item";var g=function(e){function t(){return e.apply(this,arguments)||this}c(t,e);var n=t.prototype;return n.renderChildren=function(e){var t=this.props,n=t.selectedItem,r=t.onItemSelect,o=t.type,i=void 0===o?p.SIDE:o;return null==e?null:a.cloneElement(e,{selectedItem:n,onItemSelect:r,itemType:i})},n.render=function(){var e=this.props,t=e.className,n=e.children,r=e.type,i=void 0===r?p.SIDE:r,l=e.style;return f("div",{className:(0,o.default)(t,i),style:l},void 0,a.Children.map(n,this.renderChildren,this))},t}(a.Component);g.displayName="TabBar",g.Types=p,g.Header=h,g.Item=_,g.Separator=v;var E=g;t.default=E},6037:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(830),l=f(n(824)),s=f(n(219)),u=n(0),d=f(n(13)),c=f(n(5494));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){t.props.disableButton||((0,i.pushLayer)(u.Layers.USER_SETTINGS),l.default.setSection(u.UserSettingsSections.STREAMER_MODE))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e;return p("div",{className:c.default.streamerModeEnabled},void 0,p("div",{className:c.default.streamerModeEnabledImage}),p(s.default,{className:(0,o.default)(c.default.streamerModeEnabledBtn,(e={},e[c.default.disabled]=this.props.disableButton,e)),onClick:this.handleClick},void 0,d.default.Messages.STREAMER_MODE_ENABLED))},r}(a.Component);h.displayName="StreamerModeEnabled",h.defaultProps={disableButton:!1};var v=h;t.default=v,e.exports=t.default},6038:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(6)),a=i(n(3)),o=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={},u={favorites:[],timesFavorited:0};var d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(e){null!=e&&(u=e).favorites.forEach(function(e){s[e.url]=e})},o.getState=function(){return u},o.getFavorites=function(){return u.favorites},o.shouldShowTooltipOnFavorite=function(){return u.timesFavorited<=2},o.getIsFavorite=function(e){return null!=s[e]},o.getRandomFavorite=function(){return r.default.sample(u.favorites)},a}(a.default.PersistedStore);d.persistKey="GIFFavoritesStore",d.migrations=[function(e){return null==e?{favorites:[],timesFavorited:0}:Array.isArray(e)?{favorites:e,timesFavorited:0}:e},function(e){return Array.isArray(e.favorites)?e:{favorites:[],timesFavorited:0}}];var c=new d(o.default,{GIF_FAVORITE_ADD:function(e){var t=e.gif;if(null!=s[t.url])return!1;u=l({},u,{favorites:[t].concat(u.favorites)}),s[t.url]=t,u.timesFavorited+=1},GIF_FAVORITE_REMOVE:function(e){var t=e.url;if(!delete s[t])return!1;var n=u.favorites,r=n.findIndex(function(e){var n=e.url;return t===n});if(null==r)return!1;u.favorites=n.slice(0,r).concat(n.slice(r+1,n.length))}});t.default=c,e.exports=t.default},6039:function(e,t,n){"use strict";function r(e,t,n,r,a,o){if(void 0===a&&(a=0),void 0===o&&(o=0),e!==n||t!==r){var i=e>n?n/e:1;e=Math.max(Math.round(e*i),a);var l=(t=Math.max(Math.round(t*i),o))>r?r/t:1;e=Math.max(Math.round(e*l),a),t=Math.max(Math.round(t*l),o)}return{width:e,height:t}}t.__esModule=!0,t.fit=r,t.zoomFit=function(e,t){var n=Math.min(Math.round(.65*window.innerHeight),a),o=Math.min(Math.round(.75*window.innerWidth),a);return r(e,t,o,n)},t.getRatio=function(e,t,n,r){var a=1;e>n&&(a=n/e);e=Math.round(e*a);var o=1;(t=Math.round(t*a))>r&&(o=r/t);return Math.min(a*o,1)},t.IMAGE_MAX_ZOOM=void 0;var a=2e3;t.IMAGE_MAX_ZOOM=a},6040:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){void 0===n&&(n=null);null!=t&&i.default.register(e,t);var p=e.getExperimentId();return(0,r.default)({displayName:"ExperimentContainer",mixins:[a.default.LazyStoreListenerMixin(e,u.default,d.default,l.default,s.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,o.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!c.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||d.default.getGuildId(),n=this.props.channelId||u.default.getChannelId(t),r=null,a=s.default.getOverrideExperimentDescriptor(p);return r=a||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:r}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[f.ExperimentTypes.NONE]||h;var n=e.type,r=e.bucket,a=t[n];return null==a?t[f.ExperimentTypes.NONE]||h:null!=a[r]?a[r]:t[f.ExperimentTypes.NONE]||h},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;i.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;c.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props,r=(n.renderFunctions,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["renderFunctions"]));return e(r,t)}})};var r=p(n(304)),a=p(n(3)),o=p(n(320)),i=p(n(131)),l=p(n(12)),s=p(n(57)),u=p(n(49)),d=p(n(150)),c=p(n(6085)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return null};e.exports=t.default},6041:function(e,t,n){"use strict";t.__esModule=!0,t.getSearchOptionAnswer=function(e){switch(e){case s.SearchTokenTypes.FILTER_FROM:return u.default.Messages.SEARCH_ANSWER_FROM;case s.SearchTokenTypes.FILTER_MENTIONS:return u.default.Messages.SEARCH_ANSWER_MENTIONS;case s.SearchTokenTypes.FILTER_HAS:return u.default.Messages.SEARCH_ANSWER_HAS;case s.SearchTokenTypes.FILTER_BEFORE:case s.SearchTokenTypes.FILTER_ON:case s.SearchTokenTypes.FILTER_AFTER:return u.default.Messages.SEARCH_ANSWER_DATE;case s.SearchTokenTypes.FILTER_IN:return u.default.Messages.SEARCH_ANSWER_IN;case s.SearchTokenTypes.FILTER_FILE_TYPE:return u.default.Messages.SEARCH_ANSWER_FILE_TYPE;case s.SearchTokenTypes.FILTER_FILE_NAME:return u.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!s.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case s.SearchTokenTypes.ANSWER_BEFORE:case s.SearchTokenTypes.ANSWER_ON:case s.SearchTokenTypes.ANSWER_AFTER:var r=e.getData("start"),a=e.getData("end");return r&&(t.min_id=l.default.fromTimestamp(r)),void(a&&(t.max_id=l.default.fromTimestamp(a)))}var o=function(e){var t=i.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[o]&&(t[o]=new Set);var u=t[o];switch(n){case s.SearchTokenTypes.ANSWER_USERNAME_FROM:case s.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:u.add(e.getData("user").id);break;case s.SearchTokenTypes.ANSWER_FILE_TYPE:case s.SearchTokenTypes.ANSWER_FILE_NAME:u.add(e.getMatch(1));break;case s.SearchTokenTypes.ANSWER_IN:u.add(e.getData("channel").id);break;case s.SearchTokenTypes.ANSWER_HAS:u.add(e.getData("has"));break;default:u.add(e.getFullMatch().trim())}}});for(var n=0,r=Object.entries(t);n<r.length;n++){var a=r[n],o=a[0],u=a[1];u instanceof Set&&(t[o]=Array.from(u))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===o.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var r,a,o=e.find(function(o,i){return t>=o.start&&t<=o.end&&n>=o.start&&n<=o.end?(e[i+1]&&(a=e[i+1]),!0):(r=o,!1)});if(!o)return null;return{previousToken:r,currentToken:o,nextToken:a,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n,r=e=e||{},a=r.currentToken,i=r.nextToken,l=r.previousToken;if(0===t.length)return{type:s.SearchPopoutModes.EMPTY,filter:null,token:null};if(!a)return{type:s.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(s.IS_SEARCH_FILTER_TOKEN.test(a.type)){if(!i||i.type===o.default.NON_TOKEN_TYPE)return{type:s.SearchPopoutModes.FILTER,filter:a.type,token:i};if(i&&!s.IS_SEARCH_ANSWER_TOKEN.test(i.type))return{type:s.SearchPopoutModes.FILTER,filter:a.type,token:null}}if(a.type===o.default.NON_TOKEN_TYPE&&l&&s.IS_SEARCH_FILTER_TOKEN.test(l.type))return{type:s.SearchPopoutModes.FILTER,filter:l.type,token:a};a.type===o.default.NON_TOKEN_TYPE&&(n=a);return{type:s.SearchPopoutModes.FILTER_ALL,filter:null,token:n}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,a.default)(e).forEach(function(e){if(e&&e.results.length){var r=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===s.SearchPopoutModes.FILTER_ALL){r=e.group||r;var a=i.default[r];a&&a.key&&(n=a.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return p.tokenize(e)},t.clearTokenCache=function(){return p.clearCache()},t.showDatePicker=function(e){return f[e]},t.filterHasAnswer=function(e,t){var n=s.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!s.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,i.refreshSearchTokens)(),p.reset(),(0,a.default)(i.default).forOwn(function(e,t){return p.addRule(c({type:t},e))})},t.ShowDatePicker=void 0;var r,a=d(n(6)),o=d(n(6060)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6042)),l=d(n(112)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=((r={})[s.SearchTokenTypes.FILTER_BEFORE]=!0,r[s.SearchTokenTypes.FILTER_AFTER]=!0,r[s.SearchTokenTypes.FILTER_ON]=!0,r);t.ShowDatePicker=f;var p=new o.default},6042:function(e,t,n){"use strict";t.__esModule=!0,t.getRandomDateShortcut=function(){return o.default.sample(w())},t.refreshSearchTokens=function(){Object.assign(H,(t=[y.default.Messages.SEARCH_ANSWER_HAS_LINK,y.default.Messages.SEARCH_ANSWER_HAS_EMBED,y.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,y.default.Messages.SEARCH_ANSWER_HAS_VIDEO,y.default.Messages.SEARCH_ANSWER_HAS_IMAGE,y.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[m.SearchTokenTypes.FILTER_FROM]={regex:P(y.default.Messages.SEARCH_FILTER_FROM),componentType:B.FILTER,key:M(y.default.Messages.SEARCH_FILTER_FROM),validator:j,getAutocompletions:G},e[m.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[m.SearchTokenTypes.FILTER_FROM],regex:x,validator:b,mutable:!0,componentType:B.ANSWER,queryKey:"author_id"},e[m.SearchTokenTypes.FILTER_MENTIONS]={regex:P(y.default.Messages.SEARCH_FILTER_MENTIONS),componentType:B.FILTER,key:M(y.default.Messages.SEARCH_FILTER_MENTIONS),validator:j,getAutocompletions:G},e[m.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[m.SearchTokenTypes.FILTER_MENTIONS],regex:x,validator:b,mutable:!0,componentType:B.ANSWER,queryKey:"mentions"},e[m.SearchTokenTypes.FILTER_HAS]={regex:P(y.default.Messages.SEARCH_FILTER_HAS),componentType:B.FILTER,key:M(y.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,r){return k(e,r,t)}},e[m.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return v.default.escape(e)}).join("|")+"))","i"),follows:[m.SearchTokenTypes.FILTER_HAS],validator:D,componentType:B.ANSWER,queryKey:"has"},e[m.SearchTokenTypes.FILTER_FILE_TYPE]={regex:P(y.default.Messages.SEARCH_FILTER_FILE_TYPE),key:M(y.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:B.FILTER},e[m.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[m.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_extensions"},e[m.SearchTokenTypes.FILTER_FILE_NAME]={regex:P(y.default.Messages.SEARCH_FILTER_FILE_NAME),key:M(y.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:B.FILTER},e[m.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[m.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_filename"},e[m.SearchTokenTypes.FILTER_BEFORE]={regex:P(y.default.Messages.SEARCH_FILTER_BEFORE),componentType:B.FILTER,key:M(y.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return U(e,n,m.SearchTokenTypes.FILTER_BEFORE)}},e[m.SearchTokenTypes.FILTER_ON]={regex:P("("+y.default.Messages.SEARCH_FILTER_ON+"|"+y.default.Messages.SEARCH_FILTER_DURING+")"),componentType:B.FILTER,key:M(y.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return U(e,n,m.SearchTokenTypes.FILTER_ON)}},e[m.SearchTokenTypes.FILTER_AFTER]={regex:P(y.default.Messages.SEARCH_FILTER_AFTER),componentType:B.FILTER,key:M(y.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return U(e,n,m.SearchTokenTypes.FILTER_AFTER)}},e[m.SearchTokenTypes.ANSWER_BEFORE]={regex:A,follows:[m.SearchTokenTypes.FILTER_BEFORE],componentType:B.ANSWER,mutable:!0,validator:function(e){return R(e,"before")}},e[m.SearchTokenTypes.ANSWER_ON]={regex:A,follows:[m.SearchTokenTypes.FILTER_ON],componentType:B.ANSWER,mutable:!0,validator:function(e){return R(e,"on")}},e[m.SearchTokenTypes.ANSWER_AFTER]={regex:A,follows:[m.SearchTokenTypes.FILTER_AFTER],componentType:B.ANSWER,mutable:!0,validator:function(e){return R(e,"after")}},e[m.SearchTokenTypes.FILTER_IN]={regex:P(y.default.Messages.SEARCH_FILTER_IN),componentType:B.FILTER,key:M(y.default.Messages.SEARCH_FILTER_IN),validator:F,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var r=h.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var a=d.default.getChannelId(t),i=r.find(function(e){return e.id===a});i&&(r.splice(r.indexOf(i),1),r.unshift(i))}var s=l.default.getTextChannelNameDisambiguations(t);return(0,o.default)(r).take(n).map(function(e){return{text:""+s[e.id].name,channel:e}}).value()}},e[m.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[m.SearchTokenTypes.FILTER_IN],componentType:B.ANSWER,validator:L,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e,t){void 0===t&&(t=Object.keys(H).length);return(0,o.default)(Object.keys(H)).filter(function(e){return m.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return H[e].key}).map(function(e){return{token:e,text:H[e].key}}).filter(function(t){var n=t.text;return(0,r.default)(e.toLowerCase(),n)}).take(t).value()},t.default=t.ComponentTypes=void 0;var r=_(n(6034)),a=_(n(153)),o=_(n(6)),i=_(n(4)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(108)),s=_(n(85)),u=_(n(6031)),d=_(n(49)),c=_(n(150)),f=_(n(307)),p=_(n(14)),h=_(n(6030)),v=_(n(184)),m=n(0),y=_(n(13));function _(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(){return new Set(i.default.months().map(function(e){return e.toLowerCase()}))}function S(){return new Set(i.default.weekdays().map(function(e){return e.toLowerCase()}))}function T(){var e=(new Date).getFullYear();return new Set(o.default.range(2015,e+1).map(function(e){return e.toString()}))}function O(e,t){return[e,e.clone().add(1,t)]}function I(e,t){return void 0===t&&(t=0),O((0,i.default)().startOf(e).add(t,e),e)}function C(e,t,n){return O((0,i.default)(e,t).local(),n)}function N(){var e;return(e={})[y.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return I("day")},e[y.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return I("day",-1)},e[y.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return I("week")},e[y.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return I("month")},e[y.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return I("year")},e}var A=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function M(e){return e+":"}function P(e){return new RegExp(M(e),"i")}function b(e){var t;return!!(t=e.getMatch(1)===m.ME?p.default.getCurrentUser():p.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function R(e,t){var n,r,a=e.getFullMatch().trim().toLowerCase(),o=N()[a];if(null!=o){var i=o();n=i[0],r=i[1]}else if(E().has(a)){var l=C(a,"MMMM","month");n=l[0],r=l[1]}else if(S().has(a)){var s=C(a,"dddd","day");n=s[0],r=s[1]}else if(T().has(a)){var u=C(a,"YYYY","year");n=u[0],r=u[1]}else{var d=C(a,m.SEARCH_DATE_FORMAT,"day");n=d[0],r=d[1]}return!(!n.isValid()||!r.isValid())&&("before"===t?(r=n,n=null):"after"===t&&(n=r,r=null),e.setData("start",n),e.setData("end",r),!0)}function L(e){var t=e.getMatch(1),n=c.default.getGuildId(),r=l.default.getChannels(n)[l.GUILD_SELECTABLE_CHANNELS_KEY],a=l.default.getTextChannelNameDisambiguations(n),i=o.default.chain(r).map(function(e){return e.channel}).find(function(e){return t===a[e.id].name}).value();return!!i&&(e.setData("channel",i),!0)}function D(e){var t,n=(t={},t[y.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[y.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[y.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[y.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[y.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[y.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function w(){return[].concat(Array.from(E()),Array.from(S()),Array.from(T()),Object.keys(N()))}function U(e,t,n){return k(e,t,w()).map(function(e){return g({},e,{group:n,key:n+"-"+e.text})})}function k(e,t,n){return(0,o.default)(n).filter(function(t){return(0,r.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function G(e,t,n,r){void 0===n&&(n=10),void 0===r&&(r=!1);var a,o=u.default.getSearchType(t);switch(e=e.split("#")[0],o){case m.SearchTypes.GUILD:a=h.default.queryGuildUsers;break;case m.SearchTypes.CHANNEL:a=h.default.queryChannelUsers;break;default:return[]}return a(t,e,n,r).filter(function(e){var t=e.user;return!s.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function F(){return u.default.getSearchType()===m.SearchTypes.GUILD}function j(){return!f.default.hidePersonalInformation}var x=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,B=(0,a.default)({FILTER:null,ANSWER:null});t.ComponentTypes=B;var H={};var V=H;t.default=V},6043:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=p(n(3)),o=p(n(1)),i=p(n(12)),l=p(n(20)),s=p(n(149)),u=p(n(310)),d=p(n(49)),c=p(n(226)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v={},m={},y={},_={};function g(e){switch(e){case"null":case null:case void 0:return null;default:return e}}function E(e){var t,n,r,a=g(e),o=!1,i=!1,l=0,s=0,d=_[a];(null==d&&(S(),d=_[a]||new Set),d.forEach(function(e){null!==a&&(i=i||!c.default.isGuildOrCategoryOrChannelMuted(a,e)&&u.default.hasUnread(e),s+=u.default.getUnreadCount(e)),l+=u.default.getMentionCount(e)}),i)?null==a||v[a]||(v=h({},v,((t={})[a]=!0,t)),o=!0):null!=a&&v[a]&&(delete(v=h({},v))[a],o=!0);null!=a&&y[a]!==s&&(y=h({},y,((n={})[a]=s,n)),o=!0);m[a]!==l&&(m=h({},m,((r={})[a]=l,r)),o=!0);return o}function S(){_={},r.default.forEach(l.default.getChannels(),function(e){if(e.type!==f.ChannelTypes.GUILD_VOICE&&(e.isPrivate()||s.default.can(f.Permissions.VIEW_CHANNEL,{channelId:e.id}))){var t=e.getGuildId(),n=_[t];null==n&&(n=new Set,_[t]=n),n.add(e.id)}})}function T(e){return S(),E(e)}function O(e,t){var n=l.default.getChannel(e);if(null!=n)return t(g(n.getGuildId()));for(var r=0,a=Object.keys(_);r<a.length;r++){var o=a[r];if(_[o].has(e))return t(g(o))}return!1}function I(e){var t=e.guilds;v={},m={},y={},S(),E(null),t.forEach(function(e){return E(e.id)})}function C(e){return O(e.channelId,E)}function N(e){return O(e.channel.id,T)}function A(e){return T(e.guildId)}var M=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(l.default,d.default,u.default,s.default,i.default,c.default)},o.hasAnyUnread=function(){return Object.keys(v).length>0},o.getUnreadGuilds=function(){return v},o.getGuildUnreadCount=function(e){return void 0===e?0:y[e]||0},o.hasUnread=function(e){return v[e]||!1},o.getMentionCounts=function(){return m},o.getUnreadGuildsIgnoreMuted=function(e){var t=_[e];return null!=t&&Array.from(t).some(function(e){return u.default.hasUnread(e)})},o.getTotalMentionCount=function(){return(0,r.default)(m).values().sum()},a}(a.default.Store))(o.default,{CONNECTION_OPEN:I,OVERLAY_INITIALIZE:I,GUILD_CREATE:function(e){return T(e.guild.id)},GUILD_DELETE:function(e){var t=e.guild;null!=v[t.id]&&delete(v=h({},v))[t.id],null!=y[t.id]&&delete(y=h({},y))[t.id],null!=m[t.id]&&delete(m=h({},m))[t.id],delete _[t.id]},MESSAGE_CREATE:C,MESSAGE_ACK:C,CHANNEL_SELECT:C,UPDATE_CHANNEL_DIMENSIONS:C,CHANNEL_DELETE:function(e){var t=e.channel;return O(t.id,function(e){return _[e].delete(t.id),E(e)})},WINDOW_FOCUS:function(e){return null!=(t=d.default.getChannelId())&&O(t,E);var t},GUILD_ACK:function(e){return E(e.guildId)},GUILD_ROLE_CREATE:A,GUILD_ROLE_DELETE:A,GUILD_ROLE_UPDATE:A,CHANNEL_CREATE:N,CHANNEL_UPDATE:N,GUILD_MEMBER_UPDATE:function(e){var t=e.user,n=e.guildId;return t.id===i.default.getId()&&T(n)},USER_GUILD_SETTINGS_UPDATE:function(e){Object.keys(v).forEach(E)}});t.default=M,e.exports=t.default},6044:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TutorialIndicatorPositions=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(96),o=u(n(3)),i=u(n(6682)),l=u(n(6303)),s=u(n(151));function u(e){return e&&e.__esModule?e:{default:e}}var d={TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"};t.TutorialIndicatorPositions=d;var c=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=o.prototype;return l.componentDidMount=function(){this.show(this.props.visible)},l.componentWillUnmount=function(){this.show(!1)},l.componentDidUpdate=function(e){var t=e.position,n=e.offsetX,r=e.offsetY,a=e.offsetXPercent,o=e.offsetYPercent,l=e.tutorialId,s=e.autoOpen,u=e.visible,d=e.windowSize;l!==this.props.tutorialId?i.default.hide(l):u===this.props.visible&&t===this.props.position&&n===this.props.offsetX&&r===this.props.offsetY&&a===this.props.offsetXPercent&&o===this.props.offsetYPercent&&s===this.props.autoOpen&&d===this.props.windowSize||this.show(this.props.visible)},l.show=function(e){var t=this.props,n=t.tutorialId,r=t.position,o=t.offsetX,l=t.offsetY,s=t.offsetXPercent,u=t.offsetYPercent,d=t.autoOpen,c=t.visible;if(e){var f=(0,a.findDOMNode)(this);if(!(f&&f instanceof Element))return;var p=f.getBoundingClientRect(),h=p.top,v=p.left,m=p.right,y=p.bottom;i.default.show(n,{position:r,targetWidth:m-v,targetHeight:y-h,x:v,y:h,offset:{x:o,y:l},offsetPercent:{x:s,y:u},autoOpen:d})}else c&&i.default.hide(n)},l.render=function(){return r.Children.only(this.props.children)},o}(r.Component);c.displayName="TutorialIndicator",c.defaultProps={position:d.TOP,offsetX:0,offsetY:0,offsetXPercent:0,offsetYPercent:0,autoOpen:!1};var f=o.default.connectStores([l.default,s.default],function(e){var t=e.tutorialId;return{visible:l.default.shouldShow(t),windowSize:s.default.windowSize()}})(c);t.default=f},6045:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InLibraryPrice=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(301)),l=u(n(13)),s=u(n(5378));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Object.freeze({DIRECTORY_HERO:1,DIRECTORY_TILE:2,DIRECTORY_SEARCH:3,LISTING:4,EMBED:5}),f=Object.freeze({IN_LIBRARY:1,ON_SALE:2,PREMIUM:3,DEFAULT:4,ENTITLEMENT_BRANCH:5}),p=function(e){var t=e.className;return d("div",{className:(0,o.default)(s.default.row,t)},void 0,d(i.default,{className:s.default.icon,name:i.default.Names.LIBRARY}),l.default.Messages.APPLICATION_STORE_IN_LIBRARY)};t.InLibraryPrice=p,p.displayName="InLibraryPrice";var h=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(s.default.row,n)},void 0,d(i.default,{className:s.default.icon,name:i.default.Names.NITRO_WHEEL}),t.getDisplayPrice())};h.displayName="PremiumPrice";var v=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(s.default.salePercentage,n)},void 0,t.getDisplaySalePercentage())};v.displayName="SalePercent";var m=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(s.default.originalAmount,n)},void 0,t.getDisplayPrice(!1))};m.displayName="OriginalAmount";var y=function(e){var t=e.sku;return d("div",{className:e.className},void 0,t.getDisplayPrice())};y.displayName="Price";var _=function(e){var t=e.sku,n=e.className;return d("div",{className:(0,o.default)(s.default.row,n)},void 0,d(v,{sku:t}),d(m,{sku:t}),d(y,{sku:t}))};_.displayName="InlineSale";var g=function(e){return d("div",{className:e.className},void 0,l.default.Messages.APPLICATION_STORE_FREE)};g.displayName="EntitlementBranchPrice";var E=d(g,{}),S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getState=function(){var e=this.props,t=e.inLibrary,n=e.sku;return e.hasEntitlementBranch?f.ENTITLEMENT_BRANCH:t?f.IN_LIBRARY:n.available?n.premium?f.PREMIUM:n.isOnSale?f.ON_SALE:null!=n.getPrice()?f.DEFAULT:null:f.DEFAULT},i.renderGeneric=function(e,t){var n=this.props,r=n.className,a=n.sku;switch(e){case f.ENTITLEMENT_BRANCH:return d(g,{className:(0,o.default)(t,r)});case f.IN_LIBRARY:return d(p,{className:(0,o.default)(t,r)});case f.PREMIUM:return d(h,{sku:a,className:(0,o.default)(t,r)});case f.ON_SALE:return d(_,{sku:a,className:(0,o.default)(t,r)});default:return d(y,{className:(0,o.default)(t,r),sku:a})}},i.renderDirectoryHero=function(e){var t=this.props,n=t.className,r=t.sku;switch(e){case f.ENTITLEMENT_BRANCH:return d(g,{className:(0,o.default)(n)});case f.PREMIUM:return d(h,{sku:r,className:(0,o.default)(s.default.directoryHeroPricePremium,n)});case f.ON_SALE:return d(_,{sku:r,className:(0,o.default)(s.default.directoryHeroPrice,n)});default:return d(y,{className:(0,o.default)(s.default.directoryHeroPrice,n),sku:r})}},i.renderListing=function(e){var t,n=this.props,r=n.className,i=n.sku;switch(e){case f.ENTITLEMENT_BRANCH:t=E;break;case f.ON_SALE:t=d(a.Fragment,{},void 0,d("div",{className:s.default.row},void 0,d(y,{sku:i}),d(v,{sku:i})),d(m,{sku:i}));break;default:t=d(y,{sku:i})}return d("div",{className:(0,o.default)(s.default.listingPrice,r)},void 0,t)},i.render=function(){var e=this.getState();if(null==e)return null;switch(this.props.type){case c.DIRECTORY_HERO:return this.renderDirectoryHero(e);case c.DIRECTORY_TILE:return this.renderGeneric(e,s.default.directoryTilePrice);case c.DIRECTORY_SEARCH:return this.renderGeneric(e,s.default.directorySearchPrice);case c.LISTING:return this.renderListing(e);case c.EMBED:return this.renderGeneric(e,s.default.embedPrice);default:throw new Error("Invalid Price Unit Type")}},r}(a.PureComponent);S.displayName="PriceUnit",S.Types=c;var T=S;t.default=T},6048:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(6679)),a=u(n(3)),o=u(n(1)),i=n(227),l=u(n(479)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c={},f=new Set;function p(e,t){var n=d({code:e,state:s.InviteStates.RESOLVING},c[e]);t(n),c[e]=d({},n)}function h(e,t){if(void 0===t&&(t=!1),t&&!f.has(e.channel_id))return!1;var n=(0,i.findInvites)(e.content);if(null==n||0===n.length)return!1;n.forEach(function(e){null==c[e]&&(v({code:e}),(0,i.resolveInvite)(e).then(function(e){var t=e.invite,n=e.code;null!=t?o.default.dispatch({type:s.ActionTypes.INVITE_RESOLVE_SUCCESS,invite:t,code:n}):o.default.dispatch({type:s.ActionTypes.INVITE_RESOLVE_FAILURE,code:n})}))})}function v(e){c[e.code]={code:e.code,state:s.InviteStates.RESOLVING}}function m(e){return p(e.code,function(e){e.state=s.InviteStates.EXPIRED})}function y(e){return h(e.message,!0)}function _(e){var t=e.channelId,n=e.messages;f.add(t),n.forEach(function(e){return h(e,!0)})}var g=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getInvite=function(e){return c[e]},o.getInvites=function(e){return null!=e?(0,r.default)(c).filter(function(t){return null!=t.guild&&t.guild.id===e}):(0,r.default)(c)},a}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){return f.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&f.add(t),!1},INVITE_RESOLVE:v,INVITE_RESOLVE_SUCCESS:function(e){return p(e.code,function(t){t.state=s.InviteStates.RESOLVED,t.guild=e.invite.guild,t.channel=e.invite.channel,t.inviter=e.invite.inviter,t.approximate_member_count=null!=e.invite.approximate_member_count?e.invite.approximate_member_count:null,t.approximate_presence_count=null!=e.invite.approximate_presence_count?e.invite.approximate_presence_count:null,null!=e.invite.guest_token&&(t.guest_token=l.default.isEnabled()?e.invite.guest_token:null),null!=e.invite.target_user_type&&null!=e.invite.target_user&&(t.target_user_type=e.invite.target_user_type,t.target_user=e.invite.target_user)})},INVITE_RESOLVE_FAILURE:m,INSTANT_INVITE_REVOKE_SUCCESS:m,INVITE_ACCEPT:function(e){return p(e.code,function(e){e.state=s.InviteStates.ACCEPTED})},INVITE_ACCEPT_SUCCESS:function(e){return p(e.code,function(t){t.state=s.InviteStates.ACCEPTED,t.guild=e.invite.guild,t.channel=d({},t.channel,e.invite.channel)})},INVITE_ACCEPT_FAILURE:function(e){return p(e.code,function(e){e.state=s.InviteStates.EXPIRED})},INVITE_APP_OPENING:function(e){return p(e.code,function(e){e.state=s.InviteStates.APP_OPENING})},INVITE_APP_OPENED:function(e){return p(e.code,function(e){e.state=s.InviteStates.APP_OPENED})},INVITE_NATIVE_APP_MODAL_OPENING:function(e){return p(e.code,function(e){e.nativeAppState=s.NativeAppStates.OPENING})},INVITE_NATIVE_APP_MODAL_OPENED:function(e){return p(e.code,function(e){e.nativeAppState=s.NativeAppStates.OPEN})},INVITE_NATIVE_APP_MODAL_OPEN_FAILED:function(e){return p(e.code,function(e){e.nativeAppState=s.NativeAppStates.OPEN_FAIL})},INVITE_APP_NOT_OPENED:function(e){return p(e.code,function(e){e.state=s.InviteStates.APP_NOT_OPENED})},MESSAGE_CREATE:y,MESSAGE_UPDATE:y,LOAD_MESSAGES_SUCCESS:_,LOAD_MESSAGES_AROUND_SUCCESS:_,LOAD_RECENT_MENTIONS_SUCCESS:function(e){e.messages.forEach(function(e){return h(e)})},LOAD_PINNED_MESSAGES_SUCCESS:function(e){e.messages.forEach(function(e){return h(e)})},SEARCH_FINISH:function(e){e.messages.forEach(function(e){e.forEach(function(e){return h(e)})})}});t.default=g,e.exports=t.default},6049:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(12)),i=g(n(5995)),l=g(n(6876)),s=g(n(6877)),u=g(n(6599)),d=g(n(6878)),c=g(n(6879)),f=g(n(6880)),p=g(n(6881)),h=g(n(6882)),v=g(n(6461)),m=g(n(6883)),y=g(n(6062)),_=n(0);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderInviteCreateGroup=function(){var e=this.props,t=e.guild,n=e.channel,r=e.type;if(null!=t)return E(f.default,{channel:n,guild:t,type:r})},a.render=function(){var e=this.props,t=e.style,n=e.type,r=e.guild,a=e.channel,f=e.hasUnread,g=e.className;if(o.default.isGuest())return null;switch(n){case _.ContextMenuTypes.CHANNEL_LIST_TEXT:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(h.default,{channelId:a.id,hasUnread:f,type:a.type}),E(v.default,{channel:a}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(y.default,{id:a.id}));case _.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(y.default,{id:a.id}));case _.ContextMenuTypes.CHANNEL_LIST_VOICE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(m.default,{channelId:a.id}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(y.default,{id:a.id}));case _.ContextMenuTypes.CHANNEL_LIST_STORE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(y.default,{id:a.id}));case _.ContextMenuTypes.CHANNEL_TITLE:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(v.default,{channel:a}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(y.default,{id:a.id}));case _.ContextMenuTypes.CHANNEL_TOPIC:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(v.default,{channel:a}),E(s.default,{channel:a}),E(c.default,{channel:a})),this.renderInviteCreateGroup(),E(d.default,{channel:a}),E(y.default,{id:a.id}));case _.ContextMenuTypes.CHANNEL_AUDIT_LOG:return E("div",{className:g,style:t},void 0,E(i.default,{},void 0,E(c.default,{channel:a}),null!=r?E(p.default,{channel:a,guild:r}):null,E(y.default,{id:a.id})));case _.ContextMenuTypes.CHANNEL_CATEGORY:return E("div",{className:g,style:t},void 0,E(h.default,{channelId:a.id,hasUnread:f,type:a.type}),E(v.default,{channel:a}),E(l.default,{channel:a}),E(c.default,{channel:a}),null!=r?E(u.default,{type:_.ChannelTypes.GUILD_CATEGORY,guild:r}):null,E(d.default,{channel:a}),E(y.default,{id:a.id}));default:console.warn("Error - no such ctx menu type:",n)}return null},r}(a.PureComponent);S.displayName="ChannelContextMenu",S.defaultProps={hasUnread:!1,selected:!1};var T=S;t.default=T,e.exports=t.default},6050:function(e,t,n){"use strict";t.__esModule=!0,t.getBadgeWidthForValue=c,t.getBadgeCountString=f,t.IconBadge=t.TextBadge=t.NumberBadge=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(301)),i=n(0),l=s(n(5525));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){return e<10?16:e<100?22:30}function f(e){return e<1e3?""+e:Math.min(Math.floor(e/1e3),9)+"k+"}var p=function(e){var t=e.count,n=e.color,r=void 0===n?i.Colors.STATUS_RED:n,o=e.disableColor,s=void 0!==o&&o,p=e.className,h=e.style;return u("div",{className:(0,a.default)(p,l.default.numberBadge),style:d({backgroundColor:s?null:r,width:c(t),paddingRight:function(e){switch(e){case 1:case 4:case 6:return 1;default:return null}}(t)},h)},void 0,f(t))};t.NumberBadge=p,p.displayName="NumberBadge";var h=function(e){var t=e.text,n=e.className,r=e.color,o=void 0===r?i.Colors.STATUS_RED:r,s=e.disableColor,c=void 0!==s&&s,f=e.style;return u("div",{className:(0,a.default)(n,l.default.textBadge),style:d({backgroundColor:c?null:o},f)},void 0,t)};t.TextBadge=h,h.displayName="TextBadge";var v=function(e){var t=e.name,n=e.className,r=e.color,s=void 0===r?i.Colors.STATUS_RED:r,c=e.disableColor,f=void 0!==c&&c,p=e.style;return u("div",{className:(0,a.default)(n,l.default.iconBadge),style:d({backgroundColor:f?null:s},p)},void 0,u(o.default,{name:t,className:l.default.icon}))};t.IconBadge=v,v.displayName="IconBadge"},6051:function(e,t,n){"use strict";t.__esModule=!0,t.PageSizes=t.PAGE_WIDTH_THRESHOLD=void 0;t.PAGE_WIDTH_THRESHOLD=1e3;var r=Object.freeze({SMALL:"small",LARGE:"large"});t.PageSizes=r},6053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=u(n(849)),i=u(n(49)),l=u(n(448)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=null,f=!1;function p(e){var t=e.link;c=t}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,s,u,p=r.prototype;return p.initialize=function(){this.waitFor(o.default,l.default,i.default)},p.getHomeLink=function(){return c||o.default.defaultRoute},a=r,(s=[{key:"hasHandledRedirect",get:function(){return f}}])&&d(a.prototype,s),u&&d(a,u),r}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){return t=l.default.getPrivateChannelIds(),void(((n=i.default.getChannelId(s.ME))||t[0])&&(c=s.Routes.CHANNEL(s.ME,n||t[0])));var t,n},APP_VIEW_SET_HOME_LINK:p,ACTIVITY_FEED_HANDLE_REDIRECT:function(e){f=!0},APPLICATION_STORE_LOCATION_CHANGE:function(e){p({link:e.location.pathname})},APPLICATION_STORE_RESET_NAVIGATION:function(e){return function(){if(null==c||!c.startsWith(s.Routes.APPLICATION_STORE))return!1;c=s.Routes.APPLICATION_STORE}()},CHANNEL_SELECT:function(e){var t=e.guildId,n=e.channelId;null==t&&null!=n&&(c=s.Routes.CHANNEL(s.ME,n))}});t.default=h,e.exports=t.default},6054:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(3)),o=l(n(1)),i=l(n(28));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=null,u={};var d=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(i.default)},o.getOptimalRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?t.find(function(e){return e.optimal})||r.default.sample(t):null},o.getOptimalRegionId=function(e){void 0===e&&(e=null);var t=this.getOptimalRegion(e);return null!=t?t.id:null},o.getRandomRegion=function(e){void 0===e&&(e=null);var t=this.getRegions(e);return null!=t?r.default.sample(t):null},o.getRandomRegionId=function(e){void 0===e&&(e=null);var t=this.getRandomRegion(e);return null!=t?t.id:null},o.getRegions=function(e){return null!=e?u[e]:s},a}(a.default.Store))(o.default,{LOAD_REGIONS:function(e){var t=r.default.sortBy(e.regions,function(e){return e.name});e.guildId?u[e.guildId]=t:s=t},GUILD_DELETE:function(e){delete u[e.guild.id]}});t.default=d,e.exports=t.default},6055:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=n(830),i=s(n(844)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=null;function d(e){(u=e.requiredAction)===l.UserRequiredActions.REQUIRE_CAPTCHA||u===l.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||u===l.UserRequiredActions.REQUIRE_VERIFIED_PHONE?(0,o.pushLayer)(l.Layers.VERIFICATION):i.default.hasLayers()&&null==u&&(0,o.popLayer)()}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.hasAction=function(){return null!=u},a.getAction=function(){return u},r}(r.default.Store))(a.default,{CONNECTION_OPEN:d,USER_REQUIRED_ACTION_UPDATE:d});t.default=c,e.exports=t.default},6056:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ContentTypes=t.LazyContentScroller=t.SectionTypes=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=v(n(17)),l=v(n(303)),s=v(n(922)),u=v(n(826)),d=v(n(308)),c=v(n(6683)),f=v(n(845)),p=n(0),h=v(n(5382));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}t.SectionTypes={HEADER:"HEADER",DIVIDER:"DIVIDER",CUSTOM:"CUSTOM"};var E=function(e){function t(t){var n;return _(n=e.call(this,t)||this).renderHeader=n.renderHeader.bind(_(n)),n}g(t,e);var n=t.prototype;return n.renderHeader=function(){return y("div",{className:h.default.customHeader},void 0,this.props.header)},n.renderContent=function(){var e=this.props,t=e.children,n=(e.header,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","header"]));return y("div",{className:h.default.customContainer},void 0,o.createElement(f.default,m({},n,{theme:f.default.Themes.GHOST,renderStickyHeader:this.renderHeader,className:(0,i.default)(h.default.customScroller,h.default.contentRegionScroller)}),t))},n.render=function(){return y("div",{className:h.default.customColumn},void 0,this.renderContent())},t}(o.PureComponent);t.LazyContentScroller=E,E.displayName="LazyContentScroller",E.defaultProps={paddingTop:0,paddingBottom:60,batchEndMultiplier:1};var S={friction:7,tension:60},T=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={translateY:new l.default.Value(0)},n}g(t,e);var n=t.prototype;return n.componentDidMount=function(){this.slideIn()},n.componentWillEnter=function(e){this.slideIn(e)},n.componentWillLeave=function(e){this.slideOut(e)},n.slideIn=function(e){var t=this.state.translateY;l.default.spring(t,m({toValue:1},S)).start(e)},n.slideOut=function(e){var t=this.state.translateY;l.default.stagger(250,[l.default.spring(t,m({toValue:1.3},S)),l.default.spring(t,m({toValue:0},S))]).start(e)},n.render=function(){return y(l.default.div,{className:h.default.noticeRegion,style:this.getNoticeStyle()},void 0,this.props.children)},n.getNoticeStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["150%","0%"]})},{translateZ:0}]}},t}(o.PureComponent);T.displayName="NoticeContainer";var O=Object.freeze({MINIMAL:"minimal",CUSTOM:"custom",DEFAULT:"default"});t.ContentTypes=O;var I=Object.freeze(((r={})[O.MINIMAL]="contentColumnMinimal",r[O.CUSTOM]="contentColumnCustom",r[O.DEFAULT]="contentColumnDefault",r)),C=function(e){function t(t){var n;return _(n=e.call(this,t)||this).setScrollerRef=n.setScrollerRef.bind(_(n)),n}g(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.section!==this.props.section&&this.resetScroll()},n.resetScroll=function(){null!=this._scroller&&this._scroller.scrollTo(0)},n.setScrollerRef=function(e){this._scroller=e},n.renderTools=function(){var e=this.props,t=e.closeAction,n=e.theme;return null==t?null:y("div",{className:h.default.toolsContainer},void 0,y("div",{className:h.default.tools},void 0,y(c.default,{closeAction:t,theme:n,keybind:"ESC"})))},n.renderNotice=function(){var e=this.props,t=e.notice,n=e.section;return null==t?null:y(T,{},n,t)},n.renderContent=function(){var e=this.props,t=e.content,n=e.theme,r=e.contentType;if(r===O.CUSTOM)return y(u.default,{component:"div",className:h.default.contentRegion},void 0,t,this.renderTools(),this.renderNotice());var a=n===p.ThemeTypes.LIGHT?p.Colors.WHITE:p.Colors.PRIMARY_DARK_600,l=I[r||O.DEFAULT];return y(u.default,{component:"div",className:h.default.contentRegion},void 0,y("div",{className:h.default.contentTransitionWrap},void 0,o.createElement(d.default,{outerClassName:h.default.contentRegionScrollerWrap,className:h.default.contentRegionScroller,track:!0,theme:d.default.Themes.GHOST,ref:this.setScrollerRef,backgroundColor:a},y("div",{className:(0,i.default)(h.default.contentColumn,h.default[l])},void 0,t),this.renderTools())),this.renderNotice())},n.renderSidebar=function(){var e=this.props,t=e.sidebar,n=e.theme===p.ThemeTypes.LIGHT?s.default.darken(p.Colors.PRIMARY_DARK_100,.015):p.Colors.PRIMARY_DARK_630;return y("div",{className:h.default.sidebarRegion},void 0,y(d.default,{className:h.default.sidebarRegionScroller,fade:!0,theme:d.default.Themes.GHOST_HAIRLINE,backgroundColor:n},void 0,y("div",{className:h.default.sidebar},void 0,t)))},n.render=function(){return y("div",{className:h.default.standardSidebarView},void 0,this.renderSidebar(),this.renderContent())},t}(o.PureComponent);C.displayName="StandardSidebarView";var N=C;t.default=N},6057:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SearchIcon=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(219)),l=c(n(301)),s=c(n(438)),u=c(n(13)),d=c(n(5400));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=Object.freeze({SMALL:d.default.small,MEDIUM:d.default.medium,LARGE:d.default.large}),v=function(e){var t,n,r,u=e.hasContent,c=e.onClear,f=e.className,v=e.isLoading,m=e.size,y=void 0===m?h.SMALL:m;return p(i.default,{className:(0,o.default)(f,d.default.iconLayout,y,(t={},t[d.default.pointer]=u,t)),onClick:function(e){e.stopPropagation(),null!=c&&c(e)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},void 0,p("div",{className:d.default.iconContainer},void 0,v?p(s.default,{type:s.default.Type.SPINNING_CIRCLE,className:(0,o.default)(d.default.icon,d.default.visible)}):p(a.Fragment,{},void 0,p(l.default,{name:l.default.Names.SEARCH,className:(0,o.default)(d.default.icon,(n={},n[d.default.visible]=!u,n))}),p(l.default,{name:l.default.Names.CLOSE,className:(0,o.default)(d.default.clear,(r={},r[d.default.visible]=u,r))}))))};t.SearchIcon=v,v.displayName="SearchIcon",v.Sizes=h;var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=a.createRef(),t.handleOnChange=function(e){var n=t.props.onChange;n&&n(e.currentTarget.value)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.focus=function(){var e=this.inputRef.current;null!=e&&e.focus()},i.blur=function(){var e=this.inputRef.current;null!=e&&e.blur()},i.render=function(){var e,t=this.props,n=t.query,r=t.autoFocus,i=t.onClear,l=t.className,s=t.placeholder,u=t.iconClassName,c=t.onKeyDown,h=t.onKeyUp,m=t.onKeyPress,y=t.isLoading,_=t.size,g=t.disabled,E=(t.onChange,t.onBlur),S=t.onFocus,T=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["query","autoFocus","onClear","className","placeholder","iconClassName","onKeyDown","onKeyUp","onKeyPress","isLoading","size","disabled","onChange","onBlur","onFocus"]);return a.createElement("div",f({className:(0,o.default)(l,d.default.container,_,(e={},e[d.default.disabled]=g,e))},T),p("div",{className:d.default.inner},void 0,a.createElement("input",{onFocus:S,onBlur:E,className:d.default.input,value:n,onChange:this.handleOnChange,onKeyDown:c,onKeyUp:h,onKeyPress:m,placeholder:s,disabled:g,autoFocus:r,ref:this.inputRef}),p(v,{size:_,hasContent:n.length>0,onClear:i,className:u,isLoading:y})))},r}(a.PureComponent);m.displayName="SearchBar",m.Sizes=h,m.defaultProps={size:h.SMALL,placeholder:u.default.Messages.SEARCH,isLoading:!1,disabled:!1};var y=m;t.default=y},6058:function(e,t,n){"use strict";t.__esModule=!0,t.trackSearchStart=m,t.trackSearchResultViewed=y,t.search=function(e,t,n){void 0===n&&(n=!1);""===e?E():(i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY,query:e}),n?_(e,t):g(e,t))},t.fetchSuggestions=function(e){if(""===e||null==e)return;o.default.get({url:f.Endpoints.GIFS_SUGGEST,query:{q:e,provider:f.GIFProviders.TENOR,limit:5,locale:l.default.locale}}).then(function(t){var n=t.body;i.default.dispatch({type:f.ActionTypes.GIF_PICKER_SUGGESTIONS_SUCCESS,query:e,items:n})})},t.resetSearch=E,t.trackSelectGIF=function(e){var t=e.type,n=e.index,r=e.offset,a=e.limit,i=e.results,l=e.totalResults,u=e.query,p=e.gifId,v=(0,c.calculateAnalyticsMetadata)(s.default.getAnalyticsID(),t,{offset:r,limit:a,results:i,totalResults:l});d.default.trackWithMetadata(f.AnalyticEvents.SEARCH_RESULT_SELECTED,h({},v,{index_num:n,source_object:"GIF Picker"})),null!=p&&o.default.post({url:f.Endpoints.GIFS_SELECT,body:{id:p,q:u}})},t.initializeSearch=function(){var e=a.default.v4().replace(v,"");d.default.trackWithMetadata(f.AnalyticEvents.SEARCH_OPENED,{search_type:f.SearchTypes.GIF,load_id:e}),i.default.dispatch({type:f.ActionTypes.GIF_PICKER_INITIALIZE,analyticsID:e})},t.fetchTrending=function(){o.default.get({url:f.Endpoints.GIFS_TRENDING,query:{provider:f.GIFProviders.TENOR,locale:l.default.locale}}).then(function(e){var t=e.body,n=t.categories,r=t.gifs;i.default.dispatch({type:f.ActionTypes.GIF_PICKER_TRENDING_FETCH_SUCCESS,trendingCategories:n,trendingGIFPreview:r[0]})})},t.fetchTrendingGIFs=function(){var e=Date.now();m(f.GIFPickerResultTypes.TRENDING_GIFS),o.default.get({url:f.Endpoints.GIFS_TRENDING_GIFS,query:{media_format:s.default.getSelectedFormat(),provider:f.GIFProviders.TENOR,locale:l.default.locale}}).then(function(t){var n=t.body;y(n,f.GIFPickerResultTypes.TRENDING_GIFS,{startTime:e}),i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_SUCCESS,items:n})},function(){i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_FAILURE})})},t.addFavoriteGIF=function(e){i.default.dispatch({type:f.ActionTypes.GIF_FAVORITE_ADD,gif:e}),u.default.track(f.AnalyticEvents.GIF_FAVORITED)},t.removeFavoriteGIF=function(e){i.default.dispatch({type:f.ActionTypes.GIF_FAVORITE_REMOVE,url:e}),u.default.track(f.AnalyticEvents.GIF_UNFAVORITED)};var r=p(n(6)),a=p(n(156)),o=p(n(8)),i=p(n(1)),l=p(n(35)),s=p(n(6094)),u=p(n(18)),d=p(n(177)),c=n(6521),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=/-/g;function m(e){var t,n=null!=e?((t={})[e]=1,t):{};d.default.trackWithMetadata(f.AnalyticEvents.SEARCH_STARTED,{search_type:f.SearchTypes.GIF,load_id:s.default.getAnalyticsID(),num_modifiers:Object.keys(n).length,modifiers:n})}function y(e,t,n){void 0===n&&(n={});var r=n,a=r.startTime,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["startTime"]),i={offset:0,limit:null,totalResults:e.length},l=(0,c.calculateAnalyticsMetadata)(s.default.getAnalyticsID(),t,h({},i,o,{results:e})),u=null==a?{}:{load_duration_ms:Date.now()-a};d.default.trackWithMetadata(f.AnalyticEvents.SEARCH_RESULT_VIEWED,h({},l,u))}function _(e,t){var n=Date.now();m(t),o.default.get({url:f.Endpoints.GIFS_SEARCH,query:{q:e,media_format:s.default.getSelectedFormat(),provider:f.GIFProviders.TENOR,locale:l.default.locale}}).then(function(r){var a=r.body;y(a,t,{startTime:n}),i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_SUCCESS,query:e,items:a})},function(){return i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY_FAILURE,query:e})})}var g=r.default.debounce(_,250);function E(){i.default.dispatch({type:f.ActionTypes.GIF_PICKER_QUERY,query:""})}},6059:function(e,t,n){"use strict";t.__esModule=!0,t.GIFAccessoryContext=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)).createContext(function(){return null});t.GIFAccessoryContext=r},6060:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.__esModule=!0,t.default=t.Token=t.QueryTokenizer=t.NON_TOKEN_TYPE=void 0;var a=/.+/g;function o(e,t,n){if(!t)return null;for(var r=0;r<t.length;r++){var a=t[r],o=i(e.match(a.regex),n),l=void 0;if(o){var u=a.cache;if(u&&(l=u.get(o[0]))&&((l=new s(l)).start=o.index),!l){if(l=new s(o,a.type),a.validator&&!a.validator(l))continue;u&&!u.has(o[0])&&u.set(o[0],l)}return l}}return null}function i(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}t.NON_TOKEN_TYPE="NON_TOKEN";var l=function(){function e(e,t){var n=this;void 0===e&&(e=[]),this.reset(e,t),e.forEach(function(e){return n.addRule(e)})}var t=e.prototype;return t.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||"NON_TOKEN"},t.addRule=function(e){var t,n=this,r=e.type,a=e.follows,o=e.validator,i=e.regex;"^"!==i.source.charAt(0)&&(i=new RegExp("^"+i.source,i.flags)),o&&(t=new Map),a?a.forEach(function(e){n._followers[e]||(n._followers[e]=[]),n._followers[e].push({regex:i,type:r,validator:o,cache:t})}):this._rules.push({regex:i,type:r,validator:o,cache:t})},t.tokenize=function(e){for(var t,n=e,r="",o=0,l=[];n.length;){var u=this._getMatch(n,t,o+r.length);u?(r&&l.push(new s(i(r.match(a),o),this._nonTokenType)),t=u,l.push(u),o+=t.length+r.length,n=n.substring(t.length),r=""):(r+=n[0],n=n.substring(1))}return r&&l.push(new s(i(r.match(a),o),this._nonTokenType)),l},t.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},t._getMatch=function(e,t,n){var r,a=t?t.type:null;return t&&t.end===n&&(r=o(e,this._followers[a],n)),r||(r=o(e,this._rules,n)),r},e}();t.QueryTokenizer=l;var s=function(){function e(t,n){t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}var t,n,a,o=e.prototype;return o.valueOf=function(){return this.match[0]},o.getFullMatch=function(){return this.match[0]},o.getMatch=function(e){return void 0===e&&(e=0),this.match[e]},o.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},o.getData=function(e){if(this._data)return this._data.get(e)},t=e,(n=[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}])&&r(t.prototype,n),a&&r(t,a),e}();t.Token=s,l.NON_TOKEN_TYPE="NON_TOKEN",l.Token=s;var u=l;t.default=u},6064:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o=f(n(8)),i=f(n(1)),l=f(n(313)),s=f(n(108)),u=f(n(18)),d=(f(n(6473)),f(n(77))),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){s.default.addConditionalChangeListener(function(){var t=s.default.getDefaultChannel(e.id);if(null!=t)return r(function(){null!=a?(v(),setTimeout(function(){d.default.push(a,{guild:new l.default(p({},e)),channel:t,source:c.InstantInviteSources.GUILD_CREATE})},1e3)):v()}),!1})}function v(){i.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_CLOSE})}a=a=n(6027);var m={open:function(e,t,n){switch(void 0===t&&(t=null),void 0===n&&(n=null),i.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_OPEN,screen:e}),e){case c.CreateGuildModalScreens.CreateGuild:u.default.track(c.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",Source:t,location_section:n});break;case c.CreateGuildModalScreens.JoinGuild:u.default.track(c.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",Source:t,location_section:n});break;default:u.default.track(c.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild",Source:t,location_section:n})}},setScreen:function(e){i.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_SET_SCREEN,screen:e})},close:v,updateTemporaryGuild:function(e){i.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_UPDATE,guild:e})},createGuild:function(e,t,n){void 0===n&&(n=null),i.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_SUBMIT}),o.default.post({url:c.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){return h(e.body)},function(e){return i.default.dispatch({type:c.ActionTypes.CREATE_GUILD_MODAL_SUBMIT_FAILURE,errors:e.body})})},createGuildPromise:function(e,t,n){return void 0===n&&(n=null),o.default.post({url:c.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(e){return h(e.body)},function(e){throw e.body})},createGuildPromiseSimple:function(e,t,n){return void 0===n&&(n=null),o.default.post({url:c.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return i.default.dispatch({type:c.ActionTypes.MOBILE_NUF_GUILD_CREATED})})}};t.default=m,e.exports=t.default}).call(this,n(29).setImmediate)},6065:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=H(n(2)),o=B(n(17)),i=B(n(6034)),l=B(n(6)),s=B(n(32)),u=B(n(3)),d=B(n(6090)),c=B(n(6501)),f=B(n(77)),p=H(n(851)),h=B(n(6138)),v=B(n(856)),m=B(n(20)),y=B(n(6038)),_=B(n(108)),g=B(n(6173)),E=B(n(149)),S=B(n(319)),T=B(n(307)),O=B(n(35)),I=B(n(6174)),C=B(n(6502)),N=B(n(148)),A=B(n(438)),M=n(828),P=B(n(18)),b=B(n(177)),R=B(n(6030)),L=n(106),D=B(n(184)),w=n(6506),U=B(n(6175)),k=B(n(6520)),G=B(n(6524)),F=n(0),j=B(n(13)),x=B(n(5421));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var K="@",z="#",$=":",q="+",X="/",Q="COMMAND";var J=[].concat((0,l.default)(F.ChannelTextAreaIntegrations).values().map(function(e){return W({},e,{isIntegration:!0,horizontal:e.type===F.ChannelTextAreaIntegrationTypes.GIF,description:function(e){switch(e.title){case F.ChannelTextAreaIntegrations.GIPHY.title:case F.ChannelTextAreaIntegrations.TENOR.title:return j.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}(e)})}).value(),[{command:"tts",description:j.default.Messages.COMMAND_TTS_DESCRIPTION,predicate:function(e){return O.default.enableTTSCommand&&(e.isPrivate()||E.default.can(F.Permissions.SEND_TSS_MESSAGES,e))}},{command:"me",description:j.default.Messages.COMMAND_ME_DESCRIPTION},{command:"tableflip",description:j.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},{command:"unflip",description:j.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},{command:"shrug",description:j.default.Messages.COMMAND_SHRUG_DESCRIPTION},{command:"spoiler",description:j.default.Messages.COMMAND_SPOILER_DESCRIPTION},{command:"nick",description:j.default.Messages.COMMAND_NICK_DESCRIPTION,predicate:function(e){return!e.isPrivate()&&(E.default.can(F.Permissions.CHANGE_NICKNAME,e)||E.default.can(F.Permissions.MANAGE_NICKNAMES,e))}}]),Z=new RegExp("^("+J.filter(function(e){return e.isIntegration}).map(function(e){return e.command}).join("|")+")\\s(.+)","i");function ee(e,t,n,r){var a=n.length>0?e.format({prefix:r(n)}):t;return Y(I.default.Title,{title:a},"autocomplete-title-"+a)}function te(e,t,n,r,o,i,l,s,u,d){if(null==n||0===n.length)return null;var c=n.map(function(e,n){return a.createElement(s,W({onClick:o,onHover:r,selected:t===n,index:n},u(e,n)))});return[ee(i,l,e,d),c]}ee.displayName="renderHeader";var ne=Y(I.default.Divider,{},"autocomplete-divider-1"),re=Y(I.default.Divider,{},"autocomplete-divider-2");function ae(e,t,n,r,a,u){var d;return(d={MENTIONS:{matches:function(e,t){return R.default.matchSentinel(e,t,K)},queryResults:function(t){return R.default.queryMentionResults(t,e,a)},renderResults:function(e,n,r,a,o){var i=o.users,l=o.globals,s=o.roles;if(null==i||null==l||null==s||0===i.length&&0===l.length&&0===s.length)return null;var d=i.map(function(e,o){return Y(I.default.User,{onClick:a,onHover:r,selected:n===o,index:o,user:e.user,nick:e.nick,status:e.status,hidePersonalInformation:t,colorblindMode:u},e.user.id)}),c=l.map(function(e,t){return Y(I.default.Generic,{onClick:a,onHover:r,selected:n===t+i.length,index:i.length+t,text:e.text,description:e.description},e.text)}),f=s.map(function(e,t){return Y(I.default.Role,{onClick:a,onHover:r,selected:n===t+i.length+l.length,index:i.length+l.length+t,role:e},e.id)});return[ee(j.default.Messages.MEMBERS_MATCHING,j.default.Messages.MEMBERS,e,function(e){return""+K+e}),d,i.length>0&&l.length>0?ne:null,c,i.length>0&&s.length>0||l.length>0&&s.length>0?re:null,f]},getText:function(e,n){var r=n.users,a=n.globals,o=n.roles;if(null==r||null==a||null==o)return"";var i=r[e],l=a[e-r.length],s=o[e-r.length-a.length];return null!=i?t?""+K+i.user.username:""+K+i.user.tag:null!=l?l.text:null!=s?""+K+s.name:""}},CHANNELS:{matches:function(t,n){return!e.isDM()&&!e.isGroupDM()&&R.default.matchSentinel(t,n,z)},queryResults:function(t){return R.default.queryChannelResults(t,e)},renderResults:function(e,t,n,r,a){return te(e,t,a.channels,n,r,j.default.Messages.TEXT_CHANNELS_MATCHING,j.default.Messages.TEXT_CHANNELS,I.default.Channel,function(e){return{channel:e,key:e.id,category:m.default.getChannel(e.parent_id)}},function(e){return""+z+e})},getText:function(e,t){var n=t.channels;if(null==n)return"";var r=n[e];if(null==r)return"";var a=_.default.getTextChannelNameDisambiguations(r.guild_id)[r.id];return"#"+(null!=a?a.name:r.name)}},EMOJIS:{matches:function(e,t){return t.length>1&&e===$},queryResults:function(t){return R.default.queryEmojiResults(t,e)},renderResults:function(e,t,n,r,a){return te(e,t,a.emojis,n,r,j.default.Messages.EMOJI_MATCHING,j.default.Messages.EMOJI,I.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:$}},function(e){return""+$+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+$+n[e].name+$}},REACTIONS:{matches:function(e,t,n){return 0===n&&e===q&&t.startsWith($)},queryResults:function(t){return R.default.queryEmojiResults(t.substring(1),e)},renderResults:function(e,t,n,r,a){return te(e,t,a.emojis,n,r,j.default.Messages.REACTIONS_MATCHING,j.default.Messages.EMOJI,I.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:$}},function(e){return""+q+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+q+$+n[e].name+$}}})[Q]={matches:function(e,t,n){return 0===n&&(e===X||null!=t.match(Z))},queryResults:function(t){var n=t.match(Z);if(n){var r=n[1],a=l.default.findKey(F.ChannelTextAreaIntegrations,function(e){return e.command===r});return c.default.search(a,n[2]),{integrationQuery:n[2],integration:a}}var o=new RegExp("^"+D.default.escape(t),"i"),s=[],u=[];(0,l.default)(J).forEach(function(n){(null==n.predicate||n.predicate(e))&&(o.test(n.command)?s.push(n):(0,i.default)(t,n.command.toLowerCase())&&u.push(n))});var d=[],f=function(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a;if(!(d.length<F.MAX_AUTOCOMPLETE_RESULTS))break;d.push(o)}};return f(s),f(u),{commands:d}},renderResults:function(e,t,a,i,l){if(null!=l&&null!=l.commands)return te(e,t,l.commands,a,i,j.default.Messages.COMMANDS_MATCHING,j.default.Messages.COMMANDS,I.default.Command,function(e){return{command:e.command,description:e.description,key:e.command}},function(e){return""+X+e});if(r)return Y(A.default,{className:x.default.spinner,type:A.default.Type.SPINNING_CIRCLE});if(null!=n&&null!=n.integrations){var u,d=e.match(Z);if(null==d||null==n.integrations)return null;var c=!1,f=n.integrations.map(function(e,n){switch(e.type){case F.ChannelTextAreaIntegrationTypes.GIF:return c=!0,Y(I.default.GIFIntegration,{className:x.default.horizontalAutocomplete,onClick:i,onHover:a,selected:t===n,index:n,width:e.meta.width,height:e.meta.height,src:e.meta.src,url:e.meta.url},""+e.meta.url+e.meta.src)}}),p=J.find(function(e){return e.command===d[1]}),h=e.length>0&&null!=p&&null!=p.title?j.default.Messages.CONTENT_MATCHING.format({query:d[2],command:p.title}):null!=p&&null!=p.title?p.title:d[1];return[Y(I.default.Title,{title:h},"autocomplete-title-"+h),c?Y(N.default,{className:(0,o.default)((u={},u[x.default.horizontalAutocompletes]="Firefox"!==s.default.name,u))},"autocomplete-horizontal-completes",f):f]}},getText:function(e,t){var n=t.commands,r=t.integrations;return null!=n&&null!=n[e]?""+X+n[e].command:null!=r&&null!=r[e]?r[e].meta.url:""},onSelect:function(e,t,n){var r=n.commands,a=n.integrations;if(null==r&&null!=a){var o=e.match(Z);if(null==o)return;var i=o[1];b.default.trackWithMetadata(F.AnalyticEvents.SLASH_COMMAND_USED,{command:i}),"giphy"!==i&&"tenor"!==i||b.default.trackWithMetadata(F.AnalyticEvents.SEARCH_RESULT_SELECTED,{search_type:F.SearchTypes.GIF,index_num:t,source_object:"/"+i})}}},d}var oe=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._gifPickerRef=a.createRef(),n.handleFavorite=function(){n.setState({justFavorited:!0}),clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.setState({justFavorited:!1})},1500)},n.toggleGIFPicker=function(){n.setState(function(e){return{isGIFPickerActive:!e.isGIFPickerActive}})},n.handleCloseGIFPicker=function(){return n.setState({isGIFPickerActive:!1})},n.closeGIFPicker=function(e){if(n.state.isGIFPickerActive){for(var t=e.target;t instanceof Element;){if(t===n._gifPickerRef.current)return;if(t===n.getGIFPickerButton())return;t=t.parentNode}n.setState({isGIFPickerActive:!1}),null!=document.activeElement&&"BODY"!==document.activeElement.tagName||n.focus()}},n.handlePremiumGiftClick=function(e){var t=n.props.channel;p.openModal({mode:F.PremiumPaymentSubscriptionModes.NEW,skuId:F.PremiumSubscriptionSKUs.TIER_2,isGift:!0,isGiftingFromChat:!0,analyticsLocation:{page:t.isPrivate()?F.AnalyticsPages.DM_CHANNEL:F.AnalyticsPages.GUILD_CHANNEL,section:F.AnalyticsSections.CHANNEL_TEXT_AREA,object:F.AnalyticsObjects.BUTTON_ICON,objectType:F.AnalyticsObjectTypes.GIFT}}).catch(F.NOOP_NULL)},n.renderGIFPreview=function(){return a.createElement(k.default,{onSelectGIF:n.handleSelectGIF,ref:n._gifPickerRef})},n.handleSelectGIF=function(e){n.setState({isGIFPickerActive:!1});var t=V(n)._ref;null!=t&&t.handleSelectGIF(e)},n.handleGIFPickerToggle=function(e){e.stopPropagation(),e.preventDefault(),n.toggleGIFPicker()},l.default.bindAll(V(n),["renderEmojiPickerPopout","handleSetRef","handleSaveCurrentText","handleFileUpload","handleInviteToPlay","handleInviteToSpectate","handleInviteToListen","handleInviteToWatch","handleAutocompleteQuery"]);var r={};return n.state={integration:null,integrationQuery:null,autocompleteOptions:ae(t.channel,t.hidePersonalInformation,r,!1,t.canMentionEveryone,t.colorblindMode),autocompletes:r,isAutocompletesLoading:!1,isGIFPickerActive:!1,justFavorited:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.props.focused&&this.focus(),L.ComponentDispatch.subscribe(F.ComponentActions.FAVORITE_GIF,this.handleFavorite)},o.componentDidUpdate=function(e,t){var n=this;this.grabIntegrationResults(e,t,function(){return n.grabAutocompleteOptions(e,t)}),this.fixFocus(e),!t.isGIFPickerActive&&this.state.isGIFPickerActive?this.setupGIFPickerHandlers():t.isGIFPickerActive&&!this.state.isGIFPickerActive&&this.cleanupGIFPickerHandlers()},o.componentWillUnmount=function(){this.cleanupGIFPickerHandlers(),L.ComponentDispatch.unsubscribe(F.ComponentActions.FAVORITE_GIF,this.handleFavorite),clearTimeout(this._timeout)},o.fixFocus=function(e){e.focused&&!this.props.focused?this.blur():!e.focused&&this.props.focused&&this.focus()},o.focus=function(){this._ref&&this._ref.focus()},o.blur=function(){this._ref&&this._ref.blur()},o.setupGIFPickerHandlers=function(){document.addEventListener("click",this.closeGIFPicker,!0),document.addEventListener("contextmenu",this.closeGIFPicker,!0),L.ComponentDispatch.subscribe(F.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},o.cleanupGIFPickerHandlers=function(){document.removeEventListener("click",this.closeGIFPicker,!0),document.removeEventListener("contextmenu",this.closeGIFPicker,!0),L.ComponentDispatch.unsubscribe(F.ComponentActions.CLOSE_GIF_PICKER,this.handleCloseGIFPicker)},o.getGIFPickerButton=function(){var e=this._ref;return null!=e?e.getGIFPickerButton():null},o.grabIntegrationResults=function(e,t,n){var r=this.state,a=r.integration,o=r.integrationQuery,i=r.autocompletes,l=g.default.getResults(a,o);null==l||null!=i&&i.integrations===l.results?n():this.setState({autocompletes:{integrations:l.results},isAutocompletesLoading:l.loading},n)},o.grabAutocompleteOptions=function(e,t){var n=this.props,r=n.channel,a=n.hidePersonalInformation,o=n.canMentionEveryone,i=n.colorblindMode,l=this.state,s=l.autocompletes,u=l.isAutocompletesLoading;if(r!==e.channel||a!==e.hidePersonalInformation||!(null!=s&&null!=t.autocompletes||null==s&&null!=t.autocompletes||null!=s&&null!=t.autocompletes&&s.integrations!==t.autocompletes.integrations)||u!==t.isAutocompletesLoading||o!==e.canMentionEveryone||i!==e.colorblindMode){var d=ae(r,a,s,u,o,i);this.setState({autocompleteOptions:d})}},o.getPlaceholder=function(){var e=this.props,t=e.disabled,n=e.placeholder;return t?j.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:n},o.renderEmojiPickerPopout=function(e,t){return a.createElement(U.default,W({},e,t))},o.render=function(){var e=this,t=this.props,n=t.value,r=t.className,o=t.disabled,i=t.channel,l=t.type,s=t.canAttachFiles,u=t.canSendInvites,d=t.canPasteFiles,c=t.disableGIFPicker,f=t.shouldRenderPremiumGiftButton,p=t.activities,h=t.onChange,v=t.onResize,m=t.onKeyDown,y=t.onKeyUp,_=t.onBlur,g=t.onFocus,E=t.onSubmit,S=t.shouldShowTooltipOnFavorite,T=this.state,O=T.autocompletes,I=T.autocompleteOptions,A=T.isGIFPickerActive,P=T.justFavorited;return Y(M.BackgroundOpacityContext.Consumer,{},void 0,function(t){return Y(N.default,{direction:N.default.Direction.VERTICAL},void 0,a.createElement(C.default,{ref:e.handleSetRef,value:n,className:r,backgroundOpacity:t.backgroundOpacity,disabled:o,placeholder:e.getPlaceholder(),channel:i,type:l,canAttachFiles:s,canSendInvites:u,canPasteFiles:d,activities:p,autocompleteOptions:I,autocompletes:O,renderCustomAutocomplete:A?e.renderGIFPreview:null,renderEmojiPickerPopout:e.renderEmojiPickerPopout,shouldRenderPremiumGiftButton:f,onChange:h,onResize:v,onKeyDown:m,onKeyUp:y,onSaveCurrentText:e.handleSaveCurrentText,onFileUpload:e.handleFileUpload,onInviteToPlay:e.handleInviteToPlay,onInviteToSpectate:e.handleInviteToSpectate,onInviteToListen:e.handleInviteToListen,onInviteToWatch:e.handleInviteToWatch,onOpenAttachPopout:e.handleOpenAttachPopout,onGIFPickerToggle:c?null:e.handleGIFPickerToggle,isGIFPickerActive:A,justFavorited:P,shouldShowTooltipOnFavorite:S,onPremiumGiftClick:e.handlePremiumGiftClick,onBlur:_,onFocus:g,onAutocompleteQuery:e.handleAutocompleteQuery,onSubmit:E}))})},o.handleSetRef=function(e){this._ref=e},o.handleSaveCurrentText=function(e){d.default.saveDraft(e,this.props.value)},o.handleFileUpload=function(e){(0,w.promptToUpload)(e,this.props.channel.id)},o.handleStartFileUpload=function(){this._ref&&this._ref.handleStartFileUpload()},o.handleInviteToPlay=function(e){var t=this.props.channel;P.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(G.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.JOIN})})},o.handleInviteToSpectate=function(e){var t=this.props.channel;P.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Spectate Invite",application_id:e.application_id,location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(G.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.SPECTATE})})},o.handleInviteToListen=function(e){var t=this.props.channel;P.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Listen Invite",location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(G.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.LISTEN})})},o.handleInviteToWatch=function(e){var t=this.props.channel;P.default.track(F.AnalyticEvents.OPEN_MODAL,{type:"Send Watch Invite",location:F.AnalyticsSections.CHANNEL_TEXT_AREA}),f.default.push(function(){return Y(G.default,{activity:e,channel:t,activityActionType:F.ActivityActionTypes.WATCH})})},o.handleInsertText=function(e){var t=e.content;this._ref&&this._ref.insertText(t),this.focus()},o.handleOpenAttachPopout=function(){P.default.track(F.AnalyticEvents.OPEN_POPOUT,{type:"Send Attachment"})},o.handleAutocompleteQuery=function(e,t,n){var r=e.queryResults(t);n===Q&&null==r.commands?this.setState({autocompletes:null,integrationQuery:r.integrationQuery,integration:r.integration}):this.setState({autocompletes:r,integrationQuery:null})},r}(a.PureComponent);oe.displayName="ChannelTextAreaContainer",oe.defaultProps={type:F.TextareaTypes.NORMAL,disableGIFPicker:!0,disableActivity:!1,disableAttachments:!1,disableImagePaste:!1,disableInvites:!1,focused:!1,shouldRenderPremiumGiftButton:!1};var ie=(0,h.default)(function(e,t){var n;return(n={})[F.ComponentActions.UPLOAD_FILE]=t.handleStartFileUpload.bind(t),n[F.ComponentActions.INSERT_TEXT]=t.handleInsertText.bind(t),n[F.ComponentActions.TOGGLE_GIF_PICKER]=t.toggleGIFPicker,n})(oe),le=u.default.connectStores([g.default,E.default,S.default,T.default,v.default,y.default],function(e){var t=e.channel,n=e.disableAttachments,r=e.disableImagePaste,a=e.disableActivity,o=e.disableInvites,i=e.type,l=t.isPrivate(),s=l||E.default.can(F.Permissions.ATTACH_FILES,t),u=l||E.default.can(F.Permissions.EMBED_LINKS,t);return{query:g.default.getQuery(),canAttachFiles:!n&&s,canPasteFiles:!r&&s,canSendInvites:!o&&u,disabled:!l&&!E.default.can(F.Permissions.SEND_MESSAGES,t),canMentionEveryone:l||E.default.can(F.Permissions.MENTION_EVERYONE,t),activities:a?null:S.default.getActivities(),hidePersonalInformation:T.default.hidePersonalInformation,colorblindMode:v.default.colorblindMode,disableGIFPicker:null!=i&&i!==F.TextareaTypes.NORMAL,shouldShowTooltipOnFavorite:y.default.shouldShowTooltipOnFavorite()}})(ie);t.default=le,e.exports=t.default},6066:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EmbedGIFV=t.EmbedVideo=t.EmbedLink=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(17)),i=E(n(109)),l=n(6001),s=n(6039),u=E(n(305)),d=E(n(6184)),c=E(n(6008)),f=E(n(857)),p=E(n(6528)),h=E(n(6089)),v=n(6059),m=n(872),y=n(0),_=E(n(5424)),g=E(n(5373));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=function(e){return a.createElement(u.default,e)};t.EmbedLink=I,I.displayName="EmbedLink";var C=function(e){var t=e.href,n=e.image,r=e.ImageComponent,o=e.zoomable,i=void 0===o||o,l=e.backgroundOpacity;return a.createElement(r,O({src:n.proxyURL||n.url,original:i?n.url:t,width:n.width,height:n.height,zoomable:i,backgroundOpacity:l},e))};C.displayName="EmbedImage";var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={playing:t.props.autoPlay},t.handlePlay=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.onPlay;n&&n(!1),t.setState({playing:!0})},t}T(t,e);var n=t.prototype;return n.componentDidUpdate=function(){!this.props.playable&&this.state.playing&&this.setState({playing:!1})},n.render=function(){var e=this.props,t=e.className,n=e.maxWidth,r=e.maxHeight,l=e.thumbnail,u=e.video,d=e.allowFullScreen,c=e.ImageComponent,f=e.VideoComponent,p=e.LinkComponent,v=e.playable,m=e.backgroundOpacity,y=e.mediaPlayerRef,g=e.autoPlay,E=e.autoMute,T=e.volume,I=e.onPlay,C=e.onEnded,N=e.onVolumeChange,A=e.onMute,M=this.state.playing,P=l.width,b=l.height;M&&null!=u&&(P=u.width,b=u.height);var R=(0,s.fit)(P,b,n,r);P=R.width,b=R.height;var L=l.proxyURL||l.url;if(null!=u&&null!=u.proxyURL){var D={poster:L,src:u.proxyURL,width:P,height:b,naturalWidth:u.width,naturalHeight:u.height,maxWidth:n,maxHeight:r,playable:v,mediaPlayerRef:y,autoPlay:g,autoMute:E,volume:T,onPlay:I,onEnded:C,onMute:A};return S("div",{className:(0,o.default)(_.default.embedVideo,t),style:{width:P,height:b}},void 0,null!=f?a.createElement(f,O({},D,{onVolumeChange:N,onMute:A})):a.createElement("video",O({},D,{controls:!0})))}if(M&&null!=u){var w=i.default.parse(u.url,!0);w.query=O({},w.query,{autoplay:1,auto_play:1}),delete w.search;var U=i.default.format(w);return S("div",{className:(0,o.default)(_.default.embedVideo,t),style:{width:P,height:b}},void 0,S("iframe",{className:_.default.embedIframe,src:U,width:P,height:b,frameBorder:0,allowFullScreen:d}))}return S("div",{className:(0,o.default)(_.default.embedVideo,t),style:{width:P,height:b}},void 0,S(c,{src:L,width:P,height:b,className:_.default.embedVideoImageComponent,imageClassName:_.default.embedVideoImageComponentInner,onClick:v&&null!=u?this.handlePlay:null}),S("div",{className:_.default.embedVideoActions},void 0,S("div",{className:_.default.centerContent},void 0,v?S(h.default,{onPlay:null!=u?this.handlePlay:null,externalURL:this.props.href,LinkComponent:p,backgroundOpacity:m}):null)))},t}(a.PureComponent);t.EmbedVideo=N,N.displayName="EmbedVideo",N.defaultProps={allowFullScreen:!0,playable:!0,LinkComponent:I,ImageComponent:c.default,autoPlay:!1,autoMute:!1};var A=function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.href,r=e.autoPlay,a=e.maxWidth,i=e.maxHeight,l=e.thumbnail,u=e.video,d=e.LinkComponent,c=e.GIFVComponent,f=e.ImageComponent,p=e.playable;if(null!=c)return S(c,{className:(0,o.default)(_.default.embedGIFV,t),original:n,poster:l.proxyURL||l.url,src:u.proxyURL||u.url,width:l.width,height:l.height,naturalHeight:u.height,naturalWidth:u.width,maxWidth:a,maxHeight:i,autoPlay:r,ImageComponent:f,playable:p});var h=(0,s.fit)(l.width,l.height,a,i),v=h.width,m=h.height;return S(d,{className:(0,o.default)(_.default.embedGIFV,t),href:n,tabIndex:p?0:-1},void 0,S("video",{width:v,height:m,poster:l.proxyURL||l.url,src:u.proxyURL||u.url,muted:!0,loop:!0,autoPlay:p&&r,preload:"none"}))},t}(a.PureComponent);function M(e){var t=e.className,n=e.embed.url,r=e.backgroundOpacity;if(null==n)return null;var a=null,l=null;try{var s=i.default.parse(n,!0);a=s.host,l=s.pathname}catch(e){return null}if("open.spotify.com"!==a||null==l)return null;var u=l.split("/"),d=null!=u[1]?u[1].toLowerCase():null,c=null!=u[3]?u[3].toLowerCase():null;return!["track","playlist","album","artist","user"].includes(d)||"user"===d&&"playlist"!==c?null:S(p.default,{className:(0,o.default)(_.default.embedSpotify,t,_.default[r+"BackgroundOpacity"]),src:y.SpotifyEndpoints.EMBED(l),style:{width:400,height:"track"===d?80:300}})}t.EmbedGIFV=A,A.displayName="EmbedGIFV",A.defaultProps={LinkComponent:I,playable:!0},M.displayName="SpotifyEmbed";var P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:!t.props.embed.spoiler},t.onReveal=function(){t.setState({isVisible:!0})},t}T(t,e);var n=t.prototype;return n.renderProvider=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=void 0!==r&&r,i=n.focusable,l=void 0===i||i,s=this.props,u=s.embed.provider,d=s.LinkComponent;return null==u?null:S("div",{className:(0,o.default)((t={},t[_.default.embedMargin]=a,t))},void 0,null!=u.url?S(d,{className:_.default.embedProviderLink,href:u.url,tabIndex:l?0:-1},void 0,u.name):S("span",{className:_.default.embedProvider},void 0,u.name))},n.renderAuthor=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=void 0!==r&&r,i=n.focusable,l=void 0===i||i,s=this.props,u=s.embed.author,d=s.LinkComponent;return null==u?null:S("div",{className:(0,o.default)(_.default.embedAuthor,(t={},t[_.default.embedMargin]=a,t))},void 0,null!=u.iconProxyURL?S("img",{alt:"",className:_.default.embedAuthorIcon,src:u.iconProxyURL}):null,null!=u.url?S(d,{className:_.default.embedAuthorNameLink,href:u.url,tabIndex:l?0:-1},void 0,u.name):S("span",{className:_.default.embedAuthorName},void 0,u.name))},n.renderTitle=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=void 0!==r&&r,i=n.focusable,l=void 0===i||i,s=this.props,u=s.embed,d=u.title,c=u.url,f=s.LinkComponent;return null==d?null:S("div",{className:(0,o.default)((t={},t[_.default.embedMargin]=a,t))},void 0,null!=c?S(f,{className:_.default.embedTitleLink,href:c,tabIndex:l?0:-1},void 0,d):S("span",{className:_.default.embedTitle},void 0,d))},n.renderDescription=function(e){var t;void 0===e&&(e=!1);var n=this.props.embed.description;return null==n?null:S("div",{className:(0,o.default)(_.default.embedDescription,(t={},t[_.default.embedMargin]=e,t))},void 0,n)},n.renderThumbnail=function(e){void 0===e&&(e=!0);var t=this.props,n=t.embed,r=n.url,a=n.thumbnail,o=t.maxThumbnailWidth,i=t.maxThumbnailHeight,l=t.ImageComponent,s=t.autoPlayGif,u=t.backgroundOpacity;return null==a?null:S(m.MessagesInteractionContext.Consumer,{},void 0,function(t){return S(C,{className:_.default.embedThumbnail,image:a,href:r,maxWidth:o,maxHeight:i,zoomable:!1,ImageComponent:l,autoPlay:s&&!t.disableAnimations,backgroundOpacity:u,shouldLink:e})})},n.renderFields=function(e){var t;void 0===e&&(e=!1);var n=this.props.embed.fields;return null==n?null:S("div",{className:(0,o.default)(_.default.embedFields,(t={},t[_.default.embedMargin]=e,t))},void 0,n.map(function(e,t){var n,r=e.name,a=e.value,i=e.inline;return S("div",{className:(0,o.default)(_.default.embedField,(n={},n[_.default.embedFieldInline]=i,n))},t,S("div",{className:_.default.embedFieldName},void 0,r),S("div",{className:_.default.embedFieldValue},void 0,a))}))},n.renderImage=function(e){var t=void 0===e?{}:e,n=t.hasMargin,r=void 0!==n&&n,a=t.hiddenSpoiler,i=void 0!==a&&a,l=t.isVisible,s=void 0===l||l,u=this.props,d=u.embed,f=d.url,p=d.image,h=u.maxMediaWidth,y=u.maxMediaHeight,g=u.ImageComponent,E=u.className,T=u.autoPlayGif,O=u.backgroundOpacity;if(null==p)return null;var I=c.default.isAnimated({src:p.proxyURL||p.url,original:p.url,animated:!1});return S(v.GIFAccessoryContext.Consumer,{},void 0,function(e){return S(m.MessagesInteractionContext.Consumer,{},void 0,function(t){var n;return S(C,{className:(0,o.default)(_.default.embedImage,(n={},n[_.default.embedMarginLarge]=r,n),E),image:p,href:f,maxWidth:h,maxHeight:y,ImageComponent:g,autoPlay:T&&!t.disableAnimations&&!i,backgroundOpacity:O,renderAccessory:I?e:null,shouldLink:s})})})},n.renderVideo=function(e){var t,n=void 0===e?{}:e,r=n.hasMargin,a=n.gifv,i=void 0!==a&&a,l=n.isVisible,s=void 0===l||l,u=this.props,d=u.embed,c=d.url,f=d.thumbnail,p=d.video,h=u.maxMediaWidth,v=u.maxMediaHeight,y=u.ImageComponent,g=u.VideoComponent,E=u.GIFVComponent,T=u.LinkComponent,O=u.allowFullScreen,I=u.autoPlayGif,C=u.backgroundOpacity;return null==c?null:null==f?null:i?null==p?null:S(m.MessagesInteractionContext.Consumer,{},void 0,function(e){var t;return S(A,{className:(0,o.default)((t={},t[_.default.embedMarginLarge]=r,t)),href:c,thumbnail:f,video:p,maxWidth:h,maxHeight:v,autoPlay:I&&!e.disableAnimations&&s,LinkComponent:T,GIFVComponent:E,ImageComponent:y,playable:s})}):S(N,{className:(0,o.default)((t={},t[_.default.embedMarginLarge]=r,t)),href:c,allowFullScreen:O,thumbnail:f,video:p,maxWidth:h,maxHeight:v,VideoComponent:g,LinkComponent:T,backgroundOpacity:C,playable:s})},n.renderFooter=function(e){void 0===e&&(e=!1);var t,n=this.props.embed,r=n.footer,a=n.timestamp;if(null!=r){var i,s=r.iconProxyURL||r.iconURL;return S("div",{className:(0,o.default)(_.default.embedFooter,(i={},i[_.default.embedMarginLarge]=e,i))},void 0,null!=s?S("img",{alt:"",className:_.default.embedFooterIcon,src:s}):null,S("span",{className:_.default.embedFooterText},void 0,r.text,null!=r.text&&null!=a?S("span",{className:_.default.embedFooterSeparator},void 0,"•"):null,null!=a?(0,l.calendarFormat)(a):null))}if(null!=a)return S("div",{className:(0,o.default)(_.default.embedFooter,_.default.embedFooterText,(t={},t[_.default.embedMargin]=e,t))},void 0,(0,l.calendarFormat)(a))},n.renderMedia=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var n=this.props.embed,r=this.state.isVisible;switch(n.type){case y.EmbedTypes.GIFV:return this.renderVideo({hasMargin:e,gifv:!0,hiddenSpoiler:t,isVisible:r});case y.EmbedTypes.VIDEO:default:return null!=n.video?this.renderVideo({hasMargin:e,gifv:!1,hiddenSpoiler:t,isVisible:r}):this.renderImage({hasMargin:e,hiddenSpoiler:t,isVisible:r})}},n.renderAll=function(){var e=this.props,t=e.embed,n=e.hideMedia,r=this.state.isVisible,a=!1,o=this.renderProvider({focusable:r});a=null!=o;var i=this.renderAuthor({hasMargin:a,focusable:r});a=a||null!=i;var l,s=this.renderTitle({hasMargin:a,focusable:r});switch(t.type){case y.EmbedTypes.IMAGE:case y.EmbedTypes.VIDEO:case y.EmbedTypes.GIFV:break;default:a=a||null!=s,l=this.renderDescription(a)}a=a||null!=l;var u,d=this.renderFields(a);n||(a=a||null!=d,u=this.renderMedia(a,!r)),a=a||null!=u;var c=this.renderFooter(a),f=null==u;return t.type===y.EmbedTypes.RICH&&(f=null==t.video),{provider:o,author:i,title:s,description:l,thumbnail:!n&&f?this.renderThumbnail(r):null,fields:d,media:u,footer:c}},n.getMaxWidth=function(){var e=this.props,t=e.maxMediaWidth,n=e.embed,r=n.image,a=n.thumbnail,o=n.video;if(null!=r||null!=o){var i=r||a||o;return null!=i&&i.width>=t?t+26:void 0}},n.isInline=function(){var e=this.props,t=e.hideMedia,n=e.inlineGIFV,r=e.embed,a=r.type,o=r.author,i=r.title,l=r.image,s=r.video;return!t&&((null!=l||null!=s)&&(a===y.EmbedTypes.GIFV&&n||a!==y.EmbedTypes.RICH&&null==o&&null==i))},n.render=function(){var e=this,t=this.props,n=t.className,r=t.embed,i=t.backgroundOpacity;if(null!=r.provider&&"Spotify"===r.provider.name)return a.createElement(M,this.props);if(this.isInline()){var l=function(t){var a;return void 0===t&&(t=!1),S("div",{"aria-hidden":t,className:(0,o.default)(_.default.embed,n,(a={},a[_.default.spoilerAttachment]=r.spoiler,a[_.default.hiddenSpoiler]=t,a))},void 0,e.renderMedia(!1,t))};return r.spoiler?S(f.default,{type:f.default.Types.ATTACHMENT,onReveal:this.onReveal},void 0,function(e){return l(e)}):l()}var s=this.renderAll(),u=s.provider,d=s.author,c=s.title,p=s.description,h=s.fields,v=s.thumbnail,m=s.media,y=s.footer,E=function(t){var a;return void 0===t&&(t=!1),S("div",{className:(0,o.default)(_.default.embed,n,i&&_.default[i+"BackgroundOpacity"],(a={},a[_.default.hiddenSpoiler]=t,a[_.default.spoilerEmbed]=r.spoiler,a)),"aria-hidden":t,style:{maxWidth:e.getMaxWidth()}},void 0,S("div",{className:_.default.embedPill,style:{backgroundColor:t?null:r.color}}),S("div",{className:_.default.embedInner},void 0,S("div",{className:_.default.embedContent},void 0,S("div",{className:(0,o.default)(_.default.embedContentInner,g.default.markup)},void 0,u,d,c,p,h),v),m,y))};return r.spoiler?S(f.default,{type:f.default.Types.EMBED,onReveal:this.onReveal},void 0,function(e){return E(e)}):E()},t}(a.PureComponent);t.default=P,P.displayName="Embed",P.defaultProps={hideMedia:!1,allowFullScreen:!0,inlineGIFV:!0,maxThumbnailWidth:80,maxThumbnailHeight:80,maxMediaWidth:400,maxMediaHeight:300,LinkComponent:I,ImageComponent:d.default}},6067:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=i(n(6557));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={},s={},u=new Set;function d(e){var t=o.default.createFromServer(e),n=t.skuId;l[t.id]=t;var r=s[n];null!=r?r.add(t.id):s[n]=new Set([t.id])}[{currency:"usd",id:"511651880837840896",interval:1,interval_count:1,name:"Nitro Monthly",price:999,sku_id:"521847234246082599",tax_inclusive:!0},{sku_id:"521847234246082599",name:"Nitro Annually",currency:"usd",price:9999,interval:2,interval_count:1,tax_inclusive:!0,id:"511651885459963904"},{sku_id:"521846918637420545",name:"Nitro Classic Monthly",currency:"usd",price:499,interval:1,interval_count:1,tax_inclusive:!0,id:"511651871736201216"},{sku_id:"521846918637420545",name:"Nitro Classic Annually",currency:"usd",price:4999,interval:2,interval_count:1,tax_inclusive:!0,id:"511651876987469824"}].forEach(d);var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getForSKU=function(e){return Array.from(s[e]||[]).map(function(e){return l[e]})},a.get=function(e){return l[e]},a.isFetchingForSKU=function(e){return u.has(e)},r}(r.default.Store))(a.default,{SUBSCRIPTION_PLANS_FETCH:function(e){var t=e.skuId;u.add(t)},SUBSCRIPTION_PLANS_FETCH_SUCCESS:function(e){var t=e.skuId,n=e.subscriptionPlans;s[t]=new Set,n.forEach(d),u.delete(t)},SUBSCRIPTION_PLANS_FETCH_FAILURE:function(e){var t=e.skuId;u.delete(t)},GIFT_CODE_RESOLVE_SUCCESS:function(e){var t=e.giftCode;null!=t.subscription_plan&&d(t.subscription_plan)},ENTITLEMENTS_GIFTABLE_FETCH_SUCCESS:function(e){var t=e.entitlements,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a;null!=o.subscription_plan&&d(o.subscription_plan)}}});t.default=c,e.exports=t.default},6068:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=(n(441),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(863)));n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s="",u=null,d=null,c="",f="",p="",h=!1,v="US",m="",y="",_="",g="",E="",S="",T=!1,O=null;function I(){d=null,s="",u=null,c="",f="",p="",h=!1,v="US",m="",y="",_="",g="",E="",S="",T=!1,O=null}function C(e){m=e.name,v=e.country,y=e.line1,_=e.line2,g=e.city,E=e.postalCode,S=e.state}function N(){O=null}function A(e){var t=e.error;O=t}var M=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,I=r.prototype;return I.getCreditCardInfo=function(){return{name:m,cardNumber:c,expirationDate:f,cvc:p}},I.getBillingAddressInfo=function(){return{name:m,country:v,line1:y,line2:_,city:g,postalCode:E,state:S}},a=r,(o=[{key:"stripePaymentSource",get:function(){return d}},{key:"braintreeEmail",get:function(){return s}},{key:"braintreeNonce",get:function(){return u}},{key:"isCardInfoValid",get:function(){return h}},{key:"isBillingAddressInfoValid",get:function(){return T}},{key:"error",get:function(){return O}}])&&l(a.prototype,o),i&&l(a,i),r}(r.default.Store))(a.default,{NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE:function(e){var t=e.stripePaymentSource;null!=t?(d=t,C(o.parseStripeSource(d).billingAddressInfo)):I()},NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;c=t.cardNumber,f=t.expirationDate,p=t.cvc,m=t.name,h=n},NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE:function(e){var t=e.info,n=e.isValid;v=t.country,y=t.line1,_=t.line2,g=t.city,E=t.postalCode,S=t.state,T=n},BRAINTREE_TOKENIZE_PAYPAL_START:function(e){return s="",void(u=null)},BRAINTREE_TOKENIZE_PAYPAL_SUCCESS:function(e){var t=e.email,n=e.nonce,r=e.billingAddress;s=t,u=n,C(r),T=v.length>0},BILLING_PAYMENT_SOURCE_CREATE_START:function(e){return N()},MODAL_POP:function(e){return N()},NEW_PAYMENT_SOURCE_CLEAR_ERROR:function(e){return N()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:A,STRIPE_TOKEN_FAILURE:A,BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return I()},LOGOUT:function(e){return I()}});t.default=M,e.exports=t.default},6073:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(878)),o=l(n(827)),i=l(n(28));function l(e){return e&&e.__esModule?e:{default:e}}var s,u=new a.default({maxAge:6e4});var d={requestMembers:function(e,t,n){void 0===n&&(n=10);var a=(e||"")+":"+t;null==u.get(a)&&(u.set(a,!0),function(e,t,n){null!=s&&clearTimeout(s),s=setTimeout(function(){var a=[],l=function(e){a.push(e.id)};if(null==e)r.default.forEach(i.default.getGuilds(),l);else{var s=i.default.getGuild(e);null!=s&&l(s)}a.length>0&&o.default.requestMembers(a,t.toLocaleLowerCase(),n)},200)}(e,t,n))},getAcronym:function(e){return null!=e?e.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,""):""}};t.default=d,e.exports=t.default},6074:function(e,t,n){"use strict";t.__esModule=!0,t.ack=c,t.ackCategory=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!1);var r=i.default.getChannel(e);if(null==r||null==r.guild_id)return;var a=l.default.getCategories(r.guild_id);if(null==a[e])return;a[e].filter(function(e){var t=e.channel;return(0,o.isGuildTextChannelType)(t.type)}).forEach(function(e){var r=e.channel;s.default.hasUnread(r.id)&&c(r.id,t,n)})},t.localAck=function(e){a.default.dispatch({type:u.ActionTypes.CHANNEL_LOCAL_ACK,channelId:e})},t.manualAck=function(e,t){r.default.post({url:u.Endpoints.MESSAGES(e)+"/"+t+"/ack",body:{manual:!0}})};var r=d(n(8)),a=d(n(1)),o=n(126),i=d(n(20)),l=d(n(843)),s=d(n(310)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),a.default.dispatch({type:u.ActionTypes.CHANNEL_ACK,channelId:e,immediate:t,force:n,context:u.CURRENT_APP_CONTEXT})}},6075:function(e,t,n){"use strict";t.__esModule=!0,t.show=N,t.hide=A,t.toggle=function(e){void 0===e&&(e="KEYBIND");f.default.isOpen()?A():N(e)},t.search=function(e){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SEARCH,query:e,options:O()})},t.selectResult=function(e){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SELECT,selectedIndex:e})},t.switchToResult=function(e){I(g.AnalyticEvents.QUICKSWITCHER_RESULT_SELECTED,e);var t,n=e.type,s=e.record,f={page:g.AnalyticsPages.QUICK_SWITCHER};switch(n){case g.AutocompleterResultTypes.GUILD:(t=p.default.getChannelId(s.id))?o.default.selectChannel(s.id,t,f):o.default.selectGuild(s.id,f),o.default.flushSelection(!0);break;case g.AutocompleterResultTypes.TEXT_CHANNEL:null!=(t=d.default.getChannel(s.id))&&(o.default.selectChannel(t.guild_id,s.id,f),o.default.flushSelection(!0));break;case g.AutocompleterResultTypes.VOICE_CHANNEL:null!=(t=d.default.getChannel(s.id))&&l.default.selectVoiceChannel(t.guild_id,s.id);break;case g.AutocompleterResultTypes.USER:a.default.openPrivateChannel(u.default.getId(),[s.id]),i.default.channelListScrollTo(g.ME,s.id);break;case g.AutocompleterResultTypes.GROUP_DM:o.default.selectChannel(g.ME,s.id),o.default.flushSelection(!0),i.default.channelListScrollTo(g.ME,s.id);break;case g.AutocompleterResultTypes.APPLICATION:var h=(0,y.getLibraryApplicationForApplicationId)(s.id,c.default,v.default);S(s.id,h,{analyticsParams:{source:g.AnalyticsLocations.QUICK_SWITCHER,location:g.AnalyticsLocations.QUICK_SWITCHER}})}r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SWITCH_TO,result:e}),C()};var r=E(n(1)),a=E(n(443)),o=E(n(6007)),i=E(n(6013)),l=E(n(132)),s=E(n(126)),u=E(n(12)),d=E(n(20)),c=E(n(86)),f=E(n(6164)),p=E(n(49)),h=E(n(150)),v=E(n(238)),m=E(n(18)),y=n(111),_=n(6219),g=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var S=function(){return Promise.resolve()},T=n(6046);function O(){return{selectedGuildId:h.default.getGuildId(),selectedChannelId:p.default.getChannelId(),lastSelectedChannelId:p.default.getLastSelectedChannelId()}}function I(e,t){var n=f.default.getProps(),r=n.results,a=n.queryMode,o=n.query,i=h.default.getGuildId(),l=p.default.getChannelId(i),u=r[(0,_.findNextSelected)("down",-1,r)],c={current_channel_id:l,current_guild_id:i,query_mode:a||"GENERAL",query_length:o.length,top_result_type:u?u.type:null,top_result_score:u?u.score:null,num_results_total:f.default.getResultTotals(),num_results_users:f.default.getResultTotals(g.AutocompleterResultTypes.USER),num_results_text_channels:f.default.getResultTotals(g.AutocompleterResultTypes.TEXT_CHANNEL),num_results_voice_channels:f.default.getResultTotals(g.AutocompleterResultTypes.VOICE_CHANNEL),num_results_guilds:f.default.getResultTotals(g.AutocompleterResultTypes.GUILD),num_results_group_dms:f.default.getResultTotals(g.AutocompleterResultTypes.GROUP_DM)};if(null!=l){var v=d.default.getChannel(l);c.current_channel_type=null!=v?v.type:null}if(null!=t){var y=t.type,E=t.score,S=t.record;switch(c.selected_type=y,c.selected_score=E,c.selected_index=r.indexOf(t),y){case g.AutocompleterResultTypes.GUILD:c.selected_guild_id=S.id;break;case g.AutocompleterResultTypes.TEXT_CHANNEL:case g.AutocompleterResultTypes.VOICE_CHANNEL:S instanceof s.default&&(c.selected_guild_id=null!=S.guild_id?S.guild_id:null),c.selected_channel_id=S.id;break;case g.AutocompleterResultTypes.GROUP_DM:c.selected_channel_id=S.id;break;case g.AutocompleterResultTypes.USER:c.selected_user_id=S.id}}m.default.track(e,c)}function C(){r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_HIDE})}function N(e,t){void 0===e&&(e="KEYBIND"),void 0===t&&(t=""),function(e){if(!f.default.isOpen()){var t,n=h.default.getGuildId(),r=p.default.getChannelId(n);if(null!=r){var a=d.default.getChannel(r);t=null!=a?a.type:null}m.default.track(g.AnalyticEvents.QUICKSWITCHER_OPENED,{source:e,current_guild_id:n,current_channel_id:r,current_channel_type:t})}}(e),r.default.dispatch({type:g.ActionTypes.QUICKSWITCHER_SHOW,query:t,options:O()})}function A(){I(g.AnalyticEvents.QUICKSWITCHER_CLOSED),C()}S=T.playApplication},6076:function(e,t,n){"use strict";t.__esModule=!0,t.processImage=d,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(7151)),i=l(n(6234));function l(e){return e&&e.__esModule?e:{default:e}}var s=[{name:l(n(13)).default.Messages.IMAGES,extensions:["jpg","jpeg","png","gif"]}];function u(e,t){if(null!=e){var n=new FileReader;n.onload=function(n){return t(n.target.result,e.name)},n.readAsDataURL(e)}}function d(e,t,n){"image/gif"!==e.type?u(e,function(e,r){var a=new Image;a.src=e,a.onload=function(){var e=document.createElement("canvas");e.width=a.width,e.height=a.height;var i=e.getContext("2d");i&&i.drawImage(a,0,0,e.width,e.height);var l=Math.min(Math.min(a.width,a.height),t),s=a.width<a.height?a.width/l:a.height/l,u=document.createElement("canvas");u.width=a.width/s,u.height=a.height/s,o.default.resizeCanvas(e,u,{alpha:!0},function(){var e=document.createElement("canvas");e.width=l,e.height=l;var t=(u.width-e.width)/-2,a=(u.height-e.height)/-2,o=e.getContext("2d");o&&o.drawImage(u,t,a,u.width,u.height),n(e.toDataURL("image/png"),r)})}}):u(e,function(e,t){return n(e,t)})}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._isMounted=!1,t.handleFileChange=function(e){var n=t.props.size;e.stopPropagation(),e.preventDefault();for(var r=0;r<e.currentTarget.files.length;r++){var a=e.currentTarget.files[r];null!=n?d(a,n,t.handleFileRead):u(a,t.handleFileRead)}},t.handleFileRead=function(e,n){var r=t.props.onChange;t._isMounted&&r(e,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){this._isMounted=!0},o.render=function(){var e=this.props,t=e.multiple,n=e.disabled,a=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{onChange:this.handleFileChange,filters:s,multiple:t,disabled:n,className:a})},a}(a.PureComponent);t.default=c,c.displayName="ImageInput",c.defaultProps={multiple:!0}},6077:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(77)),l=v(n(824)),s=v(n(475)),u=v(n(219)),d=v(n(18)),c=n(0),f=v(n(13)),p=v(n(5371)),h=v(n(5399));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(){return m("div",{className:h.default.premiumPromo},void 0,m(u.default,{onClick:function(){d.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:c.AnalyticsSections.FILE_UPLOAD_POPOUT}),i.default.pop(),l.default.open(c.UserSettingsSections.PREMIUM)},className:h.default.content},void 0,f.default.Messages.PREMIUM_UPLOAD_PROMO.format({maxUploadPremium:f.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM}),m("img",{alt:"",className:h.default.navArrow,src:n(6491)})))};y.displayName="PremiumPromo";var _=m(y,{}),g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.promo;return m("div",{className:p.default.uploadModalIn},void 0,m("div",{className:(0,o.default)(p.default.uploadDropModal,p.default.error)},void 0,m("div",{className:p.default.inner},void 0,m("div",{className:p.default.icons},void 0,m("div",{className:p.default.wrapOne},void 0,m("div",{className:(0,o.default)(p.default.icon,p.default.one)})),m("div",{className:p.default.wrapThree},void 0,m("div",{className:(0,o.default)(p.default.icon,p.default.three)})),m("div",{className:p.default.wrapTwo},void 0,m("div",{className:(0,o.default)(p.default.icon,p.default.two)}))),m("div",{className:p.default.title},void 0,this.props.title),m("div",{className:p.default.instructions},void 0,this.props.help),e?_:null)))},r}(a.Component);g.displayName="UploadError",g.modalConfig={backdropStyle:s.default.Styles.DARK,backdropInstant:!0};var E=g;t.default=E,e.exports=t.default},6078:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=Y(n(3)),i=Y(n(6079)),l=n(302),s=Y(n(6e3)),u=Y(n(152)),d=Y(n(77)),c=n(6136),f=n(6074),p=Y(n(12)),h=Y(n(6307)),v=Y(n(41)),m=Y(n(230)),y=Y(n(28)),_=Y(n(149)),g=Y(n(307)),E=Y(n(151)),S=Y(n(6116)),T=n(5992),O=Y(n(821)),I=n(828),C=Y(n(6496)),N=Y(n(6499)),A=Y(n(6500)),M=n(6071),P=n(106),b=n(6172),R=Y(n(314)),L=Y(n(9)),D=Y(n(6127)),w=Y(n(6065)),U=Y(n(6526)),k=n(6185),G=Y(n(6559)),F=Y(n(6571)),j=Y(n(6083)),x=Y(n(6098)),B=Y(n(5359)),H=n(0),V=Y(n(5357));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var z=function(e){var t=e.guildId;return _.default.can(H.Permissions.MANAGE_GUILD,{guildId:t})},$=function(e){var t=e.message,n=e.channel,r=e.canChat,a=e.renderReactions,o=e.canAddNewReactions,i=e.isLurking,l=n.isPrivate(),s=t.type!==H.MessageTypes.DEFAULT,u=!s&&(r||l);return{disableReactionReads:!a,disableReactionCreates:i||!u||!(!s&&(!0===o||l)),disableReactionUpdates:i||!u}},q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onResize=function(e){var n=e.target,r=e.isEditing,a=t.props,o=a.onEdit,i=a.onUpdate;r?o&&n&&o(n):i&&n&&i(n)},t.onClickUsername=function(e,n){var r=n.user;if(e.shiftKey&&!r.isNonUserBot()){var a=t.props.disablePersonalInformation,o=r.username,i=r.tag,l="@"+(a?o:i);P.ComponentDispatch.dispatchToLastSubscribed(H.ComponentActions.INSERT_TEXT,{content:l}),e.preventDefault(),e.stopPropagation();var s=t.props.channel;null!=s&&D.default.typing(s.id)}},t.onContextMenuMessage=function(e,t){if(L.default.embedded){var n=t.message.type!==H.MessageTypes.DEFAULT?H.ContextMenuTypes.MESSAGE_SYSTEM:H.ContextMenuTypes.MESSAGE_MAIN;(0,l.openContextMenu)(e,function(e){return a.createElement(F.default,K({},e,t,{type:n}))})}},t.onContextMenuUser=function(e,t){var n=t.user,r=t.channel;(0,b.openUserContextMenu)(e,n,r)},t.handleSaveMessage=function(e,n,r){var a=r.content;t.props.isFollowedNews?j.default.confirmEdit(e,n,a):u.default.editMessage(e,n,{content:a})},t.renderAccessories=function(e){var n=e.message,r=t.props,o=r.compact,i=r.channel,l=r.accessoriesClassName,s=r.gifAutoPlay,u=r.renderReactions,d=r.canAddNewReactions,c=r.inlineAttachmentMedia,f=r.inlineEmbedMedia,p=r.renderEmbeds,h=r.canChat,v=r.isLurking,m=$({message:n,channel:i,canChat:h,renderReactions:u,canAddNewReactions:d,isLurking:v});return W(I.BackgroundOpacityContext.Consumer,{},void 0,function(e){return a.createElement(U.default,K({},m,{className:l,message:n,channel:i,isCompact:o,disableAutoPlayGif:!s,disableEmbeds:!p,inlineAttachmentMedia:c,inlineEmbedMedia:f,onContextMenuMessage:t.onContextMenuMessage,backgroundOpacity:e.backgroundOpacity}))})},t.renderButtonsMessage=function(e){var n=e.message,r=e.channel,o=n.state===H.MessageStates.SENDING,l=t.props,d=l.developerMode,f=l.canManageMessages,p=l.messageOption,h=l.currentUserId,v=l.canPromoteNews;if(!1===p||o)return null;var m,y=n.author,_=f||y.id===h,g=n.type!==H.MessageTypes.DEFAULT,E=!g&&(f||r.isPrivate()),S=!g&&t.props.canEdit,T=t.props,O=T.canChat,I=T.canAddNewReactions,C=T.renderReactions,M=T.isLurking,P=$({message:n,channel:r,canChat:O,renderReactions:C,canAddNewReactions:I,isLurking:M}).disableReactionCreates;if(v){var b=R.default.findNewsLink(n);if(null!=b){var L=null!=b.embed&&b.embed.type===H.EmbedTypes.APPLICATION_NEWS;m=W(A.default,{isEdit:L,onClick:function(){return(0,c.open)(n,r)}})}}return W(a.Fragment,{},void 0,m,!P&&!g&&W(k.ButtonAddReaction,{message:n,channel:r}),W(N.default,{channel:r,message:n,developerMode:d,canEdit:S,canPin:E,canDelete:_,onStartEditMessage:u.default.startEditMessage,onRetrySendMessage:u.default.retrySendMessage,onDeleteMessage:u.default.deleteMessage,onConfirmDelete:j.default.confirmDelete,onConfirmPin:j.default.confirmPin,onOpenGuildSettings:s.default.open,onUnpinMessage:i.default.unpinMessage,onConfirmUnpin:j.default.confirmUnpin,onCanManageGuild:z,onShowReactionsModal:t.renderReactionsModal,currentUserId:h}))},t.renderEditor=function(e){var t=e.value,n=e.message,r=e.channel,a=e.onChange,o=e.onSubmit,i=e.onKeyDown,l=e.onResize;return W(w.default,{className:V.default.marginTop8,value:t,channel:r,type:H.TextareaTypes.EDIT,onChange:a,onSubmit:o,onKeyDown:i,onResize:l},n.id)},t.renderPopoutUser=function(e){return a.createElement(B.default,e)},t.renderSystemMessage=function(e){return a.createElement(G.default,K({},e,{key:e.message.id,onContextMenu:t.onContextMenuMessage}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.validateEdit=function(e){var t=e.value,n=e.channel;return(0,M.applyChatRestrictions)(null,t,n,!1,!1)},o.renderReactionsModal=function(e){var t=e.message;d.default.push(x.default,{message:t})},o.render=function(){var e=this,t=this.props,n=t.onClickAnywhere,r=t.hasDivider,o=t.compact,i=t.canFlash,l=t.enableInteraction,s=t.messages,d=t.channel,c=t.jumpSequenceId,p=t.jumpMessageId,h=t.registerMessageDOMNode,v=t.renderMentioned,m=t.groupOption,y=t.editingMessageId,_=t.disableInteractionLabel,g=t.editingContent,E=t.isFocusedWindow,S=t.className,T=t.cozyClassName,O=t.canChat,N=t.renderReactions,A=t.canAddNewReactions,M=t.gifAutoPlay,P=t.renderEmbeds,b=t.canManageMessages,R=t.developerMode,L=t.isLurking,D=t.canPromoteNews,w={messages:s,channel:d,jumpSequenceId:c,jumpMessageId:p,registerMessageDOMNode:h,editingMessageId:y,disableInteractionLabel:_,editingContent:g,isFocusedWindow:E},U=K({},$({message:s[0],channel:d,canChat:O,renderReactions:N,canAddNewReactions:A,isLurking:L}),{disableAutoPlayGif:!M,disableEmbeds:!P,disableManageMessages:!b,disableDeveloperMode:!R,disablePromoteButton:!D});return W(I.BackgroundOpacityContext.Consumer,{},void 0,function(t){return a.createElement(C.default,K({isCompact:o,onClick:n,disableDivider:r,disableJumpFlash:!i,disableInteraction:!l,disableMentionStyles:!v,onResize:e.onResize,validateEdit:e.validateEdit,onCancelEditing:u.default.endEditMessage,onConfirmDelete:j.default.confirmDelete,onChange:u.default.updateEditMessage,saveMessage:e.handleSaveMessage,editingMessageId:y,onManualAck:f.manualAck,onClickUsername:e.onClickUsername,onContextMenuMessage:e.onContextMenuMessage,onContextMenuUser:e.onContextMenuUser,onDeleteMessage:u.default.deleteMessage,renderAccessories:e.renderAccessories,renderButtonsMessage:e.renderButtonsMessage,renderEditor:e.renderEditor,renderPopoutUser:e.renderPopoutUser,renderSystemMessage:e.renderSystemMessage,renderButtonsGroup:m,className:S,cozyClassName:T,backgroundOpacity:t.backgroundOpacity},w,U))})},r}(a.Component);q.displayName="ConnectedMessageGroup",q.defaultProps={canManageMessages:!1,hasDivider:!1,popoutPosition:O.default.Positions.RIGHT,avatarSize:T.AvatarSizes.LARGE,compact:!1,messageOption:!0,canEdit:!0,jumpTargetIndex:-1,enableInteraction:!0,developerMode:!1,canFlash:!0,renderMentioned:!0,inlineAttachmentMedia:!1,inlineEmbedMedia:!1,gifAutoPlay:!1,renderEmbeds:!1,renderEmbedsSmall:!1,renderReactions:!0,canChat:!1};var X=o.default.connectStores([h.default,p.default,E.default,_.default,v.default,y.default,S.default],function(e){var t=e.channel,n=e.messages,r=e.canEdit,a=t.id,o=t.getGuildId(),i=!1!==r&&n.some(function(e){return e&&h.default.isEditing(a,e.id)}),l=i?h.default.getEditingMessageId():null,s=i?h.default.getEditingContent():null,u=E.default.isFocused(),d=g.default.hidePersonalInformation,c=m.default.isLurking(o),f=y.default.getGuild(o),T=v.default.getApplicationsForGuild(o),O=t.type===H.ChannelTypes.GUILD_NEWS,I=null!=f&&f.hasFeature(H.GuildFeatures.NEWS),C=_.default.can(H.Permissions.SEND_MESSAGES,t),N=null!=T&&T.length>0;return{currentUserId:p.default.getId(),editingMessageId:l,isFocusedWindow:u,disablePersonalInformation:d,editingContent:s,isLurking:c,canPromoteNews:O&&I&&C&&N,isFollowedNews:S.default.inExperiment(t.guild_id)&&O}})(q);t.default=X,e.exports=t.default},6079:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(8)),a=u(n(1)),o=u(n(180)),i=u(n(6306)),l=n(0),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d={pinMessage:function(e,t){var n=e.id,a=e.name;r.default.put({url:l.Endpoints.PIN(n,t)}).catch(function(){var t;t=e.isPrivate()?s.default.Messages.PIN_MESSAGE_TOO_MANY_BODY_PRIVATE_CHANNEL.format({maxPins:l.MAX_PINS_PER_CHANNEL}):s.default.Messages.PIN_MESSAGE_TOO_MANY_BODY.format({maxPins:l.MAX_PINS_PER_CHANNEL,channelName:a}),o.default.show({title:s.default.Messages.PIN_MESSAGE_TOO_MANY_TITLE,body:t,confirmText:s.default.Messages.OKAY})})},unpinMessage:function(e,t){r.default.delete({url:l.Endpoints.PIN(e.id,t)}).catch(function(){return o.default.show({title:s.default.Messages.UNPIN_MESSAGE_FAILED_TITLE,body:s.default.Messages.UNPIN_MESSAGE_FAILED_BODY,confirmText:s.default.Messages.TRY_AGAIN,cancelText:s.default.Messages.CANCEL,onConfirm:d.unpinMessage.bind(d,e,t)})})},ackPins:function(e){a.default.dirtyDispatch({type:l.ActionTypes.CHANNEL_PINS_ACK,channelId:e})},fetchPins:function(e){var t=i.default.getPinnedMessages(e);t&&(t.loaded||t.loading)||(a.default.dirtyDispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES,channelId:e}),r.default.get({url:l.Endpoints.PINS(e),retries:2}).then(function(t){a.default.dispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES_SUCCESS,messages:t.body,channelId:e})},function(){a.default.dispatch({type:l.ActionTypes.LOAD_PINNED_MESSAGES_FAILURE,channelId:e})}))}},c=d;t.default=c,e.exports=t.default},6080:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(128)),l=c(n(5992)),s=c(n(301)),u=c(n(5370)),d=c(n(5418));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n){return f("div",{className:t},n,e)}p.displayName="defaultRenderMoreUsers";var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).defaultRenderUser=function(e,n,r,a){var s=t.props,c=s.onClick,p=s.size,h=e instanceof i.default?e:null!=e?e.user:null;return null==h?f("div",{className:(0,o.default)(d.default.emptyUser,n)},r):f(l.default,{src:h.getAvatarURL("png"),size:p,className:(0,o.default)(n,u.default.cursorPointer),onClick:function(e){return null!=c?c(e,h,t._ref):null}},h.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,r=e.renderUser,a=void 0===r?this.defaultRenderUser:r,o=e.renderMoreUsers,i=[],l=t.length===n?t.length:n-1,s=0;s<l&&s<t.length;){var u=s===t.length-1;i.push(a(t[s]||null,u?null:d.default.avatarMasked,"user-"+s,u)),s++}if(s<t.length){var c=Math.min(t.length-s,99);i.push(o("+"+c,d.default.moreUsers,"more-users",c))}return i},c.renderIcon=function(){return this.props.icon?f("div",{className:d.default.iconContainer},void 0,f(s.default,{name:s.default.Names.SPEAKER,width:16,height:16,foreground:d.default.foreground,className:d.default.icon})):null},c.render=function(){var e=this,t=this.props.className;return a.createElement("div",{className:(0,o.default)(t,d.default.container),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e._ref=t})},this.renderIcon(),this.renderUsers())},r}(a.PureComponent);h.displayName="VoiceUserSummaryItem",h.defaultProps={max:10,renderMoreUsers:p,size:l.default.Sizes.XSMALL};var v=h;t.default=v,e.exports=t.default},6082:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=u(n(6008)),o=u(n(6117)),i=n(6014),l=n(0),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){var t,n;function u(){return e.apply(this,arguments)||this}return n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,u.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,u=e.className,c=e.mediaPlayerClassName,f=e.poster,p=e.fileName,h=e.naturalWidth,v=e.naturalHeight,m=e.playable,y=e.volume,_=e.autoPlay,g=e.autoMute,E=e.mediaPlayerRef,S=e.onPlay,T=e.onEnded,O=e.onVolumeChange,I=e.onMute,C=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["src","fileSize","className","mediaPlayerClassName","poster","fileName","naturalWidth","naturalHeight","playable","volume","autoPlay","autoMute","mediaPlayerRef","onPlay","onEnded","onVolumeChange","onMute"]);return r.createElement(a.default,d({alt:s.default.Messages.VIDEO,className:u,src:f},C,{minWidth:o.default.minWidth,shouldLink:!1,shouldAnimate:!1}),function(e){var a=e.src,s=e.size,u=s.width,d=s.height,f=!(h<=l.MAX_VIDEO_WIDTH&&v<=l.MAX_VIDEO_HEIGHT||h<=l.MAX_VIDEO_HEIGHT&&v<=l.MAX_VIDEO_WIDTH);return r.createElement(o.default,{className:c,forceExternal:f,src:t,poster:a,width:u,height:d,volume:y,autoPlay:_||!1,autoMute:g||!1,type:o.default.Types.VIDEO,fileName:p,fileSize:(0,i.sizeString)(n),playable:m,ref:E,onPlay:S,onEnd:T,onVolumeChange:O,onMute:I})})},u}(r.Component);t.default=c,c.displayName="LazyVideo",e.exports=t.default},6083:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=T(n(17)),i=T(n(3)),l=T(n(6079)),s=T(n(152)),u=T(n(77)),d=n(6136),c=T(n(6116)),f=T(n(6208)),p=T(n(5998)),h=T(n(125)),v=n(6576),m=T(n(6078)),y=T(n(6577)),_=T(n(445)),g=n(0),E=T(n(13)),S=T(n(5450));function T(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={report:!1},t.handleDelete=function(){var e=t.state.report,n=t.props,r=n.channel,a=n.message;if(e)u.default.push(y.default,{channel:r,message:a,onReport:function(){s.default.deleteMessage(r.id,a.id)}});else{var o=a.firstNewsEmbed();r.type===g.ChannelTypes.GUILD_NEWS&&null!=o&&null!=o.referenceId&&(0,d.deleteNews)(o.referenceId,a.channel_id),s.default.deleteMessage(r.id,a.id)}},t.handleToggleReport=function(e){t.setState({report:e.currentTarget.checked})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.state.report,r=this.props,o=r.channel,i=r.message,l=r.showContextMenuHint,s=r.newsFollowingEnabled,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(r,["channel","message","showContextMenuHint","newsFollowingEnabled"]),d=s&&o.type===g.ChannelTypes.GUILD_NEWS;return l&&(e=I(f.default,{className:S.default.spacingTop},void 0,E.default.Messages.DELETE_MESSAGE_CONTEXT_MENU_HINT.format())),(0,v.canReportMessage)(i)&&(t=I(p.default,{value:n,onChange:this.handleToggleReport,hideBorder:!0,className:S.default.spacingTop},void 0,E.default.Messages.DELETE_MESSAGE_REPORT)),a.createElement(_.default,O({header:d?E.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER:E.default.Messages.DELETE_MESSAGE_TITLE,confirmText:E.default.Messages.DELETE,cancelText:E.default.Messages.CANCEL,onConfirm:this.handleDelete},u),I(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,d?E.default.Messages.DELETE_FOLLOWED_NEWS_BODY:E.default.Messages.DELETE_MESSAGE_BODY),I("div",{className:S.default.message},void 0,I(m.default,{channel:o,messages:[i],enableInteraction:!1})),t,e)},r}(a.PureComponent);C.displayName="DeleteModal";var N=i.default.connectStores([c.default],function(e){var t=e.channel;return{newsFollowingEnabled:c.default.inExperiment(t.guild_id)}})(C);var A={confirmPin:function(e,t){var n=I(m.default,{channel:e,messages:[t],enableInteraction:!1});u.default.push(function(r){var o;return o=e.isPrivate()?E.default.Messages.PIN_MESSAGE_BODY_PRIVATE_CHANNEL:E.default.Messages.PIN_MESSAGE_BODY.format({channelName:e.toString()}),a.createElement(_.default,O({red:!1,header:E.default.Messages.PIN_MESSAGE_TITLE,confirmText:E.default.Messages.PIN_CONFIRM,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return l.default.pinMessage(e,t.id)}},r),I(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,o),I("div",{className:S.default.message},void 0,n))})},confirmUnpin:function(e,t){var n=I(m.default,{channel:e,messages:[t],enableInteraction:!1});u.default.push(function(r){return a.createElement(_.default,O({header:E.default.Messages.UNPIN_MESSAGE_TITLE,confirmText:E.default.Messages.UNPIN_CONFIRM,cancelText:E.default.Messages.CANCEL,onConfirm:function(){return l.default.unpinMessage(e,t.id)}},r),I(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,E.default.Messages.UNPIN_MESSAGE_BODY),I("div",{className:(0,o.default)(S.default.message,S.default.spacing)},void 0,n),I(f.default,{},void 0,E.default.Messages.UNPIN_MESSAGE_CONTEXT_MENU_HINT.format()))})},confirmDelete:function(e,t,n){void 0===n&&(n=!1),u.default.push(function(r){return a.createElement(N,O({channel:e,message:t,showContextMenuHint:n},r))})},confirmEdit:function(e,t,n){u.default.push(function(r){return a.createElement(_.default,O({header:E.default.Messages.MODIFY_FOLLOWED_NEWS_HEADER,confirmText:E.default.Messages.CONFIRM,cancelText:E.default.Messages.CANCEL,red:!1,onConfirm:function(){return s.default.editMessage(e,t,{content:n})}},r),I(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY,className:S.default.spacing},void 0,E.default.Messages.EDIT_FOLLOWED_NEWS_BODY))})}};t.default=A,e.exports=t.default},6084:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(441),n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=!1,s=!1,u=!1,d=!1,c=!1,f=!1,p=null,h=null;function v(){l=!1}function m(){d=!1}function y(){c=!1}function _(){f=!0}function g(){f=!1}var E=new(function(e){var t,n,r,a,o;function v(){return e.apply(this,arguments)||this}return n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=v,(a=[{key:"isBusy",get:function(){return l||s||f||u}},{key:"isUpdatingPaymentSource",get:function(){return s}},{key:"isRemovingPaymentSource",get:function(){return u}},{key:"isSyncing",get:function(){return d||c}},{key:"editSourceError",get:function(){return p}},{key:"removeSourceError",get:function(){return h}}])&&i(r.prototype,a),o&&i(r,o),v}(r.default.Store))(a.default,{BILLING_PAYMENT_SOURCE_CREATE_START:function(e){l=!0},BILLING_PAYMENT_SOURCE_CREATE_SUCCESS:function(e){return v()},BILLING_PAYMENT_SOURCE_CREATE_FAIL:function(e){return v()},STRIPE_TOKEN_FAILURE:function(e){return v()},BILLING_PAYMENT_SOURCE_REMOVE_START:function(e){u=!0},BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS:function(e){u=!1},BILLING_PAYMENT_SOURCE_REMOVE_FAIL:function(e){var t=e.error;u=!1,h=t},BILLING_PAYMENT_SOURCE_REMOVE_CLEAR_ERROR:function(e){h=null},BILLING_PAYMENT_SOURCE_UPDATE_START:function(e){s=!0},BILLING_PAYMENT_SOURCE_UPDATE_SUCCESS:function(e){s=!1},BILLING_PAYMENT_SOURCE_UPDATE_FAIL:function(e){var t=e.error;s=!1,p=t},BILLING_PAYMENT_SOURCE_UPDATE_CLEAR_ERROR:function(e){p=null},BILLING_PAYMENT_SOURCES_FETCH_START:function(e){d=!0},BILLING_PAYMENT_SOURCES_FETCH_SUCCESS:function(e){return m()},BILLING_PAYMENT_SOURCES_FETCH_FAIL:function(e){return m()},BILLING_SUBSCRIPTION_FETCH_START:function(e){c=!0},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return y()},BILLING_SUBSCRIPTION_FETCH_FAIL:function(e){return y()},BILLING_SUBSCRIPTION_UPDATE_START:function(e){return _()},BILLING_SUBSCRIPTION_CANCEL_START:function(e){return _()},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:function(e){return g()},BILLING_SUBSCRIPTION_UPDATE_FAIL:function(e){return g()},BILLING_SUBSCRIPTION_CANCEL_FAIL:function(e){return g()},BILLING_SUBSCRIPTION_CANCEL_SUCCESS:function(e){return g()}});t.default=E,e.exports=t.default},6085:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6590)),a=l(n(131)),o=l(n(57)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var i=a,l=o.default.getEligibleExperiment(i);if(null!=l)return l}return null}var u={getFirstEligibleUserExperiment:s,isInExperimentBucket:function(e,t){return o.default.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.name!==t.name)return!1;if(e.type===i.ExperimentTypes.USER&&t.type===i.ExperimentTypes.USER)return(0,r.default)(e.context,t.context)}return!0},triggerFirstEligibleUserExperiment:function(e){var t=s(e);if(t)return a.default.trigger(t),t},getExperimentBucketName:function(e){return e===i.ExperimentBuckets.CONTROL?"Control":e===i.ExperimentBuckets.NOT_ELIGIBLE?"Not Eligible":"Treatment "+e}};t.default=u,e.exports=t.default},6090:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={saveDraft:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.DRAFT_SAVE,channelId:e,draft:t})},changeDraft:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.DRAFT_CHANGE,channelId:e,draft:t})}};t.default=i,e.exports=t.default},6091:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={show:function(){this.deactivateRagingDemon(),a.default.dispatch({type:o.ActionTypes.SHOW_KEYBOARD_SHORTCUTS})},hide:function(){a.default.dispatch({type:o.ActionTypes.HIDE_KEYBOARD_SHORTCUTS})},activateRagingDemon:function(){a.default.dispatch({type:o.ActionTypes.ACTIVATE_RAGING_DEMON})},deactivateRagingDemon:function(){a.default.dispatch({type:o.ActionTypes.DEACTIVATE_RAGING_DEMON})}};t.default=i,e.exports=t.default},6092:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a=T(n(6167)),o=T(n(6302)),i=T(n(6)),l=T(n(3)),s=n(56),u=T(n(1)),d=T(n(446)),c=T(n(317)),f=T(n(6168)),p=T(n(6022)),h=T(n(18)),v=T(n(9)),m=n(236),y=T(n(46)),_=T(n(464)),g=T(n(182)),E=T(n(307)),S=n(0);function T(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I={},C={},N=0,A=!0,M={},P=[S.KeybindCustomActions.PUSH_TO_TALK,S.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,S.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET];function b(e){if(v.default.embedded)v.default.inputEventUnregister(parseInt(e,10));else if(I[e]){var t=C[e],n=M[t.action];n&&!0===n.isPressed&&r.nextTick(function(){return n.onTrigger(!1)}),I[e].reset(),I[e]=null}}function R(e){if(A&&!__OVERLAY__){var t=e.shortcut,n=e.action,r=e.context;if(""!==t&&null!=t&&n!==S.KeybindCustomActions.UNASSIGNED)if(null!=M[n]){var i=e.id,l=M[n].keyEvents;!function(e,t,n,r){if(v.default.embedded)v.default.inputEventRegister(parseInt(e),t,n,r);else{b(e);var i=(0,o.default)(new a.default(document));r.keyup&&i.bindGlobal((0,m.toString)(t),function(){return n(!1)},"keyup"),r.keydown&&i.bindGlobal((0,m.toString)(t),function(){return n(!0)},"keydown"),I[e]=i}}(i,t,function(e){return function(e,t,n){var r=C[e];null!=r&&M[r.action].onTrigger(t,n)}(i,e,r)},O({focused:!0,blurred:!0,keydown:!1,keyup:!1},l)),p.default.validateKeybind((0,m.toString)(e.shortcut))}else console.error("KeybindStore: Looking for callback action "+n+" but it doesn't exist in this version. Skipping")}}function L(e){var t,n=O({id:N.toString(),action:S.KeybindCustomActions.UNASSIGNED,shortcut:[],managed:!1},e);return C=O({},C,((t={})[n.id]=n,t)),N+=1,n}function D(e){b(e.id),delete(C=O({},C))[e.id]}function w(e){var t,n=e.keybind;C=O({},C,((t={})[n.id]=n,t)),__OVERLAY__||(h.default.track(S.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!0,keybind_has_shortcut:!!n.shortcut.length}),n.action===S.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?h.default.track(S.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{hotkey:n.action===S.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?(0,m.toString)(n.shortcut):null}):n.action===S.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&h.default.track(S.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_activation_hotkey:n.action===S.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET?(0,m.toString)(n.shortcut):null})),R(n)}function U(){return!1!==(e=y.default.getShortcuts(),i.default.each(C,function(t){t.action!==S.KeybindCustomActions.PUSH_TO_TALK||!0!==t.managed||null!=t.context&&null!=e[t.context]||D(t)}),i.default.reduce(y.default.getShortcuts(),function(e,t,n){var r=i.default.find(C,function(e){return e.action===S.KeybindCustomActions.PUSH_TO_TALK&&!0===e.managed&&e.context===n});if(null==r)R(L({action:S.KeybindCustomActions.PUSH_TO_TALK,shortcut:t,managed:!0,context:n}));else{if(null==t)return e||!1;w({keybind:O({},r,{shortcut:"string"==typeof t?(0,m.toCombo)(t):t,context:n})})}return!0},!1)||function(){if(_.default.enabled){if(null!=i.default.find(C,function(e){return e.action===S.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed}))return!1;var e=(0,m.toCombo)("shift+`");R(L({action:S.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,shortcut:e,managed:!0}))}}()||function(){if(!_.default.enabled)return!1;if(null!=i.default.find(C,function(e){return e.action===S.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed}))return!1;var e=(0,m.toCombo)("]");R(L({action:S.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,shortcut:e,managed:!0}))}());var e}M[S.KeybindCustomActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},M[S.KeybindCustomActions.PUSH_TO_TALK]={onTrigger:function(e,t){y.default.getMode(t)===S.InputModes.PUSH_TO_TALK&&(M[S.KeybindCustomActions.PUSH_TO_TALK].isPressed=e,y.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!1)},t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},M[S.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){y.default.getMode()===S.InputModes.PUSH_TO_TALK&&(M[S.KeybindCustomActions.PUSH_TO_TALK_PRIORITY].isPressed=e,y.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!0)},s.MediaEngineContextTypes.DEFAULT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},M[S.KeybindCustomActions.PUSH_TO_MUTE]={onTrigger:function(e){y.default.getMode()===S.InputModes.VOICE_ACTIVITY&&(y.default.isSelfDeaf()||(M[S.KeybindCustomActions.PUSH_TO_MUTE].isPressed=e,d.default.setTemporarySelfMute(e)))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},M[S.KeybindCustomActions.TOGGLE_MUTE]={onTrigger:function(){d.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},M[S.KeybindCustomActions.TOGGLE_DEAFEN]={onTrigger:function(){d.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},M[S.KeybindCustomActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=y.default.getMode()===S.InputModes.PUSH_TO_TALK?S.InputModes.VOICE_ACTIVITY:S.InputModes.PUSH_TO_TALK;d.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},M[S.KeybindCustomActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=_.default.enabled;c.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},M[S.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=_.default.getFocusedPID();null!=t&&(_.default.isReady(t)||_.default.isCrashed(t))&&(e?c.default.setUILocked(!g.default.isUILocked(t),t):c.default.setInputLocked(!_.default.isInputLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},M[S.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=_.default.getFocusedPID();null!=e&&(null!=e||!1)&&g.default.isPinned(S.OverlayWidgets.TEXT)&&_.default.isReady(e)&&_.default.isInputLocked(e)&&c.default.activateRegion(S.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},M[S.KeybindCustomActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){f.default.setEnabled(!E.default.enabled)},keyEvents:{keyup:!0,keydown:!1}};var k=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){__OVERLAY__||this.waitFor(y.default,_.default),C=e||{},i.default.forEach(C,function(e){N=Math.max(parseInt(e.id,10),N)+1;try{R(e)}catch(t){console.error("Failed to register keybind",e,t)}})},a.getState=function(){return C},a.getKeybindList=function(){var e=[];for(var t in C)C.hasOwnProperty(t)&&e.push((0,m.toString)(C[t].shortcut));return e},a.getOverlayKeybind=function(){return i.default.find(C,function(e){return e.action===S.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed})},a.getOverlayChatKeybind=function(){return i.default.find(C,function(e){return e.action===S.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed})},r}(l.default.PersistedStore);k.persistKey="keybinds",k.migrations=[function(e){void 0===e&&(e={});var t=e,n=t.v,r=t.keybinds,a=void 0===r?e:r;return i.default.reduce(a,function(e,t,r){var a=parseInt(t.id,10);return isNaN(a)||t.id!==r?e:((null==n||n<2)&&("string"==typeof t.shortcut?(t.shortcut=t.shortcut.replace("escape","esc").replace("capslock","caps lock").replace("numlock","num lock").replace("pageup","page up").replace("pagedown","page down"),t.shortcut=(0,m.toCombo)(t.shortcut)):t.shortcut=t.shortcut.map(function(e){return e.length<3?[].concat(e,[(0,m.getEnv)()]):e})),e[r]=t,e)},{})},function(e){return Object.keys(e).filter(function(t){var n=e[t];return P.includes(n.action)&&!0===n.managed}).length!==P.length?(U(),C):e}];var G=new k(u.default,{CONNECTION_OPEN:function(e){return U()},AUDIO_SET_MODE:function(e){return U()},OVERLAY_SET_ENABLED:function(e){return U()},RPC_APP_CONNECTED:function(e){return U()},RPC_APP_DISCONNECTED:function(e){return U()},KEYBINDS_ADD_KEYBIND:function(e){L()},KEYBINDS_DELETE_KEYBIND:function(e){var t=e.id,n=C[t];__OVERLAY__||h.default.track(S.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!1,keybind_has_shortcut:!1}),null!=n&&D(n)},KEYBINDS_SET_KEYBIND:w,KEYBINDS_ENABLE_ALL_KEYBINDS:function(e){var t=e.enable;A=t,t?(p.default.enable(),i.default.forEach(C,R)):(p.default.disable(),i.default.forEach(C,function(e){return b(e.id)}))}});t.default=G,e.exports=t.default}).call(this,n(58))},6093:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=i({},n(6507),{cancel:function(e){a.default.dispatch({type:o.ActionTypes.UPLOAD_CANCEL_REQUEST,file:e})}});t.default=l,e.exports=t.default},6094:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=u(n(460)),i=u(n(9)),l=n(0),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=null,f="",p="",h=[],v=[],m=i.default.isOSX()?l.TenorFormats.MEDIUMGIF:l.TenorFormats.MP4,y=[];var _=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getAnalyticsID=function(){return c},a.getQuery=function(){return f},a.getResultQuery=function(){return p},a.getResultItems=function(){return h},a.getTrendingCategories=function(){return v},a.getSelectedFormat=function(){return m},a.getSuggestions=function(){return y},r}(r.default.Store))(a.default,{GIF_PICKER_INITIALIZE:function(e){c=e.analyticsID},GIF_PICKER_QUERY:function(e){""===(f=e.query)&&(p="",h=[],y=[])},GIF_PICKER_QUERY_SUCCESS:function(e){if(null!=e.query&&f===p)return!1;null!=e.query&&(p=e.query),h=e.items.map(function(e){return{width:e.width,height:e.height,src:e.src,url:e.url,id:e.id,format:function(e){switch(e){case l.GIPHYFormats.FIXED_HEIGHT_MP4:case l.GIPHYFormats.FIXED_HEIGHT_SMALL_MP4:case l.GIPHYFormats.FIXED_WIDTH_MP4:case l.GIPHYFormats.FIXED_WIDTH_SMALL_MP4:case l.GIPHYFormats.DOWNSIZED_SMALL_MP4:case l.GIPHYFormats.ORIGINAL_MP4:case l.TenorFormats.MP4:case l.TenorFormats.TINYMP4:case l.TenorFormats.NANOMP4:case l.TenorFormats.WEBM:case l.TenorFormats.TINYWEBM:case l.TenorFormats.NANOWEBM:return!0;default:return!1}}(m)?l.GIFResultFormat.VIDEO:l.GIFResultFormat.IMAGE}})},GIF_PICKER_QUERY_FAILURE:function(e){var t=e.query;if(null==t)return!1;p=t,h=[]},GIF_PICKER_TRENDING_FETCH_SUCCESS:function(e){var t=e.trendingCategories;v=[{type:l.GIFPickerResultTypes.TRENDING_GIFS,icon:o.default.TRENDING_UP,name:s.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS,src:e.trendingGIFPreview.src,format:l.GIFResultFormat.IMAGE}].concat(t.map(function(e){return d({},e,{type:l.GIFPickerResultTypes.TRENDING_CATEGORY,format:l.GIFResultFormat.IMAGE})}))},GIF_PICKER_SUGGESTIONS_SUCCESS:function(e){var t=e.items;y=t}});t.default=_,e.exports=t.default},6095:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5433));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t,n=e.tag,i=void 0===n?"div":n,l=e.padded,s=void 0===l||l,u=e.inset,d=void 0!==u&&u,c=e.className,f=e.children,p=e.onClick;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i,{onClick:p,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:(0,a.default)(c,(t={},t[o.default.outer]=!d,t[o.default.inset]=d,t[o.default.padded]=s,t[o.default.interactive]=null!=p,t))},void 0,f)},e.exports=t.default},6096:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(6)),a=f(n(4)),o=f(n(3)),i=n(78),l=f(n(1)),s=n(854),u=f(n(6187)),d=n(321),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var p={},h={},v=new Set,m=new Set,y=new Set,_={},g=new Set,E={},S={},T=null,O=null,I=null,C=new Set;function N(e){var t=u.default.createFromServer(e),n=t.code;if(null!=h[n])h[n]=h[n].merge(t);else if(h[n]=t,null!=t.expiresAt){var r=new i.Timeout;p[n]=r,function e(t){var n=h[t];if(null==n||null==n.expiresAt)return;var r=n.expiresAt.valueOf()-(0,a.default)().valueOf();if(r<=0)delete h[t],delete p[t],R.emitChange();else{var o=p[t];if(null==o)return;o.start(Math.min(c.MAX_TIMEOUT_MS,r),function(){return e(t)})}}(n)}}function A(e,t){if(void 0===t&&(t=!1),t&&!C.has(e.channel_id))return!1;var n=(0,d.findGiftCodes)(e.content);return 0!==n.length&&(n.forEach(function(e){v.has(e)||y.has(e)||(M({code:e}),l.default.wait(function(){return(0,s.resolveGiftCode)(e,!1,!0).catch(c.NOOP_NULL)}))}),!1)}function M(e){var t=e.code;v.add(t)}function P(e){return A(e.message,!0)}function b(e){var t=e.channelId,n=e.messages;C.add(t),n.forEach(function(e){return A(e,!0)})}var R=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.isOpen=function(){return null!=T},o.getProps=function(){return{giftCode:null!=T?h[T]:null,channelContext:O,analyticsLocation:I}},o.get=function(e){var t=h[e];return null==t||t.isExpired()?null:t},o.getError=function(e){return null!=e?S[e]:null},o.getForGifterSKUAndPlan=function(e,t,n){return r.default.values(h).filter(function(r){return r.userId===e&&r.skuId===t&&(null==n||r.subscriptionPlanId===n)&&!r.isExpired()})},o.getIsResolved=function(e){return y.has(e)},o.getIsAccepting=function(e){return m.has(e)},o.getNativeAppState=function(e){return _[e]},o.getUserGiftCodesFetchingForSKUAndPlan=function(e,t){return g.has((0,d.makeComboId)(e,t))},o.getUserGiftCodesLoadedAtForSKUAndPlan=function(e,t){return E[(0,d.makeComboId)(e,t)]},o.getResolvingCodes=function(){return Array.from(v)},o.getResolvedCodes=function(){return Array.from(y)},o.getAcceptingCodes=function(){return Array.from(m)},o.getChannelContext=function(){return O},a}(o.default.Store))(l.default,{CONNECTION_OPEN:function(e){return C.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&C.add(t),!1},GIFT_CODE_RESOLVE:M,GIFT_CODE_RESOLVE_SUCCESS:function(e){var t=e.giftCode;return v.delete(t.code),y.add(t.code),N(t)},GIFT_CODE_RESOLVE_FAILURE:function(e){var t=e.code;v.delete(t),y.add(t)},GIFT_CODE_REDEEM:function(e){var t=e.code;m.add(t)},GIFT_CODE_REDEEM_SUCCESS:function(e){var t=e.code;m.delete(t);var n=h[t];null!=n&&(h[t]=n.merge({redeemed:!0,uses:n.uses+1}))},GIFT_CODE_REDEEM_FAILURE:function(e){var t=e.code,n=e.error;m.delete(t);var r=h[t];if(S[t]=n,null!=r)switch(n.code){case c.AbortCodes.UNKNOWN_GIFT_CODE:h[t]=r.set("revoked",!0);break;case c.AbortCodes.INVALID_GIFT_REDEMPTION_EXHAUSTED:h[t]=r.set("uses",r.maxUses)}},GIFT_CODE_REVOKE_SUCCESS:function(e){var t=e.code;delete h[t];var n=p[t];null!=n&&(n.stop(),delete p[t]),y.add(t)},GIFT_CODE_CREATE_SUCCESS:function(e){N(e.giftCode)},GIFT_CODES_FETCH:function(e){var t=e.skuId,n=e.subscriptionPlanId;g.add((0,d.makeComboId)(t,n))},GIFT_CODES_FETCH_SUCCESS:function(e){var t=e.giftCodes,n=e.skuId,r=e.subscriptionPlanId;t.forEach(N);var a=(0,d.makeComboId)(n,r);E[a]=Date.now(),g.delete(a)},GIFT_CODES_FETCH_FAILURE:function(e){var t=e.skuId,n=e.subscriptionPlanId;g.delete((0,d.makeComboId)(t,n))},GIFT_CODE_NATIVE_APP_MODAL_OPEN:function(e){var t=e.code;_[t]=c.NativeAppStates.OPENING},GIFT_CODE_NATIVE_APP_MODAL_OPEN_SUCCESS:function(e){var t=e.code;_[t]=c.NativeAppStates.OPEN},GIFT_CODE_NATIVE_APP_MODAL_OPEN_FAILURE:function(e){var t=e.code;_[t]=c.NativeAppStates.OPEN_FAIL},MESSAGE_CREATE:P,MESSAGE_UPDATE:P,LOAD_MESSAGES_SUCCESS:b,LOAD_MESSAGES_AROUND_SUCCESS:b,LOAD_RECENT_MENTIONS_SUCCESS:function(e){e.messages.forEach(function(e){return A(e)})},LOAD_PINNED_MESSAGES_SUCCESS:function(e){e.messages.forEach(function(e){return A(e)})},SEARCH_FINISH:function(e){e.messages.forEach(function(e){e.forEach(function(e){return A(e)})})},GIFT_CODE_MODAL_OPEN:function(e){var t=e.code,n=e.channelId,r=e.analyticsLocation;T=t,O=n,I=r},GIFT_CODE_MODAL_CLOSE:function(e){return T=null,O=null,void(I=null)},GIFT_CODE_UPDATE:function(e){var t=e.uses,n=e.code,r=h[n];null!=r&&(h[n]=r.set("uses",Math.max(r.uses,t)))}}),L=R;t.default=L,e.exports=t.default},6097:function(e,t,n){"use strict";t.__esModule=!0,t.ResponsiveLoadingEmbedTile=t.ResponsiveEmbedTile=t.HORIZONTAL_EMBED_BREAKPOINT=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(6188)),l=s(n(5438));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.HORIZONTAL_EMBED_BREAKPOINT=660;var c=function(e){var t;return a.createElement(i.default,d({},e,{className:(0,o.default)(e.className,(t={},t[l.default.embedVertical]=!e.isHorizontal,t[l.default.embedHorizontal]=e.isHorizontal,t))}))};t.ResponsiveEmbedTile=c,c.displayName="ResponsiveEmbedTile";var f=function(e){var t=e.isHorizontal;return a.createElement(c,d({},e,{media:function(){var e;return u("div",{className:(0,o.default)(l.default.loadingDescription)},void 0,u("div",{className:(0,o.default)(l.default.loadingBackgroundWrapper,(e={},e[l.default.loadingBackgroundWrapperHorizontal]=t,e))},void 0,u("div",{className:l.default.loadingBackground})))},title:function(){var e;return u("div",{className:(0,o.default)(l.default.loadingImage,(e={},e[l.default.loadingImageHorizontal]=t,e))})}}))};t.ResponsiveLoadingEmbedTile=f,f.displayName="ResponsiveLoadingEmbedTile"},6098:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o=G(n(2)),i=k(n(17)),l=k(n(6)),s=k(n(3)),u=n(302),d=G(n(459)),c=k(n(5358)),f=k(n(183)),p=k(n(20)),h=k(n(71)),v=k(n(883)),m=k(n(225)),y=k(n(35)),_=k(n(14)),g=k(n(219)),E=k(n(148)),S=k(n(301)),T=k(n(220)),O=k(n(308)),I=k(n(438)),C=k(n(125)),N=k(n(437)),A=k(n(79)),M=k(n(158)),P=k(n(87)),b=k(n(6021)),R=k(n(6070)),L=k(n(845)),D=n(0),w=k(n(5357)),U=k(n(5449));function k(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var H=function(e){function t(){return e.apply(this,arguments)||this}return B(t,e),t.prototype.render=function(){var e,t,n=this.props,r=n.emoji,a=n.count,o=n.selected,l=n.setSelected,s=null==r.id?M.default.getURL(r.name):A.default.getEmojiURL({id:r.id,animated:r.animated});t=null==r.id?f.default.convertSurrogateToName(r.name):":"+r.name+":";var u=s?x("img",{className:U.default.emoji,src:s,alt:r.name}):x("span",{className:(0,i.default)(U.default.emoji,U.default.emojiText)},void 0,r.name);return x(N.default,{position:N.default.Positions.LEFT,text:t},void 0,x(g.default,{className:(0,i.default)((e={},e[U.default.reactionDefault]=!o,e[U.default.reactionSelected]=o,e)),onClick:l},void 0,u,x(C.default,{color:C.default.Colors.PRIMARY,className:U.default.count},void 0,a)))},t}(o.PureComponent);H.displayName="Reaction";var V=function(e){function t(t){var n;return j(n=e.call(this,t)||this).renderUserContextMenu=n.renderUserContextMenu.bind(j(n)),j(n).removeReaction=n.removeReaction.bind(j(n)),n}B(t,e);var n=t.prototype;return n.removeReaction=function(){var e=this.props,t=e.emoji,n=e.user,r=e.message,a=e.channel;d.removeReaction(a.id,r.id,t,n.id)},n.renderUserContextMenu=function(e){var t=this;(0,u.openContextMenu)(e,function(e){return o.createElement(c.default,F({},e,{type:D.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id}))})},n.render=function(){var e,t=this.props,n=t.user,r=t.guildId,a=t.channel,o=t.final,l=P.default.can(D.Permissions.MANAGE_MESSAGES,_.default.getCurrentUser(),a)?x(g.default,{onClick:this.removeReaction},void 0,x(S.default,{name:S.default.Names.CLOSE,width:16,height:16,className:U.default.remove})):null,s=null!=r&&h.default.getNick(r,n.id);return x(E.default,{className:(0,i.default)((e={},e[U.default.reactorDefault]=!o,e[U.default.reactorFinal]=o,e)),onContextMenu:this.renderUserContextMenu,align:E.default.Align.CENTER},void 0,x(E.default.Child,{wrap:!0,grow:0,shrink:0,className:w.default.marginReset},void 0,x(b.default,{user:n,size:"xsmall"})),x(E.default.Child,{},void 0,x(C.default,{color:C.default.Colors.PRIMARY,className:U.default.name},void 0,s&&x("span",{className:U.default.nickname},void 0,s),x(R.default,{user:n,className:s?U.default.tagFaded:U.default.tag,discriminatorClass:U.default.discriminator}))),l)},t}(o.PureComponent);V.displayName="Reactor";var Y=s.default.connectStores([v.default],function(e){var t=e.message,n=e.reaction,r=v.default.getReactions(t.getChannelId(),t.id,n.emoji);return{hasMore:n.count>Object.keys(r).length,reactors:Object.values(r)}})(function(e){function t(t){var n;return j(n=e.call(this,t)||this).handleScroll=n.handleScroll.bind(j(n)),n.state={lastId:null,loadingMore:!1},n}B(t,e);var n=t.prototype;return n.UNSAFE_componentWillMount=function(){this.loadMore()},n.UNSAFE_componentWillReceiveProps=function(e){var t=this;l.default.isEqual(this.props.reaction,e.reaction)||this.setState({lastId:null,loadingMore:!1},function(){return t.loadMore()})},n.handleScroll=function(){var e=this.refs.SCROLLER_REF.getScrollerNode();e.scrollTop+e.offsetHeight>=e.scrollHeight-44&&this.props.hasMore&&!this.state.loadingMore&&this.loadMore()},n.loadMore=function(){var e=this,t=this.props,n=t.message,r=t.reaction,a=this.state.lastId;this.setState({loadingMore:!0}),d.getReactions(n.getChannelId(),n.id,r.emoji,a).then(function(t){return e.setState({loadingMore:!1,lastId:t[t.length-1].id})})},n.render=function(){var e=this.props,t=e.message,n=e.guildId,r=e.channel,a=e.reaction,i=e.hasMore,l=e.reactors,s=l.map(function(e,o){return x(V,{message:t,emoji:a.emoji,guildId:n,channel:r,user:e,final:o===l.length-1},e.id)});return!s.length&&this.state.loadingMore?s.push(x(I.default,{className:U.default.spinner},"loadingMore")):i&&s.push(x(I.default,{className:U.default.spinnerMore},"hasMore")),o.createElement(L.default,{outerClassName:U.default.reactors,className:"scroller",fade:!0,theme:L.default.Themes.GHOST_HAIRLINE,ref:"SCROLLER_REF",onScroll:i?this.handleScroll:void 0,elementHeight:44,batchEndMultiplier:2},s)},t}(o.PureComponent)),W=x(I.default,{}),K=function(e){function t(t){var n,r=(n=e.call(this,t)||this).props.reactions;return n.state={selectedReaction:r[0]},n}B(t,e);var n=t.prototype;return n.UNSAFE_componentWillUpdate=function(e){var t=this.props,n=t.reactions,a=t.onClose;n.length!==e.reactions.length&&0===e.reactions.length&&r(a)},n.setSelectedReaction=function(e){this.setState({selectedReaction:e})},n.render=function(){var e=this,t=this.props,n=t.message,r=t.reactions,a=this.state.selectedReaction;if(!a)return W;var i=p.default.getChannel(n.getChannelId());if(null==i)throw new Error("MessageReactions.render: Message does not have a channelId");var s=null==i||i.isPrivate()?null:i.getGuildId(),u=r.map(function(e,t){return F({},e,{pos:t})}).sort(function(e,t){return e.count!==t.count?t.count-e.count:e.pos-t.pos}).map(function(t){return o.createElement(H,F({key:(t.emoji.id||"")+":"+t.emoji.name,selected:l.default.isEqual(a.emoji,t.emoji),setSelected:function(){return e.setSelectedReaction(t)}},t))});return x(T.default,{size:U.default.size,className:U.default.container},void 0,x(O.default,{outerClassName:U.default.sidebar,className:U.default.scroller,theme:O.default.Themes.GHOST_HAIRLINE,fade:!0},void 0,u),x(Y,{message:n,reaction:a,guildId:s,channel:i},(a.emoji.id||"")+":"+a.emoji.name))},t}(o.PureComponent);K.displayName="MessageReactions";var z=s.default.connectStores([m.default,y.default],function(e){var t=e.message,n=m.default.getMessage(t.getChannelId(),t.id),r=null!=n?n.reactions:[];return{theme:y.default.theme,reactions:r}})(K);t.default=z,e.exports=t.default}).call(this,n(29).setImmediate)},6099:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(2)),o=c(n(17)),i=c(n(219)),l=c(n(148)),s=f(n(301)),u=c(n(853)),d=c(n(5452));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderBreadcrumb=function(e,n){var r,a,l=t.props,c=l.activeId,f=l.onBreadcrumbClick,h=l.breadcrumbs,v=l.renderCustomBreadcrumb,m=l.separatorClassName,y=e.id===c,_=n===h.length-1,g=v?v(e,y):p("span",{className:(0,o.default)(d.default.breadcrumb,(r={},r[d.default.activeBreadcrumb]=y,r[d.default.interactiveBreadcrumb]=null!=f,r))},void 0,e.label);return p("div",{className:(0,o.default)(d.default.breadcrumbWrapper,(a={},a[d.default.breadcrumbFinalWrapper]=_,a))},e.id,f?p(i.default,{tag:"span",onClick:function(){return t.handleClick(e)},className:d.default.breadcrumbClickWrapper},void 0,g):g,_?null:p(s.default,{className:(0,o.default)(d.default.breadcrumbArrow,m),name:s.IconNames.CARET,direction:u.default.Directions.RIGHT}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleClick=function(e){var t=this.props.onBreadcrumbClick;null!=t&&t(e)},a.render=function(){var e=this.props,t=e.breadcrumbs,n=e.className,r=t.map(this.renderBreadcrumb);return p(l.default,{justify:l.default.Justify.START,className:(0,o.default)(d.default.breadcrumbs,n)},void 0,r)},r}(a.PureComponent);h.displayName="Breadcrumbs";var v=h;t.default=v,e.exports=t.default},6100:function(e,t,n){"use strict";t.__esModule=!0,t.formatExpiration=c,t.default=void 0;var r,a=(r=n(6691))&&r.__esModule?r:{default:r};var o={type:"",gaps:[4,8,12],lengths:[16],code:{name:"CVV",size:3}},i=/[^0-9]/g,l=/[^0-9/]/g;function s(e){for(var t=u(e).split(""),n=d(e),r=0;r<n.gaps.length;){var a=n.gaps[r]+r;if(!(a<t.length))break;t.splice(a,0," "),r+=1}return t.join("")}function u(e){return e.replace(i,"")}function d(e){var t=u(e);return t&&(0,a.default)(t)[0]||o}function c(e){var t=e.replace(l,"").split("/"),n=t[0],r=t[1],a=[];return parseInt(n,10)>12&&(n=n.substring(0,1)),a.push(n),(parseInt(n,10)>1||2===n.length||r)&&a.push("/"),r&&parseInt(r,10)>99&&(r=(r+"").substring(0,2)),a.push(r),a.join("")}var f={DEFAULT_CARD_TYPE:o,prettifyCreditCardNumber:s,formatCreditCardNumber:function(e){var t=u(e);return d(t),s(t)},getCreditCardType:d,cleanCardNumber:u,validateCardNumber:function(e){var t=d(e);if(null==t)throw new Error("Could not recognize card type.");if(!t.lengths.includes(e.length))throw new Error("Card number length is incorrect.")},getTypeInfo:function(e){return a.default.getTypeInfo(e)},formatExpiration:c};t.default=f},6101:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(21)),o=i(n(1));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l="GuildNSFWAgreeStore",s={};var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){s=a.default.get(l)||s},o.didAgree=function(e){return null!=e&&(s[e]||!1)},r}(r.default.Store))(o.default,{GUILD_NSFW_AGREE:function(e){var t=e.guildId;s[t]=!0,a.default.set(l,s)}});t.default=u,e.exports=t.default},6102:function(e,t,n){e.exports=n.p+"81b90eae4fc67502d59808a7c219ee65.png"},6104:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var n,r;function l(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).state={isAuthenticated:o.default.isAuthenticated()},e.onStoreChange=function(){e.setState({isAuthenticated:o.default.isAuthenticated()})},e}r=t,(n=l).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var s=l.prototype;return s.componentDidMount=function(){o.default.addChangeListener(this.onStoreChange)},s.componentWillUnmount=function(){o.default.removeChangeListener(this.onStoreChange)},s.render=function(){return a.createElement(e,i({},this.props,{isAuthenticated:this.state.isAuthenticated}))},l}(a.Component)};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(12))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=t.default},6111:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(e){this.code=e.code||"",this.temporary=e.temporary||!1,this.revoked=e.revoked||!1,this.uses=e.uses||0,this.maxUses=e.maxUses||0,this.maxAge=e.maxAge||0,this.createdAt=e.createdAt||new Date,this.channel=e.channel,this.guild=e.guild,this.inviter=e.inviter||null},o.isExpired=function(){var e=this.maxAge;if(e>0&&(0,r.default)(this.createdAt).add(e,"seconds").isBefore(Date.now()))return!0;return!1},o.getExpiresAt=function(){return this.maxAge>0?(0,r.default)(this.createdAt).add(this.maxAge,"seconds").toDate():1/0},o.toString=function(){return this.code},a}(a(n(47)).default);t.default=o,e.exports=t.default},6112:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.JUMP_TO_GUILD=void 0;var r=s(n(49)),a=s(n(150)),o=s(n(451)),i=s(n(44)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={binds:function(){for(var e=[],t=1;t<10;t++)e.push("mod+"+t);return e}(),global:!0,action:function(e,t){var n,s=parseInt(t.split("+")[1],10);if((0===s&&(s=10),s)&&(n=1===s?l.ME:o.default.guildPositions[s-2])){var u=r.default.getChannelId(n);return n===l.ME&&null==a.default.getGuildId()&&(u=null),i.default.transitionTo(u?l.Routes.CHANNEL(n,u):l.Routes.GUILD(n)),!1}}};t.JUMP_TO_GUILD=u;var d={JUMP_TO_GUILD:u};t.default=d},6113:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(6)),a=s(n(3)),o=s(n(1)),i=s(n(20)),l=s(n(237));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=2500,d={};function c(e){var t=e.channelId,n=e.draft;return n?d[t]={timestamp:Date.now(),draft:function(e){return e.length>u&&(e=e.substr(0,u)),e}(n)}:delete d[t],!1}function f(){if(!(l.default.totalUnavailableGuilds>0))for(var e in d)null==i.default.getChannel(e)&&delete d[e]}var p=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(e){d=e||{},this.waitFor(i.default,l.default)},o.getState=function(){return d},o.getRecentlyEditedDrafts=function(){return(0,r.default)(d).toPairs().map(function(e){var t=e[0],n=e[1];return{channelId:t,timestamp:n.timestamp,draft:n.draft}}).sortBy(function(e){return-e.timestamp}).value()},o.getDraft=function(e){var t=d[e];return null==t?"":t.draft},a}(a.default.PersistedStore);p.persistKey="DraftStore";var h=new p(o.default,{CONNECTION_OPEN:function(e){return f(),!1},GUILD_DELETE:function(e){return f(),!1},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=d[t]&&delete d[t],!1},DRAFT_SAVE:function(e){c(e)},DRAFT_CHANGE:c});t.default=h,e.exports=t.default},6114:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Register Modal",location:e}),r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:o.ActionTypes.REGISTER_MODAL_CLOSE})};var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6115:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=l(n(17)),o=n(178),i=l(n(5491));function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={XSMALL:i.default.xsmall,SMALL:i.default.small,MEDIUM:i.default.medium,LARGE:i.default.large},d={DEFAULT:"default",STATIC:"static"},c=function(e){var t,n;function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.getMode=function(){return null!=t.props.srcHover?d.STATIC:d.DEFAULT},t.handleHover=function(){t.state.hovered||t.setState({hovered:!0})},t.handleBlur=function(){t.state.hovered&&t.setState({hovered:!1})},t}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.render=function(){var e=this.props,t=e.size,n=e.src,l=e.srcHover,u=e.className,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["size","src","srcHover","className"]),c={backgroundImage:"url('"+(this.state.hovered&&l?l:n)+"')"},f=this.getMode();return r.createElement("button",s({className:(0,a.default)((0,o.getClass)(i.default,"iconButton",f),u,t),style:c,onMouseEnter:this.handleHover,onFocus:this.handleHover,onMouseLeave:this.handleBlur,onBlur:this.handleBlur},d))},l}(r.PureComponent);c.displayName="IconButton",c.Sizes=u,c.defaultProps={size:u.MEDIUM,disabled:!1};var f=c;t.default=f,e.exports=t.default},6116:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=f(n(3)),i=f(n(1)),l=f(n(131)),s=f(n(57)),u=f(n(14)),d=f(n(890)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return!0}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default),this.syncWith([s.default],p)},a.getExperimentId=function(){return c.Experiments.NEWS_FOLLOWING},a.getMetaData=function(){return{title:"News Following",description:["Control: Regular news channel","Treatment 1:Ability to follow a news channel"]}},a.getExperimentDescriptor=function(e){return s.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?d.default.getExperimentAssignment(e,this.getExperimentId()):null)},a.inExperiment=function(e){var t=this.getExperimentDescriptor(e);return null!=t&&t.bucket!==c.ExperimentBuckets.NOT_ELIGIBLE&&(l.default.trigger(t),t.bucket===c.ExperimentBuckets.TREATMENT_1)},r}(o.default.Store))(i.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return e.experimentId===c.Experiments.NEWS_FOLLOWING},EXPERIMENT_OVERRIDE_TYPE:function(e){return e.experimentId===c.Experiments.NEWS_FOLLOWING}});l.default.register(h,((a={})[c.ExperimentTypes.USER]=((r={})[c.ExperimentBuckets.CONTROL]=function(){return null},r[c.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var v=h;t.default=v,e.exports=t.default},6117:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Controls=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(6)),l=_(n(303)),s=n(461),u=_(n(305)),d=_(n(219)),c=_(n(301)),f=_(n(6530)),p=_(n(6089)),h=n(828),v=n(0),m=_(n(312)),y=_(n(5426));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O={friction:14,tension:200},I={VIDEO:"VIDEO",AUDIO:"AUDIO"},C={width:"100%",height:"100%",backgroundColor:"black"};function N(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var A=function(e){var t=e.current,n=e.duration,r=null!=t?N(t):"-:--",a=null!=n?N(n):"-:--";return r=r.padStart(a.length,"0"),T("div",{className:y.default.durationTimeWrapper},void 0,T("span",{className:y.default.durationTimeDisplay},void 0,r),T("span",{className:y.default.durationTimeSeparator},void 0,"/"),T("span",{className:y.default.durationTimeDisplay},void 0,a))};A.displayName="DurationTime";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={translateY:new l.default.Value(0),iconHover:!1,barHover:!1},t._isUnmounted=!1,t.setDurationRef=function(e){t.durationBar=e},t.setVolumeRef=function(e){t.volumeBar=e},t}S(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.translateY.setValue(this.props.autoPlay?1:0)},n.componentDidUpdate=function(e){var t=this.props,n=t.hide,r=t.playing;n&&!e.hide?this.animateControls(1,r):!n&&e.hide&&this.animateControls(0,r)},n.componentWillUnmount=function(){this._isUnmounted=!1},n.setStateIfMounted=function(e){this._isUnmounted||this.setState(e)},n.updateProgress=function(e,t){void 0===t&&(t=!0);var n=this.durationBar;null!=n&&n.setGrabber(e,t)},n.animateControls=function(e,t){var n=this.state.translateY;t?l.default.spring(n,E({toValue:e},O)).start():n.setValue(e)},n.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}]}},n.renderPlayIcon=function(){var e=this.props,t=e.playing,n=e.currentTime,r=e.duration,a=e.onPause,o=e.onPlay,i=e.disabled;return t?T(d.default,{onClick:a,tabIndex:i?-1:0},void 0,T(c.default,{name:c.default.Names.PAUSE,className:y.default.controlIcon},"pause")):T(d.default,{onClick:o,tabIndex:i?-1:0},void 0,null!=n&&n===r?T(c.default,{name:c.default.Names.REPLAY,className:y.default.controlIcon},"replay"):T(c.default,{name:c.default.Names.PLAY,className:y.default.controlIcon},"play"))},n.render=function(){var e=this,t=this.props,n=t.buffers,r=t.children,i=t.currentTime,s=t.duration,u=t.muted,p=t.onDrag,v=t.onDragEnd,_=t.onDragStart,g=t.onToggleMuted,E=t.width,S=t.volume,O=t.dragging,C=t.hide,N=t.type,M=t.disabled,P=this.state,b=P.barHover,R=P.iconHover,L=C||!b&&!R&&O!==f.default.Types.VOLUME,D="string"==typeof E||E>250,w=T(A,{current:i,duration:s});return T(h.BackgroundOpacityContext.Consumer,{},void 0,function(t){var i;return T(l.default.div,{className:(0,o.default)(N===I.VIDEO?y.default.videoControls:y.default.audioControls,y.default[t.backgroundOpacity+"BackgroundOpacity"]),onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},style:e.getAnimatedStyle()},void 0,e.renderPlayIcon(),D?w:null,a.createElement(f.default,{buffers:n,value:s||0,onDrag:p,onDragEnd:v,onDragStart:_,type:f.default.Types.DURATION,ref:e.setDurationRef}),T("div",{className:m.default.flex,onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!1,iconHover:!0})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({iconHover:!1})},500)}},void 0,T(d.default,{onClick:g,tabIndex:M?-1:0},void 0,T(c.default,{name:u?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:(0,o.default)(y.default.controlIcon,L?void 0:y.default.opaque)}))),T("div",{className:(0,o.default)(N===I.VIDEO?y.default.videoVolumeWrapper:y.default.audioVolumeWrapper,(i={},i[y.default.hidden]=L,i)),onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!0,iconHover:!1})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setStateIfMounted({barHover:!1})},500)}},void 0,a.createElement(f.default,{value:S,onDrag:p,onDragEnd:v,onDragStart:_,type:f.default.Types.VOLUME,ref:e.setVolumeRef})),r)})},t}(a.Component);t.Controls=M,M.displayName="Controls",M.defaultProps={disabled:!1};var P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={translateY:new l.default.Value(0)},t}S(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.hide;t&&!e.hide?this.animateControls(1):!t&&e.hide&&this.animateControls(0)},n.animateControls=function(e){l.default.spring(this.state.translateY,E({toValue:e},O)).start()},n.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]}},n.renderVideoMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,a=e.disabled;return T(l.default.div,{className:y.default.metadata,style:this.getAnimatedStyle()},void 0,T("div",{className:y.default.metadataContent},void 0,T("div",{className:y.default.metadataName},void 0,t),T("div",{className:y.default.metadataSize},void 0,n)),!a&&T(u.default,{href:r,target:"_blank",rel:"noreferrer noopener",className:y.default.metadataDownload},void 0,T(c.default,{name:c.default.Names.DOWNLOAD,className:y.default.metadataIcon})))},n.renderAudioMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,a=e.disabled;return T(h.BackgroundOpacityContext.Consumer,{},void 0,function(e){return T("div",{className:(0,o.default)(y.default.audioMetadata,y.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,T("div",{className:y.default.metadataContent},void 0,a?t:T(u.default,{className:y.default.metadataName,href:r},void 0,t),T("div",{className:y.default.metadataSize},void 0,n)),a?t:T(u.default,{href:r,className:y.default.metadataDownload},void 0,T(c.default,{name:c.default.Names.DOWNLOAD,className:y.default.metadataIcon})))})},n.render=function(){return this.props.type===I.AUDIO?this.renderAudioMetadata():this.renderVideoMetadata()},t}(a.Component);P.displayName="Metadata";var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={play:!1,scale:new l.default.Value(0),opacity:new l.default.Value(0)},t.popAnimation=function(){var e=t.state,n=e.opacity,r=e.scale;r.setValue(0),n.setValue(0),l.default.parallel([l.default.sequence([l.default.timing(n,{toValue:1,duration:200}),l.default.timing(n,{toValue:0,duration:200})]),l.default.spring(r,E({toValue:1.5},O,{friction:80}))]).start()},t}S(t,e);var n=t.prototype;return n.pop=function(e){void 0===e&&(e=!1),this.setState({play:e},this.popAnimation)},n.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return l.default.accelerate({opacity:t.interpolate({inputRange:[0,1],outputRange:[0,.8]}),transform:[{scale:n.interpolate({inputRange:[0,1],outputRange:[1,2]})}]})},n.render=function(){var e=this.state.play;return T(l.default.div,{className:y.default.playPausePop,style:this.getAnimatedStyle()},void 0,T(c.default,{name:e?c.default.Names.PLAY:c.default.Names.PAUSE,className:y.default.playPausePopIcon}))},t}(a.Component);b.displayName="PlayPausePop";var R=function(e){function t(n){var r;(r=e.call(this,n)||this)._unmounted=!1,r._lastMove=0,r.handleFullScreenExit=function(){var e=(0,s.getFullScreenNode)(r.elementRef&&r.elementRef.parentNode,r.elementRef);null!=e&&(0,s.isFullScreen)(e)||r.setState({fullscreen:!1})},r.toggleFullscreen=function(){var e=!r.state.fullscreen;r.setState({fullscreen:e})},r.setMuted=function(e){r.setState({muted:e})},r.toggleMuted=function(){r.setMuted(!r.state.muted)},r.setTime=function(e,t){void 0===t&&(t=!0);var n=g(r).elementRef;null!=n&&isFinite(n.duration)&&isFinite(n.currentTime)&&(n.currentTime=e,r.updateValue(e/n.duration,t),r.updateTime(e,n.duration))},r.handleUIUpdate=function(){if(r.state.playing&&!r._unmounted){var e=g(r).elementRef;null!=e&&(e.duration>0&&r.updateValue(e.currentTime/e.duration),r.updateTime(e.currentTime,e.duration),r.updateControlsVisibility(),requestAnimationFrame(r.handleUIUpdate))}},r.handleDrag=function(e,t){var n=g(r).elementRef;t===f.default.Types.DURATION?null!=n&&isFinite(n.duration)&&r.setTime(n.duration*e,!1):t===f.default.Types.VOLUME&&(0===e?r.setState({muted:!0,volume:e}):r.state.muted&&e>0?r.setState({muted:!1,volume:e}):r.setState({volume:e}))},r.handleLoaded=function(){var e=g(r).elementRef;null!=e&&(r.updateTime(e.currentTime,e.duration),r.setState({hasLoadedMetadata:!0,currentTime:e.currentTime,duration:e.duration}))},r.handleDurationChange=function(){var e=g(r).elementRef;null!=e&&(r.updateTime(e.currentTime,e.duration),r.setState({duration:e.duration}))},r.handleBuffer=i.default.debounce(function(){var e=g(r).elementRef,t=[];if(e)for(var n=e.duration,a=0;a<e.buffered.length;a++){var o=e.buffered.start(a),i=e.buffered.end(a);if(!(i-o<1)){var l=(i-o)/n,s=o/n;t.push([s,l])}}r.setState({buffers:t})},400),r.handleEnded=function(){var e=r.props.onEnd;r.setState({playing:!1,hideControls:!1}),null!=e&&e()},r.handleMouseMove=function(){r._lastMove=Date.now()},r.handleMouseLeave=function(){r._lastMove=0},r.handlePreload=function(){r.setState({preload:"metadata"})},r.setControlRef=function(e){r.controlsRef=e},r.setPlayPausePopRef=function(e){r.playPausePopRef=e},r.handleVideoClick=function(){var e=g(r),t=e.state,n=t.hasClickedPlay,a=t.playing,o=e.props,i=o.autoPlay,l=o.autoMute;i&&!n&&a&&l?r.setState({muted:!1,hasClickedPlay:!0}):r.setPlay(!r.state.playing)},r.setPlay=function(e){var t=g(r),n=t.props.autoMute,a=t.state,o=a.hasClickedPlay,i=a.muted;e!==r.state.playing&&(e?r.setState({playing:e,hasClickedPlay:!0,muted:!(!o&&n)&&i}):r.setState({playing:!1,hideControls:!1}))},r.handleDragStart=function(e){r.setState({dragging:e})},r.handleDragEnd=function(){r.setState({dragging:null}),r._lastMove=Date.now()},r.handleKeyDown=function(e){var t=g(r).elementRef;if(e.which===v.KeyboardKeys.SPACE)e.preventDefault(),r.setPlay(!r.state.playing);else if(e.which>=v.KeyboardKeys.DIGIT_0&&e.which<=v.KeyboardKeys.DIGIT_9&&null!=t){e.preventDefault();var n=(e.which-v.KeyboardKeys.DIGIT_0)/10;t.currentTime=t.duration*n,r.setPlay(!0)}};var a=r.props,o=a.autoPlay,l=a.autoMute,u=a.volume,d=a.playable;return r.state={buffers:[],currentTime:null,dragging:null,duration:null,fullscreen:!1,hasClickedPlay:!1,hasLoadedMetadata:!1,hideControls:!d,muted:l,volume:u,playing:o,preload:"none",width:t.minWidth},r}S(t,e),t.getDerivedStateFromProps=function(e,t){return!e.playable&&t.playing?{playing:!1,hideControls:!1}:null};var n=t.prototype;return n.componentDidMount=function(){var e=this.elementRef,t=this.controlsRef,n=this.state,r=n.playing,a=n.muted,o=n.volume;null!=e&&(a&&(e.muted=a),r&&(this.play(!0),this.handleUIUpdate()),e.volume=o,a||null==t||null==t.volumeBar||t.volumeBar.setGrabber(o))},n.componentDidUpdate=function(e,t){var n=this.props,r=n.onPause,a=n.onVolumeChange,o=n.onMute,i=this.state,l=i.playing,u=i.fullscreen,d=i.muted,c=i.dragging,p=i.volume,h=this.elementRef,v=this.controlsRef,m=this.playPausePopRef;if(null!=h){l&&!t.playing?(this.play(),this.handleMouseMove(),this.handleUIUpdate(),t.hasClickedPlay&&m&&m.pop(l)):!l&&t.playing&&(h.pause(),m&&m.pop(l),r&&r());var y=(0,s.getFullScreenNode)(h.parentNode,h);u&&!t.fullscreen&&null!=y?((0,s.requestFullScreen)(y),y.addEventListener(s.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit)):!u&&t.fullscreen&&null!=y&&(y.removeEventListener(s.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit),(0,s.exitFullScreen)(y)),c===f.default.Types.DURATION&&t.dragging!==f.default.Types.DURATION&&l?h.pause():c!==f.default.Types.DURATION&&t.dragging===f.default.Types.DURATION&&l&&h.play(),d!==t.muted&&(h.muted=d,null!=v&&null!=v.volumeBar&&(d?v.volumeBar.setGrabber(0):v.volumeBar.setGrabber(p)),o&&o(d)),p!==t.volume&&(null!=v&&null!=v.volumeBar&&(h.volume=p,v.volumeBar.setGrabber(p)),a&&a(p)),null!=v&&null!=v.volumeBar&&!d&&p>0&&v.volumeBar.setGrabber(p)}},n.componentWillUnmount=function(){this._unmounted=!0},n.play=function(e){void 0===e&&(e=!1);var t=this.props.onPlay;null!=this.elementRef&&(this.elementRef.play(),t&&t(e))},n.getWidth=function(){var e=this.props.width;return"100%"===e?e:Math.max(e,t.minWidth)},n.updateValue=function(e,t){void 0===t&&(t=!0);var n=this.controlsRef;null!=n&&n.updateProgress(e,t)},n.updateTime=function(e,t){var n=0|e,r=0|t;this.state.currentTime===n&&this.state.duration===r||this.setState({currentTime:n,duration:r})},n.updateControlsVisibility=function(){var e=this.state,t=e.dragging,n=e.fullscreen?1e3:3e3,r=Math.max(0,Date.now()-this._lastMove)>n;r!==this.state.hideControls&&null==t&&this.setState({hideControls:r})},n.renderVideo=function(){var e=this,t=this.props,n=t.height,r=t.src,o=t.poster,i=t.forceExternal,l=t.onError,s=this.state.playing,u=this.getWidth();return i?T("video",{className:y.default.video,controls:!1,height:n,poster:o,width:u,playsInline:!0,autoPlay:s}):a.createElement("video",{className:y.default.video,controls:!1,playsInline:!0,autoPlay:s,height:n,onClick:this.handleVideoClick,onEnded:this.handleEnded,onError:l,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,poster:o,preload:this.state.preload,ref:function(t){return e.elementRef=t},width:u},T("source",{src:r}))},n.renderAudio=function(){var e=this;return a.createElement("audio",{className:y.default.audio,controls:!1,onClick:this.handleVideoClick,onEnded:this.handleEnded,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,preload:this.state.preload,ref:function(t){return e.elementRef=t}},T("source",{src:this.props.src}))},n.renderControls=function(){var e=this,t=this.props,n=t.type,r=t.autoPlay,o=t.playable,i=void 0===o||o,l=this.state,s=l.buffers,u=l.currentTime,f=l.duration,v=l.hasClickedPlay,m=l.hideControls,_=l.muted,g=l.playing,E=l.fullscreen,S=l.volume,O=l.dragging,C=this.getWidth();return v||r||n===I.AUDIO?a.createElement(M,{buffers:s,currentTime:u,duration:f,volume:S,hide:n===I.VIDEO&&m,muted:_,autoPlay:r,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onDurationChange:this.handleDurationChange,onPause:function(){return e.setPlay(!1)},onPlay:function(){return e.setPlay(!0)},onToggleMuted:this.toggleMuted,playing:g,dragging:O,type:n,ref:this.setControlRef,width:E?window.screen.width:C,disabled:!i},n===I.VIDEO?T(d.default,{onClick:this.toggleFullscreen},void 0,T(c.default,{className:y.default.controlIcon,name:c.default.Names.FULL_SCREEN,style:{marginLeft:0}})):null):T("div",{className:y.default.playCenter},void 0,T(h.BackgroundOpacityContext.Consumer,{},void 0,function(t){return T(p.default,{className:y.default.playButton,onPlay:e.handleVideoClick,backgroundOpacity:t.backgroundOpacity})}))},n.renderMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,r=e.src,a=e.type,o=e.playable,i=this.state.hideControls;return null==t||null==n?null:T(P,{fileName:t,fileSize:n,src:r,hide:a===I.VIDEO&&i,type:a,disabled:!o})},n.renderPlayPausePop=function(){return a.createElement(b,{ref:this.setPlayPausePopRef})},n.render=function(){var e=this,t=this.props,n=t.height,r=t.type,a=t.src,i=t.forceExternal,l=t.className,s=t.playable,u=this.getWidth(),d=this.state,c=d.fullscreen,f=d.hideControls,v=d.playing,m=d.preload,_=y.default.wrapperPaused;return r===I.AUDIO?_=y.default.wrapperAudio:f?_=y.default.wrapperControlsHidden:v&&(_=y.default.wrapperPlaying),i&&r===I.VIDEO?T(h.BackgroundOpacityContext.Consumer,{},void 0,function(t){return T("div",{className:_,style:{width:u,height:n}},void 0,e.renderMetadata(),e.renderVideo(),T("div",{className:y.default.playCenter},void 0,T(p.default,{className:y.default.playButton,externalURL:a,backgroundOpacity:t.backgroundOpacity})))}):T("div",{className:(0,o.default)(_,l),"data-fullscreen":c,onMouseEnter:"none"===m?this.handlePreload:null,onMouseLeave:v?this.handleMouseLeave:null,onMouseMove:v?this.handleMouseMove:null,onKeyDown:this.handleKeyDown,tabIndex:s?0:-1,style:c?C:{width:u,height:r===I.AUDIO?"auto":n}},void 0,this.renderMetadata(),r===I.AUDIO?this.renderAudio():this.renderVideo(),this.renderControls(),r===I.VIDEO?this.renderPlayPausePop():null)},t}(a.PureComponent);R.displayName="MediaPlayer",R.Types=I,R.defaultProps={width:498,height:80,forceExternal:!1,playable:!0,autoPlay:!1,autoMute:!1,volume:1},R.minWidth=150;var L=R;t.default=L},6118:function(e,t,n){"use strict";t.__esModule=!0,t.updateStripePaymentRequest=function(e){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_STRIPE_PAYMENT_REQUEST_UPDATE,stripePaymentSource:e})},t.updateCardInfo=function(e,t){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:e,isValid:t})},t.clearCardInfo=function(){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CARD_INFO_UPDATE,info:{cardNumber:"",expirationDate:"",cvc:"",name:""},isValid:!1})},t.updateAddressInfo=function(e,t){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_ADDRESS_INFO_UPDATE,info:e,isValid:t})},t.clearError=function(){a.default.dispatch({type:o.ActionTypes.NEW_PAYMENT_SOURCE_CLEAR_ERROR})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},6119:function(e,t,n){"use strict";t.__esModule=!0,t.init=s,t.open=u,t.close=d,t.setSection=c,t.selectPermissionOverwrite=f,t.updateChannel=p,t.saveChannel=h,t.deleteChannel=v,t.default=void 0;var r=l(n(8)),a=l(n(1)),o=n(830),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_INIT,channelId:e})}function u(e){s(e),(0,o.pushLayer)(i.Layers.CHANNEL_SETTINGS)}function d(){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_CLOSE})}function c(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SET_SECTION,section:e})}function f(e){a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_OVERWRITE_SELECT,overwriteId:e})}function p(e){var t=e.name,n=e.type,r=e.topic,o=e.bitrate,l=e.userLimit,s=e.nsfw,u=e.rateLimitPerUser;a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_UPDATE,name:t,channelType:n,topic:r,bitrate:o,userLimit:l,nsfw:s,rateLimitPerUser:u})}function h(e,t){var n=t.name,o=t.type,l=t.position,s=t.topic,u=t.bitrate,d=t.userLimit,c=t.nsfw,f=t.permissionOverwrites,p=t.rateLimitPerUser;return a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT}),r.default.patch({url:i.Endpoints.CHANNELS+"/"+e,body:{name:n,type:o,position:l,topic:s,bitrate:u,user_limit:d,nsfw:c,permission_overwrites:f,rate_limit_per_user:p}}).then(function(t){return a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_SUCCESS,channelId:e}),t},function(e){return a.default.dispatch({type:i.ActionTypes.CHANNEL_SETTINGS_SUBMIT_FAILURE,errors:e.body}),e})}function v(e){r.default.delete(i.Endpoints.CHANNELS+"/"+e).then(function(){return d()})}var m={init:s,open:u,close:d,setSection:c,selectPermissionOverwrite:f,updateChannel:p,saveChannel:h,deleteChannel:v};t.default=m},6121:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PRETTY_KEYS=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(6022)),i=l(n(5365));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=s("g",{fill:"#4F545C"},void 0,s("polygon",{transform:"translate(5.025000, 5.000000) scale(1, -1) translate(-5.025000, -5.000000) ",points:"4.16666667 10 4.16666672 3.33333333 1.25 6.25 0.05 5 5.00000005 0 9.99999967 5 8.75 6.25 5.83333338 3.33333333 5.83333333 10"})),d=function(e){var t=e.direction,n=void 0===t?"up":t;return s("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg",className:(0,a.default)(i.default.bindArrow,i.default[n])},void 0,u)};d.displayName="ArrowSVG";var c=s(d,{direction:"up"}),f=s(d,{direction:"down"}),p=s(d,{direction:"left"}),h=s(d,{direction:"right"}),v={mod:function(){return o.default.modKey},alt:function(){return o.default.altKey},up:function(){return c},down:function(){return f},left:function(){return p},right:function(){return h},pageup:function(){return"page up"},pagedown:function(){return"page down"},"any-character":function(){return"any key"},return:function(){return o.default.returnKey}};t.PRETTY_KEYS=v;var m=function(e){var t=e.shortcut,n=e.className;return s("div",{className:(0,a.default)(i.default.keybindShortcut,n)},void 0,t.split("+").map(function(e){return v[e]?v[e]():e}).map(function(e,t){return s("span",{},t,e)}))};m.displayName="KeyboardShortcut";var y=m;t.default=y},6122:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(12)),i=S(n(108)),l=S(n(5995)),s=S(n(6599)),u=S(n(6062)),d=S(n(6965)),c=S(n(6966)),f=S(n(6967)),p=S(n(6968)),h=S(n(6969)),v=S(n(6970)),m=S(n(6971)),y=S(n(6972)),_=S(n(7046)),g=S(n(6755)),E=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=T(d.default,{}),I=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.guild,a=e.className;if(o.default.isGuest())return null;var d=null!=r?i.default.getDefaultChannel(r.id):null;switch(n){case E.ContextMenuTypes.GUILD_ICON_BAR:case E.ContextMenuTypes.GUILD_PROFILE_MUTUAL:case E.ContextMenuTypes.GUILD_HEADER:case E.ContextMenuTypes.GUILD_ACTIVITY_FEED:if(!r)break;return T("div",{className:a,style:t},void 0,T(l.default,{},void 0,T(p.default,{guildId:r.id})),T(l.default,{},void 0,null!=d?T(c.default,{channel:d,guild:r}):null,T(h.default,{guildId:r.id}),T(_.default,{guildId:r.id}),T(y.default,{guild:r}),T(v.default,{guildId:r.id}),T(m.default,{guildId:r.id}),T(g.default,{guildId:r.id,userId:o.default.getId()})),T(l.default,{},void 0,T(s.default,{guild:r}),T(s.default,{type:E.ChannelTypes.GUILD_CATEGORY,guild:r})),T(f.default,{guild:r}),T(u.default,{id:r.id}));case E.ContextMenuTypes.GUILD_CHANNEL_LIST:if(!r)break;return T("div",{className:a,style:t},void 0,T(_.default,{guildId:r.id}),T(s.default,{guild:r}),T(s.default,{type:E.ChannelTypes.GUILD_CATEGORY,guild:r}),null!=d?T(c.default,{channel:d,guild:r}):null);case E.ContextMenuTypes.GUILD_ICON_NEW:return T("div",{className:a,style:t},void 0,O);default:console.warn("Error - no such ctx menu type")}return null},r}(a.PureComponent);I.displayName="GuildContextMenu";var C=I;t.default=C,e.exports=t.default},6125:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=c(n(17)),s=c(n(148)),u=c(n(301)),d=c(n(5478));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=Object.freeze({PRIMARY:"primary",WARNING:"warning",ERROR:"error"}),h=Object.freeze({SMALL:"small",LARGE:"large",NONE:"none"}),v=((r={})[p.PRIMARY]=d.default.colorPrimary,r[p.WARNING]=d.default.colorWarning,r[p.ERROR]=d.default.colorError,r),m=((a={})[h.SMALL]=d.default.small,a[h.LARGE]=d.default.large,a[h.NONE]=null,a),y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.icon,n=e.color,r=e.children,a=e.iconSize,o=e.className,i=e.iconClassName;return f(s.default,{className:(0,l.default)(d.default.note,v[n],o),align:s.default.Align.CENTER},void 0,f(u.default,{name:t,className:(0,l.default)(d.default.icon,m[a],i)}),f("div",{},void 0,r))},r}(i.PureComponent);y.displayName="PaymentNote",y.Icons=u.default.Names,y.Colors=p,y.Sizes=h;var _=y;t.default=_,e.exports=t.default},6126:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.InviteResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=h(n(126)),l=h(n(313)),s=h(n(128)),u=n(6017),d=n(0),c=h(n(13)),f=h(n(312)),p=h(n(5357));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(){return v(a.Fragment,{},void 0,v(u.Avatar,{src:null,size:u.Avatar.Sizes.XXLARGE,className:p.default.marginBottom20}),v(u.Subtitle,{},void 0,c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN),v(u.Title,{className:(0,o.default)(p.default.marginTop8,f.default.flexCenter)},void 0,c.default.Messages.LOADING))};t.InviteResolvingHeader=m,m.displayName="InviteResolvingHeader";var y=function(e){var t=e.guild,n=e.user;return n?v(u.Avatar,{src:null!=n?n.getAvatarURL():null,size:u.Avatar.Sizes.XXLARGE,className:p.default.marginBottom20}):t?v(u.GuildIcon,{guild:t,size:u.GuildIcon.Sizes.XLARGE,className:p.default.marginBottom20}):null},_=function(e){var t=e.invite,n=e.disableUser,r=void 0!==n&&n,h=e.error,m=e.theme;if(null==t)return null;var _,g,E=null!=t.guild?new l.default(t.guild):null,S=null!=t.channel?new i.default(t.channel):null,T=r||null==t.inviter?null:new s.default(t.inviter),O=null!=t.approximate_member_count&&t.approximate_member_count>100,I=null!=E&&E.hasFeature(d.GuildFeatures.VERIFIED),C=null;if(null!=E)C=null==T?c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN:c.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:T.username}),O||I||(_=v(u.GuildIcon,{guild:E,size:u.GuildIcon.Sizes.SMALL})),g=E.name;else if(null!=S){if(null==T)throw new Error("no inviter in group DM invite");var N=T.username;S.name?(C=c.default.Messages.AUTH_MESSAGE_INVITED_BY.format({username:N}),g=S.name,null!=S.icon&&(_=v(u.ChannelIcon,{channel:S,size:u.Avatar.Sizes.SMALL}))):(C=c.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,g=N)}return v(a.Fragment,{},void 0,v(y,{guild:E,user:r||O?null:T}),h?v(a.Fragment,{},void 0,v(u.Subtitle,{},void 0,c.default.Messages.INVITE_MODAL_ERROR_TITLE),v(u.Title,{},void 0,h)):v(a.Fragment,{},void 0,v(u.Subtitle,{},void 0,C),v(u.Title,{className:(0,o.default)(p.default.marginTop8,f.default.flexCenter)},void 0,I?v(u.VerifiedIcon,{theme:m}):null,_,g)),v(u.ActivityCount,{className:p.default.marginTop8,online:t.approximate_presence_count,total:t.approximate_member_count}))};_.displayName="InviteHeader";var g=_;t.default=g},6132:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(4)),a=l(n(3)),o=l(n(1)),i=l(n(6111));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s={};var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getInvite=function(e){return s[e]},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){s={}},CHANNEL_DELETE:function(e){var t=e.channel;delete s[t.id]},INSTANT_INVITE_CREATE:function(e){},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t=e.channelId,n=e.invite;s[t]=new i.default({code:n.code,temporary:n.temporary,revoked:n.revoked,maxUses:n.max_uses,maxAge:n.max_age,createdAt:(0,r.default)(n.created_at),channel:n.channel,guild:n.guild})}});t.default=u,e.exports=t.default},6133:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultLayoutContent=function(){return[{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:w(L.KeybindActions.SERVER_PREV,L.KeybindActions.SERVER_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:w(L.KeybindActions.CHANNEL_PREV,L.KeybindActions.CHANNEL_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:w(L.KeybindActions.UNREAD_PREV,L.KeybindActions.UNREAD_NEXT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:w(L.KeybindActions.MENTION_CHANNEL_PREV,L.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:w(L.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:w(L.KeybindActions.MARK_SERVER_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:w(L.KeybindActions.MARK_CHANNEL_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_GUILD,binds:w(L.KeybindActions.CREATE_GUILD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:w(L.KeybindActions.QUICKSWITCHER_SHOW)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CREATE_DM_GROUP,binds:w(L.KeybindActions.CREATE_DM_GROUP),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PINS,binds:w(L.KeybindActions.TOGGLE_CHANNEL_PINS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MENTIONS,binds:w(L.KeybindActions.TOGGLE_MENTIONS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_USERS,binds:w(L.KeybindActions.TOGGLE_USERS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:w(L.KeybindActions.SEARCH_EMOJIS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_GIFS,binds:w(L.KeybindActions.SEARCH_GIFS),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:w(L.KeybindActions.TOGGLE_MUTE)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:w(L.KeybindActions.TOGGLE_DEAFEN)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:w(L.KeybindActions.CALL_ACCEPT)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:w(L.KeybindActions.MARK_CHANNEL_READ)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:w(L.KeybindActions.CALL_START),groupEnd:!0},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:w(L.KeybindActions.SCROLL_UP,L.KeybindActions.SCROLL_DOWN)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:w(L.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:w(L.KeybindActions.TEXTAREA_FOCUS)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_UPLOAD_FILE,binds:w(L.KeybindActions.UPLOAD_FILE)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_HELP,binds:w(L.KeybindActions.TOGGLE_HELP)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH,binds:w(L.KeybindActions.FOCUS_SEARCH)},{description:D.default.Messages.KEYBIND_DESCRIPTION_MODAL_EASTER_EGG,binds:["h+h+right+n+k"]}]},t.default=t.DEFAULT_LAYOUT=void 0;var r,a,o=n(6213),i=n(6214),l=n(6478),s=n(6479),u=n(6480),d=n(6112),c=n(6215),f=n(6216),p=n(6217),h=n(6298),v=n(6220),m=n(6221),y=n(6222),_=n(6481),g=n(6223),E=n(6224),S=n(6225),T=n(6227),O=n(6228),I=n(6483),C=n(6484),N=n(6229),A=n(6485),M=n(6486),P=n(6231),b=n(6488),R=n(6301),L=n(0),D=(r=n(13))&&r.__esModule?r:{default:r};function w(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=U[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var U=((a={})[L.KeybindActions.SERVER_NEXT]=g.SERVER_NEXT,a[L.KeybindActions.SERVER_PREV]=g.SERVER_PREV,a[L.KeybindActions.CHANNEL_NEXT]=i.CHANNEL_NEXT,a[L.KeybindActions.CHANNEL_PREV]=i.CHANNEL_PREV,a[L.KeybindActions.UNREAD_NEXT]=P.UNREAD_NEXT,a[L.KeybindActions.UNREAD_PREV]=P.UNREAD_PREV,a[L.KeybindActions.MENTION_CHANNEL_NEXT]=P.MENTION_NEXT,a[L.KeybindActions.MENTION_CHANNEL_PREV]=P.MENTION_PREV,a[L.KeybindActions.TOGGLE_PREVIOUS_GUILD]=i.TOGGLE_PREVIOUS_GUILD,a[L.KeybindActions.JUMP_TO_GUILD]=d.JUMP_TO_GUILD,a[L.KeybindActions.SUBMIT]=E.SUBMIT,a[L.KeybindActions.TEXTAREA_FOCUS]=S.TEXTAREA_FOCUS,a[L.KeybindActions.MARK_CHANNEL_READ]=c.MARK_CHANNEL_READ,a[L.KeybindActions.MARK_SERVER_READ]=f.MARK_SERVER_READ,a[L.KeybindActions.TOGGLE_CHANNEL_PINS]=I.TOGGLE_CHANNEL_PINS,a[L.KeybindActions.TOGGLE_MENTIONS]=A.TOGGLE_MENTIONS,a[L.KeybindActions.TOGGLE_USERS]=M.TOGGLE_USERS,a[L.KeybindActions.TOGGLE_HELP]=C.TOGGLE_HELP,a[L.KeybindActions.TOGGLE_MUTE]=T.TOGGLE_MUTE,a[L.KeybindActions.TOGGLE_DEAFEN]=T.TOGGLE_DEAFEN,a[L.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=O.TOGGLE_CATEGORY_COLLAPSED,a[L.KeybindActions.SCROLL_UP]=m.SCROLL_UP,a[L.KeybindActions.SCROLL_DOWN]=m.SCROLL_DOWN,a[L.KeybindActions.QUICKSWITCHER_SHOW]=h.QUICKSWITCHER_SHOW,a[L.KeybindActions.CREATE_DM_GROUP]=l.CREATE_DM_GROUP,a[L.KeybindActions.SEARCH_EMOJIS]=y.SEARCH_EMOJIS,a[L.KeybindActions.SEARCH_GIFS]=_.SEARCH_GIFS,a[L.KeybindActions.TOGGLE_HOTKEYS]=N.TOGGLE_HOTKEYS,a[L.KeybindActions.JUMP_TO_FIRST_UNREAD]=p.JUMP_TO_FIRST_UNREAD,a[L.KeybindActions.CREATE_GUILD]=s.CREATE_GUILD,a[L.KeybindActions.UPLOAD_FILE]=b.UPLOAD_FILE,a[L.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=v.RETURN_TO_AUDIO_CHANNEL,a[L.KeybindActions.CALL_ACCEPT]=o.CALL_ACCEPT,a[L.KeybindActions.CALL_START]=o.CALL_START,a[L.KeybindActions.FOCUS_SEARCH]=u.FOCUS_SEARCH,a[L.KeybindActions.ZOOM_IN]=R.ZOOM_IN,a[L.KeybindActions.ZOOM_OUT]=R.ZOOM_OUT,a[L.KeybindActions.ZOOM_RESET]=R.ZOOM_RESET,a);t.DEFAULT_LAYOUT=U;var k=U;t.default=k},6134:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SearchContext=void 0;var r=d(n(156)),a=d(n(3)),o=d(n(1)),i=d(n(20)),l=d(n(85)),s=d(n(14)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=null,f=10;function p(e){null!=c&&(e=e.filter(function(e){return null!=e}),c.postMessage({type:u.UserSearchWorkerMessageTypes.UPDATE_USERS,payload:e}))}function h(e){if(null==e||l.default.isBlocked(e.id))return null;var t={id:e.id,username:e.username+"#"+e.discriminator};return e.bot&&(t.isBot=!0),l.default.isFriend(e.id)&&(t.isFriend=!0),t}function v(e,t,n){null!=e&&(e[t]=n||null)}function m(e,t){var n=[];return e.forEach(function(e){var r=h(e.user);v(r,t,e.nick),n.push(r)}),n}function y(e){var t=e.guildId,n=e.user,r=e.nick,a=h(n);return null!=a&&(v(a,t,r),p([a])),!1}function _(e){var t=e.channel.id,n=g(i.default.getChannel(t));if(0===n.length)return!1;var r=h(s.default.getCurrentUser());return v(r,t),n.push(r),p(n),!1}function g(e){var t=[];if(null==e||e.type!==u.ChannelTypes.DM&&e.type!==u.ChannelTypes.GROUP_DM)return t;var n=e.recipients;return(void 0===n?[]:n).forEach(function(n){var r=h(s.default.getUser(n));null!=e&&v(r,e.id),t.push(r)}),t}var E=function(){function e(e,t){var n=this;void 0===t&&(t=f),this.handleMessages=function(e){var t=e.data;t&&t.type===u.UserSearchWorkerMessageTypes.USER_RESULTS&&t.uuid===n._uuid&&(!1!==n._currentQuery&&n._callback(t.payload),null!=n._currentQuery&&(n._currentQuery=null),n._setNextQuery())},this._uuid=r.default.v4(),this._callback=e,this._limit=t,this._currentQuery=null,this._nextQuery=null,this._subscribed=!1,this._subscribe()}var t=e.prototype;return t._subscribe=function(){null==c||this._subscribed||(c.addEventListener("message",this.handleMessages,!1),this._subscribed=!0,this._setNextQuery())},t._unsubscribe=function(){null!=c&&this._subscribed&&(c.removeEventListener("message",this.handleMessages,!1),this._subscribed=!1)},t.destroy=function(){this._unsubscribe(),this.clearQuery()},t.clearQuery=function(){this._currentQuery=!1,this._nextQuery=null,null!=c&&this._subscribed&&c.postMessage({uuid:this._uuid,type:u.UserSearchWorkerMessageTypes.QUERY_CLEAR})},t.setQuery=function(e,t,n,r,a){null!=e&&(this._nextQuery={query:e,filters:t,blacklist:n,whitelist:r,boosters:a||{},limit:this._limit},this._setNextQuery())},t._setNextQuery=function(){!this._currentQuery&&this._nextQuery&&(null!=c&&this._subscribed?(this._currentQuery=this._nextQuery,this._nextQuery=null,c.postMessage({uuid:this._uuid,type:u.UserSearchWorkerMessageTypes.QUERY_SET,payload:this._currentQuery})):this._subscribed||this._subscribe())},e}();t.SearchContext=E;var S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,i.default,s.default)},a.getSearchContext=function(e,t){return void 0===t&&(t=f),new E(e,t)},r}(a.default.Store))(o.default,{LOGOUT:function(e){null!=c&&(c.terminate(),c=null)},CONNECTION_OPEN:function(e){var t=e.user,r=e.guilds,a=e.channels,o=e.relationships;null!=c&&c.terminate(),c=new(n(6166));var l=h(t),s=[l];return r.forEach(function(e){s=s.concat(m(e.members,e.id))}),a.forEach(function(e){var t=e.id,n=i.default.getChannel(t);null==n||n.type!==u.ChannelTypes.DM&&n.type!==u.ChannelTypes.GROUP_DM||(v(l,n.id),s=s.concat(g(n)))}),o.forEach(function(e){var t=e.user;s.push(h(t))}),p(s),!1},OVERLAY_INITIALIZE:function(e){var t=e.users,r=e.guildMembers;null!=c&&c.terminate(),c=new(n(6166));var a=new Map,o=t,i=Array.isArray(o),l=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(l>=o.length)break;s=o[l++]}else{if((l=o.next()).done)break;s=l.value}var u=s;a.set(u.id,h(u))}for(var d=0,f=Object.keys(r);d<f.length;d++){var m=f[d],y=r[m];if(null!=y)for(var _=0,g=Object.keys(y);_<g.length;_++){var E=g[_],S=a.get(E),T=y[E];null!=S&&null!=T&&null!=T.nick&&(v(S,m,T.nick),a.set(E,S))}}return p(Array.from(a.values())),a.clear(),!1},CURRENT_USER_UPDATE:function(e){var t=h(e.user);return t&&p([t]),!1},GUILD_CREATE:function(e){var t=e.guild;return p(m(t.members,t.id)),!1},GUILD_MEMBERS_CHUNK:function(e){return p(m(e.members,e.guildId)),!1},GUILD_MEMBER_ADD:y,GUILD_MEMBER_UPDATE:y,RELATIONSHIP_ADD:function(e){return p([h(e.relationship.user)]),!1},CHANNEL_CREATE:_,CHANNEL_UPDATE:_,CHANNEL_RECIPIENT_ADD:function(e){var t=e.channelId,n=h(e.user);v(n,t),p([n])}});t.default=S},6135:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(305)),l=c(n(6076)),s=n(0),u=c(n(13)),d=c(n(5495));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function r(t){var n;return p(n=e.call(this,t)||this).handleRemove=n.handleRemove.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.handleExternalFileChange=function(e){this.refs.imageInput&&this.refs.imageInput.handleFileChange(e)},c.handleRemove=function(){this.props.onChange(null)},c.render=function(){var e,t,n,r,c=this.props,p=c.avatar,h=c.size,v=c.hint,m=c.name,y=c.makeURL,_=c.disabled,g=c.onChange,E=c.showIcon,S=c.className,T=c.avatarClassName,O=c.hideSize;return(e=null!=p&&/^data:/.test(p)?p:y(p))?t='url("'+e+'")':n=f("div",{className:d.default.avatarUploaderAcronym},void 0,m.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,"")),_?f("div",{className:(0,o.default)(d.default.avatarUploader,d.default.disabled,S)},void 0,f("div",{className:(0,o.default)(d.default.avatarUploaderInner,T),style:{backgroundImage:t}},void 0,n)):(null!=p?r=f(i.default,{className:d.default.removeButton,onClick:this.handleRemove},void 0,u.default.Messages.REMOVE):O||(r=f("small",{className:d.default.sizeInfo},void 0,u.default.Messages.MINIMUM_SIZE.format({size:s.AVATAR_SIZE}))),f("div",{className:(0,o.default)(d.default.avatarUploader,S)},void 0,E?f("div",{className:(0,o.default)(d.default.avatarUploaderInner,T),style:{backgroundImage:t}},void 0,n,f("div",{className:d.default.avatarUploaderHint},void 0,v),a.createElement(l.default,{ref:"imageInput",onChange:g,size:h,className:d.default.fileInput}),f("div",{className:d.default.avatarUploaderIndicator})):f("div",{className:(0,o.default)(d.default.avatarUploaderInner,T),style:{backgroundImage:t}},void 0,n,f("div",{className:d.default.avatarUploaderHint},void 0,v),a.createElement(l.default,{ref:"imageInput",onChange:g,size:h,className:d.default.fileInput})),r))},r}(a.PureComponent);h.displayName="AvatarUploader",h.defaultProps={name:"",size:64,makeURL:function(e){return e},hint:u.default.Messages.CHANGE_AVATAR,disabled:!1,showIcon:!1,hideSize:!1};var v=h;t.default=v,e.exports=t.default},6136:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t){var n=t.getGuildId();if(null==n)throw new Error("no guild id for news editor");a.default.dispatch({type:o.ActionTypes.NEWS_EDITOR_MODAL_OPEN,guildId:n,message:e})},t.createNews=function(e){var t=e.applicationId,n=e.channelId,a=e.messageId,i=e.url,l=e.thumbnail,s=e.thumbnailOverride,u=e.title,d=e.description,c={application_id:t,channel_id:n,message_id:a,url:i,title:u,description:d};null!=s?c.thumbnail_override=s:c.thumbnail=l;return r.default.post({url:o.Endpoints.APPLICATION_NEWS,body:c}).then(function(e){return e.body})},t.updateNews=function(e){var t=e.channelId,n=e.messageId,a=e.newsId,i=e.thumbnail,l=e.title,s=e.description,u={channel_id:t,message_id:n,title:l,description:s};null!=i&&(u.thumbnail=i);return r.default.patch({url:o.Endpoints.APPLICATION_NEWS_BY_ID(a),body:u})},t.deleteNews=function(e,t,n){return r.default.delete({url:o.Endpoints.APPLICATION_NEWS_BY_ID(e),body:{channel_id:t,message_id:n}})},t.close=function(){a.default.dispatch({type:o.ActionTypes.NEWS_EDITOR_MODAL_CLOSE})};var r=i(n(8)),a=i(n(1)),o=(i(n(126)),i(n(318)),n(0));function i(e){return e&&e.__esModule?e:{default:e}}},6137:function(e,t,n){"use strict";t.__esModule=!0,t.hexWithOpacity=function(e,t){var n=Math.round(255*t).toString(16).toUpperCase();return(""+e+n).padEnd(9,"0")},t.hexToRgb=function(e){"#"===e[0]&&(e=e.slice(1));var t=parseInt(e,16);return{r:t>>16&255,g:t>>8&255,b:255&t}}},6138:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return function(t){return function(n){var i,l;function s(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))||this)._subscriptions=null,e.handleSetRef=function(t){e._ref=t},e}l=n,(i=s).prototype=Object.create(l.prototype),i.prototype.constructor=i,i.__proto__=l;var u=s.prototype;return u.componentDidMount=function(){for(var t in this._subscriptions=e(this.props,this._ref),this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(t)&&a.ComponentDispatch.subscribe(t,this._subscriptions[t])},u.componentWillUnmount=function(){for(var e in this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(e)&&a.ComponentDispatch.unsubscribe(e,this._subscriptions[e])},u.render=function(){return r.createElement(t,o({ref:this.handleSetRef},this.props))},s}(r.Component)}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(106);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=t.default},6139:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={popFirstFile:function(){a.default.dispatch({type:o.ActionTypes.UPLOAD_MODAL_POP_FILE})},pushFiles:function(e){var t=e.files,n=e.channelId;a.default.dispatch({type:o.ActionTypes.UPLOAD_MODAL_PUSH_FILES,files:t,channelId:n})},clearAll:function(){a.default.dispatch({type:o.ActionTypes.UPLOAD_MODAL_CLEAR_ALL_FILES})}};t.default=i,e.exports=t.default},6140:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l={matureAgree:!1,muted:!0};var s=new(function(e){var t,n,r,a,o;function s(){return e.apply(this,arguments)||this}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=s,(a=[{key:"didMatureAgree",get:function(){return l.matureAgree}},{key:"isDirectoryMuted",get:function(){return l.muted}}])&&i(r.prototype,a),o&&i(r,o),s}(r.default.Store))(a.default,{APPLICATION_STORE_MATURE_AGREE:function(e){l.matureAgree=!0},APPLICATION_STORE_DIRECTORY_MUTE:function(e){l.muted=!0},APPLICATION_STORE_DIRECTORY_UNMUTE:function(e){l.muted=!1}});t.default=s,e.exports=t.default},6141:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(303)),l=n(78),s=v(n(826)),u=n(846),d=v(n(219)),c=v(n(301)),f=v(n(6142)),p=v(n(438)),h=v(n(5441));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _=400,g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._animatedValue=new i.default.Value(1),t.state={imageLoadError:!1,imageLoading:!0},t.componentWillEnter=function(e){t._animatedValue.setValue(0),i.default.timing(t._animatedValue,{toValue:1,duration:_}).start(e)},t.componentWillLeave=function(e){i.default.timing(t._animatedValue,{toValue:0,duration:_}).start(e)},t.getImageStyle=function(){return{opacity:t._animatedValue}},t.handleImageError=function(){t.setState({imageLoadError:!0,imageLoading:!1})},t.handleImageLoaded=function(){t.setState({imageLoading:!1})},t}y(t,e);var n=t.prototype;return n.renderMedia=function(){var e,t=this.props,n=t.src,r=t.className,a=t.title,l=this.state.imageLoading;return m(i.default.img,{className:(0,o.default)((e={},e[h.default.imageLoading]=l,e),r),src:n,alt:a,style:this.getImageStyle(),onError:this.handleImageError,onLoad:this.handleImageLoaded})},n.render=function(){var e=this.props,t=e.className,n=e.title,r=e.src,a=this.state,l=a.imageLoadError,s=a.imageLoading;return null==r||l?m(i.default.div,{className:(0,o.default)(h.default.titleContainer,t),style:this.getImageStyle()},void 0,n):m(i.default.div,{className:(0,o.default)(s?h.default.loadingContainer:null,t),style:this.getImageStyle()},void 0,s?m(p.default,{className:h.default.spinner,itemClassName:h.default.spinnerItem,type:p.default.Type.PULSING_ELLIPSIS,animated:!0}):null,this.renderMedia())},t}(a.Component);g.displayName="TileMediaImage";var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={currentIndex:0,videoLoadError:!1,videoLoaded:!1},t._video=a.createRef(),t.videoTimeout=new l.Timeout,t.videoPlaying=!1,t.handleToggleMute=function(e){e.stopPropagation(),e.preventDefault();var n=t.props.onToggleMute;n&&n(e)},t.handleVideoError=function(){t.setState({videoLoadError:!0})},t.handleVideoLoaded=function(){t.setState({videoLoaded:!0})},t.renderTypeVideo=function(){var e,n=t.state.videoLoaded,r=t.props,i=r.video,l=r.image,f=r.title,p=r.playing,v=r.muted,y=r.splashClassName,_=r.splashPlaceholderClassName,E=r.renderMediaOverlay;return m(a.Fragment,{},void 0,u.isMobile?null:a.createElement("video",{className:(0,o.default)(h.default.splash,y),muted:v,loop:!0,preload:"none",ref:t._video,onLoadedMetadata:t.handleVideoLoaded,onError:t.handleVideoError},m("source",{src:i,type:"video/mp4"})),m(s.default,{},void 0,p&&n?null:m(g,{className:(0,o.default)(h.default.splashPlaceholder,_),src:l,title:f},0)),m(d.default,{className:(0,o.default)(h.default.muteContainer,(e={},e[h.default.muteContainerPlaying]=p&&n,e[h.default.muteContainerMediaOverlay]=null!=E,e)),onClick:t.handleToggleMute},void 0,p&&n?m(c.default,{name:v?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:h.default.mute}):null))},t.nextItem=function(){var e=t.props.slideImages;null!=e&&t.setState({currentIndex:(t.state.currentIndex+1)%e.length})},t.renderSlideItem=function(e){var n=t.props,r=n.image,a=n.title,i=n.playing,l=n.splashClassName,s=t.state.currentIndex;return i?m(g,{className:(0,o.default)(h.default.splash,l),src:e[s],title:a},s):m(g,{className:(0,o.default)(h.default.splash,l),src:r,title:a},"image")},t}y(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.videoTimeout.stop()},n.componentDidUpdate=function(e){var t=this,n=this.props.playing,r=this._video.current;if(null!=r)if(n&&!e.playing){this.videoTimeout.stop(),isFinite(r.duration)&&isFinite(r.currentTime)&&(r.currentTime=0),r.volume=.3;var a=r.play();null!=a&&a.then(function(){t.videoPlaying=!0})}else e.playing&&!n&&this.videoTimeout.start(_,function(){t.videoPlaying&&(r.pause(),t.videoPlaying=!1)})},n.renderTypeImage=function(){var e=this.props,t=e.playing,n=e.slideImages,r=e.image,a=e.title,i=e.splashClassName;return null==n?m(g,{className:(0,o.default)(h.default.splash,i),src:r,title:a},"image"):m(f.default,{onInterval:this.nextItem,interval:2e3,className:h.default.slideshowWrapper,disable:!t},void 0,m(s.default,{},void 0,this.renderSlideItem(n)))},n.render=function(){var e=this.props,t=e.video,n=e.className,r=e.placeholder,a=e.renderMediaOverlay,i=e.playing,l=this.state,s=l.videoLoadError,u=l.videoLoaded;return r?m("div",{className:n}):m("figure",{className:(0,o.default)(h.default.tileMedia,n)},void 0,null==t||s?this.renderTypeImage():this.renderTypeVideo(),null!=a&&a(i&&u))},t}(a.Component);E.displayName="TileMedia";var S=E;t.default=S,e.exports=t.default},6142:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(78);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).timer=new a.Interval,t.state={hovered:!1},t.handlePause=function(){t.state.hovered||t.setState({hovered:!0})},t.handleResume=function(){t.setState({hovered:!1})},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null};var l=i.prototype;return l.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,n=e.disable,r=this.state.hovered&&t;n||r||this.startTimer()},l.componentWillUnmount=function(){this.stopTimer()},l.componentDidUpdate=function(e,t){var n=this.props,r=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},a=r(n,this.state),o=r(e,t);a&&!o||e.interval!==n.interval?this.startTimer():!a&&o&&this.stopTimer()},l.startTimer=function(){var e=this.props,t=e.interval,n=e.onInterval;e.disable||this.timer.start(t,function(){n()})},l.stopTimer=function(){this.timer.stop()},l.render=function(){var e=this.props,t=e.children,n=e.className,a=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return r.createElement("div",o({},a,{className:n}),t)},i}(r.Component);i.displayName="IntervalWrapper",i.defaultProps={disable:!1,pauseOnHover:!1};var l=i;t.default=l,e.exports=t.default},6143:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(303)),i=s(n(826)),l=s(n(5457));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={animationProgress:new o.default.Value(0),animating:!1,targetHeight:0,baseHeight:0,leaving:!1},t.direction=t.props.getDirection(),t._measureRef=a.createRef(),t}d(t,e);var n=t.prototype;return n.componentDidMount=function(){if(null!=this._measureRef.current){var e=this._measureRef.current.getBoundingClientRect().height;this.setState({targetHeight:e,baseHeight:this.props.getBaseHeight()})}},n.componentDidUpdate=function(e,t){t.targetHeight!==this.state.targetHeight&&this.props.setHeight(this.state.targetHeight)},n.componentDidAppear=function(){var e=this.state,t=e.animationProgress,n=e.targetHeight;t.setValue(2),this.setState({baseHeight:n})},n.componentWillEnter=function(e){var t=this.props.duration,n=this.state.animationProgress;this.setState({animating:!0}),this.props.setHeight(this.state.targetHeight),o.default.timing(n,{toValue:2,duration:t,delay:t/2}).start(e)},n.componentDidEnter=function(){this.setState({animating:!1})},n.componentWillLeave=function(e){var t=this.state.animationProgress,n=this.props,r=n.duration,a=n.getDirection;this.direction=a(),this.setState({leaving:!0}),o.default.timing(t,{toValue:0,duration:r}).start(e)},n.getAnimatedStyle=function(){var e=this.state,t=e.animationProgress,n=e.leaving,r=e.baseHeight,a=e.targetHeight,i=e.animating,l=this.props.sideMargin||0,s=(n?-1:1)*this.direction;return{transform:[{translateX:t.interpolate({inputRange:[0,2],outputRange:[150*s+"%","0%"],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)})}],height:i?t.interpolate({inputRange:[0,1],outputRange:[r,a],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)}):"auto",opacity:t.interpolate({inputRange:[0,2],outputRange:[0,1],extrapolate:"clamp",easing:o.default.Easing.inOut(o.default.Easing.ease)}),overflow:i?"hidden":"auto",position:n?"absolute":void 0,top:n?0:void 0,left:n?l:void 0,right:n?l:void 0,bottom:n?0:void 0}},n.render=function(){return u(o.default.div,{style:this.getAnimatedStyle()},void 0,a.createElement("div",{ref:this._measureRef,className:l.default.measurement},this.props.children))},t}(a.PureComponent);c.displayName="SequenceAnimation",c.defaultProps={duration:300};var f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).stepHeights={},t.prevStep=null,t.prevSteps=[],t.getBaseHeight=function(){return null!=t.prevStep&&null!=t.stepHeights[t.prevStep]?t.stepHeights[t.prevStep]:0},t.getDirection=function(){var e=t.props,n=e.steps,r=e.step,a=n.indexOf(t.prevStep),o=-1===a?t.prevSteps.indexOf(t.prevStep):-1;return Math.max(a,o)>n.indexOf(r)?-1:1},t.setHeight=function(e){var n=t.props.step;t.stepHeights[n]=e},t}d(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setPrevSteps()},n.componentDidUpdate=function(){this.setPrevSteps()},n.setPrevSteps=function(){var e=this.props,t=e.step,n=e.steps;this.prevStep=t,this.prevSteps=n},n.render=function(){var e=this.props,t=e.step,n=e.sideMargin,r=e.children;return u(i.default,{component:"div"},void 0,u(c,{sideMargin:n,getDirection:this.getDirection,getBaseHeight:this.getBaseHeight,setHeight:this.setHeight},t,r))},t}(a.Component);t.default=f,f.displayName="Sequencer",e.exports=t.default},6144:function(e,t,n){"use strict";t.__esModule=!0,t.search=d,t.searchByMode=function(e,t){var n=o.default.getQuery(e);return d(e,u({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e,t){void 0===t&&(t=l.SEARCH_PAGE_SIZE);return c(e,t)},t.searchPreviousPage=function(e,t){void 0===t&&(t=l.SEARCH_PAGE_SIZE);return c(e,-t)},t.clearHistory=function(e){r.default.dispatch({type:l.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){r.default.wait(function(){r.default.dispatch({type:l.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})})},t.setSearchState=function(e,t){null!=e&&r.default.dirtyDispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){i.default.trackWithMetadata(l.AnalyticEvents.SEARCH_CLOSED,{search_id:o.default.getAnalyticsId(e)}),r.default.wait(function(){return r.default.dispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&r.default.dirtyDispatch({type:l.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){r.default.dispatch({type:l.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var r=s(n(1)),a=s(n(6101)),o=s(n(6031)),i=s(n(177)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n){a.default.didAgree(e)&&(t.include_nsfw=!0);var s=Object.keys(t);i.default.trackWithMetadata(l.AnalyticEvents.SEARCH_STARTED,{search_type:o.default.getSearchType(),prev_search_id:o.default.getAnalyticsId(e),num_modifiers:s.length,modifiers:s.reduce(function(e,n){var r=t[n];return e[n]=Array.isArray(r)?r.length:1,e},{})}),r.default.dispatch({type:l.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function c(e,t){var n=o.default.getOffset(e),r=o.default.getQuery(e),a=n+t,i=o.default.getTotalResults(e);if(!(a<0||a>i))return d(e,u({},r,{offset:a}))}},6145:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={open:function(e,t,n,r){a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_OPEN,channelType:e,guildId:t,categoryId:n,cloneChannelId:r})},close:function(){a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_CLOSE})},createChannel:function(e,t,n,i,l,s,u,d,c){var f=this;void 0===i&&(i=[]),a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT});var p={type:t,name:n,permission_overwrites:i};if(null!=l&&l!==o.BITRATE_DEFAULT&&(p.bitrate=l),null!=s&&s>0&&(p.user_limit=s),null!=u&&(p.parent_id=u),t===o.ChannelTypes.GUILD_STORE){if(null==d)throw new Error("Unexpected missing SKU");p.sku_id=d,p.branch_id=c}r.default.post({url:o.Endpoints.GUILD_CHANNELS(e),body:p}).then(function(){return f.close()},function(e){return a.default.dispatch({type:o.ActionTypes.CREATE_CHANNEL_MODAL_SUBMIT_FAILURE,errors:e.body})})}};t.default=l,e.exports=t.default},6147:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CarouselNext=t.CarouselPrevious=void 0;var r,a=c(n(2)),o=d(n(17)),i=d(n(6469)),l=d(n(124)),s=c(n(308)),u=d(n(5543));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h={CENTER:u.default.alignCenter,LEFT:u.default.alignLeft},v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._paginationItemRefs=[],t.handleSetScrollerRef=function(e){t._scrollerRef=e},t.handleSelectedIndexChange=function(e){var n=t._scrollerRef;if(null!=n){var r=t._paginationItemRefs[e];null!=r&&n.scrollIntoView(r,!0,t.props.scrollToPadding)}},t.handlePageClick=function(e){(0,t.props.onSetItem)(e)},t}p(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},n.render=function(){var e=this,t=this.props,n=t.renderItem,r=t.items,i=t.vertical,l=t.paginationContainerClass,d=t.align,c=t.gutterStyle,f=i?s.default:s.HorizontalScroller,p=i?u.default.verticalPaginationItemContainer:u.default.horizontalPaginationItemContainer;return a.createElement(f,{track:!0,gutterStyle:c,className:(0,o.default)(p,l,d),ref:this.handleSetScrollerRef},r.map(function(t,r){return a.cloneElement(n(t,r),{onClick:function(){return e.handlePageClick(r)},key:r,ref:function(t){e._paginationItemRefs[r]=t}})}))},t}(a.PureComponent);v.displayName="CarouselPaginationStrip",v.Align=h,v.Gutter=s.default.GutterStyles,v.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0},align:h.CENTER};var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var n=t.props.onClick;n&&n(e)},t}return p(t,e),t.prototype.render=function(){var e=this.props.className;return f(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:(0,o.default)(u.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,f(i.default,{className:u.default.arrow,direction:i.default.Directions.LEFT}))},t}(a.PureComponent);t.CarouselPrevious=m,m.displayName="CarouselPrevious";var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var n=t.props.onClick;n&&n(e)},t}return p(t,e),t.prototype.render=function(){var e=this.props.className;return f(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:(0,o.default)(u.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,f(i.default,{className:u.default.arrow,direction:i.default.Directions.RIGHT}))},t}(a.PureComponent);t.CarouselNext=y,y.displayName="CarouselNext";var _=v;t.default=_},6148:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(303)),i=n(229),l=p(n(124)),s=p(n(148)),u=n(106),d=n(0),c=p(n(13)),f=p(n(5596));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={color:new o.default.Value(0)},v(n).handleOnSave=n.handleOnSave.bind(v(n)),v(n).handleOnReset=n.handleOnReset.bind(v(n)),v(n).emphasize=n.emphasize.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){u.ComponentDispatch.subscribe(d.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},a.componentWillUnmount=function(){u.ComponentDispatch.unsubscribe(d.ComponentActions.EMPHASIZE_NOTICE,this.emphasize)},a.handleOnSave=function(e){(0,this.props.onSave)(e)},a.handleOnReset=function(e){(0,this.props.onReset)(e)},a.emphasize=function(){var e=this.state.color;o.default.sequence([o.default.timing(e,{toValue:1,duration:170,easing:o.default.Easing.quad}),o.default.timing(e,{delay:500,toValue:0,duration:170,easing:o.default.Easing.quad})]).start()},a.render=function(){var e=this.props.submitting;return h(o.default.div,{className:f.default.container,style:this.getContainerStyle()},void 0,h(s.default,{align:s.default.Align.CENTER},void 0,h(s.default.Child,{},void 0,h(o.default.div,{className:f.default.message,style:this.getTextStyle()},void 0,c.default.Messages.SETTINGS_NOTICE_MESSAGE)),h(s.default,{grow:0,justify:s.default.Justify.END},void 0,h(l.default,{className:f.default.resetButton,size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,look:l.default.Looks.LINK,onClick:this.handleOnReset},void 0,h(o.default.span,{style:this.getTextStyle()},void 0,c.default.Messages.RESET)),h(l.default,{className:f.default.button,size:l.default.Sizes.SMALL,color:l.default.Colors.GREEN,submitting:e,onClick:this.handleOnSave},void 0,c.default.Messages.SAVE_CHANGES))))},a.getTextStyle=function(){var e=this.state.color,t=d.Colors.WHITE;return this.props.theme===d.ThemeTypes.LIGHT&&(t=d.Colors.PRIMARY_DARK_500),{color:e.interpolate({inputRange:[0,1],outputRange:[t,d.Colors.WHITE]})}},a.getContainerStyle=function(){var e=this.state.color,t=(0,i.hex2rgb)(d.Colors.PRIMARY_DARK_700,.9);return this.props.theme===d.ThemeTypes.LIGHT&&(t=(0,i.hex2rgb)(d.Colors.STATUS_GREY_100,.9)),{backgroundColor:e.interpolate({inputRange:[0,1],outputRange:[t,(0,i.hex2rgb)(d.Colors.STATUS_RED_500,.9)]})}},r}(a.PureComponent);m.displayName="SettingsNotice";var y=m;t.default=y,e.exports=t.default},6151:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetchForGuild:function(e){a.default.dirtyDispatch({type:o.ActionTypes.WEBHOOKS_FETCHING,guildId:e}),r.default.get(o.Endpoints.GUILD_WEBHOOKS(e)).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,webhooks:n})}).catch(function(t){var n=t.body;a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,error:n.message})})},fetchForChannel:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.WEBHOOKS_FETCHING,guildId:e,channelId:t}),r.default.get(o.Endpoints.CHANNEL_WEBHOOKS(t)).then(function(n){var r=n.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOKS_UPDATE,guildId:e,channelId:t,webhooks:r})})},create:function(e,t,n){return r.default.post({url:o.Endpoints.CHANNEL_WEBHOOKS(t),body:n}).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOK_CREATE,guildId:e,webhook:n}),n})},delete:function(e,t){return r.default.delete(o.Endpoints.WEBHOOK(t)).then(function(){a.default.dispatch({type:o.ActionTypes.WEBHOOK_DELETE,guildId:e,webhookId:t})})},update:function(e,t,n){return r.default.patch({url:o.Endpoints.WEBHOOK(t),body:n}).then(function(t){var n=t.body;return a.default.dispatch({type:o.ActionTypes.WEBHOOK_UPDATE,guildId:e,webhook:n}),n})}};t.default=l,e.exports=t.default},6152:function(e,t,n){"use strict";t.__esModule=!0,t.makeChannelSortable=function(e){return(0,r.DropTarget)(y,{drop:function(e,t){var n=t.getItem(),r=(0,f.getDropData)(s.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList);if(null!=r){var l=s.default.getChannel(n.id);if(null!=l){var p=e.channel.getGuildId(),m=u.default.getCategories(p),y=d.default.getGuild(p);if(null!=y){var _=(0,f.getDnDUpdates)(l,s.default.getChannel(r.referenceId),r.parentId,m);if(0!==_.length){var g,E=c.default.getCurrentUser();if(_=_.filter(function(e){var t=e.id,n=s.default.getChannel(t);if(null==n)return!1;var r=s.default.getChannel(n.parent_id);return n.type===v.ChannelTypes.GUILD_CATEGORY||null==r?h.default.can(v.Permissions.MANAGE_CHANNELS,E,y):h.default.can(v.Permissions.MANAGE_CHANNELS,E,r)}),l.parent_id!==r.parentId&&_.find(function(e){if(e.id!==l.id)return!1;var t=s.default.getChannel(e.parent_id),n=null!=t&&h.default.can(v.Permissions.MANAGE_ROLES,E,l)&&h.default.can(v.Permissions.MANAGE_ROLES,E,t);if(!n)return!0;var r=h.default.areChannelsLocked(l,t),a=h.default.areChannelsLocked(l,s.default.getChannel(l.parent_id));return(null==l.parent_id&&!r||a&&!r)&&(g=e),!0}),null!=g){var S=s.default.getChannel(g.parent_id);o.default.push(i.default,{channel:l,category:S,onSync:function(){null!=g&&(g.lock_permissions=!0,a.default.batchChannelUpdate(p,_))},onCancel:function(){null!=g&&a.default.batchChannelUpdate(p,_)}})}else a.default.batchChannelUpdate(p,_)}}}}},canDrop:function(e,t){var n=t.getItem(),r=s.default.getChannel(n.id),a=c.default.getCurrentUser();if(null==r)return!1;var o=(0,f.getDropData)(s.default.getChannel(n.id),n.position,e.channel,e.position,n.channelList),i=d.default.getGuild(n.guildId);if(null==o||null==i)return!1;var l=s.default.getChannel(o.parentId),u=s.default.getChannel(r.parent_id),p=h.default.can(v.Permissions.MANAGE_CHANNELS,a,i),m=null!=u?h.default.can(v.Permissions.MANAGE_CHANNELS,a,u):p,y=null!=l?h.default.can(v.Permissions.MANAGE_CHANNELS,a,l):p;return m&&y}},function(e,t){var n=t.getItem();return null==n||null==n.isChannelDrag?{connectChannelDropTarget:e.dropTarget(),sorting:!1,sortingType:null,sortingPosition:null,sortingParent:null}:{connectChannelDropTarget:e.dropTarget(),sorting:!0,sortingType:n.type,sortingPosition:t.isOver()&&t.canDrop()?n.position:null,sortingParent:t.isOver()&&t.canDrop()?n.parent:null}})((0,r.DragSource)(y,{canDrag:function(e){var t=e.channel,n=c.default.getCurrentUser(),r=d.default.getGuild(t.getGuildId());if(null==r)return!1;if(t.type===v.ChannelTypes.GUILD_CATEGORY)return h.default.can(v.Permissions.MANAGE_CHANNELS,n,r);var a=s.default.getChannel(t.parent_id);return null!=a&&h.default.can(v.Permissions.MANAGE_CHANNELS,n,a)||null==a&&h.default.can(v.Permissions.MANAGE_CHANNELS,n,r)},beginDrag:function(e){var t=e.channel,n=t.id,r=t.parent_id,a=t.guild_id,o=t.type,i=e.position,s=c.default.getCurrentUser(),d=u.default.getCategories(a),f=(0,p.getFlattenedChannelList)(d._categories,d,function(e){var t=e.channel;return t.type===v.ChannelTypes.GUILD_CATEGORY&&d[t.id]&&0===d[t.id].length?h.default.can(v.Permissions.MANAGE_CHANNELS,s,t)&&h.default.can(v.Permissions.VIEW_CHANNEL,s,t):!l.default.isCollapsed(t.parent_id)});return{isChannelDrag:!0,id:n,position:i,parentId:r,type:o,channelList:f,guildId:a}}},function(e){return{connectChannelDragSource:e.dragSource(),connectDragPreview:e.dragPreview()}})(e))};var r=n(876),a=m(n(827)),o=m(n(77)),i=m(n(6747)),l=m(n(848)),s=m(n(20)),u=m(n(843)),d=m(n(28)),c=m(n(14)),f=n(6651),p=n(449),h=m(n(87)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var y="DRAGGABLE_GUILD_CHANNEL"},6153:function(e,t,n){"use strict";t.__esModule=!0,t.renderMentionBadge=T,t.renderIconBadge=O,t.GuildDiscovery=t.CreateJoinGuildButton=t.AppDownloadButton=t.UnavailableGuildsButton=t.CircleIconButton=t.Separator=t.ListItemTooltip=t.renderListItem=void 0;var r,a=g(n(2)),o=_(n(17)),i=_(n(305)),l=_(n(219)),s=_(n(301)),u=_(n(437)),d=_(n(6154)),c=n(6050),f=_(n(6155)),p=_(n(44)),h=g(n(6044)),v=n(0),m=_(n(13)),y=_(n(5625));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e){return S(c.NumberBadge,{count:e})}function O(e,t){var n=t?s.default.Names.NOVA_CAMERA:e?s.default.Names.NOVA_SPEAKER:null;return null==n?null:S(c.IconBadge,{name:n,disableColor:!0,className:y.default.iconBadge})}T.displayName="renderMentionBadge",O.displayName="renderIconBadge";var I=function(e,t){return a.createElement("div",{className:y.default.listItem,ref:t},e)};t.renderListItem=I,I.displayName="renderListItem";var C=function(e){var t=e.children,n=e.text,r=e.color,a=e.disabled,o=void 0!==a&&a;return S(u.default,{text:o?null:n,position:u.default.Positions.RIGHT,color:r},void 0,t)};t.ListItemTooltip=C,C.displayName="ListItemTooltip";var N=function(){return I(S("div",{className:y.default.guildSeparator}))};t.Separator=N;var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t}return E(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.onClick,i=n.onContextMenu,s=n.children,u=n.selected,c=n.tooltipText,p=this.state.hovered;return I(S(a.Fragment,{},void 0,S(d.default,{hovered:p,selected:u,className:y.default.pill}),S(C,{text:c},void 0,S(f.default,{className:y.default.circleButtonMask,selected:u||p},void 0,S(l.default,{onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})},className:(0,o.default)((e={},e[y.default.circleIconButton]=!0,e[y.default.selected]=u||p,e)),onClick:r,onContextMenu:i},void 0,s)))))},t}(a.Component);t.CircleIconButton=A,A.displayName="CircleIconButton";t.UnavailableGuildsButton=function(e){var t=e.unavailableGuilds;return t>0?I(S(C,{text:m.default.Messages.PARTIAL_OUTAGE.format({count:t}),color:u.default.Colors.RED},void 0,S(i.default,{href:"//twitter.com/discordapp",target:"_blank",className:y.default.guildsError},void 0,"!"))):null};var M=S(N,{});t.AppDownloadButton=function(e){var t=e.disable,n=e.onClick,r=e.selected;return t?null:S(a.Fragment,{},void 0,M,S(A,{onClick:n,selected:r,tooltipText:m.default.Messages.DOWNLOAD_APPS},void 0,S(s.default,{name:s.default.Names.NOVA_DOWNLOAD,className:y.default.circleIcon})))};var P=function(e){var t=e.isOwnerOfAny,n=e.disableTooltip,r=e.onContextMenu,a=e.onClick,o=e.selected,i=S(A,{onClick:a,selected:o,onContextMenu:r,tooltipText:m.default.Messages.ADD_A_SERVER},void 0,S(s.default,{name:s.default.Names.NOVA_ADD,className:y.default.circleIcon}));return n?i:S(h.default,{tutorialId:t?"create-more-servers":"create-first-server",position:h.TutorialIndicatorPositions.RIGHT,offsetX:-18,offsetY:-18,autoOpen:!1},void 0,i)};t.CreateJoinGuildButton=P,P.displayName="CreateJoinGuildButton";var b=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e=this.props.selected;return S(A,{onClick:function(){return p.default.transitionTo(v.Routes.GUILD_DISCOVERY)},selected:e,tooltipText:m.default.Messages.GUILD_DISCOVERY_TOOLTIP},void 0,S(s.default,{name:s.default.Names.SEARCH,width:24,height:24}))},t}(a.Component);t.GuildDiscovery=b,b.displayName="GuildDiscovery"},6154:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=n(6455),i=l(n(5623));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u={tension:400,friction:30};t.default=function(e){var t=e.selected,n=void 0!==t&&t,r=e.hovered,l=void 0!==r&&r,d=e.unread,c=void 0!==d&&d,f=e.className;return s("div",{className:(0,a.default)(f,i.default.wrapper)},void 0,s(o.Spring,{native:!0,config:u,to:{opacity:n?1:l||c?.7:0,height:n?40:l?20:8,transform:l||n||c?"translate3d(0px, 0, 0)":"translate3d(-4px,0,0)"}},void 0,function(e){return s(o.animated.span,{className:i.default.item,style:e})}))},e.exports=t.default},6155:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(7264),l=n(6455),s=f(n(156)),u=f(n(826)),d=f(n(219)),c=f(n(5624));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v={friction:13,tension:240,duration:150},m={duration:150,friction:3},y={friction:30,tension:900,mass:1},_={duration:150,friction:10,tension:100,mass:1},g=(0,i.interpolate)("M0 24C0 16.5449 0 12.8174 1.21793 9.87706C2.84183 5.95662 5.95662 2.84183 9.87706 1.21793C12.8174 0 16.5449 0 24 0C31.4551 0 35.1826 0 38.1229 1.21793C42.0434 2.84183 45.1582 5.95662 46.7821 9.87706C48 12.8174 48 16.5449 48 24C48 31.4551 48 35.1826 46.7821 38.1229C45.1582 42.0434 42.0434 45.1582 38.1229 46.7821C35.1826 48 31.4551 48 24 48C16.5449 48 12.8174 48 9.87706 46.7821C5.95662 45.1582 2.84183 42.0434 1.21793 38.1229C0 35.1826 0 31.4551 0 24Z","M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",{maxSegmentLength:.1}),E=function(e){function t(){return e.apply(this,arguments)||this}h(t,e);var n=t.prototype;return n.componentWillAppear=function(e){e()},n.componentWillEnter=function(e){e()},n.componentWillLeave=function(e){this.timeoutId=setTimeout(e,300)},n.componentWillUnmount=function(){clearTimeout(this.timeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.animatedStyle;return p(l.animated.div,{className:n,style:r},void 0,t)},t}(a.Component);E.displayName="BadgeContainer";var S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={maskId:s.default.v4(),lowerBadgeMask:new l.Controller({spring:0}),upperBadgeMask:new l.Controller({spring:0}),borderRadiusMask:new l.Controller({spring:0})},t}h(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.selected,n=e.lowerBadge,r=e.upperBadge,a=this.state,o=a.borderRadiusMask,i=a.lowerBadgeMask,l=a.upperBadgeMask;o.update({spring:t?0:1,immediate:!0}),i.update({spring:null!=n?1:0,immediate:!0}),l.update({spring:null!=r?1:0,immediate:!0})},n.componentWillUnmount=function(){var e=this.state,t=e.borderRadiusMask,n=e.lowerBadgeMask,r=e.upperBadgeMask;t.destroy(),n.destroy(),r.destroy()},n.componentDidUpdate=function(e){var t=this.props,n=t.selected,r=t.lowerBadge,a=t.upperBadge,o=this.state,i=o.borderRadiusMask,l=o.lowerBadgeMask,s=o.upperBadgeMask;n&&!e.selected?i.update({spring:0,immediate:!1,config:v}):!n&&e.selected&&i.update({spring:1,immediate:!1,config:m}),null!=r&&null==e.lowerBadge?l.update({spring:1,immediate:!document.hasFocus(),config:y}):null==r&&null!=e.lowerBadge&&l.update({spring:0,immediate:!document.hasFocus(),config:_}),null!=a&&null==e.upperBadge?s.update({spring:1,immediate:!document.hasFocus(),config:y}):null==a&&null!=e.upperBadge&&s.update({spring:0,immediate:!document.hasFocus(),config:_})},n.getBadgePositionInterpolation=function(e,t){return void 0===t&&(t=1),e.getValues().spring.interpolate([0,1],[20,0]).interpolate(function(e){return"translate("+e+" "+e*t+")"})},n.getLowerBadgeStyles=function(){var e=this.state.lowerBadgeMask.getValues().spring;return{opacity:e.interpolate([0,.5,1],[0,0,1]),transform:e.interpolate(function(e){return"translate("+(16-16*e)+"px, "+(16-16*e)+"px)"})}},n.getUpperBadgeStyles=function(){var e=this.state.upperBadgeMask.getValues().spring;return{opacity:e.interpolate([0,.5,1],[0,0,1]),transform:e.interpolate(function(e){return"translate("+(16-16*e)+"px, "+-1*(16-16*e)+"px)"})}},n.getPathInterpolation=function(){return this.state.borderRadiusMask.getValues().spring.interpolate(g)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.lowerBadge,a=e.lowerBadgeWidth,i=e.onClick,s=e.onContextMenu,f=e.onMouseEnter,h=e.onMouseLeave,v=e.style,m=e.upperBadge,y=this.state,_=y.maskId,g=y.lowerBadgeMask,S=y.upperBadgeMask;return p(d.default,{className:(0,o.default)(n,c.default.wrapper),style:v,onMouseEnter:f,onMouseLeave:h,onClick:i,onContextMenu:s},void 0,p("svg",{width:48,height:48,viewBox:"0 0 48 48",className:c.default.svg},void 0,p("mask",{id:_,fill:"black",x:0,y:0,width:48,height:48},void 0,p(l.animated.path,{d:this.getPathInterpolation(),fill:"white"}),p(l.animated.rect,{x:28,y:-4,width:24,height:24,rx:12,ry:12,transform:this.getBadgePositionInterpolation(S,-1),fill:"black"}),p(l.animated.rect,{x:48-(a+8)+4,y:28,width:a+8,height:24,rx:12,ry:12,transform:this.getBadgePositionInterpolation(g),fill:"black"})),p("foreignObject",{mask:"url(#"+_+")",x:0,y:0,width:48,height:48},void 0,t)),p(u.default,{component:"div",className:c.default.badgeWrapper},void 0,null!=r?p(E,{className:c.default.lowerBadge,animatedStyle:this.getLowerBadgeStyles()},"lower-badge",r):null,null!=m?p(E,{className:c.default.upperBadge,animatedStyle:this.getUpperBadgeStyles()},"upper-badge",m):null))},t}(a.Component);S.displayName="BlobMask",S.defaultProps={selected:!1,lowerBadgeWidth:16};var T=S;t.default=T,e.exports=t.default},6156:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5477));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.application,n=e.splashSize,i=e.className,l=e.overrideSplash,s=null!=l?l:t.getSplashURL(n),u=null!=s?"url("+s+")":null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(o.default.splashBackground,i),style:{backgroundImage:u}})}l.displayName="ApplicationSplashBackground",e.exports=t.default},6162:function(e,t,n){"use strict";t.__esModule=!0,t.sortByMatchScore=function(e,t){if(e.score===t.score){var n=e.comparator.toLocaleLowerCase(),r=t.comparator.toLocaleLowerCase();if(n<r)return-1;if(n>r)return 1}return t.score-e.score}},6163:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(3)),a=f(n(1)),o=f(n(458)),i=f(n(237)),l=f(n(6048)),s=f(n(6054)),u=f(n(6055)),d=f(n(14)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h,v,m=function(){return{name:"",icon:null,region:s.default.getOptimalRegionId()}},y=!1,_=c.FormStates.CLOSED,g={},E=m(),S=c.CreateGuildModalScreens.Choose,T=!1;function O(){E=m(),h=null,_=c.FormStates.CLOSED,S=c.CreateGuildModalScreens.Choose}var I=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,d.default,i.default,o.default,s.default,u.default)},a.isOpen=function(){return!u.default.hasAction()&&(y&&_!==c.FormStates.CLOSED)},a.getProps=function(){return{submitting:_===c.FormStates.SUBMITTING,errors:g,code:h,guild:E,screen:S,optimalRegionId:v,nuf:T}},r}(r.default.Store))(a.default,{DISPLAYED_INVITE_SHOW:function(e){O()},CREATE_GUILD_MODAL_OPEN:function(e){_=c.FormStates.OPEN,T=e.nuf||!1,S=e.screen||c.CreateGuildModalScreens.Choose,E=m(),g={}},CREATE_GUILD_MODAL_SET_SCREEN:function(e){S=e.screen},CREATE_GUILD_MODAL_UPDATE:function(e){null!=h&&(h=null),E=p({},E,e.guild)},CREATE_GUILD_MODAL_SUBMIT:function(e){_=c.FormStates.SUBMITTING},CREATE_GUILD_MODAL_SUBMIT_FAILURE:function(e){_=c.FormStates.OPEN,g=e.errors},CREATE_GUILD_MODAL_CLOSE:function(e){return O()},LOAD_REGIONS:function(e){if(null==E||null!=e.guildId)return!1;v=E.region||s.default.getOptimalRegionId(),E=p({},E,{region:v})},CONNECTION_OPEN:function(e){y=!0},LOGOUT:function(e){y=!1},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=I,e.exports=t.default},6164:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(21)),a=d(n(1)),o=d(n(6165)),i=d(n(71)),l=d(n(35)),s=d(n(6218)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c,f="seenQSTutorial",p=0,h=!1,v=!1;function m(){null!=c&&(c.destroy(),c=null)}var y=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(i.default),this.syncWith([l.default],function(){return!0}),h=r.default.get(f)||!1},o.isOpen=function(){return null!=c},o.getResultTotals=function(e){return null==c?0:null==e?c.results.reduce(function(e,t){return t.type!==u.AutocompleterResultTypes.HEADER?e+1:e},0):c.results.reduce(function(t,n){return n.type===e?t+1:t},0)},o.channelNoticePredicate=function(e,t,n){var r=Date.now()-n>=u.CHANNEL_NOTICE_SHOW_DELAY;return v&&e&&r},o.getFrequentGuilds=function(){return null!=c?c.queryGuilds("",50):null},o.getProps=function(){return{theme:l.default.theme,query:null!=c?c.query:"",queryMode:null!=c?c.queryMode:null,results:null!=c?c.results:[],selectedIndex:p,seenTutorial:h}},a}(s.default))(a.default,{CONNECTION_OPEN:function(e){var t=e.guilds,n=e.channels;v=t.length>=3||n.filter(function(e){var t=e.type;return t===u.ChannelTypes.DM||t===u.ChannelTypes.GROUP_DM}).length>=20},QUICKSWITCHER_SHOW:function(e){c=c||new o.default(function(){return y.emitChange()}),p=c.search(e.query,e.options)},QUICKSWITCHER_HIDE:function(e){return m()},OVERLAY_SET_INPUT_LOCKED:function(e){return m()},QUICKSWITCHER_SEARCH:function(e){var t=e.query,n=e.options;null!=c&&(p=c.search(t,n))},QUICKSWITCHER_SELECT:function(e){p=e.selectedIndex},QUICKSWITCHER_SWITCH_TO:function(e){return function(){if(h)return!1;h=!0,r.default.set(f,!0)}()}}),_=y;t.default=_,e.exports=t.default},6165:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderRecord=t.default=void 0;var r=S(n(6)),a=n(6162),o=S(n(110)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(126)),l=S(n(313)),s=S(n(128)),u=S(n(6113)),d=S(n(6299)),c=S(n(108)),f=S(n(310)),p=S(n(85)),h=S(n(226)),v=S(n(6134)),m=S(n(325)),y=S(n(6030)),_=S(n(6073)),g=n(0),E=S(n(13));function S(e){return e&&e.__esModule?e:{default:e}}var T=100,O=5,I=1e3,C=function(){function e(e,t,r){var a=this;this.query="",this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[],this.applicationResults=[],this.mapUserResults=function(e){var t=e.user,r=e.id,o=e.score,i=e.comparator;null==t&&(t=n(14).getUser(r));var l=M(g.AutocompleterResultTypes.USER);return a.createResult(g.AutocompleterResultTypes.USER,t,A(o,l[t.id]),i)},this.parseUserResults=function(e){var t=e.query,r=e.results;if(!a.queryMode||a.queryMode===g.AutocompleterResultTypes.USER){if(0===t.trim().length){var o=a.selectedChannelId,i=n(12).getId();a.userResults=y.default.getRecentlyTalked(o,a.queryMode?T:O).filter(function(e){return e.user.id!==i}).map(a.mapUserResults)}else a.userResults=r.map(a.mapUserResults);null==a.queryMode&&a.userResults.length>O&&(a.userResults.length=O),a.updateAllResults(),a.emitChange(a)}},this.emitChange=e,this.userSearchContext=v.default.getSearchContext(this.parseUserResults,T),this.resultTypes=new Set(t),this._generateEmptyResults=r}var t=e.prototype;return t._include=function(e){return 0===this.resultTypes.size||this.resultTypes.has(e)},t.search=function(e,t){if(void 0===t&&(t={}),this.selectedGuildId=t.selectedGuildId,this.selectedChannelId=t.selectedChannelId,this.lastSelectedChannelId=t.lastSelectedChannelId,0===e.trim().length)return this.query=e,this.generateEmptyResults();this.queryMode=function(e){switch(e.charAt(0)){case"@":return g.AutocompleterResultTypes.USER;case"#":return g.AutocompleterResultTypes.TEXT_CHANNEL;case"!":return g.AutocompleterResultTypes.VOICE_CHANNEL;case"*":return g.AutocompleterResultTypes.GUILD;case"$":return g.AutocompleterResultTypes.APPLICATION;default:return null}}(e);var n=this.queryMode?e.substr(1):e,r=this.queryMode?T:O;switch(this.queryMode){case g.AutocompleterResultTypes.USER:this.queryUsers(n,r,!0);break;case g.AutocompleterResultTypes.TEXT_CHANNEL:this.textChannelResults=this.queryTextChannels(n,r);break;case g.AutocompleterResultTypes.VOICE_CHANNEL:this.voiceChannelResults=this.queryVoiceChannels(n,r);break;case g.AutocompleterResultTypes.GUILD:this.guildResults=this.queryGuilds(n,r);break;case g.AutocompleterResultTypes.APPLICATION:this.applicationResults=this.queryApplications(n,r);break;default:this.queryUsers(n,r),this.groupDMResults=this.queryGroupDMs(n,r),this.textChannelResults=this.queryTextChannels(n,r),this.voiceChannelResults=this.queryVoiceChannels(n,r,!0),this.guildResults=this.queryGuilds(n,r)}var a=this.query!==e&&null!=this.queryMode?1:0;return this.query=e,this.queryMode&&this.queryMode!==g.AutocompleterResultTypes.USER&&this.updateAllResults(),a},t.clear=function(){this.results=[],this.userResults=[],this.groupDMResults=[],this.textChannelResults=[],this.voiceChannelResults=[],this.guildResults=[]},t.destroy=function(){null!=this.userSearchContext&&(this.userSearchContext.destroy(),this.userSearchContext=null)},t.createResult=function(e,t,n,r){switch(void 0===n&&(n=0),e){case g.AutocompleterResultTypes.GUILD:if(!(t instanceof l.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.GUILD,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.USER:if(!(t instanceof s.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.USER,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.HEADER:if(!(t instanceof N))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.HEADER,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.TEXT_CHANNEL:if(!(t instanceof i.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.TEXT_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.VOICE_CHANNEL:if(!(t instanceof i.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.VOICE_CHANNEL,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.GROUP_DM:if(!(t instanceof i.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.GROUP_DM,record:t,queryMode:this.queryMode,score:n,comparator:r};case g.AutocompleterResultTypes.APPLICATION:if(!(t instanceof o.default))throw new Error("Invalid");return{type:g.AutocompleterResultTypes.APPLICATION,record:t,queryMode:this.queryMode,score:n,comparator:r}}throw new Error("Invalid type")},t.queryTextChannels=function(e,t){var n=this;if(!this._include(g.AutocompleterResultTypes.TEXT_CHANNEL))return[];var o=this.selectedChannelId,i=M(g.AutocompleterResultTypes.TEXT_CHANNEL);return(0,r.default)(y.default.queryChannels(e,null,1/0,!0,function(e){return e.id!==o})).map(function(e){var t=e.channel,r=e.score,a=e.comparator;return n.createResult(g.AutocompleterResultTypes.TEXT_CHANNEL,t,A(r,i[t.id]),a)}).sort(a.sortByMatchScore).take(t).value()},t.queryVoiceChannels=function(e,t,n){var o=this;if(void 0===n&&(n=!1),!this._include(g.AutocompleterResultTypes.VOICE_CHANNEL))return[];var i=null;if(n&&(i=this.selectedGuildId),n&&null==i)return[];var l=M(g.AutocompleterResultTypes.VOICE_CHANNEL);return(0,r.default)(y.default.queryChannels(e,i,1/0,!0,function(){return!0},g.ChannelTypes.GUILD_VOICE)).map(function(e){var t=e.channel,n=e.score,r=e.comparator;return o.createResult(g.AutocompleterResultTypes.VOICE_CHANNEL,t,A(n,l[t.id]),r)}).sort(a.sortByMatchScore).take(t).value()},t.queryGuilds=function(e,t){var n=this;if(!this._include(g.AutocompleterResultTypes.GUILD))return[];var o=this.selectedGuildId,i=M(g.AutocompleterResultTypes.GUILD);return(0,r.default)(y.default.queryGuilds(e,1/0,!0,function(e){return e.id!==o})).map(function(e){var t=e.guild,r=e.score,a=e.comparator;return n.createResult(g.AutocompleterResultTypes.GUILD,t,A(r,i[t.id]),a)}).sort(a.sortByMatchScore).take(t).value()},t.queryUsers=function(e,t,r){if(void 0===r&&(r=!1),this.userSearchContext&&this._include(g.AutocompleterResultTypes.USER)){var a=[n(12).getId()],o=this.selectedGuildId,i={friends:!0};o&&i&&(i.guild=o),r&&(i=null,this.queryMode?_.default.requestMembers(null,e,20):_.default.requestMembers(o,e,20));var l=n(20).getDMUserIds();this.userSearchContext.setQuery(e,i,a,l,M(g.AutocompleterResultTypes.USER))}},t.queryGroupDMs=function(e,t){var n=this;if(!this._include(g.AutocompleterResultTypes.GROUP_DM))return[];var r=this.selectedChannelId,a=M(g.AutocompleterResultTypes.GROUP_DM);return y.default.queryGroupDMs(e,t,!0,function(e){return e.id!==r}).map(function(e){var t=e.channel,r=e.score,o=e.comparator;return n.createResult(g.AutocompleterResultTypes.GROUP_DM,t,A(r,a[t.id]),o)})},t.queryApplications=function(e,t){var n=this;return this._include(g.AutocompleterResultTypes.APPLICATION)?y.default.queryApplications(e,t,!0).map(function(e){var t=e.application,r=e.score,a=e.comparator;return n.createResult(g.AutocompleterResultTypes.APPLICATION,t,A(r,m.default.getQuickSwitcherScoreForApplication(t.id)),a)}):[]},t.generateSectionHeader=function(e){return this.createResult(g.AutocompleterResultTypes.HEADER,new N(e),0)},t.generateResultFromId=function(e){var t,r=n(20).getChannel(e);if(null==r)return null;switch(r.type){case g.ChannelTypes.DM:if(!this._include(g.AutocompleterResultTypes.USER))return null;if(t=g.AutocompleterResultTypes.USER,null==(r=n(14).getUser(r.getRecipientId())))return null;break;case g.ChannelTypes.GROUP_DM:if(!this._include(g.AutocompleterResultTypes.GROUP_DM))return null;t=g.AutocompleterResultTypes.GROUP_DM;break;default:if(!this._include(g.AutocompleterResultTypes.TEXT_CHANNEL))return null;t=g.AutocompleterResultTypes.TEXT_CHANNEL}return this.createResult(t,r,0,r.toString())},t.getDrafts=function(e){var t=this,n=[];return u.default.getRecentlyEditedDrafts().forEach(function(r){var a=r.channelId;if(!e(a)){var o=t.generateResultFromId(a);null!=o&&n.push(o)}}),n},t.generateEmptyResults=function(){var e=this;if(null!=this.userSearchContext&&this.userSearchContext.clearQuery(),null!=this._generateEmptyResults)return this.results=this._generateEmptyResults(this),this.results.length>0?1:0;var t=[],a=this.selectedGuildId,o=this.selectedChannelId,i=this.lastSelectedChannelId;if(i){var l=this.generateResultFromId(i);l&&t.push(this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_LAST_CHANNEL),l)}var s,u=this.getDrafts(function(e){return e===o||e===i});u.length>0&&(s=t).push.apply(s,[this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_DRAFTS)].concat(u));var d=n(20),p=(0,r.default)(d.getChannels()).values().filter(function(e){var t=e.id;return t!==o&&t!==i&&f.default.getMentionCount(t)>0}).map(function(t){return e.generateResultFromId(t.id)}).filter(function(e){return!!e}).value();if(p.length&&(t.push(this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_MENTIONS)),t=t.concat(p)),a){var v=c.default.getSelectableChannelIds(a).filter(function(e){var t=d.getChannel(e);return null!=t&&e!==o&&e!==i&&!h.default.isChannelMuted(t.guild_id,e)&&f.default.hasUnread(e)}).map(function(t){return e.generateResultFromId(t)}).filter(function(e){return e});v.length&&(t.push(this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_UNREAD_CHANNELS)),t=t.concat(v))}return this.clear(),this.results=(0,r.default)(t).uniqBy(function(e){return e.record.id}).value(),this.results.length>0?1:0},t.updateAllResults=function(){var e;switch(this.queryMode){case g.AutocompleterResultTypes.USER:e=this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_QUERYMODE_USERS),this.results=[].concat(this.userResults);break;case g.AutocompleterResultTypes.TEXT_CHANNEL:e=this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_QUERYMODE_TEXT_CHANNELS),this.results=[].concat(this.textChannelResults);break;case g.AutocompleterResultTypes.VOICE_CHANNEL:e=this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_QUERYMODE_VOICE_CHANNELS),this.results=[].concat(this.voiceChannelResults);break;case g.AutocompleterResultTypes.GUILD:e=this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_QUERYMODE_GUILDS),this.results=[].concat(this.guildResults);break;case g.AutocompleterResultTypes.APPLICATION:e=this.generateSectionHeader(E.default.Messages.QUICKSWITCHER_QUERYMODE_APPLICATIONS),this.results=[].concat(this.applicationResults);break;default:this.results=[].concat(this.userResults,this.groupDMResults,this.textChannelResults,this.voiceChannelResults,this.guildResults)}this.results=(0,r.default)(this.results).uniqBy(function(e){return e.type+"-"+e.record.id}).sort(a.sortByMatchScore).value(),this._include(g.AutocompleterResultTypes.HEADER)&&this.results.length>0&&null!=e&&this.results.unshift(e)},e}();t.default=C;var N=function(e){this.id=e,this.text=e};function A(e,t){return void 0===e&&(e=0),I*e*(t||1)}function M(e){var t=d.default.getFrequently(),r=t.reduce(function(e,t){var n=t.id,r=d.default.getScore(n);return r>e?r:e},0),a=[];switch(e){case g.AutocompleterResultTypes.GUILD:a=t.filter(function(e){return e instanceof l.default});break;case g.AutocompleterResultTypes.USER:a=t.filter(function(e){return e instanceof i.default&&e.type===g.ChannelTypes.DM});break;case g.AutocompleterResultTypes.GROUP_DM:a=t.filter(function(e){return e instanceof i.default&&e.type===g.ChannelTypes.GROUP_DM});break;case g.AutocompleterResultTypes.TEXT_CHANNEL:a=t.filter(function(e){return e instanceof i.default&&(0,i.isGuildSelectableChannelType)(e.type)});break;case g.AutocompleterResultTypes.VOICE_CHANNEL:a=t.filter(function(e){return e instanceof i.default&&e.type===g.ChannelTypes.GUILD_VOICE})}var o={};return a.forEach(function(t){var a=t.id,i=d.default.getScore(a);if(e===g.AutocompleterResultTypes.USER){a=t.getRecipientId();var l=p.default.isFriend(a)?.2:0,s=n(20).getDMFromUserId(a)?.1:0;o[a]=1+i/r+l+s}else o[a]=1+i/r}),o}t.HeaderRecord=N},6166:function(e,t,n){e.exports=function(){return new Worker(n.p+"9289cdcbeada3030b4ea.worker.js")}},6168:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={setEnabled:function(e){this.update({enabled:e})},update:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];a.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:r,value:e[r]})}}};t.default=i,e.exports=t.default},6169:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=f(n(3)),i=f(n(1)),l=f(n(131)),s=f(n(57)),u=f(n(28)),d=f(n(6048)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(s.default,d.default,u.default)},a.getExperimentId=function(){return c.Experiments.TUTORIAL_LOGIC},a.getMetaData=function(){return{title:"Tutorial Logic Experiment",description:["Control: Old Tutorial Tip Logic","Treatment 1: New Tutorial Tip Logic"]}},a.getExperimentDescriptor=function(){return s.default.getOverrideExperimentDescriptor(this.getExperimentId())||s.default.getEligibleExperiment(this.getExperimentId())},a.useNewTutorialLogic=function(){var e=this.getExperimentDescriptor();if(null==e)return!1;if(e.override||s.default.hasExperimentTriggered(e.type,e.name))return e.bucket===c.ExperimentBuckets.TREATMENT_1;var t=u.default.getGuilds(),n=Object.keys(t).length;if(n<=1){var r=d.default.getInvites();if(1!==r.length)return!1;if(1===n&&null!=r[0].guild&&!(r[0].guild.id in t))return!1;var a=r[0].approximate_member_count;return!(null==a||a>=100)&&(l.default.trigger(e),e.bucket===c.ExperimentBuckets.TREATMENT_1)}return!1},r}(o.default.Store))(i.default);l.default.register(p,((a={})[c.ExperimentTypes.NONE]=function(){return null},a[c.ExperimentTypes.USER]=((r={})[c.ExperimentBuckets.CONTROL]=function(){return null},r[c.ExperimentBuckets.NOT_ELIGIBLE]=function(){return null},r[c.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var h=p;t.default=h,e.exports=t.default},6171:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=n(6001),l=n(828),s=p(n(437)),u=n(0),d=p(n(13)),c=p(n(5373)),f=p(n(5402));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.timestamp;return h(s.default,{text:null!=t?(0,i.calendarFormat)(t):null},void 0,h("time",{dateTime:t.toISOString(),className:f.default.edited,role:"note"},void 0,"(",d.default.Messages.MESSAGE_EDITED,")"))};v.displayName="SuffixEdited";var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onContextMenu=function(e){var n=t.props;(0,n.onContextMenu)(e,{message:n.message,channel:n.channel,target:e.target})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this,n=this.props,r=n.className,a=n.message,i=n.channel,s=n.renderButtons,d=n.renderPrefix,p=n.children,m=n.disableButtons,y=n.disableMentionStyles,_=n.isCompact,g=a.isEdited(),E=a.state===u.MessageStates.SEND_FAILED,S=a.state===u.MessageStates.SENDING,T=a.type!==u.MessageTypes.DEFAULT,O=a.mentioned&&!T,I=(0,o.default)(r,((e={})[f.default.isMentionedCompact]=O&&!y&&_,e[f.default.isMentionedCozy]=O&&!y&&!_,e[f.default.isSending]=S,e[f.default.containerCompact]=_,e[f.default.containerCozy]=!_,e));return h(l.BackgroundOpacityContext.Consumer,{},void 0,function(e){var n;return h("div",{className:(0,o.default)(I,f.default[e.backgroundOpacity+"BackgroundOpacity"],c.default[e.backgroundOpacity+"BackgroundOpacity"]),onContextMenu:t.onContextMenu},void 0,!m&&s&&h("div",{className:f.default.buttonContainer},void 0,s({message:a,channel:i})),p||h("div",{className:(0,o.default)(f.default.markup,c.default.markup,(n={},n[f.default.isFailed]=E,n[f.default.isCompact]=_,n))},void 0,null!=d&&d({message:a,channel:i}),a.contentParsed,g&&null!=a.editedTimestamp&&h(v,{timestamp:a.editedTimestamp})))})},r}(a.PureComponent);t.default=m,m.displayName="MessageContent",m.defaultProps={disableButtons:!1,disableMentionStyles:!1,disablePromoteButton:!0},e.exports=t.default},6172:function(e,t,n){"use strict";t.__esModule=!0,t.openUserContextMenu=function(e,t,n){var r={user:t,channelId:n.id};n.isGroupDM()?r.type=l.ContextMenuTypes.USER_GROUP_DM:n.isDM()?(r.selected=!0,r.type=l.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE):(r.type=l.ContextMenuTypes.USER_CHANNEL_MESSAGE,r.guildId=n.getGuildId());(0,o.openContextMenu)(e,function(e){return a.createElement(i.default,s({},e,r))})};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=(r=n(5358))&&r.__esModule?r:{default:r},l=n(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}},6173:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={},s="",u="";var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getResults=function(e,t){if(null==e||null==t)return null;var n=l[e];return null!=n&&null!=n[t]?n[t]:null},a.getQuery=function(){return{integration:s,query:u}},r}(r.default.Store))(a.default,{INTEGRATION_QUERY:function(e){var t=e.integration,n=e.query;l[t]=l[t]||{},l[t][n]={loading:!0,results:[]}},INTEGRATION_QUERY_SUCCESS:function(e){var t=e.integration,n=e.query,r=e.results;l[t][n].loading=!1,l[t][n].results=r.map(function(e){return{type:o.ChannelTextAreaIntegrations[t].type,meta:e}}),u=n,s=t},INTEGRATION_QUERY_FAILURE:function(e){var t=e.integration,n=e.query;delete l[t][n]}});t.default=d,e.exports=t.default},6174:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=n(178),l=h(n(5992)),s=h(n(219)),u=h(n(148)),d=h(n(301)),c=h(n(125)),f=h(n(13)),p=h(n(5407));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g=function(e){function t(t){var n;return(n=e.call(this,t)||this).selectable=!0,n.orientation="Vertical",y(n).handleMouseEnter=n.handleMouseEnter.bind(y(n)),y(n).handleClick=n.handleClick.bind(y(n)),n}_(t,e);var n=t.prototype;return n.getSelectedMode=function(){return this.selectable&&this.props.selected?"Selected":""},n.renderContent=function(){throw new Error("AutocompleteRow: renderContent must be extended")},n.render=function(){var e;return m(s.default,{className:(0,o.default)(this.props.className,(0,i.getClass)(p.default,"autocompleteRow",this.orientation)),onMouseEnter:this.selectable?this.handleMouseEnter:null,onClick:this.selectable?this.handleClick:null},void 0,m("div",{className:(0,o.default)((0,i.getClass)(p.default,"selector",this.getSelectedMode()),(e={},e[p.default.selectable]=this.selectable,e))},void 0,this.renderContent()))},n.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},n.handleClick=function(){var e=this.props,t=e.onClick,n=e.index;t&&t(n)},t}(a.PureComponent);g.displayName="AutocompleteRow";var E=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.text,n=e.description;return m(u.default,{className:p.default.content},void 0,m(u.default.Child,{grow:1},void 0,t),m(u.default.Child,{grow:0},void 0,m(c.default,{className:p.default.description},void 0,n)))},t}(g),S=function(e){function t(t){var n;return(n=e.call(this,t)||this).selectable=!1,n}return _(t,e),t.prototype.renderContent=function(){var e=this.props.title;return m(c.default,{className:p.default.contentTitle,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL},void 0,e)},t}(g),T=function(e){function t(t){var n;return(n=e.call(this,t)||this).selectable=!1,n}return _(t,e),t.prototype.renderContent=function(){return m("div",{className:p.default.divider})},t}(g),O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).statusStyle={width:10,height:10,right:"-4px",bottom:"-4px",borderWidth:2,borderStyle:"solid"},t}return _(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.user,n=e.nick,r=e.status,a=e.hidePersonalInformation,o=e.colorblindMode;return m(u.default,{align:u.default.Align.CENTER,className:p.default.content},void 0,m(l.default,{size:l.default.Sizes.XSMALL,src:t.getAvatarURL(),status:r,statusClassName:p.default.avatarStatus,statusStyle:o?this.statusStyle:{}}),m(u.default.Child,{className:p.default.marginLeft8},void 0,n||t.username),m(u.default,{grow:0,align:u.default.Align.BASELINE,className:p.default.description},void 0,m(c.default,{className:p.default.descriptionUsername},void 0,t.username),a?null:m(c.default,{className:p.default.descriptionDiscriminator},void 0,"#",t.discriminator)))},t}(g),I=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.renderContent=function(){var e=this.props.role;return m(u.default,{align:u.default.Align.CENTER,className:p.default.content},void 0,m(u.default.Child,{grow:1},void 0,m(c.default,{style:{color:e.colorString}},void 0,"@",e.name)),m(c.default,{className:p.default.description},void 0,f.default.Messages.MENTION_USERS_WITH_ROLE))},t}(g),C=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return m(u.default,{align:u.default.Align.CENTER,className:p.default.content},void 0,m(d.default,{name:d.default.Names.CHANNEL_TEXT,className:p.default.icon,foreground:p.default.iconForeground}),m(u.default.Child,{className:p.default.marginLeft4},void 0,t.toString()),null!=n?m(c.default,{className:p.default.description},void 0,n.name):null)},t}(g),N=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.command,n=e.description;return m(u.default,{align:u.default.Align.CENTER,className:p.default.content},void 0,m(d.default,{name:d.default.Names.SLASH,className:p.default.icon,foreground:p.default.iconForeground}),m(u.default.Child,{grow:1,className:p.default.marginLeft4},void 0,t),m(c.default,{className:p.default.description},void 0,n))},t}(g),A=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.emoji,n=e.sentinel,r=t.url?m("img",{alt:"",className:p.default.icon,src:t.url}):m("span",{className:p.default.rawEmoji},void 0,t.surrogates);return m(u.default,{align:u.default.Align.CENTER,className:p.default.content},void 0,r,m("div",{className:p.default.marginLeft8},void 0,n,t.name,n))},t}(g),M=function(e){function t(t){var n;return(n=e.call(this,t)||this).orientation="Horizontal",n}return _(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.width,n=e.height;return m("img",{alt:"",src:e.src,width:t,height:n})},t}(g),P=function(e){function t(){return e.apply(this,arguments)||this}return _(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.isCustom,i=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","className","isCustom"]);return 0===a.Children.count(t)?null:m("div",{className:(0,o.default)(p.default.autocomplete,n)},void 0,r?t:a.createElement("div",v({className:p.default.autocompleteInner},i),t))},t}(a.PureComponent);P.displayName="Autocomplete",P.Generic=E,P.Title=S,P.Divider=T,P.User=O,P.Role=I,P.Channel=C,P.Command=N,P.Emoji=A,P.GIFIntegration=M,P.defaultProps={isCustom:!1};var b=P;t.default=b,e.exports=t.default},6175:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=A(n(17)),i=A(n(6)),l=A(n(487)),s=A(n(303)),u=A(n(3)),d=A(n(6236)),c=A(n(825)),f=A(n(824)),p=A(n(183)),h=A(n(231)),v=A(n(28)),m=A(n(451)),y=A(n(124)),_=A(n(219)),g=A(n(18)),E=A(n(158)),S=A(n(845)),T=A(n(6176)),O=A(n(6035)),I=n(0),C=A(n(13)),N=A(n(5412));function A(e){return e&&e.__esModule?e:{default:e}}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=32,L=l.default.convert.fromCodePoint("1f44c"),D=22,w=125,U=28;var k=function(e){var t=e.onLearnMore,r=e.onClose,a=e.isGuildChannel;return b("div",{className:N.default.premiumPromo},void 0,b(_.default,{className:N.default.premiumPromoClose,onClick:r},void 0,C.default.Messages.CLOSE),b("img",{alt:"",className:N.default.premiumPromoImage,src:n(6511),width:124,height:96}),b("div",{className:N.default.premiumPromoTitle},void 0,C.default.Messages.PREMIUM_PROMO_TITLE),b("div",{className:N.default.premiumPromoDescription},void 0,C.default.Messages.PREMIUM_PROMO_DESCRIPTION),b(y.default,{onClick:function(){!function(e){g.default.track(I.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:e?I.AnalyticsPages.GUILD_CHANNEL:I.AnalyticsPages.DM_CHANNEL,location_section:I.AnalyticsSections.EMOJI_PICKER_POPOUT})}(a),f.default.open(I.UserSettingsSections.PREMIUM),t()}},void 0,C.default.Messages.LEARN_MORE))};k.displayName="PremiumPromo";var G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={opacity:new s.default.Value(t.props.fade?0:1)},t}P(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.fade,n=e.delay;t&&s.default.timing(this.state.opacity,{delay:n,toValue:1,duration:150}).start()},n.render=function(){var e=this.props,t=e.surrogate,n=e.onClick,r=E.default.getURL(L+t),a={opacity:this.state.opacity,backgroundImage:'url("'+r+'")'};return b(s.default.div,{onClick:function(){return n(t)},className:N.default.item,style:a})},t}(a.Component);G.displayName="DiversityIcon",G.defaultProps={delay:0,fade:!1};var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isOpen:!1,height:new s.default.Value(U)},t.me=a.createRef(),t.handleDiversityColorChange=function(e){d.default.setDiversityColor(e),t.close()},t.handleOpen=function(){var e=t.props.onOpen;s.default.timing(t.state.height,{fromValue:U,toValue:180,duration:w}).start(),t.setState({isOpen:!0}),document.addEventListener("click",t.close,!0),e&&e(!0)},t.close=function(e){var n=t.props.onOpen,r=t.me.current;if(null!=e&&null!=r)for(var a=e.target;null!=a;){if(a===r)return;a=a.parentNode}t.setState({isOpen:!1}),t.state.height.setValue(U),n&&n(!1)},t}P(t,e);var n=t.prototype;return n.componentWillUnmount=function(){document.removeEventListener("click",this.close,!0)},n.render=function(){var e=this,t=this.props.selectedSurrogate,n=this.state,r=n.isOpen,o=n.height;if(r){var l=[""].concat(I.DIVERSITY_SURROGATES);i.default.remove(l,function(e){return e===t}),l.unshift(t);var u=l.map(function(t,n){return b(G,{fade:n>0,delay:20*n,surrogate:t,onClick:e.handleDiversityColorChange},n)});return a.createElement("div",{ref:this.me,className:N.default.diversitySelector},b(s.default.div,{className:N.default.popout,style:{height:o}},void 0,u))}var d=E.default.getURL(L+t);return b(_.default,{className:N.default.diversitySelector,onClick:this.handleOpen},void 0,b("div",{className:N.default.item,style:{backgroundImage:'url("'+d+'")'}}))},t}(a.PureComponent);F.displayName="DiversitySelector";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).categories=[],t.categoryOffsets={},t.cachedMetaDataNoSearch=null,t.spriteSheetSize=[D*I.EmojiSprites.NonDiversityPerRow+"px",D*Math.ceil(p.default.numNonDiversitySprites/I.EmojiSprites.NonDiversityPerRow)+"px"].join(" "),t.diversitySpriteSheetSize=[D*I.EmojiSprites.DiversityPerRow+"px",D*Math.ceil(p.default.numDiversitySprites/I.EmojiSprites.DiversityPerRow)+"px"].join(" "),t.searchRef=a.createRef(),t.scrollerRef=a.createRef(),t.state={premiumPromoOpen:!1,diversityPickerOpen:!1,metaData:t.computeMetaData(null),searchResults:null,currentSection:h.default.categories[0],selectedRow:-1,selectedColumn:-1,query:"",placeholder:C.default.Messages.SEARCH_FOR_EMOJI},t.handleClear=function(){t.clearNow()},t.handleSelect=function(e,n,r){null!=e&&null!=n?t.selectEmoji(t.state.metaData[e].items[n].emoji,!r.shiftKey):t.selectEmoji(null)},t.handleSelectionChange=function(e,n){if(!(e<0||n<0)){var r=t.state.metaData[e].items[n],a=r.emoji,o=r.offsetTop,i=t.scrollerRef.current;t.setState({selectedRow:e,selectedColumn:n,placeholder:a.allNamesString}),null!=i&&i.scrollIntoViewRect(o,o+R,!1)}},t.handleQueryChange=function(e){if(""!==e){var n=e;":"===n[0]&&(n=n.slice(1));var r=h.default.search(t.props.channel,n);t.setState({query:e,searchResults:r,metaData:t.computeMetaData(r),selectedRow:-1,selectedColumn:-1,currentSection:null})}else t.clearNow()},t.handleScroll=function(){var e=t.getCurrentSection();e!==t.state.currentSection&&t.setState({currentSection:e})},t.handleDiversityPickerToggled=function(e){t.setState({diversityPickerOpen:e})},t.renderStickyHeader=function(){var e=t.scrollerRef.current;if(""!==t.state.query)return null;if(null==e)return b("div",{className:N.default.stickyHeader},void 0,b("div",{className:N.default.category},void 0,t.categoryOffsets[h.default.categories[0]]));var n=e.getScrollerNode().scrollTop,r=n+R,a=-1,o=-1;i.default.forEach(t.categories,function(e,t){var r=e.offsetTop;r<=n&&a<r&&(a=r,o=t)});var l=o+1;if(l<t.categories.length&&t.categories[l].offsetTop<r){var s={marginTop:t.categories[l].offsetTop-r};return b("div",{className:N.default.stickyHeader,style:s},void 0,b("div",{className:N.default.category},void 0,t.categories[o].title),b("div",{className:N.default.category},void 0,t.categories[l].title))}return b("div",{className:N.default.stickyHeader},void 0,b("div",{className:N.default.category},void 0,t.categories[o].title))},t}P(t,e);var r=t.prototype;return r.selectEmoji=function(e,t){void 0===t&&(t=!0);var n=this.props,r=n.channel,a=n.onSelectEmoji,o=n.popoutKey;null!=e&&E.default.isEmojiDisabled(e,r)?this.setState({premiumPromoOpen:!0}):(a&&a(e),t?c.default.close(o):this.focusSearch())},r.clearNow=function(e){var t={query:"",placeholder:C.default.Messages.SEARCH_FOR_EMOJI,searchResults:null,metaData:this.computeMetaData(null),selectedRow:-1,selectedColumn:-1};""!==this.state.query&&(t.currentSection=h.default.categories[0]),this.focusSearch(),this.setState(t,e)},r.focusSearch=function(){var e=this.searchRef.current;null!=e&&e.focus()},r.componentDidMount=function(){g.default.track(I.AnalyticEvents.OPEN_POPOUT,{type:"Emoji Picker"}),this.focusSearch();var e=this.props.onOpen;e&&e()},r.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},r.onHoverEmoji=function(e,t,n){this.setState({selectedRow:t,selectedColumn:n,placeholder:e.allNamesString})},r.scrollNow=function(e){var t=this;this.clearNow(function(){var n=t.scrollerRef.current;null!=n&&n.scrollTo(t.categoryOffsets[e],!0)})},r.getCurrentSection=function(){var e=this.scrollerRef.current;if(""!==this.state.query||null==e)return null;var t=e.getScrollData(),n=t.scrollTop+.25*t.offsetHeight;if(0===t.scrollTop)return h.default.categories[0];var r=-1,a=null;return i.default.forEach(this.categoryOffsets,function(e,t){e<=n&&e>=r&&(r=e,a=t)}),a},r.computeMetaData=function(e){var t=this,n=h.default.categories.length,r=this.props.channel,a=r.getGuildId(),o=[],l=0,s=0,u=function(e,t){void 0===t&&(t=null);var a=[],u=i.default.partition(e,function(e){return!E.default.isEmojiDisabled(e,r)}),d=u[0],c=u[1];i.default.forEach([].concat(d,c),function(e){E.default.isEmojiFiltered(e,r)||(a.push({emoji:e,offsetTop:l*R,row:s,column:a.length}),a.length===n&&(o.push({category:t,items:a}),a=[],s+=1,l+=1))}),a.length>0&&(o.push({category:t,items:a}),s+=1,l+=1)};if(e)u(e);else{if(this.cachedMetaDataNoSearch)return this.cachedMetaDataNoSearch;this.categoryOffsets={},this.categories=[];var d=function(e,n,r){t.categoryOffsets[e]=l*R,t.categories.push({category:e,offsetTop:l*R,title:n}),l+=1,u(r,e)},c=h.default.getDisambiguatedEmojiContext(a);i.default.forEach(h.default.categories,function(e){if(e===I.EMOJI_CATEGORY_CUSTOM){var t=0,n=c.getCustomEmoji(),r=i.default.groupBy(n,"guildId"),o=function(n){var a=r[n.id];null!=a&&0!==a.length&&d(0==t++?e:""+e+t,n.toString(),a)},l=v.default.getGuild(a);l&&o(l),i.default.each(m.default.getSortedGuilds(),function(e){var t=e.guild;t.id!==a&&o(t)})}else{var s=(e===I.EMOJI_CATEGORY_RECENT?c.getFrequentlyUsedEmojis():p.default.getByCategory(e))||[];d(e,C.default.Messages["EMOJI_CATEGORY_"+e.toUpperCase()],s)}}),this.cachedMetaDataNoSearch=o}return o},r.render=function(){var e,t=this,r=this.props,s=r.channel,u=r.diversitySurrogate,d=r.popoutKey,f=this.state,p=f.metaData,v=f.selectedRow,m=f.selectedColumn,y=f.currentSection,g=f.placeholder,A=f.query,P=f.premiumPromoOpen,L=f.diversityPickerOpen,w=[],U=null,G=null;if(0===p.length)G=b(T.default,{message:C.default.Messages.NO_EMOJI_SEARCH_RESULTS,className:N.default.noSearchResultsContainer,forceLightTheme:!0});else{var j=""!==u?l.default.convert.toCodePoint(u):"";i.default.forEach(p,function(e){var r=e.category,l=e.items;if(r&&r!==U){U=r;var u=i.default.find(t.categories,function(e){return e.category===r});null!=u&&w.push(b("div",{name:r,className:N.default.category},r,u.title))}var d=i.default.map(l,function(e){var r,i=e.emoji,l=e.row,u=e.column,d=null,c=l===v&&u===m,f=null!=i.index?i.index:0,p={key:i.name+"-"+l+"-"+u,className:(0,o.default)(N.default.emojiItem,(r={},r[N.default.selected]=c,r[N.default.disabled]=E.default.isEmojiDisabled(i,s),r)),onClick:function(e){return t.selectEmoji(i,!e.shiftKey)},onMouseOver:function(){return t.onHoverEmoji(i,l,u)}};if(!i.useSpriteSheet)return a.createElement("div",M({},p,{style:{backgroundImage:"url('"+i.url+"')"}}));if(i.hasDiversity){var h=-f%I.EmojiSprites.DiversityPerRow*D,y=-Math.floor(f/I.EmojiSprites.DiversityPerRow)*D;d={backgroundImage:"url('"+n(6512)("./spritesheet-"+j+".png")+"')",backgroundPosition:h+"px "+y+"px",backgroundSize:t.diversitySpriteSheetSize}}else{var _=-f%I.EmojiSprites.NonDiversityPerRow*D,g=-Math.floor(f/I.EmojiSprites.NonDiversityPerRow)*D;d={backgroundImage:"url('"+n(6177)+"')",backgroundPosition:_+"px "+g+"px",backgroundSize:t.spriteSheetSize}}return a.createElement("div",p,b("div",{className:N.default.spriteItem,style:d}))});w.push(b("div",{className:N.default.row},w.length,d))}),G=a.createElement(S.default,{ref:this.scrollerRef,outerClassName:N.default.scrollerWrap,className:N.default.scroller,onScroll:this.handleScroll,elementHeight:R,fade:!0,theme:S.default.Themes.LIGHT,renderStickyHeader:function(){return t.renderStickyHeader()}},w)}var x,B=i.default.map(h.default.categories,function(e){var n;return b(_.default,{"aria-label":e,className:(0,o.default)(N.default.item,N.default[e],(n={},n[N.default.selected]=null!=y&&0===y.indexOf(e),n)),onClick:function(){return t.scrollNow(e)}},e)});if(P){var H=null!=s.getGuildId();x=b(k,{onLearnMore:function(){return c.default.close(d)},onClose:function(){return t.setState({premiumPromoOpen:!1})},isGuildChannel:H})}return b("div",{className:N.default.emojiPicker},void 0,b("div",{className:(0,o.default)(N.default.dimmer,(e={},e[N.default.visible]=L,e))}),b("div",{className:N.default.header},void 0,a.createElement(O.default,{query:A,ref:this.searchRef,themeMode:O.default.ThemeModes.LIGHT,size:O.default.Sizes.MEDIUM,placeholder:g,gridResults:!0,selectedRow:v,selectedColumn:m,sections:p.map(function(e){return e.items.length}),onClear:this.handleClear,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,className:N.default.searchBar}),b(F,{onOpen:this.handleDiversityPickerToggled,selectedSurrogate:u})),G,b("div",{className:N.default.categories},void 0,B),x)},t}(a.PureComponent);j.displayName="EmojiPicker";var x=u.default.connectStores([h.default],function(){return{diversitySurrogate:h.default.diversitySurrogate}})(j);t.default=x,e.exports=t.default},6176:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5411));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n=e.message,r=e.className,i=e.forceLightTheme;return l("div",{className:(0,a.default)((t={},t[o.default.forceLightTheme]=i,t),r)},void 0,l("div",{className:o.default.wrapper},void 0,l("div",{className:o.default.sadImage}),l("div",{},void 0,n)))};s.displayName="NoSearchResults";var u=s;t.default=u,e.exports=t.default},6177:function(e,t,n){e.exports=n.p+"f24711dae4f6d6b28335e866a93e9d9b.png"},6178:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(153))&&r.__esModule?r:{default:r},i=n(0);var l=(0,o.default)({ARROW_UP:null,ARROW_DOWN:null,ARROW_LEFT:null,ARROW_RIGHT:null});var s=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={focusedColumn:null,focusedRow:null},t.handleKeyDown=function(e){var n=t.props.onSelect;switch(e.keyCode){case i.KeyboardKeys.ARROW_DOWN:case i.KeyboardKeys.ARROW_UP:case i.KeyboardKeys.ARROW_LEFT:case i.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),t.focusNext(function(e){switch(e){case i.KeyboardKeys.ARROW_DOWN:return l.ARROW_DOWN;case i.KeyboardKeys.ARROW_UP:return l.ARROW_UP;case i.KeyboardKeys.ARROW_LEFT:return l.ARROW_LEFT;case i.KeyboardKeys.ARROW_RIGHT:return l.ARROW_RIGHT;default:return null}}(e.keyCode));break;case i.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation();var r=t.calculateFocusedItem();null!=r&&null!=n&&n(r)}},t.wrapPosition=function(e,n,r,a){var o=e.length,i=r*o+n,l=Math.max(i+a,0)%o,s=t.calculateClosest(e[n][r],e[l])||r,u=0;return a<0&&l>n&&(u=-1),a>0&&l<n&&(u=1),{column:l,row:s+u}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown,!0)},a.componentWillUnmount=function(){document.removeEventListener("keydown",this.handleKeyDown,!0)},a.focusNext=function(e){var t=this,n=this.props,r=n.getItemGrid,a=n.onFocus,o=this.state,i=o.focusedColumn,l=o.focusedRow;if(null!=e){var s=r();if(null!=s){var u=this.getNext(s,i,l,e);this.setState({focusedColumn:u.column,focusedRow:u.row},function(){var e=t.calculateFocusedItem();null!=e&&null!=a&&a(e)})}}},a.getNext=function(e,t,n,r){var a,o,i,s;if(null==t||null==n)o=0,i=0,a={column:0,row:0};else switch(o=t,i=n,r){case l.ARROW_UP:a={column:o,row:Math.max(i-1,0)};break;case l.ARROW_DOWN:a={column:o,row:Math.min(i+1,e[o].length-1)};break;case l.ARROW_LEFT:a=this.wrapPosition(e,o,i,-1);break;case l.ARROW_RIGHT:a=this.wrapPosition(e,o,i,1)}return null!=a&&(s=e[a.column][a.row]),null!=s&&null!=a||(s=e[(a={column:o,row:i}).column][a.row]),{column:a.column,row:a.row,id:s.id}},a.calculateClosest=function(e,t){for(var n,r=Number.MAX_SAFE_INTEGER,a=0;a<t.length;a++){var o=t[a],i=Math.abs(o.coords.top-e.coords.top);if(!(i<r))break;r=i,n=a}return n},a.calculateFocusedItem=function(){var e=this.props.getItemGrid,t=this.state,n=t.focusedRow,r=t.focusedColumn,a=e();return null==a||null==r||null==n||null==a[r]||null==a[r][n]?null:a[r][n]},a.render=function(){return this.props.children},r}(a.Component);t.default=s,s.displayName="MasonryKeyboardNavigationWrapper",e.exports=t.default},6179:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(r=n(308))&&r.__esModule?r:{default:r};function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(){function e(e){var t=e.columns,n=e.gutterSize,r=e.scrollBufferMultiplier,a=e.getItemId,o=e.getItemHeight,i=e.getFooterHeight;this._coordsMap={},this._columnHeights=[],this._columnWidth=0,this._totalHeight=0,this._itemGrid=[],this.columns=t,this.gutterSize=n,this.scrollBufferMultiplier=r,this.getItemId=a,this.getItemHeight=o,this.getFooterHeight=i}var t=e.prototype;return t.computeFullCoords=function(e,t,n,r){var a=this.columns,o=this.getItemId,i=this.getItemHeight,l=this.gutterSize,s=this.scrollBufferMultiplier,u=this.getFooterHeight,d={},c=new Array(a).fill(0),f=(r-l*(a+1))/a,p=[],h=t-s*n,v=t+n+s*n,m=[];e.forEach(function(e){var t=o(e);if(null!=t){var n,r=(n=c).reduce(function(e,t,n){return t<e[0]?[t,n]:e},[n[0],0]),a=r[0],s=r[1],u=i(e,f),y=a+l,_={position:"absolute",left:f*s+l*(s+1),width:f,top:y,height:u};y>h-u&&y<v&&p.push(e),d[t]=_,c[s]=y+u,null==m[s]&&(m[s]=[]),m[s].push({coords:_,id:t})}}),this._columnWidth=f,this._coordsMap=d,this._columnHeights=c.map(function(e){return e+l}),this._itemGrid=m;var y=u(a,f,l),_=this.getTotalColumnHeight();return y>0&&(d.__footer__={position:"absolute",left:l,width:r-2*l,top:_,height:y},_+=y+l),this._totalHeight=_,p},t.computeVisibleItems=function(e,t,n){var r=this.getItemId,a=this._coordsMap,o=this.scrollBufferMultiplier,i=[],l=t-o*n,s=t+n+o*n;return e.forEach(function(e){var t=r(e);if(null!=t&&null!=a[t]){var n=a[t],o=n.top,u=n.height;o>l-u&&o<s&&i.push(e)}}),i},t.getCoords=function(e){return this._coordsMap[e]},t.getItemGrid=function(){return this._itemGrid},t.getTotalColumnHeight=function(){return this._columnHeights.reduce(function(e,t){return Math.max(e,t)},0)},e}(),u=function(e){return l("div",{style:e.style},void 0,e.children)};u.displayName="ListItem";var d=function(e){return l("div",{style:{height:e.height,visibility:"hidden"}})};d.displayName="ScrollBuffer";var c=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).scrollIntoView=function(e,t){var r=n.state.scrollerRef.current;null!=r&&r.scrollIntoViewRect(e,t,!0)},n.computeFullCoords=function(){var e=n.props,t=e.data,r=e.width,a=e.height,o=n.getScrollTop(),i=n.state.computer.computeFullCoords(t,o,a,r);n.setState({items:i})},n.handleScroll=function(){var e=n.props,t=e.data,r=e.height,a=e.onScroll,o=n.state.items,i=n.getScrollTop(),l=n.state.computer.computeVisibleItems(t,i,r);l.length===o.length&&null==l.find(function(e,t){return e!==o[t]})||n.setState({items:l});var s=n.state.scrollerRef.current;null!=a&&null!=s&&a(s)};var r=n.props,a=r.width,i=r.height,l=r.columns,u=r.gutterSize,d=r.getItemId,c=r.getItemHeight,f=r.scrollBufferMultiplier,p=r.getFooterHeight;return n.state={width:a,height:i,items:[],_data:[],computer:new s({columns:l,gutterSize:u,scrollBufferMultiplier:f,getItemId:d,getItemHeight:c,getFooterHeight:p}),_columns:l,scrollerRef:o.createRef()},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.columns,a=e.width,o=e.height,i=t.computer,l=t.scrollerRef.current;if(null==l)return null;if(n!==t._data||r!==t._columns||a!==t.width){var s=l.getScrollData().scrollTop;return i.columns=r,{scrollTop:s,height:o,width:a,items:i.computeFullCoords(n,s,o,a),_data:n,_columns:r}}return null};var a=r.prototype;return a.getScrollTop=function(){var e=this.state.scrollerRef.current;return null!=e?e.getScrollData().scrollTop:0},a.scrollTo=function(e,t){void 0===t&&(t=!1);var n=this.state.scrollerRef.current;null!=n&&n.scrollTo(e,t)},a.componentDidMount=function(){this.computeFullCoords()},a.getItemGrid=function(){return this.state.computer.getItemGrid()},a.render=function(){var e=this.props,t=e.className,n=e.renderItem,r=e.getItemId,a=e.theme,s=e.track,c=e.renderFooter,f=this.state,p=f.items,h=f.computer,v=f.scrollerRef,m=h.getCoords("__footer__");return o.createElement(i.default,{className:t,ref:v,onScroll:this.handleScroll,theme:a,track:s},l(d,{height:h._totalHeight}),p.map(function(e,t){var a=r(e),o=h.getCoords(a);return null!=o?l(u,{style:o},a,n(e,o,t)):null}),null!=m?l(u,{style:m},void 0,c(h.getTotalColumnHeight(),h)):null)},r}(o.Component);c.displayName="MasonryList",c.defaultProps={columns:2,gutterSize:10,scrollBufferMultiplier:0,track:!1,theme:i.default.Themes.GHOST_HAIRLINE,getFooterHeight:function(){return 0},renderFooter:function(){return null}};var f=c;t.default=f,e.exports=t.default},6180:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function l(e,t,n){var r=Math.max(Math.floor(e/t),1);return Math.min(r,n)}var s=(0,((r=n(6011))&&r.__esModule?r:{default:r}).default)((o=a=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={columns:l(t.props.width,t.props.desiredItemWidth,t.props.maxColumns)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=l(e.width,e.desiredItemWidth,e.maxColumns);return n!==t.columns?{columns:n}:null},r.prototype.render=function(){var e=this.props,t=e.width,n=e.height;return(0,e.children)(this.state.columns,t,n)},r}(i.PureComponent),a.defaultProps={desiredItemWidth:200},o));t.default=s,e.exports=t.default},6181:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GIFPickerSearchItem=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(17)),i=O(n(6)),l=O(n(6802)),s=O(n(3)),u=n(6058),d=O(n(6038)),c=O(n(124)),f=O(n(219)),p=O(n(301)),h=O(n(308)),v=O(n(6182)),m=O(n(6178)),y=O(n(6179)),_=O(n(6176)),g=O(n(6180)),E=n(0),S=O(n(13)),T=O(n(5415));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=["#B3AEFF","#738EF5","#929AFA"],A=1220;function M(e){return e.id||e.src}function P(e){return e.height}function b(e){return e.id}function R(e){return e===E.GIFResultFormat.VIDEO}var L=s.default.connectStores([d.default],function(e){var t=e.item.url;return{isFavorite:d.default.getIsFavorite(t)}})(function(e){var t=e.className,n=e.isFavorite,r=e.item;return C(v.default,{className:t,isFavorite:n,onClick:function(e){var t=r.width,n=r.height,a=r.src,o=r.url,i=r.format;e?(0,u.removeFavoriteGIF)(o):(0,u.addFavoriteGIF)({width:t,height:n,src:a,url:o,format:i})}})}),D=new l.default(function(){var e=document.createElement("video");return e.className=T.default.gif,e.autoplay=!0,e.loop=!0,e.muted=!0,e.preload="auto",e.controls=!1,e},function(e){e.src="",e.oncanplay=null;var t=e.parentNode;null!=t&&t.removeChild(e)}),w=new l.default(function(){return document.createElement("img")},function(e){e.onload=null,e.src=""}),U=Array.from({length:16}).map(function(e,t){return{id:""+t,height:Math.floor(100*Math.random())+120}}),k=function(e){function t(t){var n;(n=e.call(this,t)||this).ref=null,n._video=null,n._image=null,n._mounted=!0,n.handleCanPlay=function(){n._mounted&&n.setState({loaded:!0})},n.handleClick=function(){var e=n.props,t=e.onClick,r=e.item,a=e.index;null!=t&&t(r,a)};var r=n.props,a=r.format,o=r.color;return n.state={color:null==o?i.default.sample(N):o,loaded:!1},R(a)||(n._image=w.getElement(),n._image.onload=function(){return n.setState({loaded:!0})},n._image.src=t.src),n}I(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.format,n=e.src,r=e.itemWidth,a=e.itemHeight,o=this.ref;if(t===E.GIFResultFormat.VIDEO&&null!=o){var i=D.getElement();i.oncanplay=this.handleCanPlay,i.src=n,i.width=r,i.height=a,o.appendChild(i),this._video=i}},n.componentWillUnmount=function(){this._mounted=!1;var e=this._image,t=this._video;null!=e&&(this._image=null,w.poolElement(e)),null!=t&&(this._video=null,D.poolElement(t))},n.renderGIF=function(){var e=this.props,t=e.src,n=e.itemWidth,r=e.itemHeight;return this.state.loaded?C("img",{src:t,width:n,height:r,className:T.default.gif,alt:""}):null},n.render=function(){var e,t=this,n=this.props,r=n.item,a=n.renderExtras,i=n.format,l=n.itemWidth,s=n.itemHeight,u=n.focused,d=this.state,c=d.color,p=d.loaded;return C(f.default,{innerRef:function(e){t.ref=e},className:(0,o.default)(T.default.result,(e={},e[T.default.focused]=u,e)),onClick:this.handleClick,style:{backgroundColor:p?null:c,width:l,height:s}},void 0,R(i)?null:this.renderGIF(),null!=a?a(r):null)},t}(a.PureComponent);t.GIFPickerSearchItem=k,k.displayName="GIFPickerSearchItem";var G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._masonryRef=a.createRef(),t.prevResultQuery=null,t.state={focusedId:null},t.handleFocus=function(e){var n=t._masonryRef.current;null!=n&&n.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),t.setState({focusedId:e.id})},t.handleSelect=function(e){var n,r=t.props.data,a=r.findIndex(function(t){return M(t)===e.id});-1!==a&&(n=r[a]),null!=n&&t.selectItem(n,a)},t.handleClickItem=function(e,n){t.selectItem(e,n)},t.handleScroll=function(e){var n=t.props.resultQuery,r=e.scrollerState,a=r.scrollTop;r.scrollHeight-a<=A&&(n!==t.prevResultQuery&&(0,u.fetchSuggestions)(n),t.prevResultQuery=n)},t.renderItem=function(e,n,r){var a=t.state.focusedId;return C(k,{item:e,index:r,format:e.format,src:e.src,itemWidth:n.width,itemHeight:n.height,onClick:t.handleClickItem,renderExtras:function(){return C(L,{className:T.default.favButton,item:e})},focused:M(e)===a})},t.renderLoadingItem=function(e,t,n){return C("div",{className:T.default.placeholder,style:{animationDelay:75*n+"ms"}})},t.renderFooter=function(){var e=t.props,n=e.onSelectSuggestion,r=e.suggestions;return C("div",{className:T.default.endContainer},void 0,r.length>0?C(a.Fragment,{},void 0,C("div",{className:T.default.endText},void 0,S.default.Messages.GIF_PICKER_RELATED_SEARCH),C("div",{className:T.default.searchSuggestions},void 0,r.map(function(e){return C(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.PRIMARY,size:c.default.Sizes.SMALL,className:T.default.searchSuggestion,onClick:function(){n(e)}},e,e)}))):null)},t}I(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.resultType,n=e.data;t===E.GIFPickerResultTypes.FAVORITES&&((0,u.trackSearchStart)(E.GIFPickerResultTypes.FAVORITES),(0,u.trackSearchResultViewed)(n,E.GIFPickerResultTypes.FAVORITES,{limit:null}))},n.componentWillUnmount=function(){D.clearPool(),w.clearPool()},n.selectItem=function(e,t){var n=this.props,r=n.onSelectGIF,a=n.resultType,o=n.data,i=n.resultQuery;null!=r&&r(e),(0,u.trackSelectGIF)({type:a,index:t,offset:this.props.searchOffset,limit:this.props.searchLimit,results:o,totalResults:this.props.searchTotalResults,query:i,gifId:e.id})},n.getItemHeight=function(e,t){var n=e.width;return t*(e.height/n)},n.renderEmptyFavorite=function(e,t){return void 0===t&&(t=!1),C("div",{className:T.default.emptyHint},void 0,null!=e?C("div",{className:T.default.emptyHintCard},void 0,t?C(p.default,{className:T.default.emptyHintFavorite,name:p.default.Names.FAVORITE_FILLED}):null,C("div",{className:T.default.emptyHintText},void 0,e)):C("div",{className:T.default.emptyHintSpacer}))},n.renderEmptyFavorites=function(){var e=this;return C(h.default,{theme:h.default.Themes.GHOST_HAIRLINE},void 0,C("div",{className:T.default.emptyHints},void 0,this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_HOW_TO_FAVORITE,!0),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_WHERE_TO_FAVORITE),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_GO_FAVORITE),Array.from({length:15}).map(function(t,n){return C(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_FLAVOR_FAVORITE_PLEASE),Array.from({length:16}).map(function(t,n){return C(a.Fragment,{},n,e.renderEmptyFavorite())}),this.renderEmptyFavorite(S.default.Messages.NO_GIF_FAVORITES_FLAVOR_STILL_HERE)))},n.render=function(){var e=this,t=this.props,n=t.data,r=t.resultQuery,o=t.query,i=t.resultType;return 0===n.length&&r===o&&i!==E.GIFPickerResultTypes.TRENDING_GIFS?i===E.GIFPickerResultTypes.FAVORITES?this.renderEmptyFavorites():C(_.default,{message:S.default.Messages.NO_GIF_SEARCH_RESULTS,className:T.default.noResults}):C(m.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},r,C(g.default,{desiredItemWidth:200,maxColumns:8},void 0,function(t,l,s){return 0!==n.length||r===o&&i!==E.GIFPickerResultTypes.TRENDING_GIFS?a.createElement(y.default,{key:r+"-"+(i||""),ref:e._masonryRef,width:l,height:s,gutterSize:12,className:T.default.results,columns:t,data:n,getItemId:M,getItemHeight:e.getItemHeight,renderItem:e.renderItem,scrollBufferMultiplier:.5,getFooterHeight:function(){return 220},renderFooter:e.renderFooter,onScroll:e.handleScroll}):C(y.default,{width:l,height:s,data:U,columns:t,gutterSize:12,getItemId:b,getItemHeight:P,renderItem:e.renderLoadingItem,scrollBufferMultiplier:.5},r)}))},t}(a.PureComponent);G.displayName="GIFPickerSearchResults";var F=G;t.default=F},6182:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(219)),l=c(n(301)),s=c(n(437)),u=c(n(13)),d=c(n(5414));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={showPulse:!1},t.showPulse=function(){t.setState({showPulse:!0}),t._timeout=setTimeout(function(){t.setState({showPulse:!1})},500)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){clearTimeout(this._timeout)},a.render=function(){var e,t=this,n=this.props,r=n.className,a=n.size,c=n.isFavorite,p=n.onClick,h=this.state.showPulse,v=c?u.default.Messages.GIF_TOOLTIP_REMOVE_FROM_FAVORITES:u.default.Messages.GIF_TOOLTIP_ADD_TO_FAVORITES;return f(s.default,{text:v},void 0,f(i.default,{className:(0,o.default)(r,a,d.default.gifFavoriteButton,(e={},e[d.default.selected]=c,e[d.default.showPulse]=h,e)),onMouseDown:function(e){return e.preventDefault()},onClick:function(e){e.preventDefault(),e.stopPropagation(),t.showPulse(),p(c)},onDoubleClick:function(e){return e.preventDefault()}},void 0,f(l.default,{className:d.default.icon,name:c?l.default.Names.FAVORITE_FILLED:l.default.Names.FAVORITE})))},r}(a.PureComponent);p.displayName="GIFFavButton",p.defaultProps={size:d.default.size};var h=p;t.default=h,e.exports=t.default},6183:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=U(n(2)),o=w(n(3)),i=w(n(179)),l=w(n(77)),s=n(476),u=U(n(477)),d=w(n(128)),c=w(n(322)),f=w(n(154)),p=w(n(5369)),h=w(n(41)),v=w(n(71)),m=w(n(86)),y=w(n(189)),_=w(n(235)),g=w(n(14)),E=w(n(5368)),S=w(n(6525)),T=n(828),O=n(223),I=w(n(18)),C=w(n(79)),N=n(323),A=w(n(9)),M=w(n(450)),P=U(n(6292)),b=w(n(6110)),R=w(n(5359)),L=w(n(5996)),D=n(0);function w(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j={spotify:"Spotify"};function x(e,t,n,r){var a=null!=r.application_id?m.default.getActiveLibraryApplication(r.application_id):null;I.default.track(D.AnalyticEvents.APPLICATION_OPENED,{type:e,source:D.AnalyticsLocations.MESSAGE_EMBED,application_id:r.application_id,party_id:null!=r.party?r.party.id:void 0,other_user_id:t,message_id:n,distributor:null!=a?a.getDistributor():null})}var B=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).renderCustomButton=function(e){var t=n.props.application;return a.createElement(b.default,G({},e,{source:D.AnalyticsLocations.MESSAGE_EMBED,application:t}))},n.renderEmbed=function(e){var t,r=n.props,a=r.activity,o=r.partyId,i=r.myPartyId,l=r.application,s=r.partyMembers,u=r.isPreview,d=r.isLaunching,c=r.activityActionType,f=r.className,p=r.channelId,h=r.message,v=r.hideParty,m=r.isSyncable,y=r.isLaunchable;if(null!=l)t=l.name;else if(null!=o){var _=o.split(":")[0];t=j[_]}return k(S.default,{activity:a,partyId:o,myPartyId:i,applicationId:null!=l?l.id:null,name:t,partyMembers:s,className:f,coverImage:n.getCoverImage(),isPreview:u,isGameLaunchable:y,isLaunching:d,activityActionType:c,isInBrowser:!A.default.embedded,isSyncable:m,channelId:p,message:h,hideParty:v,onJoin:n.handleJoin,onSpectate:n.handleSpectate,onSync:n.handleSync,onDownloadApp:n.handleDownloadApp,onOpenSpotifyTrack:n.handleOpenSpotifyTrack,onOpenSpotifyArtist:n.handleOpenSpotifyArtist,onOpenSpotifyAlbum:n.handleOpenSpotifyAlbum,renderUserPopout:n.renderUserPopout,renderSpotifyJoinButton:n.renderSpotifyJoinButton,backgroundOpacity:e.backgroundOpacity,renderCustomButton:n.shouldRenderCustomButton()?n.renderCustomButton:null})},F(n).handleJoin=n.handleJoin.bind(F(n)),F(n).handleSpectate=n.handleSpectate.bind(F(n)),F(n).handleSync=n.handleSync.bind(F(n)),F(n).handleDownloadApp=n.handleDownloadApp.bind(F(n)),F(n).renderUserPopout=n.renderUserPopout.bind(F(n)),F(n).renderSpotifyJoinButton=n.renderSpotifyJoinButton.bind(F(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getCoverImage=function(){var e=this.props,t=e.activity,n=e.connectedApplication,r=e.application,a=e.isPreview,o=e.message;if(null!=r&&(a||null!=o&&(0,O.isInviteActive)(t,o,r.id))){var i=(0,O.getCoverImageFromActivity)(t,r.id);if(null!=i)return i}return null!=r?C.default.getApplicationIconURL({id:r.id,icon:null!=n?n.coverImage:r.coverImage,size:D.ACTIVITY_INVITE_COVER_IMAGE_SIZE}):null},o.handleJoin=function(){var e=this.props,t=e.activity,n=e.userId,r=e.message,a=e.channelId;null!=t&&null!=n&&null!=r&&null!=t.session_id&&null!=t.application_id&&(i.default.join(n,t.session_id,t.application_id,a,r.id),x(D.AnalyticsGameOpenTypes.JOIN,n,r.id,t))},o.handleSpectate=function(){var e=this.props,t=e.activity,n=e.userId,r=e.message,a=e.channelId;null!=t&&null!=n&&null!=r&&null!=t.session_id&&null!=t.application_id&&(i.default.spectate(n,t.session_id,t.application_id,a,r.id),x(D.AnalyticsGameOpenTypes.SPECTATE,n,r.id,t))},o.handleSync=function(){var e=this.props,t=e.activity,n=e.userId;null!=t&&null!=n&&u.sync(t,n)},o.handleDownloadApp=function(){l.default.push(M.default,{source:"Game Invite"})},o.handleOpenSpotifyTrack=function(e){(0,s.openTrack)(e)},o.handleOpenSpotifyArtist=function(e,t,n){(0,s.openArtist)(e,t,n)},o.handleOpenSpotifyAlbum=function(e,t){(0,s.openAlbum)(e,t)},o.renderUserPopout=function(e,t){var n=this.props,r=n.channelId,o=n.guildId;return null==r?null:a.createElement(R.default,G({},t,{user:e,guildId:o,channelId:r}))},o.renderSpotifyJoinButton=function(e){var t=this.props,n=t.channelId,r=t.guildId;return a.createElement(P.default,G({type:P.SpotifyButtonTypes.EMBED_SYNC,guildId:r,channelId:n,source:"Invite Embed"},e))},o.shouldRenderCustomButton=function(){var e=this.props,t=e.isLaunchable,n=e.application;return null!=n&&null!=n.primarySkuId&&!t&&A.default.embedded},o.render=function(){return k(L.default,{section:L.default.Sections.APPLICATION_EMBED},void 0,k(T.BackgroundOpacityContext.Consumer,{},void 0,this.renderEmbed))},r}(a.PureComponent);B.displayName="ActivityInviteEmbedContainer",B.defaultProps={isPreview:!1};var H=o.default.connectStores([E.default,c.default,y.default,p.default,g.default,v.default,_.default,h.default,f.default,m.default],function(e){var t=e.activity,n=e.application,r=e.partyId,a=e.userId,o=e.guildId,i=(n||{}).id,l=null!=t&&null!=t.party&&t.party.id===r?p.default.getParty(t.party.id):null,s=i?y.default.getApplicationActivity(i):y.default.findActivity(function(e){return e.type===D.ActivityTypes.LISTENING}),u=!1,S=!1;null!=i&&(u=E.default.getState(i,D.ActivityActionTypes.JOIN)===D.ActivityActionStates.LOADING,S=E.default.getState(i,D.ActivityActionTypes.SPECTATE)===D.ActivityActionStates.LOADING);var T=Array.from(l||[]).map(function(e){var t=o?v.default.getMember(o,e):null,n=null!=t?t.nick:null,r=g.default.getUser(e),a=null==r;return null==r&&(r=new d.default({discriminator:"0005"})),{user:r,unknownUser:a,nick:n}}),O=null!=t&&_.default.canPlay(t),I=_.default.getSyncingWith(),C=null!=I&&null!=a&&I.userId===a,A=O&&!C;return{partyMembers:T,connectedApplication:null!=i?c.default.getApplication(i):null,myPartyId:null!=s&&null!=s.party?s.party.id:null,isLaunching:u||S,isSyncable:A,isLaunchable:null!=i&&(0,N.isLaunchable)(m.default,h.default,f.default,c.default,i)}})(B);t.default=H,e.exports=t.default},6184:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ImageReadyStates=void 0;var r,a=f(n(2)),o=c(n(17)),i=c(n(153)),l=n(6039),s=c(n(305)),u=f(n(438)),d=c(n(5422));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,i.default)({LOADING:null,ERROR:null,READY:null});t.ImageReadyStates=v;var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.className,r=t.imageClassName,i=t.readyState,c=t.src,f=t.alt,m=t.width,y=t.height,_=t.maxWidth,g=void 0===_?m:_,E=t.maxHeight,S=void 0===E?y:E,T=t.minWidth,O=t.minHeight,I=t.accessory,C=t.zoomable,N=t.original,A=t.children,M=t.renderItem,P=t.renderAccessory,b=t.backgroundOpacity,R=t.tabIndex,L=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["className","imageClassName","readyState","src","alt","width","height","maxWidth","maxHeight","minWidth","minHeight","accessory","zoomable","original","children","renderItem","renderAccessory","backgroundOpacity","tabIndex"]);if(1===m&&1===y)return null;var D,w=(0,l.fit)(m,y,g,S,T,O),U={},k="div";null!=N&&(k=s.default,U.href=N,U.tabIndex=R),D=null!=c&&i===v.READY&&"function"==typeof A?null!=M?M():A({src:c,size:w,alt:f,className:r}):i===v.LOADING?h("div",{className:d.default.imageWrapperInner},void 0,c?h("img",{alt:f,className:d.default.imagePlaceholder,src:c,style:w}):null,c?h("div",{className:d.default.imagePlaceholderOverlay}):null,h(u.default,{type:u.SpinnerTypes.WANDERING_CUBES})):h("div",{className:d.default.imageWrapperInner},void 0,h("div",{className:d.default.imageError}));var G=null!=P?P():null;return G=G||I,a.createElement(k,p({className:(0,o.default)(d.default.imageWrapper,(e={},e[d.default.imageZoom]=C,e[d.default.imageWrapperBackground]=i!==v.READY,e[d.default.clickable]=null!=L.onClick,e),d.default[(b||"")+"BackgroundOpacity"],n),style:null!=M?null:w},U,L),G?h("div",{className:d.default.imageAccessory},void 0,G):null,D)},r}(a.PureComponent);t.default=m,m.displayName="Image",m.defaultProps={readyState:v.READY,zoomable:!0,alt:"",children:function(e){var t=e.src,n=e.size,r=e.alt;return h("img",{className:e.className,alt:r,src:t,style:n})},minWidth:0,minHeight:0}},6185:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ButtonAddReaction=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(17)),i=O(n(39)),l=O(n(303)),s=n(78),u=O(n(826)),d=n(459),c=O(n(883)),f=O(n(151)),p=O(n(6238)),h=O(n(219)),v=O(n(821)),m=n(867),y=n(828),_=n(470),g=O(n(490)),E=O(n(6175)),S=n(0),T=O(n(5431));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onAddReaction=function(e){if(null!=e){var n=t.props,r=n.channel,a=n.message;(0,d.addReaction)(r.id,a.id,(0,_.toReactionEmoji)(e))}},t.renderReactionPopout=function(e){var n=t.props.channel;return a.createElement(E.default,C({},e,{channel:n,onSelectEmoji:t.onAddReaction}))},t}return N(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.left,r=e.className;return t.state===S.MessageStates.SENDING||t.author.isLocalBot()?null:I(v.default,{closeOnScroll:!1,render:this.renderReactionPopout,position:n?v.default.Positions.LEFT:v.default.Positions.RIGHT,offsetX:n?-10:0,subscribeTo:n?S.ComponentActions.TOGGLE_REACTION_POPOUT(t.id):null},void 0,I("div",{className:(0,o.default)(T.default.reactionBtn,r)}))},t}(a.Component);t.ButtonAddReaction=A,A.displayName="ButtonAddReaction",A.defaultProps={left:!0};var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).scale=new l.default.Value(1),t.opacity=new l.default.Value(1),t.timeout=new s.Timeout,t.state={tooltipText:null},t.handleClick=function(){var e=t.props,n=e.message,r=e.emoji,a=e.me,o=e.readOnly,i=n.getChannelId();a?(0,d.removeReaction)(i,n.id,r):o||(0,d.addReaction)(i,n.id,r)},t.handleMouseEnter=function(){t.timeout.start(500,t.showTooltip,!1)},t.showTooltip=function(){t.handleStoreChange(),c.default.addChangeListener(t.handleStoreChange)},t.handleMouseLeave=function(){t.hideTooltip(),t.setState({tooltipText:null})},t.hideTooltip=function(){t.timeout.stop(),c.default.removeChangeListener(t.handleStoreChange)},t.handleStoreChange=function(){var e=t.props,n=e.message,r=e.emoji;t.setState({tooltipText:(0,_.getReactionTooltip)(n,r)})},t.setClickableRef=function(e){t.clickableElement=e},t}N(t,e);var n=t.prototype;return n.componentWillAppear=function(e){this.animateIn(e)},n.componentWillEnter=function(e){this.animateIn(e)},n.componentWillUnmount=function(){this.hideTooltip()},n.animateIn=function(e){f.default.isFocused()?(this.scale.setValue(0),this.opacity.setValue(0),l.default.parallel([l.default.timing(this.scale,{toValue:1,duration:300,easing:l.default.Easing.inOut(l.default.Easing.back())}),l.default.timing(this.opacity,{toValue:1,duration:300})]).start(e)):(this.scale.setValue(1),this.opacity.setValue(1),e())},n.render=function(){var e,t=this.props,n=t.count,r=t.emoji,i=t.me,s=t.readOnly,u=t.backgroundOpacity,d={transform:[{scale:this.scale}],opacity:this.opacity};return I(a.Fragment,{},void 0,I(l.default.div,{className:(0,o.default)(T.default.reaction,T.default[u+"BackgroundOpacity"],(e={},e[T.default.reactionMe]=i,e[T.default.reactionReadOnly]=s,e)),style:d},void 0,I(h.default,{className:T.default.reactionInner,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onFocus:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onBlur:this.handleMouseLeave,innerRef:this.setClickableRef},void 0,I(g.default,{emojiId:r.id,emojiName:r.name,animated:r.animated}),I(p.default,{className:(0,o.default)(T.default.reactionCount,T.default[u+"BackgroundOpacity"]),value:n,digitWidth:9}))),this.renderTooltip())},n.renderTooltip=function(){var e=this.state.tooltipText;return null==e||""===e?null:((0,i.default)(null!=this.clickableElement,"Unexpected missing element"),I(m.TooltipLayer,{targetElement:this.clickableElement,position:m.TooltipPositions.TOP,color:m.TooltipColors.BLACK},void 0,e))},t}(a.PureComponent);M.displayName="Reaction";var P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={disableTransitionAppear:!0,reactionsCount:t.props.message.reactions.length},t}return N(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.message.reactions.length;return 0===t.reactionsCount&&n>0?{disableTransitionAppear:!1,reactionsCount:n}:t.reactionsCount!==n?{reactionsCount:n}:null},t.prototype.render=function(){var e=this.props,t=e.message,n=e.disableReactionCreates,r=e.disableReactionUpdates,o=e.channel,i=this.state.disableTransitionAppear;if(!t.reactions.length)return null;var l=I(A,{message:t,channel:o,left:!1});return I(y.BackgroundOpacityContext.Consumer,{},void 0,function(e){return I(u.default,{className:T.default.reactions,transitionAppear:!i,transitionLeave:!1},void 0,t.reactions.map(function(n){return a.createElement(M,C({key:(n.emoji.id||0)+":"+n.emoji.name,message:t,readOnly:r,backgroundOpacity:e.backgroundOpacity},n))}),!n&&l)})},t}(a.PureComponent);t.default=P,P.displayName="Reactions"},6186:function(e,t,n){"use strict";t.__esModule=!0,t.toggleGamePopout=function(e,t,n){i.default.isOpen(p)?(e.stopPropagation(),a.default.close(p)):h(e,t,n)},t.default=h;c(n(2));var r,a=d(n(825)),o=d(n(5993)),i=d(n(833)),l=n(821),s=c(n(6107)),u=d(n(6289));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=(0,o.default)(u.default),p="activity_feed_game_popout";function h(e,t,n){null!=t&&(e.stopPropagation(),s.trackGamePopoutOpened(t,"",n),(0,l.openPopout)(e.currentTarget,{position:l.Positions.TOP_LEFT,preventClickPropagation:!0,closeOnScroll:!1,render:function(e){var n=e.popoutKey;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(f,{popoutKey:n,game:t})}},p,e))}},6187:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(4)),a=i(n(47)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.createFromServer=function(e){return new a({userId:null!=e.user?e.user.id:null,code:e.code,skuId:e.sku_id,uses:e.uses,maxUses:e.max_uses,storeListingId:null!=e.store_listing?e.store_listing.id:null,expiresAt:null!=e.expires_at?(0,r.default)(e.expires_at):null,redeemed:e.redeemed,subscriptionPlanId:null!=e.subscription_plan?e.subscription_plan.id:e.subscription_plan_id,revoked:!1,entitlementBranches:null!=e.entitlement_branches?e.entitlement_branches:null})};var i,s,u,d=a.prototype;return d.initialize=function(e){this.userId=e.userId,this.code=e.code,this.skuId=e.skuId,this.uses=e.uses,this.maxUses=e.maxUses,this.expiresAt=e.expiresAt,this.redeemed=e.redeemed,this.storeListingId=e.storeListingId,this.subscriptionPlanId=e.subscriptionPlanId,this.revoked=e.revoked,this.entitlementBranches=e.entitlementBranches},d.isExpired=function(){var e=this.expiresAt;return null!=e&&(0,r.default)().isAfter(e)},d.toString=function(){return this.code},i=a,(s=[{key:"hasMultipleCopies",get:function(){return this.maxUses>1}},{key:"isClaimed",get:function(){return this.uses>=this.maxUses}},{key:"remainingUses",get:function(){return this.maxUses-this.uses}},{key:"isSubscription",get:function(){return null!=this.subscriptionPlanId}},{key:"premiumSubscriptionType",get:function(){return this.isSubscription&&o.PremiumSubscriptionSKUToPremiumType[this.skuId]||null}},{key:"analyticsData",get:function(){return{gift_code:this.code,gift_code_max_uses:this.maxUses}}}])&&l(i.prototype,s),u&&l(i,u),a}(a.default);t.default=s,e.exports=t.default},6188:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5437));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n,r=e.renderTitle,i=e.renderTagline,s=e.renderActions,u=e.renderMedia,d=e.className,c=e.isHorizontal,f=void 0!==c&&c;return l("div",{className:(0,a.default)(o.default.tile,(t={},t[o.default.tileHorizontal]=f,t),d)},void 0,l("div",{className:(0,a.default)(o.default.media,(n={},n[o.default.mediaHorizontal]=f,n))},void 0,u&&u()),l("div",{className:o.default.description},void 0,l("h2",{className:o.default.title},void 0,r&&r()),l("div",{className:o.default.tagline},void 0,i&&i()),l("div",{className:o.default.actions},void 0,s&&s())))};s.displayName="ResponsiveTile";var u=s;t.default=u,e.exports=t.default},6189:function(e,t,n){"use strict";t.__esModule=!0,t.StoreEmbedWithoutDimensions=t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(221),i=N(n(3)),l=n(841),s=N(n(5993)),u=N(n(6011)),d=(N(n(835)),N(n(855)),N(n(41))),c=N(n(86)),f=N(n(6140)),p=N(n(176)),h=N(n(831)),v=N(n(124)),m=n(106),y=n(127),_=N(n(5996)),g=N(n(6110)),E=N(n(6045)),S=N(n(6558)),T=n(6097),O=n(0),I=N(n(13)),C=N(n(5444));function N(e){return e&&e.__esModule?e:{default:e}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={playing:!1,muted:!0},t.handleToggleMute=function(){t.setState({muted:!t.state.muted})},t.handleMouseEnter=function(){t.setState({playing:!0})},t.handleMouseLeave=function(){t.setState({playing:!1})},t.getStoreListingLocation=function(){var e=t.props.sku;if(null==e)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,y.getStoreListingLocation)(e.id,{slug:e.slug,analyticsSource:t.analyticsLocation})},t.handleActionButtonClick=function(e){return e.preventDefault()},t.handleBuyButtonClick=function(e){return e.preventDefault()},t.handleLinkClick=function(e){var n=t.props.onEmbedClick;null!=n&&n(e)},t.renderActions=function(e){var n=t.props,r=n.inLibrary,a=n.application,o=n.skuId,i=n.libraryApplication,l=n.renderCustomActions;if(null==a)return null;if(null!=l)return M("div",{className:C.default.tileActions},void 0,l());var s=null!=a&&a.primarySkuId===o,u=null!=i&&i.hasFlag(O.LibraryApplicationFlags.HIDDEN);return M("div",{className:C.default.tileActions},void 0,!s||u?t.renderViewInStoreButton():M(g.default,{application:a,customDisabledColor:v.default.Colors.GREY,size:v.default.Sizes.SMALL,className:C.default.actionButton,onClick:t.handleActionButtonClick}),r&&!u||e.premium?null:M(E.default,{type:E.default.Types.EMBED,sku:e,inLibrary:!1}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,i,s,u=r.prototype;return u.componentDidMount=function(){var e=this.props,t=e.sku,n=e.skuId,r=e.storeListing;null!=t&&null!=r||(0,l.fetchStoreListingForSku)(n),m.ComponentDispatch.dispatch(O.ComponentActions.CHAT_RESIZE)},u.renderViewInStoreButton=function(){return M(v.default.Link,{to:this.getStoreListingLocation(),className:C.default.actionButton,color:v.default.Colors.GREEN,size:v.default.Sizes.SMALL},void 0,I.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},u.render=function(){var e=this,t=this.props,n=t.sku,r=t.storeListing,a=t.inLibrary,i=t.width,l=t.fetchFailed,s=t.renderFallback,u=t.renderCustomTitle,d=t.renderCustomTagline,c=this.state,f=c.playing,p=c.muted,h=i>T.HORIZONTAL_EMBED_BREAKPOINT;return null==n||null==r?l?s():M(T.ResponsiveLoadingEmbedTile,{isHorizontal:h}):M(_.default,{section:O.AnalyticsSections.APPLICATION_EMBED},void 0,M(o.Link,{onClick:this.handleLinkClick,to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,M(S.default,{sku:n,storeListing:r,playing:f,muted:p,inLibrary:a,onToggleMute:this.handleToggleMute,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:u,renderCustomTagline:d,isHorizontal:h,isEmbed:!0})))},a=r,(i=[{key:"analyticsLocation",get:function(){var e=this.props,t=e.analyticsContext.location,n=e.analyticsSection;return A({},t,{section:null!=n?n:O.AnalyticsSections.APPLICATION_EMBED,object:O.AnalyticsObjects.CARD})}}])&&P(a.prototype,i),s&&P(a,s),r}(a.Component);b.displayName="StoreEmbed",b.defaultProps={renderFallback:O.NOOP};var R=[p.default,f.default,c.default,h.default,d.default],L=function(e){var t=e.skuId,n=p.default.get(t);return{sku:n,application:null!=n?d.default.getGame(n.applicationId):null,fetchFailed:p.default.didFetchingSkuFail(t),inLibrary:null!=n&&c.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?h.default.getForSKU(n.id):null,libraryApplication:null!=n?c.default.getLibraryApplication(n.applicationId,n.applicationId,!0):null}},D=i.default.connectStores(R,L)((0,u.default)((0,s.default)(b)));t.default=D;var w=i.default.connectStores(R,L)((0,s.default)(b));t.StoreEmbedWithoutDimensions=w},6190:function(e,t,n){e.exports=n.p+"0c9615349350c4185381d58c69b88cbc.svg"},6191:function(e,t,n){e.exports=n.p+"b8029fe196b8f1382e90bbe81dab50dc.svg"},6192:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),u=_(n(6688)),d=_(n(6689)),c=_(n(6690)),f=(n(441),_(n(6004))),p=_(n(822)),h=_(n(6193)),v=n(0),m=_(n(13)),y=_(n(5366));function _(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E="US",S="CA",T=d.default.map(function(e){return{value:e.code,label:e.name}}),O=Object.freeze({NAME:"name",COUNTRY:"country",LINE1:"line1",LINE2:"line2",CITY:"city",POSTAL_CODE:"postalCode",STATE:"state"}),I=Object.freeze({MODAL:"modal",SETTINGS:"settings"}),C=Object.freeze({EDIT:"edit",CREATE:"create"}),N=((r={})[E]=c.default,r[S]=u.default,r),A=((a={})[O.NAME]=function(e){return{name:O.NAME,title:function(){return m.default.Messages.BILLING_ADDRESS_NAME},autoComplete:"name",getClassNameForLayout:function(e){return e===I.MODAL?y.default.width100:y.default.width60},renderInput:function(e){return s.createElement(p.default,e)}}},a[O.COUNTRY]=function(e){return{name:O.COUNTRY,title:function(){return m.default.Messages.BILLING_ADDRESS_COUNTRY},autoComplete:"country",getClassNameForLayout:function(e){return e===I.MODAL?y.default.width100:y.default.width75},renderInput:function(e,t){return s.createElement(f.default,g({},e,{autofocus:!0,clearable:!1,disabled:t.mode===C.EDIT,options:T,onChange:function(t){var n=t.value;null!=e.onChange&&e.onChange(n,e.name)}}))}}},a[O.LINE1]=function(e){return{name:O.LINE1,title:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS},autoComplete:"address-line1",placeholder:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS_PLACEHOLDER},getClassNameForLayout:function(e){return e===I.MODAL?y.default.width100:y.default.width60},renderInput:function(e){return s.createElement(p.default,e)}}},a[O.LINE2]=function(e){return{name:O.LINE2,title:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS2},placeholder:function(){return m.default.Messages.BILLING_ADDRESS_ADDRESS2_PLACEHOLDER},autoComplete:"address-line2",getClassNameForLayout:function(e){return e===I.MODAL?y.default.width100:y.default.width40},renderInput:function(e){return s.createElement(p.default,e)}}},a[O.CITY]=function(e){return{name:O.CITY,title:function(){return m.default.Messages.BILLING_ADDRESS_CITY},autoComplete:"address-level2",placeholder:function(){return m.default.Messages.BILLING_ADDRESS_CITY_PLACEHOLDER},getClassNameForLayout:function(e){return e===I.MODAL?y.default.width100:y.default.width50},renderInput:function(e){return s.createElement(p.default,e)}}},a[O.POSTAL_CODE]=function(e){var t,n;switch(e){case E:t=m.default.Messages.BILLING_ADDRESS_ZIP_CODE,n=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_PLACEHOLDER;break;case S:t=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE,n=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE_CANADA_PLACEHOLDER;break;default:t=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE}return{name:O.POSTAL_CODE,title:function(){return t},autoComplete:"postal-code",placeholder:function(){return n},getClassNameForLayout:function(e){return e===I.MODAL?y.default.width50:y.default.width25},renderInput:function(e){return s.createElement(p.default,e)}}},a[O.STATE]=function(e){var t;switch(e){case E:t=m.default.Messages.BILLING_ADDRESS_STATE;break;case S:t=m.default.Messages.BILLING_ADDRESS_PROVINCE;break;default:t=m.default.Messages.BILLING_ADDRESS_REGION}return{name:O.STATE,title:function(){return t},autoComplete:"address-level1",getClassNameForLayout:function(e){return e===I.MODAL?y.default.width50:y.default.width25},renderInput:function(t){var n=N[e],r=!t.value||null!=n&&n.find(function(e){return e.value===t.value});return[E,S].includes(e)&&r?s.createElement(f.default,g({},t,{menuContainerStyle:t.layout===I.MODAL?{zIndex:9,position:"absolute",bottom:"100%",top:"auto"}:null,clearable:!1,options:N[e],onChange:function(e){var n=e.value;null!=t.onChange&&t.onChange(n,t.name)}})):s.createElement(p.default,t)}}},a),M=((o={})[I.MODAL]=[[A[O.COUNTRY]],[A[O.LINE1]],[A[O.LINE2]],[A[O.CITY]],[A[O.STATE],A[O.POSTAL_CODE]]],o[I.SETTINGS]=[[A[O.NAME]],[A[O.LINE1],A[O.LINE2]],[A[O.CITY],A[O.STATE],A[O.POSTAL_CODE]],[A[O.COUNTRY]]],o),P=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).state={values:(t={},t[O.NAME]=n.props[O.NAME],t[O.COUNTRY]=n.props[O.COUNTRY],t[O.LINE1]=n.props[O.LINE1],t[O.LINE2]=n.props[O.LINE2],t[O.CITY]=n.props[O.CITY],t[O.POSTAL_CODE]=n.props[O.POSTAL_CODE],t[O.STATE]=n.props[O.STATE],t),dirtyFields:{},errors:{}},n.handleFieldBlur=function(){n.setState({errors:n.validateForm(!0)})},n.handleFieldChange=function(e,t){var r,a;if(t){var o=n.state,i=o.values,l=o.errors,s=o.dirtyFields;delete l[t],n.setState({values:g({},i,(r={},r[t]=e,r)),dirtyFields:g({},s,(a={},a[t]=!0,a)),errors:l})}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.handleInfoChange()},a.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},a.validateForm=function(e){var t=this.state,n=t.values,r=t.dirtyFields,a={};e&&!r[O.NAME]||n[O.NAME]||this.props.mode!==C.EDIT||(a[O.NAME]=m.default.Messages.BILLING_ADDRESS_NAME_ERROR_REQUIRED),e&&!r[O.COUNTRY]||n[O.COUNTRY]||(a[O.COUNTRY]=m.default.Messages.BILLING_ADDRESS_COUNTRY_ERROR_REQUIRED),e&&!r[O.LINE1]||n[O.LINE1]||(a[O.LINE1]=m.default.Messages.BILLING_ADDRESS_ADDRESS_ERROR_REQUIRED),e&&!r[O.CITY]||n[O.CITY]||(a[O.CITY]=m.default.Messages.BILLING_ADDRESS_CITY_ERROR_REQUIRED);var o=n[O.COUNTRY];switch(o){case E:if(!e||r[O.POSTAL_CODE]){var i=n[O.POSTAL_CODE];i?5!==i.length?a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_LENGTH:/^\d{5}$/.test(i)||(a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_INVALID):a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_ZIP_CODE_ERROR_REQUIRED}e&&!r[O.STATE]||n[O.STATE]||(a[O.STATE]=m.default.Messages.BILLING_ADDRESS_STATE_ERROR_REQUIRED);break;case S:e&&!r[O.POSTAL_CODE]||n[O.POSTAL_CODE]||(a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED),e&&!r[O.STATE]||n[O.STATE]||(a[O.STATE]=m.default.Messages.BILLING_ADDRESS_PROVINCE_ERROR_REQUIRED);break;default:e&&!r[O.POSTAL_CODE]||n[O.POSTAL_CODE]||v.COUNTRIES_WITHOUT_POSTAL_CODES.includes(o)||(a[O.POSTAL_CODE]=m.default.Messages.BILLING_ADDRESS_POSTAL_CODE_ERROR_REQUIRED)}return a},a.handleInfoChange=function(){var e=this.state,t=e.values,n=e.dirtyFields,r=this.validateForm(!1);this.props.onBillingAddressChange(t,0===Object.keys(r).length,Object.keys(n).length>0)},a.render=function(){var e=this.state,t=e.errors,n=e.values,r=this.props,a=r.layout,o=r.mode,i=r.className,s=r.error,u=M[a];if(null==u)throw new Error("Provide a proper layout property.");var d=n[O.COUNTRY],c=u.map(function(e){var t=e.map(function(e){return e(d)}).filter(Boolean);return t.length>0?{fields:t}:null}).filter(Boolean);return function(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(h.default,{className:i,form:c,layout:a,values:n,errors:t,formError:s,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,mode:o})},r}(s.PureComponent);P.displayName="AddressForm",P.Layouts=I,P.Modes=C,P.defaultProps=((i={})[O.NAME]="",i[O.COUNTRY]="",i[O.LINE1]="",i[O.LINE2]="",i[O.CITY]="",i[O.POSTAL_CODE]="",i[O.STATE]="",i.layout=I.MODAL,i.mode=C.CREATE,i.error=null,i);var b=P;t.default=b,e.exports=t.default},6193:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=(n(441),u(n(148))),l=n(823),s=u(n(5366));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={changedSinceError:new Set},p(n).renderFormSection=n.renderFormSection.bind(p(n)),p(n).renderFormRow=n.renderFormRow.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){if(this.props.formError!==e.formError)this.setState({changedSinceError:new Set});else if(null!=this.props.formError){var t=this.state.changedSinceError;this.getChangedValues(e).forEach(function(e){return t.add(e)}),this.setState({changedSinceError:t})}},a.getChangedValues=function(e){var t=this.props.values,n=e.values;return Object.keys(t).filter(function(e){return t[e]!==n[e]})},a.getError=function(e){var t=this.props,n=t.errors,r=t.formError;return null!=n[e]?n[e]:null==r||this.state.changedSinceError.has(e)?null:r.getFieldMessage(e)},a.renderFormSection=function(e){var t=this.props,n=t.values,r=t.onFieldChange,a=t.onFieldFocus,i=t.onFieldBlur,s=t.layout,u=f(t,["values","onFieldChange","onFieldFocus","onFieldBlur","layout"]),p=e.getClassNameForLayout,h=e.renderInput,v=e.title,m=e.name,y=e.placeholder,_=c({},f(e,["getClassNameForLayout","renderInput","title","name","placeholder"]),{placeholder:y&&y(),layout:s,error:this.getError(m),value:n[m],name:m,onChange:r,onFocus:a,onBlur:i});return d(l.FormSection,{className:(0,o.default)(p&&p(s)),title:v()},m,h(_,u))},a.renderFormRow=function(e){var t=e.fields.map(this.renderFormSection);return d(i.default,{className:(0,o.default)(s.default.row,e.className)},e.fields.map(function(e){return e.name}).join(""),t)},a.render=function(){var e=this.props,t=e.form;return d("div",{className:e.className},void 0,t.map(this.renderFormRow))},r}(a.PureComponent);h.displayName="FormRenderer";var v=h;t.default=v,e.exports=t.default},6194:function(e,t,n){"use strict"},6195:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CopyInputModes=void 0;var r,a=c(n(2)),o=d(n(17)),i=n(178),l=c(n(124)),s=d(n(148)),u=d(n(5459));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h={DEFAULT:"default",SUCCESS:"success",ERROR:"error"};t.CopyInputModes=h;var v=function(e){var t,n;function r(t){var n;return p(n=e.call(this,t)||this).handleButtonClick=n.handleButtonClick.bind(p(n)),p(n).handleInputClick=n.handleInputClick.bind(p(n)),p(n).setRef=n.setRef.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.setRef=function(e){this.input=e},d.select=function(){var e=this.input;e&&e.select()},d.renderInput=function(e){var t,n=this.props,r=n.value,l=n.mode;return a.createElement("input",{className:(0,o.default)((0,i.getClass)(u.default,"input",l),(t={},t[u.default.inputHidden]=e,t)),ref:this.setRef,placeholder:"input here",type:"text",value:r,onClick:this.handleInputClick,readOnly:!0})},d.render=function(){var e,t=this.props,n=t.text,r=t.mode,a=t.hideMessage,d=t.className,c=t.buttonLook,p=null!=a;switch(r){case h.SUCCESS:e=l.ButtonColors.GREEN;break;case h.ERROR:e=l.ButtonColors.RED;break;default:e=this.props.buttonColor}return f("div",{className:(0,o.default)((0,i.getClass)(u.default,"copyInput",r),d)},void 0,f(s.default,{className:u.default.layout},void 0,f(s.default,{className:u.default.inputWrapper},void 0,this.renderInput(p),p?f("div",{className:u.default.hiddenMessage},void 0,a):null),f(s.default,{shrink:1,grow:0,style:{margin:0}},void 0,f(l.default,{className:u.default.button,onClick:this.handleButtonClick,size:l.ButtonSizes.MIN,color:e,look:c},void 0,n))))},d.handleButtonClick=function(){this.select();var e=this.props;(0,e.onCopy)(e.value)},d.handleInputClick=function(){this.select()},r}(a.PureComponent);v.displayName="CopyInput",v.defaultProps={text:"Copy",supportsCopy:!0,buttonColor:l.ButtonColors.GREY,buttonLook:l.ButtonLooks.GHOST,mode:h.DEFAULT},v.Modes=h,v.ButtonColors=l.ButtonColors,v.ButtonLooks=l.ButtonLooks;var m=v;t.default=m},6196:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=c(n(153)),i=c(n(124)),l=c(n(148)),s=c(n(220)),u=n(823),d=c(n(5510));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=(0,o.default)({UPGRADE:null,CANCEL:null,UNVERIFIED:null,UNCLAIMED:null,GRANDFATHERED:null}),h=((r={})[p.UPGRADE]="imageUpgrade",r[p.CANCEL]="imageCancel",r[p.UNVERIFIED]="imageUnverified",r[p.UNCLAIMED]="imageUnclaimed",r[p.GRANDFATHERED]="imageCancel",r),v=function(e){var t=e.children,n=e.onClose;return f(s.default.Header,{separator:!1},void 0,f(u.FormTitle,{tag:u.FormTitleTags.H4},void 0,t),null!=n?f(s.default.CloseButton,{className:d.default.closeIcon,onClick:n}):null)};v.displayName="Header";var m=function(e){var t=e.children,n=e.type;return f(s.default.Content,{},void 0,f("div",{className:d.default[h[n]]}),f("div",{className:d.default.message},void 0,t))};m.displayName="Content";var y=function(e){var t=e.primary,n=e.primaryRenderer,r=e.secondary;return f(s.default.Footer,{},void 0,f(l.default,{justify:l.default.Justify.END},void 0,null!=r?f(i.default,{onClick:r.onClick,look:i.default.Looks.LINK,innerClassName:d.default.secondaryButton},void 0,r.label):null,null!=t?f(i.default,{onClick:t.onClick,color:i.default.Colors.BRAND},void 0,t.label):n))};y.displayName="Footer";var _=function(e){var t=e.children;return f(s.default,{},void 0,t)};_.displayName="PremiumModal",_.Header=v,_.Content=m,_.Footer=y,_.Types=p;var g=_;t.default=g,e.exports=t.default},6197:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(1)),o=(d(n(6251)),d(n(41))),i=d(n(35)),l=d(n(176)),s=d(n(831)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f,p,h,v,m={},y={},_={},g=!1,E={};function S(e){var t=e.directoryLayout,n=t.id;m[n]=t,_[n]=!1,y[n]=Date.now()}function T(){m={},y={},_={}}var O=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,u,d,S=r.prototype;return S.initialize=function(){this.waitFor(l.default,s.default,o.default,i.default),v=i.default.locale},S.getDirectoryLayout=function(e){return m[e]},S.isFetching=function(e){return _[e]},S.shouldFetch=function(e){return!_[e]&&(null==y[e]||Date.now()-y[e]>18e5)},a=r,(u=[{key:"lastHomeDirectoryView",get:function(){return p}},{key:"lastBrowseDirectoryView",get:function(){return h}},{key:"isLibraryApplicationsHidden",get:function(){return g}},{key:"searchTerm",get:function(){return f}},{key:"previousFilters",get:function(){return E}}])&&c(a.prototype,u),d&&c(a,d),r}(r.default.Store))(a.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){var t=e.layoutId;_[t]=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:S,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:S,APPLICATION_STORE_DIRECTORY_FETCH_FAILURE:function(e){var t=e.layoutId;_[t]=!1},APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case u.DirectoryLocations.HOME:p={scrollTop:t};break;case u.DirectoryLocations.BROWSE:h={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;g=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;f=t},APPLICATION_STORE_SAVE_FILTERS:function(e){var t=e.filters;E=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:i.default.locale;if(v===t)return!1;v=t,T()},APPLICATION_STORE_CLEAR_DATA:function(e){return T()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return p=null,void(h=null)}});t.default=O,e.exports=t.default},6198:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(21)),o=s(n(1)),i=s(n(6031)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u="ChannelSectionStore",d=null,c=null;function f(){var e;if(i.default.isActive()&&(e=l.ChannelSections.SEARCH),c===e)return!1;c=e}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){d=a.default.get(u)||l.ChannelSections.MEMBERS},o.getSection=function(){return c||d},r}(r.default.Store))(o.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;d===t?null==c&&(d=l.ChannelSections.NONE):d=t,c=null,a.default.set(u,d)},SEARCH_START:function(e){return f()},SEARCH_INDEXING:function(e){return f()},SEARCH_FINISH:function(e){return f()},SEARCH_EDITOR_STATE_CLEAR:function(e){return f()},SEARCH_EDITOR_STATE_CHANGE:function(e){return f()},CHANNEL_SELECT:function(e){return f()},GUILD_SELECT:function(e){return f()}});t.default=p,e.exports=t.default},6199:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetchDefaultRegions:function(){return this.fetchRegions(null)},fetchRegions:function(e){r.default.get({url:o.Endpoints.REGIONS(e),retries:1}).then(function(t){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:t.body,guildId:e})},function(){return a.default.dispatch({type:o.ActionTypes.LOAD_REGIONS,regions:[],guildId:e})})},changeCallRegion:function(e,t){r.default.patch({url:o.Endpoints.CALL(e),body:{region:t}})}};t.default=l,e.exports=t.default},6201:function(e,t,n){"use strict";t.__esModule=!0,t.createEntity=v,t.getCollapsedSelection=function(e,t,n){var r=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",r.getKey())).set("anchorKey",r.getKey());var a=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",a)).set("focusOffset",a)},t.updateContent=m,t.deleteContent=function(e,t){switch(e){case"delete":return(0,f.default)(t);case"delete-word":return(0,s.default)(t);case"backspace":return(0,c.default)(t);case"backspace-word":return(0,l.default)(t);case"backspace-to-start-of-line":return(0,i.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,p.default)(t);case"move-selection-to-start-of-block":return(0,d.default)(t);case"move-selection-to-end-of-block":return(0,u.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=y,t.applyTokensAsEntities=function(e,t,n){void 0===n&&(n={});var r=t.getCurrentContent(),a=r.getFirstBlock(),o=a.getText(),i=[];return a.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=r.getEntity(a.getEntityAt(e)).getType(),l=o.substring(e,t);i.push({processed:!1,type:n,start:e,end:t,text:l})}),e.forEach(function(e){var r=!1;if(i.forEach(function(n){var a=e.type,o=e.start,i=e.end,l=e.getFullMatch();n.processed||(n.type===a&&n.start===o&&n.text===l?(n.processed=!0,r=!0):(o>=n.start&&o<n.end||i>n.start&&i<=n.end)&&(n.processed=!0,t=v(null,n.start,n.end,t)))}),!r){var a=n[e.type];t=v([e.type,a&&a.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),i.forEach(function(e){e.processed||(t=v(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n,r,a=t.getSelection(),o=a.focusOffset,i=a.anchorOffset,l=e.find(function(t,a){return o>=t.start&&o<=t.end&&i>=t.start&&i<=t.end?(e[a+1]&&(r=e[a+1]),!0):(n=t,!1)});if(!l)return null;return{previousToken:n,currentToken:l,nextToken:r}},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))},t.clearContent=function(e){return r.EditorState.push(e,r.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=y(t);return m(e,t,0,n.length)},t.appendSpace=function(e){var t=y(e);return m(" ",e,t.length)},t.setCollapsedSelection=_,t.setCollapsedEndSelection=function(e){return _(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return _(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=y(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),r.EditorState.forceSelection(e,n)},t.truncateContent=function(e,t){void 0===t&&(t=512);var n=y(e);if(n.length>t){var a=e.getSelection();e=m("",e,t,n.length),a.getAnchorOffset()>t&&(a=a.set("anchorOffset",t)),a.getFocusOffset()>t&&(a=a.set("focusOffset",t)),e=r.EditorState.forceSelection(e,a)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var r=n.getClientRects()[0],a=e.getClientRects()[0];if(!r||!a)return;var o=r.left-a.left+e.scrollLeft;o<e.scrollLeft?e.scrollLeft=o-10:o>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=o-e.offsetWidth+3)},t.isEmpty=function(e){return 0===y(e).length};var r=n(6321),a=h(n(6609));t.getDefaultKeyBinding=a.default;var o=h(n(6324)),i=h(n(6705)),l=h(n(6706)),s=h(n(6707)),u=h(n(6708)),d=h(n(6709)),c=h(n(6710)),f=h(n(6711)),p=h(n(6712));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){var o,i=a.getCurrentContent(),l=null;null!=e&&(l=(i=(o=i).createEntity.apply(o,e)).getLastCreatedEntityKey());var s=i.getFirstBlock(),u=new r.SelectionState({anchorKey:s.getKey(),anchorOffset:t,focusKey:s.getKey(),focusOffset:n});return i=r.Modifier.applyEntity(i,u,l),r.EditorState.set(a,{currentContent:i})}function m(e,t,n,a){var i,l=t.getCurrentContent(),s=l.getFirstBlock(),u=s.getText();"number"==typeof n?(n>u.length&&(n=u.length),a>u.length&&(a=u.length),i=new r.SelectionState({anchorKey:s.getKey(),anchorOffset:n,focusKey:s.getKey(),focusOffset:a||n})):i=t.getSelection();var d,c=t.getCurrentInlineStyle(),f=(0,o.default)(l,i);return i.isCollapsed()?(l=r.Modifier.insertText(l,i,e,c,f),d="insert-characters"):(l=r.Modifier.replaceText(l,i,e,c,f),d="replace-characters"),r.EditorState.push(t,l,d)}function y(e){return e.getCurrentContent().getFirstBlock().getText()}function _(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(t,n)}},6202:function(e,t,n){"use strict";t.__esModule=!0,t.deepLinkRouteIfLandedAndNotAuthed=t.deepLinkRouteIfLanded=void 0;var r=s(n(330)),a=s(n(12)),o=s(n(9)),i=s(n(888)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=o.default.embedded?l.NOOP:function(e,t){o.default.isDesktop&&!i.default.hasNavigated&&r.default.requestOnce(l.RPCCommands.DEEP_LINK,{type:e,params:t})};t.deepLinkRouteIfLanded=d;var c=o.default.embedded?l.NOOP:function(e,t){if(!a.default.isAuthenticated()&&!a.default.isGuest())return d(e,u({},t||{},{fingerprint:a.default.getFingerprint()}))};t.deepLinkRouteIfLandedAndNotAuthed=c},6203:function(e){e.exports=[["Upsorbing the Contents",null,null],["Additive Parsing the Load",null,null],["Commence Monosaturated Goodening",null,null],["Kick Off the Multi-Core Widening",null,null],["Bastening the Game Turkey",null,null],["Abstracting the Rummage Disc",null,null],["Undecerealenizing the Process",null,null],["Postrefragmenting the Widget Layer",null,null],["Satisfying the Constraints",null,null],["Abnoramalzing Some of the Matrices",null,null],["Optimizing the People",null,null],["Proclaigerizing the Network",null,null]]},6204:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(897);function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=function(e){var t,r;function l(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).chromeVersion=(0,o.getChromeVersion)(),t.handleReady=function(){var e=t.props.onReady;null!=e&&e()},t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=l.prototype;return s.renderSources=function(){var e=[i("source",{src:n(6272),type:"video/mp4"},"mp4"),i("img",{alt:"",src:n(6273)},"png")];return(this.chromeVersion>52||-1===this.chromeVersion)&&e.unshift(i("source",{src:n(6274),type:"video/webm"},"webm")),e},s.render=function(){var e=this.props,t=e.setRef,n=e.loop,r=e.autoPlay,o=e.className;return a.createElement("video",{ref:t,onLoadedData:this.handleReady,className:o,loop:n,autoPlay:r,playsInline:!0},this.renderSources())},l}(a.PureComponent);l.displayName="AppSpinner",l.defaultProps={loop:!0,autoPlay:!0};var s=l;t.default=s,e.exports=t.default},6205:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o=L(n(2)),i=R(n(17)),l=n(447),s=R(n(3)),u=R(n(839)),d=n(485),c=L(n(6233)),f=R(n(77)),p=L(n(6114)),h=R(n(12)),v=R(n(908)),m=R(n(849)),y=R(n(125)),_=L(n(6017)),g=R(n(18)),E=n(106),S=n(846),T=R(n(445)),O=R(n(6664)),I=R(n(6457)),C=L(n(6126)),N=n(0),A=R(n(13)),M=R(n(5357)),P=R(n(939)),b=R(n(5641));function R(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=w(_.AuthSpinner,{hideQuote:!0}),G=w(C.InviteResolvingHeader,{}),F=function(e){var t,r;function a(t){var n;(n=e.call(this,t)||this).setEmailRef=function(e){n.emailRef=e},n.setPasswordRef=function(e){n.passwordRef=e},n.setCodeRef=function(e){n.codeRef=e},n.renderError=function(e){var t=n.props.errors;if(n.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null},n.handleLogin=function(e){var t=n.state,r=t.email,a=t.password,o=t.captchaKey,i=t.undelete;null!=e&&e.preventDefault(),u.default.login({email:r,password:a,undelete:i,captchaKey:o,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),E.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)},n.handleTokenSubmit=function(e){var t=n.state.code,r=n.props.mfaTicket;null!=e&&e.preventDefault(),u.default.loginMFA({code:t.replace(/ /g,""),ticket:r,source:n.loginSource,giftCodeSKUId:n.giftCodeSKUId}),E.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)},n.handleSMSTokenSubmit=function(e){var t=n.state.smsCode,r=n.props.mfaTicket;null!=e&&e.preventDefault(),u.default.loginSMS({code:t.replace(/ /g,""),ticket:r}),E.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)},n.handleToggleSMSLogin=function(e){var t=n.props.mfaTicket;null!=e&&e.preventDefault(),u.default.requestSMSToken(t),E.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)},n.handleForgotPassword=function(){var e=n.state.email;null!=n.emailRef&&n.emailRef.focus(),u.default.forgotPassword(e,function(){f.default.push(function(t){return o.createElement(T.default,D({header:A.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,confirmText:A.default.Messages.OKAY,red:!1,className:S.isMobile?P.default.mobile:""},t),w(y.default,{size:y.default.Sizes.MEDIUM,color:y.default.Colors.PRIMARY},void 0,A.default.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:e})))})}),E.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)},n.handleReset=function(e){null!=e&&e.preventDefault(),u.default.loginReset(),n.setState({password:"",email:"",code:"",smsCode:"",captchaKey:null,undelete:!1,checkingHandoff:!1})},n.handleCancelAccountDeletion=function(){n.setState({undelete:!0},n.handleLogin)},n.handleCaptchaVerify=function(e){n.setState({captchaKey:e},n.handleLogin)},n.handleGotoRegister=function(){var e=n.state.email,t=n.props,r=t.invite,a=t.giftCode,o=t.location,i=t.transitionTo,s=t.redirectTo;if(t.isGuest)return c.close(),void p.open();var d,f=null!=o?(0,l.parse)(o.search):{};""!==e&&(f.email=e),null!=r?(f.mode="register",d=N.Routes.INVITE(r.code)):null!=a?(f.mode="register",d=N.Routes.GIFT_CODE(a.code)):null!=s?(d=N.Routes.REGISTER,f.redirect_to=s):d=N.Routes.REGISTER,u.default.loginReset(),i(d,{search:(0,l.stringify)(f)}),E.ComponentDispatch.dispatch(N.ComponentActions.WAVE_EMPHASIZE)};var r=null!=t.location?(0,l.parse)(t.location.search):{};return n.state={redirecting:t.authenticated,checkingHandoff:t.handoffAvailable,email:r.email||"",password:"",code:"",smsCode:"",captchaKey:null,undelete:!1},n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s,v,m,R=a.prototype;return R.componentDidMount=function(){var e=this.props,t=e.handoffAvailable,n=e.authenticated,r=e.giftCodeSKU,a=e.invite,o=e.location;t&&!n?(0,d.handoffBegin)():n&&this.loginOrSSO(n,o,!0),g.default.track(N.AnalyticEvents.LOGIN_VIEWED,D({location:null!=a?"Invite Login Page":"Non-Invite Login Page",login_source:this.loginSource},null!=r?r.getAnalyticsData(!1,!1):{}),!0)},R.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.handoffAvailable;e.handoffAvailable||!t||e.authenticated||this.setState({checkingHandoff:!1})},R.componentDidUpdate=function(e){var t=this.props,n=t.authenticated,r=t.location,a=this.state.checkingHandoff;!n||e.authenticated||a||this.loginOrSSO(n,r),e.errors!==this.props.errors&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("code")&&null!=this.codeRef&&this.codeRef.focus())},R.loginOrSSO=function(e,t,n){var r=this;void 0===n&&(n=!1);var a=this.props.isGuest;e&&(null!=t||a)&&(n?u.default.verifySSOToken().then(function(){return r.transitionSSO(t)}):this.transitionSSO(t))},R.transitionSSO=function(e){var t=this.props,n=t.transitionTo,r=t.redirectTo;if(t.isGuest&&null!=r)n(r);else{var a=null!=e?(0,l.parse)(e.search):{},o=(a.redirect_to,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(a,["redirect_to"]));if(null!=r)n(r);else if(null==o.service)n(N.Routes.APP);else{var i=window.location.protocol+window.GLOBAL_ENV.API_ENDPOINT+N.Endpoints.SSO,s=D({},o,{token:h.default.getToken()});window.location=i+"?"+(0,l.stringify)(s)}}},R.hasError=function(e){return null!=this.props.errors[e]},R.renderHandOffAvailable=function(){var e=this.props.authBoxClassName;return w(_.default,{className:e},void 0,k,w(_.Title,{className:M.default.marginBottom8},void 0,A.default.Messages.BROWSER_HANDOFF_DETECTING_TITLE),w(_.Subtitle,{},void 0,A.default.Messages.AUTH_BROWSER_HANDOFF_DETECTING_DESCRIPTION))},R.renderHandOffContinue=function(){var e=this.props,t=e.user,n=e.transitionTo,r=e.authBoxClassName;return null==t?null:w(_.default,{className:r},void 0,w(_.Avatar,{src:t.getAvatarURL(),size:_.Avatar.Sizes.XXLARGE,className:M.default.marginBottom20}),w(_.Title,{className:M.default.marginBottom8},void 0,A.default.Messages.BROWSER_HANDOFF_SUCCESS_TITLE.format({name:t.toString()})),w(_.Subtitle,{className:M.default.marginBottom40},void 0,A.default.Messages.BROWSER_HANDOFF_SUCCESS_BODY),w(_.Block,{},void 0,w(_.Button,{onClick:function(){return n(N.Routes.APP)},className:M.default.marginBottom8},void 0,A.default.Messages.BROWSER_HANDOFF_SUCCESS_ACTION.format({name:t.toString()})),w(_.Button,{look:_.Button.Looks.LINK,onClick:this.handleReset},void 0,A.default.Messages.BROWSER_HANDOFF_SUCCESS_CANCEL)))},R.renderDisabledAccount=function(){var e=this.props.authBoxClassName,t=this.props.loginStatus===N.LoginStates.ACCOUNT_DISABLED,n=t?A.default.Messages.ACCOUNT_DISABLED_TITLE:A.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,r=t?A.default.Messages.ACCOUNT_DISABLED_DESCRIPTION:A.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return w(_.default,{tag:"form",onSubmit:this.handleReset,className:e},void 0,w(_.Title,{className:M.default.marginBottom8},void 0,n),w(_.Subtitle,{className:M.default.marginBottom20},void 0,r),w(_.Block,{},void 0,w(_.Button,{color:_.Button.Colors.BRAND,type:"submit"},void 0,A.default.Messages.RETURN_TO_LOGIN),w("div",{className:(0,i.default)(M.default.marginTop8,b.default.needAccount)},void 0,A.default.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion}))))},R.renderResolving=function(){var e=this,t=this.props.authBoxClassName;return w(_.default,{className:t},void 0,G,w(_.Block,{className:M.default.marginTop20},void 0,w(_.Input,{className:M.default.marginBottom20,label:A.default.Messages.FORM_LABEL_EMAIL,onChange:function(t){return e.setState({email:t})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!0}),w(_.Input,{className:M.default.marginBottom20,label:A.default.Messages.FORM_LABEL_PASSWORD,onChange:function(t){return e.setState({password:t})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",value:this.state.password}),w(_.Button,{className:M.default.marginBottom8,type:"submit",disabled:!0},void 0,A.default.Messages.LOGIN),w(_.Button,{disabled:!0,look:_.Button.Looks.LINK},void 0,A.default.Messages.FORGOT_PASSWORD),w(_.Button,{disabled:!0,className:M.default.marginTop4,look:_.Button.Looks.LINK},void 0,A.default.Messages.NEED_ACCOUNT)))},R.renderDefault=function(){var e,t=this,n=this.props,r=n.invite,a=n.giftCode,l=n.loginStatus,s=n.authBoxClassName,u=n.isGuest,d=!this.hasError("email")&&this.hasError("password");return e=null!=r&&null!=r.channel?w(C.default,{invite:r}):null!=a?w(I.default,{giftCode:a}):u?null:w(o.Fragment,{},void 0,w(_.Title,{className:M.default.marginBottom8},"title",A.default.Messages.LOGIN_TITLE),w(_.Subtitle,{},"subtitle",A.default.Messages.AUTH_LOGIN_BODY)),w(_.default,{onSubmit:this.handleLogin,tag:"form",className:s},void 0,e,w(_.Block,{className:M.default.marginTop20},void 0,w(_.Input,{className:M.default.marginBottom20,label:A.default.Messages.FORM_LABEL_EMAIL,error:this.renderError("email"),onChange:function(e){return t.setState({email:e})},type:"email",setRef:this.setEmailRef,autoComplete:"off",spellCheck:"false",value:this.state.email,autoFocus:!d}),w(_.Input,{label:A.default.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return t.setState({password:e})},type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:d,value:this.state.password}),w(_.Button,{tabIndex:10,onClick:this.handleForgotPassword,look:_.Button.Looks.LINK,className:(0,i.default)(M.default.marginBottom20,M.default.marginTop4)},void 0,A.default.Messages.FORGOT_PASSWORD),w(_.Button,{type:"submit",submitting:l===N.LoginStates.LOGGING_IN,className:M.default.marginBottom8},void 0,A.default.Messages.LOGIN),w("div",{className:M.default.marginTop4},void 0,w("span",{className:b.default.needAccount},void 0,A.default.Messages.NEED_ACCOUNT),w(_.Button,{onClick:this.handleGotoRegister,look:_.Button.Looks.LINK,className:b.default.smallRegisterLink},void 0,A.default.Messages.REGISTER))))},R.renderMFA=function(){var e=this,t=this.props,r=t.loginStatus,a=t.mfaSMS,o=t.authBoxClassName;return w(_.default,{onSubmit:this.handleTokenSubmit,tag:"form",className:o},void 0,w("img",{alt:"",src:n(6282),className:M.default.marginBottom20}),w(_.Title,{className:M.default.marginBottom8},void 0,A.default.Messages.TWO_FA),w(_.Subtitle,{},void 0,A.default.Messages.TWO_FA_ENTER_TOKEN_BODY),w(_.Block,{className:M.default.marginTop40},void 0,w(_.Input,{className:M.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({code:t})},autoComplete:"off",placeholder:A.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:A.default.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code},"totpCode"),w(_.Button,{type:"submit",submitting:r===N.LoginStates.LOGGING_IN_MFA},void 0,A.default.Messages.LOGIN),a?w(_.Button,{onClick:this.handleToggleSMSLogin,submitting:r===N.LoginStates.LOGGING_IN_MFA_SMS,className:M.default.marginTop8,look:_.Button.Looks.LINK},void 0,A.default.Messages.MFA_SMS_RECEIVE_CODE):null,w(_.Button,{look:_.Button.Looks.LINK,className:M.default.marginTop4,onClick:this.handleReset},void 0,A.default.Messages.TWO_FA_LOGIN_FOOTER)))},R.renderMFASMS=function(){var e=this,t=this.props,r=t.loginStatus,a=t.maskedPhone,o=t.authBoxClassName,i=r===N.LoginStates.LOGGING_IN_MFA_SMS||""===a;return w(_.default,{onSubmit:this.handleSMSTokenSubmit,tag:"form",className:o},void 0,w("img",{alt:"",src:n(6282),className:M.default.marginBottom20}),w(_.Title,{className:M.default.marginBottom8},void 0,A.default.Messages.TWO_FA),w(_.Subtitle,{className:M.default.marginBottom8},void 0,i?A.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:A.default.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:a})),w(_.Block,{className:M.default.marginTop40},void 0,w(_.Input,{className:M.default.marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(t){return e.setState({smsCode:t})},autoComplete:"off",placeholder:A.default.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:A.default.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode},"smsCode"),w(_.Button,{type:"submit",submitting:i,color:i?_.Button.Colors.TRANSPARENT:_.Button.Colors.BRAND},void 0,A.default.Messages.LOGIN),i?null:w(_.Button,{onClick:this.handleToggleSMSLogin,className:M.default.marginTop8,look:_.Button.Looks.LINK},void 0,A.default.Messages.MFA_SMS_RESEND),w(_.Button,{look:_.Button.Looks.LINK,className:M.default.marginTop4,onClick:this.handleReset},void 0,A.default.Messages.TWO_FA_LOGIN_FOOTER)))},R.render=function(){var e=this.props,t=e.authenticated,n=e.invite,r=e.loginStatus,a=e.handoffAvailable,o=e.isGuest,i=e.authBoxClassName,l=this.state,s=l.checkingHandoff;if(l.redirecting)return null;if(this.hasError("captcha_key"))return w(O.default,{authBoxClassName:i,onVerify:this.handleCaptchaVerify,title:o?null:A.default.Messages.LOGIN_TITLE});if(a)return this.renderHandOffAvailable();if(t&&s)return this.renderHandOffContinue();switch(r){case N.LoginStates.LOGGING_IN_MFA_SMS:case N.LoginStates.MFA_SMS_STEP:return this.renderMFASMS();case N.LoginStates.LOGGING_IN_MFA:case N.LoginStates.MFA_STEP:return this.renderMFA();case N.LoginStates.ACCOUNT_SCHEDULED_FOR_DELETION:case N.LoginStates.ACCOUNT_DISABLED:return this.renderDisabledAccount();case N.LoginStates.LOGGING_IN:case N.LoginStates.NONE:default:return null!=n&&n.state===N.InviteStates.RESOLVING?this.renderResolving():this.renderDefault()}},s=a,(v=[{key:"loginSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite,r=e.isGuest;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":r?"guest_lurker":null}},{key:"giftCodeSKUId",get:function(){var e=this.props.giftCode;return null!=e?e.skuId:null}}])&&U(s.prototype,v),m&&U(s,m),a}(o.PureComponent);F.displayName="Login",F.defaultProps={isGuest:!1,transitionTo:function(e){return r.location.assign(e)}};var j=s.default.connectStores([h.default,v.default,m.default],function(){return{authenticated:h.default.isAuthenticated(),handoffAvailable:v.default.isHandoffAvailable(),user:v.default.user,loginStatus:h.default.getLoginStatus(),mfaTicket:h.default.getMFATicket(),mfaSMS:h.default.getMFASMS(),maskedPhone:h.default.getMaskedPhone(),errors:h.default.getErrors(),defaultRoute:m.default.defaultRoute}})(F);t.default=j,e.exports=t.default}).call(this,n(7))},6213:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CALL_START=t.CALL_ACCEPT=void 0;var r=n(106),a=n(0),o={binds:["mod+return"],global:!0,action:function(){if(r.ComponentDispatch.hasSubscribers(a.ComponentActions.CALL_ACCEPT))return r.ComponentDispatch.dispatch(a.ComponentActions.CALL_ACCEPT),!1}};t.CALL_ACCEPT=o;var i={binds:["ctrl+'","ctrl+shift+'"],global:!0,action:function(e){if(r.ComponentDispatch.hasSubscribers(a.ComponentActions.CALL_START))return r.ComponentDispatch.dispatch(a.ComponentActions.CALL_START,e),!1}};t.CALL_START=i;var l={CALL_ACCEPT:o,CALL_START:i};t.default=l},6214:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_PREVIOUS_GUILD=t.CHANNEL_PREV=t.CHANNEL_NEXT=void 0;var r=d(n(6007)),a=d(n(49)),o=d(n(150)),i=d(n(44)),l=d(n(6477)),s=n(6028),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c={binds:["alt+down"],global:!0,action:function(){return(0,l.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}};t.CHANNEL_NEXT=c;var f={binds:["alt+up"],global:!0,action:function(){return(0,l.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}};t.CHANNEL_PREV=f;var p={binds:["mod+alt+right"],global:!0,action:function(){var e;if(o.default.getGuildId())e=u.ME;else{var t=o.default.getLastSelectedGuildId();t&&(e=t,(0,s.transitionToChannel)(t,a.default.getChannelId(t)))}if(null!=e){var n=a.default.getChannelId(e);i.default.transitionTo(n?u.Routes.CHANNEL(e,n):u.Routes.GUILD(e))}return!1}};t.TOGGLE_PREVIOUS_GUILD=p;var h={CHANNEL_PREV:f,CHANNEL_NEXT:c,TOGGLE_PREVIOUS_GUILD:p};t.default=h},6215:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MARK_CHANNEL_READ=void 0;var r=f(n(152)),a=n(6074),o=f(n(870)),i=f(n(225)),l=f(n(310)),s=f(n(49)),u=f(n(150)),d=n(106),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var p={binds:["esc","shift+pagedown"],global:!0,action:function(){var e=document.activeElement;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.CALL_DECLINE))return d.ComponentDispatch.dispatch(c.ComponentActions.CALL_DECLINE),!1;if(o.default.isOpen())return d.ComponentDispatch.dispatch(c.ComponentActions.CONTEXT_MENU_CLOSE),!1;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.POPOUT_CLOSE))return d.ComponentDispatch.dispatch(c.ComponentActions.POPOUT_CLOSE),!1;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.CLOSE_GIF_PICKER))return d.ComponentDispatch.dispatch(c.ComponentActions.CLOSE_GIF_PICKER),!1;if(d.ComponentDispatch.hasSubscribers(c.ComponentActions.MODAL_CLOSE)&&!function(e){if(null==e)return!1;if(e instanceof HTMLInputElement)switch(e.type){case"text":case"password":case"email":case"number":case"tel":case"url":return!0;default:return!1}return e instanceof HTMLTextAreaElement}(e))return d.ComponentDispatch.dispatch(c.ComponentActions.MODAL_CLOSE),!1;var t=u.default.getGuildId(),n=s.default.getChannelId(t);n&&(i.default.getMessages(n).hasMoreAfter&&r.default.jumpToPresent(n,c.MAX_MESSAGES_PER_CHANNEL),l.default.hasUnread(n)&&(0,a.ack)(n),(0,a.localAck)(n));return d.ComponentDispatch.dispatch(c.ComponentActions.SCROLLTO_PRESENT),!1}};t.MARK_CHANNEL_READ=p;var h={MARK_CHANNEL_READ:p};t.default=h},6216:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MARK_SERVER_READ=void 0;var r=c(n(827)),a=c(n(152)),o=c(n(6043)),i=c(n(225)),l=c(n(49)),s=c(n(150)),u=n(106),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f={},p={binds:["shift+esc"],global:!0,action:function(){var e=s.default.getGuildId();if(e&&o.default.getUnreadGuildsIgnoreMuted(e)){if(!f[e]){var t=function(){return delete f[e]};r.default.markGuildAsRead(e).then(t,t)}var n=l.default.getChannelId(e);if(n)i.default.getMessages(n).hasMoreAfter?a.default.jumpToPresent(n,d.MAX_MESSAGES_PER_CHANNEL):u.ComponentDispatch.dispatch(d.ComponentActions.SCROLLTO_PRESENT)}}};t.MARK_SERVER_READ=p;var h={MARK_SERVER_READ:p};t.default=h},6217:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.JUMP_TO_FIRST_UNREAD=void 0;var r=i(n(152)),a=i(n(310)),o=i(n(49));function i(e){return e&&e.__esModule?e:{default:e}}var l={binds:["shift+pageup"],global:!0,action:function(){var e=o.default.getChannelId();if(e){var t=a.default.ackMessageId(e);t&&a.default.getOldestUnreadTimestamp(e)>0&&r.default.jumpToMessage(e,t,!1,"Keyboard Shortcut")}return!1}};t.JUMP_TO_FIRST_UNREAD=l;var s={JUMP_TO_FIRST_UNREAD:l};t.default=s},6218:function(e,t,n){"use strict";var r;t.__esModule=!0,t.default=void 0;var a=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.channelNoticePredicate=function(e,t,n){return!1},r}(((r=n(3))&&r.__esModule?r:{default:r}).default.Store);t.default=a,e.exports=t.default},6219:function(e,t,n){"use strict";t.__esModule=!0,t.findNextSelected=function e(t,n,a,o){var i=a.length;if(0===i)return 0;if(null==o)o=n;else if(o===n)return n;n+="up"===t?-1:1;if(n<0||n>=i)return e(t,n<0?i:-1,a,o);var l=a[n];if(l.type===r.AutocompleterResultTypes.HEADER)return e(t,n,a,o);return n};var r=n(0)},6220:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RETURN_TO_AUDIO_CHANNEL=void 0;var r=u(n(6007)),a=u(n(6013)),o=u(n(181)),i=u(n(49)),l=n(6028),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d={binds:["mod+alt+left"],global:!0,action:function(){if(!o.default.isConnected())return!1;var e=o.default.getGuildId()||s.ME,t=i.default.getChannelId(e);return(0,l.transitionToChannel)(e,t),r.default.flushSelection(!0),a.default.channelListScrollTo(e,o.default.getChannelId()),!1}};t.RETURN_TO_AUDIO_CHANNEL=d;var c={RETURN_TO_AUDIO_CHANNEL:d};t.default=c},6221:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SCROLL_DOWN=t.SCROLL_UP=void 0;var r=n(106),a=n(0),o={binds:["pageup"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(a.ComponentActions.SCROLL_PAGE_UP),!1}};t.SCROLL_UP=o;var i={binds:["pagedown"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(a.ComponentActions.SCROLL_PAGE_DOWN),!1}};t.SCROLL_DOWN=i;var l={SCROLL_UP:o,SCROLL_DOWN:i};t.default=l},6222:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SEARCH_EMOJIS=void 0;var r=n(106),a=n(0),o={binds:["mod+e"],global:!0,action:function(){return r.ComponentDispatch.dispatch(a.ComponentActions.TOGGLE_EMOJI_POPOUT),!1}};t.SEARCH_EMOJIS=o;var i={SEARCH_EMOJIS:o};t.default=i},6223:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SERVER_PREV=t.SERVER_NEXT=void 0;var r=o(n(6007)),a=o(n(6482));function o(e){return e&&e.__esModule?e:{default:e}}var i={binds:["mod+alt+down","mod+shift+]","ctrl+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,a.default)(),!1},keyup:function(){return r.default.flushSelection(),!1}};t.SERVER_NEXT=i;var l={binds:["mod+alt+up","mod+shift+[","ctrl+shift+tab"],global:!0,action:function(e){return e.preventDefault(),e.stopPropagation(),(0,a.default)(-1),!1},keyup:function(){return r.default.flushSelection(),!1}};t.SERVER_PREV=l;var s={SERVER_NEXT:i,SERVER_PREV:l};t.default=s},6224:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SUBMIT=void 0;var r=n(106),a=n(0),o={binds:["return"],global:!1,action:function(){if(r.ComponentDispatch.hasSubscribers(a.ComponentActions.MODAL_SUBMIT))return r.ComponentDispatch.dispatch(a.ComponentActions.MODAL_SUBMIT),!1}};t.SUBMIT=o;var i={SUBMIT:o};t.default=i},6225:function(e,t,n){"use strict";t.__esModule=!0,t.TEXTAREA_FOCUS=t.FALLTHROUGH_KEYS=void 0;var r=u(n(844)),a=u(n(46)),o=u(n(181)),i=n(106),l=n(6226),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=new Set(["PageDown","PageUp","Home","End"]);t.FALLTHROUGH_KEYS=d;var c={binds:["any-character"],global:!1,keydown:function(e,t){if((0,l.isInputLikeElement)(document.activeElement))return!1;var n=null!=document.activeElement&&"BODY"===document.activeElement.tagName;return!(s.EnableAccessibility&&!n&&!/^[a-zA-Z0-9]$/.test(t))&&(!i.ComponentDispatch.hasSubscribers(s.ComponentActions.MODAL_CLOSE)&&(!r.default.hasLayers()&&("Tab"===t?(e.preventDefault(),i.ComponentDispatch.dispatch(s.ComponentActions.TEXTAREA_FOCUS),!1):!(o.default.isConnected()&&a.default.getMode()===s.InputModes.PUSH_TO_TALK&&!a.default.isSelfMute())&&void(e.metaKey||e.ctrlKey||d.has(t)||i.ComponentDispatch.dispatchToLastSubscribed(s.ComponentActions.TEXTAREA_FOCUS)))))}};t.TEXTAREA_FOCUS=c},6226:function(e,t,n){"use strict";t.__esModule=!0,t.isInputLikeElement=function(e){if(null==e)return!1;if("true"===e.getAttribute("contenteditable"))return!0;if(a.test(e.tagName))return!0;if(r.test(e.tagName)){var t=e.getAttribute("type")||"text";if("text"===t||"password"===t)return!0}return!1},t.removeNode=function(e){null!=e.parentNode&&e.parentNode.removeChild(e)},t.clickedOnVisibleImage=function(e,t,n,r){var a=n.width,o=n.height,i=r.top,l=r.left,s=r.width,u=r.height,d=Math.min(s/a,u/o,1),c=a*d,f=o*d,p=(u-f)/2+l,h=(s-c)/2+i;if(t>=p&&t<=p+f&&e>=h&&e<=h+c)return!0;return!1};var r=/input/i,a=/textarea/i},6227:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_DEAFEN=t.TOGGLE_MUTE=void 0;var r,a=(r=n(446))&&r.__esModule?r:{default:r};var o={binds:["mod+shift+m"],global:!0,action:function(){return a.default.toggleSelfMute(),!1}};t.TOGGLE_MUTE=o;var i={binds:["mod+shift+d"],global:!0,action:function(){return a.default.toggleSelfDeaf(),!1}};t.TOGGLE_DEAFEN=i;var l={TOGGLE_MUTE:o,TOGGLE_DEAFEN:i};t.default=l},6228:function(e,t,n){"use strict";t.__esModule=!0,t.TOGGLE_CATEGORY_COLLAPSED=void 0;var r=n(6157),a=s(n(848)),o=s(n(108)),i=s(n(150)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={binds:["mod+shift+a"],global:!0,action:function(){var e=i.default.getGuildId();return null!=e&&(o.default.getChannels(e)[l.ChannelTypes.GUILD_CATEGORY].some(function(e){var t=e.channel;return"null"!==t.id&&!a.default.isCollapsed(t.id)})?(0,r.categoryCollapseAll)(e):(0,r.categoryExpandAll)(e),!1)}};t.TOGGLE_CATEGORY_COLLAPSED=u},6229:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_HOTKEYS=void 0;var r=o(n(6091)),a=o(n(6230));function o(e){return e&&e.__esModule?e:{default:e}}var i={binds:["mod+/","mod+shift+/"],global:!0,action:function(){return a.default.isOpen()?r.default.hide():r.default.show(),!1}};t.TOGGLE_HOTKEYS=i;var l={TOGGLE_HOTKEYS:i};t.default=l},6230:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1;var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return i},a.getState=function(){return{ragingDemon:l}},r}(r.default.Store))(a.default,{SHOW_KEYBOARD_SHORTCUTS:function(e){i=!0},HIDE_KEYBOARD_SHORTCUTS:function(e){i=!1},ACTIVATE_RAGING_DEMON:function(e){l=!0},DEACTIVATE_RAGING_DEMON:function(e){l=!1}});t.default=s,e.exports=t.default},6231:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MENTION_PREV=t.MENTION_NEXT=t.UNREAD_PREV=t.UNREAD_NEXT=void 0;var r=u(n(6007)),a=u(n(837)),o=u(n(310)),i=u(n(226)),l=u(n(6487)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){return(!i.default.isChannelMuted(e,t)||o.default.getMentionCount(t)>0)&&o.default.hasUnread(t)},c={binds:["alt+shift+down"],global:!0,action:function(){var e=a.default.getGuildId()||s.ME;return(0,l.default)(1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}};t.UNREAD_NEXT=c;var f={binds:["alt+shift+up"],global:!0,action:function(){var e=a.default.getGuildId()||s.ME;return(0,l.default)(-1,d,function(t){return t===e||!i.default.isMuted(t)}),!1},keyup:function(){return r.default.flushSelection(),!1}};t.UNREAD_PREV=f;var p=function(e,t){return o.default.getMentionCount(t)>0},h={binds:["mod+shift+alt+down"],global:!0,action:function(){return(0,l.default)(1,p),!1},keyup:function(){return r.default.flushSelection(),!1}};t.MENTION_NEXT=h;var v={binds:["mod+shift+alt+up"],global:!0,action:function(){return(0,l.default)(-1,p),!1},keyup:function(){return r.default.flushSelection(),!1}};t.MENTION_PREV=v;var m={UNREAD_NEXT:c,UNREAD_PREV:f,MENTION_NEXT:h,MENTION_PREV:v};t.default=m},6232:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(6)),a=v(n(3)),o=v(n(1)),i=v(n(6680)),l=v(n(900)),s=v(n(473)),u=v(n(155)),d=v(n(128)),c=v(n(44)),f=v(n(14)),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var m=[],y=0,_=!1,g=!1,E=!0;function S(e){return{key:e.suggested_user.id,reasons:r.default.sortBy(e.reasons,function(e){return e.name.toLowerCase()}),user:new d.default(e.suggested_user)}}function T(e){return e.user.username.toLowerCase()}var O=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default)},a.getSuggestionCount=function(){return y},a.getSuggestions=function(){return m},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){m=[],y=e.friendSuggestionCount,g=!0},FRIEND_SUGGESTION_CREATE:function(e){var t=S(e.suggestion);if(m.some(function(e){return e.key===t.key}))return!1;if(y++,m=r.default.sortBy([].concat(m,[t]),T),E){var n=t.reasons[0],a=n.name,o=n.platform_type,i=u.default.get(o);s.default.showNotification(t.user.getAvatarURL(),h.default.Messages.FRIEND_SUGGESTION,h.default.Messages.FRIEND_SUGGESTION_NOTIFICATION.format({name:a,platformName:i.name}),{onClick:function(){c.default.transitionTo(p.Routes.FRIENDS),l.default.setSection(p.FriendsSections.ADD_FRIEND)}})}},FRIEND_SUGGESTION_DELETE:function(e){y=Math.max(0,--y),m=m.filter(function(t){return t.user.id!==e.suggestedUserId})},FRIENDS_SET_SECTION:function(e){E=e.section!==p.FriendsSections.ADD_FRIEND,_||E||!g||(_=!0,g=!1,i.default.fetch())},LOAD_FRIEND_SUGGESTIONS_SUCCESS:function(e){_=!1,y=e.suggestions.length,m=(0,r.default)(e.suggestions).map(S).sortBy(T).value()},LOAD_FRIEND_SUGGESTIONS_FAILURE:function(e){return _=!1,void(m=[])}});t.default=O,e.exports=t.default},6233:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.track(o.AnalyticEvents.OPEN_MODAL,{type:"Guest Mode - Login Modal",location:e}),r.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_OPEN})},t.close=function(){r.default.dispatch({type:o.ActionTypes.LOGIN_MODAL_CLOSE})};var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},6234:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(2)),a=c(n(6792)),o=c(n(77)),i=c(n(88)),l=f(n(6014)),s=c(n(9)),u=c(n(6077)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){var t=["openFile"];e.multiple&&t.push("multiSelections");var n=e.filters,r=l.maxFileSize();i.default.fileManager.openFiles({properties:t,filters:n},r,l.makeFile).then(function(t){null!=t&&e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:t}})},function(e){if("ETOOLARGE"!==e.code)throw e;o.default.push(u.default,{title:d.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:d.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:l.sizeString(r)})})})}var m=function(e){var t,n;function o(t){var n;return h(n=e.call(this,t)||this).setRef=n.setRef.bind(h(n)),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.activateUploadDialogue=function(){if(this._ref)return this._ref.activateUploadDialogue()},i.setRef=function(e){this._ref=e},i.render=function(){return r.createElement(a.default,p({ref:this.setRef,handleNativeClick:v,embedded:s.default.isDesktop()},this.props))},o}(r.Component);m.displayName="FileInput";var y=m;t.default=y,e.exports=t.default},6236:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={setDiversityColor:function(e){a.default.dispatch({type:o.ActionTypes.EMOJI_DIVERSITY_COLOR_CHANGE,color:e})},fetchEmoji:function(e){a.default.maybeDispatch({type:o.ActionTypes.EMOJI_FETCH,guildId:e}),r.default.get({url:o.Endpoints.GUILD_EMOJIS(e)}).then(function(t){return a.default.dispatch({type:o.ActionTypes.EMOJI_FETCH_SUCCESS,guildId:e,emojis:t.body})},function(){return a.default.dispatch({type:o.ActionTypes.EMOJI_FETCH_FAILURE,guildId:e})})},uploadEmoji:function(e,t,n){return a.default.dispatch({type:o.ActionTypes.EMOJI_UPLOAD_START,guildId:e}),r.default.post({url:o.Endpoints.GUILD_EMOJIS(e),body:{image:t,name:n}}).then(function(){return a.default.dispatch({type:o.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e})},function(t){return a.default.dispatch({type:o.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e}),Promise.reject(t)})},deleteEmoji:function(e,t){a.default.dispatch({type:o.ActionTypes.EMOJI_DELETE,guildId:e,emojiId:t}),r.default.delete({url:o.Endpoints.GUILD_EMOJI(e,t)})},updateEmoji:function(e,t,n){r.default.patch({url:o.Endpoints.GUILD_EMOJI(e,t),body:{name:n}})}};t.default=l,e.exports=t.default},6237:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.AttachmentUpload=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(6235)),i=n(6014),l=p(n(305)),s=p(n(219)),u=p(n(301)),d=p(n(6160)),c=p(n(13)),f=p(n(5427));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.filename,r=(0,i.classifyFileName)(t),a=n(6532)("./icon-file-small-"+r+".svg");return h("img",{className:f.default.icon,src:a,alt:c.default.Messages.IMG_ALT_ATTACHMENT_FILE_TYPE.format({fileType:r}),title:r})};v.displayName="AttachmentIcon";var m=function(e){var t=e.className,n=e.filename,r=e.size,i=e.progress,l=e.onCancelUpload,p=e.onClick,m=e.onContextMenu,y=100===i,_=!y&&r>0;return h("div",{className:(0,a.default)(f.default.attachment,t)},void 0,h(v,{filename:n}),h("div",{className:f.default.attachmentInner},void 0,h("div",{className:f.default.filenameWrapper},void 0,h(s.default,{className:f.default.filename,onClick:p,onContextMenu:m},void 0,n),_?h("div",{className:f.default.size},void 0,"— "+o.default.filesize(r)):null),h("div",{className:f.default.progressContainer},void 0,y?c.default.Messages.ATTACHMENT_PROCESSING:h(d.default,{className:f.default.progress,percent:i}))),y?null:h(s.default,{onClick:l},void 0,h(u.default,{name:u.default.Names.CLOSE,className:f.default.cancelButton,width:24,height:24})))};t.AttachmentUpload=m,m.displayName="AttachmentUpload";var y=function(e){var t=e.className,n=e.url,r=e.filename,i=e.size,s=e.onClick,d=e.onContextMenu;return h("div",{className:(0,a.default)(f.default.attachment,t)},void 0,h(v,{filename:r}),h("div",{className:f.default.attachmentInner},void 0,h("div",{className:f.default.filenameLinkWrapper},void 0,h(l.default,{className:f.default.fileNameLink,href:n,onClick:s,onContextMenu:d},void 0,r)),h("div",{className:f.default.metadata},void 0,o.default.filesize(i))),h(l.default,{href:n,target:"_blank",rel:"noreferrer noopener"},void 0,h(u.default,{name:u.default.Names.DOWNLOAD,className:f.default.downloadButton,width:24,height:24})))};y.displayName="Attachment";var _=y;t.default=_},6238:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(6)),i=s(n(303)),l=s(n(151));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=Object.freeze({ABOVE:0,VISIBLE:1,BELOW:2});function f(e){return{toValue:e,duration:300,easing:i.default.Easing.inOut(i.default.Easing.back())}}var p=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={prevValue:null,currValue:t.value,nextValue:null},n.prevAnimate=new i.default.Value(c.ABOVE),n.currAnimate=new i.default.Value(c.VISIBLE),o.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["animateNext"]),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.UNSAFE_componentWillReceiveProps=function(e){var t=this.state,n=t.prevValue,r=t.currValue,a=t.nextValue;null==n&&r!==e.value?this.setState({prevValue:l.default.isFocused()?r:null,currValue:e.value}):null!=a&&a!==e.value&&this.setState({nextValue:e.value})},s.componentDidUpdate=function(e,t){var n=this.state,r=n.prevValue,a=n.currValue;r!==t.prevValue&&null!=r&&this.animateBetween(r,a)},s.animateBetween=function(e,t){var n,r=this.props.forcePosition;this.prevAnimate.setValue(c.VISIBLE),null!=r?r===c.ABOVE?(this.currAnimate.setValue(c.ABOVE),n=c.BELOW):r===c.BELOW&&(this.currAnimate.setValue(c.BELOW),n=c.ABOVE):e>t?(this.currAnimate.setValue(c.ABOVE),n=c.BELOW):(this.currAnimate.setValue(c.BELOW),n=c.ABOVE),i.default.parallel([i.default.timing(this.prevAnimate,f(n)),i.default.timing(this.currAnimate,f(c.VISIBLE))]).start(this.animateNext)},s.animateNext=function(){var e=this.state,t=e.currValue,n=e.nextValue;null!=n?this.setState({prevValue:l.default.isFocused()?t:null,currValue:n,nextValue:null}):this.setState({prevValue:null})},s.getAnimatedStyle=function(e){return{transform:[{translateY:e.interpolate({inputRange:[0,1,2],outputRange:["-100%","0%","100%"]})}],position:"absolute",top:0,left:0,right:0,bottom:0}},s.getMinWidth=function(e){var t=this.props,n=t.digitWidth,r=t.padStartLength;if(null!=n){var a=Math.ceil(Math.log10(e+1));return r?Math.min(a,r)*n:a*n}},s.padValue=function(e){var t=this.props.padStartLength;return null!=t?String(e).padStart(t,"0"):e},s.render=function(){var e=this.state,t=e.prevValue,n=e.currValue,r=o.default.omit(this.props,["value","digitWidth","padStartLength","forcePosition"]);if(null==t)return a.createElement("div",d({},r,{style:{minWidth:this.getMinWidth(n)}}),this.padValue(n));var l=Math.max(t,n);return a.createElement("div",d({},r,{style:{position:"relative",overflow:"hidden"}}),u("div",{style:{visibility:"hidden",minWidth:this.getMinWidth(l)}},void 0,this.padValue(l)),u(i.default.div,{style:this.getAnimatedStyle(this.prevAnimate)},void 0,this.padValue(t)),u(i.default.div,{style:this.getAnimatedStyle(this.currAnimate)},void 0,this.padValue(n)))},r}(a.PureComponent);t.default=p,p.displayName="AnimatedCounter",p.Positions=c,e.exports=t.default},6239:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(17)),i=y(n(4)),l=n(109),s=y(n(124)),u=n(6066),d=y(n(6033)),c=y(n(6026)),f=y(n(6309)),p=y(n(6552)),h=y(n(6095)),v=y(n(13)),m=y(n(5434));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=/steamstore-/i,E="steamcommunity.com";var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={timestamp:"",formattedTimestamp:""},t.handleClick=function(e){var n=t.props,r=n.onClick,a=n.news,o=n.application;r&&r(e,a,o)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.news.timestamp;return t.timestamp!==n?{timestamp:n,formattedTimestamp:(0,i.default)(n).fromNow()}:null};var a=r.prototype;return a.componentDidMount=function(){var e=this.props.onMount;null!=e&&e()},a.renderFooter=function(){var e=this.props,t=e.news,n=t.url,r=t.footer,a=e.application,o=e.onApplicationClick,i=e.onApplicationContextMenu,s=this.state.formattedTimestamp,u=null,d=null;return null!=a?(u=a.getIconURL(128),d=a.name):null!=r&&(u=r.proxy_icon_url||r.icon_url,d=r.text),_(p.default,{hostname:null!=n?function(e){var t=(0,l.parse)(e).hostname;return null==t?e:g.test(t)?E:t}(n):n,timestamp:s,icon:u,title:d,onIconClick:null!=o?function(e){return o(e,a)}:null,onIconContextMenu:null!=i?i:null})},a.renderContent=function(){var e=this.props.titleClassName,t=this.props.news,n=t.title,r=t.description,a=t.url;if(null==n&&null==r&&null==a)return null;var i=null!=r?r.replace(/\n/g," ").trim():r;return _("div",{className:m.default.content},void 0,null!=n?_(d.default,{size:d.default.Sizes.SIZE_16,className:(0,o.default)(m.default.title,e)},void 0,n):null,null!=i&&""!==i?_(c.default,{size:c.default.Sizes.SIZE_14,className:m.default.description},void 0,i):null)},a.render=function(){var e,t=this.props,n=t.className,r=t.hiddenSpoiler,a=t.disableCardInteractive,i=t.onClick,l=t.renderAsset;return _(h.default,{padded:!1,className:(0,o.default)(n,(e={},e[m.default.interactive]=null==a&&null!=i,e[m.default.hiddenSpoiler]=r,e),m.default.card),onClick:null!=i?this.handleClick:null},void 0,l(this.props),this.renderContent(),this.renderFooter())},r}(a.Component);S.displayName="NewsCard",S.defaultProps={renderAsset:function(e){var t=e.news,n=e.application,r=e.onShare,a=e.autoPlay,o=e.shouldAnimate,i=t.thumbnail,l=t.video,d=null!=i?{url:i.url,proxyURL:i.proxy_url,width:i.width,height:i.height}:null,c=null!=l?{url:l.url,width:l.width,height:l.height}:null;return null!=d?_(f.default,{url:d.proxyURL||d.url,width:d.width,height:d.height,hideImage:null!=c,autoPlay:a,shouldAnimate:o},void 0,null!=c?_(u.EmbedVideo,{href:null,className:m.default.video,thumbnail:d,video:c,maxWidth:464,maxHeight:464*c.height/c.width,allowFullScreen:!1,playable:!0}):null,null!=r?_(s.default,{wrapperClassName:m.default.shareButton,size:s.default.Sizes.SMALL,color:m.default.buttonColor,onClick:function(e){r(e,t,n),e.stopPropagation()}},void 0,v.default.Messages.SHARE):null):null}};var T=S;t.default=T,e.exports=t.default},6240:function(e,t,n){e.exports=n.p+"b09888a1a6c74c8bb9af76ee61eb70e7.svg"},6241:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(13)),i=l(n(5439));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.className;return s("div",{className:(0,a.default)(i.default.tag,t)},void 0,s("span",{className:i.default.text},void 0,o.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD))};u.displayName="FirstOnDiscordTag";var d=u;t.default=d,e.exports=t.default},6242:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(13)),i=l(n(5440));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.className;return s("div",{className:(0,a.default)(i.default.tag,t)},void 0,s("span",{className:i.default.text},void 0,o.default.Messages.APPLICATION_STORE_THE_GAME_AWARDS_WINNER))};u.displayName="TheGameAwardsTag";var d=u;t.default=d,e.exports=t.default},6243:function(e,t,n){"use strict";t.__esModule=!0,t.default=h,t.OperatingSystemSection=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=c(n(17)),i=c(n(301)),l=c(n(437)),s=n(0),u=c(n(13)),d=c(n(5442));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=((r={})[s.OperatingSystems.WINDOWS]={iconName:i.default.Names.OS_WINDOWS,label:u.default.Messages.WINDOWS},r[s.OperatingSystems.MACOS]={iconName:i.default.Names.OS_MAC,label:u.default.Messages.MACOS},r[s.OperatingSystems.LINUX]={iconName:i.default.Names.OS_LINUX,label:u.default.Messages.LINUX},r);function h(e){var t=e.operatingSystem,n=e.className,r=p[t];if(null==r)throw new Error("Unexpected operating system: "+t);return f(l.default,{text:r.label,className:n},void 0,f(i.default,{name:r.iconName}))}h.displayName="OperatingSystemIcon";var v=function(e){var t=e.systems,n=e.className,r=e.iconClassName;return f("div",{className:(0,o.default)(d.default.OSSection,n)},void 0,t.map(function(e){return f(h,{operatingSystem:e,className:(0,o.default)(d.default.purchaseUnitOperatingSystem,r)},e)}))};t.OperatingSystemSection=v,v.displayName="OperatingSystemSection"},6244:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(12)),a=d(n(14)),o=n(489),i=d(n(456)),l=d(n(112)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(){}var f=function(){return[u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_01,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_02,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_03,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_04,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_05,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_06,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_07,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_08,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_09,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_10,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_11,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_12,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_13,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_14,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_15,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_16,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_17,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_18,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_19,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_20,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_21,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_22,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_23,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_24,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_25,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_26,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_27,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_28,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_29,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_30,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_31,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_32,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_33,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_34,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_35,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_36,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_37,u.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_38]};function p(e){var t=f();return t[l.default.extractTimestamp(e)%t.length]}var h={stringify:function(e){var t=e.mentions[0]&&a.default.getUser(e.mentions[0].id),n=e.channel_id,l=i.default.getName(null,n,e.author);switch(e.type){case s.MessageTypes.RECIPIENT_ADD:if(!t)return;return(0,o.astToString)(u.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:l,usernameOnClick:c,otherUsername:i.default.getName(null,n,t),otherUsernameOnClick:c},!1));case s.MessageTypes.RECIPIENT_REMOVE:if(!t)return;return e.author.id===t.id?(0,o.astToString)(u.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:l,usernameOnClick:c},!1)):(0,o.astToString)(u.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:l,usernameOnClick:c,otherUsername:i.default.getName(null,n,t),otherUsernameOnClick:c},!1));case s.MessageTypes.CALL:var d=e.call;return d&&-1===d.participants.indexOf(r.default.getId())?(0,o.astToString)(u.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:l,usernameOnClick:c},!1)):void 0;case s.MessageTypes.CHANNEL_NAME_CHANGE:return(0,o.astToString)(u.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:l,usernameOnClick:c,channelName:e.content},!1));case s.MessageTypes.CHANNEL_ICON_CHANGE:return(0,o.astToString)(u.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:l,usernameOnClick:c},!1));case s.MessageTypes.CHANNEL_PINNED_MESSAGE:return(0,o.astToString)(u.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA.format({username:l,usernameOnClick:c},!1));case s.MessageTypes.USER_JOIN:var f=p(e.id);return(0,o.astToString)(f.format({username:l,usernameOnClick:c},!1));default:return e.content}},getSystemMessageUserJoin:p};t.default=h,e.exports=t.default},6245:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=function(){return d.apply(this,arguments)};var r=l(n(8)),a=l(n(1)),o=l(n(325)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}var u=216e5;function d(){var e;return e=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(t=o.default.lastFetched)&&Date.now()-t<u)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,r.default.get({url:i.Endpoints.USER_ACTIVITY_STATISTICS});case 6:n=e.sent,a.default.dispatch({type:i.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:n.body}),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}},e,null,[[3,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}},6246:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(47)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(159)),o=u(n(834)),i=u(n(835)),l=u(n(885)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(e){var t,n,r,u,c;function f(){return e.apply(this,arguments)||this}return n=e,(t=f).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,f.createFromServer=function(e){var t=null!=e.payment_source?o.default.createFromServer(e.payment_source):null,n=null!=e.sku?i.default.createFromServer(e.sku):null,r=null!=e.subscription?l.default.createFromServer(e.subscription):null;return new f({id:e.id,createdAt:new Date(e.created_at),currency:e.currency,tax:e.tax,taxInclusive:e.tax_inclusive,amount:e.amount,amountRefunded:e.amount_refunded,status:e.status,metadata:e.metadata,description:e.description,paymentSource:t,paymentGateway:e.payment_gateway,paymentGatewayPaymentId:e.payment_gateway_payment_id,flags:e.flags,subscription:r,skuId:e.sku_id,skuPrice:e.sku_price,sku:n})},f.prototype.initialize=function(e){this.id=e.id,this.amount=e.amount,this.amountRefunded=e.amountRefunded,this.createdAt=e.createdAt,this.currency=e.currency,this.description=e.description,this.paymentSource=e.paymentSource,this.status=e.status,this.tax=e.tax,this.taxInclusive=e.taxInclusive,this.subscription=e.subscription,this.skuId=e.skuId,this.skuPrice=e.skuPrice,this.sku=e.sku,this.flags=e.flags},r=f,(u=[{key:"isPremiumSubscription",get:function(){return null!=this.subscription&&(null==this.subscription.plan||s.PREMIUM_PLANS.has(this.subscription.plan))}},{key:"isGift",get:function(){return a.hasFlag(this.flags,s.PaymentFlags.GIFT)}},{key:"isPremiumGift",get:function(){return this.isGift&&Object.values(s.PremiumSubscriptionSKUs).includes(this.skuId)}},{key:"isPreorder",get:function(){return a.hasFlag(this.flags,s.PaymentFlags.PREORDER)}}])&&d(r.prototype,u),c&&d(r,c),f}(r.default);t.default=c,e.exports=t.default},6247:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),u=g(n(6)),d=(n(441),g(n(822))),c=g(n(6100)),f=n(863),p=g(n(6586)),h=g(n(6587)),v=g(n(6588)),m=g(n(6193)),y=g(n(13)),_=g(n(5366));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=Object.freeze({CARD_NUMBER:"cardNumber",EXPIRATION_DATE:"expirationDate",CVC:"cvc",NAME:"name"}),O=Object.freeze({MODAL:"modal"}),I=((r={})[T.CARD_NUMBER]={name:T.CARD_NUMBER,title:function(){return y.default.Messages.CREDIT_CARD_NUMBER},autoComplete:"cc-number",placeholder:function(){return y.default.Messages.PAYMENT_SOURCE_CARD_NUMBER},pattern:"\\d*",getClassNameForLayout:function(){return _.default.width100},renderInput:function(e,t){return s.createElement(h.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)},flipped:t.codeFocused,autoFocus:!0}))}},r[T.EXPIRATION_DATE]={name:T.EXPIRATION_DATE,title:function(){return y.default.Messages.CREDIT_CARD_EXPIRATION_DATE},autoComplete:"cc-exp",placeholder:function(){return y.default.Messages.PAYMENT_SOURCE_EXPIRATION_DATE_PLACEHOLDER},pattern:"\\d*",getClassNameForLayout:function(){return _.default.width50},renderInput:function(e,t){return s.createElement(v.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r[T.CVC]={name:T.CVC,title:function(){return y.default.Messages.CREDIT_CARD_CVC},autoComplete:"cc-csc",placeholder:function(){return y.default.Messages.CREDIT_CARD_SECURITY_CODE},pattern:"\\d*",getClassNameForLayout:function(){return _.default.width50},renderInput:function(e,t){return s.createElement(p.default,S({},e,{cardType:t.cardType,inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r[T.NAME]={name:T.NAME,title:function(){return y.default.Messages.CREDIT_CARD_NAME_ON_CARD},autoComplete:"cc-name",placeholder:function(){return y.default.Messages.CREDIT_CARD_NAME},getClassNameForLayout:function(){return _.default.width100},renderInput:function(e,t){return s.createElement(d.default,S({},e,{inputRef:function(n){return t.setInputRef(e.name,n)}}))}},r),C=((a={})[O.MODAL]=[{fields:[I[T.CARD_NUMBER]]},{fields:[I[T.EXPIRATION_DATE],I[T.CVC]]},{fields:[I[T.NAME]]}],a),N=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this).state={codeFocused:!1,values:(t={},t[T.CARD_NUMBER]=n.props[T.CARD_NUMBER],t[T.EXPIRATION_DATE]=n.props[T.EXPIRATION_DATE],t[T.CVC]=n.props[T.CVC],t[T.NAME]=n.props[T.NAME],t),dirtyFields:{},errors:{}},n._refs={},n.setRef=function(e,t){n._refs[e]=t},n.handleFieldBlur=function(e,t){var r={errors:n.validateForm(!0)};t===T.CVC&&(r.codeFocused=!1),n.setState(r)},n.handleFieldFocus=function(e,t){t===T.CVC&&n.setState({codeFocused:!0})},n.handleFieldChange=function(e,t,r){var a,o;if(void 0===r&&(r=!1),null==t)throw new Error("You must provide a name for the field.");var i=n.state,l=i.values,s=i.dirtyFields,u=i.errors;delete u[t],n.setState({values:S({},l,(a={},a[t]=e,a)),dirtyFields:S({},s,(o={},o[t]=!0,o)),errors:u},function(){if(r){if(null==t)throw new Error("You must provide a name for the field.");var e=n.getNextFieldName(t);null!=e&&null!=n._refs[e]&&n._refs[e].focus()}})},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.ensureStripeIsLoaded)();case 2:l=e.sent,this.handleInfoChange();case 4:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){E(o,r,a,i,l,"next",e)}function l(e){E(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),a.componentDidUpdate=function(e,t){this.state!==t&&this.handleInfoChange()},a.getNextFieldName=function(e){var t=this.props.layout,n=C[t],r=(0,u.default)(n).flatMap(function(e){return e.fields}).map(function(e){return e.name}).value(),a=r.indexOf(e);return-1===a||a===r.length-1?null:r[a+1]},a.validateForm=function(e){if(null==l)return{};var t=this.state,n=t.values,r=t.dirtyFields,a={};return e&&!r[T.CARD_NUMBER]||(n[T.CARD_NUMBER]?l.card.validateCardNumber(n[T.CARD_NUMBER])||(a[T.CARD_NUMBER]=y.default.Messages.CREDIT_CARD_ERROR_NUMBER):a[T.CARD_NUMBER]=y.default.Messages.CREDIT_CARD_ERROR_REQUIRED),e&&!r[T.EXPIRATION_DATE]||l.card.validateExpiry(n[T.EXPIRATION_DATE])||(a[T.EXPIRATION_DATE]=y.default.Messages.CREDIT_CARD_ERROR_EXPIRATION),e&&!r[T.CVC]||l.card.validateCVC(n[T.CVC])||(a[T.CVC]=y.default.Messages.CREDIT_CARD_ERROR_SECURITY_CODE),e&&!r[T.NAME]||n[T.NAME]||(a[T.NAME]=y.default.Messages.PAYMENT_SOURCE_NAME_ERROR_REQUIRED),a},a.handleInfoChange=function(){var e=this.state.values,t=this.validateForm(!1);this.props.onCardInfoChange(e,0===Object.keys(t).length)},a.render=function(){var e=this.props,t=e.layout,n=e.error,r=e.className,a=this.state,o=a.errors,l=a.codeFocused,s=a.values,u=C[t];if(null==u)throw new Error("Provide a proper layout property.");var d=c.default.getCreditCardType(s[T.CARD_NUMBER]);return function(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(m.default,{className:r,form:u,layout:t,values:s,errors:o,formError:n,onFieldChange:this.handleFieldChange,onFieldBlur:this.handleFieldBlur,onFieldFocus:this.handleFieldFocus,codeFocused:l,cardType:d,setInputRef:this.setRef})},r}(s.PureComponent);N.displayName="CardInfoForm",N.Layouts=O,N.defaultProps=((o={})[T.CARD_NUMBER]="",o[T.EXPIRATION_DATE]="",o[T.CVC]="",o[T.NAME]="",o.layout=O.MODAL,o);var A=N;t.default=A,e.exports=t.default},6248:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(124)),i=p(n(148)),l=p(n(6016)),s=n(823),u=p(n(6589)),d=n(0),c=p(n(13)),f=p(n(5454));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=[{type:d.PaymentSourceTypes.CARD,text:function(){return c.default.Messages.PAYMENT_SOURCE_CREDIT_CARD},iconType:l.default.Types.UNKNOWN},{type:d.PaymentSourceTypes.PAYPAL,text:function(){return c.default.Messages.PAYMENT_SOURCE_PAYPAL},iconType:l.default.Types.PAYPAL}],m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.onChooseType,n=e.className,r=e.onPaymentSourceReceived,a=e.allowStripeRequestPayments,d=a?h(u.default,{className:f.default.button,iconClassName:f.default.buttonIcon,paymentLabel:c.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_LABEL,onSourceReceived:r,onChooseType:t}):null,p=a?f.default.vertical:f.default.horizonal,m=a?i.default.Direction.VERTICAL:i.default.Direction.HORIZONTAL,y=v.map(function(e){return h(o.default,{onClick:function(){return t(e.type)},className:f.default.button},e.type,h(i.default,{align:i.default.Align.CENTER},void 0,h(l.default,{className:f.default.buttonIcon,type:e.iconType}),e.text()))});return h(s.FormSection,{title:c.default.Messages.PAYMENT_SOURCE_TYPE_SELECT,className:n},void 0,h(i.default,{className:p,direction:m},void 0,y,d))},r}(a.PureComponent);m.displayName="ChoosePaymentSourceType";var y=m;t.default=y,e.exports=t.default},6249:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(3)),i=v(n(866)),l=h(n(874)),s=h(n(6068)),u=h(n(6016)),d=h(n(822)),c=h(n(829)),f=h(n(13)),p=h(n(5456));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){null!=this.props.paypalClient&&i.tokenizePayPal()},a.componentWillUnmount=function(){i.teardown().then(function(){return i.createPayPalClient()})},a.render=function(){var e=this.props,t=e.braintreeEmail,n=e.className,r=e.paypalClient;return m(c.default,{className:n,title:f.default.Messages.PAYMENT_SOURCE_PAYPAL_ACCOUNT},void 0,m("div",{className:p.default.inputWrapper},void 0,m(u.default,{type:u.default.Types.PAYPAL,className:p.default.paypalIcon}),m(d.default,{value:t,editable:!1,readOnly:!0,placeholder:null==r?f.default.Messages.PAYMENT_SOURCE_PAYPAL_LOADING:f.default.Messages.PAYMENT_SOURCE_CONFIRM_PAYPAL_DETAILS,inputClassName:p.default.paypalInput})))},r}(a.PureComponent);y.displayName="PaypalConnector";var _=o.default.connectStores([l.default,s.default],function(){return{braintreeEmail:s.default.braintreeEmail,paypalClient:l.default.getPayPalClient()}})(y);t.default=_,e.exports=t.default},6250:function(e,t,n){"use strict";t.__esModule=!0,t.PaymentRequestStepBody=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=d(n(17)),o=(n(6194),d(n(6016))),i=d(n(822)),l=d(n(829)),s=d(n(13)),u=d(n(5458));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n=e.className,r=e.submitting,d=(e.stripePaymentSource||{}).card,f=d?o.default.getType(d.brand):o.default.Types.UNKNOWN;return c(l.default,{className:n,title:s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_TITLE},void 0,c("div",{className:u.default.cardNumberWrapper},void 0,c(o.default,{className:(0,a.default)(u.default.cardIcon,(t={},t[u.default.submitting]=r,t)),type:f}),c(i.default,{value:r&&d?s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_CREATING.format(d):null,editable:!1,readOnly:!0,placeholder:s.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_INFO_LOADING,inputClassName:u.default.cardNumberInput})))};t.PaymentRequestStepBody=f,f.displayName="PaymentRequestStepBody"},6251:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(47))&&r.__esModule?r:{default:r},o=n(127);var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.createFromServer=function(e){return new r({id:e.id,heroItems:e.hero_items.map(function(e){return{skuId:e.sku_id,url:e.url,title:e.title,header:e.header,description:e.description,buttonLabel:e.button_label,thumbnail:null!=e.thumbnail?(0,o.transformStoreAssetFromServer)(e.thumbnail):null,previewVideo:null!=e.preview_video?(0,o.transformStoreAssetFromServer)(e.preview_video):null,fullVideo:null!=e.full_video?(0,o.transformStoreAssetFromServer)(e.full_video):null,paginationImage:null!=e.pagination_image?(0,o.transformStoreAssetFromServer)(e.pagination_image):null,background:null!=e.background?(0,o.transformStoreAssetFromServer)(e.background):null}}).filter(Boolean),premiumSkuIds:e.featured_premium_skus,recommendedSkuIds:null!=e.recommended_skus&&e.recommended_skus.length>0?e.recommended_skus:null,categories:null!=e.categories&&e.categories.length>0?e.categories.map(function(e){return{name:e.name,skuIds:e.skus}}):null,allSkuIds:e.all_skus})},r.prototype.initialize=function(e){this.id=e.id,this.heroItems=e.heroItems,this.premiumSkuIds=e.premiumSkuIds,this.recommendedSkuIds=e.recommendedSkuIds,this.categories=e.categories,this.allSkuIds=e.allSkuIds},r}(a.default);t.default=i,e.exports=t.default},6252:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=u(n(71)),i=u(n(28)),l=u(n(14)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d={notClaimed:!1,notEmailVerified:!1,notPhoneVerified:!1,newAccount:!1,newMember:!1,canChat:!0},c={};function f(e){p(e);var t=i.default.getGuild(e),n=l.default.getCurrentUser();if(null!=t&&t.verificationLevel!==s.VerificationLevels.NONE&&!t.isOwner(n)){var r=o.default.getMember(t.id,n.id);if(!(null!=r&&r.roles.length>0)){var u=+n.createdAt+6e4*s.VerificationCriteria.ACCOUNT_AGE-Date.now(),d=+t.joinedAt+6e4*s.VerificationCriteria.MEMBER_AGE-Date.now(),f=t.verificationLevel>=s.VerificationLevels.LOW&&!n.isClaimed(),h=!1,v=!1,m=!1,y=!1;n.isPhoneVerified()||(h=t.verificationLevel>=s.VerificationLevels.LOW&&!n.verified,v=t.verificationLevel>=s.VerificationLevels.VERY_HIGH,m=t.verificationLevel>=s.VerificationLevels.MEDIUM&&u>0,y=t.verificationLevel>=s.VerificationLevels.HIGH&&d>0);var _,g=[];y&&g.push(d),m&&g.push(u),g.length&&(_=setTimeout(function(){return a.default.dispatch({type:s.ActionTypes.GUILD_VERIFICATION_CHECK,guildId:e})},Math.max.apply(Math,g))),c[e]={notClaimed:f,notEmailVerified:h,notPhoneVerified:v,newAccount:m,newMember:y,canChat:!(f||h||v||m||y),accountDeadline:new Date(Date.now()+u),memberDeadline:new Date(Date.now()+d),timeoutRef:_}}}}function p(e){var t=c[e];null!=t&&clearTimeout(t.timeoutRef),delete c[e]}function h(e){f(e.guild.id)}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(i.default,l.default)},a.getCheck=function(e){return c[e]||d},a.canChatInGuild=function(e){return(c[e]||d).canChat},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){Object.keys(c).forEach(p),e.guilds.forEach(function(e){return f(e.id)})},CONNECTION_CLOSED:function(e){Object.keys(c).forEach(p)},CURRENT_USER_UPDATE:function(e){Object.keys(c).forEach(f)},GUILD_CREATE:h,GUILD_UPDATE:h,GUILD_DELETE:function(e){p(e.guild.id)},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId;if(e.user.id!==l.default.getCurrentUser().id)return!1;f(t)},GUILD_VERIFICATION_CHECK:function(e){f(e.guildId)}});t.default=v,e.exports=t.default},6253:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(6));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this._interval=setInterval(function(){return e.forceUpdate()},1e3)},a.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)},a.render=function(){var e;if(this.props.deadline===1/0)e="∞";else{var t=Math.max(0,this.props.deadline-Date.now())/1e3,n=[Math.floor(t/86400),Math.floor((t%=86400)/3600),Math.floor((t%=3600)/60),Math.floor(t%60)];if(0===n[0])n.shift();else if(!this.props.showDays){var r=n.shift();n[0]+=24*r}e=(0,i.default)(n).map(function(e){return e<10?"0"+e:e}).map(function(e,t){return[t>0?":":null,s("span",{className:"ui-countdown-number"},t,e)]}).flatten().value()}return s("span",{className:(0,o.default)("ui-countdown",{"ui-countdown-never":this.props.deadline===1/0})},void 0,e)},r}(a.PureComponent);u.displayName="Countdown",u.defaultProps={showDays:!0};var d=u;t.default=d,e.exports=t.default},6254:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=o.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",s=o.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json",u={checkIncidents:function(){Promise.all([r.default.get(l+"/active.json"),r.default.get(s)]).then(function(e){var t=e[0],n=e[1],r=t.body.scheduled_maintenances[0],i=n.body.incidents[0];a.default.dispatch({type:o.ActionTypes.STATUS_PAGE_INCIDENT,incident:i||r})})},checkScheduledMaintenances:function(){r.default.get(l+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];a.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){a.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}};t.default=u,e.exports=t.default},6258:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(219)),l=c(n(6121)),s=c(n(13)),u=c(n(5365)),d=c(n(5466));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderQuery=function(e){var t,n=this.props,r=n.query,a=n.focusedIndex,c=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:f(i.default,{className:(0,o.default)(d.default.queryContainer,(t={},t[d.default.focused]=-1===a,t)),onMouseEnter:p,onClick:c},void 0,f("div",{className:d.default.queryText},void 0,s.default.Messages.SEARCH_FOR_VALUE.format({value:r})),f("div",{className:d.default.queryShortcut},void 0,f(l.default,{shortcut:"return",className:(0,o.default)(u.default.dim,u.default.keybindShortcutSearchPopout)})))},a.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,a=t.renderInitialState,o=t.renderResult,i=t.renderCustomResults;if(e)return a();if(0===n)return r();if(null!=o)return Array.from({length:n}).map(function(e,t){return o(t)});if(null!=i)return i();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},a.render=function(){var e=this.props,t=e.query,n=e.width,r=""===t.trim();return f("div",{className:d.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(r),this.renderResults(r))},r}(a.PureComponent);h.displayName="SearchResultsPopout",h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320};var v=h;t.default=v,e.exports=t.default},6259:function(e,t,n){"use strict";t.__esModule=!0,t.updateLocation=function(e){a.default.wait(function(){return a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_LOCATION_CHANGE,location:e})})},t.handleDirectoryUnmount=function(e,t){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMOUNT,scrollTop:e,directoryLocation:t})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},6260:function(e,t,n){"use strict";t.__esModule=!0,t.loadLayout=function(e){return f.apply(this,arguments)},t.loadDirectory=function(e){return p.apply(this,arguments)},t.setHideLibraryGames=function(e){a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SET_HIDE_LIBRARY,hidden:e})},t.updateSearchTerm=function(e){a.default.wait(function(){return a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SET_SEARCH_QUERY,query:e})})},t.saveFilters=function(e){a.default.wait(function(){return a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SAVE_FILTERS,filters:e})})},t.clearStoreData=function(){a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_CLEAR_DATA})};var r=u(n(8)),a=u(n(1)),o=u(n(190)),i=u(n(6251)),l=n(127),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){d(o,r,a,i,l,"next",e)}function l(e){d(o,r,a,i,l,"throw",e)}i(void 0)})}}function f(){return(f=c(regeneratorRuntime.mark(function e(t){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START,layoutId:t}),e.next=3,r.default.get(s.Endpoints.STORE_DIRECTORY_LAYOUT(t));case 3:return n=e.sent,o=i.default.createFromServer(n.body),a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS,directoryLayout:o}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(){return(p=c(regeneratorRuntime.mark(function e(t){var n,r,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,l.httpGetWithCountryCodeQuery)(s.Endpoints.STORE_DIRECTORY(t));case 3:n=e.sent,r=n.body,u=n.body.store_listings,a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS,directoryLayout:i.default.createFromServer(r),storeListings:u}),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),a.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_FAILURE,layoutId:t}),new o.default(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}},6261:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(17)),i=E(n(3)),l=S(n(302)),s=E(n(86)),u=E(n(151)),d=E(n(176)),c=E(n(148)),f=E(n(44)),p=n(316),h=E(n(6131)),v=E(n(6627)),m=n(0),y=E(n(13)),_=E(n(5536)),g=E(n(5537));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=(0,p.cssValueToNumber)(_.default.mediaQueryMobileHeader),C=function(e){var t=d.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).analyticsPropsForTile=function(e){var n=t.props,r=n.analyticsSort,a=n.viewConfig;return{listIndex:e+n.analyticsIndexOffset,listSort:null!=r?r:null,listSearched:null!=a&&Boolean(a.titleQuery)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getFilteredSkuIds=function(e,t){if(null==e)return t;var n=e.titleQuery,r=e.hideApplicationsInUserLibrary,a=e.genre,o=e.premiumOnly,i=t;return null!=a&&a!==m.StoreApplicationGenresFilter.ALL&&(i=i.filter(function(e){var t=C(e);return null!=t.genres&&t.genres.has(a)})),null!=n&&(i=i.filter(function(e){var t=C(e);return null!=t&&t.name.toLowerCase().includes(n.toLowerCase())})),r&&(i=i.filter(function(e){var t=C(e);return!s.default.hasApplication(t.applicationId,t.applicationId,!0)})),o&&(i=i.filter(function(e){return C(e).premium})),i},i.handleTileContextMenu=function(e,t){l.openContextMenu(e,function(e){return a.createElement(h.default,O({},e,{type:m.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},i.renderEmptyState=function(){return T("div",{className:this.props.className},void 0,T("div",{className:g.default.emptyWumpus}),T("h1",{className:g.default.noMatches},void 0,y.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),T("div",{className:g.default.noMatchesDescription},void 0,y.default.Messages.APPLICATION_STORE_SEARCH_EMPTY.format({goToGuildDiscovery:function(){return f.default.transitionTo(m.Routes.GUILD_DISCOVERY)}})))},i.render=function(){var e=this,t=this.props,n=t.skuIds,r=t.className,i=t.viewConfig,l=t.maxTiles,s=t.onSKUViewed,u=t.tileDisplayType,d=t.tileClassName,f=t.wrap,p=this.getFilteredSkuIds(i,n);if(0===p.length||0===l)return this.renderEmptyState();var h=null!=l?p.slice(0,l):p;return T("div",{className:r},void 0,T(c.default,{wrap:f?c.default.Wrap.WRAP:c.default.Wrap.NO_WRAP},void 0,h.map(function(t,n){var r=e.analyticsPropsForTile(n);return a.createElement(v.default,O({key:t,skuId:t},r,{type:u,className:(0,o.default)(g.default.tile,d),onSKUViewed:s,onContextMenu:e.handleTileContextMenu}))})))},r}(a.Component);N.displayName="ApplicationDirectoryTileLayout",N.defaultProps={analyticsIndexOffset:0,tileDisplayType:m.StoreDirectoryTileTypes.BOX_ART,wrap:!0};var A=i.default.connectStores([u.default],function(){return{isSmallResolution:u.default.windowSize().width<I}})(N);t.default=A,e.exports=t.default},6262:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return(0,i.default)(function(t){var n,i;function h(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).handleApplicationContextMenu=function(t,n,a){var i=e.props.analyticsContext;(0,o.openContextMenu)(t,function(e){return r.createElement(u.default,v({},e,{type:p.ContextMenuTypes.APPLICATION_ACTIVITY_FEED,applicationId:n.id,analyticsContext:i}))},{onClose:a})},e}i=t,(n=h).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var m=h.prototype;return m.render=function(){return r.createElement(e,v({},this.props,{onMessageUser:this.handleMessageUser,onUserContextMenu:this.handleUserContextMenu,onGuildContextMenu:this.handleGuildContextMenu,onApplicationContextMenu:this.handleApplicationContextMenu,onChannelContextMenu:this.handleChannelContextMenu}))},m.handleMessageUser=function(e,t){return a.default.openPrivateChannel(l.default.getId(),t.id)},m.handleUserContextMenu=function(e,t,n,a){void 0===n&&(n=p.ContextMenuTypes.USER_GENERIC_LIST),(0,o.openContextMenu)(e,function(e){return r.createElement(f.default,v({},e,{type:n,user:t}))},{onClose:a})},m.handleGuildContextMenu=function(e,t){(0,o.openContextMenu)(e,function(e){return r.createElement(c.default,v({},e,{type:p.ContextMenuTypes.GUILD_ACTIVITY_FEED,guild:t}))})},m.handleChannelContextMenu=function(e,t){if(null==t)return null;var n=s.default.getGuild(t.getGuildId());(0,o.openContextMenu)(e,function(e){return r.createElement(d.default,v({},e,{type:p.ContextMenuTypes.CHANNEL_ACTIVITY_FEED_VOICE,channel:t,guild:n}))})},h}(r.Component))};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=h(n(443)),o=n(302),i=h(n(5993)),l=h(n(12)),s=h(n(28)),u=h(n(6131)),d=h(n(6049)),c=h(n(6122)),f=h(n(5358)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}e.exports=t.default},6263:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(6)),a=c(n(3)),o=c(n(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6264)),l=n(126),s=c(n(71)),u=c(n(28)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=[d.Permissions.KICK_MEMBERS,d.Permissions.BAN_MEMBERS,d.Permissions.ADMINISTRATOR,d.Permissions.MANAGE_CHANNELS,d.Permissions.MANAGE_GUILD,d.Permissions.MANAGE_NICKNAMES,d.Permissions.MANAGE_ROLES,d.Permissions.MANAGE_WEBHOOKS,d.Permissions.MANAGE_EMOJIS,d.Permissions.MUTE_MEMBERS,d.Permissions.DEAFEN_MEMBERS],h=null,v=[],m=[],y=[],_=!0,g=!1,E=!1,S=!0,T=!1,O=null,I=d.AuditLogActions.ALL,C={},N=0;function A(e){var t=[],n=0;return e.reverse().forEach(function(e){var r=[],a=null,o=null;if(null!=e.reason&&r.push(new i.AuditLogChange(d.AuditLogChangeKeys.REASON,null,e.reason)),e.changes&&e.changes.forEach(function(e){var t=new i.AuditLogChange(e.key,e.old_value,e.new_value);r.push(t),t.key===d.AuditLogChangeKeys.NAME?a=t:t.key===d.AuditLogChangeKeys.TYPE&&(o=t)}),e.action_type===d.AuditLogActions.MEMBER_PRUNE){var s=null!=e&&null!=e.options&&null!=e.options.delete_member_days?e.options.delete_member_days:1,u=new i.AuditLogChange(d.AuditLogChangeKeys.PRUNE_DELETE_DAYS,null,s);r.push(u)}var c=new i.default({id:e.id,action:e.action_type,targetId:e.target_id,userId:e.user_id,changes:r,options:e.options,guildId:h}),f=t[0];if(function(e,t,n,r,a){return void 0===r&&(r=30),void 0===a&&(a=50),null!=e&&e.action===t.action&&e.targetId===t.targetId&&e.userId===t.userId&&t.timestampStart.diff(e.timestampStart,"minutes")<r&&n<a&&t.targetType!==d.AuditLogTargetTypes.INVITE&&t.action!==d.AuditLogActions.MESSAGE_DELETE}(f,c,n))return t[0]=f.merge({changes:[].concat(f.changes,c.changes),timestampEnd:c.timestampStart}),void n++;if(c.actionType===d.AuditLogActionTypes.DELETE&&null!=a){var p,v=a.oldValue;if(c.targetType===d.AuditLogTargetTypes.CHANNEL&&null!==o&&(0,l.isGuildSelectableChannelType)(o.oldValue)&&(v="#"+v),null==C[c.targetType])C[c.targetType]=((p={})[c.targetId]=v,p);else C[c.targetType][c.targetId]=v}n=0,t.unshift(c)}),t}function M(e){if(e.section!==d.GuildSettingsSections.AUDIT_LOG)return!1;var t=s.default.getMembers(h),n=u.default.getGuild(h);m=(0,r.default)(t).filter(function(e){return e.roles.some(function(t){if(null!=n){if(e.userId===n.ownerId)return!0;var r=n.roles[t];return null!=r&&p.some(function(e){return e&r.permissions})}})}).map(function(e){return e.userId}).value()}var P=new(function(e){var t,n,r,a,o;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r=i,(a=[{key:"logs",get:function(){return v}},{key:"webhooks",get:function(){return y}},{key:"isInitialLoading",get:function(){return _}},{key:"isLoading",get:function(){return g}},{key:"isLoadingNextPage",get:function(){return E}},{key:"hasOlderLogs",get:function(){return S}},{key:"hasError",get:function(){return T}},{key:"userIds",get:function(){return m}},{key:"userIdFilter",get:function(){return O}},{key:"actionFilter",get:function(){return I}},{key:"deletedTargets",get:function(){return C}},{key:"groupedFetchCount",get:function(){return N}}])&&f(r.prototype,a),o&&f(r,o),i}(a.default.Store))(o.default,{AUDIT_LOG_FETCH_START:function(e){g=!0},AUDIT_LOG_FETCH_SUCCESS:function(e){var t=e.logs,n=e.webhooks;N=0,_=!1,g=!1,S=!0,T=!1,v=A(t),y=n,t.length<d.AUDIT_LOG_PAGE_LIMIT&&(S=!1)},AUDIT_LOG_FETCH_FAIL:function(e){return g=!1,T=!0,void(v=[])},AUDIT_LOG_FETCH_NEXT_PAGE_START:function(e){var t=e.isGroupedFetch;E=!0,t&&N++},AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS:function(e){var t=e.logs,n=e.webhooks;if(E=!1,y=n,(0===t.length||t.length<d.AUDIT_LOG_PAGE_LIMIT)&&(S=!1),t.length>0){var r=A(t);v=[].concat(v,r)}},AUDIT_LOG_FETCH_NEXT_PAGE_FAIL:function(e){E=!1},AUDIT_LOG_FILTER_BY_ACTION:function(e){var t=e.action;I=t},AUDIT_LOG_FILTER_BY_USER:function(e){var t=e.userId;O=t},GUILD_SETTINGS_SET_SECTION:M,GUILD_SETTINGS_INIT:function(e){var t=e.guildId,n=e.section;return h=t,M({section:n})},GUILD_SETTINGS_CLOSE:function(e){return v=[],m=[],I=d.AuditLogActions.ALL,O=null,C={},N=0,_=!0,void(y=[])}});t.default=P,e.exports=t.default},6264:function(e,t,n){"use strict";t.__esModule=!0,t.getTargetType=s,t.getActionType=u,t.default=t.AuditLogChange=void 0;var r=l(n(4)),a=l(n(47)),o=l(n(112)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e===i.AuditLogActions.ALL)return i.AuditLogTargetTypes.ALL;if(e<=i.AuditLogActions.GUILD_UPDATE)return i.AuditLogTargetTypes.GUILD;if(e<=i.AuditLogActions.CHANNEL_OVERWRITE_DELETE)return i.AuditLogTargetTypes.CHANNEL;if(e<=i.AuditLogActions.MEMBER_ROLE_UPDATE||e===i.AuditLogActions.MESSAGE_DELETE)return i.AuditLogTargetTypes.USER;if(e<=i.AuditLogActions.ROLE_DELETE)return i.AuditLogTargetTypes.ROLE;if(e<=i.AuditLogActions.INVITE_DELETE)return i.AuditLogTargetTypes.INVITE;if(e<=i.AuditLogActions.WEBHOOK_DELETE)return i.AuditLogTargetTypes.WEBHOOK;if(e<=i.AuditLogActions.EMOJI_DELETE)return i.AuditLogTargetTypes.EMOJI;throw new Error("[AuditLogRecord] Unknown target type for: "+e)}function u(e){switch(e){case i.AuditLogActions.CHANNEL_CREATE:case i.AuditLogActions.CHANNEL_OVERWRITE_CREATE:case i.AuditLogActions.MEMBER_BAN_REMOVE:case i.AuditLogActions.ROLE_CREATE:case i.AuditLogActions.INVITE_CREATE:case i.AuditLogActions.WEBHOOK_CREATE:case i.AuditLogActions.EMOJI_CREATE:return i.AuditLogActionTypes.CREATE;case i.AuditLogActions.CHANNEL_DELETE:case i.AuditLogActions.CHANNEL_OVERWRITE_DELETE:case i.AuditLogActions.MEMBER_KICK:case i.AuditLogActions.MEMBER_PRUNE:case i.AuditLogActions.MEMBER_BAN_ADD:case i.AuditLogActions.ROLE_DELETE:case i.AuditLogActions.INVITE_DELETE:case i.AuditLogActions.WEBHOOK_DELETE:case i.AuditLogActions.EMOJI_DELETE:case i.AuditLogActions.MESSAGE_DELETE:return i.AuditLogActionTypes.DELETE;case i.AuditLogActions.GUILD_UPDATE:case i.AuditLogActions.CHANNEL_UPDATE:case i.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:case i.AuditLogActions.MEMBER_UPDATE:case i.AuditLogActions.MEMBER_ROLE_UPDATE:case i.AuditLogActions.ROLE_UPDATE:case i.AuditLogActions.INVITE_UPDATE:case i.AuditLogActions.WEBHOOK_UPDATE:case i.AuditLogActions.EMOJI_UPDATE:return i.AuditLogActionTypes.UPDATE}return i.AuditLogActionTypes.ALL}t.AuditLogChange=function(e,t,n){this.key=e,this.oldValue=t,this.newValue=n};var d=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.initialize=function(e){this.id=e.id,this.action=e.action,this.actionType=u(this.action),this.targetId=e.targetId,this.timestampStart=e.timestampStart||(0,r.default)(o.default.extractTimestamp(this.id)),this.timestampEnd=e.timestampEnd||this.timestampStart,this.userId=e.userId,this.changes=e.changes||[],this.targetType=s(this.action),this.options=e.options||{},this.target=e.target||e.id,this.user=e.user||null},a}(a.default);t.default=d},6268:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(219)),i=s(n(6026)),l=s(n(5475));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.onMouseLeave,n=e.onMouseEnter,r=e.onClick,s=e.children,d=e.disabled,c=void 0!==d&&d;return u(o.default,{onClick:c?null:r,onMouseEnter:n,onMouseLeave:t,className:(0,a.default)(l.default.wrapper,c?l.default.disabled:l.default.enabled)},void 0,u(i.default,{className:l.default.text,color:c?i.default.Colors.MUTED:i.default.Colors.STANDARD},void 0,s))};d.displayName="OverlayButton";var c=d;t.default=c,e.exports=t.default},6269:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(219)),i=s(n(301)),l=s(n(5872));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.className,n=e.imgSrc,r=e.header,s=e.body,d=e.onClose,c=e.renderButtons;return u("article",{className:(0,a.default)(l.default.wrapper,t)},void 0,null!=n?u("img",{className:l.default.image,alt:"",src:n}):null,null!=r?u("header",{className:l.default.header},void 0,r):null,null!=s?u("p",{className:l.default.body},void 0,s):null,null!=c?u("div",{className:l.default.buttons},void 0,c()):null,null!=d?u(o.default,{className:l.default.close,onClick:d},void 0,u(i.default,{name:i.default.Names.CLOSE,width:18,height:18})):null)};d.displayName="BaseCard";var c=d;t.default=c,e.exports=t.default},6270:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=T(n(2)),o=S(n(6119)),i=S(n(77)),l=n(126),s=S(n(28)),u=S(n(149)),d=S(n(6303)),c=S(n(219)),f=S(n(301)),p=S(n(437)),h=n(6651),v=n(227),m=T(n(6044)),y=S(n(6027)),_=n(0),g=S(n(13)),E=S(n(5367));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleInviteClick=function(){var e=t.props.channel,n=s.default.getGuild(e.getGuildId());i.default.push(y.default,{guild:n,channel:e,source:_.InstantInviteSources.GUILD_CHANNELS})},t.handleEditClick=function(){o.default.open(t.props.channel.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderEditButton=function(){var e=this.props,t=e.channel;return e.disableManageChannels||!u.default.can(_.Permissions.MANAGE_CHANNELS,t)&&!u.default.can(_.Permissions.MANAGE_ROLES,t)&&!u.default.can(_.Permissions.MANAGE_WEBHOOKS,t)||(0,l.isGuildSelectableChannelType)(t.type)&&!u.default.can(_.Permissions.VIEW_CHANNEL,t)||t.type===_.ChannelTypes.GUILD_VOICE&&!u.default.can(_.Permissions.CONNECT,t)?null:O(p.default,{text:g.default.Messages.EDIT_CHANNEL},void 0,O(c.default,{className:E.default.iconItem,onClick:this.handleEditClick},void 0,O(f.default,{name:f.default.Names.GEAR,width:16,height:16,className:E.default.actionIcon})))},a.renderInviteButton=function(){var e=this.props,t=e.channel,n=e.isDefaultChannel,r=e.locked,a=s.default.getGuild(t.getGuildId());if(!r&&(0,v.canViewInviteModal)(a,t)){var o=O(c.default,{onClick:this.handleInviteClick},void 0,O(f.default,{name:f.default.Names.INVITE,className:E.default.actionIcon}));return n&&d.default.shouldShow("instant-invite")&&(o=O(m.default,{tutorialId:"instant-invite",position:m.TutorialIndicatorPositions.LEFT,offsetX:-40,offsetY:-18},void 0,O("div",{},void 0,o))),O(p.default,{text:u.default.can(_.Permissions.CREATE_INSTANT_INVITE,t)?g.default.Messages.CREATE_INSTANT_INVITE:g.default.Messages.INVITE_TO_SERVER},void 0,O("div",{className:E.default.iconItem},void 0,o))}},a.getClassName=function(){var e=this.props,t=e.position,n=e.sortingPosition;return null!=n?t>n?E.default.containerDragAfter:E.default.containerDragBefore:E.default.containerDefault},a.isDisabled=function(){var e=this.props,t=e.channel,n=e.sorting,r=e.sortingType;return n&&!(0,h.areTypesInSameSection)(r,t.type)},r}(a.PureComponent);I.defaultProps={isDefaultChannel:!1};var C=I;t.default=C,e.exports=t.default},6271:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=n(221),l=n(316),s=d(n(13)),u=d(n(5626));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=[18,18,16,16,14,12,10];var h=function(e){var t,n,r,d=e.children,h=e.icon,v=e.name,m=e.className,y=e.style,_=e.selected,g=void 0!==_&&_,E=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","icon","name","className","style","selected"]);return null==h&&null!=v&&(r=function(e){return p[e.length-1]||p[p.length-1]}(n=(0,l.getAcronym)(v))),a.createElement(i.Link,f({},E,{className:(0,o.default)(m,u.default.wrapper),"aria-label":v,style:f({},y,{fontSize:r})}),null!=n?c("div",{className:(0,o.default)((t={},t[u.default.acronym]=!0,t[u.default.selected]=g,t)),"aria-label":s.default.Messages.SERVER_ACRONYM},void 0,n):null,null!=h?c("img",{className:u.default.icon,src:h,alt:s.default.Messages.SERVER_ICON,width:48,height:48}):null,d)};h.displayName="NavItem";var v=h;t.default=v,e.exports=t.default},6272:function(e,t,n){e.exports=n.p+"ffac5bb3fb919ce8bf7137d79e9defc9.mp4"},6273:function(e,t,n){e.exports=n.p+"5ccabf62108d5a8074ddd95af2211727.png"},6274:function(e,t,n){e.exports=n.p+"0bdc0497eb3a19e66f2b1e3d5741634c.webm"},6275:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(3)),i=p(n(6118)),l=(n(441),f(n(834)),f(n(6068))),s=f(n(232)),u=n(6032),d=p(n(6656)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=[u.Steps.REVIEW,u.Steps.CONFIRM],y=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._hasChangedSteps=!1,n.handlePaypalContinue=function(){n.setState({step:u.Steps.PAYPAL_ADDRESS})},n.handleCreditCardContinue=function(){n.setState({step:u.Steps.ADDRESS})},n.handleReviewPaymentSourceChange=function(e,t){if(t){n.setState({step:u.Steps.PAYMENT_TYPE,steps:d.ADD_PAYMENT_STEPS,paymentSourceId:null});var r=n.props.onClearError;r&&r()}else n.setState({paymentSourceId:e.value})},n.handleBack=function(){var e=n.props,t=e.paymentSources,r=e.onClose,a=n.state,o=a.step,l=a.steps,s=n.stepsToRender,c=(0,u.getStepIndex)(o,s);if(c>0){var f=s[c-1],p=f===u.Steps.PAYMENT_TYPE;p&&i.clearError(),n.setState({step:f,steps:p?d.ADD_PAYMENT_STEPS:l})}else if((0,u.canGoBack)(c,t)){var h=n.props.defaultPaymentSourceId;n.setState({step:u.Steps.REVIEW,steps:d.REVIEW_PAYMENT_STEPS,paymentSourceId:h})}else r()},n.handleChoosePaymentType=function(e){switch(e){case c.PaymentSourceTypes.PAYPAL:n.setState({step:u.Steps.PAYPAL,steps:d.ADD_PAYPAL_STEPS});break;case c.PaymentSourceTypes.CARD:n.setState({step:u.Steps.CREDIT_CARD_INFORMATION,steps:d.ADD_CARD_STEPS});break;case c.PaymentSourceTypes.PAYMENT_REQUEST:n.setState({step:u.Steps.PAYMENT_REQUEST_INFO,steps:d.ADD_PAYMENT_REQUEST_STEPS})}},n.handlePaymentSourceAdd=function(e){n.setState({step:u.Steps.REVIEW,paymentSourceId:e})},n.handlePurchase=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){h(o,r,a,i,l,"next",e)}function l(e){h(o,r,a,i,l,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.paymentSources,a=t.onPurchase,o=t.isGift,null!=(i=n.state.paymentSourceId)&&null!=r[i]){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,a(r[i],o);case 7:n.setState({steps:m,step:u.Steps.CONFIRM}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:case"end":return e.stop()}},e,null,[[4,10]])})),n.handleSelectPlan=function(){var e=n.props.paymentSources,t=Object.values(e).length>0;n.setState({step:t?u.Steps.REVIEW:u.Steps.PAYMENT_TYPE})};var r=t.defaultPaymentSourceId,a=t.paymentSources,o=t.initialStep,l=Object.values(a).length>0,s=o;return null==s&&(s=l?u.Steps.REVIEW:u.Steps.PAYMENT_TYPE),n.state={paymentSourceId:r,steps:l?d.REVIEW_PAYMENT_STEPS:d.ADD_PAYMENT_STEPS,step:s,errorStep:null},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,s,f=a.prototype;return f.componentDidUpdate=function(e,t){var n=this.props.onStepChange,r=this.state.step;r!==t.step&&(this._hasChangedSteps=!0,null!=n&&n(t.step,r))},a.getDerivedStateFromProps=function(e,t){var n=e.billingError,r=t.errorStep,a={};if(null==n)null!=r&&(a.errorStep=null);else{var o=(0,u.errorToStep)(n);null!=o&&o!==t.errorStep&&(a.step=o,a.errorStep=o)}return null==t.paymentSourceId&&null!=e.defaultPaymentSourceId&&(a.paymentSourceId=e.defaultPaymentSourceId),a},f.render=function(){var e,t=this,n=this.props,a=n.isPurchasing,o=n.canSubmit,i=n.submitButtonText,l=n.useShinySubmitButton,s=n.legalNotice,c=n.renderHeader,f=n.onPaymentSourceChange,p=n.price,h=n.onClearError,v=n.size,m=n.renderConfirmationBody,y=n.renderConfirmationFooter,_=n.className,g=n.isGift,E=n.isGiftable,S=n.needsToBeGift,T=n.onIsGiftUpdate,O=((e={})[u.Steps.CONFIRM]={renderBody:m,renderFooter:y},e[u.Steps.SELECT_PLAN]={renderBody:function(){return t.props.renderSelectPlanBody(t.handleSelectPlan)},renderFooter:function(){return t.props.renderSelectPlanFooter()}},e),I=this.state,C=I.step,N=I.paymentSourceId,A=this.stepsToRender;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{className:_,isPurchasing:a,canSubmit:o,submitButtonText:i,useShinySubmitButton:l,legalNotice:s,renderHeader:c,onPaymentSourceChange:f,price:p,onClearError:h,size:v,extraRenderers:O,step:C,steps:A,paymentSourceId:N,isGiftable:E,isGift:g,needsToBeGift:S,onIsGiftUpdate:T,onBack:this.handleBack,onChoosePaymentType:this.handleChoosePaymentType,onCreditCardContinue:this.handleCreditCardContinue,onPaymentSourceAdd:this.handlePaymentSourceAdd,onPurchase:this.handlePurchase,onPaypalContinue:this.handlePaypalContinue,onReviewPaymentSourceChange:this.handleReviewPaymentSourceChange})},o=a,(l=[{key:"stepsToRender",get:function(){var e=this.props.prependSteps,t=this.state.steps;return null!=e?[].concat(e,t):t}},{key:"closable",get:function(){var e=this.state.step;return 0===(0,u.getStepIndex)(e,this.stepsToRender)||!this._hasChangedSteps}}])&&v(o.prototype,l),s&&v(o,s),a}(a.Component);y.displayName="PaymentModal",y.defaultProps={useShinySubmitButton:!1,needsToBeGift:!1,isGiftable:!1,isGift:!1,renderConfirmationBody:c.NOOP_NULL,renderConfirmationFooter:c.NOOP_NULL,renderSelectPlanBody:c.NOOP_NULL,renderSelectPlanFooter:c.NOOP_NULL};var _=o.default.connectStores([s.default,l.default],function(){return{paymentSources:s.default.paymentSources,defaultPaymentSourceId:s.default.defaultPaymentSourceId,billingError:l.default.error}})(y);t.default=_,e.exports=t.default},6276:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(3)),i=n(78),l=g(n(6187)),s=g(n(307)),u=g(n(6195)),d=g(n(148)),c=g(n(6005)),f=n(823),p=n(6010),h=n(321),v=g(n(44)),m=n(0),y=g(n(13)),_=g(n(5379));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=1500,O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={copyMode:u.default.Modes.DEFAULT},t._copyModeTimeout=new i.Timeout,t.handleGiftCodeCopy=function(e,n){var r=t.props.sku;null!=r&&(0,h.trackGiftCodeCopy)(new l.default({code:n,maxUses:1}),r);try{(0,p.copy)(e),t.setState({copyMode:u.default.Modes.SUCCESS})}catch(e){t.setState({copyMode:u.default.Modes.ERROR})}t._copyModeTimeout.start(T,function(){t.setState({copyMode:u.default.Modes.DEFAULT})})},t.handleInventoryClick=function(){v.default.transitionTo(m.Routes.APPLICATION_LIBRARY_INVENTORY),t.props.onClose()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,s,g=r.prototype;return g.componentWillUnmount=function(){this._copyModeTimeout.stop()},g.render=function(){var e,t=this,n=this.props,r=n.obscureGiftCode,a=n.giftCode,o=n.application,i=this.state.copyMode;switch(i){case u.default.Modes.SUCCESS:e=y.default.Messages.BILLING_GIFT_COPIED;break;case u.default.Modes.ERROR:e=y.default.Messages.FAILED;break;default:e=y.default.Messages.COPY}return E(d.default,{direction:d.default.Direction.VERTICAL,align:d.default.Align.CENTER},void 0,E(c.default,{game:o,className:_.default.icon,size:c.default.Sizes.LARGE,skuId:this.iconSKUId}),E("div",{className:_.default.header},void 0,y.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_CONFIRMATION_TITLE),E("div",{className:_.default.blurb},void 0,this.headerBlurb),E("div",{className:_.default.divider}),E(d.default,{direction:d.default.Direction.VERTICAL},void 0,E(f.FormTitle,{},void 0,y.default.Messages.BILLING_GIFT_LINK),E(u.default,{hideMessage:r?y.default.Messages.GIFT_INVENTORY_HIDDEN:null,value:(0,h.getGiftCodeURL)(a),mode:i,text:e,onCopy:function(e){return t.handleGiftCodeCopy(e,a)},supportsCopy:p.SUPPORTS_COPY,className:_.default.copyInput,buttonColor:u.default.ButtonColors.BRAND,buttonLook:u.default.ButtonLooks.FILLED}),E("div",{className:_.default.subtext},void 0,y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_SUBTEXT.format({onInventoryClick:this.handleInventoryClick}))))},a=r,(o=[{key:"iconSKUId",get:function(){var e=this.props,t=e.subscriptionPlan,n=e.sku;return null!=t?t.skuId:null!=n?n.id:null}},{key:"headerBlurb",get:function(){var e=this.props.subscriptionPlan,t=y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRMATION_BLURB;null!=e&&(t=(e.interval===m.SubscriptionIntervalTypes.MONTH?y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_MONTHLY:y.default.Messages.APPLICATION_STORE_GIFT_PURCHASE_CONFIRM_SUBSCRIPTION_YEARLY).format({skuName:e.skuId===m.PremiumSubscriptionSKUs.TIER_1?y.default.Messages.PREMIUM_TIER_1:y.default.Messages.PREMIUM_TIER_2,intervalCount:e.intervalCount}));return t}}])&&S(a.prototype,o),s&&S(a,s),r}(a.Component);O.displayName="GiftPurchaseConfirmation";var I=o.default.connectStores([s.default],function(){return{obscureGiftCode:s.default.enabled}})(O);t.default=I,e.exports=t.default},6277:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=n(441),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,d,c=i.PremiumPaymentSubscriptionModes.NEW,f=null,p=i.FormStates.CLOSED,h=null,v=null,m=null,y=null,_=!1,g=!1,E=null,S=null,T=null,O=null,I=null;function C(){p=i.FormStates.CLOSED,h=null,f=null,T=null,y=null,E=null,m=null,I=null,O=null}function N(){null==u||null==f&&null==T?null!=d&&d(null!=h?h.message:null):u(),u=null,d=null,C()}function A(e){var t=e.error;h=t,p!==i.FormStates.CLOSED&&(p=i.FormStates.OPEN)}function M(){h=null}var P=new(function(e){var t,n,r,a,o;function l(){return e.apply(this,arguments)||this}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.isOpen=function(){var e=__OVERLAY__?i.AppContext.OVERLAY:i.AppContext.APP;return I===e&&p===i.FormStates.OPEN},r=l,(a=[{key:"subscriptionMode",get:function(){return c}},{key:"paymentError",get:function(){return h}},{key:"plan",get:function(){return v}},{key:"planId",get:function(){return m}},{key:"trialId",get:function(){return y}},{key:"formState",get:function(){return p}},{key:"isGift",get:function(){return _}},{key:"isGiftingFromChat",get:function(){return g}},{key:"skuId",get:function(){return S}},{key:"giftCode",get:function(){return T}},{key:"followupSKUInfo",get:function(){return E}},{key:"analyticsLocation",get:function(){return O}}])&&s(r.prototype,a),o&&s(r,o),l}(r.default.Store))(a.default,{PREMIUM_PAYMENT_MODAL_OPEN:function(e){var t=e.mode,n=e.skuId,r=e.plan,a=e.trialId,o=e.isGift,l=e.isGiftingFromChat,s=e.analyticsLocation,f=e.context,h=e.resolve,T=e.reject,N=e.followupSKUInfo;null!=d&&d(),C(),p=i.FormStates.OPEN,c=t,S=null!=n?n:i.SubscriptionPlanInfo[r].skuId,m=null!=(v=r)?i.SubscriptionPlanInfo[v].id:null,y=a,_=o,g=l,O=s,I=f,E=N,u=h,d=T},PREMIUM_PAYMENT_MODAL_CLOSE:function(e){return N()},PREMIUM_PAYMENT_SUBSCRIBE_FAIL:A,PREMIUM_PAYMENT_UPDATE_FAIL:A,PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){M(),f=e.subscription},PREMIUM_PAYMENT_UPDATE_SUCCESS:function(e){return M()},PREMIUM_PAYMENT_ERROR_CLEAR:function(e){return M()},PREMIUM_PAYMENT_UPDATE_IS_GIFT:function(e){_=e.isGift},PREMIUM_PAYMENT_SELECT_PLAN:function(e){m=e.subscriptionPlanId,v=Object.keys(i.SubscriptionPlanInfo).find(function(e){return i.SubscriptionPlanInfo[e].id===m})},STRIPE_TOKEN_FAILURE:function(e){return function(){if(p===i.FormStates.CLOSED)return!1;p=i.FormStates.OPEN}()},BRAINTREE_TOKENIZE_PAYPAL_FAIL_WINDOW_CLOSED:function(e){c!==i.PremiumPaymentSubscriptionModes.NEW&&N()},BRAINTREE_TOKENIZE_PAYPAL_FAIL:function(e){var t=e.message,n=e.code;h=new o.BillingError(t,n)},SUBSCRIPTION_PLANS_FETCH_SUCCESS:function(e){e.skuId===S&&null==m&&(m=e.subscriptionPlans[0].id)},SKU_PURCHASE_SUCCESS:function(e){e.skuId===S&&p===i.FormStates.OPEN&&(T=e.giftCode)},SKU_PURCHASE_FAIL:function(e){e.skuId===S&&p===i.FormStates.OPEN&&(h=e.error)}});t.default=P,e.exports=t.default},6278:function(e,t,n){"use strict";t.__esModule=!0,t.ShakeScenes=t.PremiumPaymentAnimationTier2=t.PremiumPaymentAnimationTier1=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=c(n(17)),s=c(n(303)),u=c(n(6662)),d=c(n(5479));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=Object.freeze({NORMAL:"normal",SPEED_START:"speed_start",SPEED_LOOP:"speed_loop",FINISH:"finish",IDLE:"idle"}),v=Object.freeze(((r={})[h.NORMAL]={BEG:0,END:600,shouldForcePlayAfter:!0},r[h.SPEED_START]={BEG:601,END:636},r[h.SPEED_LOOP]={BEG:637,END:668},r[h.FINISH]={BEG:669,END:870},r[h.IDLE]={BEG:871,END:878},r)),m=function(e){function t(){return e.apply(this,arguments)||this}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.SPEED_START:return t.Scenes.SPEED_LOOP;case t.Scenes.FINISH:return t.Scenes.IDLE;default:return e}};var r=t.prototype;return r.importData=function(){return n.e(247).then(n.t.bind(null,7116,7)).then(function(e){return e.default})},r.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onScenePlay,a=e.onSceneComplete;return f(u.default,{className:t,importData:this.importData,scene:n,sceneSegments:v,onScenePlay:r,onSceneComplete:a})},t}(i.PureComponent);t.PremiumPaymentAnimationTier1=m,m.displayName="PremiumPaymentAnimationTier1",m.Scenes=h;var y=Object.freeze({IDLE_ENTRY:"idle_entry",IDLE_LOOP:"idle_loop",BOOST_START:"boost_start",BOOST_LOOP:"boost_loop",BOOST_END:"boost_end",VICTORY:"victory",ERROR:"error"}),_=Object.freeze(((a={})[y.IDLE_ENTRY]={BEG:0,END:50},a[y.IDLE_LOOP]={BEG:50,END:230,shouldForcePlayAfter:!0},a[y.BOOST_START]={BEG:230,END:275},a[y.BOOST_LOOP]={BEG:275,END:290},a[y.BOOST_END]={BEG:386,END:455},a[y.VICTORY]={BEG:470,END:525},a[y.ERROR]={BEG:290,END:375},a)),g=function(e){function t(){return e.apply(this,arguments)||this}p(t,e);var n=t.prototype;return n.getStyle=function(e){var t=this.props.animation;return{transform:[{translateX:t.x.interpolate({inputRange:[0,1],outputRange:e?["100%","0%"]:["0%","-100%"]})},{translateY:t.y.interpolate({inputRange:[0,1],outputRange:["100%","0%"]})}]}},n.render=function(){var e=this.props.className;return f("div",{className:d.default.panningAnimation},void 0,f(s.default.div,{className:e,style:this.getStyle(!1)}),f(s.default.div,{className:e,style:this.getStyle(!0)}))},t}(i.PureComponent);g.displayName="PanningAnimation";var E=Object.freeze({IDLE_ENTRY:{toValue:1,duration:1500},IDLE_LOOP:{toValue:1,duration:6e3,easing:s.default.Easing.linear},BOOST_START:{toValue:0,duration:2e3,delay:500},ERROR:{toValue:1,duration:1500,delay:1e3}}),S=1.2,T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).backgroundAnimation=new s.default.ValueXY({x:0,y:0}),t.foregroundAnimation=new s.default.ValueXY({x:0,y:0}),t.didUnmount=!1,t.animateIdleLoopBackground=function(){t.didUnmount||(t.backgroundAnimation.x.setValue(0),s.default.timing(t.backgroundAnimation.x,{toValue:E.IDLE_LOOP.toValue,duration:E.IDLE_LOOP.duration*S,easing:s.default.Easing.linear}).start(t.animateIdleLoopBackground))},t.animateIdleLoopForeground=function(){t.didUnmount||(t.foregroundAnimation.x.setValue(0),s.default.timing(t.foregroundAnimation.x,{toValue:E.IDLE_LOOP.toValue,duration:E.IDLE_LOOP.duration,easing:E.IDLE_LOOP.easing}).start(t.animateIdleLoopForeground))},t.handleScenePlay=function(e){switch(e){case y.IDLE_ENTRY:t.animateIdleEntry(),t.animateIdleLoop();break;case y.ERROR:t.animateError();break;case y.BOOST_START:t.animateBoostStart()}var n=t.props.onScenePlay;null!=n&&n(e)},t}p(t,e),t.getNextScene=function(e){switch(e){case t.Scenes.IDLE_ENTRY:return t.Scenes.IDLE_LOOP;case t.Scenes.BOOST_START:return t.Scenes.BOOST_LOOP;case t.Scenes.BOOST_END:return t.Scenes.VICTORY;case t.Scenes.VICTORY:return t.Scenes.IDLE_ENTRY;case t.Scenes.ERROR:return t.Scenes.IDLE_LOOP;default:return e}};var r=t.prototype;return r.componentWillUnmount=function(){this.didUnmount=!0},r.importData=function(){return n.e(248).then(n.t.bind(null,7117,7)).then(function(e){return e.default})},r.animateEntry=function(e){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:e.toValue,duration:e.duration,delay:e.delay||0}),s.default.timing(this.backgroundAnimation.y,{toValue:e.toValue,duration:e.duration*S,delay:e.delay||0})]).start()},r.animateIdleEntry=function(){this.animateEntry(E.IDLE_ENTRY)},r.animateError=function(){this.animateEntry(E.ERROR)},r.animateIdleLoop=function(){this.animateIdleLoopBackground(),this.animateIdleLoopForeground()},r.animateBoostStart=function(){s.default.parallel([s.default.timing(this.foregroundAnimation.y,{toValue:E.BOOST_START.toValue,duration:E.BOOST_START.duration,delay:E.BOOST_START.delay}),s.default.timing(this.backgroundAnimation.y,{toValue:E.BOOST_START.toValue,duration:E.BOOST_START.duration*S,delay:E.BOOST_START.delay})]).start()},r.render=function(){var e=this.props,t=e.className,n=e.scene,r=e.onSceneComplete;return f("div",{className:(0,l.default)(d.default.tier2Animation,t)},void 0,f(g,{className:d.default.tier2Background,animation:this.backgroundAnimation}),f(g,{className:d.default.tier2Foreground,animation:this.foregroundAnimation}),f(u.default,{importData:this.importData,scene:n,sceneSegments:_,onScenePlay:this.handleScenePlay,onSceneComplete:r}))},t}(i.PureComponent);t.PremiumPaymentAnimationTier2=T,T.displayName="PremiumPaymentAnimationTier2",T.Scenes=y;var O=new Set([m.Scenes.SPEED_LOOP,m.Scenes.SPEED_START,T.Scenes.BOOST_LOOP,T.Scenes.BOOST_START]);t.ShakeScenes=O},6279:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(6))&&r.__esModule?r:{default:r};var i=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.shouldRenderFrame=!0,t.animate=function(){var e=t.props,n=e.intensity;if(e.isShaking){var r=t.ref.current;if(t.shouldRenderFrame&&null!=r){var a=o.default.random(-n,n,!0),i=o.default.random(-n,n,!0);r.style.transform="translate3d("+a+"px,"+i+"px,0px)"}t.shouldRenderFrame=!t.shouldRenderFrame,t.animationFrame=requestAnimationFrame(t.animate)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.props.isShaking&&this.startShaking()},i.componentDidUpdate=function(e){this.props.isShaking!==e.isShaking&&this.setShaking(this.props.isShaking)},i.setShaking=function(e){e?this.startShaking():this.stopShaking()},i.startShaking=function(){this.shouldRenderFrame=!0,this.animationFrame=requestAnimationFrame(this.animate)},i.stopShaking=function(){cancelAnimationFrame(this.animationFrame);var e=this.ref.current;null!=e&&(e.style.transform="")},i.render=function(){var e=this.props,t=e.className,n=e.children;return a.createElement("div",{className:t,ref:this.ref},n)},r}(a.Component);i.displayName="Shaker",i.defaultProps={isShaking:!0,intensity:5};var l=i;t.default=l,e.exports=t.default},6280:function(e,t,n){"use strict";t.__esModule=!0,t.default=c;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(124)),o=u(n(6663)),i=n(0),l=u(n(13)),s=u(n(5481));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=e.premiumType,n=e.theme,r=e.followupSKU,u=e.onClose,c=e.onViewGames,f=e.isUpgrade,p=void 0!==f&&f,h=null==r&&t===i.PremiumTypes.TIER_2?c:u;return d("div",{className:s.default.container},void 0,d(o.default,{className:s.default.upgradedBanner,theme:n,premiumType:t,type:p?o.default.Types.UPGRADE:o.default.Types.ACTIVATED}),d("div",{className:s.default.message},void 0,function(e,t,n){return null!=n?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_IAP.format({skuName:n.name}):t?e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_1:l.default.Messages.PREMIUM_UPGRADE_DONE_BODY_TIER_2:e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_REGULAR:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BLURB_WITH_APPLICATIONS}(t,p,r)),d(a.default,{onClick:h},void 0,function(e,t,n){return null!=n?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_IAP.format({skuName:n.name}):t?e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_1:l.default.Messages.PREMIUM_UPGRADE_DONE_BUTTON_TIER_2:e===i.PremiumTypes.TIER_1?l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_REGULAR:l.default.Messages.PREMIUM_PAYMENT_CONFIRMATION_BUTTON_WITH_APPLICATIONS}(t,p,r)))}c.displayName="PremiumPaymentConfirmation",e.exports=t.default},6281:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(148)),i=p(n(301)),l=p(n(220)),s=p(n(222)),u=n(836),d=n(0),c=p(n(13)),f=p(n(5482));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t,n,r=e.hideCloseOnFullScreen,p=e.shouldShowPrice,v=e.plan,m=e.renderAnimation,y=e.onClose,_=e.isGift,g=e.upgradeToPremiumType,E=g===d.PremiumTypes.TIER_1;return h("div",{className:(0,a.default)((t={},t[f.default.tier1HeaderBackground]=g===d.PremiumTypes.TIER_1,t[f.default.tier2HeaderBackground]=g!==d.PremiumTypes.TIER_1,t))},void 0,m(),h(o.default,{align:o.default.Align.START,justify:o.default.Justify.BETWEEN,className:f.default.headerTop},void 0,h(i.default,{name:E?i.default.Names.NITRO_CLASSIC:i.default.Names.NITRO,className:(0,a.default)(f.default.headerIcon,(n={},n[f.default.tier1]=E,n))}),h(l.default.CloseButton,{hideOnFullscreen:r,onClick:y})),p&&null!=v?h("div",{className:f.default.price},void 0,function(e,t){var n=s.default.getPrice(e),r=s.default.getInterval(e),a=(0,u.formatPrice)(n.amount,n.currency);if(t)return a;switch(r){case d.SubscriptionIntervalTypes.MONTH:return c.default.Messages.BILLING_PRICE_PER_MONTH.format({price:a});case d.SubscriptionIntervalTypes.YEAR:return c.default.Messages.BILLING_PRICE_PER_YEAR.format({price:a})}}(v,_)):null)}v.displayName="PremiumPaymentHeader";var m=v;t.default=m,e.exports=t.default},6282:function(e,t,n){e.exports=n.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},6293:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(5995)),i=h(n(6294)),l=h(n(6771)),s=h(n(6295)),u=h(n(6772)),d=h(n(6773)),c=h(n(6780)),f=h(n(6296)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.style,n=e.type,r=e.target,a=e.className,h=e.href,m=e.src,y=e.value,_=e.onHeightUpdate;switch(n){case p.ContextMenuTypes.CHANNEL_TEXT_AREA:case p.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT:case p.ContextMenuTypes.NATIVE_INPUT:return v("div",{className:a,style:t},void 0,n===p.ContextMenuTypes.CHANNEL_TEXT_AREA||n===p.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT?v(o.default,{},void 0,v(c.default,{value:y,target:r,isEditing:n===p.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT})):null,r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement?v(d.default,{value:y,target:r,onHeightUpdate:_}):null,v(o.default,{},void 0,v(i.default,{value:y,target:r,useSelection:!0}),v(l.default,{value:y,target:r}),v(u.default,{target:r})));case p.ContextMenuTypes.NATIVE_LINK:return v("div",{className:a,style:t},void 0,v(i.default,{value:y,useSelection:!0}),v(s.default,{href:h,src:m}));case p.ContextMenuTypes.NATIVE_IMAGE:return v("div",{className:a,style:t},void 0,v(s.default,{href:h,src:m}));case p.ContextMenuTypes.NATIVE_TEXT:return v("div",{className:a,style:t},void 0,v(o.default,{},void 0,v(f.default,{value:y})),v(o.default,{},void 0,v(i.default,{value:y})));default:return console.warn("Error - no such ctx menu type"),null}},r}(a.PureComponent);m.displayName="NativeContextMenu";var y=m;t.default=y,e.exports=t.default},6294:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=u(n(9)),l=u(n(5991)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCopyItem=function(){(0,o.closeContextMenu)(),i.default.copy(t.props.value),t.props.target&&t.props.target.focus()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.useSelection,n=e.value;return!i.default.embedded||t&&(null==n||0===n.length)?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.COPY,hint:i.default.isOSX()?"⌘C":"Ctrl+C",action:this.handleCopyItem})},a}(a.PureComponent);d.displayName="NativeCopyItem",d.defaultProps={value:"",useSelection:!1};var c=d;t.default=c,e.exports=t.default},6295:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=d(n(9)),l=d(n(5995)),s=d(n(5991)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCopyLink=function(){(0,o.closeContextMenu)(),i.default.copy(t.props.href||t.props.src)},t.handleOpenLink=function(){(0,o.closeContextMenu)(),window.open(t.props.href||t.props.src)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return i.default.embedded&&(this.props.href||this.props.src)?c(l.default,{},void 0,c(s.default,{label:u.default.Messages.COPY_LINK,action:this.handleCopyLink}),c(s.default,{label:u.default.Messages.OPEN_LINK,action:this.handleOpenLink})):null},r}(a.PureComponent);f.displayName="NativeLinkGroup";var p=f;t.default=p,e.exports=t.default},6296:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=s(n(5991)),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSearchWithGoogle=function(){(0,o.closeContextMenu)(),window.open("https://www.google.com/search?q="+encodeURIComponent(t.props.value||""),"_blank")},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.value;return null==e||0===e.length?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default,{label:l.default.Messages.SEARCH_WITH_GOOGLE,action:this.handleSearchWithGoogle})},a}(a.PureComponent);u.displayName="SearchWithGoogle",u.defaultProps={value:""};var d=u;t.default=d,e.exports=t.default},6297:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=null;var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getCurrentPath=function(){return null!=l?l.pathname:null},a.getCurrentRoute=function(){return t=null!=(e=l)&&null!=e.search?e.search:"",null!=e?""+e.pathname+t:null;var e,t},a.reset=function(){throw new Error("Should not reset the store this way outside of a test environment")},r}(r.default.Store))(a.default,{APPLICATION_STORE_LOCATION_CHANGE:function(e){var t=e.location;l=i({},t)},APPLICATION_STORE_RESET_NAVIGATION:function(e){l=null}});t.default=s,e.exports=t.default},6298:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r=n(6075),a=i(n(12)),o=i(n(844));function i(e){return e&&e.__esModule?e:{default:e}}var l={binds:["mod+k","mod+t"],global:!0,action:function(){return!a.default.isGuest()&&(o.default.hasLayers()||(0,r.show)(),!1)}};t.QUICKSWITCHER_SHOW=l},6299:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(21)),o=c(n(1)),i=c(n(913)),l=c(n(20)),s=c(n(28)),u=c(n(49)),d=c(n(150));n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=new i.default(function(){return 100},function(e){var t=0;return 0===e?t=100:e>=1&&e<2?t=70:e>=2&&e<4?t=50:e>=4&&e<7?t=30:e>=7&&(t=10),t},function(e){return s.default.getGuild(e)||l.default.getChannel(e)||l.default.getChannel(l.default.getDMFromUserId(e))},function(e){__OVERLAY__||a.default.set("selectedChannelGuildFrecency",e)},100,10),p=null,h=null;function v(e){var t=e.guildId,n=e.channelId;return n!==p&&(p=n,f.track(n)),null!=t&&t!==h&&(h=t,f.track(t)),!1}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){this.waitFor(d.default,u.default);var e=a.default.get("selectedChannelGuildFrecency");e&&f.overwriteHistory(e)},o.getFrequently=function(){return f.frequently},o.getScore=function(e){return f.getFrecency(e)||0},o.getScoreForDM=function(e){return this.getScore(l.default.getDMFromUserId(e))},o.getMaxScore=function(){return 1e3},o.getBonusScore=function(){return 100},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){return f.markDirty(),!1},VOICE_CHANNEL_SELECT:v,CHANNEL_SELECT:v});t.default=m,e.exports=t.default},6300:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={toggleSection:function(e){a.default.dispatch({type:o.ActionTypes.CHANNEL_TOGGLE_SECTION,section:e})}};t.default=i,e.exports=t.default},6301:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ZOOM_RESET=t.ZOOM_OUT=t.ZOOM_IN=void 0;var r,a=n(891),o=(r=n(856))&&r.__esModule?r:{default:r},i=n(0);function l(e){return i.Accessibility.ZOOM_SCALES[Math.max(0,Math.min(i.Accessibility.ZOOM_SCALES.indexOf(o.default.zoom)+e,i.Accessibility.ZOOM_SCALES.length-1))]}var s={binds:["mod+plus"],global:!0,action:function(){return(0,a.zoomTo)(l(1)),!1}};t.ZOOM_IN=s;var u={binds:["mod+minus"],global:!0,action:function(){return(0,a.zoomTo)(l(-1)),!1}};t.ZOOM_OUT=u;var d={binds:["mod+0"],global:!0,action:function(){return(0,a.zoomTo)(i.Accessibility.ZOOM_DEFAULT),!1}};t.ZOOM_RESET=d;var c={ZOOM_IN:s,ZOOM_OUT:u,ZOOM_RESET:d};t.default=c},6303:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=n(6787),i=u(n(458)),l=u(n(6169)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c={},f={},p=!0,h={},v=!1;function m(){return l.default.useNewTutorialLogic()?o.tutTipsLogicV2:o.tutTipsOriginal}function y(){if(h={},!p){var e=m();Object.keys(e).map(function(t){var n=e[t],r=!1!==c[t];if(r&&null!=n.prerequisites){var a=n.prerequisites,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}if(!(!1===c[l]))return void(h[t]=!1)}}h[t]=r})}}function _(e){delete(f=d({},f))[e.tutorialId]}function g(){y(),Object.keys(f).forEach(function(e){h[e]||delete f[e]})}var E=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){y(),this.mustEmitChanges(function(e){return e.type!==s.ActionTypes.CONNECTION_OPEN}),this.waitFor(i.default,l.default)},a.shouldShow=function(e){return!(!v||p)&&(h[e]||!1)},a.shouldShowAnyIndicators=function(){return!p},a.getIndicators=function(){return f},a.getData=function(){return m()},a.getDefinition=function(e){var t=this.getData();return null!=t?t[e]:null},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.tutorial;v=!0,p=!0,c={},null!=t&&(p=t.indicators_suppressed,t.indicators_confirmed.forEach(function(e){return c[e]=!1})),y()},CONNECTION_CLOSED:function(e){v=!1},TUTORIAL_INDICATOR_DISMISS:function(e){var t;c=d({},c,((t={})[e.tutorialId]=!1,t)),_(e),y()},TUTORIAL_INDICATOR_SHOW:function(e){var t;f=d({},f,((t={})[e.tutorialId]=e.renderData,t))},TUTORIAL_INDICATOR_HIDE:_,TUTORIAL_INDICATOR_SUPPRESS_ALL:function(e){p=!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){if(e.experimentId!==l.default.getExperimentId())return!1;g()},EXPERIMENT_TRIGGER:function(e){if(e.experimentDescriptor.name!==l.default.getExperimentId())return!1;g()}});t.default=E,e.exports=t.default},6304:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=d(n(6036)),i=n(106),l=d(n(5996)),s=c(n(6056)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=1.4,v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._unmounted=!1,n._intensity=h,n._subscribedStores=[],p(n).handleSetSection=n.handleSetSection.bind(p(n)),p(n).handleNoticeStoreUpdate=n.handleNoticeStoreUpdate.bind(p(n)),p(n).handleClose=n.handleClose.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this.getPredicateSections().forEach(function(t){var n=t.notice;if(null!=n){var r=n.store;r&&(r.addChangeListener(e.handleNoticeStoreUpdate),e._subscribedStores.push(r))}})},a.componentDidUpdate=function(e){e.section!==this.props.section&&(this._intensity=h)},a.componentWillUnmount=function(){var e=this;this._unmounted=!0,this._subscribedStores.forEach(function(t){return t.removeChangeListener(e.handleNoticeStoreUpdate)})},a.handleNoticeStoreUpdate=function(){this._unmounted||(this._intensity=h,this.forceUpdate())},a.getPredicateSections=function(){return this.props.sections.filter(function(e){return null==e.predicate||e.predicate()})},a.validNavigation=function(){var e=this.props.section,t=(this.getPredicateSections().find(function(t){return e===t.section})||{}).notice;return t&&t.store.showNotice()?(i.ComponentDispatch.dispatch(u.ComponentActions.SHAKE_APP,{duration:300,intensity:this._intensity}),this._intensity=Math.min(this._intensity+2,15),i.ComponentDispatch.dispatch(u.ComponentActions.EMPHASIZE_NOTICE),!1):(this._intensity=h,!0)},a.handleSetSection=function(e){var t=this.props.onSetSection;this.validNavigation()&&t(e)},a.handleClose=function(){if(this.validNavigation()){var e=this.props.onClose;e&&e()}},a.renderSidebar=function(e){var t=this.props.section||e[0].section;return f(o.default,{selectedItem:t,onItemSelect:this.handleSetSection},void 0,e.map(function(e,t){var n=e.section,r=e.element,a=e.label,i=void 0===a?null:a,l=e.onClick,d=e.color,c=e.className;switch(n){case s.SectionTypes.HEADER:return f(o.default.Header,{},t,i);case s.SectionTypes.DIVIDER:return f(o.default.Separator,{},t);case s.SectionTypes.CUSTOM:return f(r||u.NOOP_NULL,{},t);default:return f(o.default.Item,{color:d,id:n,onClick:l,className:c},n,i)}}))},a.renderContent=function(e){var t=e&&e.element?e.element:u.NOOP_NULL;return f(l.default,{section:e.section},void 0,f(t,{}))},a.renderNotice=function(e){var t=this.props.theme;if(null==e||null==e.notice)return null;var n=e.notice,r=n.store,a=n.element;return null==r||r.showNotice()?f(a,{theme:t}):null},a.render=function(){var e=this.props,t=e.theme,n=e.section,r=this.getPredicateSections(),a=r.find(function(e){return e.section===n});return null==a?null:f(s.default,{theme:t,section:n,sidebar:this.renderSidebar(r),content:this.renderContent(a),contentType:a.type,notice:this.renderNotice(a),closeAction:this.handleClose})},r}(a.PureComponent);v.displayName="SettingsView";var m=v;t.default=m,e.exports=t.default},6305:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=s(n(3)),o=s(n(6492)),i=s(n(6796)),l=s(n(6797));function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){var t,n;function a(t){var n;return d(n=e.call(this,t)||this).handleAddPhone=n.handleAddPhone.bind(d(n)),d(n).handleVerifyPhone=n.handleVerifyPhone.bind(d(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.render=function(){var e=this.props,t=e.error,n=e.working,a=e.valid,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["error","working","valid"]);return r.createElement(l.default,u({},o,{error:t,working:n,validPhone:a,onAddPhone:this.handleAddPhone,onVerifyPhone:this.handleVerifyPhone}))},i.handleAddPhone=function(e){o.default.addPhone(e)},i.handleVerifyPhone=function(e){var t=this;o.default.verifyPhone(e).then(function(){var e=t.props.onAddedPhone;null!=e&&e()})},a}(r.PureComponent);c.displayName="PhoneVerificationModal";var f=a.default.connectStores([i.default],function(){return i.default.getProps()})(c);t.default=f,e.exports=t.default},6306:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(3)),o=h(n(1)),i=h(n(318)),l=h(n(20)),s=h(n(71)),u=h(n(28)),d=h(n(225)),c=h(n(85)),f=h(n(35)),p=h(n(14));n(0);function h(e){return e&&e.__esModule?e:{default:e}}var v={};function m(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===r&&(r=!1);var a=l.default.getChannel(e),o=null!=a?a.getGuildId():null;return{id:e,messages:t.map(function(e){return i.default.create(e)}),guildId:o,loaded:n,loading:r}}function y(){r.default.forEach(v,function(e){r.default.forEach(e.messages,function(e){e.timestamp.locale(f.default.locale)})})}function _(){r.default.forEach(v,function(e){e.messages=e.messages.map(function(e){return e.set("blocked",c.default.isBlocked(e.author.id))})})}var g=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,u.default,s.default,d.default,p.default,f.default)},a.getPinnedMessages=function(e){return v[e]&&v[e]||null},a.loaded=function(e){return null!=v[e]&&v[e].loaded},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){v={}},GUILD_DELETE:function(e){var t=e.guild;v=(0,r.default)(v).filter(function(e){return e.guildId!==t.id}).keyBy("id").value()},MESSAGE_UPDATE:function(e){var t=e.message.id,n=e.message.channel_id,a=v[n];if(null!=e.message.author)if(e.message.pinned){if(!a)return a=m(n,[e.message],!1),void(v[n]=a);a.messages=a.messages.slice();var o=r.default.findIndex(a.messages,function(e){return e.id===t});-1===o?a.messages.unshift(i.default.create(e.message)):a.messages[o]=a.messages[o].updateMessage(e.message),v[n]=a}else{if(!a)return;var l=r.default.findIndex(a.messages,function(e){return e.id===t});if(-1===l)return;a.messages=a.messages.slice(),a.messages.splice(l,1),v[n]=a}else if(a){var s=r.default.findIndex(a.messages,function(e){return e.id===t});if(s>=0){var u=a.messages[s],d=u.updateMessage(e.message);if(d!==u){var c=a.messages.slice();c[s]=d,v[n].messages=c}}}},MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId,a=v[n];a&&0!==r.default.remove(a.messages,function(e){return e.id===t}).length&&(a.messages=a.messages.slice(),v[n]=a)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId,r=v[n];r&&(r.messages=r.messages.filter(function(e){return-1===t.indexOf(e.id)}))},LOAD_PINNED_MESSAGES:function(e){var t=e.channelId;v[t]=m(t,[],!1,!0)},LOAD_PINNED_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.messages;v[t]=m(t,n,!0)},LOAD_PINNED_MESSAGES_FAILURE:function(e){var t=e.channelId;delete v[t]},USER_SETTINGS_UPDATE:function(e){return y()},I18N_LOAD_SUCCESS:function(e){return y()},CHANNEL_DELETE:function(e){var t=e.channel;delete v[t.id]},RELATIONSHIP_ADD:function(e){return _()},RELATIONSHIP_REMOVE:function(e){return _()}});t.default=g,e.exports=t.default},6307:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(314)),i=l(n(225));n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={editingChannelId:null,editingMessageId:null,editingContent:null};function d(){u={editingChannelId:null,editingMessageId:null,editingContent:null}}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isEditing=function(e,t){return e===u.editingChannelId&&t===u.editingMessageId},a.getEditingContent=function(){return u.editingContent},a.getEditingMessageId=function(){return u.editingMessageId},a.getEditingMessage=function(){return null!=u.editingChannelId&&null!=u.editingMessageId?i.default.getMessage(u.editingChannelId,u.editingMessageId):null},r}(r.default.Store))(a.default,{MESSAGE_START_EDIT:function(e){var t=e.channelId,n=e.messageId,r=e.content;u={editingChannelId:t,editingMessageId:n,editingContent:o.default.unparse(r,t)}},MESSAGE_UPDATE_EDIT:function(e){var t=e.content;if(null==u.editingChannelId&&null==u.editingMessageId&&null==u.editingContent)return!1;u=s({},u,{editingContent:t})},MESSAGE_END_EDIT:function(e){return d()},CHANNEL_SELECT:function(e){return d()},GUILD_SELECT:function(e){return d()}});t.default=c,e.exports=t.default},6308:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(2)),o=P(n(17)),i=P(n(3)),l=P(n(6090)),s=P(n(77)),u=P(n(825)),d=P(n(6093)),c=P(n(6139)),f=P(n(20)),p=P(n(6113)),h=P(n(833)),v=P(n(6128)),m=b(n(6510)),y=P(n(124)),_=P(n(6006)),g=P(n(125)),E=P(n(437)),S=n(6071),T=n(106),O=P(n(314)),I=P(n(6065)),C=n(0),N=P(n(13)),A=P(n(5357)),M=P(n(5371));function P(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var w="popout-channel-text-area-shouting",U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={imageDataURI:null,imageLoaded:!1},t.tryAbort=function(){null!=t.reader&&1===t.reader.readyState&&t.reader.abort()},t.loadImagePreview=function(e){t.tryAbort(),t.reader=new FileReader,t.reader.onload=function(e){return t.setState({imageDataURI:e.target.result,imageLoaded:!0})},t.reader.readAsDataURL(e)},t}D(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.file;null!=e&&this.loadImagePreview(e)},n.componentDidUpdate=function(){var e=this.props.file;null!=e&&this.loadImagePreview(e)},n.componentWillUnmount=function(){this.tryAbort()},n.render=function(){var e,t=this.state,n=t.imageLoaded,r=t.imageDataURI;if(null!=n&&null!=r){var a={backgroundImage:"url('"+r+"')"};return L("div",{className:(0,o.default)(M.default.icon,M.default.image),style:a})}return L("div",{className:(0,o.default)(M.default.icon,(e={},e[M.default.image]=!0,e))})},t}(a.PureComponent);U.displayName="ImageFilePreview";var k=function(e){function t(){return e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){return this.props.upload.isImage?L(U,{file:this.props.upload.file}):L("div",{className:(0,o.default)(M.default.icon,(e={},e[M.default[this.props.upload.classification]]=!0,e))});var e},t}(a.Component);k.displayName="UploadIcon";var G=function(e){function t(t){var n;(n=e.call(this,t)||this)._transitionTimeout=null,n._channelTextAreaRef=a.createRef(),n.cancelAll=function(){c.default.clearAll(),n.props.onClose()},n.cancel=function(){n.showNextFile()},n.confirm=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,l,"next",e)}function l(e){R(o,r,a,i,l,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,a,o,i,l,s,d,c,f,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.cooldown,a=t.upload,o=t.channel,i=n.state,l=i.transitioning,s=i.textValue,d=i.hasSpoiler,!l&&null!=a){e.next=4;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!1});case 4:if(!(r>0)){e.next=6;break}return e.abrupt("return",{shouldClear:!1,shouldRefocus:!0});case 6:if(!h.default.isOpen(w)){e.next=10;break}return u.default.close(w),n.submitUpload(!0,s,a,o,d),e.abrupt("return",{shouldClear:!0,shouldRefocus:!0});case 10:return c=null!=n._channelTextAreaRef.current?n._channelTextAreaRef.current:null,e.next=13,(0,S.applyChatRestrictions)(c,s,o);case 13:return f=e.sent,p=f.valid,n.submitUpload(p,s,a,o,d),e.abrupt("return",{shouldClear:!1,shouldRefocus:!1});case 17:case"end":return e.stop()}},e)})),n.handleTextChange=function(e,t){n.setState({textValue:t})},n.handleSubmit=function(){return n.confirm()};var r=null!=t.upload?t.upload.channelId:null;return n.state={transitioning:!1,textValue:null!=r?p.default.getDraft(r):"",textFocused:!0,hasSpoiler:!1},n}D(t,e);var n=t.prototype;return n.componentDidMount=function(){T.ComponentDispatch.subscribe(C.ComponentActions.MODAL_SUBMIT,this.confirm),T.ComponentDispatch.subscribe(C.ComponentActions.MODAL_CLOSE,this.cancel)},n.componentWillUnmount=function(){T.ComponentDispatch.unsubscribe(C.ComponentActions.MODAL_SUBMIT,this.confirm),T.ComponentDispatch.unsubscribe(C.ComponentActions.MODAL_CLOSE,this.cancel),clearTimeout(this._transitionTimeout)},n.shouldComponentUpdate=function(e){return null!=e.upload},n.submitUpload=function(e,t,n,r,a){if(e&&null!=r){var o=O.default.parse(r,t);l.default.saveDraft(r.id,""),this.setState({textFocused:!0,textValue:""}),setTimeout(function(){return d.default.upload(r.id,n.file,o,a)},125),this.showNextFile()}},n.showNextFile=function(){var e=this;this.state.transitioning||(this.props.hasAdditionalUploads?(this.setState({transitioning:!0}),setTimeout(function(){return c.default.popFirstFile()},100),this._transitionTimeout=setTimeout(function(){return e.setState({transitioning:!1})},200)):(c.default.popFirstFile(),this.props.onClose()))},n.renderFooter=function(){var e=this,t=this.props,n=t.cooldown,r=t.hasAdditionalUploads,i=this.state.hasSpoiler,l=n>0,s=null,u=l?N.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((n+1e3)/1e3)}):null;r&&(s=L(y.default,{type:"button",look:y.default.Looks.LINK,color:y.default.Colors.WHITE,onClick:this.cancelAll,className:M.default.cancelAllButton},void 0,L("span",{},void 0,N.default.Messages.UPLOAD_AREA_CANCEL_ALL)));var d=L(a.Fragment,{},void 0,L(_.default,{value:i,onChange:function(t,n){return e.setState({hasSpoiler:n})},checkboxColor:C.Colors.WHITE},void 0,L(g.default,{color:g.default.Colors.WHITE},void 0,N.default.Messages.SPOILER_MARK_SELECTED)),L("div",{className:M.default.hasSpoilers},void 0,s,L(y.default,{type:"button",look:y.default.Looks.LINK,color:y.default.Colors.WHITE,onClick:this.cancel},void 0,L("span",{},void 0,N.default.Messages.CANCEL)),L(E.default,{text:u},void 0,L("div",{},void 0,L(y.default,{disabled:l,color:y.default.Colors.BRAND,look:y.default.Looks.INVERTED,type:"submit",onClick:this.confirm},void 0,L("span",{},void 0,N.default.Messages.UPLOAD))))));return L("div",{className:(0,o.default)(M.default.footer,M.default.hasSpoilers)},void 0,d)},n.render=function(){var e,t=this.props,n=t.upload,r=t.channel,i=this.state,l=i.transitioning,s=i.textValue,u=i.textFocused;return null==n||null==r?null:L("div",{className:(0,o.default)(M.default.uploadModal,"theme-brand",(e={},e[M.default.transitioning]=l,e))},void 0,L("div",{className:M.default.inner},void 0,L("div",{className:M.default.file},void 0,L(k,{upload:n}),L("div",{className:M.default.description},void 0,L("div",{className:M.default.filename},void 0,n.filename))),L("div",{className:M.default.comment},void 0,L("div",{className:M.default.label},void 0,L("span",{},void 0,N.default.Messages.UPLOAD_AREA_LEAVE_A_COMMENT),L("span",{className:M.default.optional},void 0,"(",N.default.Messages.UPLOAD_AREA_OPTIONAL,")")),a.createElement(I.default,{ref:this._channelTextAreaRef,className:(0,o.default)(M.default.channelTextAreaUpload,A.default.marginTop8),value:s,focused:u,channel:r,onChange:this.handleTextChange,onSubmit:this.handleSubmit,type:C.TextareaTypes.FORM}))),this.renderFooter())},t}(a.Component);G.displayName="Upload";var F=i.default.connectStores([m.default,f.default,v.default],function(){var e=m.default.getFirstUpload(),t=null!=e?e.channelId:null,n=null!=t?v.default.getSlowmodeCooldownGuess(t):0;return{upload:e,file:null!=e?e.file:null,hasAdditionalUploads:m.default.hasAdditionalUploads(),channel:null!=t?f.default.getChannel(t):null,cooldown:n}})(G),j=function(e){function t(){return e.apply(this,arguments)||this}D(t,e);var n=t.prototype;return n.close=function(){s.default.pop()},n.render=function(){return L(F,{onClose:this.close})},t}(a.Component);t.default=j,j.displayName="UploadModal",j.modalConfig={closable:!1},e.exports=t.default},6309:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(6008)),l=s(n(5383));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).videoRef=a.createRef(),t.state={videoLoaded:!1},t.handleVideoLoaded=function(){t.setState({videoLoaded:!0})},t.handleVideoError=function(){t.setState({videoLoaded:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidMount=function(){this.setPlayState(this.props.play)},s.componentDidUpdate=function(e){var t=this.props.play;t!==e.play&&this.setPlayState(t)},s.setPlayState=function(e){var t=this.videoRef.current;null!=t&&(e?t.play():t.pause())},s.render=function(){var e,t=this.props,n=t.url,r=t.width,s=t.height,d=t.children,c=t.className,f=t.videoUrl,p=t.play,h=t.hideImage,v=t.autoPlay,m=t.shouldAnimate,y=this.state.videoLoaded;return u("div",{className:(0,o.default)(l.default.wrapper,c),style:{paddingBottom:s/r*100+"%"}},void 0,u(i.default,{src:n,width:r,height:s,maxWidth:464,maxHeight:464*s/r,className:(0,o.default)(l.default.image,h?l.default.hideImage:""),imageClassName:(0,o.default)(l.default.image,h?l.default.hideImage:""),alt:"",autoPlay:v,shouldAnimate:m}),null!=f?a.createElement("video",{muted:!0,preload:"none",loop:!0,src:f,ref:this.videoRef,className:(0,o.default)((e={},e[l.default.video]=!0,e[l.default.showVideo]=y&&p,e)),onLoadedMetadata:this.handleVideoLoaded,onError:this.handleVideoError}):null,null!=d?u("div",{className:l.default.content},void 0,d):null)},r}(a.Component);d.displayName="CardMedia",d.defaultProps={play:!1,hideImage:!1};var c=d;t.default=c,e.exports=t.default},6310:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(78),l=f(n(124)),s=f(n(6195)),u=f(n(822)),d=n(6010),c=f(n(5507));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={mode:s.default.Modes.DEFAULT},n._timeout=new i.Timeout,v(n).handleCopy=n.handleCopy.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentWillUnmount=function(){this._timeout.stop()},f.render=function(){var e=this.props,t=e.isVertical,n=e.value,r=e.text,i=e.className,d=e.inputClassName,f=this.state.mode;return t?h("div",{className:(0,o.default)(i,f)},void 0,h(u.default,{value:n,inputClassName:d}),h(l.default,{className:c.default.button,onClick:this.handleCopy,size:l.default.Sizes.MIN,color:this.getVerticalButtonColor(f),look:l.default.Looks.FILLED},void 0,r)):a.createElement(s.default,p({},this.props,{onCopy:this.handleCopy,mode:f}))},f.handleCopy=function(){var e=this,t=this.props,n=t.onCopy,r=t.value,a=(0,d.copy)(r);this.setState({mode:a?s.default.Modes.SUCCESS:s.default.Modes.ERROR}),this._timeout.start(300,function(){return e.setState({mode:s.default.Modes.DEFAULT})}),n&&n()},f.getVerticalButtonColor=function(e){switch(e){case s.default.Modes.SUCCESS:return l.default.Colors.GREEN;case s.default.Modes.ERROR:return l.default.Colors.RED;default:return l.default.Colors.BRAND}},r}(a.PureComponent);m.displayName="CopyInput",m.defaultProps={isVertical:!1};var y=m;t.default=y,e.exports=t.default},6311:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=d(n(902)),i=d(n(940)),l=c(n(6807)),s=d(n(9)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=function(e){var t,n;function a(t){var n;(n=e.call(this,t)||this)._mounted=!1,n.recordStart=function(){s.default.embedded&&(n.gs=new i.default,n.gs.on("change",n.handleGSChange)),n.setState({mode:l.RecordModes.RECORDING})},n.recordEnd=function(){n.cleanUp(),n.setState({mode:l.RecordModes.DEFAULT})},n.toggleRecordMode=function(){n.state.mode===l.RecordModes.DEFAULT?n.recordStart():n.recordEnd()},n.handleComboKeys=function(e,t,r){if(r.preventDefault(),"keydown"===r.type){var a=t.map(function(e){return[u.KeyboardDeviceTypes.KEYBOARD_KEY,(0,o.default)(e),u.KeyboardEnvs.BROWSER]}),i=r.keyCode;a.find(function(e){var t=e[1];return i===t})||a.push([u.KeyboardDeviceTypes.KEYBOARD_KEY,i,u.KeyboardEnvs.BROWSER]),n.handleComboChange(a)}},n.handleGSChange=function(e){if(!1!==n._mounted){var t=[].concat(e.combo);n.handleComboChange(t)}};var r=t.defaultValue;return n.state={codes:r,mode:l.RecordModes.DEFAULT},n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.componentDidMount=function(){this._mounted=!0},d.componentWillUnmount=function(){this._mounted=!1,this.cleanUp()},d.cleanUp=function(){s.default.embedded&&null!=this.gs&&(this.gs.destroy(),this.gs=null)},d.handleComboChange=function(e){var t=this.props.onChange;null!=t&&t(e),this.setState({codes:e})},d.render=function(){var e,t=this.state,n=t.codes,a=t.mode,o=this.props.disabled;return s.default.embedded||(e=this.handleComboKeys),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{disabled:o,value:n,mode:a,onClick:this.toggleRecordMode,onChange:e})},a}(a.PureComponent);f.displayName="KeybindRecorder";var p=f;t.default=p,e.exports=t.default},6312:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=p(n(17)),i=h(n(834)),l=p(n(148)),s=p(n(6016)),u=p(n(6109)),d=n(0),c=p(n(13)),f=p(n(5460));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m="***@***.***",y="****",_="new_credit_card_id",g="null_payment_source_id",E=new i.CreditCardSourceRecord({id:_,brand:s.default.Types.UNKNOWN,type:d.PaymentSourceTypes.CARD}),S=new i.CreditCardSourceRecord({id:g,brand:s.default.Types.UNKNOWN,type:d.PaymentSourceTypes.CARD});var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){e.value!==S&&t.props.onChange&&t.props.onChange(e,e.value===_)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.selectedPaymentSourceId,n=e.paymentSources,r=e.showEmptyPromptOption,a=e.hidePersonalInformation,d=e.defaultPaymentSourceId,p=[].concat(r&&null==t?[S]:[],n,[E]).map(function(e){var t;if(!(e instanceof i.default))throw new Error("Invalid payment source");var n=function(e,t){if(e instanceof i.CreditCardSourceRecord)return e.id===_?{brand:null,label:c.default.Messages.PAYMENT_SOURCES_ADD}:e.id===g?{brand:null,label:c.default.Messages.ATTACH_PAYMENT_SOURCE_PROMPT_OPTION}:{brand:t?s.default.Types.UNKNOWN:e.brand,label:c.default.Messages.PAYMENT_SOURCE_CARD_ENDING_IN.format({last4:t?y:e.last4})};if(e instanceof i.PaypalSourceRecord)return{brand:s.default.Types.PAYPAL,label:t?m:e.email};throw new Error("Invalid Payment Source")}(e,a),r=n.brand,u=n.label;return{value:e.id,label:v(l.default,{align:l.default.Align.CENTER},void 0,null!=r?v(s.default,{type:s.default.getType(r)}):null,v("div",{className:(0,o.default)(f.default.paymentSourceLabel,(t={},t[f.default.error]=e.invalid,t))},void 0,u))}}),h=t;return null==h&&(h=r?g:function(e,t){var n=null!=t?e.find(function(e){return e.id===t}):null;return null!=n?n.id:e.length>0?e[0].id:null}(n,d)),v(u.default,{searchable:!1,clearable:!1,options:p,value:h,onChange:this.onChange})},r}(a.Component);T.displayName="PaymentSourceDropdown",T.defaultProps={showEmptyPromptOption:!1};var O=T;t.default=O,e.exports=t.default},6313:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(3)),a=n(56),o=p(n(1)),i=p(n(842)),l=p(n(46)),s=p(n(49)),u=p(n(150)),d=p(n(35)),c=p(n(130)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var v=f.ThemeTypes.DARK,m=null;function y(){v=d.default.theme}function _(){m=s.default.getChannelId(u.default.getGuildId())}function g(e){return e.channelId===m}var E=new(function(e){var t,n,r,o,p;function g(){return e.apply(this,arguments)||this}return n=e,(t=g).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,g.prototype.initialize=function(){this.waitFor(d.default,i.default,u.default,s.default,c.default),this.syncWith([d.default],y),this.syncWith([u.default,s.default,i.default],_)},r=g,(o=[{key:"theme",get:function(){if(null!=m){var e=u.default.getGuildId(),t=c.default.isInChannel(e,m)&&(null!=e||c.default.hasVideo(e,m))&&l.default.supports(a.Features.VIDEO)?i.default.getLayout(m):null;return t===f.ChannelLayouts.NORMAL||t===f.ChannelLayouts.NO_CHAT?f.ThemeTypes.DARK:v}return v}}])&&h(r.prototype,o),p&&h(r,p),g}(r.default.Store))(o.default,{VOICE_STATE_UPDATE:g,CHANNEL_RTC_UPDATE_LAYOUT:g});t.default=E,e.exports=t.default},6314:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(148)),i=u(n(301)),l=u(n(125)),s=u(n(5516));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.title,n=e.subtitle,r=e.iconType;return d(o.default,{className:s.default.wrapper,align:o.default.Align.BASELINE},void 0,null!=r&&d(i.default,{name:r,width:16,height:16,className:s.default.icon}),d(l.default,{weight:l.default.Weights.NORMAL,size:l.default.Sizes.MEDIUM,color:l.default.Colors.PRIMARY,className:s.default.title},void 0,t),n&&d(l.default,{weight:l.default.Weights.SEMIBOLD,size:l.default.Sizes.SMALL,color:l.default.Colors.PRIMARY,className:s.default.subtitle},void 0,n))},r}(a.PureComponent);c.displayName="IconSelectOption";var f=c;t.default=f,e.exports=t.default},6315:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RegionSelect=t.RegionSelectModal=t.RegionName=t.RegionFlag=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(17)),i=m(n(304)),l=(m(n(306)),m(n(439))),s=m(n(3)),u=m(n(77)),d=m(n(6199)),c=m(n(6054)),f=m(n(219)),p=m(n(438)),h=m(n(13)),v=m(n(5523));function m(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,r,a=e.region,i=e.className,l=void 0===i?v.default.regionSelectFlag:i;if("unknown"===a.id)r=n(6102);else{var s=a.id.replace(/^vip-/,"");try{r=n(6598)("./"+s+".png")}catch(e){r=n(6102)}}return _("div",{className:(0,o.default)(l,(t={},t[v.default.vip]=a.vip,t)),style:{backgroundImage:'url("'+r+'")'}})};t.RegionFlag=g,g.displayName="RegionFlag";var E=function(e){var t=e.region,n=e.className;return _("div",{className:void 0===n?v.default.regionSelectName:n},void 0,t.name.replace(/ \(VIP\)$/,""))};t.RegionName=E,E.displayName="RegionName";var S=function(e){var t=e.region,n=e.onClick;return _(f.default,{className:v.default.regionSelectModalOption,onClick:function(){return n(t)}},void 0,_(g,{region:t}),_(E,{region:t}))};S.displayName="RegionOption";var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){t.props.onChange&&t.props.onChange(e),t.props.onClose()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this;return _("div",{className:v.default.regionSelectModal},void 0,_("div",{className:v.default.regionSelectModalHeader},void 0,h.default.Messages.REGION_SELECT_HEADER),_("div",{className:v.default.regionSelectModalOptions},void 0,this.props.regions.map(function(t,n){return _(S,{region:t,onClick:e.handleSelect},n)})),_("div",{className:v.default.regionSelectModalFooter},void 0,h.default.Messages.REGION_SELECT_FOOTER))},r}(a.Component);t.RegionSelectModal=T,T.displayName="RegionSelectModal";var O=(0,i.default)({displayName:"RegionSelect",mixins:[s.default.StoreListenerMixin(c.default),l.default],getDefaultProps:function(){return{disabled:!1,changeRegionButtonText:h.default.Messages.CHANGE}},getStateFromStores:function(){return{regions:c.default.getRegions(this.props.guildId)}},componentDidMount:function(){null==this.state.regions&&d.default.fetchRegions(this.props.guildId)},UNSAFE_componentWillReceiveProps:function(e){if(this.props.guildId!==e.guildId){var t=c.default.getRegions(e.guildId);null==t&&d.default.fetchRegions(e.guildId),this.setState({regions:t})}},handleChange:function(e){this.props.onChange&&this.props.onChange(e.id)},openChangeModal:function(){var e=this,t=this.state.regions.filter(function(e){return!e.deprecated});u.default.push(function(n){return a.createElement(T,y({regions:t,onChange:e.handleChange},n))})},render:function(){var e,t=this;if(null==this.state.regions)return _("div",{className:(0,o.default)(v.default.regionSelect,v.default.regionSelectLoading)},void 0,_(p.default,{type:p.default.Type.CHASING_DOTS}));var n=this.state.regions.find(function(e){return e.id===t.props.value})||{id:"unknown",name:h.default.Messages.UNKNOWN_REGION,vip:!1};return _(f.default,{className:(0,o.default)(v.default.regionSelect,(e={},e[v.default.disabled]=this.props.disabled,e)),onClick:this.openChangeModal},void 0,_("div",{className:v.default.regionSelectInner},void 0,_(g,{region:n}),_(E,{region:n})),_("button",{type:"button"},void 0,this.props.changeRegionButtonText))}});t.RegionSelect=O;var I=O;t.default=I},6316:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={update:function(e){a.default.dispatch({type:o.ActionTypes.CHANNEL_COLLAPSE,channelId:e})},toggleCollapseGuild:function(e){a.default.dispatch({type:o.ActionTypes.GUILD_TOGGLE_COLLAPSE_MUTED,guildId:e})}};t.default=i,e.exports=t.default},6317:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=k(n(17)),i=k(n(304)),l=k(n(6)),s=(k(n(306)),k(n(439))),u=k(n(3)),d=k(n(180)),c=k(n(311)),f=k(n(152)),p=(k(n(126)),k(n(318)),k(n(20))),h=k(n(6101)),v=k(n(28)),m=k(n(225)),y=k(n(6318)),_=k(n(149)),g=k(n(49)),E=k(n(35)),S=k(n(151)),T=k(n(124)),O=k(n(219)),I=k(n(821)),C=k(n(6208)),N=k(n(308)),A=k(n(438)),M=k(n(18)),P=n(106),b=k(n(44)),R=k(n(6078)),L=n(0),D=k(n(13)),w=k(n(5377)),U=k(n(5462));function k(e){return e&&e.__esModule?e:{default:e}}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=function(e){var t=e.title,n=e.children,r=e.className;return G("div",{className:(0,o.default)(U.default.header,w.default.header,r)},void 0,G("div",{className:(0,o.default)(U.default.title,w.default.title)},void 0,t),n)};F.displayName="Header";var j=function(e){var t=e.msg,n=e.image;return G("div",{className:U.default.emptyPlaceholder},void 0,G("div",{className:U.default.image,style:{backgroundImage:"url("+n+")"}}),G("div",{className:U.default.body},void 0,t))};j.displayName="EmptyStateCenter";var x=function(e){var t=e.msg,n=e.image;return G("div",{className:(0,o.default)(U.default.emptyPlaceholder,U.default.bottom)},void 0,G("div",{className:U.default.body},void 0,t),G("div",{className:U.default.image,style:{backgroundImage:"url("+n+")"}}))};x.displayName="EmptyStateBottom";var B=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClickJump=function(e){var n=t.props;(0,n.jumpTo)(n.message,e)},t.handleClickClose=function(e){var n=t.props,r=n.onCloseMessage,a=n.message;null!=r&&r(a,e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderJumpButton=function(){var e,t=this.props.jumping;return G(O.default,{className:U.default.jumpButton,onClick:this.handleClickJump},void 0,G("div",{className:(0,o.default)(U.default.text,{hidden:t})},void 0,D.default.Messages.JUMP),G(A.default,{type:A.default.Type.PULSING_ELLIPSIS,className:(0,o.default)(U.default.loading,(e={},e[U.default.visible]=t,e))}))},a.renderCloseButton=function(){var e=this.props,t=e.onCloseMessage,n=e.canCloseAllMessages,r=e.canManageMessages,a=e.channel;return null==t?null:n||a.isPrivate()||r?G(T.default,{look:T.default.Looks.BLANK,size:T.default.Sizes.NONE,onClick:this.handleClickClose},void 0,G("div",{className:U.default.closeButton})):null},a.render=function(){return G("div",{className:U.default.actionButtons},void 0,this.renderJumpButton(),this.renderCloseButton())},r}(a.PureComponent);B.displayName="ControlButtons";var H=u.default.connectStores([_.default],function(e){var t=e.channel;return{canManageMessages:_.default.can(L.Permissions.MANAGE_MESSAGES,t)}})(B),V=G(A.default,{}),Y=G(A.default,{}),W=(0,i.default)({displayName:"MessagesPopout",mixins:[u.default.StoreListenerMixin(E.default,S.default,y.default,m.default),s.default],statics:{EmptyStateCenter:j,EmptyStateBottom:x,Header:F},getDefaultProps:function(){return{showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1}},scrollPageUp:function(){var e=this.scroller;e&&e.scrollPageUp(!0)},scrollPageDown:function(){var e=this.scroller;e&&e.scrollPageDown(!0)},UNSAFE_componentWillMount:function(){M.default.track(L.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel)},componentDidMount:function(){P.ComponentDispatch.subscribe(L.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),P.ComponentDispatch.subscribe(L.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},componentWillUnmount:function(){P.ComponentDispatch.unsubscribe(L.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),P.ComponentDispatch.unsubscribe(L.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp)},getStateFromStores:function(){var e=y.default.hasNotice(),t=E.default.inlineAttachmentMedia,n=E.default.inlineEmbedMedia,r=E.default.renderEmbeds,a=E.default.developerMode,o=E.default.messageDisplayCompact,i=this.props.channel?m.default.getMessages(this.props.channel.id):null,l=!!i&&(i.loadingMore&&!i.get(i.jumpTargetId));return{inlineAttachmentMedia:t,inlineEmbedMedia:n,renderEmbeds:r,developerMode:a,messageDisplayCompact:o,isNoticeOpen:e,size:S.default.windowSize(),jumping:l}},renderControlButtons:function(e){var t=e.channel,n=e.messages[0],r=this.props,a=r.canCloseAllMessages,o=r.onCloseMessage,i=this.state.jumping;return G(H,{channel:t,message:n,jumping:i,canCloseAllMessages:a,jumpTo:this.jumpTo,onCloseMessage:o})},jumpTo:function(e,t){var n=e.id,r=e.blocked,a=e.author,o=e.channel_id;if(r)d.default.show({title:D.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:D.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:a.username}),confirmText:D.default.Messages.OKAY});else if(!this.state.jumping){var i=p.default.getChannel(o);i&&(f.default.trackJump(o,n,this.props.analyticsName),b.default.transitionTo(L.Routes.CHANNEL(i.getGuildId(),o,n))),this.props.onJump&&this.props.onJump(t)}},handleScroll:function(){var e=this.scroller;if(e){var t=e.getScrollData();t.scrollHeight===t.scrollTop+t.offsetHeight&&this.props.hasMore&&!this.props.loading&&this.props.loadMore()}},selectChannel:function(e,t){e!==g.default.getChannelId()&&c.default.transitionToInviteChannelSync(e),this.props.onJump&&this.props.onJump(t)},setScrollerRef:function(e){this.scroller=e},render:function(){var e=this,t=null,n=!0,r=this.props,i=r.messages,s=r.loading,u=r.channel,d=r.className;if(i)if(0===i.length)t=this.props.renderEmptyState(E.default.theme);else{n=!1,t=[];var c=this.props.showChannels?null:u,f=this.state,m=f.renderEmbeds,y=f.inlineEmbedMedia,_=f.inlineAttachmentMedia;l.default.each(i,function(n){if(e.props.showChannels&&(null==c||c.id!==n.channel_id)){c=p.default.getChannel(n.channel_id);var r=v.default.getGuild(c.getGuildId());t.push(G("div",{className:U.default.channelSeparator},""+n.id+c.id,G(O.default,{tag:"span",className:U.default.channelName,onClick:e.selectChannel.bind(null,c.id)},void 0,c?c.toString(!0):"???"),e.props.showGuildNames&&G("span",{className:U.default.guildName},void 0,r?r.toString():"")))}var a=c.isNSFW()?h.default.didAgree(c.getGuildId()):null;if(null!=n){var o=G("div",{className:U.default.messageGroupWrapper},n.id,G("div",{className:U.default.messageGroupWrapperOffsetCorrection},void 0,G(R.default,{cozyClassName:U.default.messageGroupCozy,messages:[n],channel:c,inlineAttachmentMedia:_&&null!=a?a:_,inlineEmbedMedia:y&&null!=a?a:y,renderEmbeds:m&&null!=a?a:m,renderEmbedsSmall:!0,compact:!1,developerMode:e.state.developerMode,hasDivider:!1,popoutPosition:I.default.Positions.LEFT,groupOption:e.renderControlButtons,onClickAnywhere:function(t){return e.jumpTo(n,t)},messageOption:!1,canEdit:!1,renderMentioned:e.props.renderMentioned,disableInteractionLabel:D.default.Messages.JUMP,accessoriesClassName:U.default.accessories})));t.push(o)}})}else t=G("div",{className:(0,o.default)(U.default.emptyPlaceholder,U.default.loadingPlaceholder)},void 0,V);var g=null;t.length>0&&this.props.loadMore&&(g=s?G("div",{className:U.default.loadingMore},"loading-more-after",Y):this.props.hasMore?G("div",{className:U.default.hasMore},"has-more-after",G("button",{type:"button",onClick:this.props.loadMore,className:U.default.hasMoreButton},void 0,D.default.Messages.LOAD_MORE_MESSAGES)):G("div",{className:U.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(E.default.theme)));var S=this.props.getProTip&&this.props.getProTip(),T=n&&S?G("div",{className:(0,o.default)(w.default.footer,U.default.footer)},void 0,G(C.default,{style:{width:"100%",paddingTop:10}},void 0,S)):null,A={maxHeight:this.state.size.height-43-25};this.state.isNoticeOpen&&(A.maxHeight-=40);var M=this.props.loadMore&&this.props.hasMore;return G("div",{className:(0,o.default)(U.default.messagesPopoutWrap,w.default.themedPopout,d),style:A},void 0,this.props.renderHeader(),a.createElement(N.default,{className:U.default.messagesPopout,ref:this.setScrollerRef,onScroll:M?this.handleScroll:void 0,backgroundColor:E.default.theme===L.ThemeTypes.LIGHT?L.Colors.WHITE:L.Colors.PRIMARY_DARK_630},t,g),T)}});t.default=W,e.exports=t.default},6318:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=z(n(3)),l=n(56),s=z(n(909)),u=z(n(21)),d=z(n(1)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(228)),f=z(n(131)),p=n(478),h=z(n(155)),v=z(n(150)),m=z(n(6085)),y=z(n(9)),_=z(n(222)),g=z(n(884)),E=z(n(12)),S=z(n(474)),T=z(n(458)),O=z(n(6601)),I=z(n(6211)),C=z(n(6319)),N=z(n(910)),A=z(n(860)),M=z(n(57)),P=z(n(41)),b=z(n(71)),R=z(n(28)),L=z(n(46)),D=z(n(6602)),w=z(n(181)),U=z(n(64)),k=z(n(235)),G=z(n(6320)),F=z(n(307)),j=z(n(6603)),x=z(n(6055)),B=z(n(14)),H=z(n(130)),V=z(n(457)),Y=z(n(840)),W=z(n(185)),K=n(0);function z(e){return e&&e.__esModule?e:{default:e}}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}f.default.register((0,Y.default)(K.Experiments.OFF_PLATFORM_PREMIUM_PERK_UPSELL,"Off Platform Premium Perk Upsell",["Promote premium perk to off platform users.","Control: No upsell","Treatment 1: With upsell"]),((a={})[K.ExperimentTypes.NONE]=function(){return null},a[K.ExperimentTypes.USER]=((r={})[K.ExperimentBuckets.CONTROL]=function(){return null},r[K.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var q=((o={})[K.NoticeTypes.DOWNLOAD_NAG]="hideNag",o[K.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",o[K.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",o[K.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",o[K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED]="hidePremiumGrandfatheredStarted",o[K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING]="hidePremiumGrandfatheredEnding",o[K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED]="hidePremiumGrandfatheredEnded",o[K.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]="hideDetectedOffPlatformPremiumPerkUpsell",o),X=new Set([K.NoticeTypes.NO_INPUT_DETECTED,K.NoticeTypes.STREAMER_MODE,K.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,K.NoticeTypes.SPOTIFY_AUTO_PAUSED,K.NoticeTypes.DISPATCH_ERROR,K.NoticeTypes.DISPATCH_ERROR,K.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),Q={},J=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),Z=null;function ee(e){if(null!=e){var t=q[e];null!=t&&u.default.set(t,!0),X.has(e)&&(Q[e]=!0),e===K.NoticeTypes.PREMIUM_PROMO&&(0,p.setFlag)(K.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function te(e){if(null==e)return!1;var t=q[e];return t?u.default.get(t):!!X.has(e)&&Q[e]}function ne(){if(!T.default.isConnected())return!1;Z=null;var e,t,n=B.default.getCurrentUser(),r=V.default.getPremiumSubscription(),a=null!=r?r.plan:null,o=H.default.getCurrentVoiceChannelId(null,E.default.getId()),i=null!=o&&H.default.hasVideo(null,o),u=O.default.getDetectedOffPlatformPremiumPerks(),d=C.default.getLastError(),c=N.default.getLastProgress(),f=j.default.getCurrentSurvey();if(null!=g.default.getRequest())Z=$({},J,{type:K.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(w.default.isDisabled())Z=$({},J,{type:K.NoticeTypes.VOICE_DISABLED});else if(!1===L.default.getInputDetected())Z=$({},J,{type:K.NoticeTypes.NO_INPUT_DETECTED});else if(w.default.isConnected()&&L.default.isHardwareMute()){var p=L.default.getInputDeviceId(),v=S.default.getVendor(p),M=S.default.getModel(p);null!=v&&null!=M&&(Z=$({},J,{type:K.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:v,model:M}}))}else if(null!=d)Z=$({},J,{type:K.NoticeTypes.DISPATCH_ERROR,metadata:{error:d}});else if(null!=c)Z=$({},J,{type:K.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:c});else if(k.default.wasAutoPaused())Z=$({},J,{type:K.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!te(K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED)&&null!=a&&_.default.isGrandfathered(a)&&_.default.isNearGrandfatheredStartPeriod())Z=$({},J,{type:K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED,metadata:{plan:a}});else if(!te(K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED)&&null!=a&&_.default.isGrandfathered(a)&&_.default.getDaysToGrandfatheredEnd(a)>=-14&&_.default.getDaysToGrandfatheredEnd(a)<=0)Z=$({},J,{type:K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED});else if(!te(K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING)&&null!=a&&_.default.isGrandfathered(a)&&_.default.getDaysToGrandfatheredEnd(a)>0&&_.default.getDaysToGrandfatheredEnd(a)<=_.default.GRANDFATHERED_DAYS_APPROACHING)Z=$({},J,{type:K.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING,metadata:{plan:a}});else if(null!=n&&null==n.email)Z=$({},J,{type:K.NoticeTypes.UNCLAIMED_ACCOUNT});else if(!y.default.embedded||s.default.supported()&&!A.default.isCorruptInstallation())if(!i||L.default.supports(l.Features.VIDEO)||te(K.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(u.length>0&&_.default.canRedeemPremiumPerks(n)){var b=u[0];Z=$({},J,{type:K.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK,metadata:b})}else if(!te(K.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL)&&u.length>0&&(null!=(t=m.default.triggerFirstEligibleUserExperiment([K.Experiments.OFF_PLATFORM_PREMIUM_PERK_UPSELL]))&&t.bucket===K.ExperimentBuckets.TREATMENT_1)){var R=u[0];Z=$({},J,{type:K.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL,metadata:R})}else if(I.default.getDisplayType()===K.DetectedPlatformAccountsDisplayTypes.NOTICE)Z=$({},J,{type:K.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:I.default.getDetectedAccounts()});else if(F.default.enabled)Z=$({},J,{type:K.NoticeTypes.STREAMER_MODE});else if(y.default.embedded||te(K.NoticeTypes.DOWNLOAD_NAG))if(e=G.default.getScheduledMaintenance())Z=$({},J,{type:K.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:e.id,start:new Date(e.scheduled_for),end:new Date(e.scheduled_until)}});else if(null!=f)Z=$({},J,{type:K.NoticeTypes.SURVEY,metadata:f});else if(null==n||n.verified)if(k.default.hasConnectedAccount()||!U.default.isObservedAppRunning(h.default.get(K.PlatformTypes.SPOTIFY).name)||te(K.NoticeTypes.CONNECT_SPOTIFY))if(null==n||_.default.isPremium(n)||n.hasFlag(K.UserFlags.PREMIUM_PROMO_DISMISSED)||!D.default.isEligible()||te(K.NoticeTypes.PREMIUM_PROMO))if(null==n||!n.mfaEnabled||n.hasFlag(K.UserFlags.MFA_SMS)||n.hasFlag(K.UserFlags.STAFF)||n.hasFlag(K.UserFlags.PARTNER)||te(K.NoticeTypes.MFA_SMS_BACKUP)){if(null!=W.default.testModeApplicationId){var x=W.default.testModeApplicationId,Y=P.default.getGame(x),z=null!=Y?Y.name:x;Z=$({},J,{type:K.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:z,applicationId:x}})}}else Z=$({},J,{type:K.NoticeTypes.MFA_SMS_BACKUP});else Z=$({},J,{type:K.NoticeTypes.PREMIUM_PROMO});else Z=$({},J,{type:K.NoticeTypes.CONNECT_SPOTIFY});else Z=$({},J,{type:K.NoticeTypes.UNVERIFIED_ACCOUNT});else Z=$({},J,{type:K.NoticeTypes.DOWNLOAD_NAG});else Z=$({},J,{type:K.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});else Z=$({},J,{type:K.NoticeTypes.CORRUPT_INSTALLATION});null!=Z&&te(Z.type)&&(Z=null)}function re(){return F.default.enabled||delete Q[K.NoticeTypes.STREAMER_MODE],ne()}var ae=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([j.default,g.default,D.default,O.default],ne),this.waitFor(B.default,G.default,R.default,b.default,w.default,L.default,F.default,M.default,v.default,x.default,g.default,I.default,k.default,U.default,D.default,C.default,N.default,W.default,V.default,A.default,O.default)},a.hasNotice=function(){return null!=Z&&null!=Z.type},a.getNotice=function(){return null==x.default.getAction()?Z:null},r}(i.default.Store))(d.default,{CONNECTION_OPEN:function(e){return function(){if(!T.default.isConnected())return!1;var e=B.default.getCurrentUser();_.default.isPremium(e)&&_.default.shouldCheckGrandfatheredPlan()&&d.default.wait(function(){return c.fetchSubscriptions()}),ne()}()},CURRENT_USER_UPDATE:function(e){return ne()},AUDIO_ENABLE:function(e){return ne()},VOICE_CHANNEL_CLEAR:function(e){return ne()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return ne()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return ne()},GUILD_CREATE:function(e){return ne()},GUILD_DELETE:function(e){return ne()},AUDIO_INPUT_DETECTED:function(e){return ne()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return ne()},CERTIFIED_DEVICES_SET:function(e){return ne()},AUDIO_SET_INPUT_DEVICE:function(e){return ne()},AUDIO_SET_OUTPUT_DEVICE:function(e){return ne()},MEDIA_ENGINE_DEVICES:function(e){return ne()},RTC_CONNECTION_STATE:function(e){return ne()},RPC_APP_AUTHENTICATED:function(e){return ne()},RPC_APP_DISCONNECTED:function(e){return ne()},PLATFORM_ACCOUNTS_DETECTED:function(e){return ne()},PLATFORM_ACCOUNTS_IGNORE:function(e){return ne()},USER_CONNECTIONS_UPDATE:function(e){return ne()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return ne()},WINDOW_FOCUS:function(e){return ne()},INSTANT_INVITE_CREATE:function(e){return ne()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return ne()},SPOTIFY_PLAYER_PAUSE:function(e){return ne()},RUNNING_GAMES_CHANGE:function(e){return ne()},EXPERIMENTS_FETCH_SUCCESS:function(e){return ne()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return ne()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return ne()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return ne()},DEVELOPER_TEST_MODE_RESET:function(e){return ne()},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return ne()},DISPATCH_APPLICATION_INSTALL:function(e){return ne()},VOICE_STATE_UPDATE:function(e){return e.userId===E.default.getId()&&ne()},STREAMER_MODE_UPDATE:function(e){return re()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return re()},DISPATCH_APPLICATION_ERROR:function(e){return delete Q[K.NoticeTypes.DISPATCH_ERROR],ne()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete Q[K.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],ne()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return ne()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return ne()},NOTICE_SHOW:function(e){Z=e.notice},NOTICE_DISMISS:function(e){return null!=Z&&(null==e.id||e.id===Z.id)&&(ee(Z.type),ne())},NOTICE_DISABLE:function(e){return ee(e.noticeType),ne()},LOGOUT:function(e){return Q={},void(Z=null)}});t.default=ae,e.exports=t.default},6319:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,s=[o.DispatchErrorCodes.REDISTRIBUTABLE_INSTALL_FAILED,o.DispatchErrorCodes.POST_INSTALL_FAILED,o.DispatchErrorCodes.POST_INSTALL_CANCELLED],u=[o.DispatchErrorCodes.APPLICATION_NOT_FOUND,o.DispatchErrorCodes.APPLICATION_LOAD_FAILED,o.DispatchErrorCodes.INTERRUPTED,o.DispatchErrorCodes.DESERIALIZATION_FAILED];var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getLastError=function(){return l},r}(r.default.Store))(a.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=l&&s.includes(l.code)&&(l=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;l=u.includes(t.code)?null:t}});t.default=d,e.exports=t.default},6320:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(21)),o=l(n(1)),i=l(n(6254));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s="MaintenanceStore",u=null,d=null,c=null;var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){c=a.default.get(s)},o.getIncident=function(){return u},o.getScheduledMaintenance=function(){return null!=d&&d.id!==c?d:null},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){return u=null,void i.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){u=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){d=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return function(){if(null==d)return!1;c=d.id,a.default.set(s,c)}()}});t.default=f,e.exports=t.default},6448:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(17)),i=p(n(124)),l=f(n(148)),s=n(828),u=n(0),d=f(n(5357)),c=f(n(5472));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.title,n=e.description,r=e.agreement,a=e.disagreement,u=e.onAgree,f=e.onDisagree;return h(s.BackgroundOpacityContext.Consumer,{},void 0,function(e){var s=e.backgroundOpacity;return h(l.default,{className:(0,o.default)(c.default.gatedContent,c.default[s+"BackgroundOpacity"]),justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,h("div",{className:(0,o.default)(c.default.image,d.default.marginBottom20)}),h("div",{className:(0,o.default)(c.default.title,d.default.marginBottom8)},void 0,t),h("div",{className:(0,o.default)(c.default.description,d.default.marginBottom20)},void 0,n),h("div",{className:(0,o.default)(c.default.separator,d.default.marginBottom40)}),h(l.default,{justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,grow:0},void 0,h(i.default,{className:c.default.action,size:i.ButtonSizes.LARGE,look:i.ButtonLooks.OUTLINED,color:i.ButtonColors.PRIMARY,onClick:f},void 0,a),h(i.default,{className:c.default.action,color:c.default.actionRed,size:i.ButtonSizes.LARGE,onClick:u},void 0,r)))})},r}(a.PureComponent);v.displayName="GatedContent",v.defaultProps={onAgree:u.NOOP,onDisagree:u.NOOP};var m=v;t.default=m,e.exports=t.default},6449:function(e,t,n){"use strict";t.__esModule=!0,t.getDispatchApplicationStates=w,t.default=void 0;var r,a,o,i,l,s=M(n(2)),u=A(n(17)),d=A(n(303)),c=A(n(3)),f=A(n(826)),p=A(n(154)),h=A(n(860)),v=A(n(41)),m=A(n(86)),y=A(n(301)),_=n(6072),g=A(n(6958)),E=A(n(437)),S=M(n(111)),T=A(n(888)),O=A(n(6639)),I=n(0),C=A(n(13)),N=A(n(5583));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var R=Object.freeze(((i={})[I.LocalDispatchApplicationStates.INSTALLING]=((r={})[_.TimeUnits.NONE]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},r[_.TimeUnits.SECONDS]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},r[_.TimeUnits.MINUTES]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},r[_.TimeUnits.HOURS]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},r),i[I.LocalDispatchApplicationStates.UPDATING]=((a={})[_.TimeUnits.NONE]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({name:e})},a[_.TimeUnits.SECONDS]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({name:e,timeRemaining:t})},a[_.TimeUnits.MINUTES]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({name:e,timeRemaining:t})},a[_.TimeUnits.HOURS]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({name:e,timeRemaining:t})},a),i[I.LocalDispatchApplicationStates.REPAIRING]=((o={})[_.TimeUnits.NONE]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({name:e})},o[_.TimeUnits.SECONDS]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({name:e,timeRemaining:t})},o[_.TimeUnits.MINUTES]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({name:e,timeRemaining:t})},o[_.TimeUnits.HOURS]=function(e,t){return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({name:e,timeRemaining:t})},o),i)),L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderProgressBody=function(e,n){var r=t.props,a=r.state,o=r.application,i=a.stage,l=a.progress,s=a.total,u=a.type;if(null==l||null==s||null==i)return null;var d=e[e.length-1]/n*1e3,c=s-l,f=0!==d?Math.max(1,c/d):null,p=null!=f?f/60:null,h=R[u],v=null!=h?Object.keys(h):[],m=(0,_.getTimeAndUnit)(p,v),y=m.unit,g=m.time;if(null!=h&&null!=y){var E=h[y];return null!=E?E(o.name,g):null}return null},t}b(t,e);var n=t.prototype;return n.renderText=function(){var e=this.props,t=e.state,n=e.isPaused;if(t.type===I.LocalDispatchApplicationStates.UPDATING||t.type===I.LocalDispatchApplicationStates.REPAIRING||t.type===I.LocalDispatchApplicationStates.INSTALLING){if(n)return C.default.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;if(t.stage===I.DispatchApplicationStages.PATCHING||t.stage===I.DispatchApplicationStages.REPAIRING)return P(O.default,{getHistoricalTotalBytes:p.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressBody)}return null},n.render=function(){var e=this.renderText();return null!=e?e:C.default.Messages.LIBRARY},t}(s.PureComponent);L.displayName="UpdateProgressTooltipText";var D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={animationScale:new d.default.Value(0)},t.handleOnClick=function(e){var n=t.props.onClick;e.preventDefault(),e.stopPropagation(),null!=n&&n(e),T.default.transitionTo(I.Routes.APPLICATION_LIBRARY)},t}b(t,e);var n=t.prototype;return n.componentWillAppear=function(e){this.state.animationScale.setValue(1),e()},n.componentWillEnter=function(e){d.default.spring(this.state.animationScale,{toValue:1,duration:200}).start(e)},n.componentWillLeave=function(e){d.default.spring(this.state.animationScale,{toValue:0,duration:200}).start(e)},n.getTooltipText=function(){var e=this.props,t=e.firstApplication,n=e.firstState,r=e.isPaused;return null==t||null==n?C.default.Messages.LIBRARY:P(L,{application:t,state:n,isPaused:r})},n.render=function(){var e=this.props,t=e.percent,n=e.isPaused,r=e.className;return P(d.default.div,{style:{transform:[{scale:this.state.animationScale}]},className:(0,u.default)(r,N.default.progressContainer),onClick:this.handleOnClick},void 0,P(E.default,{text:this.getTooltipText(),position:E.default.Positions.RIGHT},void 0,P("div",{},void 0,P(g.default,{percent:t,colorOverride:n?I.Colors.PRIMARY_DARK_500:null},void 0,P(y.default,{name:y.default.Names.NOVA_DOWNLOAD,className:N.default.downloadIcon})))))},t}(s.PureComponent);D.displayName="GameUpdateProgressIndicator",D.defaultProps={strokeSize:g.default.StrokeSizes.MEDIUM};function w(e){return e.reduce(function(e,t){var n=t.applicationId,r=t.branchId,a=p.default.getState(n,r);return null!=a&&e.push(a),e},[])}var U=c.default.connectStores([p.default,h.default,m.default],function(){var e=h.default.activeItems,t=w(e),n=S.getCombinedProgress(t),r=n.total,a=n.progress;return{percent:S.calculateProgressPercentage(a,r),isPaused:h.default.paused,firstApplication:e.length>0?v.default.getGame(e[0].applicationId):null,firstState:t.length>0?t[0]:null}})(function(e){var t=e.determineOwnVisibility,n=void 0===t||t,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["determineOwnVisibility"]);return n?P(f.default,{component:s.Fragment},void 0,r.percent>0&&r.percent<100?s.createElement(D,r):null):s.createElement(D,r)});t.default=U},6456:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(4)),o=h(n(3)),i=h(n(8)),l=h(n(1)),s=h(n(126)),u=h(n(313)),d=h(n(6111)),c=h(n(128)),f=h(n(20)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m,y,_,g,E,S=p.FormStates.CLOSED,T={},O={},I=!1,C=!1,N=["name","type","topic","bitrate","userLimit","nsfw","rateLimitPerUser"];function A(e){var t=f.default.getChannel(e.channelId);if(null==t)return P();S=p.FormStates.OPEN,null!=(_=y=t)&&(_=_.set("nsfw",_.isNSFW())),g=f.default.getChannel(_.parent_id),E=_.getGuildId(),T={},M({section:m||p.ChannelSettingsSections.OVERVIEW})}function M(e){m=e.section,null!=_&&m===p.ChannelSettingsSections.INSTANT_INVITES&&(I=!0,i.default.get(p.Endpoints.INSTANT_INVITES(_.id)).then(function(e){I=!1,l.default.dispatch({type:p.ActionTypes.CHANNEL_SETTINGS_LOADED_INVITES,invites:e.body})},function(){return I=!1}))}function P(){C=!1,S=p.FormStates.CLOSED,m=null,_=y=null,g=null,O={}}var b=r.default.debounce(function(){if(null==_||null==y)return!1;var e=_.toJS(),t=y.toJS();N.every(function(n){return e[n]===t[n]})&&_!==y&&(_=y,L.emitChange())},500);function R(e){return new d.default({code:e.code,temporary:e.temporary,revoked:e.revoked,inviter:null!=e.inviter?new c.default(e.inviter):null,channel:new s.default(e.channel),guild:null!=e.guild?new u.default(e.guild):null,uses:e.uses,maxUses:e.max_uses,maxAge:e.max_age,createdAt:(0,a.default)(e.created_at)})}var L=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default)},a.hasChanges=function(){return _!==y},a.isOpen=function(){return C},a.getSection=function(){return m},a.getInvites=function(){return{invites:O,loading:I}},a.showNotice=function(){return this.hasChanges()},a.getChannel=function(){return _},a.getFormState=function(){return S},a.getCategory=function(){return g},a.getProps=function(){return{submitting:S===p.FormStates.SUBMITTING,errors:T,channel:_,section:m,invites:O,selectedOverwriteId:E,hasChanges:this.hasChanges()}},r}(o.default.Store))(l.default,{CHANNEL_SETTINGS_INIT:A,CHANNEL_SETTINGS_OPEN:function(e){C=!0,A(e)},CHANNEL_SETTINGS_SUBMIT:function(e){S=p.FormStates.SUBMITTING},CHANNEL_SETTINGS_SUBMIT_SUCCESS:function(e){A(e)},CHANNEL_SETTINGS_SUBMIT_FAILURE:function(e){S=p.FormStates.OPEN,T=e.errors||{}},CHANNEL_SETTINGS_CLOSE:function(e){return P()},CHANNEL_SETTINGS_OVERWRITE_SELECT:function(e){var t=e.overwriteId;E=t},CHANNEL_SETTINGS_UPDATE:function(e){var t=e.name,n=e.channelType,r=e.topic,a=e.bitrate,o=e.userLimit,i=e.nsfw,l=e.rateLimitPerUser;if(null==_)return!1;null!=t&&(_=_.set("name",t)),null!=r&&(_=_.set("topic",r)),null!=a&&(_=_.set("bitrate",a)),null!=o&&(_=_.set("userLimit",o)),null!=i&&(_=_.set("nsfw",i)),null!=l&&(_=_.set("rateLimitPerUser",l)),null!=n&&(_=_.set("type",n)),b()},CHANNEL_SETTINGS_SET_SECTION:M,CHANNEL_SETTINGS_LOADED_INVITES:function(e){O={},e.invites.forEach(function(e){O[e.code]=R(e)})},CHANNEL_UPDATE:function(e){if(!function(e){if(null==y||y.id!==e)return!1;if(y===_){var t=f.default.getChannel(e);if(null==t)return!1;_=y=t,g=f.default.getChannel(_.parent_id)}else{var n=f.default.getChannel(e);if(null==n)return!1;y=n,null!=_&&(_=_.set("permissionOverwrites",y.permissionOverwrites),g=f.default.getChannel(_.parent_id))}return!0}(e.channel.id)||null==_)return!1;null!=E&&null==_.permissionOverwrites[E]&&(E=_.getGuildId())},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=_&&_.id===t&&void(S=p.FormStates.CLOSED)},INSTANT_INVITE_REVOKE_SUCCESS:function(e){delete(O=v({},O))[e.code]},INSTANT_INVITE_CREATE_SUCCESS:function(e){var t;O=v({},O,((t={})[e.invite.code]=R(e.invite),t))}}),D=L;t.default=D,e.exports=t.default},6457:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GiftCodeResolvingHeader=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(3)),l=_(n(41)),s=_(n(14)),u=_(n(6067)),d=_(n(176)),c=_(n(6005)),f=n(6017),p=n(0),h=_(n(13)),v=_(n(312)),m=_(n(5357)),y=_(n(5640));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(){return g(a.Fragment,{},void 0,g(f.Avatar,{src:null,size:f.Avatar.Sizes.XXLARGE,className:m.default.marginBottom20}),g(f.Subtitle,{},void 0,h.default.Messages.GIFT_CODE_AUTH_GIFTED),g(f.Title,{className:(0,o.default)(m.default.marginTop8,v.default.flexCenter)},void 0,h.default.Messages.LOADING))};t.GiftCodeResolvingHeader=E,E.displayName="GiftCodeResolvingHeader";var S=function(e){var t=e.error,n=e.gifter,r=e.sku,i=e.application,l=e.subscriptionPlan,s=null==n?h.default.Messages.GIFT_CODE_AUTH_GIFTED:h.default.Messages.GIFT_CODE_AUTH_GIFTED_BY.format({username:n.username}),u=r.name;return null!=l&&(u=(l.interval===p.SubscriptionIntervalTypes.MONTH?h.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_MONTHLY:h.default.Messages.GIFT_CODE_AUTH_GIFTED_SUBSCRIPTION_YEARLY).format({skuName:r.name,intervalCount:l.intervalCount})),g(a.Fragment,{},void 0,g(f.Avatar,{src:null!=n?n.getAvatarURL():null,size:f.Avatar.Sizes.XXLARGE,className:m.default.marginBottom20}),null!=t?g(a.Fragment,{},void 0,g(f.Subtitle,{},void 0,h.default.Messages.INVITE_MODAL_ERROR_TITLE),g(f.Title,{},void 0,t)):g(a.Fragment,{},void 0,g(f.Subtitle,{},void 0,s),g(f.Title,{className:(0,o.default)(m.default.marginTop8,v.default.flexCenter)},void 0,g(c.default,{size:c.default.Sizes.MEDIUM,className:y.default.applicationIcon,game:i,skuId:r.id}),u)))};S.displayName="GiftCodeHeader";var T=i.default.connectStores([d.default,l.default,u.default,s.default],function(e){var t=e.giftCode,n=d.default.get(t.skuId),r=t.subscriptionPlanId;return{sku:n,subscriptionPlan:null!=r?u.default.get(r):null,application:null!=n?l.default.getGame(n.applicationId):null,gifter:s.default.getUser(t.userId)}})(S);t.default=T},6458:function(e,t,n){"use strict";t.__esModule=!0,t.shouldNotify=function(e,t,n){void 0===n&&(n=!1);var o=r.default.getChannel(t);if(null==o)return!1;if(o.isManaged())return!1;var p=o.getGuildId();if(null!=p&&a.default.isLurking(p))return!1;var h=c.default.getUser(e.author.id),m=c.default.getCurrentUser();if(null==h||null==m)return!1;if(h.id===m.id)return!1;if(i.default.isBlocked(h.id))return!1;if(u.default.getStatus()===v.StatusTypes.DND)return!1;if(d.default.allowNoMessages(o))return!1;if(n){var y=s.default.getGuildId(),_=l.default.getChannelId(y);if(_===o.id)return!1}if(d.default.allowAllMessages(o))return!0;var g=d.default.isSuppressEveryoneEnabled(o.getGuildId());return f.default.isMentioned(e,m.id,g)},t.makeTextChatNotification=function(e,t,n){var a=p.default.getName(e.getGuildId(),e.id,n),i=a;switch(e.type){case v.ChannelTypes.GUILD_NEWS:case v.ChannelTypes.GUILD_TEXT:var l=r.default.getChannel(e.parent_id);if(t.type===v.MessageTypes.DEFAULT)i=_(i,e,l);else{var s=o.default.getGuild(e.getGuildId());null!=s&&(i=_(i,e,l))}break;case v.ChannelTypes.GROUP_DM:var u=e.isManaged()&&n.bot&&i===e.toString();u||(i=i+" ("+e.toString(!0)+")")}var d,c=t.content;if(t.type!==v.MessageTypes.DEFAULT&&null==(c=h.default.stringify(t)))throw console.warn("SystemMessageUtils.stringify(...) could not convert",t),new Error("failed to stringify system message");if(null!=t.activity&&null!=t.application){var y,E=t.activity.type===v.ActivityActionTypes.JOIN;y=E?g(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_JOIN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_JOIN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_JOIN):g(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_SPECTATE,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_SPECTATE,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_SPECTATE),d=y.format({user:a,game:t.application.name})}else if(null!=t.activity&&t.activity.type===v.ActivityActionTypes.LISTEN){var S=g(e,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GUILD_ACTIVITY_LISTEN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_GROUP_DM_ACTIVITY_LISTEN,m.default.Messages.NOTIFICATION_MESSAGE_CREATE_DM_ACTIVITY_LISTEN);d=S.format({user:a})}else d=f.default.unparse(c,e.id,!0);if(!d.length&&t.attachments.length){var T=t.attachments[0].filename;d=m.default.Messages.NOTIFICATION_BODY_ATTACHMENT.format({filename:T})}if(!d.length&&t.embeds.length){var O=t.embeds[0];if(null!=O.description)d=null!=O.title?O.title+": "+O.description:O.description;else if(null!=O.title)d=O.title;else if(null!=O.fields){var I=O.fields[0];d=I.name+": "+I.value}}return{icon:n.getAvatarURL(),title:i,body:d}};var r=y(n(20)),a=y(n(230)),o=y(n(28)),i=y(n(85)),l=y(n(49)),s=y(n(150)),u=y(n(319)),d=y(n(226)),c=y(n(14)),f=y(n(314)),p=y(n(456)),h=y(n(6244)),v=n(0),m=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e,t,n){return e+" ("+t.toString(!0)+(null!=n?", "+n.toString():"")+")"};function g(e,t,n,r){switch(e.type){case v.ChannelTypes.GUILD_NEWS:case v.ChannelTypes.GUILD_TEXT:return t;case v.ChannelTypes.GROUP_DM:return n;case v.ChannelTypes.DM:default:return r}}},6471:function(e,t,n){"use strict";t.__esModule=!0,t.isSupported=l,t.setEnabled=function(e){return null!=s?s.then(function(t){t.enabled=e}):Promise.resolve()},t.setLearnedWords=function(e){return null!=s?s.then(function(t){return t.setLearnedWords(e)}):Promise.resolve()},t.isMisspelled=function(e,t){void 0===t&&(t=!1);return null!=s?s.then(function(n){return n.isMisspelled(e,t)}):Promise.resolve(!1)},t.getCorrections=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=5);return null!=s?s.then(function(r){return r.getCorrectionsForMisspelling(e,t).slice(0,n)}):Promise.resolve([])},t.replaceWithCorrection=function(e){r.default.spellCheck.replaceMisspelling(e)};var r=i(n(88)),a=n(6776),o=i(n(9));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return o.default.embedded&&(o.default.isOSX()||o.default.isWindows()&&parseFloat(r.default.os.release)>=6.2)}var s=l()?(0,a.install)():null},6472:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r={aa:"aa-ET",af:"af-ZA",ak:"ak-GH",am:"am-ET",an:"an-ES",ar:"ar-MA",as:"as-IN",ay:"ay-PE",az:"az-AZ",be:"be-BY",bg:"bg-BG",bi:"bi-TV",bn:"bn-BD",bo:"bo-CN",br:"br-FR",bs:"bs-BA",ca:"ca-ES",ce:"ce-RU",cs:"cs-CZ",cv:"cv-RU",cy:"cy-GB",da:"da-DK",de:"de-DE",dv:"dv-MV",dz:"dz-BT",el:"el-GR",en:"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fa:"fa-IR",ff:"ff-SN",fi:"fi-FI",fo:"fo-FO",fr:"fr-FR",fy:"fy-DE",ga:"ga-IE",gd:"gd-GB",gl:"gl-ES",gu:"gu-IN",gv:"gv-GB",ha:"ha-NG",he:"he-IL",hi:"hi-IN",hr:"hr-HR",ht:"ht-HT",hu:"hu-HU",hy:"hy-AM",ia:"ia-FR",id:"id-ID",ig:"ig-NG",ik:"ik-CA",is:"is-IS",it:"it-IT",iu:"iu-CA",ja:"ja-JP",ka:"ka-GE",kk:"kk-KZ",kl:"kl-GL",km:"km-KH",kn:"kn-IN",ko:"ko-KR",ks:"ks-IN",ku:"ku-TR",kw:"kw-GB",ky:"ky-KG",lb:"lb-LU",lg:"lg-UG",li:"li-BE",ln:"ln-CD",lo:"lo-LA",lt:"lt-LT",lv:"lv-LV",mg:"mg-MG",mh:"mh-MH",mi:"mi-NZ",mk:"mk-MK",ml:"ml-IN",mn:"mn-MN",mr:"mr-IN",ms:"ms-MY",mt:"mt-MT",my:"my-MM",nb:"nb-NO",ne:"ne-NP",nl:"nl-NL",nn:"nn-NO",nr:"nr-ZA",oc:"oc-FR",om:"om-KE",or:"or-IN",os:"os-RU",pa:"pa-PK",pl:"pl-PL",ps:"ps-AF",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",rw:"rw-RW",sa:"sa-IN",sc:"sc-IT",sd:"sd-IN",se:"se-NO",si:"si-LK",sk:"sk-SK",sl:"sl-SI",so:"so-SO",sq:"sq-AL",sr:"sr-RS",ss:"ss-ZA",st:"st-ZA",sv:"sv-SE",sw:"sw-KE",ta:"ta-IN",te:"te-IN",tg:"tg-TJ",th:"th-TH",ti:"ti-ER",tk:"tk-TM",tl:"tl-PH",tn:"tn-ZA",tr:"tr-TR",ts:"ts-ZA",tt:"tt-RU",ug:"ug-CN",uk:"uk-UA",ur:"ur-PK",uz:"uz-UZ",ve:"ve-ZA",vi:"vi-VN",wa:"wa-BE",wo:"wo-SN",xh:"xh-ZA",yi:"yi-US",yo:"yo-NG",zh:"zh-CN",zu:"zu-ZA"};t.default=r,e.exports=t.default},6473:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(1)),a=u(n(311)),o=u(n(6474)),i=u(n(18)),l=n(0),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d={open:function(e,t,n,a){void 0===a&&(a=!1),r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_OPEN,guildId:e,channelId:t,forceChannel:a}),this.createInvite("IOS InstantInvite Mount",!0),i.default.track(l.AnalyticEvents.OPEN_MODAL,{Type:"Instant Invite",Source:n})},updateSettings:function(e){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_UPDATE_SETTINGS,settings:e})},resetSettings:function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_RESET_SETTINGS})},createInvite:function(e,t){var n=o.default.getPendingSettings();if(null!=n){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE});var i=n.channelId,u=n.maxAge,d=n.maxUses,c=n.temporary,f=o.default.getInvite(),p=t&&null!=f?f.code:null;a.default.createInvite(i,{validate:p,max_age:parseInt(u,10),max_uses:parseInt(d,10),temporary:c},e).then(function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS,channelId:i})},function(e){var t=s.default.Messages.INSTANT_INVITE_FAILED_TO_GENERATE;null!=e.body&&null!=e.body.message&&(t=e.body.message),r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE,message:t})})}},close:function(){r.default.dispatch({type:l.ActionTypes.CREATE_INVITE_MODAL_CLOSE})}};t.default=d,e.exports=t.default},6474:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=s(n(227)),i=s(n(6132)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d,c,f,p,h,v=o.default.INVITE_OPTIONS_1_DAY.value,m=o.default.INVITE_OPTIONS_UNLIMITED.value,y=l.FormStates.CLOSED,_=!1;function g(e){f=i.default.getInvite(e),p={channelId:e,maxAge:null!=f?f.maxAge:v,maxUses:null!=f?f.maxUses:m,temporary:null!=f&&f.temporary},h=p}var E=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return y!==l.FormStates.CLOSED},a.isSubmitting=function(){return y===l.FormStates.SUBMITTING},a.isChannelForced=function(){return _},a.getGuildId=function(){return d},a.getError=function(){return c},a.getInvite=function(){return f},a.getInviteSettings=function(){return p},a.getPendingSettings=function(){return h},r}(r.default.Store))(a.default,{CREATE_INVITE_MODAL_OPEN:function(e){y=l.FormStates.OPEN,_=e.forceChannel,d=e.guildId,c=null,g(e.channelId)},CREATE_INVITE_MODAL_UPDATE_SETTINGS:function(e){var t=e.settings;h=u({},h,t)},CREATE_INVITE_MODAL_RESET_SETTINGS:function(e){h=p},CREATE_INVITE_MODAL_GENERATE_INVITE:function(e){return y=l.FormStates.SUBMITTING,void(p=h)},CREATE_INVITE_MODAL_GENERATE_INVITE_SUCCESS:function(e){var t=e.channelId;y=l.FormStates.OPEN,c=null,g(t)},CREATE_INVITE_MODAL_GENERATE_INVITE_FAILURE:function(e){y=l.FormStates.OPEN,f=null,c=e.message},CREATE_INVITE_MODAL_CLOSE:function(e){y=l.FormStates.CLOSED}});t.default=E,e.exports=t.default},6475:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(443)),a=d(n(152)),o=d(n(12)),i=d(n(20)),l=d(n(912)),s=d(n(65)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=1010,f=new(function(e){var t,n;function l(){return e.call(this,{defaultRetryAfter:c,logger:s.default.create("InviteQueue")})||this}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=l.prototype;return d._sendInvite=function(e,t,n){a.default.sendInvite(e.id,t,u.AnalyticsLocations.GUILD_CREATE_INVITE_SUGGESTION).then(function(){return n(null,!0)},function(){return n(null,!1)})},d.drain=function(e,t){var n=this,a=e.code,l=e.channel,s=e.user;null!=l?this._sendInvite(l,a,t):null!=s?r.default.ensurePrivateChannel(o.default.getId(),s.id).then(function(e){null!=(l=i.default.getChannel(e))&&n._sendInvite(l,a,t)},function(){return t(null,!1)}):t(null,!1)},l}(l.default));t.default=f,e.exports=t.default},6476:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(6130)),a=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var i={MENTION_EVERYONE:function(){return{test:"everyone",text:"@everyone",description:a.default.Messages.MENTION_EVERYONE_AUTOCOMPLETE_DESCRIPTION}},MENTION_HERE:function(){return{test:"here",text:"@here",description:a.default.Messages.MENTION_HERE_AUTOCOMPLETE_DESCRIPTION}},LAUNCHABLE_APPLICATIONS:function(){return r.default.launchableApplicationViewItems}};t.default=i,e.exports=t.default},6477:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(6)),o=n(126),i=h(n(837)),l=h(n(843)),s=h(n(6297)),u=h(n(6053)),d=h(n(448)),c=n(449),f=n(6028),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var v=[p.Routes.ACTIVITY,p.Routes.APPLICATION_LIBRARY,p.Routes.APPLICATION_STORE,p.Routes.FRIENDS],m=((r={})[p.Routes.ACTIVITY]=0,r[p.Routes.APPLICATION_LIBRARY]=1,r[p.Routes.APPLICATION_STORE]=2,r[p.Routes.FRIENDS]=3,r);function y(e,t){(0,f.transitionToChannel)(e,t)}function _(e){var t=i.default.getChannelId(p.ME),n=d.default.getPrivateChannelIds(),r=__OVERLAY__?n:[].concat(v,n),a=(null==t?function(e){for(var t in m)if(e.startsWith(t))return m[t];return-1}(u.default.getHomeLink()):r.indexOf(t))+e;a>=r.length?a=0:a<0&&(a=r.length-1);var o,l,c=r[a];v.includes(c)?(o=c,l=s.default.getCurrentRoute(),o===p.Routes.APPLICATION_STORE&&null!=l?(0,f.transitionToPage)(l):(0,f.transitionToPage)(o)):y(p.ME,c)}var g=a.default.throttle(function(e){void 0===e&&(e=1);var t=i.default.getGuildId();null==t?_(e):function(e,t){var n,r,a=l.default.getCategories(t),s=(0,c.getFlattenedChannelList)(a._categories,a,function(e){var t=e.channel;return(0,o.isGuildSelectableChannelType)(t.type)&&!(0,c.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),u=i.default.getChannelId(t);y(t,s[(n=s.indexOf(u)+e,r=s.length,n<0?r-1:n>=r?0:n)])}(e,t)},p.NAVIGATION_THROTTLE);t.default=g,e.exports=t.default},6478:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CREATE_DM_GROUP=void 0;var r=s(n(6007)),a=s(n(150)),o=n(106),i=n(6028),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={binds:["mod+shift+t"],global:!0,action:function(){return a.default.getGuildId()&&((0,i.transitionToChannel)(l.ME),r.default.flushSelection(!0)),o.ComponentDispatch.safeDispatch(l.ComponentActions.TOGGLE_DM_CREATE),!1}};t.CREATE_DM_GROUP=u;var d={CREATE_DM_GROUP:u};t.default=d},6479:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CREATE_GUILD=void 0;var r=l(n(6064)),a=l(n(6163)),o=n(106),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s={binds:["mod+shift+n"],global:!0,action:function(){a.default.isOpen()?(r.default.setScreen(i.CreateGuildModalScreens.JoinGuild),o.ComponentDispatch.dispatch(i.ComponentActions.TRANSITION_JOIN_GUILD)):r.default.open(null,"Keyboard Shortcut")}};t.CREATE_GUILD=s;var u={CREATE_GUILD:s};t.default=u},6480:function(e,t,n){"use strict";t.__esModule=!0,t.FOCUS_SEARCH=void 0;var r=n(106),a=n(0),o={binds:["mod+f"],global:!0,action:function(e){e.preventDefault(),e.stopPropagation(),r.ComponentDispatch.dispatch(a.ComponentActions.FOCUS_SEARCH,{prefillCurrentChannel:!0})}};t.FOCUS_SEARCH=o},6481:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.SEARCH_GIFS=void 0;var r=n(106),a=n(0),o={binds:["mod+g"],global:!0,action:function(){return r.ComponentDispatch.dispatchToLastSubscribed(a.ComponentActions.TOGGLE_GIF_PICKER),!1}};t.SEARCH_GIFS=o;var i={SEARCH_GIFS:o};t.default=i},6482:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=d(n(837)),o=d(n(49)),i=d(n(451)),l=d(n(6053)),s=n(6028),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=r.default.throttle(function(e){void 0===e&&(e=1);var t,n=i.default.guildPositions,r=a.default.getGuildId(),u=-1;if(r&&(u=n.indexOf(r)),-2===(u+=e)&&(u=n.length-1),u>=n.length||u<0)(0,s.transitionToPage)(l.default.getHomeLink());else{t=n[u];var d=o.default.getChannelId(t);(0,s.transitionToChannel)(t,d===t?null:d)}},u.NAVIGATION_THROTTLE);t.default=c,e.exports=t.default},6483:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_CHANNEL_PINS=void 0;var r=n(106),a=n(0),o={binds:["mod+p"],global:!0,action:function(){return r.ComponentDispatch.dispatch(a.ComponentActions.TOGGLE_CHANNEL_PINS),!1}};t.TOGGLE_CHANNEL_PINS=o;var i={TOGGLE_CHANNEL_PINS:o};t.default=i},6484:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_HELP=void 0;var r=n(309),a={binds:["mod+shift+h","f1"],global:!0,action:function(){return window.open(r.SUPPORT_LOCATION),!1}};t.TOGGLE_HELP=a;var o={TOGGLE_HELP:a};t.default=o},6485:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_MENTIONS=void 0;var r=n(106),a=n(0),o={binds:["mod+i"],global:!0,action:function(){return r.ComponentDispatch.dispatch(a.ComponentActions.TOGGLE_MENTIONS),!1}};t.TOGGLE_MENTIONS=o;var i={TOGGLE_MENTIONS:o};t.default=i},6486:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TOGGLE_USERS=void 0;var r,a=(r=n(6300))&&r.__esModule?r:{default:r},o=n(0);var i={binds:["mod+u"],global:!0,action:function(){return a.default.toggleSection(o.ChannelSections.MEMBERS),!1}};t.TOGGLE_USERS=i;var l={TOGGLE_USERS:i};t.default=l},6487:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=n(126),o=p(n(837)),i=p(n(843)),l=p(n(451)),s=p(n(448)),u=n(449),d=n(106),c=n(6028),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e===f.ME)return s.default.getPrivateChannelIds();var t=i.default.getCategories(e);return(0,u.getFlattenedChannelList)(t._categories,t,function(e){var t=e.channel;return(0,a.isGuildSelectableChannelType)(t.type)&&!(0,u.isChannelCollapsed)(t)}).map(function(e){return e.channel.id})}var v=r.default.throttle(function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=function(e,t){return!0}),void 0===n&&(n=function(e){return!0});for(var r,a=o.default.getGuildId()||f.ME,i=function(e,t){var n=[f.ME].concat(l.default.guildPositions),r=n.indexOf(e);return t>0?n.slice(r).concat(n.slice(0,r),e):(n.splice(r,0,e),n.slice(r+1).concat(n.slice(0,r+1)))}(a,e),s=e>0?0:i.length-1,u=h(a),p=u.indexOf(o.default.getChannelId(a))+e;a;){if(r=u[p],n(a))for(;r;){if(t(a,r))return(0,c.transitionToChannel)(a,r);r=u[p+=e]}if(!(a=i[s+=e]))break;u=h(a),p=e<0?u.length-1:0}d.ComponentDispatch.dispatch(f.ComponentActions.SHAKE_APP,{duration:200,intensity:2})},f.NAVIGATION_THROTTLE);t.default=v,e.exports=t.default},6488:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.UPLOAD_FILE=void 0;var r=l(n(20)),a=l(n(49)),o=n(106),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s={binds:["mod+shift+u"],global:!0,action:function(){var e=r.default.getChannel(a.default.getChannelId());return null==e||e.isManaged()||o.ComponentDispatch.dispatch(i.ComponentActions.UPLOAD_FILE),!1}};t.UPLOAD_FILE=s;var u={UPLOAD_FILE:s};t.default=u},6489:function(e,t,n){e.exports=n.p+"3bd0d83cb24ccf918b757ab5c18dc564.svg"},6490:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=d(n(17)),o=d(n(3)),i=d(n(129)),l=n(5992),s=n(223),u=d(n(5492));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.streaming,n=e.status,o=e.hideTooltip,i=e.className,s=e.style;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.AvatarStatusIcon,{status:t?l.AvatarStatuses.STREAMING:n,hideTooltip:o,className:(0,a.default)(u.default.status,i),style:s})};c.displayName="Status";var f=o.default.connectStores([i.default],function(e){var t=e.userId,n=e.defaultStatus;return{status:null!=t?i.default.getStatus(t,null,n):n,streaming:null!=t&&(0,s.isStreaming)(i.default.getPrimaryActivity(t))}})(c);t.default=f,e.exports=t.default},6491:function(e,t,n){e.exports=n.p+"c83861b2303b7ee40c419e9590d57f11.svg"},6492:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=l({},{},{addPhone:function(e){a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADDING_PHONE}),r.default.post({url:o.Endpoints.PHONE,body:{phone:e}}).then(function(){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_SUCCESS})},function(e){var t=e.body;return a.default.dispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_FAILURE,error:t.message})})},verifyPhone:function(e){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFYING_PHONE}),r.default.post({url:o.Endpoints.VERIFY_PHONE,body:{code:e}}).then(function(e){return a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFY_PHONE_SUCCESS}),a.default.dispatch({type:o.ActionTypes.MODAL_POP}),e},function(e){throw a.default.dispatch({type:o.ActionTypes.VERIFICATION_VERIFY_PHONE_FAILURE,error:e.body.message}),e})},reset:function(){a.default.dirtyDispatch({type:o.ActionTypes.VERIFICATION_ADD_PHONE_RESET})}});t.default=s,e.exports=t.default},6493:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(6057)),l=d(n(6494)),s=d(n(832)),u=d(n(5498));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(){return p(s.default,{className:u.default.divider})};h.displayName="PopoutListDivider";var v=function(e){var t=e.children;return p("div",{className:u.default.popoutListEmpty},void 0,t)};v.displayName="PopoutListEmpty";var m=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]);return a.createElement(i.default,c({},n,{className:(0,o.default)(u.default.popoutListInput,t)}))},t}(a.PureComponent);m.displayName="PopoutListSearchBar",m.defaultProps={autoFocus:!0};var y=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return p("div",{className:(0,o.default)(u.default.popoutList,t)},void 0,n)},t}(a.PureComponent);y.displayName="PopoutList",y.SearchBar=m,y.Item=l.default,y.Divider=h,y.Empty=v;var _=y;t.default=_,e.exports=t.default},6494:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(229),l=f(n(148)),s=f(n(301)),u=n(0),d=f(n(5357)),c=f(n(5497));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._getColor=function(e){var t=!1;if(null!=e&&(0,i.isValidHex)(e)){var n=(0,i.hex2int)(e);null!=n&&(t=(0,i.getDarkness)(n)<.2)}return t?u.Colors.BLACK:u.Colors.WHITE},n.handleClick=function(){var e=n.props;(0,e.onClick)(function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClick"]))},n.state={color:n._getColor(t.color)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){this.props.color!==e.color&&this.setState({color:this._getColor(e.color)})},a.render=function(){var e,t,n=this.state.color,r=this.props,a=r.selected,i=r.color,f=r.className,v=r.children;return a?t={color:n,background:i||u.Colors.BRAND}:null!=i&&(t={color:i}),p(l.default,{className:(0,o.default)(c.default.selectableItem,f,(e={},e[c.default.selected]=a,e)),onClick:this.handleClick,align:l.default.Align.CENTER,style:h({},t,this.props.style)},void 0,p(l.default,{align:l.default.Align.CENTER,className:c.default.selectableItemLabel,shrink:1},void 0,v),a&&p(l.default,{wrap:l.default.Wrap.WRAP,className:d.default.marginReset,grow:0,shrink:0},void 0,p(s.default,{name:s.default.Names.CHECKMARK,color:n})))},r}(a.PureComponent);v.displayName="SelectableItem";var m=v;t.default=m,e.exports=t.default},6495:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(219)),l=d(n(301)),s=d(n(822)),u=d(n(5502));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._textInputRef=a.createRef(),t.handleClear=function(){var e=t.props,n=e.onClear,r=e.forwardedRef,a=(null!=r?r:t._textInputRef).current;null!=a&&a.focus(),null!=n&&n()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.autoFocus,n=e.label,r=e.placeholder,a=e.searchTerm,d=e.inputClassName,c=e.className,p=e.onChange,h=e.autoComplete,v=e.forwardedRef,m=e.iconClassName,y=null!=a&&a.length>0;return f("div",{className:(0,o.default)(u.default.searchBox,c)},void 0,f(s.default,{inputRef:null!=v?v:this._textInputRef,name:"search",maxLength:100,className:u.default.searchBoxInputWrapper,inputClassName:(0,o.default)(u.default.searchBoxInput,d),onChange:p,value:y?a:"",placeholder:r,autoFocus:t,"aria-label":n,autoComplete:h?"on":"off"}),y?f(i.default,{onClick:this.handleClear,className:u.default.clear},void 0,f(l.default,{name:l.default.Names.CLEAR,className:(0,o.default)(u.default.clearIcon,m)})):f(l.default,{className:(0,o.default)(u.default.searchIcon,m),name:l.default.Names.SEARCH}))},r}(a.Component);p.displayName="SearchBox",p.defaultProps={autoComplete:!1};var h=a.forwardRef(function(e,t){return a.createElement(p,c({forwardedRef:t},e))});t.default=h,e.exports=t.default},6496:function(e,t,n){"use strict";t.__esModule=!0,t.MessageTimestamp=N,t.default=t.Message=t.MessageAvatar=t.ClickOverlay=t.LocalBotMessage=t.MessageUsername=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(17)),i=g(n(320)),l=n(79),s=n(6001),u=g(n(5992)),d=g(n(6497)),c=g(n(6288)),f=g(n(219)),p=g(n(821)),h=g(n(6171)),v=g(n(6498)),m=n(0),y=g(n(13)),_=g(n(5404));function g(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O={LATIN12:_.default.latin12CompactTimeStamp,LATIN24:_.default.latin24CompactTimeStamp,ASIAN:_.default.asianCompactTimeStamp},I=5,C=/(AM|PM)$/;function N(e){var t,n=e.isCompact,r=void 0!==n&&n,a=e.timestamp,i=e.isVisibleOnlyOnHover,l=void 0!==i&&i,u=e.isMentioned,d=e.backgroundOpacity,c=r?(0,s.dateFormat)(a,"LT"):(0,s.calendarFormat)(a),f=r?function(e){return e.match(C)?O.LATIN24:e.length<=I?O.LATIN12:O.ASIAN}(c):null;return T("time",{className:(0,o.default)(f,_.default[d+"BackgroundOpacity"],(t={},t[_.default.timestampVisibleOnHover]=l,t[_.default.timestampCozy]=!r,t[_.default.timestampCompact]=r&&!u,t[_.default.timestampCompactIsMentioned]=r&&u,t)),dateTime:a},void 0,r&&T("i",{className:_.default.separatorLeft},void 0,"["),c,r&&T("i",{className:_.default.separatorRight},void 0,"] "))}N.displayName="MessageTimestamp";var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onClick=function(e){var n=t.props,r=n.message;(0,n.onClick)(e,r)},t}S(t,e);var n=t.prototype;return n.onMouseDown=function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation())},n.render=function(){var e=this.props,t=e.message,n=e.isCompact,r=e.renderPopout,a=e.popoutPosition,i=e.onContextMenu,l=e.backgroundOpacity,s=t.colorString?{color:t.colorString}:null,u=t.author.bot?T(c.default,{className:n?_.default.botTagCompact:_.default.botTagCozy}):null;return T(p.default,{closeOnScroll:!1,render:r,position:a,shadow:!n},void 0,T("span",{onContextMenu:i,className:_.default.usernameWrapper},void 0,n?u:null,T(f.default,{tag:"span",className:(0,o.default)(_.default.username,_.default[l+"BackgroundOpacity"]),style:s,onMouseDown:this.onMouseDown,onClick:this.onClick},void 0,t.nick||t.author.toString()),n&&T("i",{className:_.default.separatorRight},void 0,": "),n?null:u))},t}(a.Component);t.MessageUsername=A,A.displayName="MessageUsername",A.defaultProps={isCompact:!1};var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onDeleteMessages=function(){var e=t.props,n=e.messages,r=e.channelId,a=e.onDeleteMessage;n.forEach(function(e){return a(r,e.id,!0)})},t}return S(t,e),t.prototype.render=function(){var e=this.props.messages.length;return T("div",{className:_.default.localBotMessage},void 0,y.default.Messages.ONLY_YOU_CAN_SEE_AND_DELETE_THESE.format({count:e,handleDelete:this.onDeleteMessages}))},t}(a.Component);t.LocalBotMessage=M,M.displayName="LocalBotMessage";var P=function(e){var t=e.onClick,n=e.label;return t&&n?T(f.default,{className:_.default.clickOverride,onClick:t,"aria-label":n}):T("div",{className:_.default.disableInteraction})};t.ClickOverlay=P;var b=function(e){var t=e.user,n=e.isAnimated,r=e.onContextMenu,a=e.renderPopout,o=(0,l.hasAnimatedAvatar)(t),i=n&&o?t.getAvatarURL("gif"):t.getAvatarURL("jpg");return T(p.default,{closeOnScroll:!1,render:a,position:p.default.Positions.RIGHT,shadow:!1},void 0,T(u.default,{"aria-hidden":!0,src:i,size:u.default.Sizes.LARGE,className:_.default.avatar,onContextMenu:r,tabIndex:-1}))};t.MessageAvatar=b,b.displayName="MessageAvatar";var R=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).setRef=function(e){var n=t.props,r=n.registerMessageDOMNode,a=n.message;e&&(t.ref=e,null!=r&&r(a.id,e))},t.onClick=function(e){var n=t.props,r=n.onManualAck,a=n.channel,o=n.message;e.altKey&&(e.preventDefault(),r(a.id,o.id))},t.onContextMenuMessage=function(e,n){(0,t.props.onContextMenuMessage)(e,E({target:e.target},n))},t.onContextMenuUser=function(e){var n=t.props,r=n.channel,a=n.message.author;(0,n.onContextMenuUser)(e,{user:a,channel:r})},t.onClickUsername=function(e,n){var r=t.props,a=r.onClickUsername,o=r.channel;a(e,{user:n.author,channel:o})},t.onResize=function(e){var n=t.props;(0,n.onResize)({target:e,isEditing:n.isEditing})},t.renderPopoutUser=function(e){var n=t.props,r=n.renderPopoutUser,a=n.channel,o=n.message.author,i=a.getGuildId();return r(E({channelId:a.id,guildId:i,user:o},e))},t.renderCompactHeader=function(){var e=t.props,n=e.message,r=e.isHeader,o=e.isEditing,i=e.popoutPosition,l=e.backgroundOpacity,s=o||r,u=n.mentioned,d={message:n,isCompact:!0,renderPopout:t.renderPopoutUser,popoutPosition:i,onContextMenu:t.onContextMenuUser,onClick:t.onClickUsername,backgroundOpacity:l};return T("h2",{className:_.default.headerCompact},void 0,T(N,{isVisibleOnlyOnHover:!s,isCompact:!0,timestamp:n.timestamp,isMentioned:u,backgroundOpacity:l}),a.createElement(A,d))},t}S(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.isEditing,r=t.message,a=t.onResize,o=t.registerMessageDOMNode,i=e.message.embeds!==r.embeds||e.message.attachments!==r.attachments||e.message.reactions.length!==r.reactions.length;this.ref&&i&&a({isEditing:n,target:this.ref});var l=e.isEditing!==n;this.ref&&l&&a({isEditing:!0,target:this.ref}),e.registerMessageDOMNode!==o&&o&&this.ref&&o(r.id,this.ref)},n.renderCompact=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,o=e.renderEditor,i=e.renderButtons,l=e.editingContent,s=e.isEditing,u=e.onCancelEditing,d=e.onChange,c=e.onConfirmDelete,f=e.saveMessage,p=e.validateEdit,m=e.disableButtons,y=e.disableMentionStyles,g=e.disablePromoteButton,E=e.isDisabled;return a.createElement("div",{ref:this.setRef,className:_.default.messageCompact,"aria-disabled":E,onClick:this.onClick},s&&this.renderCompactHeader(),s&&null!=l?T(v.default,{className:_.default.messageEditorCompact,channel:n,message:t,value:l,children:o,onCancel:u,onChange:d,onConfirmDelete:c,onResize:this.onResize,saveMessage:f,validateEdit:p}):T(h.default,{className:_.default.contentCompact,channel:n,message:t,isCompact:!0,onContextMenu:this.onContextMenuMessage,renderButtons:i,renderPrefix:this.renderCompactHeader,disableButtons:m,disableMentionStyles:y,disablePromoteButton:g}),r({message:t}))},n.renderCozy=function(){var e=this.props,t=e.message,n=e.channel,r=e.renderAccessories,i=e.renderEditor,l=e.renderButtons,s=e.isFocusedWindow,u=e.disableAvatarAnimation,d=e.editingContent,c=e.isEditing,f=e.isHeader,p=e.onCancelEditing,m=e.onChange,y=e.onConfirmDelete,g=e.saveMessage,E=e.validateEdit,S=e.popoutPosition,O=e.disableButtons,I=e.disableMentionStyles,C=e.disablePromoteButton,M=e.isDisabled,P=e.cozyClassName,R=e.backgroundOpacity,L={message:t,isCompact:!1,renderPopout:this.renderPopoutUser,popoutPosition:S,onContextMenu:this.onContextMenuUser,onClick:this.onClickUsername,backgroundOpacity:R};return a.createElement("div",{ref:this.setRef,className:(0,o.default)(P,_.default.messageCozy),"aria-disabled":M,onClick:this.onClick},f?T("div",{className:_.default.headerCozy},void 0,T(b,{user:t.author,onContextMenu:this.onContextMenuUser,renderPopout:this.renderPopoutUser,isAnimated:!u&&s}),T("h2",{className:_.default.headerCozyMeta},void 0,a.createElement(A,L),T(N,{timestamp:t.timestamp,backgroundOpacity:R}))):null,T("div",{className:_.default.contentCozy},void 0,c&&null!=d?T(v.default,{channel:n,message:t,value:d,children:i,onCancel:p,onChange:m,onConfirmDelete:y,onResize:this.onResize,saveMessage:g,validateEdit:E}):T(h.default,{channel:n,message:t,isCompact:!1,onContextMenu:this.onContextMenuMessage,renderButtons:l,renderPrefix:null,disableButtons:O,disableMentionStyles:I,disablePromoteButton:C}),r({message:t})))},n.render=function(){var e=this.props,t=e.isCompact,n=e.disableJumpFlash,r=e.jumpSequenceId,a=t?this.renderCompact():this.renderCozy();return r&&!n?T(d.default,{sequenceId:r},void 0,a):a},t}(a.Component);t.Message=R,R.displayName="Message",R.defaultProps={disableAvatarAnimation:!0,disablePromoteButton:!0,isFocusedWindow:!0};var L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={disableAvatarAnimation:!0,isAnimatableAvatar:(0,l.hasAnimatedAvatar)(t.props.messages[0]&&t.props.messages[0].author)},t.onMouseEnter=function(){return t.setState({disableAvatarAnimation:!1})},t.onMouseLeave=function(){return t.setState({disableAvatarAnimation:!0})},t.renderButtonsMessage=function(e){var n=e.message,r=e.channel,a=t.props.renderButtonsMessage;return null==a?null:T("div",{className:_.default.buttonContainer},void 0,a({message:n,channel:r}))},t}S(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){var n=this.props.messages;if(n.length!==e.messages.length)return!0;if(!(0,i.default)(this.props,e,["messages"])||!(0,i.default)(this.state,t))return!0;for(var r=!1,a=!1,o=!1,l=0,s=n.length;l<s;l++){var u=e.messages[l];if(!r&&u.reactions.length&&(r=!0),!a&&u.embeds.length&&(a=!0),!o&&u.attachments.length&&(o=!0),n[l]!==u)return!0}var d=this.props,c=d.disableReactionReads,f=d.disableReactionCreates,p=d.disableReactionUpdates,h=d.disableAutoPlayGif,v=d.disableEmbeds,m=d.disableManageMessages,y=d.disableDeveloperMode,_=d.disablePromoteButton;return!(!r||p===e.disableReactionUpdates&&c===e.disableReactionReads)||(!(!a||h===e.disableAutoPlayGif&&v===e.disableEmbeds)||(!(!o||h===e.disableAutoPlayGif)||(f!==e.disableReactionCreates||m!==e.disableManageMessages||y!==e.disableDeveloperMode||_!==e.disablePromoteButton)))},t.getDerivedStateFromProps=function(e,t){var n=e.messages[0],r=n&&(0,l.hasAnimatedAvatar)(n.author);return r!==t.isAnimatableAvatar?{isAnimatableAvatar:r}:null},n.render=function(){var e,t=this,n=this.props,r=n.messages,i=n.channel,l=n.editingMessageId,s=n.renderButtonsGroup,u=n.renderSystemMessage,d=n.onClick,c=n.onDeleteMessage,f=n.disableInteraction,p=n.disableInteractionLabel,h=n.disableDivider,v=n.disablePromoteButton,y=n.editingContent,g=n.isCompact,S=n.jumpMessageId,O=n.jumpSequenceId,I=n.className,C=n.backgroundOpacity,N=(n.renderButtonsMessage,n.disableReactionReads,n.disableReactionCreates,n.disableReactionUpdates,n.disableAutoPlayGif,n.disableEmbeds,n.disableManageMessages,n.disableDeveloperMode,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["messages","channel","editingMessageId","renderButtonsGroup","renderSystemMessage","onClick","onDeleteMessage","disableInteraction","disableInteractionLabel","disableDivider","disablePromoteButton","editingContent","isCompact","jumpMessageId","jumpSequenceId","className","backgroundOpacity","renderButtonsMessage","disableReactionReads","disableReactionCreates","disableReactionUpdates","disableAutoPlayGif","disableEmbeds","disableManageMessages","disableDeveloperMode"])),A=this.state,b=A.isAnimatableAvatar,L=A.disableAvatarAnimation,D=r[0]&&r[0].author,w=D&&D.isLocalBot(),U=null!=d||f;return T("div",{className:(0,o.default)(I,(e={},e[_.default.isLocalBot]=w,e[_.default.containerCompactBounded]=g&&null==l,e[_.default.containerCozyBounded]=!g&&null==l,e[_.default.containerCompact]=g&&null!=l,e[_.default.containerCozy]=!g&&null!=l,e)),onMouseEnter:b?this.onMouseEnter:null,onMouseLeave:b?this.onMouseLeave:null},void 0,r.map(function(e,n){if(!e)return null;if(e.type!==m.MessageTypes.DEFAULT)return T("div",{className:_.default.content},e.id,u({message:e,channel:i,renderButtons:t.renderButtonsMessage}));var r=l===e.id,o=e.id===S,d=E({},N,{isCompact:g,isEditing:r,isDisabled:U,channel:i,message:e,editingContent:y,disableAvatarAnimation:L,disablePromoteButton:v,backgroundOpacity:C,jumpSequenceId:o?O:null,disableButtons:U||null!=s,isHeader:0===n,renderButtons:t.renderButtonsMessage});return a.createElement(R,E({},d,{key:e.id}))}),w&&T(M,{channelId:i.id,messages:r,onDeleteMessage:c}),U&&T(P,{onClick:d,label:p}),s&&s({messages:r,channel:i}),!w&&T("hr",{"aria-hidden":!0,className:(0,o.default)(h?_.default.divider:_.default.dividerEnabled,_.default[C+"BackgroundOpacity"])}))},t}(a.Component);t.default=L,L.displayName="MessageGroup",L.defaultProps={popoutPosition:p.default.Positions.RIGHT,disableDivider:!0,disableInteraction:!1,disableReactionReads:!1,disableReactionCreates:!0,disableReactionUpdates:!0,disableAutoPlayGif:!1,disableEmbeds:!1,disableManageMessages:!0,disableDeveloperMode:!0,disablePromoteButton:!0,disableInteractionLabel:void 0}},6497:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(r=n(303))&&r.__esModule?r:{default:r},l=n(234);var s=.2,u={toValue:0,duration:1e3,delay:1e3},d=(0,n(6137).hexWithOpacity)(l.Colors.BRAND,0),c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={backgroundColor:new i.default.Value},t.flashNow=function(){var e=t.props.onFlashComplete;t.state.backgroundColor.setValue(s),i.default.timing(t.state.backgroundColor,u).start(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.flashNow()},o.componentDidUpdate=function(e){e.sequenceId!==this.props.sequenceId&&this.flashNow()},o.render=function(){var e={backgroundColor:this.state.backgroundColor.interpolate({inputRange:[0,1],outputRange:[d,l.Colors.BRAND]}),borderRadius:2};return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(i.default.div,{style:e},void 0,this.props.children)},r}(o.Component);t.default=c,c.displayName="BackgroundFlash",e.exports=t.default},6498:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(314)),i=n(0),l=u(n(13)),s=u(n(5403));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function u(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).node=a.createRef(),t.onClickSave=function(){var e=t.props.value;t.onSubmit(e)},t.onSubmit=function(e){var n=t.props,r=n.message,a=n.channel,i=n.onConfirmDelete,l=n.onCancel,s=n.saveMessage,u=n.validateEdit;return 0===e.length?(i(a,r),l(),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):u({value:e,channel:a}).then(function(n){if(!n.valid)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});var r=o.default.parse(t.props.channel,e,!0);return r.content!==t.props.message.content&&s(t.props.channel.id,t.props.message.id,r),l(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})},t.onChange=function(e,n){(0,t.props.onChange)(n)},t.onKeyDown=function(e){if(e.keyCode===i.KeyboardKeys.ESCAPE&&!e.shiftKey){var n=t.props.onCancel;e.preventDefault(),n()}},t.onResize=function(){var e=t.props.onResize,n=t.node.current;e&&n instanceof HTMLElement&&e(n)},t}return n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,u.prototype.render=function(){var e=this.props,t=e.className,n=e.value,o=e.message,i=e.channel,u=e.onCancel,d=e.children;return a.createElement("div",{className:t,ref:this.node},d({value:n,message:o,channel:i,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown,onResize:this.onResize}),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:s.default.operations},void 0,l.default.Messages.EDIT_TEXTAREA_HELP.format({onCancel:u,onSave:this.onClickSave})))},u}(a.PureComponent);t.default=d,d.displayName="MessageEditor",e.exports=t.default},6499:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MessageOptionPopout=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(6010),l=f(n(124)),s=f(n(821)),u=n(0),d=f(n(13)),c=f(n(5405));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCopyID=function(e){var n=t.props,r=n.message,a=n.onClose;(0,i.copy)(e.shiftKey?r.channel_id+"-"+r.id:r.id),a()},t.handleCopyLink=function(){var e=t.props,n=e.channel,r=e.message,a=e.onClose;(0,i.copy)(location.protocol+"//"+location.host+u.Routes.CHANNEL(n.guild_id,n.id,r.id)),a()},t.handleEdit=function(){var e=t.props,n=e.channel,r=e.message,a=e.onClose;(0,e.onStartEditMessage)(n.id,r.id,r.content),a()},t.handleRetry=function(){var e=t.props,n=e.channel,r=e.message,a=e.onClose;(0,e.onRetrySendMessage)(n,r.id,r.content,r.tts),a()},t.handleDelete=function(){var e=t.props,n=e.onDeleteMessage,r=e.onClose,a=e.onConfirmDelete;t.props.message.state===u.MessageStates.SEND_FAILED?n(t.props.channel.id,t.props.message.id,!0):a(t.props.channel,t.props.message),r()},t.handleReactions=function(){var e=t.props,n=e.onClose,r=e.message;(0,e.onShowReactionsModal)({message:r}),n()},t.handlePin=function(){var e=t.props,n=e.onConfirmPin,r=e.channel,a=e.message,o=e.onClose;n(r,a),o()},t.handleJoinNotifConfiguration=function(){var e=t.props,n=e.channel,r=e.onClose,a=e.onOpenGuildSettings,o=n.getGuildId();null!=o&&a(o,u.GuildSettingsSections.OVERVIEW),r()},t.handleUnpin=function(e){var n=t.props,r=n.onUnpinMessage,a=n.onConfirmUnpin,o=n.channel,i=n.onClose,l=n.message;e.shiftKey?r(o,l.id):a(o,l),i()},t.renderJoinNotificationOption=function(){var e=t.props,n=e.message,r=e.channel,a=e.onCanManageGuild,o=r.getGuildId();return null==o?null:n.type===u.MessageTypes.USER_JOIN&&a({guildId:o})?p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:t.handleJoinNotifConfiguration},void 0,d.default.Messages.CONFIGURE):null},t}return h(t,e),t.prototype.render=function(){var e,t,n,r,o,s,f=this.props,h=f.message,v=f.currentUserId;return h.state===u.MessageStates.SEND_FAILED?e=p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handleRetry,role:"menuitem"},void 0,d.default.Messages.RETRY):(this.props.canEdit&&h.author.id===v&&(t=p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handleEdit,role:"menuitem"},void 0,d.default.Messages.EDIT)),this.props.canPin&&(n=!1===h.pinned?p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handlePin,role:"menuitem"},void 0,d.default.Messages.PIN):p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handleUnpin,role:"menuitem"},void 0,d.default.Messages.UNPIN))),i.SUPPORTS_COPY&&this.props.developerMode&&(r=p(a.Fragment,{},void 0,p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handleCopyID,role:"menuitem"},void 0,d.default.Messages.COPY_ID),p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handleCopyLink,role:"menuitem"},void 0,d.default.Messages.COPY_LINK))),this.props.canDelete&&(o=p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handleDelete,role:"menuitem"},void 0,d.default.Messages.DELETE)),h.reactions.length&&(s=p(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:c.default.item,onClick:this.handleReactions,role:"menuitem"},void 0,d.default.Messages.REACTIONS)),p("div",{className:c.default.container,role:"menu"},void 0,n,t,e,r,o,s,this.renderJoinNotificationOption())},t}(a.PureComponent);t.MessageOptionPopout=v,v.displayName="MessageOptionPopout";var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderOptionPopout=function(e){var n=e.onClose,r=t.props,a=r.channel,o=r.message,i=r.canDelete,l=r.canEdit,s=r.canPin,u=r.developerMode,d=r.currentUserId,c=r.onStartEditMessage,f=r.onRetrySendMessage,h=r.onDeleteMessage,m=r.onConfirmPin,y=r.onOpenGuildSettings,_=r.onUnpinMessage,g=r.onConfirmUnpin,E=r.onCanManageGuild,S=r.onConfirmDelete,T=r.onShowReactionsModal;return p(v,{channel:a,message:o,developerMode:u,canEdit:l,canPin:s,canDelete:i,onClose:n,onStartEditMessage:c,onRetrySendMessage:f,onDeleteMessage:h,onConfirmDelete:S,onConfirmPin:m,onOpenGuildSettings:y,onUnpinMessage:_,onConfirmUnpin:g,onCanManageGuild:E,onShowReactionsModal:T,currentUserId:d})},t}return h(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,r=e.canDelete,a=e.canPin,l=e.developerMode,u=e.className;return t.author.isLocalBot()?null:t.author.id===n||r||a||i.SUPPORTS_COPY&&l?p(s.default,{closeOnScroll:!1,render:this.renderOptionPopout,position:s.default.Positions.BOTTOM,offsetY:-6},void 0,p("div",{className:(0,o.default)(c.default.button,u)})):null},t}(a.PureComponent);t.default=m,m.displayName="MessageOptionButton"},6500:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(124)),i=s(n(13)),l=s(n(5406));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.isEdit,n=e.onClick;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default,{className:l.default.button,onClick:n},void 0,t?i.default.Messages.NEWS_CHANNEL_PUBLISH_EDIT:i.default.Messages.NEWS_CHANNEL_PUBLISH)},a}(a.PureComponent);t.default=u,u.displayName="MessagePromoteButton",e.exports=t.default},6501:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(8)),a=l(n(1)),o=l(n(6173)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s={search:function(e,t){null==o.default.getResults(e,t)&&(a.default.dirtyDispatch({type:i.ActionTypes.INTEGRATION_QUERY,integration:e,query:t}),r.default.get({url:i.Endpoints.INTEGRATIONS+"/"+i.ChannelTextAreaIntegrations[e].command+"/search",query:{q:t}}).then(function(n){a.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_SUCCESS,integration:e,query:t,results:n.body})},function(){return a.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_FAILURE,integration:e,query:t})}))}};t.default=s,e.exports=t.default},6502:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=L(n(17)),i=L(n(6)),l=L(n(6801)),s=L(n(109)),u=L(n(303)),d=n(302),c=L(n(825)),f=L(n(6234)),p=L(n(6293)),h=n(223),v=n(5376),m=n(6014),y=L(n(9)),_=n(178),g=n(6503),E=L(n(6174)),S=L(n(124)),T=L(n(6504)),O=L(n(6505)),I=L(n(148)),C=L(n(301)),N=L(n(821)),A=L(n(6673)),M=L(n(437)),P=n(0),b=L(n(13)),R=L(n(5410));function L(e){return e&&e.__esModule?e:{default:e}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var G=/(\t|\s)/,F="UPLOAD_A_FILE",j="INVITE_TO_GAME",x="INVITE_TO_SPECTATE_GAME",B="INVITE_TO_LISTEN",H="INVITE_TO_WATCH",V=function(e,t,n,r){var a=[];return e&&a.push({type:F,icon:C.default.Names.UPLOAD,display:b.default.Messages.CHAT_ATTACH_UPLOAD_A_FILE}),t&&r.forEach(function(e){e.type===P.ActivityTypes.PLAYING&&(0,h.hasFlag)(e,P.ActivityFlags.JOIN)&&a.push({type:j,icon:C.default.Names.GAMEPAD,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.PLAYING&&(0,h.hasFlag)(e,P.ActivityFlags.SPECTATE)&&a.push({type:x,icon:C.default.Names.EYE,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_SPECTATE_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.LISTENING&&(0,h.hasFlag)(e,P.ActivityFlags.SYNC)&&a.push({type:B,icon:C.default.Names.PERSON_PLAY,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e}),e.type===P.ActivityTypes.WATCHING&&(0,h.hasFlag)(e,P.ActivityFlags.SYNC)&&a.push({type:H,icon:C.default.Names.EYE,display:b.default.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e})}),a},Y=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleFileUpload=function(){var e=n.props.onFileUpload;n.close(),e&&e()},n.handleInviteToPlay=function(e){var t=n.props.onInviteToPlay;n.close(),t&&t(e)},n.handleInviteToSpectate=function(e){var t=n.props.onInviteToSpectate;n.close(),t&&t(e)},n.handleInviteToListen=function(e){var t=n.props.onInviteToListen;n.close(),t&&t(e)},n.handleInviteToWatch=function(e){var t=n.props.onInviteToWatch;n.close(),t&&t(e)},n.state={animations:V(t.canAttachFiles,t.canSendInvites,t.channel,t.activities).map(function(){return new u.default.Value(0)})},n}k(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=[].concat(this.state.animations).reverse();u.default.stagger(50,e.map(function(e){return u.default.timing(e,{duration:200,toValue:1})})).start()},n.getOnClick=function(e){var t=this;switch(e.type){case F:return this.handleFileUpload;case j:var n=e.activity;return function(){return t.handleInviteToPlay(n)};case x:var r=e.activity;return function(){return t.handleInviteToSpectate(r)};case B:var a=e.activity;return function(){return t.handleInviteToListen(a)};case H:var o=e.activity;return function(){return t.handleInviteToListen(o)}}},n.close=function(){c.default.close("popout-channel-text-area-attachments")},n.render=function(){var e=this,t=this.props,n=t.canAttachFiles,r=t.canSendInvites,a=t.channel,o=t.activities,i=V(n,r,a,o).map(function(t,n){var r=e.state.animations[n];return U(u.default.div,{onClick:e.getOnClick(t),className:R.default.attachPopoutRow,style:{opacity:r}},n,U(I.default,{align:I.default.Align.CENTER},void 0,U(C.default,{name:t.icon,className:R.default.attachPopoutIcon,foreground:R.default.attachPopoutIconForeground}),U("div",{className:R.default.attachPopoutRowText},void 0,t.display)))});return U("div",{className:R.default.attachPopout},void 0,i)},t}(a.PureComponent);function W(e){return{prefix:null,focused:e,selectionStart:0,selectionEnd:0,selectedAutocomplete:0,autocompleteType:null,submitting:!1}}Y.displayName="ChannelTextAreaAttachPopout";var K=function(e){function t(t){var n;return(n=e.call(this,t)||this)._gifPickerButtonRef=a.createRef(),n._mounted=!1,n.handleContextMenu=function(e){var t=n.props.type;if(y.default.embedded){var r=(0,v.getSelectionText)();(0,d.openContextMenu)(e,function(e){return a.createElement(p.default,D({},e,{type:t===P.TextareaTypes.EDIT?P.ContextMenuTypes.CHANNEL_TEXT_AREA_EDIT:P.ContextMenuTypes.CHANNEL_TEXT_AREA,value:r}))})}},n.state=W(!1),w(n).saveCurrentTextThrottled=i.default.throttle(n.saveCurrentText.bind(w(n),!1),500),i.default.bindAll(w(n),["focus","saveCurrentText","renderAttachPopout","handleSetRef","handleSetFileInputRef","handleKeyPress","handleKeyDown","handleKeyUp","handleStartFileUpload","handleFileUpload","handleOuterClick","handleClick","handleContextMenu","handleAutocompleteClick","handleAutocompleteHover","handleOnChange","handleFocus","handleBlur","handlePaste","handleSelectGIF","handleSelectEmoji"]),n}k(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.value;this._ref&&this._ref.setSelection(e.length,e.length),this._mounted=!0,this.maybeShowAutocomplete(),window.addEventListener("beforeunload",this.saveCurrentText)},n.componentWillUnmount=function(){this._mounted=!1,this.saveCurrentText(),window.removeEventListener("beforeunload",this.saveCurrentText)},n.componentDidUpdate=function(e){var t=this;this.props.value!==e.value&&(this.maybeShowAutocomplete(function(){return t.fixSelectedAutocomplete()}),this.saveCurrentTextThrottled())},n.focus=function(){this._ref&&this._ref.focus()},n.blur=function(){this._ref&&this._ref.blur()},n.fixSelectedAutocomplete=function(){this.state.selectedAutocomplete>=this.getAutocompletes().length&&this.setState({selectedAutocomplete:0})},n.insertText=function(e,t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=!0);var a=this._ref;if(null!=a){var o=this.state,i=o.selectionStart,l=o.selectionEnd,s=a.value.slice(0,t?a.selectionStart:i),u=a.value.slice(t?a.selectionEnd:l);n&&(e+=" ");var d=s+e+u,c=this.props.onChange;c&&c(null,d),this.setState({selectionStart:a.selectionStart,selectionEnd:a.selectionEnd},function(){var t=s.length+e.length;a.setSelection(t,t),r.maybeShowAutocomplete()}),this.saveCurrentText()}},n.clearValue=function(){this.setState(W(!0)),this.saveCurrentText()},n.saveCurrentText=function(e){void 0===e&&(e=!0);var t=this.props,n=t.type,r=t.onSaveCurrentText,a=t.channel;n===P.TextareaTypes.NORMAL&&(e&&this.saveCurrentTextThrottled.cancel(),r&&r(a.id))},n.maybeShowAutocomplete=function(e){var t=this._ref;if(null!=t){var n=this.props,r=n.value,a=n.autocompleteOptions,o=n.onAutocompleteQuery;if(0!==r.trim().length){var l,s=t.selectionStart,u=t.selectionEnd,d=!1,c=null;do{var f=G.test(r[s-1]);if(0===s||f)if("break"===function(){var e=(l=r.slice(s,u)).slice(1).toLowerCase();if(null!=(c=(0,i.default)(a).keys().find(function(t){return a[t].matches(l[0],e,s)}))){var t=a[c];return o&&o(t,e,c),d=!0,"break"}}())break}while(--s>=0);this.setState({prefix:d?l:null,selectionStart:s,selectionEnd:u,autocompleteType:c},e)}else this.getAutocompletes().length>0&&this.setState({prefix:null})}},n.getAutocompletes=function(){var e=this.props.autocompletes,t=[];if(null!=e)for(var n in e){e[n].forEach(function(e){return t.push(e)})}return t},n.moveSelection=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,a=this.getAutocompletes().length;return 0!==a&&null!=r&&(n+e>=a?this.setState({selectedAutocomplete:0}):n+e<0?this.setState({selectedAutocomplete:a-1}):this.setState({selectedAutocomplete:n+e}),!0)},n.selectAutocompletion=function(e){var t=null,n=this.state,r=n.autocompleteType,a=n.prefix,o=this.props,i=o.autocompleteOptions,l=o.autocompletes;if(null!=r&&null!=i[r]&&null!=l){var s=i[r];t=s.getText(e,l);var u=s.onSelect;if(null!=u&&null!=a)u(a.slice(1),e,l)}null!=t&&("REACTIONS"===r?this.handleSubmit(t):this.insertText(t,!1))},n.getEnabledMode=function(){var e=this.props,t=e.disabled,n=e.canAttachFiles,r=e.canSendInvites,a=e.channel,o=e.activities,i=this.state.submitting;return t||i?"Disabled":0===V(n,r,a,o).length?"EnabledNoAttach":""},n.getAutocompleteMode=function(){var e=this.props.renderCustomAutocomplete,t=this.state,n=t.prefix,r=t.focused;return null!=n&&r||null!=e?"Autocomplete":"NoAutocomplete"},n.getTypeMode=function(){switch(this.props.type){case P.TextareaTypes.EDIT:return"Edit";case P.TextareaTypes.FORM:return"Form";default:return""}},n.hasOpenCodeBlock=function(){var e=this._ref;if(null==e)return!1;var t=this.props.value.slice(0,e.selectionStart).match(/```/g);return null!=t&&t.length>0&&t.length%2!=0},n.renderAttachPopout=function(e){var t=this.props,n=t.channel,r=t.canAttachFiles,o=t.canSendInvites,i=t.activities,l=t.onInviteToPlay,s=t.onInviteToSpectate,u=t.onInviteToListen,d=t.onInviteToWatch;return a.createElement(Y,D({},e,{canAttachFiles:r,canSendInvites:o,channel:n,activities:i,onFileUpload:this.handleStartFileUpload,onInviteToPlay:l,onInviteToSpectate:s,onInviteToListen:u,onInviteToWatch:d}))},n.renderAttachButton=function(){var e=this.props,t=e.disabled,n=e.type,r=e.canAttachFiles,a=e.canSendInvites,o=e.channel,i=e.activities,l=e.onOpenAttachPopout;if(t||n!==P.TextareaTypes.NORMAL||0===V(r,a,o,i).length)return null;var s=i.some(function(e){return(0,h.hasFlag)(e,P.ActivityFlags.SYNC)}),u=i.some(function(e){return(0,h.canJoinOrSpectate)(e)})||s;return a&&u?U(I.default,{},void 0,U(N.default,{closeOnScroll:!1,render:this.renderAttachPopout,position:N.default.Positions.TOP_LEFT,shadow:!1,animationType:N.default.Animations.NONE,uniqueId:"popout-channel-text-area-attachments",onOpen:l},void 0,U(S.default,{look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:R.default.attachButton,innerClassName:R.default.attachButtonInner},void 0,U(C.default,{name:C.default.Names.PLUS_CIRCLE_PLAY,className:R.default.attachButtonIcon,foreground:R.default.attachButtonPlay,background:R.default.attachButtonPlus,width:24,height:24}))),U("div",{className:R.default.attachButtonDivider})):U(I.default,{className:R.default.attachWrapper},void 0,U(S.default,{look:S.default.Looks.BLANK,size:S.default.Sizes.NONE,onClick:this.handleStartFileUpload,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:R.default.attachButton,innerClassName:R.default.attachButtonInner},void 0,U(C.default,{name:C.default.Names.PLUS_CIRCLE,className:R.default.attachButtonIcon,foreground:R.default.attachButtonPlus,width:24,height:24})),U("div",{className:R.default.attachButtonDivider}))},n.renderPremiumGiftButton=function(){var e=this.props,t=e.disabled,n=e.onPremiumGiftClick,r=e.shouldRenderPremiumGiftButton;return t||!r?null:U(M.default,{text:b.default.Messages.PREMIUM_GIFT_BUTTON_TOOLTIP},void 0,U(T.default,{className:R.default.button,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_PREMIUM_GIFT),iconName:C.default.Names.GIFT,onClick:n,isActive:!1}))},n.getGIFPickerButton=function(){return this._gifPickerButtonRef.current},n.renderGIFPickerButton=function(){var e=this.props,t=e.disabled,n=e.isGIFPickerActive,r=e.onGIFPickerToggle,o=e.justFavorited,i=e.shouldShowTooltipOnFavorite;if(t||null==r)return null;var l=a.createElement("div",{ref:this._gifPickerButtonRef,className:R.default.buttonContainer},U(T.default,{className:R.default.button,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_GIF_PICKER),iconName:C.default.Names.INVERTED_GIF_LABEL,iconClassName:R.default.gifPickerIcon,onClick:r,isActive:n,pulse:o}));return o&&i?U(M.default,{text:b.default.Messages.GIF_TOOLTIP_FAVORITED_PICKER_BUTTON,forceOpen:!0},void 0,l):l},n.renderEmojiButton=function(){var e=this.props,t=e.channel,n=e.renderEmojiPickerPopout;return e.disabled||null==n?null:U(O.default,{className:R.default.button,onSelectEmoji:this.handleSelectEmoji,channel:t,renderEmojiPickerPopout:n,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA_EMOJI)})},n.renderAutocomplete=function(){var e=this.props,t=e.autocompleteOptions,n=e.autocompletes,r=e.renderCustomAutocomplete,a=this.state,o=a.focused,i=a.autocompleteType,l=a.selectedAutocomplete,s=a.prefix;if(null!=r)return U(E.default,{className:R.default.autocomplete,isCustom:!0,onMouseDown:this.handleAutocompleteMouseDown},void 0,r(s));if(!o||null==i||null==t[i]||null==s||null==n)return null;var u=s.slice(1).toLowerCase();return U(E.default,{className:R.default.autocomplete,onMouseDown:this.handleAutocompleteMouseDown},void 0,t[i].renderResults(u,l,this.handleAutocompleteHover,this.handleAutocompleteClick,n))},n.render=function(){var e=this.props,t=e.value,n=e.disabled,r=e.placeholder,i=e.onResize,l=e.className,s=e.backgroundOpacity,u=e.channel,d=this.state.submitting,c=n?b.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:r,p=u.rateLimitPerUser<=0,h=this.getEnabledMode(),v=this.getAutocompleteMode(),m=this.getTypeMode();return U("div",{className:(0,o.default)((0,_.getClass)(R.default,"channelTextArea",h),l),onClick:this.handleOuterClick},void 0,U("div",{className:(0,o.default)((0,_.getClass)(R.default,"inner",h),(0,_.getClass)(R.default,"inner",v),R.default[s+"BackgroundOpacity"])},void 0,this.renderAttachButton(),U("div",{className:R.default.uploadInput},void 0,a.createElement(f.default,{ref:this.handleSetFileInputRef,onChange:this.handleFileUpload,multiple:p,tabIndex:-1})),a.createElement(A.default,{ref:this.handleSetRef,className:(0,o.default)((0,_.getClass)(R.default,"textArea",h),(0,_.getClass)(R.default,"textArea",m)),rows:1,fontWidthEstimate:6,autoFocus:!0,placeholder:c,disabled:n||d,onChange:this.handleOnChange,onResize:i,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,onPaste:this.handlePaste,onClick:this.handleClick,onContextMenu:this.handleContextMenu,value:n?"":t,tabIndex:(0,g.getTabIndex)(g.TabIndexKeys.CHANNEL_TEXT_AREA)}),U("div",{className:R.default.buttons},void 0,this.renderPremiumGiftButton(),this.renderGIFPickerButton(),this.renderEmojiButton()),this.renderAutocomplete()))},n.handleSetRef=function(e){this._ref=e},n.handleSetFileInputRef=function(e){this._fileInputRef=e},n.handleKeyPress=function(e){switch(e.which){case P.KeyboardKeys.ENTER:if(!e.shiftKey&&!e.ctrlKey&&!this.hasOpenCodeBlock())return e.preventDefault(),this.handleSubmit()}},n.handleKeyDown=function(e){switch(e.which){case P.KeyboardKeys.ARROW_DOWN:this.moveSelection(1)&&e.preventDefault();break;case P.KeyboardKeys.N:e.ctrlKey&&this.moveSelection(1)&&e.preventDefault();break;case P.KeyboardKeys.ARROW_UP:this.moveSelection(-1)&&e.preventDefault();break;case P.KeyboardKeys.P:e.ctrlKey&&this.moveSelection(-1)&&e.preventDefault();break;case P.KeyboardKeys.TAB:case P.KeyboardKeys.ENTER:this.handleTabOrEnterDown(e)}var t=this.props.onKeyDown;t&&t(e)},n.handleTabOrEnterDown=function(e){var t=this.state,n=t.selectedAutocomplete,r=t.prefix,a=this.getAutocompletes();null!=r&&0!==a.length?(e.preventDefault(),e.stopPropagation(),this.selectAutocompletion(n)):e.which===P.KeyboardKeys.TAB&&this.hasOpenCodeBlock()&&(e.preventDefault(),e.stopPropagation(),this.insertText("\t",!0,!1))},n.handleKeyUp=function(e){switch(e.which){case P.KeyboardKeys.ARROW_RIGHT:case P.KeyboardKeys.ARROW_LEFT:this.maybeShowAutocomplete()}var t=this.props.onKeyUp;t&&t(e)},n.handleStartFileUpload=function(){this._fileInputRef&&this._fileInputRef.activateUploadDialogue()},n.handleFileUpload=function(e){var t=this.props.onFileUpload;t&&t(e.currentTarget.files)},n.handleSubmit=function(e){var t=this,n=this.props,r=n.value,a=n.onSubmit,o=n.type,i=(e||r).trim();this.state.submitting||this.setState({submitting:!0},function(){a&&a(i).then(function(e){var n=e.shouldClear,r=e.shouldRefocus;t._mounted&&(n&&o===P.TextareaTypes.NORMAL&&t.clearValue(),t.setState({submitting:!1},r?t.focus:void 0))})})},n.handleFocus=function(e){var t=this.props.onFocus;t&&t(e),this.setState({focused:!0})},n.handleBlur=function(e){var t=this.props.onBlur;t&&t(e),this.setState({focused:!1})},n.handlePaste=function(e){var t=this,n=this.props,r=n.channel,a=n.onFileUpload,o=n.canPasteFiles;if(!(n.type!==P.TextareaTypes.NORMAL||null==e.clipboardData||null==e.clipboardData.items||0===e.clipboardData.items.length||!r.isPrivate()&&!o||r.isPrivate()&&r.isManaged()))for(var i=0;i<e.clipboardData.items.length;i++){var l=e.clipboardData.items[i];!function(){switch(l.type){case"image/png":e.preventDefault();var n=l.getAsFile();if(null==n)break;t.saveCurrentText(),2===e.clipboardData.items.length?e.clipboardData.items[0].getAsString(function(e){a&&a([(0,m.makeFile)(n,t.extractFileName(e))])}):a&&a([(0,m.makeFile)(n)])}}()}},n.extractFileName=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");if(t instanceof HTMLImageElement){var n;try{var r=s.default.parse(t.src).pathname;null!=r&&r.length>0&&(n=l.default.basename(r).split(".")[0])}catch(e){}if(null!=n&&n.length>0)return n+".png"}},n.handleOuterClick=function(){this.focus()},n.handleClick=function(){this.maybeShowAutocomplete()},n.handleAutocompleteClick=function(e){return this.selectAutocompletion(e)},n.handleAutocompleteHover=function(e){this.setState({selectedAutocomplete:e})},n.handleAutocompleteMouseDown=function(e){e.preventDefault()},n.handleSelectGIF=function(e){this.handleSubmit(e.url),this.focus()},n.handleSelectEmoji=function(e){null!=e&&this.insertText(":"+e.name+":"),this.focus()},n.handleOnChange=function(e){var t=this.props.onChange,n=e.currentTarget.value;t&&t(e,n)},t}(a.PureComponent);K.displayName="ChannelTextArea",K.defaultProps={type:P.TextareaTypes.NORMAL,disabled:!1,shouldRenderPremiumGiftButton:!1};var z=K;t.default=z,e.exports=t.default},6503:function(e,t,n){"use strict";var r;t.__esModule=!0,t.getTabIndex=function(e){return o.indexOf(e)+1},t.TabIndexKeys=void 0;var a=(0,((r=n(153))&&r.__esModule?r:{default:r}).default)({CHANNEL_TEXT_AREA:null,CHANNEL_TEXT_AREA_PREMIUM_GIFT:null,CHANNEL_TEXT_AREA_GIF_PICKER:null,CHANNEL_TEXT_AREA_EMOJI:null,CHANNEL_TEXT_AREA_UPLOAD:null});t.TabIndexKeys=a;var o=[a.CHANNEL_TEXT_AREA,a.CHANNEL_TEXT_AREA_PREMIUM_GIFT,a.CHANNEL_TEXT_AREA_GIF_PICKER,a.CHANNEL_TEXT_AREA_EMOJI,a.CHANNEL_TEXT_AREA_UPLOAD]},6504:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(124)),l=u(n(301)),s=u(n(5408));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r=this.props,a=r.tabIndex,u=r.className,c=r.iconClassName,f=r.iconName,p=r.onClick,h=r.isActive,v=r.onMouseEnter,m=r.onMouseLeave,y=r.pulse;return d(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,tabIndex:a,className:(0,o.default)(s.default.buttonWrapper,(e={},e[s.default.active]=h,e)),innerClassName:(0,o.default)(s.default.button,u,(t={},t[s.default.pulseButton]=y,t)),onClick:p,onMouseEnter:v,onMouseLeave:m},void 0,d(l.default,{name:f,className:(0,o.default)(s.default.icon,c,(n={},n[s.default.pulseIcon]=y,n))}))},r}(a.PureComponent);c.displayName="ChannelTextAreaButton";var f=c;t.default=f,e.exports=t.default},6505:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=n(178),l=c(n(124)),s=c(n(821)),u=n(0),d=c(n(5409));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={hovered:!1,emojiIndex:0,isPopoutOpen:!1},p(n).renderEmojiPickerPopout=n.renderEmojiPickerPopout.bind(p(n)),p(n).handleMouseOver=n.handleMouseOver.bind(p(n)),p(n).handleMouseEnter=n.handleMouseEnter.bind(p(n)),p(n).handleMouseLeave=n.handleMouseLeave.bind(p(n)),p(n).handlePopoutOpen=n.handlePopoutOpen.bind(p(n)),p(n).handlePopoutClose=n.handlePopoutClose.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getSpriteStyle=function(){var e=this.state.emojiIndex;return{backgroundPosition:-e%u.EmojiSprites.PickerPerRow*22+"px "+22*-Math.floor(e/u.EmojiSprites.PickerPerRow)+"px",backgroundSize:22*u.EmojiSprites.PickerPerRow+"px "+22*Math.ceil(u.EmojiSprites.PickerCount/u.EmojiSprites.PickerPerRow)+"px"}},a.renderEmojiPickerPopout=function(e){var t=this.props,n=t.renderEmojiPickerPopout;return n(e,{onSelectEmoji:t.onSelectEmoji,channel:t.channel})},a.render=function(){var e=this.props.tabIndex,t=this.state,n=t.hovered,r=t.isPopoutOpen,a=n||r,c=(0,i.getClass)(d.default,"emojiButton",a?"Hovered":"Normal"),p=(0,i.getClass)(d.default,"sprite",a?"Hovered":"Normal");return f(s.default,{closeOnScroll:!1,render:this.renderEmojiPickerPopout,position:s.default.Positions.TOP_RIGHT,zIndexBoost:1e3,shadow:!1,animationType:s.default.Animations.NONE,subscribeTo:u.ComponentActions.TOGGLE_EMOJI_POPOUT,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose},void 0,f(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,tabIndex:e,className:(0,o.default)(c,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave},void 0,f("div",{className:p,style:this.getSpriteStyle()})))},a.handleMouseOver=function(){this.handleMouseEnter()},a.handleMouseEnter=function(){if(!this.state.hovered&&!this.state.isPopoutOpen){var e=Math.floor(Math.random()*u.EmojiSprites.PickerCount);this.setState({hovered:!0,emojiIndex:e})}},a.handleMouseLeave=function(){this.setState({hovered:!1})},a.handlePopoutOpen=function(){this.setState({isPopoutOpen:!0})},a.handlePopoutClose=function(){this.setState({isPopoutOpen:!1})},r}(a.PureComponent);h.displayName="EmojiButton";var v=h;t.default=v,e.exports=t.default},6506:function(e,t,n){"use strict";t.__esModule=!0,t.promptToUpload=function(e,t,n,p){void 0===n&&(n=!1);void 0===p&&(p=!0);if(e.length<1)return;if(d.anyFileTooLarge(e)){var h=u.default.getCurrentUser();r.default.push(l.default,{title:f.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:f.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:d.sizeString(d.maxFileSize())}),promo:!c.default.canUploadLargeFiles(h)})}else p?(o.default.pushFiles({files:e,channelId:t}),s.default.isModalOpen(i.default)||r.default.push(i.default,{backdropInstant:n})):a.default.instantBatchUpload(t,e)};var r=p(n(77)),a=p(n(6093)),o=p(n(6139)),i=p(n(6308)),l=p(n(6077)),s=p(n(838)),u=p(n(14)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6014)),c=p(n(222)),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}},6507:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(1)),a=d(n(6077)),o=d(n(6508)),i=d(n(152)),l=d(n(77)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,d){var f="",p=!1;null!=n&&(f=n.content,p=n.tts);var h=new o.default(s.Endpoints.MESSAGES(e));h.on("start",function(t){r.default.dispatch({type:s.ActionTypes.UPLOAD_START,channelId:e,file:t,uploader:h})}),h.on("progress",function(t){r.default.dispatch({type:s.ActionTypes.UPLOAD_PROGRESS,channelId:e,file:t})}),h.on("error",function(o,d){r.default.dispatch({type:s.ActionTypes.UPLOAD_FAIL,channelId:e,file:o}),d!==s.AbortCodes.EXPLICIT_CONTENT?l.default.push(a.default,{title:u.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:u.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_HELP.format({onClick:function(){l.default.pop(),c(e,t,n)}})}):i.default.sendClydeError(e,d)}),h.on("complete",function(t){r.default.dispatch({type:s.ActionTypes.UPLOAD_COMPLETE,channelId:e,file:t})});var v={content:f,tts:p,hasSpoiler:d};h.upload(t,v)}var f={instantBatchUpload:function(e,t){Array.prototype.forEach.call(t,function(t){c(e,t)})},upload:c};t.default=f,e.exports=t.default},6508:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(335)),o=l(n(6509)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._handleXHRProgress=function(e){t._handleProgress(e.loaded,e.total)},t}return n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,o.prototype.upload=function(t,n){var o=this;e.prototype.upload.call(this,t,n);var l=a.default.post(this._url),s=null!=n&&n.hasSpoiler?i.SPOILER_ATTACHMENT_PREFIX:"";l.attach("file",t,""+s+t.name),l.on("error",function(){return o._handleError()}),null!=n&&r.default.each(n,function(e,t){l.field(t,e)});var u=l.end(function(e){e.ok?o._handleComplete():o._handleError(e.body&&e.body.code)}).xhr;u.upload?u.upload.onprogress=this._handleXHRProgress:u.addEventListener("progress",this._handleXHRProgress,!1),this._handleStart(function(){return l.abort()})},o}(o.default);t.default=s,e.exports=t.default},6509:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(36)),a=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t,n;function r(t){var n;return(n=e.call(this)||this)._lastUpdate=0,n._loaded=0,n._aborted=!1,n._handleStart=function(e){n._cancel=e,n.emit("start",n._file)},n._handleProgress=function(e,t){var r=Date.now(),a=Math.min(Math.floor(e/t*100),100),o=Math.floor((e-n._loaded)/((r-n._lastUpdate)/1e3));n._lastUpdate=r,n._loaded=e,n._file=i({},n._file,{size:t,progress:a,rate:o}),n.emit("progress",n._file)},n._handleError=function(e){n._aborted||(n.emit("error",n._file,e),n.removeAllListeners())},n._handleComplete=function(){n.emit("complete",n._file),n.removeAllListeners()},n._url=t,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.cancel=function(){null!=this._cancel&&(this._aborted=!0,this._cancel()),this._handleComplete()},o.upload=function(e,t){if(null!=this._cancel)throw new Error("Uploader.upload(...): An upload is already in progress.");this._lastUpdate=Date.now(),this._loaded=0,this._file={id:a.default.uniqueId("Uploader"),name:e.name,size:0,progress:0,rate:0}},r}(r.default);t.default=l,e.exports=t.default},6510:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Upload=void 0;var r=l(n(6)),a=l(n(3)),o=l(n(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6014));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t){this.file=e,this.channelId=t,this.classification=i.classifyFile(e),this.isImage="image"===this.classification,this.sizeString=i.sizeString(e.size),this.filename=e.name};t.Upload=s;var u=[];var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getFirstUpload=function(){return u.length>0?u[0]:null},a.hasAdditionalUploads=function(){return u.length>1},r}(a.default.Store))(o.default,{UPLOAD_MODAL_POP_FILE:function(e){return u.shift(),void(u=[].concat(u))},UPLOAD_MODAL_PUSH_FILES:function(e){var t=e.files,n=e.channelId;u=[].concat(u),r.default.forEach(t,function(e){u.push(new s(e,n))})},UPLOAD_MODAL_CLEAR_ALL_FILES:function(e){u=[]}});t.default=d},6511:function(e,t,n){e.exports=n.p+"9cbfe5105fc5f29ef4e659059ee01a46.svg"},6512:function(e,t,n){var r={"./spritesheet-.png":6513,"./spritesheet-1f3fb.png":6514,"./spritesheet-1f3fc.png":6515,"./spritesheet-1f3fd.png":6516,"./spritesheet-1f3fe.png":6517,"./spritesheet-1f3ff.png":6518,"./spritesheet-emoji.png":6177,"./spritesheet-picker.png":6519};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6512},6513:function(e,t,n){e.exports=n.p+"6a4c3d24e0e1bb9bd102815d01cb3d87.png"},6514:function(e,t,n){e.exports=n.p+"b8fa63048881311b205927b3d4111bf6.png"},6515:function(e,t,n){e.exports=n.p+"757c4d5d07c5691452fde54dca7fcde8.png"},6516:function(e,t,n){e.exports=n.p+"5c0d73f3d0c4e89f92bcedbe1752ae94.png"},6517:function(e,t,n){e.exports=n.p+"df82ca7d3be7d1271f5fb93719ea65fe.png"},6518:function(e,t,n){e.exports=n.p+"7c1fdd7a2f89b4bc6f7968c3fb3b6a14.png"},6519:function(e,t,n){e.exports=n.p+"4e51af83c4879cf313ad553bdc20dcf7.png"},6520:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(3)),i=E(n(1)),l=S(n(6058)),s=E(n(6038)),u=E(n(6094)),d=E(n(219)),c=E(n(148)),f=E(n(301)),p=E(n(6057)),h=n(823),v=E(n(6522)),m=E(n(6181)),y=n(0),_=E(n(13)),g=E(n(5417));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={resultType:null},t.searchBarRef=a.createRef(),t.backToFrontPage=function(e){var n=t.state.resultType;e.keyCode===y.KeyboardKeys.ESCAPE&&null!=n&&(e.stopPropagation(),e.preventDefault(),t.handleClearQuery())},t.handleChangeQuery=function(e){t.search(e,y.GIFPickerResultTypes.SEARCH)},t.handleSelectSuggestion=function(e){l.resetSearch(),t.search(e,y.GIFPickerResultTypes.SEARCH_SUGGESTION,!0)},t.handleClearQuery=function(){var e=t.searchBarRef.current;l.resetSearch(),t.setState({resultType:null}),null!=e&&e.focus()},t.handleSelectGIF=function(e){var n=t.props.onSelectGIF;null!=n&&n(e)},t.handleSelectItem=function(e,n){var r=t.searchBarRef.current;switch(e){case y.GIFPickerResultTypes.TRENDING_CATEGORY:l.search(n,y.GIFPickerResultTypes.TRENDING_CATEGORY,!0),null!=r&&r.focus();break;case y.GIFPickerResultTypes.TRENDING_GIFS:l.fetchTrendingGIFs()}t.setState({resultType:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){l.initializeSearch(),document.addEventListener("keydown",this.backToFrontPage)},o.componentWillUnmount=function(){i.default.wait(function(){return l.resetSearch()}),document.removeEventListener("keydown",this.backToFrontPage)},o.search=function(e,t,n){l.search(e,t,n),""===e?this.setState({resultType:null}):this.state.resultType!==y.GIFPickerResultTypes.SEARCH&&this.setState({resultType:y.GIFPickerResultTypes.SEARCH})},o.renderHeaderContent=function(){var e=this.props.query;switch(this.state.resultType){case y.GIFPickerResultTypes.FAVORITES:return O(h.FormTitle,{tag:"h5",className:g.default.searchHeader},void 0,_.default.Messages.GIF_PICKER_FAVORITES);case y.GIFPickerResultTypes.TRENDING_GIFS:return O(h.FormTitle,{tag:"h5",className:g.default.searchHeader},void 0,_.default.Messages.GIF_PICKER_RESULT_TYPE_TRENDING_GIFS);default:return a.createElement(p.default,{className:g.default.searchBar,size:p.default.Sizes.MEDIUM,query:e,onChange:this.handleChangeQuery,onClear:this.handleClearQuery,placeholder:_.default.Messages.SEARCH_TENOR,ref:this.searchBarRef,autoFocus:!0})}},o.renderHeader=function(){var e=null;return null!=this.state.resultType&&(e=O(d.default,{onClick:this.handleClearQuery,className:g.default.backButton},void 0,O(f.default,{name:f.default.Names.ARROW_LEFT,width:20,height:20,title:_.default.Messages.BACK}))),O(c.default,{align:c.default.Align.CENTER},void 0,e,this.renderHeaderContent())},o.renderContent=function(){var e=this.props,t=e.resultItems,n=e.resultQuery,r=e.query,a=e.favorites,o=e.searchOffset,i=e.searchLimit,l=e.searchTotalResults,s=e.suggestions,u=this.state.resultType;return null==u?O(v.default,{onSelectItem:this.handleSelectItem}):O(m.default,{data:u===y.GIFPickerResultTypes.FAVORITES?a:t,onSelectGIF:this.handleSelectGIF,resultType:u,resultQuery:n,query:r,searchOffset:o,searchLimit:i,searchTotalResults:l,suggestions:s,onSelectSuggestion:this.handleSelectSuggestion})},o.render=function(){var e=this.props.forwardedRef;return a.createElement("div",{className:g.default.container,onClick:function(e){return e.stopPropagation()},ref:e},O("div",{className:g.default.header},void 0,this.renderHeader()),O("div",{className:g.default.content},void 0,this.renderContent()))},r}(a.PureComponent);I.displayName="GIFPicker";var C=o.default.connectStores([u.default,s.default],function(){return{query:u.default.getQuery(),favorites:s.default.getFavorites(),resultQuery:u.default.getResultQuery(),resultItems:u.default.getResultItems(),suggestions:u.default.getSuggestions(),searchOffset:0,searchTotalResults:u.default.getResultItems().length,searchLimit:null}})(I),N=a.forwardRef(function(e,t){return a.createElement(C,T({},e,{forwardedRef:t}))});t.default=N,e.exports=t.default},6521:function(e,t,n){"use strict";t.__esModule=!0,t.calculateAnalyticsMetadata=function(e,t,n){var a,o=n.offset,i=n.limit,l=n.results,s=n.totalResults,u=null!=t?((a={})[t]=1,a):{};return{search_type:r.SearchTypes.GIF,load_id:e,limit:i,offset:o,page:null!=i&&null!=o?Math.floor(o/i)+1:1,total_results:s,page_results:l?l.length:null,num_modifiers:Object.keys(u).length,modifiers:u}};var r=n(0)},6522:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(3)),i=n(6058),l=_(n(6038)),s=_(n(6094)),u=_(n(301)),d=_(n(6178)),c=_(n(6179)),f=_(n(6180)),p=n(6523),h=n(6181),v=n(0),m=_(n(13)),y=_(n(5416));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e,t){return g(p.CategoryColumn,{columns:e},t)};function S(e){return e.name}E.displayName="renderColumn";var T=function(e){var t,n;function r(){for(var t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this)._masonryRef=a.createRef(),t.state={favoritesTile:(n=l.default.getRandomFavorite(),{type:v.GIFPickerResultTypes.FAVORITES,name:m.default.Messages.GIF_PICKER_FAVORITES,icon:u.default.Names.FAVORITE_FILLED,src:null!=n?n.src:"https://media.giphy.com/media/1TOSaJsWtnhe0/giphy.gif",format:null!=n?n.format:v.GIFResultFormat.IMAGE}),selectedIndex:{column:0,row:0},focusedId:null},t.handleFocus=function(e){var n=t._masonryRef.current;null!=n&&n.scrollIntoView(e.coords.top-10,e.coords.top+e.coords.height+10),t.setState({focusedId:e.id})},t.handleSelect=function(e){var n=t.props.onSelectItem,r=t.getData().find(function(t){return S(t)===e.id});null!=r&&null!=n&&n(r.type,r.name)},t.renderItem=function(e,n,r){var a=n.width,o=n.height,i=t.props.onSelectItem,l=t.state.focusedId;return g(h.GIFPickerSearchItem,{format:e.format,color:v.Colors.PRIMARY_DARK_800,src:e.src,item:e,index:r,itemWidth:a,itemHeight:o,onClick:function(){return i(e.type,e.name)},renderExtras:t.renderCategoryExtras,focused:S(e)===l})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){0===this.props.trendingCategories.length&&(0,i.fetchTrending)()},o.getData=function(){var e=this.props.trendingCategories;return[this.state.favoritesTile].concat(e)},o.renderCategoryExtras=function(e){var t=e.name,n=e.icon,r=e.type;return g(a.Fragment,{},void 0,g("div",{className:r===v.GIFPickerResultTypes.FAVORITES?y.default.categoryFadeBlurple:y.default.categoryFade}),g("div",{className:y.default.categoryText},void 0,null!=n?g(u.default,{name:n,className:y.default.categoryIcon}):null,g("span",{className:y.default.categoryName},void 0,t)))},o.renderContent=function(e,t,n){return 0===this.props.trendingCategories.length?g(p.ResultsLoader,{columns:e,width:t,renderColumn:E}):a.createElement(c.default,{ref:this._masonryRef,className:y.default.container,width:t,height:n,gutterSize:12,getItemId:S,columns:e,getItemHeight:function(){return 110},renderItem:this.renderItem,data:this.getData()})},o.render=function(){var e=this;return g(d.default,{getItemGrid:function(){var t=e._masonryRef.current;return null!=t?t.getItemGrid():null},onFocus:this.handleFocus,onSelect:this.handleSelect},void 0,g(f.default,{desiredItemWidth:200,maxColumns:6},void 0,function(t,n,r){return e.renderContent(t,n,r)}))},r}(a.PureComponent);T.displayName="GIFPickerFrontPage";var O=o.default.connectStores([s.default],function(){return{trendingCategories:s.default.getTrendingCategories()}})(T);t.default=O,e.exports=t.default},6523:function(e,t,n){"use strict";t.__esModule=!0,t.ResultsLoader=t.CategoryColumn=t.AnimatedColumn=t.Block=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(6)),i=s(n(303)),l=s(n(5413));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=12,f=["#B3AEFF","#738EF5","#929AFA"],p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={backgroundColor:o.default.sample(f)},t}return d(t,e),t.prototype.render=function(){return u("div",{style:{height:this.props.height,backgroundColor:this.state.backgroundColor},className:l.default.gif})},t}(a.PureComponent);t.Block=p,p.displayName="Block";var h=function(e){function t(t){var n;(n=e.call(this,t)||this).animateSlide=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.props.direction,r=e.state,a=r.translateY,o=r.height,l=t>0?0:-o/2+c,s=t>0?-o/2+c:0;a.setValue(l),i.default.timing(a,{toValue:s,duration:800,easing:i.default.Easing.linear}).start(n.animateSlide)};var r=new Array(10).fill(null).map(function(){return o.default.random(40,150)});return n.state={blocks:r,height:2*r.reduce(function(e,t){return e+t+c},c),translateY:new i.default.Value(0)},n}d(t,e);var n=t.prototype;return n.componentDidMount=function(){this.animateSlide()},n.getAnimatedStyle=function(){return{width:100/this.props.columns+"%",transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}]}},n.render=function(){var e=this.state.blocks;return u(i.default.div,{className:l.default.column,style:this.getAnimatedStyle()},void 0,e.map(function(e,t){return u(p,{height:e},t)}),e.map(function(e,t){return u(p,{height:e},"alt"+t)}))},t}(a.Component);t.AnimatedColumn=h,h.displayName="AnimatedColumn",h.defaultProps={direction:-1};var v=function(e){var t=e.columns;return u("div",{className:l.default.column,style:{width:100/t+"%"}},void 0,new Array(4).fill(null).map(function(e,t){return u("div",{className:l.default.categoryLoader},t)}))};t.CategoryColumn=v,v.displayName="CategoryColumn";var m=function(e){function t(){return e.apply(this,arguments)||this}return d(t,e),t.prototype.render=function(){var e=this.props,t=e.columns,n=e.renderColumn;return u("div",{className:l.default.container},void 0,new Array(t).fill(null).map(function(e,r){return n(t,r)}))},t}(a.PureComponent);t.ResultsLoader=m,m.displayName="ResultsLoader"},6524:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=N(n(3)),i=N(n(179)),l=N(n(152)),s=N(n(77)),u=N(n(825)),d=n(862),c=N(n(41)),f=N(n(833)),p=N(n(6128)),h=N(n(124)),v=N(n(220)),m=N(n(437)),y=N(n(107)),_=N(n(177)),g=n(6071),E=N(n(314)),S=N(n(6065)),T=N(n(6183)),O=n(0),I=N(n(13)),C=N(n(5420));function N(e){return e&&e.__esModule?e:{default:e}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var P=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).trackInvite=function(e){if(null!=e&&e.ok){var t=n.props,r=t.activity,a=t.channel,o="";switch(t.activityActionType){case O.ActivityActionTypes.JOIN:o="Invite to Join";break;case O.ActivityActionTypes.SPECTATE:o="Invite to Spectate";break;case O.ActivityActionTypes.LISTEN:o="Invite to Listen";break;case O.ActivityActionTypes.WATCH:o="Invite to Watch"}return _.default.trackWithMetadata(O.AnalyticEvents.INVITE_SENT,{location:"Channel Text Area - "+o,invite_type:r.type===O.ActivityTypes.LISTENING?O.InviteTypes.SPOTIFY:O.InviteTypes.APPLICATION,application_id:r.application_id,guild_id:a.getGuildId(),channel_id:a.id,message_id:null!=e?e.body.id:null}),Promise.resolve()}},n.state={textValue:"",textFocused:!0},M(n).handleTextChange=n.handleTextChange.bind(M(n)),M(n).handleShare=n.handleShare.bind(M(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.fetchApplication()},o.componentDidUpdate=function(e){this.props.activity.application_id!==e.activity.application_id&&this.fetchApplication()},o.fetchApplication=function(){var e=this.props,t=e.activity,n=e.application;null!=t.application_id&&null==n&&i.default.fetchApplication(t.application_id)},o.renderTitle=function(){switch(this.props.activity.type){case O.ActivityTypes.LISTENING:return I.default.Messages.INVITE_EMBED_LISTENING_INVITE;case O.ActivityTypes.PLAYING:case O.ActivityTypes.STREAMING:default:return I.default.Messages.INVITE_EMBED_GAME_INVITE}},o.render=function(){var e=this,t=this.state,n=t.textValue,r=t.textFocused,o=this.props,i=o.activity,l=o.channel,s=o.activityActionType,u=o.cooldown,d=o.application,c=u>0,f=c?I.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((u+1e3)/1e3)}):null;return A(v.default,{size:v.default.Sizes.SMALL},void 0,A(v.default.Header,{},void 0,A(y.default,{tag:y.default.Tags.H4},void 0,this.renderTitle())),A(v.default.Content,{},void 0,A("div",{className:C.default.subHeader},void 0,I.default.Messages.MESSAGE_PREVIEW),A(T.default,{activityActionType:s,activity:i,className:C.default.preview,application:d,partyId:null!=i.party?i.party.id:null,isPreview:!0}),A("div",{className:C.default.subHeader},void 0,I.default.Messages.ADD_A_COMMENT_OPTIONAL),a.createElement(S.default,{className:C.default.textArea,value:n,focused:r,channel:l,onChange:this.handleTextChange,onSubmit:this.handleShare,type:O.TextareaTypes.FORM,ref:function(t){e.channelTextAreaRef=t}})),A(v.default.Footer,{},void 0,A(m.default,{text:f},void 0,A("div",{},void 0,A(h.default,{disabled:c,onClick:this.handleShare},void 0,I.default.Messages.INVITE_EMBED_SEND_INVITE))),A(h.default,{look:h.default.Looks.LINK,onClick:this.handleCancel},void 0,I.default.Messages.CANCEL)))},o.handleCancel=function(){s.default.pop()},o.handleTextChange=function(e,t){this.setState({textValue:t})},o.handleShare=function(){var e=this,t=this.props,n=t.channel,r=t.activity,a=t.activityActionType,o=t.cooldown,i=this.state.textValue;if(o>0)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var d=E.default.parse(n,i),c={activity:r,type:a};return f.default.isOpen("popout-channel-text-area-shouting")?(u.default.close("popout-channel-text-area-shouting"),l.default.sendMessage(n.id,d,!0,c).then(function(t){return e.trackInvite(t)}),s.default.pop(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):(0,g.applyChatRestrictions)(this.channelTextAreaRef,i,n).then(function(t){return t.valid?(l.default.sendMessage(n.id,d,!0,c).then(function(t){return e.trackInvite(t)}),s.default.pop(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!1,shouldRefocus:!1}})},r}(a.PureComponent);P.displayName="ActivityInvite";var b=o.default.connectStores([p.default,c.default],function(e){var t=e.channel,n=e.activity;return{cooldown:p.default.getSlowmodeCooldownGuess(t.id),application:null!=n.application_id?c.default.getGame(n.application_id):d.SpotifyApplication}})(P);t.default=b,e.exports=t.default},6525:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(17)),i=O(n(128)),l=n(223),s=O(n(309)),u=n(324),d=n(178),c=O(n(305)),f=n(5992),p=O(n(124)),h=O(n(148)),v=O(n(301)),m=O(n(821)),y=O(n(6675)),_=O(n(6080)),g=O(n(437)),E=n(0),S=O(n(13)),T=O(n(5419));function O(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M=function(e){function t(t){var n;return N(n=e.call(this,t)||this).renderUserPopout=n.renderUserPopout.bind(N(n)),n}A(t,e);var n=t.prototype;return n.renderUserPopout=function(e){var t=this.props,n=t.renderUserPopout;return n(t.member.user,e)},n.render=function(){var e=this.props,t=e.member,n=e.className;return C(m.default,{closeOnScroll:!1,render:t.unknownUser?void 0:this.renderUserPopout,position:m.default.Positions.LEFT,shadow:!1},void 0,C(g.default,{text:t.unknownUser?"":t.nick||t.user.username},void 0,C("div",{className:t.unknownUser?T.default.partyMember:T.default.partyMemberKnown},void 0,C(f.AvatarImage,{src:t.user.getAvatarURL(),size:f.AvatarSizes.XSMALL,className:(0,o.default)(T.default.partyAvatar,n)}))))},t}(a.PureComponent);M.displayName="PartyMember";var P=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleOpenSpotifyTrack=function(){var e=n.props,t=e.activity,r=e.onOpenSpotifyTrack;null!=t&&r&&r(t)},n.handleOpenSpotifyArtist=function(e){var t=n.props,r=t.activity,a=t.onOpenSpotifyArtist,o=t.message;null!=r&&null!=o&&a&&a(r,o.author.id,e)},n.handleOpenSpotifyAlbum=function(){var e=n.props,t=e.activity,r=e.onOpenSpotifyAlbum,a=e.message;null!=t&&null!=a&&r&&r(t,a.author.id)},N(n).handleJoin=n.handleJoin.bind(N(n)),N(n).handleSpectate=n.handleSpectate.bind(N(n)),N(n).handleSync=n.handleSync.bind(N(n)),N(n).handleDownloadApp=n.handleDownloadApp.bind(N(n)),N(n).renderUser=n.renderUser.bind(N(n)),n}A(t,e);var n=t.prototype;return n.isDeadInvite=function(){var e=this.props,t=e.isPreview,n=e.message,r=e.activity,a=e.applicationId;return!t&&!(null!=n&&(0,l.isInviteActive)(r,n,a))},n.getPartySize=function(){var e=this.props.activity;return null==e||null==e.party||null==e.party.size||e.party.size.length<2?[-1,-1]:e.party.size},n.getActionableMode=function(){return[E.ActivityActionTypes.LISTEN,E.ActivityActionTypes].includes(this.props.activityActionType)?"Actionable":this.props.isPreview||this.canSpectate()||this.canJoin()?"Actionable":"NotActionable"},n.isInParty=function(){var e=this.props,t=e.activity,n=e.myPartyId;return!e.isPreview&&null!=t&&null!=t.party&&n===t.party.id},n.isPartyFull=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&t>=n},n.hasPartySize=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&n>-1},n.isActionType=function(e){return this.props.activityActionType===e},n.canSpectate=function(){var e=this.props,t=e.isGameLaunchable,n=e.activity,r=e.isInBrowser,a=e.isPreview,o=(0,l.hasFlag)(n,E.ActivityFlags.SPECTATE);return!(!a||!o)||!(this.isDeadInvite()||!this.isActionType(E.ActivityActionTypes.SPECTATE)||!(0,l.hasFlag)(n,E.ActivityFlags.SPECTATE))&&!(r||!t||this.isInParty())},n.canJoin=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isGameLaunchable,a=e.isInBrowser;return!!n||!(this.isDeadInvite()||!this.isActionType(E.ActivityActionTypes.JOIN)||!(0,l.hasFlag)(t,E.ActivityFlags.JOIN))&&(!(!this.hasPartySize()||this.isPartyFull())&&!(a||!r||this.isInParty()))},n.canSync=function(){var e=this.props,t=e.activity,n=e.isPreview,r=e.isSyncable,a=e.isInBrowser;return!!n||!(!this.isActionType(E.ActivityActionTypes.LISTEN)&&!this.isActionType(E.ActivityActionTypes.WATCH))&&(!(this.isDeadInvite()||!(0,l.hasFlag)(t,E.ActivityFlags.SYNC))&&!(a||!r||this.isInParty()))},n.getHelpdeskArticleURL=function(){var e=this.props.partyId;return null!=e&&(0,u.isSpotifyParty)(e)?E.HelpdeskArticles.SPOTIFY_CONNECTION:E.HelpdeskArticles.RICH_PRESENCE_INTRODUCTION},n.handleJoin=function(){var e=this.props.onJoin;e&&e()},n.handleSpectate=function(){var e=this.props.onSpectate;e&&e()},n.handleSync=function(){var e=this.props.onSync;e&&e()},n.handleDownloadApp=function(){var e=this.props.onDownloadApp;e&&e()},n.renderHeaderText=function(){var e=this.props,t=e.activityActionType,n=e.name;switch(t){case E.ActivityActionTypes.LISTEN:return S.default.Messages.INVITE_EMBED_INVITE_TO_LISTEN.format({name:n});case E.ActivityActionTypes.WATCH:return S.default.Messages.INVITE_EMBED_INVITE_TO_WATCH.format({name:n});case E.ActivityActionTypes.SPECTATE:return S.default.Messages.INVITE_EMBED_INVITE_TO_SPECTATE;case E.ActivityActionTypes.JOIN:default:return S.default.Messages.INVITE_EMBED_INVITE_TO_JOIN_GROUP}},n.renderPartyStatus=function(){var e=this,t=this.props,n=t.activityActionType,r=t.isGameLaunchable,a=t.isSyncable,o=t.isPreview,i=t.isInBrowser,s=t.name,u=t.activity,d=this.getPartySize(),f=d[0],p=d[1];if(this.isDeadInvite())switch(n){case E.ActivityActionTypes.LISTEN:return S.default.Messages.INVITE_EMBED_LISTEN_HAS_ENDED;case E.ActivityActionTypes.WATCH:return S.default.Messages.INVITE_EMBED_WATCH_HAS_ENDED;case E.ActivityActionTypes.SPECTATE:case E.ActivityActionTypes.JOIN:default:return S.default.Messages.INVITE_EMBED_GAME_HAS_ENDED}if(i&&!o)switch(n){case E.ActivityActionTypes.SPECTATE:return S.default.Messages.INVITE_EMBED_SPECTATE_VIA_DESKTOP_APP;case E.ActivityActionTypes.JOIN:return S.default.Messages.INVITE_EMBED_JOIN_VIA_DESKTOP_APP}if(this.isActionType(E.ActivityActionTypes.LISTEN)||this.isActionType(E.ActivityActionTypes.WATCH)){if(null!=u&&null!=u.details&&null!=u.state&&(0,l.isListeningOnSpotify)(u)){return[C("div",{className:T.default.details},"details",C(c.default,{className:T.default.textLink,onClick:this.handleOpenSpotifyTrack},void 0,u.details)),C("div",{className:T.default.state},"state",S.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:u.state,artistsHook:function(t,n){return null!=u.state?C(y.default,{artists:u.state,linkClassName:T.default.textLink,canOpen:null!=u.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},n):null}}))]}return this.isActionType(E.ActivityActionTypes.LISTEN)?S.default.Messages.USER_ACTIVITY_LISTEN_ALONG:S.default.Messages.USER_ACTIVITY_WATCH_ALONG}return this.isInParty()?S.default.Messages.INVITE_EMBED_IN_GROUP:r||a||o?this.isActionType(E.ActivityActionTypes.SPECTATE)?S.default.Messages.INVITE_EMBED_SPECTATE:this.isPartyFull()?this.canSpectate()?S.default.Messages.INVITE_EMBED_FULL_GROUP_SPECTATE:S.default.Messages.INVITE_EMBED_FULL_GROUP:this.hasPartySize()?S.default.Messages.INVITE_EMBED_NUM_OPEN_SLOTS.format({number:p-f}):S.default.Messages.JOIN:S.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:s})},n.renderActionButton=function(){var e=this,t=this.props,n=t.isInBrowser,r=t.isPreview,o=t.isGameLaunchable,i=t.partyId,l=t.activity,s=t.message,d=t.renderSpotifyJoinButton,c=t.renderCustomButton,f={className:T.default.actionButton,size:p.default.Sizes.SMALL},h=null!=c?c(f):null;if(null!=h)return h;if(!this.isDeadInvite()&&this.isActionType(E.ActivityActionTypes.LISTEN)&&null!=i&&null!=s&&(0,u.isSpotifyParty)(i))return d(I({},f,{activity:l,user:s.author}));return a.createElement(p.default,I({},f,function(){if(!r&&n&&!e.isDeadInvite())return{children:S.default.Messages.USER_ACTIVITY_ACTION_DOWNLOAD_APP,onClick:e.handleDownloadApp};var t=e.canSpectate();return e.isActionType(E.ActivityActionTypes.SPECTATE)||e.isPartyFull()&&t?t?{children:S.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,onClick:e.handleSpectate}:{children:S.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,disabled:!0}:e.canJoin()?{children:S.default.Messages.JOIN,onClick:e.handleJoin}:e.canSync()?{children:S.default.Messages.JOIN,onClick:e.handleSync}:{children:S.default.Messages.JOIN,disabled:!0}}(),{color:!n&&!o||this.isDeadInvite()?p.default.Colors.GREY:p.default.Colors.GREEN,submitting:this.props.isLaunching}))},n.renderUser=function(e,t,n){var r=this.props.renderUserPopout;return null!=e?C(M,{member:e,renderUserPopout:r,className:t},n):C("div",{className:(0,o.default)(T.default.partyMemberEmpty,t)},n)},n.renderMoreUsers=function(e,t,n){return C("div",{className:T.default.moreUsers},n,e)},n.renderParty=function(){var e=this.props,t=e.partyId,n=e.partyMembers,r=e.hideParty,a=this.getPartySize(),o=a[0],l=a[1],s=this.hasPartySize()||this.isActionType(E.ActivityActionTypes.LISTEN)||this.isActionType(E.ActivityActionTypes.WATCH);if(this.isActionType(E.ActivityActionTypes.SPECTATE)||null==t||this.isDeadInvite()||!s||r)return null;for(var u=[].concat(n);u.length<o;)u.push({user:new i.default({discriminator:"0005"}),unknownUser:!0});for(var d=Math.min(l,106);u.length<d;)u.push(null);return C(_.default,{className:T.default.partyMembers,users:u,max:l>0?Math.min(l,6):6,renderUser:this.renderUser,renderMoreUsers:this.renderMoreUsers})},n.render=function(){var e,t=this.props,n=t.className,r=t.coverImage,a=t.name,i=t.activity,u=t.backgroundOpacity,f=this.isActionType(E.ActivityActionTypes.JOIN)||this.isActionType(E.ActivityActionTypes.SPECTATE),p=this.isDeadInvite();return null==r||null==i||f?!f&&p&&(e=C("div",{className:T.default.artworkSpotifySessionEnded})):e=C("img",{alt:"",src:r,className:(0,d.getClass)(T.default,"artwork",this.getActionableMode())}),null!=i&&null!=e&&null!=i.assets&&i.assets.large_text&&!p&&(0,l.isListeningOnSpotify)(i)&&(e=C(g.default,{text:i.assets.large_text},void 0,C(c.default,{onClick:this.handleOpenSpotifyAlbum},void 0,e))),C("div",{className:(0,o.default)(T.default.invite,n,T.default[u+"BackgroundOpacity"])},void 0,C("div",{className:T.default.coverImageWrapper},void 0,C("div",{className:(0,o.default)((0,d.getClass)(T.default,"coverImage",this.getActionableMode()),null!=e?T.default.blurred:null),style:{backgroundImage:null!=r?"url('"+r+"')":null}})),C(h.default,{className:T.default.fullHeight},void 0,C(h.default,{direction:h.default.Direction.VERTICAL},void 0,C("div",{className:T.default.header},void 0,this.renderHeaderText()),C(h.default.Child,{className:T.default.partyStatus},void 0,this.renderPartyStatus()),C(h.default,{align:h.default.Align.END},void 0,C(h.default,{align:h.default.Align.CENTER,className:T.default.actionAndParty,basis:0,style:{marginRight:0}},void 0,this.renderActionButton(),this.renderParty()),null==e&&f?C("div",{className:T.default.name},void 0,a):null)),e),C(c.default,{href:s.default.getArticleURL(this.getHelpdeskArticleURL()),className:T.default.helpIcon},void 0,C(v.default,{name:v.default.Names.QUESTION_MARK,color:E.Colors.PRIMARY_DARK_300,width:12,height:12})))},t}(a.PureComponent);P.displayName="ActivityInviteEmbed";var b=P;t.default=b,e.exports=t.default},6526:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=M(n(17)),i=M(n(109)),l=M(n(3)),s=n(6058),u=M(n(6038)),d=M(n(6066)),c=M(n(6529)),f=n(6008),p=M(n(6082)),h=n(6059),v=M(n(6531)),m=n(106),y=M(n(6547)),_=M(n(6549)),g=M(n(6185)),E=M(n(6550)),S=M(n(6182)),T=M(n(6553)),O=M(n(914)),I=M(n(6556)),C=M(n(6189)),N=n(0),A=M(n(5446));function M(e){return e&&e.__esModule?e:{default:e}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=l.default.connectStores([u.default],function(e){var t=e.url;return{isFavorite:u.default.getIsFavorite(t)}})(function(e){var t=e.width,n=e.height,r=e.url,a=e.src,i=e.isFavorite,l=e.format,u=e.className;return b(S.default,{className:(0,o.default)(u),onClick:function(e){e?(0,s.removeFavoriteGIF)(r):((0,s.addFavoriteGIF)({url:r,src:a,width:t,height:n,format:l}),m.ComponentDispatch.dispatch(N.ComponentActions.FAVORITE_GIF))},isFavorite:i})}),L=function(e,t,n){return function(){var r=t||n;if(null==r)return null;var a=r.url,o=r.proxyURL,i=r.width,l=r.height;return b(R,{width:i,height:l,src:o||a,url:e||o||a,format:null!=n?N.GIFResultFormat.VIDEO:N.GIFResultFormat.IMAGE,className:A.default.gifFavoriteButton})}},D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).getAcceptInviteContext=function(e){var n=t.props,r=n.channel,a=n.message;return{location:e,location_guild_id:r.getGuildId(),location_channel_id:r.id,location_channel_type:r.type,location_message_id:a.id}},t.renderEmbed=function(e,n){var r=t.props,o=r.disableAutoPlayGif,i=r.inlineEmbedMedia,l=r.backgroundOpacity,s=a.createElement(d.default,P({className:A.default.embedWrapper,embed:e,autoPlayGif:!o,hideMedia:!i},n,{backgroundOpacity:l}));return b(h.GIFAccessoryContext.Provider,{value:L(e.url,e.image,e.video)},e.id,s)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.renderInvites=function(e){var t=this;return e.invites.length?e.invites.map(function(n){return b(y.default,{code:n,author:e.author,getAcceptInviteContext:t.getAcceptInviteContext},n)}):null},l.renderGiftCodes=function(e){return e.giftCodes.map(function(t){return b(I.default,{code:t,author:e.author,channelId:e.channel_id},t)})},l.renderReactions=function(e){var t=this.props,n=t.disableReactionCreates,r=t.disableReactionReads,a=t.disableReactionUpdates,o=t.channel;return r?null:b(g.default,{message:e,channel:o,disableReactionCreates:n,disableReactionUpdates:a})},l.renderAttachments=function(e){var t=this.props,n=t.disableAutoPlayGif,r=t.inlineAttachmentMedia,a=t.onContextMenuMessage,o=t.channel;return e.attachments.length?e.attachments.map(function(t){return b(h.GIFAccessoryContext.Provider,{value:function(e){return function(){var t=e.proxy_url,n=e.width,r=e.height;return f.IMAGE_GIF_RE.test(e.filename)&&null!=n&&null!=r?b(R,{width:n,height:r,src:t,url:t,format:N.GIFResultFormat.IMAGE,className:A.default.gifFavoriteButton}):null}}(t)},t.id,b(v.default,{className:A.default.embedWrapper,attachment:t,inlineMedia:r,autoPlayGif:!n,onContextMenu:function(n){return a(n,{attachment:t,message:e,channel:o,target:n.target})},ImageComponent:T.default}))}):null},l.renderEmbeds=function(e){var t=this,n=this.props.disableEmbeds;return!e.embeds.length||n?null:e.embeds.map(function(e){if(e.type===N.EmbedTypes.APPLICATION_NEWS)return b(E.default,{embed:e},e.id);var n={};if(n.ImageComponent=T.default,n.VideoComponent=p.default,n.GIFVComponent=c.default,e.type===N.EmbedTypes.RICH&&(n.LinkComponent=O.default),e.type===N.EmbedTypes.ARTICLE&&null!=e.url&&e.url.includes("discordapp.com/store/skus")&&null!=e.provider&&"Discord"===e.provider.name){var r=i.default.parse(e.url);if(null!=r.pathname){var a=r.pathname.split("/")[3];if(null!=a)return b(C.default,{skuId:a,renderFallback:function(){return t.renderEmbed(e,n)}},e.id)}}return t.renderEmbed(e,n)})},l.renderActivityInvite=function(e){if(null==e.activity)return null;var t=this.props.channel;return b(_.default,{channel:t,message:e,hideParty:!1})},l.render=function(){var e=this.props,t=e.isCompact,n=e.className,r=e.message,a=this.renderInvites(r),i=this.renderGiftCodes(r),l=this.renderAttachments(r),s=this.renderEmbeds(r),u=this.renderActivityInvite(r),d=this.renderReactions(r);return null==a&&null==l&&null==s&&null==u&&null==d&&null==i?null:b("div",{className:(0,o.default)(n,t?A.default.containerCompact:A.default.containerCozy)},void 0,a,i,l,s,u,d)},r}(a.PureComponent);t.default=D,D.displayName="MessageAccessories",D.defaultProps={disableEmbeds:!0,isCompact:!1},e.exports=t.default},6527:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=i(n(17)),o=i(n(5423));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]);return r.createElement("div",l({className:(0,a.default)(o.default.gifTag,t)},n))},e.exports=t.default},6528:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(78),l=n(6081),s=(r=n(9))&&r.__esModule?r:{default:r};function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=200,f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).timeout=new i.Timeout,t.state={pointerEvents:!1},t.onMouseOver=function(){t.timeout.start(c,function(){return t.setState({pointerEvents:!0})})},t.onMouseOut=function(){t.timeout.start(c,function(){return t.setState({pointerEvents:!1})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){r.visibilityObserver.observe(this)},a.componentWillUnmount=function(){r.visibilityObserver.unobserve(this),this.timeout.stop()},a.render=function(){var e,t=this.props,n=t.src,a=t.className,o=t.style,i=this.state.pointerEvents,l=r.visibilityObserver.isVisible(this),c={pointerEvents:i?"auto":"none"};return l&&(e=s.default.embedded&&!window.DiscordNative?u("webview",{src:n,style:d({width:"100%",height:"100%"},c)}):u("iframe",{src:n,style:d({},o,c),frameBorder:0})),u("div",{onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,className:a,style:o},void 0,e)},r}(o.PureComponent);t.default=f,f.displayName="UnloadingWebview",f.visibilityObserver=new l.VisibilityObserver({rootMargin:"-50px 0px 0px 0px",threshold:0}),e.exports=t.default},6529:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(6008)),i=n(6059),l=n(0),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).videoRef=a.createRef(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidUpdate=function(e){if(e.play!==this.props.play){var t=this.videoRef.current;t instanceof HTMLVideoElement&&(this.props.play?t.play():t.pause())}},o.render=function(){var e=this.props,t=e.poster,n=e.src,r=e.width,o=e.height,i=e.naturalWidth,s=e.naturalHeight,u=e.play,d=e.className;return i<=l.MAX_VIDEO_WIDTH&&s<=l.MAX_VIDEO_HEIGHT||i<=l.MAX_VIDEO_HEIGHT&&s<=l.MAX_VIDEO_WIDTH?a.createElement("video",{ref:this.videoRef,className:d,poster:t,src:n,width:r,height:o,muted:!0,loop:!0,autoPlay:u,preload:"none"}):c("img",{alt:"",src:t,width:r,height:o})},r}(a.Component);f.displayName="Video",f.defaultProps={play:!1};var p=function(e){var t=e.src,n=e.poster,r=e.naturalWidth,l=e.naturalHeight,u=e.autoPlay,p=e.ImageComponent,h=e.className,v=e.playable,m=void 0===v||v,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["src","poster","naturalWidth","naturalHeight","autoPlay","ImageComponent","className","playable"]),_=p||o.default;return c(i.GIFAccessoryContext.Consumer,{},void 0,function(e){return a.createElement(_,d({alt:s.default.Messages.GIF,src:n,className:h,autoPlay:u,animated:m,renderAccessory:e,tabIndex:m?0:-1},y),function(e){var n=e.src,a=e.size,o=e.animating;return c(f,{className:h,poster:n,src:t,width:a.width,height:a.height,naturalWidth:r,naturalHeight:l,play:m&&o})})})};p.displayName="LazyGIFV";var h=p;t.default=h,e.exports=t.default},6530:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(303)),l=s(n(5425));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f={friction:14,tension:200},p={DURATION:"DURATION",VOLUME:"VOLUME"};function h(e){var t=0|e,n=t%60;return(t-n)/60+":"+String(n).padStart(2,"0")}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={animatedProgress:new i.default.Value(0),dragging:!1,offsetLeft:0,offsetWidth:0,previewWidth:new i.default.Value(0)},t.handlePreviewChange=function(){var e=c(t),n=e.bubble,r=e.state,a=r.dragging,o=r.previewWidth,i=e.props.value;a||null==n||(n.innerHTML=h(o._value*i))},t.handleAnimatedChange=function(){var e=c(t),n=e.bubble,r=e.state,a=r.dragging,o=r.animatedProgress,i=e.props.value;a&&null!=n&&(n.innerHTML=h(o._value*i))},t.handleMouseMove=function(e){var n=t.state,r=n.dragging,a=n.previewWidth;if(!r){var o=e.clientX,i=e.clientY;a.setValue(t.calculatePercentage(o,i))}},t.handleDragMove=function(e){var n=t.props,r=n.onDrag,a=n.type,o=e.clientX,i=e.clientY;r(t.calculatePercentage(o,i),a)},t.handleDragStart=function(e){var n=t.props,r=n.onDragStart,a=n.onDrag,o=n.type,i=e.clientX,l=e.clientY;if(e.preventDefault(),null!=t.wrapper){var s=t.wrapper.getBoundingClientRect(),u=s.left,d=s.width;t.setState({dragging:!0,offsetLeft:u,offsetWidth:d},function(){r(o),a(t.calculatePercentage(i,l),o),window.addEventListener("mouseup",t.handleDragEnd,!1),window.addEventListener("mousemove",t.handleDragMove,!1)})}},t.handleDragEnd=function(){(0,t.props.onDragEnd)(),window.removeEventListener("mouseup",t.handleDragEnd,!1),window.removeEventListener("mousemove",t.handleDragMove,!1),t.setState({dragging:!1})},t.setBubbleRef=function(e){null==e?t.bubble=null:null!=e.componentRef?t.bubble=e.componentRef:null!=e.refs&&(t.bubble=e.refs.node)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.componentDidMount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.addListener(this.handlePreviewChange),n.addListener(this.handleAnimatedChange)},s.componentWillUnmount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.removeListener(this.handlePreviewChange),n.removeListener(this.handleAnimatedChange),window.removeEventListener("mouseup",this.handleDragEnd,!1),window.removeEventListener("mousemove",this.handleDragMove,!1)},s.componentDidUpdate=function(e,t){var n=this.state,r=n.dragging,a=n.previewWidth,o=n.animatedProgress;!r&&t.dragging&&a.setValue(o._value)},s.setGrabber=function(e,t){void 0===t&&(t=!0);var n=this.state.animatedProgress;t?i.default.spring(n,d({toValue:e},f)).start():n.setValue(e)},s.calculatePercentage=function(e,t){var n=this.wrapper,r=this.props.type;if(null==n)return 0;var a=n.getBoundingClientRect(),o=a.left,i=a.width,l=a.bottom,s=a.height,u=r===p.VOLUME?(l-t)/s:(e-o)/i;return Math.min(1,Math.max(0,u))},s.render=function(){var e=this,t=this.props,n=t.buffers,r=t.type,s=this.state,d=s.dragging,c=s.previewWidth,f=s.animatedProgress,h=d?f:c;return u("div",{className:r===p.VOLUME?l.default.vertical:l.default.horizontal},void 0,a.createElement("div",{className:(0,o.default)(d?l.default.mediaBarInteractionDragging:l.default.mediaBarInteraction,r===p.VOLUME?l.default.mediaBarInteractionVolume:null),onMouseDown:this.handleDragStart,onMouseMove:this.handleMouseMove,ref:function(t){return e.wrapper=t}},u("div",{className:(0,o.default)(l.default.mediaBarWrapper,r===p.VOLUME?l.default.mediaBarWrapperVolume:null)},void 0,null!=n?n.map(function(e,t){var n=e[0],r=e[1];return u("div",{className:l.default.buffer,style:{width:100*r+"%",left:100*n+"%"}},t)}):null,r===p.DURATION?u(i.default.div,{className:l.default.mediaBarPreview,style:{width:c.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null,u(i.default.div,{className:l.default.mediaBarProgress,style:{width:f.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}},void 0,u("span",{className:l.default.mediaBarGrabber})),r===p.DURATION?a.createElement(i.default.div,{ref:this.setBubbleRef,className:l.default.bubble,style:{left:h.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null)))},r}(a.Component);v.displayName="MediaBar",v.Types=p;var m=v;t.default=m,e.exports=t.default},6531:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(6237)),l=p(n(6546)),s=p(n(6008)),u=p(n(6082)),d=p(n(857)),c=n(6059),f=p(n(5428));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=/\.(png|jpe?g|webp|gif)$/i,y=/\.(mp4|webm|mov)$/i,_=/\.(mp3|ogg|wav|flac)$/i,g=function(e){var t=e.attachment,n=e.inlineMedia,r=e.autoPlayGif,a=e.onClick,o=e.onContextMenu,d=e.ImageComponent,f=e.className,p=e.focusable,h=t.filename,g=t.width,E=t.height;if(n&&null!=g&&g>0&&null!=E&&E>0){if(m.test(h)){var S=d||s.default;return v(c.GIFAccessoryContext.Consumer,{},void 0,function(e){return v(S,{src:t.proxy_url||t.url,original:t.url,width:g,height:E,autoPlay:r,onClick:a,onContextMenu:o,renderAccessory:e,className:f,shouldLink:p})})}if(y.test(h)&&null!=t.proxy_url)return v(u.default,{poster:t.proxy_url+"?format=jpeg",fileSize:t.size,fileName:t.filename,src:t.url,width:g,height:E,onClick:a,onContextMenu:o,naturalWidth:g,naturalHeight:E,className:f,playable:p})}else if(null!=n&&_.test(h)&&null!=t.url)return v(l.default,{fileSize:t.size,fileName:t.filename,src:t.url,className:f,playable:p});return v(i.default,{url:t.url,filename:t.filename,size:t.size,onClick:a,onContextMenu:o,className:f})};g.displayName="AttachmentContent";var E=function(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]),r=n.attachment,i=r.width,l=r.height,s=r.spoiler,u=null!=i&&i<200||null!=l&&l<50,c=function(e){var r;return a.createElement(g,h({},n,{className:(0,o.default)(t,(r={},r[f.default.spoiler]=s&&!u,r[f.default.hiddenSpoilers]=s&&e,r[f.default.inline]=s&&u,r)),focusable:!e}))};return s?v(d.default,{type:d.default.Types.ATTACHMENT,inline:u},void 0,function(e){return c(e)}):c()};t.default=E,e.exports=t.default},6532:function(e,t,n){var r={"./icon-file-small-acrobat.svg":6533,"./icon-file-small-ae.svg":6534,"./icon-file-small-ai.svg":6535,"./icon-file-small-archive.svg":6536,"./icon-file-small-audio.svg":6537,"./icon-file-small-code.svg":6538,"./icon-file-small-document.svg":6539,"./icon-file-small-ps.svg":6540,"./icon-file-small-sketch.svg":6541,"./icon-file-small-spreadsheet.svg":6542,"./icon-file-small-unknown.svg":6543,"./icon-file-small-video.svg":6544,"./icon-file-small-webcode.svg":6545};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6532},6533:function(e,t,n){e.exports=n.p+"f167b4196f02faf2dc2e7eb266a24275.svg"},6534:function(e,t,n){e.exports=n.p+"982bd8aedd89b0607f492d1175b3b3a5.svg"},6535:function(e,t,n){e.exports=n.p+"03ad68e1f4d47f2671d629cfeac048ef.svg"},6536:function(e,t,n){e.exports=n.p+"73d212e3701483c36a4660b28ac15b62.svg"},6537:function(e,t,n){e.exports=n.p+"5b0da31dc2b00717c1e35fb1f84f9b9b.svg"},6538:function(e,t,n){e.exports=n.p+"481aa700fab464f2332ca9b5f4eb6ba4.svg"},6539:function(e,t,n){e.exports=n.p+"9f358f466473586417baee7bacfba5ca.svg"},6540:function(e,t,n){e.exports=n.p+"a236ab3be009cf5fbbbae4d7a7437804.svg"},6541:function(e,t,n){e.exports=n.p+"f812168e543235a62b9f6deb2b094948.svg"},6542:function(e,t,n){e.exports=n.p+"85f7a4063578f6e0e2c73f60bca0fcce.svg"},6543:function(e,t,n){e.exports=n.p+"985ea67d2edab4424c62009886f12e44.svg"},6544:function(e,t,n){e.exports=n.p+"83a157e8720aa50957c4338e10d01c80.svg"},6545:function(e,t,n){e.exports=n.p+"a11e895b46cde503a094dd31641060a6.svg"},6546:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(6014),l=(r=n(6117))&&r.__esModule?r:{default:r};var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,r=e.fileName,o=e.className,s=e.playable;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{src:t,fileName:r,fileSize:(0,i.sizeString)(n),type:l.default.Types.AUDIO,className:o,playable:s})},r}(o.PureComponent);t.default=s,s.displayName="LazyAudio",e.exports=t.default},6547:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=C(n(17)),i=C(n(39)),l=C(n(3)),s=C(n(311)),u=C(n(126)),d=C(n(313)),c=C(n(5360)),f=C(n(20)),p=C(n(28)),h=C(n(6048)),v=C(n(49)),m=C(n(307)),y=C(n(14)),_=C(n(6548)),g=n(828),E=n(106),S=C(n(6127)),T=n(0),O=C(n(13)),I=C(n(5374));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=N(_.default.Body,{resolving:!0}),M=N(_.default.Icon,{expired:!0}),P=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAcceptInstantInvite=function(e){var n=t.props,r=n.code,a=n.getAcceptInviteContext;s.default.acceptInvite(r,a("Invite Button Embed"),function(){t.handleTransitionToInviteChannel(e)})},t.handleTransitionToInviteChannel=function(e){var n=t.props.invite;null!=n.channel&&s.default.transitionToInviteSync(n)},t.handleMentionInviter=function(){var e=t.props,n=e.author,r=e.selectedChannelId,a=n.username,o=n.discriminator,i="@"+a;m.default.hidePersonalInformation||(i+="#"+o),E.ComponentDispatch.dispatchToLastSubscribed(T.ComponentActions.INSERT_TEXT,{content:i}),null!=r&&S.default.typing(r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderResolving=function(){return N(_.default,{},void 0,N(_.default.Header,{text:O.default.Messages.INVITE_BUTTON_RESOLVING}),A)},a.renderExpired=function(){var e,t,n,r=this.props,a=r.currentUserId,o=r.author;return a===o.id?(e=O.default.Messages.INVITE_BUTTON_INVALID_OWNER,n=O.default.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID):(n=O.default.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID,o&&o.username?(e=O.default.Messages.INSTANT_INVITE_ASK_USER_FOR_NEW_INVITE.format({username:o.username}),t=N(_.default.Button,{onClick:this.handleMentionInviter},void 0,O.default.Messages.MENTION)):e=O.default.Messages.INSTANT_INVITE_ASK_FOR_NEW_INVITE),N(_.default,{},void 0,N(_.default.Header,{text:n}),N(_.default.Body,{},void 0,M,N(_.default.Info,{expired:!0,title:O.default.Messages.INVITE_BUTTON_INVALID},void 0,e),t))},a.renderStandard=function(){var e,t=this.props,n=t.invite,r=t.author,a=t.currentUserId===r.id,o=n.channel,i=n.approximate_member_count,l=n.approximate_presence_count,s=n.state===T.InviteStates.ACCEPTING,c=null!=o?new u.default(o):null,f=this.props.guild,p=null!=f;if(null==f){if(null==n.guild)return this.renderResolving();f=new d.default(n.guild)}null!=c&&c.type===T.ChannelTypes.GUILD_VOICE?e=N(_.default.Channel,{channel:c}):null!=i&&i>=5||null!=l&&l>0?e=N(_.default.Data,{members:i,membersOnline:l}):null!=c&&(e=N(_.default.Channel,{channel:c}));var h=p?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,v=O.default.Messages.JOIN_SERVER,m=_.default.Button.Colors.GREEN;p&&(v=O.default.Messages.JOINED_SERVER,m=_.default.Button.Colors.PRIMARY);var y=O.default.Messages.INVITE_BUTTON_TITLE_INVITED;return a&&(y=O.default.Messages.INVITE_BUTTON_TITLE_INVITER),N(_.default,{},void 0,N(_.default.Header,{text:y}),N(_.default.Body,{},void 0,N(_.default.Icon,{guild:f,onClick:p?h:null}),N(_.default.Info,{title:f.name,onClick:p?h:null},void 0,e),N(_.default.Button,{onClick:h,submitting:s,checkmark:p,color:m},void 0,v)))},a.renderGroupDM=function(){var e,t=this.props,n=t.invite,r=t.author,a=t.currentUserId===r.id,o=n.state===T.InviteStates.ACCEPTING,i=this.props.channel,l=null!=i;if(null==i){if(null==n.channel)return this.renderResolving();i=new u.default(n.channel),e=null!=n.channel&&null!=n.channel.recipients?n.channel.recipients:[]}else e=i.recipients.reduce(function(e,t){var n=y.default.getUser(t);return null!=n&&e.push(n),e},[]),l&&e.push(y.default.getCurrentUser());var s=i.name;s||(s=e.length>0?e.filter(function(e){return null!=e}).map(function(e){return e.username}).join(", "):O.default.Messages.UNNAMED);var d=l?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,c=O.default.Messages.JOIN_SERVER,f=_.default.Button.Colors.GREEN;l&&(c=O.default.Messages.JOINED_SERVER,f=_.default.Button.Colors.PRIMARY);var p=O.default.Messages.INVITE_BUTTON_TITLE_INVITED_GROUP_DM;return a&&(p=O.default.Messages.INVITE_BUTTON_TITLE_INVITER_GROUP_DM),N(_.default,{},void 0,N(_.default.Header,{text:p}),N(_.default.Body,{},void 0,N(_.default.Icon,{channel:i,onClick:l?d:null}),N(_.default.Info,{title:s,onClick:l?d:null},void 0,N(_.default.Data,{members:e.length})),N(_.default.Button,{onClick:d,submitting:o,checkmark:l,color:f},void 0,c)))},a.renderStreaming=function(){var e=this.props,t=e.invite,n=e.author,r=e.currentUserId,a=e.isWatching,o=r===n.id,l=t.target_user_type,s=t.target_user;(0,i.default)(l===T.InviteTargetUserTypes.STREAM&&null!=s,"invalid streaming invite");var u=t.state===T.InviteStates.ACCEPTING,c=this.props.guild,f=null!=c;if(null==c){if(null==t.guild)return this.renderResolving();c=new d.default(t.guild)}var p=a?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,h=O.default.Messages.WATCH,v=_.default.Button.Colors.GREEN;a&&(v=_.default.Button.Colors.PRIMARY);var m=o?O.default.Messages.INVITE_BUTTON_STREAMER:O.default.Messages.INVITE_BUTTON_STREAMING.format({name:s.username});return N(_.default,{},void 0,N(_.default.Header,{text:O.default.Messages.INVITE_BUTTON_TITLE_STREAMING}),N(_.default.Body,{},void 0,N(_.default.Icon,{guild:c,onClick:f?p:null}),N(_.default.Info,{title:m,onClick:f?p:null},void 0,O.default.Messages.INVITE_BUTTON_STREAMING_SUBTEXT.format({guildName:c.name})),N(_.default.Button,{onClick:p,submitting:u,checkmark:a,color:v},void 0,h)))},a.renderBody=function(){var e=this.props.invite;if(null==e)throw new Error("[InviteButton] Received null invite object");switch(e.state){case T.InviteStates.RESOLVING:return this.renderResolving();case T.InviteStates.EXPIRED:return this.renderExpired();default:return e.target_user_type===T.InviteTargetUserTypes.STREAM?this.renderStreaming():null!=e.channel&&e.channel.type===T.ChannelTypes.GROUP_DM?this.renderGroupDM():this.renderStandard()}},a.render=function(){var e=this;return N(g.BackgroundOpacityContext.Consumer,{},void 0,function(t){var n=t.backgroundOpacity;return n?N("div",{className:(0,o.default)(I.default[n+"BackgroundOpacity"])},void 0,e.renderBody()):e.renderBody()})},r}(a.PureComponent);P.displayName="InviteButton",P.defaultProps={invite:{state:T.InviteStates.RESOLVING,code:""}};var b=l.default.connectStores([h.default,p.default,c.default],function(e){var t=e.code,n=h.default.getInvite(t),r=c.default.getActiveStream(),a=null!=n&&n.target_user_type===T.InviteTargetUserTypes.STREAM&&null!=n.target_user&&null!=r&&r.ownerId===n.target_user.id;return{invite:n,guild:null!=n&&null!=n.guild?p.default.getGuild(n.guild.id):null,channel:null!=n&&null!=n.channel?f.default.getChannel(n.channel.id):null,selectedChannelId:v.default.getChannelId(),currentUserId:y.default.getCurrentUser().id,isWatching:a}})(P);t.default=b,e.exports=t.default},6548:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(178),i=y(n(5992)),l=y(n(124)),s=y(n(148)),u=y(n(6019)),d=y(n(301)),c=y(n(125)),f=y(n(107)),p=n(6023),h=y(n(13)),v=y(n(5372)),m=y(n(5374));function y(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t=e.text;return g(f.default,{className:m.default.header},void 0,t)};E.displayName="InviteHeader";var S=function(e){var t=e.resolving,n=e.children;return g("div",{className:m.default.content},void 0,t?g("div",{className:m.default.resolving},void 0,g("div",{className:m.default.resolvingBackground})):n)};S.displayName="InviteBody";var T=function(e){var t=e.title,n=e.onClick,r=e.expired,a=e.children;return g(s.default,{className:m.default.guildInfo,direction:s.default.Direction.VERTICAL,justify:s.default.Justify.CENTER},void 0,g(c.default,{onClick:n,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.MEDIUM,className:(0,o.getClass)(m.default,"guildName",r?"Expired":null!=n?"Joined":"")},void 0,t),g(c.default,{weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL,className:m.default.guildDetail},void 0,g(s.default,{grow:0,align:s.default.Align.CENTER},void 0,a)))};T.displayName="InviteInfo";var O=function(e){e.className,e.size;var t=e.checkmark,n=e.children,r=e.onClick,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className","size","checkmark","children","onClick"]);return a.createElement(l.default,_({},o,{onClick:r,look:t?l.default.Looks.OUTLINED:l.default.Looks.FILLED,size:m.default.buttonSize,className:m.default.button,innerClassName:m.default.buttonInner}),g("div",{className:m.default.buttonContent},void 0,n),t?g(d.default,{name:d.default.Names.CHECKMARK,className:m.default.buttonIcon,width:18,height:18}):null)};O.displayName="InviteActionButton",O.Colors=l.default.Colors,O.Looks=l.default.Looks,O.defaultProps={checkmark:!1};var I=function(e){var t=e.children;return g("div",{className:m.default.wrapper},void 0,t)};I.displayName="InviteButton",I.Header=E,I.Body=S,I.Icon=function(e){var t=e.guild,n=e.channel,r=e.onClick,a=e.expired;if(void 0!==a&&a||null==t&&null==n)return g("div",{className:m.default.guildIconExpired});var l=null==t||null!=t.icon,s=(0,o.getClass)(m.default,"guildIcon",l?"Image":"",null!=r?"Joined":"");return null!=t?g(u.default,{onClick:r,active:!0,size:u.default.Sizes.LARGE,guild:t,className:s}):null!=n?g(i.default,{onClick:r,src:n.getIconURL(),className:s,imageClassName:v.default.iconSizeLarge}):null},I.Info=T,I.Data=function(e){var t=e.membersOnline,n=e.members,r=[];return null!=t&&t>0&&r.push(g(a.Fragment,{},"onlineCount",g("i",{className:m.default.statusOnline}),g("span",{className:m.default.onlineCount},void 0,h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})))),null!=n&&r.push(g(a.Fragment,{},"memberCount",g("i",{className:m.default.statusOffline}),g("span",{},void 0,h.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:n})))),r},I.Channel=function(e){var t=e.channel,n=(0,p.getIconNameForChannel)(t);return null==t||null==n?null:[g(d.default,{name:n},"channel-icon"),g("span",{className:m.default.channelName},"channel-name",t.name)]},I.Button=O;var C=I;t.default=C,e.exports=t.default},6549:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(3)),o=n(862),i=c(n(129)),l=n(324),s=c(n(6183)),u=n(0),d=c(n(5430));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.channel,n=e.message,a=e.activity,i=e.hideParty;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{className:d.default.container,activity:a,activityActionType:null!=n.activity?n.activity.type:null,partyId:null!=n.activity?n.activity.party_id:null,userId:n.author.id,application:function(e){return null!=e.application?e.application:null!=e.activity&&null!=e.activity.party_id&&(0,l.isSpotifyParty)(e.activity.party_id)?o.SpotifyApplication:void 0}(n),message:n,channelId:t.id,guildId:t.getGuildId(),hideParty:i})};f.displayName="MessageActivityInvite";var p=a.default.connectStores([i.default],function(e){var t=e.message;return{activity:null!=t.application?i.default.getApplicationActivity(t.author.id,t.application.id):i.default.findActivity(t.author.id,function(e){return e.type===u.ActivityTypes.LISTENING})}})(f);t.default=p,e.exports=t.default},6550:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(3)),i=y(n(6551)),l=y(n(852)),s=y(n(41)),u=y(n(35)),d=y(n(151)),c=y(n(857)),f=y(n(6239)),p=n(106),h=n(6186),v=n(0),m=y(n(5435));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleMount=function(){p.ComponentDispatch.dispatch(v.ComponentActions.CHAT_RESIZE)},a.render=function(){var e=this,t=this.props,n=t.news,r=t.application,a=t.spoiler,o=t.gifAutoPlay,i=t.isFocused;if(null==n)return null;var l=function(t){return void 0===t&&(t=!1),_(f.default,{className:m.default.newsCard,news:n,application:r,onApplicationClick:h.toggleGamePopout,onMount:e.handleMount,onClick:function(e,t,n){e.stopPropagation();var r=t.url;null!=r&&window.open(r)},hiddenSpoiler:t,autoPlay:o,shouldAnimate:i,disableCardInteractive:!0})};return a?_(c.default,{type:c.default.Types.ATTACHMENT},void 0,l):l()},r}(a.PureComponent);g.displayName="NewsEmbed";var E=o.default.connectStores([s.default,l.default,i.default,d.default,u.default],function(e){var t=e.embed;if(null!=t.referenceId){var n=l.default.getByApplicationNewsId(t.referenceId);return{news:n,application:null!=n?s.default.getGame(n.game_id):null,spoiler:t.spoiler,gifAutoPlay:u.default.gifAutoPlay,isFocused:d.default.isFocused()}}})(g);t.default=E,e.exports=t.default},6551:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=i(n(179));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=new Set,s=new Set,u=new Set;function d(e,t){void 0===t&&(t=!1),null!=e.embeds&&(t&&!l.has(e.channel_id)||e.embeds.forEach(function(e){var t=e.reference_id;null!=t&&(!function(e){s.add(e)}(t),o.default.getApplicationNews(t))}))}function c(e){return d(e.message,!0)}function f(e){e.messages.forEach(function(e){return d(e)})}function p(e){var t=e.channelId,n=e.messages;l.add(t),n.forEach(function(e){return d(e,!0)})}function h(e){var t=e.applicationNewsId;s.delete(t)&&u.add(t)}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getIsResolved=function(e){return u.has(e)},a.getIsResolving=function(e){return s.has(e)},a.getResolvingEmbeds=function(){return Array.from(s)},a.getResolvedEmbeds=function(){return Array.from(u)},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return l.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&l.add(t),!1},GAME_NEWS_UPDATE:function(e){var t=e.applicationNewsIds;null!=t&&t.forEach(function(e){return h({applicationNewsId:e})})},APPLICATION_NEWS_ITEM_UPDATE:function(e){h({applicationNewsId:e.applicationNewsId})},MESSAGE_CREATE:c,MESSAGE_UPDATE:c,LOAD_MESSAGES_SUCCESS:p,LOAD_MESSAGES_AROUND_SUCCESS:p,LOAD_RECENT_MENTIONS_SUCCESS:f,LOAD_PINNED_MESSAGES_SUCCESS:f,SEARCH_FINISH:function(e){e.messages.forEach(function(e){return f({messages:e})})}});t.default=v,e.exports=t.default},6552:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(219)),i=s(n(6026)),l=s(n(5432));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t,r=e.icon,s=e.timestamp,d=e.hostname,c=e.title,f=e.onIconClick,p=e.onIconContextMenu;return u("div",{className:l.default.wrapper},void 0,u(i.default,{color:i.default.Colors.MUTED,size:i.default.Sizes.SIZE_12,className:l.default.content},void 0,s," ",null!=d?u("span",{className:l.default.timestamp},void 0,d):null),u(o.default,{className:(0,a.default)(l.default.iconWrapper,(t={},t[l.default.interactive]=null!=f,t)),onClick:f,onContextMenu:p},void 0,u("img",null!=r?{src:r,className:l.default.icon,alt:c}:{src:n(6240),className:l.default.icon,alt:c})))},e.exports=t.default},6553:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=p(n(180)),o=n(915),i=p(n(77)),l=p(n(916)),s=p(n(151)),u=p(n(6554)),d=p(n(6008)),c=n(6039),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n;function p(){for(var t,n=arguments.length,d=new Array(n),p=0;p<n;p++)d[p]=arguments[p];return(t=e.call.apply(e,[this].concat(d))||this)._isListeningToWindow=!1,t.state={isWindowFocused:s.default.isFocused()},t.addWindowListeners=function(){t._isListeningToWindow=!0,s.default.addChangeListener(t.onChangeWindowStore),t.onChangeWindowStore()},t.removeWindowListeners=function(){t._isListeningToWindow=!1,s.default.removeChangeListener(t.onChangeWindowStore)},t.onChangeWindowStore=function(){var e=s.default.isFocused();e!==t.state.isWindowFocused&&t.setState({isWindowFocused:e})},t.onMouseEnter=function(e,n){var r=n.preloadImage,a=t.props,o=a.width,i=a.height;r((0,c.zoomFit)(o,i))},t.onClickUntrusted=function(e){var n=e.openHref,r=t.props,i=r.original,l=r.src,s=i||l;a.default.show({title:f.default.Messages.HOLD_UP,body:f.default.Messages.MASKED_LINK_BODY.format({url:s}),cancelText:f.default.Messages.MASKED_LINK_CANCEL,confirmText:f.default.Messages.MASKED_LINK_CONFIRM,minorText:f.default.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirm:n,onConfirmSecondary:function(){(0,o.trustDomain)(s),n()}})},t.onZoom=function(e,n){var a=n.placeholder;e.preventDefault();var o=t.props,s=o.src,d=o.original,c=o.width,f=o.height,p=o.animated,v=o.children,m=d||s,y={src:s,original:d||s,width:c,height:f,animated:p,children:v,placeholder:a,isTrusted:l.default.isTrusted(m),onClickUntrusted:t.onClickUntrusted};e.currentTarget instanceof HTMLElement&&e.currentTarget.blur(),i.default.push(function(e){return r.createElement(u.default,h({},y,e,{shouldAnimate:t.state.isWindowFocused}))})},t}n=e,(t=p).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=p.prototype;return v.componentDidMount=function(){d.default.isAnimated(this.props)&&!this._isListeningToWindow&&this.addWindowListeners()},v.componentDidUpdate=function(){var e=d.default.isAnimated(this.props);e&&!this._isListeningToWindow?this.addWindowListeners():!e&&this._isListeningToWindow&&this.removeWindowListeners()},v.componentWillUnmount=function(){this._isListeningToWindow&&this.removeWindowListeners()},v.render=function(){return r.createElement(d.default,h({},this.props,{onZoom:this.onZoom,onMouseEnter:this.onMouseEnter,shouldAnimate:this.state.isWindowFocused}))},p}(r.PureComponent);t.default=v,v.displayName="LazyImageZoomable",v.defaultProps={alt:"",shouldLink:!0,autoPlay:!1,animated:!1},e.exports=t.default},6554:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(6039),i=d(n(6008)),l=d(n(6555)),s=d(n(13)),u=d(n(5436));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.src,n=e.original,r=e.placeholder,d=e.width,f=e.height,p=e.animated,h=e.children,v=e.isTrusted,m=e.onClickUntrusted,y=(e.maxWidth,e.maxHeight,e.shouldAnimate,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["src","original","placeholder","width","height","animated","children","isTrusted","onClickUntrusted","maxWidth","maxHeight","shouldAnimate"])),_=(0,o.zoomFit)(d,f),g=_.width,E=_.height;return a.createElement("div",y,c(i.default,{src:t,placeholder:r,shouldLink:!1,width:d,height:f,maxWidth:g,maxHeight:E,children:h,animated:p,autoPlay:!0}),null!=n&&c(l.default,{href:n,className:u.default.downloadLink,isTrusted:v,onClickUntrusted:m},void 0,s.default.Messages.OPEN_ORIGINAL_IMAGE))},r}(a.PureComponent);t.default=f,f.displayName="ImageModal",e.exports=t.default},6555:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=l(n(187)),o=l(n(305)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=function(e){var t,n;function l(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).openHref=function(){var e=t.props.href;if(i.default.embedded)window.open(e);else{var n=window.open();n.opener=null,n.location=e,n.target="_blank"}},t.onClick=function(e){var n=t.props,r=n.href,o=n.isTrusted,i=n.onClickUntrusted;null!=a.default.sanitizeUrl(r)?o||(e.preventDefault(),i({openHref:t.openHref})):e.preventDefault()},t}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.render=function(){var e=this.props,t=e.title,n=void 0===t?null:t,i=e.children,l=e.href,u=(e.onClickUntrusted,e.isTrusted,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["title","children","href","onClickUntrusted","isTrusted"])),d=a.default.sanitizeUrl(l);return r.createElement(o.default,s({},u,{title:n,target:"_blank",rel:"noreferrer noopener",href:d,onClick:this.onClick}),i||n)},l}(r.PureComponent);t.default=u,u.displayName="MaskedLink",e.exports=t.default},6556:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=L(n(4)),l=n(221),s=L(n(3)),u=D(n(854)),d=L(n(824)),c=L(n(5993)),f=L(n(6011)),p=L(n(12)),h=L(n(6096)),v=L(n(86)),m=L(n(14)),y=L(n(6067)),_=L(n(176)),g=L(n(831)),E=L(n(124)),S=L(n(219)),T=L(n(148)),O=L(n(301)),I=n(106),C=D(n(321)),N=L(n(44)),A=n(6097),M=n(6189),P=n(0),b=L(n(13)),R=L(n(5445));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function j(e){var t=e.onClick,n=e.libraryApplication;return F(S.default,{className:R.default.libraryLink,onClick:t},void 0,F(O.default,{name:O.default.Names.LIBRARY,className:R.default.libraryIcon}),F("div",{},void 0,n.isHidden()?b.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:b.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}j.displayName="LibraryLink";var x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderMedia=function(){var e;return F("div",{className:(0,o.default)(R.default.invalidPoop,(e={},e[R.default.invalidPoopHorizontal]=t.isHorizontal,e))})},t.renderTitle=function(){return t.props.isSelfGift?b.default.Messages.GIFT_EMBED_INVALID_TITLE_SELF:b.default.Messages.GIFT_EMBED_INVALID_TITLE_OTHER},t.renderActions=function(){return t.props.isSelfGift?F(l.Link,{to:P.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,F(E.default,{size:E.default.Sizes.SMALL},void 0,b.default.Messages.GIFT_INVENTORY)):F(E.default,{disabled:!0,size:E.default.Sizes.SMALL},void 0,b.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},t.renderTagline=function(){return t.props.isSelfGift?b.default.Messages.GIFT_EMBED_INVALID_TAGLINE_SELF:b.default.Messages.GIFT_EMBED_INVALID_TAGLINE_OTHER},t}return G(t,e),t.prototype.render=function(){return F(A.ResponsiveEmbedTile,{isHorizontal:this.isHorizontal,renderTitle:this.renderTitle,renderTagline:this.renderTagline,renderMedia:this.renderMedia,renderActions:this.renderActions})},k(t,[{key:"isHorizontal",get:function(){return this.props.width>=A.HORIZONTAL_EMBED_BREAKPOINT}}]),t}(a.PureComponent);x.displayName="InvalidGift";var B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleViewLibrary=function(e){var n=t.props.libraryApplication;e.preventDefault(),null!=n&&n.isHidden()?d.default.open(P.UserSettingsSections.GAME_LIBRARY):N.default.transitionTo(P.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=n?n.id:null}})},t.handleVerificationClick=function(e){e.preventDefault(),d.default.open(P.UserSettingsSections.ACCOUNT)},t.handleAccept=function(e){var n=t.props.channelId;e.preventDefault(),e.stopPropagation(),u.openGiftCodeAcceptModal(t.props.code,w({},t.analyticsLocation,{object:P.AnalyticsObjects.BUTTON_CTA}),n)},t.handleEmbedClick=function(e){var n=t.props.giftCode;null!=n&&n.isSubscription&&(e.preventDefault(),d.default.open(P.UserSettingsSections.PREMIUM))},t}G(t,e);var n=t.prototype;return n.componentDidMount=function(){null==this.props.giftCode&&I.ComponentDispatch.dispatch(P.ComponentActions.CHAT_RESIZE)},n.renderActions=function(e){var t=this.props.libraryApplication;return F(T.default,{justify:T.default.Justify.BETWEEN},void 0,F(T.default,{},void 0,this.renderButton(e),null==t||e.isSubscription?null:F(j,{onClick:this.handleViewLibrary,libraryApplication:t})),F(T.default,{align:T.default.Align.END,justify:T.default.Justify.END,className:R.default.metadata,direction:T.default.Direction.VERTICAL},void 0,e.hasMultipleCopies?F("div",{},void 0,this.renderGiftCodeCopiesLeft(e)):null,e.redeemed||e.isClaimed||null!=t||null==e.expiresAt?null:F("div",{},void 0,b.default.Messages.GIFT_EMBED_EXPIRATION.format({hours:e.expiresAt.diff((0,i.default)(),"h")}))))},n.renderGiftCodeCopiesLeft=function(e){return(e.isSubscription?b.default.Messages.GIFT_EMBED_SUBSCRIPTIONS_LEFT:b.default.Messages.GIFT_EMBED_COPIES_LEFT).format({remaining:e.remainingUses,total:e.maxUses})},n.renderButton=function(e){var t=this.props,n=t.libraryApplication,r=t.currentUser,o={onClick:this.handleAccept,color:E.default.Colors.GREEN},i=e.isSubscription?C.doesUserSubscriptionMismatch(e,r):null!=n;return(e.redeemed||i||e.isClaimed||!r.verified)&&(o.color=E.default.Colors.PRIMARY,o.disabled=!0),a.createElement(E.default,w({},o,{size:E.default.Sizes.SMALL}),e.redeemed?b.default.Messages.GIFT_EMBED_BUTTON_CLAIMED:b.default.Messages.GIFT_EMBED_BUTTON_ACCEPT)},n.renderTitle=function(e){var t=this.props,n=t.isSelfGift;return null==t.sku?null:e.isSubscription?n?b.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION_SELF:b.default.Messages.GIFT_EMBED_TITLE_SUBSCRIPTION:n?b.default.Messages.GIFT_EMBED_TITLE_SELF:b.default.Messages.GIFT_EMBED_TITLE},n.renderBody=function(e){var t=this.props,n=t.libraryApplication,r=t.isSelfGift,a=t.sku,o=t.gifter,i=t.subscriptionPlan,l=t.currentUser;if(null==a)return b.default.Messages.LOADING;var s=a.isPreorder()?b.default.Messages.PREORDER_SKU_NAME.format({name:a.name}):a.name;if(e.redeemed)return e.isSubscription?b.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF_SUBSCRIPTION:b.default.Messages.GIFT_EMBED_BODY_CLAIMED_SELF.format({skuName:s,onViewInLibrary:this.handleViewLibrary});if(null==e.subscriptionPlanId&&null!=n)return b.default.Messages.GIFT_EMBED_BODY_OWNED.format({skuName:s,onViewInLibrary:this.handleViewLibrary});if(C.doesUserSubscriptionMismatch(e,l))return b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_MISMATCH.format({planName:l.premiumType===P.PremiumTypes.TIER_1?b.default.Messages.PREMIUM_TIER_1:b.default.Messages.PREMIUM_TIER_2});if(e.isClaimed)return b.default.Messages.GIFT_EMBED_BODY_CLAIMED_OTHER;if(!l.verified)return b.default.Messages.GIFT_EMBED_BODY_REQUIRES_VERIFICATION.format({onClick:this.handleVerificationClick});if(r)return b.default.Messages.GIFT_EMBED_BODY_SELF;if(e.hasMultipleCopies)return null!=o?(e.isSubscription?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_GIVEAWAY:b.default.Messages.GIFT_EMBED_BODY_GIVEAWAY).format({username:o.tag,totalCopies:e.maxUses,skuName:s}):(e.isSubscription?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_GIVEAWAY:b.default.Messages.GIFT_EMBED_BODY_NO_USER_GIVEAWAY).format({totalCopies:e.maxUses,skuName:s});if(e.isSubscription){if(null==i)throw new Error("How could you let this happen??");return null!=o?(i.interval===P.SubscriptionIntervalTypes.MONTH?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_MONTHS:b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_DEFAULT_YEARS).format({username:o.tag,skuName:s,intervalCount:i.intervalCount}):(i.interval===P.SubscriptionIntervalTypes.MONTH?b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_MONTHS:b.default.Messages.GIFT_EMBED_BODY_SUBSCRIPTION_NO_USER_DEFAULT_YEARS).format({skuName:s,intervalCount:i.intervalCount})}return null!=o?b.default.Messages.GIFT_EMBED_BODY_DEFAULT.format({username:o.tag}):b.default.Messages.GIFT_EMBED_BODY_NO_USER_DEFAULT},n.render=function(){var e=this,t=this.props,n=t.giftCode,r=t.resolved,a=t.width,o=t.isSelfGift;return null==n||n.revoked?r?F(x,{isSelfGift:o,width:a}):F(A.ResponsiveLoadingEmbedTile,{isHorizontal:a>=A.HORIZONTAL_EMBED_BREAKPOINT}):F(M.StoreEmbedWithoutDimensions,{skuId:n.skuId,onEmbedClick:this.handleEmbedClick,analyticsSection:P.AnalyticsSections.GIFT_CODE_EMBED,renderCustomActions:function(){return e.renderActions(n)},renderCustomTitle:function(){return e.renderTitle(n)},renderCustomTagline:function(){return e.renderBody(n)},width:a})},k(t,[{key:"analyticsLocation",get:function(){return w({},this.props.analyticsContext.location,{section:P.AnalyticsSections.GIFT_CODE_EMBED})}}]),t}(a.Component);B.displayName="GiftCodeEmbed";var H=s.default.connectStores([p.default,_.default,m.default,g.default,h.default,v.default,y.default],function(e){var t=e.code,n=e.author,r=h.default.get(t),a=null!=r?_.default.get(r.skuId):null;return{sku:a,giftCode:r,gifter:null!=r&&null!=r.userId?m.default.getUser(r.userId):null,subscriptionPlan:null!=r&&null!=r.subscriptionPlanId?y.default.get(r.subscriptionPlanId):null,isSelfGift:null!=r?p.default.getId()===r.userId:p.default.getId()===n.id,currentUser:m.default.getCurrentUser(),resolved:h.default.getIsResolved(t),libraryApplication:null!=a&&null!=r?C.firstLibraryApplicationForGiftCode(r,a,v.default):null}})((0,f.default)((0,c.default)(B)));t.default=H,e.exports=t.default},6557:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(47))&&r.__esModule?r:{default:r},o=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(e){var t,n,r,a,l;function s(){return e.apply(this,arguments)||this}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.createFromServer=function(e){return new s({id:e.id,name:e.name,interval:e.interval,intervalCount:e.interval_count,taxInclusive:e.tax_inclusive,skuId:e.sku_id,currency:e.currency,price:e.price})},s.prototype.initialize=function(e){this.id=e.id,this.name=e.name,this.interval=e.interval,this.intervalCount=e.intervalCount,this.taxInclusive=e.taxInclusive,this.skuId=e.skuId,this.currency=e.currency,this.price=e.price},r=s,(a=[{key:"premiumSubscriptionType",get:function(){switch(this.skuId){case o.PremiumSubscriptionSKUs.LEGACY:case o.PremiumSubscriptionSKUs.TIER_2:return o.PremiumTypes.TIER_2;case o.PremiumSubscriptionSKUs.TIER_1:return o.PremiumTypes.TIER_1;default:return null}}}])&&i(r.prototype,a),l&&i(r,l),s}(a.default);t.default=l,e.exports=t.default},6558:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=(_(n(835)),_(n(855)),_(n(124))),l=_(n(6241)),s=_(n(6242)),u=_(n(6141)),d=n(127),c=n(6243),f=_(n(6063)),p=_(n(6045)),h=n(6097),v=_(n(6188)),m=n(0),y=_(n(5443));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=600,S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),h=0;h<n;h++)r[h]=arguments[h];return(t=e.call.apply(e,[this].concat(r))||this).renderActions=function(){var e=t.props,n=e.inLibrary,r=e.sku,a=e.renderCustomActions,o=e.isMouseOver,l=(e.showBuyInline||!r.requiresPayment)&&!n,s=l&&o;return null!=a?a():g("div",{className:y.default.priceOs},void 0,g(p.default,{type:p.default.Types.DIRECTORY_TILE,sku:r,inLibrary:n,className:s?y.default.tilePriceWithVisibleBuyButton:y.default.tilePrice}),g(c.OperatingSystemSection,{systems:[m.OperatingSystems.WINDOWS],className:y.default.platform}),l?g(f.default,{skuId:r.id,applicationId:r.applicationId,size:i.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:s?y.default.tileBuyButtonVisible:y.default.tileBuyButton}):null)},t.renderMedia=function(){var e,n,r,i=t.props,c=i.playing,f=i.muted,p=i.showMediaPlaceholder,h=i.onToggleMute,v=i.sku,m=i.isHorizontal,_=i.storeListing;return g(a.Fragment,{},void 0,g(u.default,{className:(0,o.default)(y.default.splashContainer,(e={},e[y.default.splashContainerHorizontal]=m,e)),video:null!=_.previewVideo?(0,d.getAssetURL)(v.applicationId,_.previewVideo):null,image:null!=_.thumbnail?(0,d.getAssetURL)(v.applicationId,_.thumbnail,E):null,title:v.name,playing:c,muted:f,placeholder:p,onToggleMute:h,splashClassName:y.default.splashVideo,splashPlaceholderClassName:y.default.splashPlaceholder}),v.exclusive?g(l.default,{className:(0,o.default)(y.default.exclusiveRegular,(n={},n[y.default.exclusivePlaying]=c,n))}):v.isTheGameAwardsWinner?g(s.default,{className:(0,o.default)(y.default.exclusiveRegular,(r={},r[y.default.exclusivePlaying]=c,r))}):null)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isHorizontal,a=e.className,o=e.renderCustomTagline,i=e.renderCustomTitle;return g(e.isEmbed?h.ResponsiveEmbedTile:v.default,{className:a,renderMedia:this.renderMedia,renderTitle:null!=i?i:function(){return t.name},renderTagline:null!=o?o:function(){return n.tagline},renderActions:this.renderActions,isHorizontal:r})},r}(a.PureComponent);S.displayName="ApplicationTile",S.defaultProps={showMediaPlaceholder:!1,isMouseOver:!1,showBuyInline:!1,isHorizontal:!1,isEmbed:!1};var T=S;t.default=T,e.exports=t.default},6559:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=P(n(2)),i=M(n(3)),l=M(n(132)),s=M(n(12)),u=M(n(328)),d=M(n(20)),c=M(n(14)),f=M(n(130)),p=P(n(821)),h=M(n(6171)),v=M(n(6560)),m=M(n(6563)),y=M(n(6564)),_=M(n(6565)),g=M(n(6567)),E=M(n(6568)),S=M(n(6570)),T=n(106),O=n(6172),I=M(n(191)),C=M(n(456)),N=M(n(5359)),A=n(0);function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=function(e,t){return function(n){(0,p.openPopout)(n.currentTarget,{closeOnScroll:!1,position:p.default.Positions.RIGHT,shadow:!1,render:function(n){var r=d.default.getChannel(t);return null==r?null:o.createElement(N.default,L({},n,{user:e,guildId:r.getGuildId(),channelId:r.id}))}})}},w=function(e,t){return function(n){var r=d.default.getChannel(t);null!=r&&(0,O.openUserContextMenu)(n,e,r)}},U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJoinCall=function(){var e=t.props.message;l.default.selectVoiceChannel(null,e.getChannelId())},t}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.missed,r=e.joinable,a=t.author,o=t.getChannelId();return b(v.default,{message:t,missed:n,joinable:r,onClickUsername:D(a,o),onContextMenuUsername:w(a,o),onClickJoinCall:this.handleJoinCall})},t}(o.PureComponent);U.displayName="Call";var k=i.default.connectStores([u.default,f.default],function(e){var t=e.message,n=s.default.getId(),r=t.getChannelId(),a=u.default.isCallActive(r,t.id),o=f.default.getVoiceState(A.ME,n);return{missed:!a&&null!=t.call&&!t.call.participants.includes(n),joinable:a&&(null==o||o.channelId!==r)}})(U),G=function(e){var t=e.message,n=t.author,r=t.getChannelId();return b(y.default,{message:t,onClickUsername:D(n,r),onContextMenuUsername:w(n,r)})};G.displayName="ChannelNameChange";var F=function(e){var t=e.message,n=t.author,r=t.getChannelId();return b(m.default,{message:t,onClickUsername:D(n,r),onContextMenuUsername:w(n,r)})};F.displayName="ChannelIconChange";var j=function(e){function t(){return e.apply(this,arguments)||this}R(t,e);var n=t.prototype;return n.handleViewPins=function(){T.ComponentDispatch.dispatch(A.ComponentActions.TOGGLE_CHANNEL_PINS)},n.render=function(){var e=this.props.message,t=e.author,n=e.getChannelId();return b(_.default,{message:e,onClickUsername:D(t,n),onContextMenuUsername:w(t,n),onClickPins:__OVERLAY__?null:this.handleViewPins})},t}(o.PureComponent);function x(e){var t=e.message,n=e.otherUser,r=t.author,a=t.getChannelId(),o=C.default.getName(null,a,n);return b(g.default,{message:t,otherUsername:o,onClickUsername:D(r,a),onContextMenuUsername:w(r,a),onClickOtherUsername:D(n,a),onContextMenuOtherUsername:w(n,a)})}j.displayName="ChannelPinnedMessage",x.displayName="RecipientAdd";var B=i.default.connectStores([c.default],function(e){var t=e.message;return{otherUser:c.default.getUser(t.mentions[0])}})(x);function H(e){var t=e.message,n=e.otherUser,r=t.author,a=t.getChannelId(),o=D(r,a),i=w(r,a);if(null!=n&&n.id!==r.id){var l=C.default.getName(null,a,n),s=D(n,a),u=w(n,a);return b(E.default,{message:t,onClickUsername:o,onContextMenuUsername:i,otherUsername:l,onClickOtherUsername:s,onContextMenuOtherUsername:u})}return b(E.default,{message:t,onClickUsername:o,onContextMenuUsername:i})}H.displayName="RecipientRemove";var V=i.default.connectStores([c.default],function(e){var t=e.message;return{otherUser:c.default.getUser(t.mentions[0])}})(H),Y=function(e){var t=e.message,n=t.author,r=t.getChannelId();return b(S.default,{message:t,onClickUsername:D(n,r),onContextMenuUsername:w(n,r)})};Y.displayName="UserJoin";var W=((r={})[A.MessageTypes.RECIPIENT_ADD]=B,r[A.MessageTypes.RECIPIENT_REMOVE]=V,r[A.MessageTypes.CALL]=k,r[A.MessageTypes.CHANNEL_NAME_CHANGE]=G,r[A.MessageTypes.CHANNEL_ICON_CHANGE]=F,r[A.MessageTypes.CHANNEL_PINNED_MESSAGE]=j,r[A.MessageTypes.USER_JOIN]=Y,r),K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).onContextMenu=function(e){var n=t.props,r=n.message,a=n.channel;(0,n.onContextMenu)(e,{message:r,channel:a,target:e.target})},t}return R(t,e),t.prototype.render=function(){var e,t=this.props,n=t.message,r=t.renderButtons,a=t.channel,o=W[n.type];return null==o?(e=new Error("unknown message type "+n.type),I.default.captureException(e),console.error(e),null):b(h.default,{message:n,channel:a,isCompact:!1,onContextMenu:this.onContextMenu,renderButtons:A.MessageTypesDeletable[n.type]?r:null},void 0,b(o,{message:n}))},t}(o.PureComponent);t.default=K,K.displayName="SystemMessageWrapper",e.exports=t.default},6560:function(e,t,n){"use strict";t.__esModule=!0,t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6018)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function s(e){var t=e.message,r=e.missed,i=e.joinable,s=e.onClickUsername,u=e.onContextMenuUsername,d=e.onClickJoinCall,c=t.getAuthorName(),f={onClick:s,onContextMenu:u};return r?l(a.default,{icon:n(6561),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CALL_MISSED.format({username:c,usernameOnClick:f})):l(a.default,{icon:n(6562),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:c,usernameOnClick:f}),i?l(a.default.Action,{onClick:d},void 0,o.default.Messages.SYSTEM_MESSAGE_JOIN_CALL):null)}s.displayName="Call",e.exports=t.default},6561:function(e,t,n){e.exports=n.p+"d80d1fdc43a3c42134a31a39581160ac.svg"},6562:function(e,t,n){e.exports=n.p+"c30220457097b064286a8759a9b6c4af.svg"},6563:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6018)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.message,i=e.onClickUsername,l=e.onContextMenuUsername;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{icon:n(6190),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:i,onContextMenu:l}}))}l.displayName="ChannelIconChange",e.exports=t.default},6564:function(e,t,n){"use strict";t.__esModule=!0,t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(6018)),o=l(n(13)),i=l(n(5448));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,l=e.onClickUsername,s=e.onContextMenuUsername;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:i.default.channelNameChange,icon:n(6190),timestamp:t.timestamp},void 0,o.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:l,onContextMenu:s},channelName:t.content}))}s.displayName="ChannelNameChange",e.exports=t.default},6565:function(e,t,n){"use strict";t.__esModule=!0,t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(305)),o=l(n(6018)),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(e){var t=e.message,r=e.onClickUsername,l=e.onContextMenuUsername,u=e.onClickPins,d=t.nick,c=t.author,f=t.colorString,p=d||c.username,h=function(e,t){var n=f?{color:f}:null;return s(a.default,{onClick:r,onContextMenu:l,style:n},t,e)},v=null==u?i.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA_FORMATTED.format({usernameOnClick:h,username:p}):i.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE.format({usernameHook:h,username:p,pinsActionOnClick:u});return s(o.default,{icon:n(6566),timestamp:t.timestamp},void 0,v)}u.displayName="ChannelPinnedMessage",e.exports=t.default},6566:function(e,t,n){e.exports=n.p+"5da4cdab01d4d89c593c48c62ae0d937.svg"},6567:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6018)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.message,i=e.otherUsername,l=e.onClickUsername,s=e.onContextMenuUsername,u=e.onClickOtherUsername,d=e.onContextMenuOtherUsername,c=t.getAuthorName(),f=o.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:c,usernameOnClick:{onClick:l,onContextMenu:s},otherUsername:i,otherUsernameOnClick:{onClick:u,onContextMenu:d}});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{icon:n(6191),timestamp:t.timestamp},void 0,f)}l.displayName="RecipientAdd",e.exports=t.default},6568:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6018)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t,i=e.message,l=e.onClickUsername,s=e.onContextMenuUsername,u=i.getAuthorName();if(e.otherUsername){var d=e.otherUsername,c=e.onClickOtherUsername,f=e.onContextMenuOtherUsername;t=o.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:u,usernameOnClick:{onClick:l,onContextMenu:s},otherUsername:d,otherUsernameOnClick:{onClick:c,onContextMenu:f}})}else t=o.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:u,usernameOnClick:{onClick:l,onContextMenu:s}});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{icon:n(6569),timestamp:i.timestamp},void 0,t)}l.displayName="RecipientRemove",e.exports=t.default},6569:function(e,t,n){e.exports=n.p+"aff52bc375fe2da876174301a5c6d09d.svg"},6570:function(e,t,n){"use strict";t.__esModule=!0,t.default=l;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6244)),o=i(n(6018));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.message,i=e.onClickUsername,l=e.onContextMenuUsername,s=t.id,u=t.author,d=a.default.getSystemMessageUserJoin(s).format({username:u.username,usernameOnClick:{onClick:i,onContextMenu:l}});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(o.default,{icon:n(6191),timestamp:t.timestamp},void 0,d)}l.displayName="UserJoin",e.exports=t.default},6571:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(5995)),i=g(n(6062)),l=g(n(6572)),s=g(n(6575)),u=g(n(6579)),d=g(n(6580)),c=g(n(6581)),f=g(n(6582)),p=g(n(6583)),h=g(n(6584)),v=g(n(6294)),m=g(n(6295)),y=g(n(6296)),_=n(0);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=E(v.default,{}),T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r,a=this.props,v=a.style,g=a.type,T=a.className,O=a.channel,I=a.message,C=a.invertChildY,N=a.attachment,A=this.props.target;if(N)t=e=N.url;else for(;null!=A;)A instanceof HTMLImageElement&&null!=A.src&&(t=A.src),A instanceof HTMLAnchorElement&&null!=A.href&&(e=A.href),A=A.parentNode;var M=document.getSelection?document.getSelection():null;switch(M&&!M.isCollapsed&&(n=S,r=E(y.default,{value:M.toString()})),g){case _.ContextMenuTypes.MESSAGE_MAIN:return E("div",{className:T,style:v},void 0,E(o.default,{},void 0,n),E(o.default,{},void 0,r),E(o.default,{},void 0,E(l.default,{channel:O,message:I,invertChildY:C}),E(c.default,{channel:O,message:I}),E(h.default,{channel:O,message:I}),E(d.default,{channelId:O.id,message:I}),E(f.default,{channel:O,message:I}),E(p.default,{channel:O,message:I}),E(s.default,{channel:O,message:I})),E(m.default,{href:e,src:t}),E(u.default,{channel:O,message:I}));case _.ContextMenuTypes.MESSAGE_SYSTEM:return E("div",{className:T,style:v},void 0,E(o.default,{},void 0,n),E(o.default,{},void 0,r),E(o.default,{},void 0,E(s.default,{channel:O,message:I})),E(m.default,{href:e,src:t}),E(i.default,{id:I.id}));default:return null}},r}(a.PureComponent);T.displayName="MessageContextMenu";var O=T;t.default=O,e.exports=t.default},6572:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=O(n(304)),o=(O(n(306)),O(n(439))),i=O(n(3)),l=n(302),s=O(n(77)),u=n(459),d=O(n(183)),c=O(n(231)),f=O(n(149)),p=O(n(35)),h=O(n(79)),v=n(106),m=O(n(158)),y=n(470),_=O(n(6573)),g=O(n(6087)),E=O(n(6098)),S=n(0),T=O(n(13));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var C=(0,a.default)({displayName:"MessageAddReactionItem",mixins:[o.default],renderFrequentlyUsedEmojis:function(){var e=this,t=this.props.channel.getGuildId(),r=c.default.getDisambiguatedEmojiContext(t).getFrequentlyUsedEmojis().filter(function(t){return!m.default.isEmojiDisabled(t,e.props.channel)}).map(function(t){var n,r;n=null==t.id?m.default.getURL(t.surrogatePair):h.default.getEmojiURL({id:t.id,animated:t.animated}),r=null==t.id?d.default.convertSurrogateToName(t.surrogatePair):":"+t.name+":";var a=t.id||t.surrogatePair;return I(_.default,{label:r,image:n,action:function(){return e.handleAddReaction(t)}},a)});return r.push(I(_.default,{label:T.default.Messages.OTHER_REACTIONS,image:n(6574),action:this.renderEmojiPicker},"otherReactions")),r},render:function(){var e=this.props,t=e.channel,n=e.canAddReactions;return p.default.renderReactions&&(t.isPrivate()||n)?I(g.default,{label:T.default.Messages.ADD_REACTION,render:this.renderFrequentlyUsedEmojis,invertChildY:this.props.invertChildY}):null},renderEmojiPicker:function(){(0,l.closeContextMenu)(),v.ComponentDispatch.dispatch(S.ComponentActions.TOGGLE_REACTION_POPOUT(this.props.message.id))},handleAddReaction:function(e){var t=this.props,n=t.channel,r=t.message;(0,u.addReaction)(n.id,r.id,(0,y.toReactionEmoji)(e)),(0,l.closeContextMenu)()},handleReactions:function(){s.default.push(E.default,{message:this.props.message})}}),N=i.default.connectStores([f.default],function(e){var t=e.channel;return{canAddReactions:f.default.can(S.Permissions.ADD_REACTIONS,t)}})(C);t.default=N,e.exports=t.default},6573:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(219)),i=l(n(847));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n,r=e.styles,l=e.image,u=e.label,d=e.action,c=e.active,f=void 0!==c&&c,p=e.disabled,h=void 0!==p&&p,v=e.danger,m=void 0!==v&&v;return h||(n=function(e){return d(e,u,f)}),s(o.default,{className:(0,a.default)(i.default.item,i.default.itemImage,(t={},t[i.default.danger]=m,t)),style:r,onClick:n},void 0,s("div",{className:i.default.label},void 0,u),s("img",{alt:"",src:l}))};u.displayName="ImageMenuItem";var d=u;t.default=d,e.exports=t.default},6574:function(e,t,n){e.exports=n.p+"24e5837679a970699e904d047c741540.svg"},6575:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=v(n(304)),o=(v(n(306)),v(n(439))),i=v(n(3)),l=n(302),s=v(n(152)),u=v(n(149)),d=v(n(14)),c=v(n(5991)),f=v(n(6083)),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"MessageDeleteItem",mixins:[o.default],render:function(){var e=this.props,t=e.message;return!e.canManageMessages&&t.author.id!==d.default.getCurrentUser().id||t.state===p.MessageStates.SENDING?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:h.default.Messages.DELETE_MESSAGE,action:this.handleDeleteMessage,danger:!0})},handleDeleteMessage:function(e){var t=this.props,n=t.channel,r=t.message;(0,l.closeContextMenu)(),r.state===p.MessageStates.SEND_FAILED?s.default.deleteMessage(n.id,r.id,!0):e.shiftKey?s.default.deleteMessage(n.id,r.id):f.default.confirmDelete(n,r,!0)}}),y=i.default.connectStores([u.default],function(e){var t=e.channel;return{canManageMessages:u.default.can(p.Permissions.MANAGE_MESSAGES,t)}})(m);t.default=y,e.exports=t.default},6576:function(e,t,n){"use strict";t.__esModule=!0,t.canReportInChannel=d,t.canReportUser=c,t.canReportMessage=function(e){return null!=e&&c(e.author)&&d(e.getChannelId())};var r=s(n(12)),a=s(n(20)),o=s(n(472)),i=s(n(149)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=50;function d(e){if(i.default.can(l.Permissions.MANAGE_MESSAGES,{channelId:e})){var t=a.default.getChannel(e);if(null!=t){var n=o.default.getMemberCount(t.getGuildId());return null!=n&&n>=u}}return!1}function c(e){if(null==e)return!1;var t=e.id;return r.default.getId()!==t}},6577:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(6578)),i=v(n(124)),l=v(n(220)),s=v(n(6015)),u=v(n(438)),d=v(n(442)),c=v(n(440)),f=v(n(107)),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._isMounted=!1,y(n).handleReasonChange=n.handleReasonChange.bind(y(n)),y(n).handleReport=n.handleReport.bind(y(n)),n.state={loading:!0,submitting:!1,reasons:[],selectedReason:null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this._isMounted=!0,o.default.getReasons(this.getReportData()).then(function(t){e._isMounted&&e.setState({reasons:t,loading:!1})})},a.componentWillUnmount=function(){this._isMounted=!1},a.close=function(){(0,this.props.onClose)()},a.renderHeader=function(){var e,t=this.props,n=t.guild,r=t.message,a=t.user;return n?e=h.default.Messages.REPORT_SERVER.format({name:n.toString()}):r?e=h.default.Messages.REPORT_MESSAGE.format({name:r.getAuthorName()}):a&&(e=h.default.Messages.REPORT_USER.format({name:a.tag})),m(l.default.Header,{},void 0,m(f.default,{tag:f.default.Tags.H4},void 0,e))},a.getReportData=function(){var e=this.props,t=e.guild,n=e.message,r=e.user,a=this.state.selectedReason,o={};return null!=n?(o.channel_id=n.getChannelId(),o.message_id=n.id):null!=r?o.user_id=r.id:null!=t&&(o.guild_id=t.id),null!=a&&(o.reason=a),o},a.renderReasons=function(){var e=this.state,t=e.loading,n=e.reasons,r=e.selectedReason;if(t)return m(u.default,{style:{height:100}});var a=n.map(function(e){var t=e.reason;return{name:e.label,desc:e.description,value:t}});return m(s.default,{value:r,onChange:this.handleReasonChange,options:a})},a.renderFooter=function(){var e=this,t=this.state,n=t.loading,r=t.selectedReason,a=t.submitting,o=n||a||null==r;return m(l.default.Footer,{},void 0,m(i.default,{type:"submit",disabled:o,submitting:a},void 0,h.default.Messages.REPORT),m(i.default,{look:i.default.Looks.LINK,color:i.default.Colors.PRIMARY,onClick:function(){return e.close()}},void 0,h.default.Messages.CANCEL))},a.render=function(){return m(l.default,{tag:"form",onSubmit:this.handleReport},void 0,this.renderHeader(),m(l.default.Content,{},void 0,m(d.default,{title:h.default.Messages.FORM_LABEL_REPORT_REASON},void 0,this.renderReasons()),m(c.default,{type:c.default.Types.DESCRIPTION},void 0,h.default.Messages.FORM_REPORT_HELP_TEXT.format({guidelinesURL:p.MarketingURLs.GUIDELINES}))),this.renderFooter())},a.handleReasonChange=function(e){var t=e.value;if("number"!=typeof t)throw new Error("Report.handleReasonChange: Invalid reason type");this.setState({selectedReason:t})},a.handleReport=function(e){var t=this;e.preventDefault(),this.setState({submitting:!0});var n=this.props.onReport;o.default.report(this.getReportData()).then(function(){n&&n(),t.close()},function(){return t.setState({submitting:!1})})},r}(a.Component);_.displayName="Report";var g=_;t.default=g,e.exports=t.default},6578:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(8))&&r.__esModule?r:{default:r},o=n(0);var i={report:function(e){return a.default.post({url:o.Endpoints.REPORT,body:e})},getReasons:function(e){return a.default.get({url:o.Endpoints.REPORT,query:e}).then(function(e){return e.body})}};t.default=i,e.exports=t.default},6579:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(3)),i=n(302),l=p(n(35)),s=n(6010),u=p(n(5995)),d=p(n(5991)),c=n(0),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCopyID=function(e){var n=t.props.message,r=n.channel_id+"-"+n.id,a=r&&e.shiftKey?r:n.id;(0,s.copy)(a),(0,i.closeContextMenu)()},t.handleCopyLink=function(){var e=t.props,n=e.channel,r=e.message;(0,s.copy)(location.protocol+"//"+location.host+c.Routes.CHANNEL(n.guild_id,n.id,r.id)),(0,i.closeContextMenu)()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return!__OVERLAY__&&this.props.developerMode&&s.SUPPORTS_COPY?h(u.default,{},void 0,h(d.default,{label:f.default.Messages.COPY_ID,action:this.handleCopyID}),h(d.default,{label:f.default.Messages.COPY_MESSAGE_LINK,action:this.handleCopyLink})):null},r}(a.PureComponent);v.displayName="MessageDeveloperModeGroup";var m=o.default.connectStores([l.default],function(){return{developerMode:l.default.developerMode}})(v);t.default=m,e.exports=t.default},6580:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=c(n(152)),l=c(n(14)),s=c(n(5991)),u=n(0),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEditMessage=function(){(0,o.closeContextMenu)(),i.default.startEditMessage(t.props.channelId,t.props.message.id,t.props.message.content)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.message,t=l.default.getCurrentUser();return e.state!==u.MessageStates.SEND_FAILED&&e.author.id===t.id?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.EDIT_MESSAGE,action:this.handleEditMessage}):null},a}(a.PureComponent);f.displayName="MessageEditItem";var p=f;t.default=p,e.exports=t.default},6581:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(304)),o=(h(n(306)),h(n(439))),i=h(n(3)),l=h(n(6079)),s=n(302),u=h(n(149)),d=h(n(5991)),c=h(n(6083)),f=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=(0,a.default)({displayName:"MessagePinItem",mixins:[o.default],render:function(){var e=this.props,t=e.channel,n=e.message;return!e.canManageMessages&&!t.isPrivate()||n.state===f.MessageStates.SEND_FAILED?null:!1===n.pinned?v(d.default,{action:this.handlePin,label:p.default.Messages.PIN_MESSAGE}):v(d.default,{action:this.handleUnpin,label:p.default.Messages.UNPIN_MESSAGE})},handlePin:function(e){(0,s.closeContextMenu)(),e.shiftKey?l.default.pinMessage(this.props.channel,this.props.message.id):c.default.confirmPin(this.props.channel,this.props.message)},handleUnpin:function(e){(0,s.closeContextMenu)(),e.shiftKey?l.default.unpinMessage(this.props.channel,this.props.message.id):c.default.confirmUnpin(this.props.channel,this.props.message)}}),y=i.default.connectStores([u.default],function(e){var t=e.channel;return{canManageMessages:u.default.can(f.Permissions.MANAGE_MESSAGES,t)}})(m);t.default=y,e.exports=t.default},6582:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(304)),o=(c(n(306)),c(n(439))),i=n(302),l=c(n(77)),s=c(n(5991)),u=c(n(6098)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"MessageReactionsItem",mixins:[o.default],render:function(){return this.props.message.reactions&&this.props.message.reactions.length>0?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.REACTIONS,action:this.handleReactions}):null},handleReactions:function(){(0,i.closeContextMenu)(),l.default.push(u.default,{message:this.props.message})}});t.default=f,e.exports=t.default},6583:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(304)),o=(h(n(306)),h(n(439))),i=h(n(3)),l=h(n(180)),s=n(302),u=n(459),d=h(n(149)),c=h(n(5991)),f=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"MessageRemoveReactionsItem",mixins:[o.default],render:function(){var e=this.props,t=e.message;return e.canManageMessages&&t.reactions&&t.reactions.length>0?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:p.default.Messages.REMOVE_ALL_REACTIONS,action:this.handleRemoveAllReactions,danger:!0}):null},handleRemoveAllReactions:function(e){var t=this;(0,s.closeContextMenu)(),e.shiftKey?(0,u.removeAllReactions)(this.props.channel.id,this.props.message.id):l.default.show({title:p.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:p.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:p.default.Messages.YES_TEXT,cancelText:p.default.Messages.NO_TEXT,onConfirm:function(){(0,u.removeAllReactions)(t.props.channel.id,t.props.message.id)}})}}),m=i.default.connectStores([d.default],function(e){var t=e.channel;return{canManageMessages:d.default.can(f.Permissions.MANAGE_MESSAGES,t)}})(v);t.default=m,e.exports=t.default},6584:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=d(n(152)),l=d(n(5991)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleResendMessage=function(){var e=t.props,n=e.channel,r=e.message;(0,o.closeContextMenu)(),i.default.retrySendMessage(n,r.id,r.content,r.tts)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return this.props.message.state===s.MessageStates.SEND_FAILED?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.RESEND_MESSAGE,action:this.handleResendMessage}):null},a}(a.PureComponent);c.displayName="MessageResendItem";var f=c;t.default=f,e.exports=t.default},6585:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(17)),i=v(n(834)),l=h(n(148)),s=h(n(6016)),u=h(n(125)),d=n(6806),c=n(316),f=h(n(13)),p=h(n(5504));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,h,v,_=r.prototype;return _.renderDescription=function(){var e=this.props,t=e.paymentSource,n=e.descriptionClassName;return m(u.default,{className:(0,o.default)(p.default.description,n)},void 0,t instanceof i.CreditCardSourceRecord?f.default.Messages.PAYMENT_SOURCE_CARD_ENDING.format({brand:(0,c.upperCaseFirstChar)(t.brand),last_4:t.last4}):f.default.Messages.PAYMENT_SOURCE_PAYPAL)},_.renderSubText=function(){var e=this.props,t=e.paymentSource,n=e.locale,r="";return t instanceof i.CreditCardSourceRecord?r=f.default.Messages.PAYMENT_SOURCE_CARD_EXPIRES.format({month:(0,d.getLocalizedDisplayMonth)(t.expiresMonth,n),year:t.expiresYear}):t instanceof i.PaypalSourceRecord&&(r=t.email),r},_.render=function(){var e=this.props,t=e.isDefault,n=e.paymentSource,r=e.showSubtext,a=e.isPremium;return m(l.default,{},void 0,m(s.default,{type:this.typeString}),m(l.default,{direction:l.default.Direction.VERTICAL,className:p.default.descriptionWrapper},void 0,m(l.default,{align:l.default.Align.CENTER},void 0,this.renderDescription(),t?m("div",{className:p.default.defaultIndicator},void 0,f.default.Messages.DEFAULT):null,a?m("div",{className:p.default.premiumIndicator},void 0,f.default.Messages.PREMIUM):null,n.invalid?m("div",{className:p.default.invalidIndicator},void 0,f.default.Messages.PAYMENT_SOURCE_INVALID):null),r?m("div",{className:p.default.subText},void 0,this.renderSubText()):null))},a=r,(h=[{key:"typeString",get:function(){var e=this.props.paymentSource;return e instanceof i.PaypalSourceRecord?s.default.Types.PAYPAL:e instanceof i.CreditCardSourceRecord?s.default.getType(e.brand):s.default.Types.UNKNOWN}}])&&y(a.prototype,h),v&&y(a,v),r}(a.PureComponent);t.default=_,_.displayName="PaymentDescription",_.defaultProps={isPremium:!1,isDefault:!1,showSubtext:!1},e.exports=t.default},6586:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(822))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._inputRef=null,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){if(null!=t._inputRef){var r=t.props,a=r.cardType,o=r.onChange,i=a.code.size,l=e.length===i&&t._inputRef.selectionStart===i;null!=o&&o(e,n,l)}},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.cardType,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["cardType"]);return a.createElement(o.default,i({},n,{inputmode:"numeric",onChange:this.handleChange,maxLength:t.code.size,inputRef:this.setRef}))},r}(a.PureComponent);t.default=l,l.displayName="CVCField",e.exports=t.default},6587:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(6016)),l=d(n(822)),s=d(n(6100)),u=d(n(5453));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,i=t._inputRef;if(e!==a&&null!=i&&null!=a){var l=s.default.prettifyCreditCardNumber(e),u=i.selectionStart;if(a===l)u-=1,l=s.default.prettifyCreditCardNumber(l.substring(0,u)+l.substring(u+1));else{var d=l.length-e.length;d>0&&(u+=d)}t.selectionStart=u;var c=t.getMaxLength(l),f=l.length===c&&t.selectionStart===c;null!=o&&o(l,n,f)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},d.getMaxLength=function(e){var t=null!=e?s.default.getCreditCardType(e):s.default.DEFAULT_CARD_TYPE;return t.lengths[t.lengths.length-1]+t.gaps.length},d.render=function(){var e=this.props,t=e.value,n=e.flipped,r=e.inputClassName,d=e.className,p=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","flipped","inputClassName","className"]),h=s.default.getCreditCardType(t),v=this.getMaxLength(t);return f("div",{className:(0,o.default)(u.default.cardNumberWrapper,d)},void 0,f(i.default,{className:u.default.cardIcon,type:h.type,flipped:n}),a.createElement(l.default,c({},p,{inputmode:"numeric",value:s.default.prettifyCreditCardNumber(t),onChange:this.handleChange,inputRef:this.setRef,maxLength:v,inputClassName:(0,o.default)(u.default.cardNumberInput,r)})))},r}(a.PureComponent);p.displayName="CardNumberField",p.defaultProps={flipped:!1};var h=p;t.default=h,e.exports=t.default},6588:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(822))&&r.__esModule?r:{default:r},i=n(6100);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=/[^0-9]/g,u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).selectionStart=0,t.setRef=function(e){var n=t.props.inputRef;t._inputRef=e,null!=n&&n(e)},t.handleChange=function(e,n){var r=t.props,a=r.value,o=r.onChange,l=t._inputRef;if(e!==a&&null!=l&&null!=a){var u=(0,i.formatExpiration)(e),d=l.selectionStart;u===a&&u.length<=3&&a.includes("/")&&!e.includes("/")?u=u.replace(s,""):u===a&&e.includes("/")&&!a.includes("/")&&(u+="/"),u.length>e.length&&(d+=u.length-e.length),t.selectionStart=d;var c=u.split("/")[1],f=null!=c&&2===c.length&&d===u.length;null!=o&&o(u,n,f)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidUpdate=function(e){var t=this._inputRef;e.value!==this.props.value&&null!=t&&t.setSelectionRange(this.selectionStart,this.selectionStart)},u.render=function(){return a.createElement(o.default,l({},this.props,{inputmode:"numeric",onChange:this.handleChange,inputRef:this.setRef}))},r}(a.PureComponent);u.displayName="ExpirationDateTextField";var d=u;t.default=d,e.exports=t.default},6589:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(6194),p(n(65))),i=p(n(124)),l=p(n(148)),s=p(n(6016)),u=p(n(9)),d=n(863),c=n(0),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}var m=o.default.create("PaymentRequest"),y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={},t.initPaymentRequest=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.paymentRequest({country:"US",currency:"usd",total:{label:t.props.paymentLabel,amount:0,pending:!0},requestPayerName:!0,requestPayerEmail:!0}),a=t.props.onSourceReceived,r.on("source",function(e){var t=e.complete,n=e.source;a(n),t("success")}),r.on("cancel",function(){a(null)}),e.next=6,r.canMakePayment();case 6:o=e.sent,m.info("PaymentRequest availablity check",o),t.setState({canMakePayment:Boolean(o),paymentRequest:r});case 9:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){v(o,r,a,i,l,"next",e)}function l(e){v(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleOnClick=function(){(0,t.props.onChooseType)(c.PaymentSourceTypes.PAYMENT_REQUEST);var e=t.state.paymentRequest;null!=e&&e.show()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;(0,d.ensureStripeV3IsLoaded)().then(function(t){e.initPaymentRequest(t)})},a.render=function(){var e=this.state.canMakePayment;if(null==e)return h(i.default,{submitting:!0,look:i.default.Looks.FILLED});if(!1===e)return h(i.default,{disabled:!0,look:i.default.Looks.FILLED},void 0,f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_UNSUPPORTED);var t=u.default.isAndroidChrome(),n=t?f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GPAY:f.default.Messages.PAYMENT_SOURCE_PAYMENT_REQUEST_BUTTON_GENERIC,r=t?s.default.Types.G_PAY:s.default.Types.PAYMENT_REQUEST,a=this.props,o=a.className,d=a.iconClassName;return h(i.default,{onClick:this.handleOnClick,className:o},c.PaymentSourceTypes.PAYMENT_REQUEST,h(l.default,{align:l.default.Align.CENTER},void 0,h(s.default,{className:d,type:r}),n))},r}(a.Component);y.displayName="StripePaymentRequest";var _=y;t.default=_,e.exports=t.default},6591:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(80)),a=i(n(8)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t,n){this.isCanceled=!1,this.searchId=e,this.searchType=t,this.query=n}var t=e.prototype;return t.fetch=function(e,t,n){var i=this;if(!this.isCanceled){var l=this.searchType===o.SearchTypes.GUILD?o.Endpoints.SEARCH_GUILD:o.Endpoints.SEARCH_CHANNEL;this.searchId&&a.default.get({url:l(this.searchId),query:r.default.stringify(this.query)}).then(function(r){i.isCanceled||(200===r.status?e(r):202===r.status&&(i.query.attempts=(i.query.attempts||0)+1,i.retryDelay=r.body.retry_after||5e3,i.retryLater(e,t,n),t(r)))}).catch(function(e){console.error(e),n(e)})}},t.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},t.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=l,e.exports=t.default},6592:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=c,t.shouldHighlight=f,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(c(e));return function(e){return p(e,t)}};var r=o(n(6)),a=o(n(6841));function o(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function l(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function s(e){return e.toLowerCase()}function u(e){return i.has(e)}function d(e){return 0===e.length}function c(e){return(0,r.default)(e.split(/\W+/)).map(l).reject(d).map(s).reject(u).map(a.default).value()}function f(e,t){return!d(e=s(l(e)))&&!u(e)&&t.has((0,a.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach(function(e){f(e,t)?(r.length>0&&n.push({type:"text",content:r}),n.push({type:"highlight",content:e}),r=""):r+=e}),n.length>0&&(r.length>0&&n.push({type:"text",content:r}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},6593:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(47)),a=o(n(318));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.create=function(e,t){var n=e.hit,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["hit"]),i=a.default.create(o,function(e){return n?t(e):e});return new r({hit:n,message:i})},r.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},r}(r.default);t.default=i,e.exports=t.default},6594:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(124)),i=u(n(6253)),l=n(0),s=u(n(5515));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.message,n=e.countdown,r=e.buttonText,u=e.buttonSubmitting,c=e.onButtonClick,f=e.imageSrc,p=e.secondaryButtonText,h=e.onSecondaryButtonClick,v=e.theme;return null!=t?d("div",{className:s.default.wrapper},void 0,d("div",{className:s.default.content},void 0,null!=f?d("img",{alt:"",src:f,className:s.default.image}):null,t),d("div",{className:s.default.buttonContainer},void 0,null!=p?d(o.default,{className:s.default.button,size:o.default.Sizes.SMALL,onClick:h,look:o.default.Looks.OUTLINED,color:v===l.ThemeTypes.LIGHT?o.default.Colors.WHITE:o.default.Colors.PRIMARY,submitting:u},void 0,p):null,null!=r?d(o.default,{className:s.default.button,size:o.default.Sizes.SMALL,onClick:c,submitting:u},void 0,r):null),null!=n?d(i.default,{deadline:n}):null):a.Children.only(this.props.children)},r}(a.PureComponent);c.displayName="ChannelTextAreaGuard";var f=c;t.default=f,e.exports=t.default},6595:function(e,t,n){e.exports=n.p+"b0df989dede2e65a2d631874ffe04de0.svg"},6596:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5385));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.children,n=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(n||o.default.default,o.default.base)},void 0,t)};l.displayName="EmptyMessage";var s=l;t.default=s,e.exports=t.default},6597:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(1)),a=s(n(180)),o=s(n(446)),i=n(0),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(null!=e)switch(e.type){case i.ScreenshareChromeExtensionResponseTypes.SCREENSHARE_START_SUCCESS:return function(e){o.default.setDesktopSource(e.streamId)}(e)}else window.chrome.app.isInstalled||a.default.show({title:l.default.Messages.SCREENSHARE_EXTENSION_TITLE,body:l.default.Messages.SCREENSHARE_EXTENSION_BODY,confirmText:l.default.Messages.YES_TEXT,cancelText:l.default.Messages.NO_TEXT,onConfirm:function(){null!=window.chrome.webstore&&null!=window.chrome.webstore.install?window.chrome.webstore.install():Object.assign(document.createElement("a"),{target:"_blank",href:"https://chrome.google.com/webstore/detail/discord-screen-sharing/lcbhdgefieegnkbopmgklhlpjjdgmbog"}).click()}})}var d={open:function(e){if(null!=window.chrome){if(null!=navigator.getDisplayMedia||null!=navigator.mediaDevices.getDisplayMedia)return o.default.setWebScreenShare();window.chrome.runtime.sendMessage(i.SCREENSHARE_CHROME_EXTENSION_ID,{command:i.ScreenshareChromeExtensionCommands.SCREENSHARE},u)}else r.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_OPEN,channel:e})},close:function(){r.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_CLOSE})},selectSourceType:function(e){r.default.dispatch({type:i.ActionTypes.SCREENSHARE_MODAL_SELECT_SOURCE_TYPE,sourceType:e})}};t.default=d,e.exports=t.default},6598:function(e,t,n){var r={"./amsterdam.png":6858,"./brazil.png":6859,"./eu-central.png":6860,"./eu-west.png":6861,"./frankfurt.png":6862,"./hongkong.png":6863,"./japan.png":6864,"./london.png":6865,"./russia.png":6866,"./singapore.png":6867,"./southafrica.png":6868,"./sydney.png":6869,"./unknown.png":6102,"./us-central.png":6870,"./us-east.png":6871,"./us-south.png":6872,"./us-west.png":6873};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6598},6599:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(3)),i=n(302),l=f(n(6145)),s=f(n(149)),u=f(n(5991)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function a(t){var n;return p(n=e.call(this,t)||this).handleClick=n.handleClick.bind(p(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){var e=this.props,t=e.type,n=e.guild;(0,i.closeContextMenu)(),l.default.open(t,n.id,null,null)},o.render=function(){if(__OVERLAY__)return null;var e,t=this.props,n=t.type;return t.canManageChannels?(e=n===d.ChannelTypes.GUILD_TEXT?c.default.Messages.CREATE_TEXT_CHANNEL:n===d.ChannelTypes.GUILD_VOICE?c.default.Messages.CREATE_VOICE_CHANNEL:n===d.ChannelTypes.GUILD_CATEGORY?c.default.Messages.CREATE_CATEGORY:c.default.Messages.CREATE_CHANNEL,function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:e,action:this.handleClick})):null},a}(a.PureComponent);h.displayName="ChannelCreateItem";var v=o.default.connectStores([s.default],function(e){var t=e.guild;return{canManageChannels:s.default.can(d.Permissions.MANAGE_CHANNELS,t)}})(h);t.default=v,e.exports=t.default},6600:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=i(n(20));n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s={},u=s;function d(){Object.keys(u).forEach(function(e){null==o.default.getChannel(e)&&delete u[e]})}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){this.waitFor(o.default),u=e||s},a.getState=function(){return u},a.getCollapsed=function(){return u},a.isCollapsed=function(e){return u[e]||!1},r}(r.default.PersistedStore);c.persistKey="collapsedChannels";var f=new c(a.default,{CONNECTION_OPEN:function(e){return d()},OVERLAY_INITIALIZE:function(e){return d()},CHANNEL_COLLAPSE:function(e){var t=e.channelId;u[t]?delete u[t]:u[t]=!0,u=l({},u)}});t.default=f,e.exports=t.default},6601:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=y(n(6)),a=y(n(3)),o=y(n(21)),i=y(n(1)),l=m(n(465)),s=y(n(179)),u=m(n(315)),d=y(n(41)),c=y(n(64)),f=y(n(14)),p=y(n(850)),h=y(n(176)),v=n(0);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e){return e&&e.__esModule?e:{default:e}}var _="DetectedOffPlatformPremiumPerksStore",g={},E={},S=[];function T(){var e=!1,t=r.default.values(E),n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(a>=t.length)break;o=t[a++]}else{if((a=t.next()).done)break;o=a.value}var i=o,l=i.skuId,c=i.applicationId;if(!S.includes(l)){var v=d.default.getGame(c);if(null!=v){var m=h.default.get(l);null!=m?p.default.applicationIdsFetching.has(v.id)||p.default.isEntitledToSku(f.default.getCurrentUser(),l,v.id,v.id)||!m.available?null!=g[l]&&(delete g[l],e=!0):(g[l]={skuId:l,applicationId:c},e=!0):h.default.isFetching(l)||h.default.didFetchingSkuFail(l)||u.fetchSKU(v.id,l)}else d.default.isFetching(c)||d.default.didFetchingFail(c)||s.default.fetchApplication(c)}}return e}var O=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.initialize=function(){this.waitFor(c.default,h.default,p.default),S=o.default.get(_)||S},i.getDetectedOffPlatformPremiumPerks=function(){return r.default.values(g)},a}(a.default.Store))(i.default,{LOGOUT:function(e){return g={},void(E={})},SKU_FETCH_SUCCESS:function(e){return T()},ENTITLEMENT_FETCH_APPLICATION_SUCCESS:function(e){return T()},ENTITLEMENT_CREATE:function(e){return T()},APPLICATION_FETCH_SUCCESS:function(e){return T()},DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS:function(e){var t=e.skuId;if(delete g[t],S.includes(t))return!1;S.push(t),o.default.set(_,S)},RUNNING_GAMES_CHANGE:function(e){return function(){var e=!1,t=c.default.getRunningGames(),n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var a;if(n){if(r>=t.length)break;a=t[r++]}else{if((r=t.next()).done)break;a=r.value}var o=a,i=o.id,s=o.distributor;if(null!=i&&s!==v.Distributors.DISCORD){var u=v.OFF_PLATFORM_PREMIUM_PERKS,d=Array.isArray(u),f=0;for(u=d?u:u[Symbol.iterator]();;){var h;if(d){if(f>=u.length)break;h=u[f++]}else{if((f=u.next()).done)break;h=f.value}var m=h,y=m.skuId,_=m.applicationId;_===i&&(S.includes(y)||null==E[y]&&(p.default.applicationIdsFetched.has(_)||p.default.applicationIdsFetching.has(_)||null!=p.default.getForSku(y)||l.fetchUserEntitlementsForApplication(_),E[y]={skuId:y,applicationId:_},e=!0))}}}return e&&T(),e}()}});t.default=O,e.exports=t.default},6602:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=s(n(112)),i=s(n(12)),l=s(n(85));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=10,d=15552e6,c=!1;var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,i.default)},a.isEligible=function(){return c},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return c!==(c=l.default.getFriendIDs().length>=u&&o.default.extractTimestamp(i.default.getId())<Date.now()-d)}});t.default=f,e.exports=t.default},6603:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(21)),o=d(n(1)),i=d(n(131)),l=d(n(57)),s=d(n(14)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c="surveys",f={},p=[{id:u.Experiments.SURVEY_NITRO,url:function(){var e=s.default.getCurrentUser();return"https://www.surveymonkey.com/r/8MZCZGJ?user_id="+(null!=e?e.id:"")},noticeContent:"Help improve Nitro! Take a short survey and let us know your thoughts.",noticeButton:"Take Survey",title:"Nitro Survey",description:"Ask users their thoughts on nitro n stuff",validateDescriptor:function(){var e=s.default.getNullableCurrentUser();return null!=e&&e.premiumType===u.PremiumTypes.TIER_2}}];function h(){Object.keys(f).length>0?a.default.set(c,f):a.default.remove(c)}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.initialize=function(){this.syncWith([l.default],function(){return!0});var e=a.default.get(c)||{},t=new Set(p.map(function(e){return e.id}));p.forEach(function(n){var r=n.id;e[r]&&t.has(r)&&(f[r]=!0)}),h(),o.default.wait(function(){return i.default.registerSurveys(p)})},s.getCurrentSurvey=function(){return p.find(function(e){var t=e.id,n=e.validateDescriptor;if(f[t])return!1;var r=l.default.getEligibleExperiment(t);return null!=r&&(null==n||n(r,e))})},r}(r.default.Store))(o.default,{SURVEY_HIDE:function(e){var t=e.id;f[t]=!0,h()},LOGOUT:function(e){return f={},void a.default.remove(c)}});t.default=v,e.exports=t.default},6604:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=n(6321),l=L(n(6257)),s=L(n(3)),u=L(n(825)),d=D(n(6144)),c=L(n(6060)),f=L(n(6042)),p=L(n(6198)),h=L(n(20)),v=L(n(108)),m=L(n(833)),y=L(n(6031)),_=L(n(49)),g=L(n(6313)),E=L(n(219)),S=L(n(821)),T=L(n(177)),O=n(106),I=D(n(6610)),C=D(n(6201)),N=D(n(6041)),A=L(n(6612)),M=n(6035),P=n(0),b=L(n(13)),R=L(n(5468));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n(5469);var U=512,k=(0,l.default)(d.search,500),G=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={focused:!1},n.handleSetSearchQuery=function(e){var t=e.query,r=e.anchor,a=e.focus,o=e.performSearch,i=e.replace,l=n.props.editorState,s=C.getFirstTextBlock(l);" "!==t.charAt(t.length-1)&&(t+=" "),r&&" "!==s.charAt(r-1)&&" "!==t.charAt(0)&&(t=" "+t),i?(l=C.replaceAllContent(t,l),r=0):l=C.updateContent(t,l,r,a),l=C.truncateContent(l,U),l=n.tokenize(l);var u=r+t.length;l=C.setCollapsedSelection(u,l),n.setEditorState(l),o&&n.search(C.getFirstTextBlock(l))},n.renderPopout=function(){return a.createElement(A.default,{ref:n.setSearchPopoutRef})},n.search=function(e){var t=n.props,r=t.searchId,a=t.isSearching;if(!e){var o=n.props.editorState;e=C.getFirstTextBlock(o)}if(r&&!a){for(var i=N.tokenizeQuery(e),l=N.getSearchQueryFromTokens(i),s=0;s<i.length;s++)N.filterHasAnswer(i[s],i[s+1])||(e=e.substring(0,i[s].start)+e.substring(i[s].end));if(!i.length||0===Object.keys(l).length)return!1;k(r,l,e),n.onBlur()}return!0},n.handleClearSearch=function(e){var t=n.props.editorState,r=n.state.focused;e.preventDefault(),e.stopPropagation(),""!==C.getFirstTextBlock(t)?(t=C.truncateContent(t,0),n.setEditorState(t),r||Promise.resolve().then(function(){return n.blurEditor()})):n.focusEditor()},n.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&C.isEmpty(n.props.editorState)){var t=_.default.getChannelId(),r=h.default.getChannel(t);if(null==r||r.isPrivate())n.focusEditor();else{var a=v.default.getTextChannelNameDisambiguations(r.getGuildId())[r.id],o=null!=a?a.name:r.name;n.handleSetSearchQuery({query:f.default[P.SearchTokenTypes.FILTER_IN].key+"#"+o+" ",replace:!0})}}else n.focusEditor()},n.focusEditor=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)._editorRef;e&&Promise.resolve().then(function(){return e.focus()})},n.blurEditor=function(){n._editorRef&&n._editorRef.blur()},n.setEditorRef=function(e){n._editorRef=e},n.setPopoutRef=function(e){n._popoutRef=e},n.setSearchPopoutRef=function(e){n._searchPopoutRef=e},n.onFocus=function(){var e=n.props.searchType;T.default.trackWithMetadata(P.AnalyticEvents.SEARCH_OPENED,{search_type:e}),n.setState({focused:!0})},n.onBlur=function(){n.setState({focused:!1},function(){u.default.close(P.SEARCH_POPOUT_ID),C.isEmpty(n.props.editorState)&&n.clearSearch()})},n.onDownArrow=function(e){return e.preventDefault(),n._searchPopoutRef&&n._searchPopoutRef.focusNextOption(),!0},n.onUpArrow=function(e){return e.preventDefault(),n._searchPopoutRef&&n._searchPopoutRef.focusPreviousOption(),!0},n.onTab=function(e){if(!P.EnableAccessibility)return e.preventDefault(),n._searchPopoutRef&&n._searchPopoutRef.selectOption(),!0},n.handleReturn=function(e){e.preventDefault();var t=!1;return n._searchPopoutRef&&(t=n._searchPopoutRef.selectOption()),t||n.search(),!0},n.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),n.blurEditor(),!0},n.handleBeforeInput=function(e){var t=n.props.editorState,r=n.state.focused;return C.getFirstTextBlock(t).length>=U||(t=C.updateContent(e,t),t=C.truncateContent(t,U),t=n.tokenize(t),n.setEditorState(t),r||n.setState({focused:!0}),!0)},n.handleKeyCommand=function(e){var t=n.props.editorState,r=n.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=C.deleteContent(e,t),t=n.tokenize(t),n.setEditorState(t),r||n.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=C.miscCommand(e,t),t=n.tokenize(t),n.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},n.handlePastedText=function(e){var t=n.props.editorState,r=n.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=C.updateContent(e,t),t=C.truncateContent(t,U),t=n.tokenize(t),r||n.setState({focused:!0}),n.setEditorState(t),!0},n.setEditorState=function(e){var t=n.props.searchId;d.setSearchState(t,e)},n.handleKeyBind=function(e){var t=e.key,r=e.metaKey,a=e.shiftKey,o=n.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&r?(e.preventDefault(),o=a?C.setToStartSelection(o):C.setCollapsedStartSelection(o),n.setEditorState(o),!0):"End"===t||"ArrowRight"===t&&r?(e.preventDefault(),o=a?C.setToEndSelection(o):C.setCollapsedEndSelection(o),n.setEditorState(o),!0):C.getDefaultKeyBinding(e)},N.clearTokenCache(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){O.ComponentDispatch.subscribe(P.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.subscribe(P.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.subscribe(P.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},l.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var a=N.tokenizeQuery(C.getFirstTextBlock(n)),o=I.getSelectionScope(a,n);d.updateAutocompleteQuery(r,a,o),this._editorRef&&C.scrollCursorIntoView(this._editorRef.editor)}},l.componentWillUnmount=function(){O.ComponentDispatch.unsubscribe(P.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.unsubscribe(P.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.unsubscribe(P.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},l.tokenize=function(e){var t=N.tokenizeQuery(C.getFirstTextBlock(e)).filter(function(e){return e.type!==c.default.NON_TOKEN_TYPE});return C.applyTokensAsEntities(t,e,f.default)},l.clearSearch=function(){var e=this.props.searchId;e&&d.clearSearchState(e)},l.ensurePopoutIsOpen=function(){this._popoutRef&&!m.default.isOpen(P.SEARCH_POPOUT_ID)&&this._popoutRef.open()},l.handlePastedFiles=function(){return!0},l.handleDroppedFiles=function(){return!0},l.handleDrop=function(){return!0},l.renderInput=function(){var e=this.props.editorState;return a.createElement(i.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:b.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},l.render=function(){var e,t=this.props,n=t.searchId,r=t.editorState,i=t.hasResults,l=t.className,s=this.state.focused,u=!!C.getFirstTextBlock(r).length;return n?a.createElement(S.default,{ref:this.setPopoutRef,uniqueId:P.SEARCH_POPOUT_ID,render:this.renderPopout,position:S.default.Positions.BOTTOM,toggleClose:!1,animationType:S.default.Animations.NONE,preventInvert:!0},w("div",{className:l},void 0,w(E.default,{className:(0,o.default)(R.default.search,(e={},e[R.default.open]=u||s,e[R.default.focused]=s,e)),onClick:this.focusEditor},void 0,w("div",{className:R.default.searchBar},n,this.renderInput(),w(M.SearchBarIcon,{onClear:this.handleClearSearch,hasContent:u||i,className:R.default.icon}))))):null},r}(a.PureComponent);G.displayName="Search";var F=s.default.connectStores([y.default,p.default,g.default],function(){var e=y.default.getCurrentSearchId();return{searchId:e,searchType:y.default.getSearchType(),isSearching:!!e&&y.default.isSearching(e),editorState:e&&y.default.getEditorState(e)||C.createEmptyEditorState(I.generateDecorators(f.default)),hasResults:y.default.hasResults(e)}})(G);t.default=F,e.exports=t.default},6610:function(e,t,n){"use strict";t.__esModule=!0,t.matchColonGroup=f,t.generateDecorators=function(e){void 0===e&&(e={});var t=[];return Object.keys(e).forEach(function(n){var r=e[n];t.push({strategy:function(e,t,r){return f(r,e,t,n)},component:c[r.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,r=[];if(e.forEach(function(t,a){var o=e[a];r.push(t.getFullMatch()),d.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(o&&o.type!==i.default.NON_TOKEN_TYPE||!o)&&(n=!0,r.push(" "))}),!n)return t;return(0,s.replaceAllContent)(r.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,a=n.anchorOffset;return(0,u.getSelectionScope)(e,r,a)},t.Components=void 0;var r,a,o=n(6611),i=(r=n(6060))&&r.__esModule?r:{default:r},l=n(6042),s=n(6201),u=n(6041),d=n(0);var c=((a={})[l.ComponentTypes.FILTER]=o.Filter,a[l.ComponentTypes.ANSWER]=o.Answer,a);function f(e,t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r},n)}t.Components=c},6611:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=(r=n(5463))&&r.__esModule?r:{default:r};function i(e,t){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{className:t},void 0,e.children)}i.displayName="renderToken";t.Filter=function(e){return i(e,o.default.searchFilter)};t.Answer=function(e){return i(e,o.default.searchAnswer)}},6612:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GroupData=void 0;var r,a,o=U(n(2)),i=w(n(17)),l=w(n(304)),s=w(n(6)),u=w(n(4)),d=w(n(439)),c=w(n(3)),f=n(6144),p=n(6060),h=U(n(6042)),v=w(n(20)),m=w(n(71)),y=w(n(6613)),_=w(n(49)),g=w(n(150)),E=w(n(35)),S=w(n(305)),T=w(n(6614)),O=w(n(219)),I=w(n(301)),C=w(n(437)),N=n(6023),A=n(106),M=w(n(309)),P=U(n(6041)),b=w(n(6258)),R=n(0),L=w(n(13)),D=w(n(5467));function w(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=/^\s*$/,j=(0,u.default)("2015-05-15").local();var x=function(e,t,n){var r=n.user,a=n.text;if(!r)return G("strong",{},void 0,a);var o=m.default.getNick(e,r.id)||r.username,i=r.avatarURL||r.getAvatarURL();return[G("img",{alt:"",className:D.default.displayAvatar,src:i},"avatar-"+t+"-"+r.id),G("span",{className:D.default.displayedNick},"display-nick-"+t+"-"+r.id,o),G("span",{className:D.default.displayUsername},"display-username-"+t+"-"+r.id,a)]},B=function(e,t,n){var r=n.channel,a=v.default.getChannel(r.parent_id),o=(0,N.getIconNameForChannel)(r);return G("div",{className:D.default.resultChannel},void 0,null!=o?G(I.default,{name:o,className:D.default.searchResultChannelIcon}):null,G("strong",{},void 0,r.toString()),null!=a?G("span",{className:D.default.searchResultChannelCategory},void 0,a.toString()):null)};B.displayName="renderChannel";var H=function(e){var t,n,r,a=e.searchId,o=e.result,l=e.group,s=e.selected,u=e.className,d=e.onSelect,c=e.onFocus,f=e.showFilter,p=e.renderResult;return f&&(n=G("span",{className:D.default.filter},void 0,h.default[l].key||"addme:")),r=p?p(a,l,o):G("strong",{},void 0,o.text),G(O.default,{className:(0,i.default)(D.default.option,u,(t={},t[D.default.selected]=s,t)),onClick:d,onMouseOver:c,onFocus:c},void 0,n,r,G(I.default,{name:I.default.Names.PLUS_ALT,className:D.default.plusIcon}))};H.displayName="ResultComponent";var V=function(e){return o.createElement(H,k({},e,{className:D.default.user,renderResult:x}))};V.displayName="UserResultComponent";var Y=function(e){return o.createElement(H,k({},e,{renderResult:B}))};Y.displayName="ChannelResultComponent";var W=((r={})[R.SearchTokenTypes.FILTER_FROM]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_FROM},component:V},r[R.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:V},r[R.SearchTokenTypes.FILTER_HAS]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_HAS}},r[R.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},r[R.SearchTokenTypes.FILTER_IN]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:Y},r[R.SearchAutocompleteGroups.DATES]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_DATES}},r[R.SearchAutocompleteGroups.HISTORY]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return G(C.default,{text:L.default.Messages.SEARCH_CLEAR_HISTORY,position:C.default.Positions.LEFT},void 0,G(O.default,{onClick:function(){return(0,f.clearHistory)(t)},className:D.default.searchClearHistory,title:L.default.Messages.SEARCH_CLEAR_HISTORY},void 0,G(I.default,{name:I.default.Names.CLEAR_HISTORY})))},component:(0,l.default)({displayName:"component",mixins:[c.default.LazyStoreListenerMixin(v.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{tokens:P.tokenizeQuery(this.props.result.text).map(function(e,t,n){return P.filterHasAnswer(e,n[t+1])?e:new p.Token(e.getFullMatch(),p.NON_TOKEN_TYPE)})}},render:function(){var e,t=this.props,n=t.selected,r=t.onSelect,a=t.onFocus,o=this.state.tokens.map(function(e,t){var n,r=e.getFullMatch();if(F.test(r))return null;var a=R.IS_SEARCH_FILTER_TOKEN.test(e.type),o=R.IS_SEARCH_ANSWER_TOKEN.test(e.type),l=!a&&!o;return G("span",{className:(0,i.default)((n={},n[D.default.filter]=a,n[D.default.answer]=o,n[D.default.nonText]=l,n))},t,r)});return G(O.default,{className:(0,i.default)(D.default.option,D.default.history,(e={},e[D.default.selected]=n,e)),onClick:r,onMouseOver:a,onFocus:a},void 0,o,G(I.default,{name:I.default.Names.PLUS_ALT,className:D.default.plusIcon}))}})},r[R.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return L.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return G(C.default,{text:L.default.Messages.LEARN_MORE,position:C.default.Positions.LEFT},void 0,G("div",{className:D.default.searchLearnMore},void 0,G(S.default,{href:M.default.getArticleURL(R.HelpdeskArticles.USING_SEARCH),title:L.default.Messages.LEARN_MORE},void 0,G(I.default,{name:I.default.Names.LEARN_MORE}))))},component:function(e){var t,n,r=e.result,a=e.selected,o=e.onSelect,l=e.onFocus,s=P.getSearchOptionAnswer(r.token);return G(O.default,{className:(0,i.default)(D.default.option,D.default.searchOption,(t={},t[D.default.selected]=a,t)),onClick:o,onMouseOver:l,onFocus:l},void 0,G("span",{className:D.default.filter},void 0,r.text),G("span",{className:(0,i.default)((n={},n[D.default.answer]=s,n))},void 0,s),G(I.default,{name:I.default.Names.PLUS_ALT,className:D.default.plusIcon}))}},r);t.GroupData=W;var K=(0,l.default)({displayName:"SearchPopout",mixins:[d.default,c.default.LazyStoreListenerMixin(g.default,_.default,y.default,E.default)],getInitialState:function(){return k({dateHint:(0,h.getRandomDateShortcut)()},this.getStateFromStores())},getStateFromStores:function(){var e=g.default.getGuildId(),t=_.default.getChannelId(),n=e||t;if(null==n)throw new Error("SearchPopout.getStateFromStores - invalid searchId");var r=y.default.getState(n),a=this.state?this.state.selectedIndex:-1,o=P.getTotalResults(r.autocompletes);return k({locale:E.default.locale,searchId:n,selectedIndex:a,totalResults:o},r)},componentDidUpdate:function(e,t){var n=this.state,r=n.mode,a=n.totalResults;r.filter&&!t.mode.filter&&a?this.setState({selectedIndex:0}):r.type===R.SearchPopoutModes.FILTER_ALL&&t.mode.type!==r.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(t)},handleDateChange:function(e){this.setSearchQuery(e.format(R.SEARCH_DATE_FORMAT)+" ",!0)},keepCurrentOptionSelected:function(e){var t=this.state,n=t.mode,r=t.selectedIndex,a=t.autocompletes,o=t.totalResults;if(this.state.mode.type!==e.mode.type)this.setState({selectedIndex:-1});else if(e.selectedIndex>=0&&(e.selectedIndex===r||e.autocompletes.length!==a.length)){var i=P.getFlattenedStringArray(e.autocompletes,e.mode.type)[e.selectedIndex-1],l=P.getFlattenedStringArray(a,n.type).indexOf(i);-1!==l?this.setState({selectedIndex:l}):e.selectedIndex>=o&&this.setState({selectedIndex:o-1})}},focusNextOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;P.showDatePicker(n&&n.filter)||(t+=1,this.focusOption(t))},focusPreviousOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;P.showDatePicker(n.filter)||(t-=1,this.focusOption(t))},focusOption:function(e){var t=this.state.autocompletes,n=this.shouldShowSearchQuery();e<-1||!n&&e<0?e=P.getTotalResults(t)-1:n&&e>=P.getTotalResults(t)?e=-1:!n&&e>=P.getTotalResults(t)&&(e=0),this.setState({selectedIndex:e})},selectOption:function(e){if(null==e&&(e=this.state.selectedIndex),e<0)return!1;var t=this.state,n=t.autocompletes,r=t.mode;if(!P.showDatePicker(r.filter)){var a=P.getFlattenedStringArray(n,r.type);if(e>=a.length)return!1;var o=a[e],i=function(e){var t=!0;return e=e.trim(),(0,s.default)(h.default).forOwn(function(n){n.key&&e===n.key&&(t=!1)}),t}(o);return this.setSearchQuery(o,i),!0}},setSearchQuery:function(e,t){void 0===t&&(t=!1);var n=this.state,r=n.mode,a=n.cursorScope,o=0;r.token?o=r.token.start:a&&a.currentToken&&(o=a.currentToken.end);var i=r.token?r.token.end:o;A.ComponentDispatch.dispatch(R.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:o,focus:i,performSearch:t}),this.setState({selectedIndex:-1})},shouldShowSearchQuery:function(){var e=this.state.mode;return e.type!==R.SearchPopoutModes.FILTER&&e.type!==R.SearchPopoutModes.EMPTY&&!P.showDatePicker(e.filter)},renderDatePicker:function(){return G("div",{className:D.default.datePicker},void 0,G(T.default,{locale:this.state.locale,onSelect:this.handleDateChange,maxDate:(0,u.default)().local(),minDate:j}),G("div",{className:D.default.datePickerHint},void 0,G("span",{className:D.default.hint},void 0,L.default.Messages.SEARCH_DATE_PICKER_HINT," "),G(O.default,{tag:"span",className:D.default.hintValue,onClick:this.handleHintClick},void 0,this.state.dateHint)))},handleHintClick:function(){this.setSearchQuery(this.state.dateHint,!0)},performSearch:function(){A.ComponentDispatch.dispatch(R.ComponentActions.PERFORM_SEARCH)},renderAutocompletes:function(){var e=this,t=this.state,n=t.autocompletes,r=t.selectedIndex,a=t.mode,o=t.searchId;if(P.showDatePicker(a.filter))return this.renderDatePicker();var i=-1;return n.map(function(t){if(!t||!t.results.length)return null;var n,l=W[t.group]||{};l.titleText&&(n=G("div",{className:D.default.header},void 0,l.titleText()));var s=l.groupTip||null;s&&(s=G(s,{searchId:o}));var u=l.component||H,d=a.type===R.SearchPopoutModes.FILTER_ALL||!1;return G("div",{className:D.default.resultsGroup},t.group,n,s,t.results.map(function(n){return n&&t?(i+=1,G(u,{searchId:o,group:n.group||t.group,result:n,showFilter:d,selected:r===i,onSelect:e.selectOption.bind(null,i),onFocus:e.focusOption.bind(null,i)},t.group+"-"+n.text+"-"+(n.key||""))):null}))})},render:function(){var e=this,t=this.state,n=t.query,r=t.selectedIndex,a=t.totalResults;return G(b.default,{numResults:a,query:n,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:r,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})}});t.default=K},6613:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=m(n(3)),a=m(n(1)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(6042)),i=m(n(6030)),l=m(n(6073)),s=n(6041),u=m(n(71)),d=m(n(833)),c=m(n(6031)),f=m(n(307)),p=m(n(6134)),h=m(n(14)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var y={},_={},g=10,E=3;function S(e,t,n,r,a,o){var i=_[e];return null==i&&(i={results:[],context:p.default.getSearchContext(function(e,t){var n=t.results,r=_[e],a=y[e];if(null==r||null==a)return;var o=a.mode,i=o.type,l=o.filter;if(i===v.SearchPopoutModes.EMPTY||i===v.SearchPopoutModes.FILTER&&l!==v.SearchTokenTypes.FILTER_FROM&&l!==v.SearchTokenTypes.FILTER_MENTIONS)return;var s=E;a.mode.type===v.SearchPopoutModes.FILTER&&(s=g);r.results=function(e,t){void 0===t&&(t=g);(e=e.reduce(function(e,t){var n=h.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,s);var u=a.query,d=a.mode,c=a.tokens,f=a.cursorScope,p=a.autocompletes;p=C(e,d),y[e]=S(e,u,d,c,f,p),P.emitChange()}.bind(null,e))},_[e]=i),{query:t||"",mode:n||{type:v.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:r||[],cursorScope:a||null,autocompletes:o||[]}}function T(e,t,n,r){if(void 0===r&&(r=g),!e)return null;var a;if(e===v.SearchTokenTypes.FILTER_FROM||e===v.SearchTokenTypes.FILTER_MENTIONS){var l=_[n];null==l?a=null:(null!=t&&0!==t.getFullMatch().trim().length||(l.results=i.default.getRecentlyTalked(n,g).map(function(e){var t=e.user;return{user:t,text:t.tag}})),a=l.results)}else{var s=o.default[e]&&o.default[e].getAutocompletions,u=(null!=t?t.getFullMatch():"").trim();a=s?s(u,n,r):[]}return a&&a.length?{group:e,results:a}:null}function O(e){var t,n=(e?e.getFullMatch():"").trim(),r=((t={})[v.SearchTokenTypes.FILTER_FROM]=!f.default.hidePersonalInformation,t[v.SearchTokenTypes.FILTER_MENTIONS]=!f.default.hidePersonalInformation,t[v.SearchTokenTypes.FILTER_HAS]=!0,t[v.SearchTokenTypes.FILTER_BEFORE]=!0,t[v.SearchTokenTypes.FILTER_AFTER]=!0,t[v.SearchTokenTypes.FILTER_ON]=!0,t[v.SearchTokenTypes.FILTER_IN]=c.default.getSearchType()===v.SearchTypes.GUILD,t),a=(0,o.getFilterAutocompletions)(n).filter(function(e){return r[e.token]});return{group:v.SearchAutocompleteGroups.SEARCH_OPTIONS,results:a}}function I(e,t){var n=[];return(e?e.getFullMatch():"").trim()&&(function(e){var t=c.default.getSearchType(e),n=[v.SearchTokenTypes.FILTER_HAS];return f.default.hidePersonalInformation||(n.push(v.SearchTokenTypes.FILTER_FROM),n.push(v.SearchTokenTypes.FILTER_MENTIONS)),t===v.SearchTypes.GUILD&&n.push(v.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(r){if(r){var a=T(r,e,t,E);a&&n.push(a)}}),n.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var r=o.default[v.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),a=r[0],i=o.default[v.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),l=i[0],s=o.default[v.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),u=s[0];if(!a)return null;var d=[a,l,u];return{group:v.SearchAutocompleteGroups.DATES,results:d}}}(e,t))),(0,s.getTotalResults)(n)<5&&n.push(O(e)),n}function C(e,t){var n=[];return t.type===v.SearchPopoutModes.FILTER?n.push(T(t.filter,t.token,e,g)):t.type===v.SearchPopoutModes.FILTER_ALL?n=I(t.token,e):t.type===v.SearchPopoutModes.EMPTY&&(n.push(O(t.token)),n.push(function(e){if(f.default.hidePersonalInformation)return null;var t=c.default.getHistory(e);return t?{group:v.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function N(){(0,s.clearTokenCache)()}function A(e){var t=y[e];if(t){var n=t.query,r=t.mode,a=t.tokens,o=t.cursorScope,i=t.autocompletes;y[e]=S(e,n,r,a,o,i.map(function(e){return e&&e.group===v.SearchAutocompleteGroups.HISTORY?null:e}))}}function M(){if(d.default.isOpen(v.SEARCH_POPOUT_ID)){var e=c.default.getCurrentSearchId();if(e&&y[e]){var t=y[e],n=t.query,r=t.mode,a=t.tokens,o=t.cursorScope;y[e]=S(e,n,r,a,o,C(e,r))}}}var P=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,f.default,d.default)},a.getState=function(e){return y[e]||S(e)},r}(r.default.Store))(a.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,r=e.cursorScope;if(!d.default.isOpen(v.SEARCH_POPOUT_ID))return!1;var a,o=(0,s.getQueryFromTokens)(n),i=(0,s.getAutocompleteMode)(r,n),u=y[t]||{},c=_[t],f=!0;if(o!==u.query||u.mode&&u.mode.filter!==i.filter){if(i.type===v.SearchPopoutModes.EMPTY||i.type===v.SearchPopoutModes.FILTER&&i.filter!==v.SearchTokenTypes.FILTER_FROM&&i.filter!==v.SearchTokenTypes.FILTER_MENTIONS)null!=c&&(c.context.clearQuery(),c.results=[]),a=C(t,i);else if(null!=c){var p=i.token;null!=p&&p.getFullMatch().trim().length>0?(l.default.requestMembers(t,p.getFullMatch(),g),c.context.setQuery(p.getFullMatch().trim(),{guild:t}),a=u.autocompletes,f=!1):(c.context.clearQuery(),a=C(t,i))}}else a=u.autocompletes,f=!1;return y[t]=S(t,o,i,n,r,a),f},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=_[t];null!=n&&(n.context.destroy(),n.results=[],delete _[t]),delete y[t]},CHANNEL_CREATE:function(e){return N()},CHANNEL_DELETE:function(e){return N()},STREAMER_MODE_UPDATE:function(e){return M()},POPOUT_OPEN:function(e){return M()},SEARCH_MODAL_OPEN:function(e){return M()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?A(t):Object.keys(y).forEach(A)},LOGOUT:function(e){Object.keys(y).forEach(A)}}),b=P;t.default=b,e.exports=t.default},6614:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=s(n(4)),o=s(n(6895));n(5464);var i,l=s(n(5465));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,r=e.onSelect,a=e.locale,i=e.value;return u("div",{className:l.default.calendarPicker},void 0,u(o.default,{fixedHeight:!0,inline:!0,selected:i,locale:a,onSelect:r,maxDate:n,minDate:t}))},r}(r.PureComponent);d.displayName="CalendarPicker",d.defaultProps={value:(0,a.default)().local()};var c=d;t.default=c,e.exports=t.default},6615:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(305)),o=n(6025),i=n(309),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){return u(a.default,{href:i.SUPPORT_LOCATION,target:"_blank"},void 0,u(o.Icon,{onClick:function(){},name:o.Icon.Names.NOVA_HELP,tooltip:l.default.Messages.HELP}))},e.exports=t.default},6616:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(3)),i=v(n(825)),l=v(n(20)),s=v(n(833)),u=v(n(49)),d=v(n(821)),c=n(6025),f=v(n(6617)),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _="RECENT_MENTIONS_POPOUT",g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderRecentMentionsPopout=function(e){return a.createElement(f.default,y({},e,{onJump:t.handleMentionsJump,channel:l.default.getChannel(u.default.getChannelId()),popoutName:_}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleMentionsJump=function(e){e.shiftKey||i.default.close(_)},o.render=function(){var e=this.props.open;return m(d.default,{animationType:d.default.Animations.NONE,uniqueId:_,position:d.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:p.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,m(c.Icon,{name:c.Icon.Names.NOVA_AT,tooltip:h.default.Messages.MENTIONS,selected:e}))},r}(a.Component);g.displayName="RecentMentionsButton";var E=o.default.connectStores([s.default],function(){return{open:s.default.isOpen(_)}})(g);t.default=E,e.exports=t.default},6617:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=T(n(2)),o=S(n(17)),i=S(n(304)),l=(S(n(306)),S(n(439))),s=S(n(3)),u=S(n(6618)),d=(S(n(126)),S(n(6619))),c=S(n(35)),f=S(n(821)),p=T(n(6036)),h=S(n(6317)),v=S(n(5995)),m=S(n(6012)),y=n(0),_=S(n(13)),g=S(n(5470)),E=S(n(847));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){var n=void 0===t?{}:t,r=n.guildFilter,a=n.roleFilter,o=n.everyoneFilter,i=n.messageId,l=void 0===i?null:i;r=void 0===r?d.default.guildFilter:r,a=void 0===a?d.default.roleFilter:a,o=void 0===o?d.default.everyoneFilter:o;var s=null;e&&(s=r===y.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),u.default.fetchRecentMentions(l,y.MAX_MENTIONS_PER_FETCH,s,a,o)}var N=(0,i.default)({displayName:"FilterPopout",mixins:[s.default.StoreListenerMixin(d.default),l.default],getStateFromStores:function(){return{everyoneFilter:d.default.everyoneFilter,roleFilter:d.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;u.default.setGuildFilter({roleFilter:e}),C(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;u.default.setGuildFilter({everyoneFilter:e}),C(this.props.channel,{everyoneFilter:e})},render:function(){return a.createElement("div",this.props,I("div",{className:(0,o.default)(E.default.contextMenu,"theme-"+c.default.theme,g.default.recentMentionsFilterPopout)},void 0,I(v.default,{},void 0,I(m.default,{label:_.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),I(m.default,{label:_.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),A=(0,i.default)({displayName:"RecentMentions",mixins:[s.default.StoreListenerMixin(d.default,c.default),l.default],setGuildFilter:function(e){u.default.setGuildFilter({guildFilter:e}),C(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{theme:c.default.theme,messages:d.default.getMentions(),hasMore:d.default.hasMore,loading:d.default.loading,guildFilter:d.default.guildFilter,roleFilter:d.default.roleFilter,everyoneFilter:d.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;C(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=_.default.Messages.NO_RECENT_MENTIONS,r=e===y.ThemeTypes.LIGHT?n(6620):n(6621);return I(h.default.EmptyStateBottom,{msg:t,image:r})},getProTip:function(){return _.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return a.createElement(N,O({},e,{channel:this.props.channel}))},fetchOnMount:function(e){d.default.hasLoadedEver||C(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>y.MAX_MENTIONS_PER_FETCH&&u.default.truncateMentions(y.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){u.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,r=e.hasMore;return I(h.default,{className:g.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:r,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===y.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=this.state.theme,t=_.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(t=_.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):t=_.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:t=_.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var n=null,r=this.state.guildFilter,a=e===y.ThemeTypes.LIGHT?y.Colors.PRIMARY_DARK:y.Colors.WHITE;return this.props.channel&&!this.props.channel.isPrivate()?n=I(p.Item,{id:y.RecentMentionsFilters.THIS_SERVER,className:g.default.tabBarItem,color:a},void 0,_.default.Messages.THIS_SERVER):r=y.RecentMentionsFilters.ALL_SERVERS,I(h.default.Header,{title:_.default.Messages.RECENT_MENTIONS,className:g.default.header},void 0,I("div",{className:g.default.headerTabBarWrapper},void 0,I(p.default,{selectedItem:r,onItemSelect:this.setGuildFilter,type:p.Types.TOP,className:g.default.tabBar},void 0,I(p.Item,{id:y.RecentMentionsFilters.ALL_SERVERS,className:g.default.tabBarItem,color:a},void 0,_.default.Messages.ALL_SERVERS),n),I(f.default,{render:this.renderDisplayPopout,position:f.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,I("div",{className:g.default.mentionFilter},void 0,I("div",{className:g.default.label},void 0,_.default.Messages.RECENT_MENTIONS_FILTER_LABEL),I("div",{className:g.default.value},void 0,t)))))}});t.default=A,e.exports=t.default},6618:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,r=e.everyoneFilter;a.default.dispatch({type:o.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:r})},truncateMentions:function(e){a.default.dirtyDispatch({type:o.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e,t,n,i,l){void 0===t&&(t=o.MAX_MENTIONS_PER_FETCH),void 0===n&&(n=null),void 0===i&&(i=!0),void 0===l&&(l=!0),a.default.dirtyDispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),r.default.get({url:o.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:i,everyone:l},retries:2}).then(function(t){var n=t.body;a.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=o.MAX_MENTIONS_PER_FETCH})},function(){a.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){r.default.delete({url:o.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),a.default.dispatch({type:o.ActionTypes.RECENT_MENTION_DELETE,id:e})}};t.default=l,e.exports=t.default},6619:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=m(n(6)),a=m(n(3)),o=m(n(21)),i=m(n(1)),l=m(n(318)),s=m(n(12)),u=m(n(20)),d=m(n(225)),c=m(n(85)),f=m(n(150)),p=m(n(35)),h=m(n(14)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g="recentMentionFilterSettings",E=[],S={},T=!1,O=!0,I=o.default.get(g,{guildFilter:v.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),C=!1,N=!1;function A(e){if(e instanceof l.default)return e;var t=d.default.getMessage(e.channel_id,e.id);return null!=t?t:l.default.create(e)}function M(e,t){if(void 0===t&&(t=null),e.type!==v.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=u.default.getChannel(t);if(!n||n&&n.type===v.ChannelTypes.DM)return null;if(I.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==f.default.getGuildId())return null;var r=e.author.id,a=s.default.getId();return c.default.isBlocked(r)||r===a?null:(e=A(e)).isMentioned(a,!I.everyoneFilter,!I.roleFilter)?e:null}function P(e){null!=S[e]&&(delete S[e],E=r.default.filter(E,function(t){return t.id!==e}))}function b(e){P(e.id)}function R(e){var t=_({},I);I=r.default.defaults(r.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),I),o.default.set(g,I);var n=function(e,n){return t[e]!==I[e]&&I[e]===n},a=n("guildFilter",v.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);S={};var i=[];a&&E.forEach(function(e){var t=M(e);t&&(i.push(t),S[t.id]=!0)}),0===(E=i).length&&(C=!1)}function L(){r.default.forEach(E,function(e){e.timestamp.locale(p.default.locale)})}function D(){E=E.filter(function(e){return!c.default.isBlocked(e.author.id)})}var w=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.waitFor(h.default,u.default,d.default)},l.isOpen=function(){return N},l.getMentions=function(){return C||E.length?E:null},a=r,(o=[{key:"hasLoadedEver",get:function(){return C}},{key:"loading",get:function(){return T}},{key:"hasMore",get:function(){return O}},{key:"guildFilter",get:function(){return I.guildFilter}},{key:"everyoneFilter",get:function(){return I.everyoneFilter}},{key:"roleFilter",get:function(){return I.roleFilter}}])&&y(a.prototype,o),i&&y(a,i),r}(a.default.Store))(i.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;T=!0,null==t&&I.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&R({guildFilter:v.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,a=e.isAfter,o=r.default.map(n,A);a?E=E.concat(o):(E=o,S={}),r.default.forEach(o,function(e){S[e.id]=!0}),T=!1,O=t,C=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){T=!1},SET_RECENT_MENTIONS_FILTER:R,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<E.length;++n)delete S[E[n].id];E=E.slice(0,t),O=!0},GUILD_SELECT:function(e){I.guildFilter===v.RecentMentionsFilters.THIS_SERVER&&(C=!1)},CONNECTION_OPEN:function(e){return E=[],S={},void(C=!1)},GUILD_DELETE:function(e){var t=e.guild;E=r.default.filter(E,function(e){var n=u.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete S[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=M(e.message,t);if(!n)return!1;(E=E.slice()).unshift(n),S[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=S[t]){var n=r.default.findIndex(E,function(e){return e.id===t}),a=(E=E.slice())[n];E[n]=a.updateMessage(e.message)}},MESSAGE_DELETE:b,RECENT_MENTION_DELETE:b,MESSAGE_DELETE_BULK:function(e){var t=e.ids;r.default.forEach(t,P)},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()},CHANNEL_DELETE:function(e){var t=e.channel;E=r.default.filter(E,function(e){return e.channel_id!==t.id||(delete S[e.id],!1)})},RELATIONSHIP_ADD:function(e){return D()},RELATIONSHIP_REMOVE:function(e){return D()},MENTION_MODAL_OPEN:function(e){N=!0},MENTION_MODAL_CLOSE:function(e){N=!1}});t.default=w,e.exports=t.default},6620:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},6621:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},6622:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(3)),i=h(n(77)),l=h(n(6623)),s=n(6025),u=n(6624),d=h(n(450)),c=n(0),f=h(n(13)),p=h(n(5375));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={memoizedMode:t.props.mode,clicked:!1},t.handleInstallDownload=function(){t.state.clicked||(t.setState({clicked:!0}),(0,u.quitAndInstall)())},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){return e.mode!==t.memoizedMode?{memoizedMode:e.mode,clicked:!1}:null};var a=r.prototype;return a.handleDownloadApps=function(){i.default.push(d.default,{source:"Links"})},a.render=function(){switch(this.props.mode){case c.ActionTypes.UPDATE_AVAILABLE:return v(s.Icon,{hideOnClick:!1,tooltip:f.default.Messages.UPDATE_AVAILABLE,foreground:p.default.downloadArrow,background:p.default.cloud,name:s.Icon.Names.NOVA_DOWNLOADING});case c.ActionTypes.UPDATE_MANUALLY:case c.ActionTypes.UPDATE_DOWNLOADED:return v(s.Icon,{tooltip:f.default.Messages.UPDATE_DOWNLOADED,foreground:p.default.updateIconForeground,onClick:this.handleInstallDownload,name:s.Icon.Names.NOVA_DOWNLOAD});case c.ActionTypes.UPDATE_NOT_AVAILABLE:case c.ActionTypes.UPDATE_ERROR:case c.ActionTypes.CHECKING_FOR_UPDATES:default:return null}},r}(a.Component);m.displayName="UpdateButton";var y=o.default.connectStores([l.default],function(){return{mode:l.default.getState()}})(m);t.default=y,e.exports=t.default},6623:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function l(e){i=e.type}var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getState=function(){return i},r}(r.default.Store))(a.default,{CHECKING_FOR_UPDATES:l,UPDATE_NOT_AVAILABLE:l,UPDATE_AVAILABLE:l,UPDATE_MANUALLY:l,UPDATE_ERROR:l,UPDATE_DOWNLOADED:l});t.default=s,e.exports=t.default},6624:function(e,t,n){"use strict";var r;t.__esModule=!0,t.checkForUpdates=function(e){void 0===e&&(e=!1);return a.checkForUpdates(e)},t.quitAndInstall=function(){a.quitAndInstall()};var a=new(((r=n(6625))&&r.__esModule?r:{default:r}).default)},6625:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(8)),a=l(n(1)),o=l(n(9)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=36e5,u=function(){function e(e){var t=this;void 0===e&&(e=s),this.updateAvailable=!1,this.hasNativeUpdate=!1,this._callbacks=[],this.checkForUpdates=function(e){return void 0===e&&(e=!1),!e&&t.updateAvailable||(o.default.embedded?o.default.send("CHECK_FOR_UPDATES"):t._handleNativeUpdateNotAvailable()),new Promise(function(e){t.updateAvailable?e(!0):t._callbacks.push(e)})},this._handleCheckingForUpdates=function(){a.default.dispatch({type:i.ActionTypes.CHECKING_FOR_UPDATES})},this._handleNativeUpdateNotAvailable=function(){t._handleCheckingForUpdates(),r.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(e){null!=e.body&&"68dc334f3b214a747babdefabb6b8c9543dfd590"!==e.body.hash&&e.body.required?t._handleUpdateDownloaded(!1):t._handleUpdateNotAvailable()},function(){return t._handleUpdateError()})},this._handleUpdateNotAvailable=function(){a.default.dispatch({type:i.ActionTypes.UPDATE_NOT_AVAILABLE}),t._emitCallbacks()},this._handleUpdateAvailable=function(e){t.updateAvailable=!0,t.hasNativeUpdate=e,a.default.dispatch({type:i.ActionTypes.UPDATE_AVAILABLE})},this._handleUpdateManually=function(){t.updateAvailable=!0,t.hasNativeUpdate=!0,a.default.dispatch({type:i.ActionTypes.UPDATE_MANUALLY})},this._handleUpdateError=function(e){t.updateAvailable=!1,a.default.dispatch({type:i.ActionTypes.UPDATE_ERROR,message:e})},this._handleUpdateDownloaded=function(e,n,r,o,l){t._handleUpdateAvailable(e),a.default.dispatch({type:i.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:n,releaseName:r,releaseDate:o,updateURL:l}),t._emitCallbacks()},o.default.embedded&&(o.default.on(i.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates),o.default.on(i.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable),o.default.on(i.ActionTypes.UPDATE_AVAILABLE,function(){return t._handleUpdateAvailable(!0)}),o.default.on(i.ActionTypes.UPDATE_ERROR,this._handleUpdateError),o.default.on(i.ActionTypes.UPDATE_DOWNLOADED,function(){return t._handleUpdateDownloaded(!0)}),o.default.on(i.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually)),this._checkInterval=setInterval(this.checkForUpdates,e)}var t=e.prototype;return t.destroy=function(){clearInterval(this._checkInterval)},t.quitAndInstall=function(){this.updateAvailable&&(this.hasNativeUpdate?o.default.send("QUIT_AND_INSTALL"):location.reload(!0))},t._emitCallbacks=function(){var e=this;this._callbacks.forEach(function(t){return t(e.updateAvailable)}),this._callbacks=[]},e}();t.default=u,e.exports=t.default},6626:function(e,t,n){"use strict";t.__esModule=!0,t.MODAL_CAROUSEL_PREV=t.MODAL_CAROUSEL_NEXT=t.CAROUSEL_PREV=t.CAROUSEL_NEXT=void 0;var r=l(n(844)),a=l(n(838)),o=n(106),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=function(){return a.default.hasModalOpen()||r.default.hasLayers()},u={binds:["right"],global:!0,action:function(){if(!s())return o.ComponentDispatch.dispatch(i.ComponentActions.CAROUSEL_NEXT),!1}};t.CAROUSEL_NEXT=u;var d={binds:["left"],global:!0,action:function(){if(!s())return o.ComponentDispatch.dispatch(i.ComponentActions.CAROUSEL_PREV),!1}};t.CAROUSEL_PREV=d;var c={binds:["right","down","space"],global:!0,action:function(){return o.ComponentDispatch.dispatch(i.ComponentActions.MODAL_CAROUSEL_NEXT),!1}};t.MODAL_CAROUSEL_NEXT=c;var f={binds:["left","up"],global:!0,action:function(){return o.ComponentDispatch.dispatch(i.ComponentActions.MODAL_CAROUSEL_PREV),!1}};t.MODAL_CAROUSEL_PREV=f},6627:function(e,t,n){"use strict";t.__esModule=!0,t.analyticsListProperties=D,t.default=void 0;var r,a,o,i,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),s=n(221),u=A(n(3)),d=n(78),c=n(6081),f=n(6088),p=A(n(5993)),h=(A(n(835)),A(n(855)),A(n(41))),v=A(n(86)),m=A(n(840)),y=A(n(6140)),_=A(n(176)),g=A(n(831)),E=A(n(18)),S=n(106),T=n(127),O=A(n(6040)),I=A(n(6907)),C=A(n(6908)),N=n(0);function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=200,R=1e3,L=Object.freeze(((r={})[N.StoreApplicationSort.REVERSE_ALPHABETICAL]="z-a",r[N.StoreApplicationSort.ALPHABETICAL]="a-z",r[N.StoreApplicationSort.NEW_RELEASES]="Newest",r[N.StoreApplicationSort.ID]="id",r));function D(e){var t=e.listIndex,n=e.listSort,r=e.listSearched;return{list_index:t,list_sort:null!=n?L[n]:null,list_searched:r}}var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).mouseoverTimeout=new d.Timeout,t.mouseoverAnalyticsTimeout=new d.Timeout,t.isUnmounted=!1,t.state={playing:!1,hasSeen:!1,isMouseOver:!1,showBuyInline:!1},t.getAnalyticsLocationForTile=function(e){var n=t.props.type;return P({},e,{object:N.AnalyticsObjects.CARD,objectType:n===N.StoreDirectoryTileTypes.PERK?N.AnalyticsObjectTypes.PERK:N.AnalyticsObjectTypes.BOX_ART})},t.handleSetTilePlaying=function(e){var n=e.skuId,r=t.props.sku;t.setState({playing:null!=r&&r.id===n})},t.handleMouseEnter=function(){var e=t.props,n=e.sku,r=e.type,a=e.analyticsContext,o=a.loadId,i=a.location,l=t.state,s=l.isMouseOver,u=l.playing;s||t.setState({isMouseOver:!0}),u||(null==n&&r!==N.StoreDirectoryTileTypes.PERK||t.mouseoverAnalyticsTimeout.start(R,function(){E.default.track(N.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,P({},null!=n?n.getAnalyticsData():{},D(t.props),{watch_trailer:!0,load_id:o,location:t.getAnalyticsLocationForTile(i)}))}),t.mouseoverTimeout.start(b,function(){if(!t.isUnmounted){var e=t.props.muted,r=null!=n?n.id:null;S.ComponentDispatch.dispatch(N.ComponentActions.STORE_VIDEO_PLAY,{skuId:r,muted:e}),t.setState({playing:!0})}}))},t.handleMouseLeave=function(){var e=t.state,n=e.isMouseOver,r=e.playing;if(t.mouseoverTimeout.stop(),t.mouseoverAnalyticsTimeout.stop(),!t.isUnmounted){var a=null;n&&(a={isMouseOver:!1}),r&&(a=P({},a,{playing:!1})),null!=a&&t.setState(a)}},t.handleToggleMute=function(){var e=t.props,n=e.sku,r=e.analyticsContext,a=r.loadId,o=r.location;null!=n&&E.default.track(N.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,P({},n.getAnalyticsData(),D(t.props),{audio_enabled:t.props.muted,load_id:a,location:t.getAnalyticsLocationForTile(o)})),t.props.muted?(null!=n&&S.ComponentDispatch.dispatch(N.ComponentActions.STORE_VIDEO_PLAY,{skuId:n.id,muted:!1}),(0,f.unmuteStoreDirectory)()):(0,f.muteStoreDirectory)()},t.handleVisibilityChange=function(e){if(!t.state.hasSeen&&e){t.setState({hasSeen:e});var n=t.props,r=n.onSKUViewed,a=n.sku;null!=r&&null!=a&&r(a)}},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.sku;null!=a&&null!=r&&r(e,a.applicationId)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){this.isUnmounted=!0,this.mouseoverTimeout.stop(),this.mouseoverAnalyticsTimeout.stop(),S.ComponentDispatch.unsubscribe(N.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},a.componentDidUpdate=function(e,t){var n=this.state.playing;!t.playing&&n&&S.ComponentDispatch.subscribe(N.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying),!n&&t.playing&&S.ComponentDispatch.unsubscribe(N.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},a.getStoreListingLocation=function(){var e=this.props,t=e.sku,n=e.analyticsContext.location;if(null==t)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,T.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:this.getAnalyticsLocationForTile(n),analyticsProperties:D(this.props)})},a.renderTile=function(){var e=this.props,t=e.type,n=e.sku,r=e.skuId,a=e.storeListing,o=e.muted,i=e.inLibrary,u=e.showBuyInline,d=e.listIndex,c=e.tileData,f=e.className,p=e.analyticsContext,h=this.state,v=h.hasSeen,m=h.playing,y=h.isMouseOver,_={onToggleMute:this.handleToggleMute,playing:m,muted:o,showMediaPlaceholder:!v,isMouseOver:y};if(t===N.StoreDirectoryTileTypes.PERK){if(null==c)throw new Error("Unexpected missing tileData");return M("div",{className:f,onContextMenu:this.handleContextMenu},void 0,l.createElement(C.default,P({tileData:c,index:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,analyticsContext:p},_)))}if(null==n)throw new Error("Should not be rendering ApplicationDirectoryTile without SKU: "+(r||""));if(null==a)throw new Error("Should not be rendering ApplicationDirectoryTile without StoreListing");return M("div",{className:f,onContextMenu:this.handleContextMenu},void 0,M(s.Link,{to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,l.createElement(I.default,P({},_,{sku:n,storeListing:a,inLibrary:i,showBuyInline:u}))))},a.render=function(){return M(c.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!this.state.hasSeen},void 0,this.renderTile())},r}(l.PureComponent);w.displayName="ApplicationDirectoryTile";var U=u.default.connectStores([_.default,y.default,v.default,h.default,g.default],function(e){var t=e.skuId,n=null!=t?_.default.get(t):null;return{sku:n,inLibrary:null!=n&&v.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?g.default.getForSKU(n.id):null,muted:y.default.isDirectoryMuted}})((0,p.default)(w)),k=(0,O.default)((0,m.default)(N.Experiments.STORE_DIRECTORY_BUY_INLINE,"Store Directory Buy Inline"),((o={})[N.ExperimentTypes.NONE]=function(e){return l.createElement(U,e)},o[N.ExperimentTypes.USER]=((a={})[N.ExperimentBuckets.CONTROL]=function(e){return l.createElement(U,e)},a[N.ExperimentBuckets.TREATMENT_1]=function(e){return l.createElement(U,P({},e,{showBuyInline:!0}))},a),o));t.default=k},6628:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(3)),i=n(315),l=y(n(5993)),s=(y(n(835)),y(n(41))),u=y(n(6197)),d=y(n(176)),c=y(n(6099)),f=y(n(44)),p=y(n(6029)),h=n(0),v=y(n(13)),m=y(n(5538));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=[{id:h.Routes.APPLICATION_STORE,label:v.default.Messages.PREMIUM},{id:h.Routes.APPLICATION_STORE_BROWSE,label:v.default.Messages.APPLICATION_STORE_BROWSE}],E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.sku;f.default.transitionTo(e.id,{state:{analyticsSource:{object:h.AnalyticsObjects.NAVIGATION_LINK,section:h.AnalyticsSections.NAVIGATION,page:null==n?h.AnalyticsPages.STORE_DIRECTORY_BROWSE:h.AnalyticsPages.STORE_LISTING}}})},t.renderCustomBreadcrumb=function(e,t){return _(p.default.Title,{className:t?null:m.default.breadcrumb,muted:!t},void 0,e.label)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.sku,n=e.primarySkuId,r=e.isFetchingPrimarySku;null==n||r||null==t||(0,i.fetchSKU)(t.applicationId,n)},a.render=function(){var e=this.props,t=e.sku,n=e.primarySku,r=[].concat(g),a=h.Routes.APPLICATION_STORE_BROWSE;if(null!=t){var o=h.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug);a=o,null!=n&&r.push({id:h.Routes.APPLICATION_STORE_LISTING_SKU(n.id,n.slug),label:n.name}),r.push({id:o,label:t.name})}return _(c.default,{renderCustomBreadcrumb:this.renderCustomBreadcrumb,onBreadcrumbClick:this.handleClick,breadcrumbs:r,activeId:a})},r}(a.PureComponent);E.displayName="StoreBreadcrumbs";var S=o.default.connectStores([d.default,u.default,s.default],function(e){var t=e.sku,n=null!=t?s.default.getGame(t.applicationId):null,r=null!=n&&null!=n.primarySkuId&&n.primarySkuId!==t.id?n.primarySkuId:null;return{sku:t,primarySkuId:r,isFetchingPrimarySku:null!=r&&d.default.isFetching(r),primarySku:null!=r?d.default.get(r):null}})((0,l.default)(E));t.default=S,e.exports=t.default},6629:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=n(96),l=f(n(303)),s=f(n(6011)),u=f(n(6469)),d=f(n(219)),c=f(n(5542));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v={tension:7,friction:5,overshootClamping:!0},m=function(e){var t=e.onClick,n=e.className;return h(d.default,{className:(0,o.default)(c.default.scrollerButton,n),onClick:t},void 0,h(u.default,{className:c.default.scrollerButtonArrow,direction:u.default.Directions.RIGHT}))};m.displayName="ScrollerButton";var y=Object.freeze({LEFT:0,RIGHT:1}),_=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={tileIndex:0,prevWidth:t.props.width,lastArrowDirection:y.LEFT,scrollerWidth:0,mouseOver:!1},t.scrollerRef=a.createRef(),t.animatedValue=new l.default.Value(0),t.handleMouseEnter=function(){t.setState({mouseOver:!0})},t.handleMouseLeave=function(){t.setState({mouseOver:!1})},t.prev=function(){t.setState({tileIndex:t.state.lastArrowDirection===y.LEFT?Math.max(t.state.tileIndex-1,0):t.state.tileIndex,lastArrowDirection:y.LEFT})},t.next=function(){t.setState({tileIndex:t.state.lastArrowDirection===y.RIGHT?Math.min(t.state.tileIndex+1,t.getMaxIndex()):t.state.tileIndex,lastArrowDirection:y.RIGHT})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){return t.prevWidth!==e.width?{tileIndex:0,prevWidth:e.width,lastArrowDirection:y.LEFT}:null};var s=r.prototype;return s.getMaxOffset=function(){var e=this.props.width,t=this.state.scrollerWidth;return Math.max(t-e,0)},s.getSideOffset=function(){var e=this.props,t=e.tileWidth,n=e.tileMargin,r=this.getMaxOffset(),a=t+n;return r-Math.floor(r/a)*a},s.getMaxIndex=function(){var e=this.props,t=e.tileWidth,n=e.tileMargin;return Math.floor(this.getMaxOffset()/(t+n))},s.getOffset=function(e,t){var n=this.props,r=n.tileWidth,a=n.tileMargin;return Math.min(e*(r+a)+(t===y.RIGHT?this.getSideOffset():0),this.getMaxOffset())},s.componentDidMount=function(){var e=(0,i.findDOMNode)(this.scrollerRef.current);e instanceof HTMLElement&&this.setState({scrollerWidth:e.offsetWidth})},s.componentDidUpdate=function(e,t){t.tileIndex===this.state.tileIndex&&t.lastArrowDirection===this.state.lastArrowDirection||l.default.spring(this.animatedValue,p({},v,{toValue:this.getOffset(this.state.tileIndex,this.state.lastArrowDirection)})).start()},s.render=function(){var e,t,n=this.state,r=n.tileIndex,i=n.mouseOver,s=n.lastArrowDirection,u=this.getMaxOffset(),d=u>0;return h("div",{className:c.default.container,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,h(l.default.div,{className:c.default.scroller,style:{transform:[{translateX:this.animatedValue.interpolate({inputRange:[0,1],outputRange:["0px","-1px"]})}]}},void 0,a.createElement("div",{className:c.default.scroller,ref:this.scrollerRef},this.props.children)),d?h(a.Fragment,{},void 0,h(l.default.div,{className:c.default.gradientOverlayLeft,style:{opacity:this.animatedValue.interpolate({inputRange:[0,50],outputRange:[0,1],extrapolate:"clamp"})}}),h(l.default.div,{className:c.default.gradientOverlayRight,style:{opacity:this.animatedValue.interpolate({inputRange:[u-50,u],outputRange:[1,0],extrapolate:"clamp"})}})):null,d?h(a.Fragment,{},void 0,h(m,{onClick:this.prev,className:(0,o.default)(c.default.arrowLeft,(e={},e[c.default.arrowDisabled]=0===r&&s===y.LEFT,e[c.default.arrowHidden]=!i,e))}),h(m,{onClick:this.next,className:(0,o.default)(c.default.arrowRight,(t={},t[c.default.arrowDisabled]=r===this.getMaxIndex()&&s===y.RIGHT,t[c.default.arrowHidden]=!i,t))})):null)},r}(a.Component);_.displayName="ApplicationStoreTileScroller";var g=(0,s.default)(_);t.default=g,e.exports=t.default},6630:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i,l,s;function u(){l={},i={},s=new Set}u();var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getStatisticsForApplication=function(e){return i[e]},a.shouldFetchStatisticsForApplication=function(e){var t=l[e];return!s.has(e)&&(null==t||Date.now()-t>36e5)},r}(r.default.Store))(a.default,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){var t=e.applicationId;s.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){var t=e.applicationId;s.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){var t=e.statistics,n=e.applicationId;l[n]=Date.now(),s.delete(n),i[n]=t},LOGOUT:function(e){return u()}});t.default=d,e.exports=t.default},6631:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(4)),i=n(6001),l=n(233),s=c(n(305)),u=c(n(148)),d=c(n(5556));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getCoverImageURL=function(){var e=this.props,t=e.game,n=e.news.thumbnail;return null!=n&&null!=n.proxy_url?(0,l.getSizedImageSrc)(n.proxy_url,700,210,"png"):t.getSplashURL(700)},a.getCoverImageURLStyle=function(){var e=this.getCoverImageURL();return null!=e?{backgroundImage:"url("+e+")"}:null},a.getTimestamp=function(){var e=this.props.news;return null!=e.timestamp?(0,i.dateFormat)((0,o.default)(e.timestamp),"LL"):null},a.renderOpenBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=this.getTimestamp();return f(u.default,{className:d.default.openWrap},void 0,f("div",{className:d.default.openBody},void 0,null!=n?f("div",{className:d.default.openTimestamp},void 0,n):null,f("div",{className:d.default.openTitle},void 0,e.title),f("div",{className:d.default.openDescription},void 0,e.description)),f("div",{className:d.default.openImage,style:t}))},a.renderCollapsedBody=function(){var e=this.props.news,t=this.getCoverImageURLStyle(),n=null!=e.timestamp?(0,i.dateFormat)((0,o.default)(e.timestamp),"LL"):null;return f(u.default,{className:d.default.collapsedWrap},void 0,f("div",{className:d.default.collapsedImage,style:t}),f(u.default,{className:d.default.collapsedBody,direction:u.default.Direction.VERTICAL,justify:u.default.Justify.CENTER,style:{margin:16}},void 0,null!=n?f("div",{className:d.default.collapsedTimestamp},void 0,n):null,f("div",{className:d.default.collapsedTitle},void 0,e.title)))},a.render=function(){var e=this.props,t=e.collapsed,n=e.news;return f(s.default,{href:n.url,target:"_blank",className:d.default.item},void 0,t?this.renderCollapsedBody():this.renderOpenBody())},r}(a.PureComponent);t.default=p,p.displayName="ApplicationNewsItem",e.exports=t.default},6632:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ItemSizes=void 0;var r,a=g(n(2)),o=_(n(17)),i=_(n(303)),l=_(n(6011)),s=g(n(6147)),u=g(n(6934)),d=_(n(219)),c=n(6066),f=_(n(6142)),p=_(n(6082)),h=_(n(6089)),v=n(106),m=n(0),y=_(n(5560));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(){var e=function(e,t){t||(t=e.slice(0));return e.raw=t,e}(["grayscale(",")"]);return E=function(){return e},e}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O={top:85,left:85,bottom:85,right:85},I={SMALL:{width:640,height:360,margin:15},MEDIUM:{width:880,height:495,margin:20}};t.ItemSizes=I;var C={width:1920,height:1080},N={width:1280,height:720},A=function(e){var t,n,r=e.item,a=e.size,o=e.onPlay,i=e.onEnded,l=e.onClick,s=e.playable,u=e.volume,f=e.isMuted,h=e.onVolumeChange,v=e.onMute;if(r.type===m.CarouselMediaTypes.YOUTUBE_VIDEO)t=T({url:(0,m.YOUTUBE_PREVIEW_URL)(r.youtubeVideoId)},C),n=T({url:(0,m.YOUTUBE_EMBED_URL)(r.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},N);else{var _=null!=r.width?r.width:0,g=null!=r.height?r.height:0;t={url:r.thumbnailSrc,width:_,height:g},n={url:r.src,proxyURL:r.src,width:_,height:g}}var E=S(c.EmbedVideo,{href:null,thumbnail:t,video:n,allowFullScreen:!0,VideoComponent:p.default,maxHeight:a.height,maxWidth:a.width,onPlay:o,onEnded:i,playable:s,className:y.default.video,volume:u,onVolumeChange:h,autoMute:f,onMute:v,autoPlay:!0});return s?E:S(d.default,{onClick:l},void 0,E)},M=function(){return S("div",{className:y.default.paginationVideoOverlay},void 0,S(h.default,{inactive:!0,className:y.default.paginationVideoPlayPill}))};M.displayName="VideoOverlay";var P=S(M,{}),b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={currentIndex:0,animate:!0,playingVideo:!1,hasInteracted:!1,hoveringPreviousItem:!1,hoveringNextItem:!1,volume:1,isMuted:!0},t.getItemSize=function(){var e=t.props.width,n=I.MEDIUM;return null!=e&&e<n.width&&(n=I.SMALL),n},t.setItem=function(e,n){var r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),a=r.props,o=a.items,i=a.onIntentionalChange,l=r.state,s=l.currentIndex,d=l.hasInteracted,c=(0,u.normalizeIndex)(s,o.length),f=(0,u.normalizeIndex)(e,o.length),p=1===Math.abs(e-c)||e===o.length-1&&0===c||0===e&&c===o.length-1;n&&(d=!0),t.setState({playingVideo:!1,currentIndex:f,animate:p,hasInteracted:d}),n&&null!=i&&i(o[f],c,f)},t.autoNext=function(){t.setItem(t.state.currentIndex+1,!1)},t.manualNext=function(){t.setItem(t.state.currentIndex+1,!0)},t.manualPrevious=function(){t.setItem(t.state.currentIndex-1,!0)},t.handlePlay=function(e){return t.setState({playingVideo:!0,hasInteracted:!e})},t.handleEnded=function(){t.state.hasInteracted||t.autoNext()},t.handleVolumeChange=function(e){t.setState({volume:e,hasInteracted:!0})},t.handleMute=function(e){t.setState({isMuted:e,hasInteracted:!0})},t.handleVideoClick=function(e){t.setItem(e,!0)},t.handleEdgeItemMouseLeave=function(){t.setState({hoveringPreviousItem:!1,hoveringNextItem:!1})},t.renderCarouselImage=function(e,n,r){return r?S(d.default,{onClick:function(){return t.handleCurrentItemClick(e,n)},className:y.default.itemImageWrapper},void 0,S("img",{src:e.src,alt:"",className:y.default.currentImage})):S(d.default,{onClick:function(){return t.setItem(n,!0)},className:y.default.itemImageWrapper},void 0,S("img",{alt:"",className:y.default.itemImage,src:e.src,draggable:!1}))},t.renderItem=function(e,n,r){var a,l=t.state,s=l.currentIndex,d=l.volume,c=l.isMuted,f=n===(0,u.normalizeIndex)(s,t.props.items.length);return S(i.default.div,{className:(0,o.default)(y.default.item,(a={},a[y.default.currentItem]=f,a)),style:null!=r?t.getStyle(n,r):null,onMouseEnter:f?null:function(){return t.handleEdgeItemMouseEnter(n)},onMouseLeave:f?null:t.handleEdgeItemMouseLeave},void 0,e.type===m.CarouselMediaTypes.VIDEO||e.type===m.CarouselMediaTypes.YOUTUBE_VIDEO?S(A,{item:e,size:t.getItemSize(),onPlay:t.handlePlay,onEnded:t.handleEnded,playable:f,onClick:function(){return t.handleVideoClick(n)},volume:d,onVolumeChange:t.handleVolumeChange,isMuted:c,onMute:t.handleMute}):t.renderCarouselImage(e,n,f))},t.renderPaginationItem=function(e,n){var r=t.state.currentIndex===n;return S("div",{className:(0,o.default)(y.default.paginationItem,r?y.default.selectedStorePaginationItem:y.default.unselectedStorePaginationItem)},"page-"+n,S("img",{alt:null==e.alt?n:e.alt,className:y.default.storePaginationImg,src:t.getPaginationSrc(e),draggable:!1}),e.type===m.CarouselMediaTypes.YOUTUBE_VIDEO||e.type===m.CarouselMediaTypes.VIDEO?P:null,r?S("div",{className:y.default.overlappingBorder}):null)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){v.ComponentDispatch.subscribe(m.ComponentActions.CAROUSEL_PREV,this.manualPrevious),v.ComponentDispatch.subscribe(m.ComponentActions.CAROUSEL_NEXT,this.manualNext)},a.componentWillUnmount=function(){v.ComponentDispatch.unsubscribe(m.ComponentActions.CAROUSEL_PREV,this.manualPrevious),v.ComponentDispatch.unsubscribe(m.ComponentActions.CAROUSEL_NEXT,this.manualNext)},a.getStyle=function(e,t){var n=t.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:i.default.Extrapolate.CLAMP});return{opacity:t.interpolate({inputRange:[0,1],outputRange:[.3,1],extrapolate:i.default.Extrapolate.CLAMP}),filter:i.default.template(E(),n)}},a.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},a.handleEdgeItemMouseEnter=function(e){var t=this.state.currentIndex;e<t?this.setState({hoveringPreviousItem:!0}):e>t&&this.setState({hoveringNextItem:!0})},a.renderCarousel=function(){var e,t,n=this.props.items,r=this.state,a=r.currentIndex,i=r.animate,l=r.hoveringPreviousItem,d=r.hoveringNextItem,c=S(u.default,{items:n,itemSize:this.getItemSize(),renderItem:this.renderItem,currentIndex:a,animate:i,edgeItems:2});return n.length<=1?c:S("div",{className:y.default.carouselButtonsContainer},void 0,c,S(s.CarouselPrevious,{onClick:this.manualPrevious,className:(0,o.default)(y.default.arrow,(e={},e[y.default.arrowHovered]=l,e))}),S(s.CarouselNext,{onClick:this.manualNext,className:(0,o.default)(y.default.arrow,(t={},t[y.default.arrowHovered]=d,t))}))},a.getPaginationSrc=function(e){return e.type===m.CarouselMediaTypes.YOUTUBE_VIDEO?(0,m.YOUTUBE_PREVIEW_URL)(e.youtubeVideoId):e.type===m.CarouselMediaTypes.IMG?e.src:e.type===m.CarouselMediaTypes.VIDEO?e.thumbnailSrc:null},a.render=function(){var e=this,t=this.props,n=t.items,r=t.className,a=t.autoplayInterval,o=t.paused,i=this.state,l=i.currentIndex,u=i.playingVideo,d=i.hasInteracted;return S(f.default,{pauseOnHover:!0,onInterval:this.autoNext,interval:a,className:r,disable:u||d||o},void 0,this.renderCarousel(),S("div",{className:y.default.pagination},void 0,S(s.default,{renderItem:this.renderPaginationItem,scrollToPadding:O,items:n,selectedIndex:l,onSetItem:function(t){return e.setItem(t,!0)},paginationContainerClass:y.default.scroller,gutterStyle:s.default.Gutter.STORE,align:n.length<6?s.default.Align.LEFT:s.default.Align.CENTER})))},r}(a.PureComponent);b.displayName="MediaCarousel",b.defaultProps={autoplayInterval:8e3,paused:!1};var R=(0,l.default)(b);t.default=R},6633:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MessageStyles=void 0;var r,a=f(n(2)),o=c(n(153)),i=c(n(3)),l=c(n(1)),s=f(n(315)),u=c(n(6210)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var p=(0,o.default)({SHORT:null,LONG:null});t.MessageStyles=p;var h=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getText=function(e,t){if(429===e.status)switch(t){case p.SHORT:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR_SHORT;case p.LONG:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_RATE_LIMIT_ERROR}switch(t){case p.SHORT:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR_SHORT;case p.LONG:return d.default.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR}},o.componentWillUnmount=function(){this.props.purchaseError&&l.default.wait(function(){return s.clearPurchaseError()})},o.render=function(){var e=this.props,t=e.className,n=e.purchaseError,a=e.messageStyle;return null==n?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:t},void 0,this.getText(n,a))},a}(a.PureComponent);h.displayName="ApplicationStorePurchaseError",h.defaultProps={messageStyle:p.LONG};var v=i.default.connectStores([u.default],function(){return{purchaseError:u.default.error}})(h);t.default=v},6634:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=n(6001),l=n(6635),s=p(n(305)),u=p(n(301)),d=n(0),c=p(n(13)),f=p(n(5570));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.iconName,n=e.className;return h("div",{className:(0,o.default)(f.default.iconCircle,n)},void 0,h(u.default,{name:t,className:f.default.icon}))};v.displayName="IconCircle";var m=function(e){var t=e.circle,n=e.smallHeader,r=e.text,a=e.className;return h("div",{className:(0,o.default)(f.default.recommendationReason,a)},void 0,t,h("div",{className:f.default.description},void 0,null!=n?h("div",{className:f.default.smallHeader},void 0,n):null,h("div",{className:f.default.text},void 0,r)))};m.displayName="Unit";var y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderReviewAggregator=function(e){var t=this.props.className,n=(0,l.getRatingTier)(e);return null==n?null:h(m,{circle:null!=e.url?h(s.default,{href:e.url,useDefaultUnderlineStyles:!1,className:(0,o.default)(f.default.reviewCircle,f.default.circleAnchor),style:{backgroundColor:n.color}},void 0,e.criticScore):h("div",{className:f.default.reviewCircle,style:{backgroundColor:n.color}},void 0,e.criticScore),smallHeader:c.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC,text:n.label,className:t})},a.render=function(){var e=this.props,t=e.reason,n=e.className;return t.type===d.StoreRecommendationTypes.RECENT_RELEASE_DATE?h(m,{className:n,circle:h(v,{iconName:u.default.Names.CALENDAR}),smallHeader:c.default.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,i.dateFormat)(t.releaseDate,"LL")}):t.type===d.StoreRecommendationTypes.RELEASE_DATE?h(m,{className:n,circle:h(v,{iconName:u.default.Names.CALENDAR}),smallHeader:c.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,i.dateFormat)(t.releaseDate,"LL")}):t.type===d.StoreRecommendationTypes.EARLY_ACCESS?null!=t.releaseDate?h(m,{className:n,circle:h(v,{iconName:u.default.Names.EARLY_ACCESS,className:f.default.earlyAccess}),smallHeader:c.default.Messages.APPLICATION_STORE_EARLY_ACCESS,text:(0,i.dateFormat)(t.releaseDate,"LL")}):h(m,{className:n,circle:h(v,{iconName:u.default.Names.EARLY_ACCESS,className:f.default.earlyAccess}),text:c.default.Messages.APPLICATION_STORE_EARLY_ACCESS}):t.type===d.StoreRecommendationTypes.METACRITIC_SCORE?this.renderReviewAggregator(t.reviewAggregator):t.type===d.StoreRecommendationTypes.FLAVOR_TEXT?h(m,{circle:h(v,{iconName:u.default.Names.CHECKMARK}),text:t.flavorText,className:n}):t.type===d.StoreRecommendationTypes.HAS_FREE_PREMIUM_CONTENT?h(m,{className:n,circle:h(v,{iconName:u.default.Names.NITRO_WHEEL,className:f.default.premiumCircle}),text:c.default.Messages.APPLICATION_STORE_FREE_PREMIUM_CONTENT}):null},r}(a.Component);t.default=y,y.displayName="StoreRecommendationReason",e.exports=t.default},6635:function(e,t,n){"use strict";t.__esModule=!0,t.getRatingTier=function(e){var t=u[e.aggregator];if(null==t)return null;if(e.aggregator===o.ReviewAggregators.METACRITIC&&e.criticTotalRatings<l)return null;return t.find(function(t){return t.minimumScore<=e.criticScore})};var r,a,o=n(0),i=(r=n(13))&&r.__esModule?r:{default:r};var l=4;function s(e,t,n){return{minimumScore:e,color:t,get label(){return n()}}}var u=((a={})[o.ReviewAggregators.METACRITIC]=[s(90,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_UNIVERSAL_ACCLAIM}),s(75,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_FAVORABLE}),s(50,"#fc3",function(){return i.default.Messages.METACRITIC_VERDICT_MIXED_OR_AVERAGE}),s(20,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_UNFAVORABLE}),s(0,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_OVERWHELMING_DISLIKE})],a)},6636:function(e,t,n){"use strict";t.__esModule=!0,t.setHomeLink=function(e){a.default.dirtyDispatch({type:o.ActionTypes.APP_VIEW_SET_HOME_LINK,link:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},6637:function(e,t,n){e.exports=n.p+"712a0fd4d14a1caadd31cb0745e91238.svg"},6638:function(e,t,n){e.exports=n.p+"857c505aafbe092e4f6efecebcad0bc8.svg"},6639:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(78);var o=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._interval=new a.Interval,n.update=function(){var e=n.props,t=e.onUpdate,r=e.numUpdatesToShow,a=e.pointsToSmooth,o=e.updateInterval,i=n.props.getHistoricalTotalBytes(),l=null!=i[0]?i[0].bytes:0,s=[].concat(n.state.deltaBytes.slice(1,r+a),[l-n.state.lastTotalBytes]);n.setState({deltaBytes:s,smoothedDeltaBytes:n.smoothDeltaBytes(s),lastTotalBytes:l},function(){return null!=t&&t(o)})};var r=n.props.getHistoricalTotalBytes(),o=n.calculateInitialDeltaBytes(r);return n.state={deltaBytes:o,smoothedDeltaBytes:n.smoothDeltaBytes(o),lastTotalBytes:null!=r[0]?r[0].bytes:0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.update(),this._interval.start(this.props.updateInterval,this.update)},o.componentWillUnmount=function(){this._interval.stop()},o.calculateInitialDeltaBytes=function(e){for(var t=this.props,n=t.numUpdatesToShow,r=t.updateInterval,a=t.pointsToSmooth,o=Date.now(),i=0,l=0,s=[],u=null!=e[0]?e[0].bytes:0;i<n+a;i++){for(var d=o-(i+1)*r,c=void 0;l<e.length&&(c=e[l]).timestamp>d;)l++;if(l===e.length)break;null!=c&&(s.push(u-c.bytes),u=c.bytes)}for(;i<n+a;i++)s.push(0);return s.reverse(),s},o.smoothDeltaBytes=function(e){for(var t=this.props.pointsToSmooth,n=[],r=0;r<e.length-t;r++){for(var a=0,o=0;o<t;o++)a+=e[r+o];n.push(a/t)}return n},o.render=function(){var e=this.props,t=e.numUpdatesToShow,n=e.updateInterval;return(0,e.children)(this.state.smoothedDeltaBytes,n,t)},r}(r.Component);o.displayName="ByteProgressSmoother",o.defaultProps={numUpdatesToShow:30,updateInterval:500,pointsToSmooth:10};var i=o;t.default=i,e.exports=t.default},6640:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=v(n(3)),i=n(56),l=v(n(1)),s=v(n(131)),u=v(n(483)),d=v(n(57)),c=v(n(472)),f=v(n(46)),p=v(n(890)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function m(){return!0}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,c.default),this.syncWith([d.default],m)},a.getExperimentId=function(){return h.Experiments.GUILD_VIDEO},a.getMetaData=function(){return{title:"Guild Video",description:["Treatment 1: Enable guild video."]}},a.getExperimentDescriptor=function(e){return d.default.getOverrideExperimentDescriptor(this.getExperimentId())||(null!=e?p.default.getExperimentAssignment(e,this.getExperimentId()):null)},a.isAvailable=function(e){if(!f.default.supports(i.Features.VIDEO))return!1;if("343128759773298700"===e)return!1;var t=this.getExperimentDescriptor(e),n=c.default.getMemberCount(e)||0;return null==t||t.bucket===h.ExperimentBuckets.NOT_ELIGIBLE||n>50?u.default.isDeveloper:(s.default.trigger(t),t.bucket===h.ExperimentBuckets.TREATMENT_1)},r}(o.default.Store))(l.default,{CONNECTION_OPEN:function(e){return!0},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0}});s.default.register(y,((a={})[h.ExperimentTypes.USER]=((r={})[h.ExperimentBuckets.CONTROL]=function(){return null},r[h.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var _=y;t.default=_,e.exports=t.default},6641:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={open:function(e){a.default.dispatch({type:o.ActionTypes.PRIVACY_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:o.ActionTypes.PRIVACY_SETTINGS_MODAL_CLOSE})}};t.default=i,e.exports=t.default},6642:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=n(229),o=d(n(3)),i=d(n(1)),l=d(n(898)),s=d(n(5997)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p,h=new Set,v=u.FormStates.CLOSED,m=!1,y=!1,_=[],g=[];function E(){return null==p||null==_?[]:l.default.calculatePositionDeltas(r.default.values(p.roles),_,function(e){return e.id},function(e){return e.originalPosition||1/0},!1)}function S(e){var t=e.section;if(null!=p||t!==u.GuildSettingsSections.ROLES)return!1;T()}function T(){p=s.default.getProps().guild,m=!1,y=!1,h.clear(),v=u.FormStates.OPEN,_=null!=p?(0,r.default)(p.roles).values().value():[],g=[].concat(_)}var O=r.default.debounce(function(){var e=!1;y&&((y=E().length>0)||(e=!0)),h.forEach(function(t){r.default.isEqual(C(t),function(e){return g.find(function(t){var n=t.id;return n===e})}(t))&&(h.delete(t),e=!0)}),0===h.size&&(m=!1),e&&A.emitChange()},500);function I(e,t){var n=_.indexOf(e);if(n<0)return!1;var r=f({},e,t);_[n]=r,_=[].concat(_),m=!0,h.add(r.id),O(r)}function C(e){return _.find(function(t){return t.id===e})}function N(e){var t=e.guildId;if(null==p||t!==p.id||v===u.FormStates.SUBMITTING)return!1;var n=[];null!=(p=s.default.getProps().guild)&&(n=(0,r.default)(p.roles).values().value()),h.forEach(function(e){var t=C(e),r=-1;null==n.find(function(t,n){if(t.id===e)return r=n,!0})||null==t?h.delete(e):n[r]=t}),0===h.size&&(m=!1),y=!1,_=[].concat(n)}var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.waitFor(s.default)},l.hasChanges=function(){return m||y},l.getSortDeltas=function(){return E()},l.showNotice=function(){return this.hasChanges()},l.getRole=function(e){return C(e)},a=r,(o=[{key:"hasSortChanges",get:function(){return y}},{key:"guild",get:function(){return p}},{key:"editedRoleIds",get:function(){return Array.from(h)}},{key:"roles",get:function(){return _}},{key:"formState",get:function(){return v}}])&&c(a.prototype,o),i&&c(a,i),r}(o.default.Store))(i.default,__OVERLAY__?{}:{GUILD_SETTINGS_ROLES_INIT:function(e){return T()},GUILD_SETTINGS_INIT:S,GUILD_SETTINGS_SET_SECTION:S,GUILD_SETTINGS_ROLES_SORT_UPDATE:function(e){var t=e.roles;if(null!=_&&t.length!==_.length)return!1;_=t.map(function(e){return C(e)}),y=!0,O()},GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS:function(e){var t=e.id,n=e.flag,r=e.allow,a=C(t);if(null==a)return!1;var o=a.permissions;return r?o|=n:o^=o&n,I(a,{permissions:o})},GUILD_SETTINGS_ROLES_UPDATE_NAME:function(e){var t=e.id,n=e.name,r=C(t);return null!=r&&I(r,{name:n})},GUILD_SETTINGS_ROLES_UPDATE_COLOR:function(e){var t=e.id,n=e.color,r=0===n?null:(0,a.int2hex)(n),o=C(t);return null!=o&&I(o,{color:n,colorString:r})},GUILD_SETTINGS_ROLES_UPDATE_SETTINGS:function(e){var t=e.id,n=e.hoist,r=e.mentionable,a=C(t);return null!=a&&I(a,{hoist:n,mentionable:r})},GUILD_SETTINGS_CLOSE:function(e){return p=null,g=_=[],h.clear(),m=!1,y=!1,void(v=u.FormStates.CLOSED)},GUILD_ROLE_CREATE:N,GUILD_ROLE_UPDATE:N,GUILD_ROLE_DELETE:N,GUILD_SETTINGS_ROLES_SUBMITTING:function(e){v=u.FormStates.SUBMITTING},GUILD_SETTINGS_ROLES_SAVE_SUCCESS:function(e){T()}}),M=A;t.default=M,e.exports=t.default},6643:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=null,s=null,u=!1;var d=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,d,c=r.prototype;return c.showNotice=function(){return l!==s},c.hasError=function(){return u},a=r,(o=[{key:"vanityURLCode",get:function(){return l}},{key:"originalVanityURLCode",get:function(){return s}}])&&i(a.prototype,o),d&&i(a,d),r}(r.default.Store))(a.default,{GUILD_SETTINGS_SET_VANITY_URL:function(e){s=l=e.code||"",u=!1},GUILD_SETTINGS_VANITY_URL_CLOSE:function(e){return s=l=null,void(u=!1)},GUILD_SETTINGS_VANITY_URL_RESET:function(e){l=s},GUILD_SETTINGS_VANITY_URL_SET:function(e){l=e.code},GUILD_SETTINGS_VANITY_URL_ERROR:function(e){u=!0}});t.default=d,e.exports=t.default},6644:function(e,t,n){"use strict";t.__esModule=!0,t.getChangeTitle=function(e){switch(e.action){case h.AuditLogActions.GUILD_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_UPDATE;case h.AuditLogActions.CHANNEL_CREATE:var t=e.changes?e.changes.find(function(e){return e.key===h.AuditLogChangeKeys.TYPE}):null;if(null==t)throw new Error("[AuditLog] Could not find type change for channel create");switch(t.newValue){case h.ChannelTypes.GUILD_VOICE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_VOICE_CREATE;case h.ChannelTypes.GUILD_CATEGORY:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_CATEGORY_CREATE;default:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TEXT_CREATE}case h.AuditLogActions.CHANNEL_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_UPDATE;case h.AuditLogActions.CHANNEL_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_DELETE;case h.AuditLogActions.CHANNEL_OVERWRITE_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_CREATE;case h.AuditLogActions.CHANNEL_OVERWRITE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_UPDATE;case h.AuditLogActions.CHANNEL_OVERWRITE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_OVERWRITE_DELETE;case h.AuditLogActions.MEMBER_KICK:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_KICK;case h.AuditLogActions.MEMBER_PRUNE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE;case h.AuditLogActions.MEMBER_BAN_ADD:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_ADD;case h.AuditLogActions.MEMBER_BAN_REMOVE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_BAN_REMOVE;case h.AuditLogActions.MEMBER_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_UPDATE;case h.AuditLogActions.MEMBER_ROLE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLE_UPDATE;case h.AuditLogActions.ROLE_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_CREATE;case h.AuditLogActions.ROLE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_UPDATE;case h.AuditLogActions.ROLE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_DELETE;case h.AuditLogActions.INVITE_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CREATE;case h.AuditLogActions.INVITE_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_UPDATE;case h.AuditLogActions.INVITE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_DELETE;case h.AuditLogActions.WEBHOOK_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CREATE;case h.AuditLogActions.WEBHOOK_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_UPDATE;case h.AuditLogActions.WEBHOOK_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_DELETE;case h.AuditLogActions.EMOJI_CREATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_CREATE;case h.AuditLogActions.EMOJI_UPDATE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_UPDATE;case h.AuditLogActions.EMOJI_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_DELETE;case h.AuditLogActions.MESSAGE_DELETE:return v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MESSAGE_DELETE;default:return null}},t.getStringForPermission=function(e,t){switch(e){case h.Permissions.CREATE_INSTANT_INVITE:return v.default.Messages.CREATE_INSTANT_INVITE;case h.Permissions.KICK_MEMBERS:return v.default.Messages.KICK_MEMBERS;case h.Permissions.BAN_MEMBERS:return v.default.Messages.BAN_MEMBERS;case h.Permissions.ADMINISTRATOR:return v.default.Messages.ADMINISTRATOR;case h.Permissions.MANAGE_CHANNELS:return t.targetType===h.AuditLogTargetTypes.CHANNEL?v.default.Messages.MANAGE_CHANNEL:v.default.Messages.MANAGE_CHANNELS;case h.Permissions.MANAGE_GUILD:return v.default.Messages.MANAGE_SERVER;case h.Permissions.CHANGE_NICKNAME:return v.default.Messages.CHANGE_NICKNAME;case h.Permissions.MANAGE_NICKNAMES:return v.default.Messages.MANAGE_NICKNAMES;case h.Permissions.MANAGE_ROLES:return v.default.Messages.MANAGE_ROLES;case h.Permissions.MANAGE_WEBHOOKS:return v.default.Messages.MANAGE_WEBHOOKS;case h.Permissions.MANAGE_EMOJIS:return v.default.Messages.MANAGE_EMOJIS;case h.Permissions.VIEW_AUDIT_LOG:return v.default.Messages.VIEW_AUDIT_LOG;case h.Permissions.VIEW_CHANNEL:return v.default.Messages.READ_MESSAGES;case h.Permissions.SEND_MESSAGES:return v.default.Messages.SEND_MESSAGES;case h.Permissions.SEND_TSS_MESSAGES:return v.default.Messages.SEND_TTS_MESSAGES;case h.Permissions.MANAGE_MESSAGES:return v.default.Messages.MANAGE_MESSAGES;case h.Permissions.EMBED_LINKS:return v.default.Messages.EMBED_LINKS;case h.Permissions.ATTACH_FILES:return v.default.Messages.ATTACH_FILES;case h.Permissions.READ_MESSAGE_HISTORY:return v.default.Messages.READ_MESSAGE_HISTORY;case h.Permissions.MENTION_EVERYONE:return v.default.Messages.MENTION_EVERYONE;case h.Permissions.USE_EXTERNAL_EMOJIS:return v.default.Messages.USE_EXTERNAL_EMOJIS;case h.Permissions.ADD_REACTIONS:return v.default.Messages.ADD_REACTIONS;case h.Permissions.CONNECT:return v.default.Messages.CONNECT;case h.Permissions.SPEAK:return v.default.Messages.SPEAK;case h.Permissions.MUTE_MEMBERS:return v.default.Messages.MUTE_MEMBERS;case h.Permissions.DEAFEN_MEMBERS:return v.default.Messages.DEAFEN_MEMBERS;case h.Permissions.MOVE_MEMBERS:return v.default.Messages.MOVE_MEMBERS;case h.Permissions.USE_VAD:return v.default.Messages.USE_VAD;case h.Permissions.PRIORITY_SPEAKER:return v.default.Messages.PRIORITY_SPEAKER;case h.Permissions.STREAM:return v.default.Messages.STREAM}return null},t.transformLogs=function(e,t){var n=[];return e.forEach(function(e){var r=function(e,t){switch(e.targetType){case h.AuditLogTargetTypes.GUILD:return t;case h.AuditLogTargetTypes.CHANNEL:return T(e,h.AuditLogChangeKeys.NAME,function(e){return u.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogTargetTypes.USER:return T(e,h.AuditLogChangeKeys.NICK,function(e){return f.default.getUser(e)},function(e){return e});case h.AuditLogTargetTypes.ROLE:return T(e,h.AuditLogChangeKeys.NAME,function(e){return t.getRole(e)},function(e){return e.name});case h.AuditLogTargetTypes.INVITE:return T(e,h.AuditLogChangeKeys.CODE,h.NOOP_NULL,function(e){return e.code});case h.AuditLogTargetTypes.WEBHOOK:return T(e,h.AuditLogChangeKeys.NAME,function(e){return c.default.webhooks.find(function(t){return t.id===e})},function(e){return e.name});case h.AuditLogTargetTypes.EMOJI:return T(e,h.AuditLogChangeKeys.NAME,function(e){return d.default.getGuildEmoji(t.id).find(function(t){return t.id===e})},function(e){return e.name});default:return console.warn("[GuildSettingsAuditLog] Unknown targetType for log",e),null}}(e,t),a=f.default.getUser(e.userId);if((null!=r||e.action===h.AuditLogActions.MEMBER_PRUNE)&&null!=a){if(null!=(e=(e=(e=e.set("user",a)).set("target",r)).set("options",function(e){if(null!=e.options){var t=y({},e.options);switch(e.options.type){case h.AuditLogSubtargetTypes.USER:t.subtarget=O(e.options.id,function(e){return f.default.getUser(e)},function(e){return e.toString()});break;case h.AuditLogSubtargetTypes.ROLE:t.subtarget=O(e.options.role_name,h.NOOP_NULL)}return null!=e.options.channel_id&&(t.channel=T(e,"",function(e){return u.default.getChannel(e)},function(e){return e},e.options.channel_id)),e.options.members_removed&&(t.count=e.options.members_removed),t}return e.options}(e))).changes){var o=[];e.changes.forEach(function(e){var t=function(e){switch(e.key){case h.AuditLogChangeKeys.OWNER_ID:return S(e,function(e){return f.default.getUser(e)});case h.AuditLogChangeKeys.AFK_CHANNEL_ID:return S(e,function(e){return u.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogChangeKeys.AFK_TIMEOUT:return S(e,function(e){return e/60});case h.AuditLogChangeKeys.SYSTEM_CHANNEL_ID:return S(e,function(e){return u.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogChangeKeys.BITRATE:return S(e,function(e){return e/1e3});case h.AuditLogChangeKeys.COLOR:return S(e,function(e){return(0,l.int2hex)(e).toUpperCase()});case h.AuditLogChangeKeys.MAX_AGE:return S(e,function(e){var t=p.default.getMaxAgeOptions.find(function(t){var n=t.value;return e===n});return t?t.label:e});case h.AuditLogChangeKeys.CHANNEL_ID:return S(e,function(e){return u.default.getChannel(e)},function(e){return e.toString(!0)});case h.AuditLogChangeKeys.PERMISSIONS:var t=[],n=E(e.oldValue,e.newValue),r=n.added,a=n.removed;if(r.length>0){var o=new s.AuditLogChange(h.AuditLogChangeKeys.PERMISSIONS_GRANTED,null,r);t.push(o)}if(a.length){var i=new s.AuditLogChange(h.AuditLogChangeKeys.PERMISSIONS_DENIED,null,a);t.push(i)}return t;case h.AuditLogChangeKeys.PERMISSIONS_GRANTED:case h.AuditLogChangeKeys.PERMISSIONS_DENIED:var d=[],c=E(e.oldValue,e.newValue),v=c.added;if(v.length>0){var m=new s.AuditLogChange(e.key,null,v);d.push(m)}return d}return e}(e);Array.isArray(t)?t.forEach(function(e){return o.push(e)}):o.push(t)}),e=e.set("changes",o)}n.push(e)}}),n},t.ACTION_FILTER_ITEMS=t.NotRenderedChanges=t.EmojiChangeStrings=t.WebhookChangeStrings=t.InviteChangeStrings=t.RoleChangeStrings=t.UserChangeStrings=t.ChannelChangeStrings=t.GuildChangeStrings=t.DEFAULT_FOR_STRINGS_KEY=void 0;var r,a,o,i,l=n(229),s=n(6264),u=m(n(20)),d=m(n(231)),c=m(n(6263)),f=m(n(14)),p=m(n(227)),h=n(0),v=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.DEFAULT_FOR_STRINGS_KEY=-1;var _=function(){var e;return(e={})[h.AuditLogChangeKeys.REASON]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e};t.GuildChangeStrings=function(){var e,t,n,r,a;return y(((a={})[h.AuditLogChangeKeys.NAME]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_NAME_CHANGE,a[h.AuditLogChangeKeys.DESCRIPTION]=C(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CLEAR,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DESCRIPTION_CHANGE),a[h.AuditLogChangeKeys.ICON_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_ICON_HASH_CHANGE,a[h.AuditLogChangeKeys.SPLASH_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SPLASH_HASH_CHANGE,a[h.AuditLogChangeKeys.BANNER_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_BANNER_HASH_CHANGE,a[h.AuditLogChangeKeys.OWNER_ID]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_OWNER_ID_CHANGE,a[h.AuditLogChangeKeys.REGION]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_REGION_CHANGE,a[h.AuditLogChangeKeys.AFK_CHANNEL_ID]=C(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CLEAR,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_CHANNEL_ID_CHANGE),a[h.AuditLogChangeKeys.AFK_TIMEOUT]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_AFK_TIMEOUT_CHANGE,a[h.AuditLogChangeKeys.SYSTEM_CHANNEL_ID]=C(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_DISABLE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_SYSTEM_CHANNEL_ID_CHANGE),a[h.AuditLogChangeKeys.MFA_LEVEL]=((e={})[h.MFALevels.NONE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_DISABLED,e[h.MFALevels.ELEVATED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_MFA_LEVEL_ENABLED,e),a[h.AuditLogChangeKeys.WIDGET_ENABLED]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_ENABLED,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_DISABLED},a[h.AuditLogChangeKeys.WIDGET_CHANNEL_ID]=C(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_DELETE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_WIDGET_CHANNEL_ID_CHANGE),a[h.AuditLogChangeKeys.VERIFICATION_LEVEL]=((t={})[h.VerificationLevels.NONE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_NONE,t[h.VerificationLevels.LOW]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_LOW,t[h.VerificationLevels.MEDIUM]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_MEDIUM,t[h.VerificationLevels.HIGH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_HIGH,t[h.VerificationLevels.VERY_HIGH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VERIFICATION_LEVEL_CHANGE_VERY_HIGH,t),a[h.AuditLogChangeKeys.DEFAULT_MESSAGE_NOTIFICATIONS]=((n={})[h.UserNotificationSettings.ALL_MESSAGES]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ALL_MESSAGES,n[h.UserNotificationSettings.ONLY_MENTIONS]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_DEFAULT_MESSAGE_NOTIFICATIONS_CHANGE_ONLY_MENTIONS,n),a[h.AuditLogChangeKeys.VANITY_URL_CODE]=C(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_DELETE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_VANITY_URL_CODE_CHANGE),a[h.AuditLogChangeKeys.EXPLICIT_CONTENT_FILTER]=((r={})[h.GuildExplicitContentFilterTypes.DISABLED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_DISABLE,r[h.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_MEMBERS_WITHOUT_ROLES,r[h.GuildExplicitContentFilterTypes.ALL_MEMBERS]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_GUILD_EXPLICIT_CONTENT_FILTER_ALL_MEMBERS,r),a),_())};t.ChannelChangeStrings=function(){var e;return(e={})[h.AuditLogChangeKeys.NAME]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NAME_CHANGE),e[h.AuditLogChangeKeys.POSITION]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_POSITION_CHANGE),e[h.AuditLogChangeKeys.TOPIC]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_TOPIC_CHANGE),e[h.AuditLogChangeKeys.BITRATE]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_BITRATE_CHANGE),e[h.AuditLogChangeKeys.RATE_LIMIT_PER_USER]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_RATE_LIMIT_PER_USER_CHANGE),e[h.AuditLogChangeKeys.PERMISSIONS_GRANTED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_GRANTED,e[h.AuditLogChangeKeys.PERMISSIONS_DENIED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_PERMISSION_OVERRIDES_DENIED,e[h.AuditLogChangeKeys.REASON]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e[h.AuditLogChangeKeys.NSFW]={false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_DISABLED,true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_CHANNEL_NSFW_ENABLED},e};t.UserChangeStrings=function(){var e,t,n,r,a;return y(((e={})[h.AuditLogChangeKeys.NICK]=(t=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CHANGE,n=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_CREATE,r=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_NICK_DELETE,function(e){return null!=e.newValue&&null!=e.oldValue?t:null!=e.newValue?n:null!=e.oldValue?r:a}),e[h.AuditLogChangeKeys.DEAF]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_DEAF_OFF},e[h.AuditLogChangeKeys.MUTE]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_MUTE_OFF},e[h.AuditLogChangeKeys.ROLES_REMOVE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_REMOVE,e[h.AuditLogChangeKeys.ROLES_ADD]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_ROLES_ADD,e[h.AuditLogChangeKeys.PRUNE_DELETE_DAYS]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_MEMBER_PRUNE_DELETE_DAYS,e),_())};t.RoleChangeStrings=function(){var e,t;return y(((t={})[h.AuditLogChangeKeys.NAME]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_NAME_CHANGE),t[h.AuditLogChangeKeys.PERMISSIONS_GRANTED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_GRANTED,t[h.AuditLogChangeKeys.PERMISSIONS_DENIED]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_PERMISSIONS_DENIED,t[h.AuditLogChangeKeys.COLOR]=((e={"#000000":v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR_NONE})[-1]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_COLOR,e),t[h.AuditLogChangeKeys.HOIST]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_HOIST_OFF},t[h.AuditLogChangeKeys.MENTIONABLE]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_ROLE_MENTIONABLE_OFF},t),_())};t.InviteChangeStrings=function(){var e,t,n;return y(((n={})[h.AuditLogChangeKeys.CODE]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CODE_CREATE,n[h.AuditLogChangeKeys.CHANNEL_ID]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_CHANNEL_CREATE,n[h.AuditLogChangeKeys.MAX_USES]=((e={0:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE_INFINITE})[-1]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_USES_CREATE,e),n[h.AuditLogChangeKeys.MAX_AGE]=((t={0:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE_INFINITE})[-1]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_MAX_AGE_CREATE,t),n[h.AuditLogChangeKeys.TEMPORARY]={true:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_ON,false:v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_INVITE_TEMPORARY_OFF},n),_())};t.WebhookChangeStrings=function(){var e;return(e={})[h.AuditLogChangeKeys.CHANNEL_ID]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_CHANNEL_CHANGE),e[h.AuditLogChangeKeys.NAME]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_NAME_CHANGE),e[h.AuditLogChangeKeys.AVATAR_HASH]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_WEBHOOK_AVATAR,e[h.AuditLogChangeKeys.REASON]=v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_COMMON_REASON,e};t.EmojiChangeStrings=function(){var e;return y(((e={})[h.AuditLogChangeKeys.NAME]=I(v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CREATE,v.default.Messages.GUILD_SETTINGS_AUDIT_LOG_EMOJI_NAME_CHANGE),e),_())};var g=((i={})[h.AuditLogTargetTypes.CHANNEL]=((r={})[h.AuditLogChangeKeys.TYPE]=!0,r[h.AuditLogChangeKeys.ID]=!0,r[h.AuditLogChangeKeys.PERMISSION_OVERWRITES]=!0,r),i[h.AuditLogTargetTypes.INVITE]=((a={})[h.AuditLogChangeKeys.INVITER_ID]=!0,a[h.AuditLogChangeKeys.USES]=!0,a),i[h.AuditLogTargetTypes.WEBHOOK]=((o={})[h.AuditLogChangeKeys.TYPE]=!0,o[h.AuditLogChangeKeys.APPLICATION_ID]=!0,o),i);t.NotRenderedChanges=g;function E(e,t){var n="number"==typeof e?e:0,r="number"==typeof t?t:0,a=r&~n,o=n&~r,i=[],l=[];for(var s in h.Permissions){var u=+h.Permissions[s];(a&u)===u&&i.push(u),(o&u)===u&&l.push(u)}return{added:i,removed:l}}function S(e,t,n){var r=e.newValue,a=e.oldValue;return null!=e.newValue&&(r=t(e.newValue),null!=n&&null!=r&&(r=n(r))),null!=e.oldValue&&(a=t(e.oldValue),null!=n&&null!=a&&(a=n(a))),new s.AuditLogChange(e.key,a||e.oldValue,r||e.newValue)}function T(e,t,n,r,a){var o=null,i=n(a=a||e.targetId);if(null!=i&&(o=r(i)),null==o){var l=c.default.deletedTargets[e.targetType];null!=l&&l[a]&&(o=l[a])}if(null==o&&null!=e.changes){var s=e.changes.find(function(e){return e.key===t});null!=s&&(o=s.newValue||s.oldValue)}return o||e.targetId}function O(e,t,n){var r=e,a=t(e);return null!=a&&null!=n&&(r=n(a)),r}function I(e,t){return function(n){return null==n.oldValue?e:t}}function C(e,t){return function(n){return null==n.newValue?e:t}}t.ACTION_FILTER_ITEMS=function(){return[{value:h.AuditLogActions.ALL,label:v.default.Messages.GUILD_SETTINGS_FILTER_ALL_ACTIONS,valueLabel:v.default.Messages.GUILD_SETTINGS_FILTER_ALL},{value:h.AuditLogActions.GUILD_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_GUILD_UPDATE},{value:h.AuditLogActions.CHANNEL_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_CREATE},{value:h.AuditLogActions.CHANNEL_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_UPDATE},{value:h.AuditLogActions.CHANNEL_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_DELETE},{value:h.AuditLogActions.CHANNEL_OVERWRITE_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_CREATE},{value:h.AuditLogActions.CHANNEL_OVERWRITE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_UPDATE},{value:h.AuditLogActions.CHANNEL_OVERWRITE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_CHANNEL_OVERWRITE_DELETE},{value:h.AuditLogActions.MEMBER_KICK,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_KICK},{value:h.AuditLogActions.MEMBER_PRUNE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_PRUNE},{value:h.AuditLogActions.MEMBER_BAN_ADD,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_ADD},{value:h.AuditLogActions.MEMBER_BAN_REMOVE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_BAN_REMOVE},{value:h.AuditLogActions.MEMBER_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_UPDATE},{value:h.AuditLogActions.MEMBER_ROLE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MEMBER_ROLE_UPDATE},{value:h.AuditLogActions.ROLE_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_CREATE},{value:h.AuditLogActions.ROLE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_UPDATE},{value:h.AuditLogActions.ROLE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_ROLE_DELETE},{value:h.AuditLogActions.INVITE_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_CREATE},{value:h.AuditLogActions.INVITE_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_UPDATE},{value:h.AuditLogActions.INVITE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_INVITE_DELETE},{value:h.AuditLogActions.WEBHOOK_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_CREATE},{value:h.AuditLogActions.WEBHOOK_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_UPDATE},{value:h.AuditLogActions.WEBHOOK_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_WEBHOOK_DELETE},{value:h.AuditLogActions.EMOJI_CREATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_CREATE},{value:h.AuditLogActions.EMOJI_UPDATE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_UPDATE},{value:h.AuditLogActions.EMOJI_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_EMOJI_DELETE},{value:h.AuditLogActions.MESSAGE_DELETE,label:v.default.Messages.GUILD_SETTINGS_ACTION_FILTER_MESSAGE_DELETE}]}},6645:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(825)),i=f(n(821)),l=f(n(6493)),s=f(n(6701)),u=f(n(308)),d=f(n(13)),c=f(n(5587));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=h(l.default.Divider,{}),y=function(e){var t,n;function r(t){var n;return v(n=e.call(this,t)||this).renderPopout=n.renderPopout.bind(v(n)),v(n).renderItems=n.renderItems.bind(v(n)),v(n).handleChange=n.handleChange.bind(v(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.renderItems=function(){var e=this,t=this.props,n=t.items,r=t.renderItem;return 0===n.length?h(l.default.Empty,{},void 0,d.default.Messages.NONE):h(u.default,{track:!0,className:c.default.scroller,theme:u.default.Themes.GHOST_HAIRLINE},void 0,n.map(function(t,n){return null!=r?r(t,n):a.createElement(l.default.Item,p({key:n},t,{onClick:e.handleChange}))}))},f.renderPopout=function(e){var t=this.props,n=t.searchProps,r=t.popoutClassName;return a.createElement(l.default,p({},e,{className:r}),a.createElement(l.default.SearchBar,n),m,this.renderItems())},f.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,o=e.className,l=e.popoutId,u=e.popoutProps;return a.createElement(i.default,p({},u,{uniqueId:l,render:this.renderPopout}),h("div",{className:o},void 0,h(s.default,{label:t,value:n,renderValue:r})))},f.handleChange=function(e){var t=this.props,n=t.popoutId,r=t.onChange;o.default.close(n),r&&r(e)},r}(a.PureComponent);y.displayName="SearchableQuickSelectWrapper";var _=y;t.default=_,e.exports=t.default},6646:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(6135)),o=n(0),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.name,n=e.icon,l=e.makeURL,s=e.onChange,u=e.disabled,d=e.showIcon,c=e.className,f=e.avatarClassName;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{name:t,avatar:n,size:o.AVATAR_MAX_SIZE,makeURL:l,onChange:s,disabled:u,hint:i.default.Messages.CHANGE_ICON,showIcon:d,className:c,avatarClassName:f})},e.exports=t.default},6649:function(e,t,n){e.exports=n.p+"ffc8cce621d39fcac0e58a1c834605d0.svg"},6650:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(2)),o=M(n(8)),i=M(n(77)),l=M(n(6151)),s=P(n(108)),u=M(n(149)),d=M(n(305)),c=M(n(124)),f=M(n(148)),p=M(n(220)),h=M(n(6004)),v=M(n(822)),m=M(n(832)),y=M(n(442)),_=P(n(440)),g=M(n(107)),E=n(79),S=M(n(309)),T=M(n(6135)),O=M(n(6310)),I=M(n(6076)),C=n(0),N=M(n(13)),A=M(n(5608));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var L=function(e){var t,n;function r(t){var n;R(n=e.call(this,t)||this).handleChannelChange=n.handleChannelChange.bind(R(n)),R(n).handleAvatarChange=n.handleAvatarChange.bind(R(n)),R(n).handleNameChange=n.handleNameChange.bind(R(n)),R(n).handleSaveWebhook=n.handleSaveWebhook.bind(R(n));var r=t.webhook,a=r.name,o=r.channel_id,i=r.avatar;return n.state={name:a,channelId:o,avatar:i,submitting:!1,errors:{}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleNameChange=function(e){this.setState({name:e})},a.handleAvatarChange=function(e){this.setState({avatar:e})},a.handleChannelChange=function(e){var t=e.value;this.setState({channelId:t})},a.handleSaveWebhook=function(){var e=this,t=this.state,n=t.avatar,r=t.name,a=t.channelId,o=this.props.webhook,s={name:r,channel_id:a};n!==o.avatar&&(s.avatar=n),this.setState({submitting:!0},function(){l.default.update(o.guild_id,o.id,s).then(function(){i.default.pop()}).catch(function(t){var n=t.body;e.setState({errors:n,submitting:!1})})})},a.getWebhookURL=function(){var e=this.props.webhook,t=e.id,n=e.token;return""+o.default.getAPIBaseURL(!1)+C.Endpoints.WEBHOOK_INTEGRATION(t,n)},a.renderNameChannel=function(){var e=this.props.webhook,t=this.state,n=t.name,r=t.channelId,a=t.errors,o=s.default.getChannels(e.guild_id)[s.GUILD_SELECTABLE_CHANNELS_KEY].filter(function(e){var t=e.channel;return u.default.can(C.Permissions.MANAGE_WEBHOOKS,{channelId:t.id})}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString(!0)}});return b(f.default,{},void 0,b(f.default.Child,{basis:"50%"},void 0,b(y.default,{title:N.default.Messages.WEBHOOK_FORM_NAME},void 0,b(v.default,{value:n,onChange:this.handleNameChange,error:a.name}))),b(f.default.Child,{basis:"50%"},void 0,b(y.default,{title:N.default.Messages.CHANNEL},void 0,b(h.default,{value:r,clearable:!1,searchable:!1,options:o,onChange:this.handleChannelChange}))))},a.renderAvatar=function(){var e=this.props.webhook.id,t=this.state,n=t.avatar,r=t.errors;return b(y.default,{title:N.default.Messages.WEBHOOK_MODAL_ICON_TITLE,className:A.default.container},void 0,b(f.default,{},void 0,b(f.default.Child,{},void 0,b(_.default,{type:_.Types.DESCRIPTION},void 0,N.default.Messages.WEBHOOK_MODAL_ICON_DESCRIPTION),b(c.default,{look:c.default.Looks.OUTLINED,color:c.default.Colors.PRIMARY,className:A.default.uploadButton},void 0,N.default.Messages.UPLOAD_IMAGE,b(I.default,{onChange:this.handleAvatarChange}))),b(f.default.Child,{wrap:!0,grow:0},void 0,b(T.default,{avatar:n,size:C.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,makeURL:function(){return(0,E.getUserAvatarURL)({id:e,avatar:n,discriminator:C.NON_USER_BOT_DISCRIMINATOR})},avatarClassName:A.default.avatarUploaderInner}),r.avatar?b("div",{},void 0,r.avatar):null)))},a.renderURL=function(){return b(f.default.Child,{className:A.default.urlContainer},void 0,b(y.default,{title:N.default.Messages.WEBHOOK_FORM_URL},void 0,b(O.default,{value:this.getWebhookURL(),className:A.default.copyInput}),b(_.default,{type:_.Types.DESCRIPTION},void 0,b(d.default,{href:S.default.getArticleURL(C.HelpdeskArticles.WEBHOOKS_INTRODUCTION)},void 0,N.default.Messages.WEBHOOK_FORM_WEBHOOK_URL_HELP))))},a.render=function(){return b(p.default,{size:A.default.size},void 0,b(p.default.Header,{},void 0,b(g.default,{tag:g.default.Tags.H4},void 0,N.default.Messages.WEBHOOK_MODAL_TITLE)),b(p.default.Content,{},void 0,this.renderNameChannel(),b(m.default,{className:A.default.divider}),this.renderAvatar(),b(m.default,{className:A.default.divider}),this.renderURL()),b(p.default.Footer,{},void 0,b(c.default,{submitting:this.state.submitting,onClick:this.handleSaveWebhook},void 0,N.default.Messages.SAVE),b(c.default,{color:c.default.Colors.GREY,look:c.default.Looks.LINK,onClick:this.props.onClose},void 0,N.default.Messages.CANCEL)))},r}(a.PureComponent);L.displayName="WebhookModal";var D=L;t.default=D,e.exports=t.default},6651:function(e,t,n){"use strict";t.__esModule=!0,t.areTypesInSameSection=s,t.getDropData=function(e,t,n,r,o){if(null==e||null==n)return null;var i=l.ChannelTypes.GUILD_CATEGORY;if(e.type===i)return r===t||r<t&&e.type===n.type?c(n):r>t?function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,a=n[(d(t,n,!0)||0)+1],o=u(-1,t.id,e.type,n);if(null==o||o&&o.channel.id===e.id)return null;if(null==a||a.channel.type===r)return{referenceId:o.channel.id,parentId:null};return null}(e,n,o):null;if(s(e.type,n.type))return c(n);if(r<t)return n.type===i?function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,o=l.ChannelTypes.GUILD_VOICE,i=n[(d(t,n,!0)||0)-1],c=u(1,t.id,e.type,n);if(null==i)return{referenceId:null,parentId:null};if(null!=c){if(s(i.channel.type,e.type)||e.type===o&&(0,a.isGuildSelectableChannelType)(i.channel.type))return{referenceId:c.channel.id,parentId:i.channel.parent_id};if(i.channel.type===r)return{referenceId:c.channel.id,parentId:i.channel.id}}return null}(e,n,o):function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,o=l.ChannelTypes.GUILD_VOICE,i=n[(d(t,n,!0)||0)-1],s=u(1,t.id,e.type,n);if(null==i&&e.type!==o)return{referenceId:null!=s?s.channel.id:null,parentId:null};if((0,a.isGuildSelectableChannelType)(e.type)&&null!=s&&((0,a.isGuildSelectableChannelType)(i.channel.type)||i.channel.type===r))return{referenceId:s.channel.id,parentId:t.parent_id};return null}(e,n,o);if(n.type===i)return function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,o=l.ChannelTypes.GUILD_VOICE,i=n[(d(t,n,!0)||0)+1],c=u(-1,t.id,e.type,n);if(null!=c){if(null==i)return{referenceId:c.channel.id,parentId:t.id};if(s(i.channel.type,e.type)||(0,a.isGuildSelectableChannelType)(e.type)&&i.channel.type===o)return{referenceId:c.channel.id,parentId:i.channel.parent_id};if(i.channel.type===r)return{referenceId:c.channel.id,parentId:t.id}}return null}(e,n,o);return function(e,t,n){var r=l.ChannelTypes.GUILD_CATEGORY,a=l.ChannelTypes.GUILD_VOICE,o=n[(d(t,n,!0)||0)+1],i=u(-1,t.id,e.type,n);if(null==i)return null;if(e.type===a){if(null==o||o.channel.type===r)return{referenceId:i.channel.id,parentId:t.parent_id};if(o.channel.type===a)return{referenceId:i.channel.id,parentId:o.channel.parent_id}}if(e.type===r&&(null==o||o.channel.type===r))return{referenceId:i.channel.id,parentId:null};return null}(e,n,o)},t.getDnDUpdates=function(e,t,n,r){var s,u,c=l.ChannelTypes.GUILD_CATEGORY,f=l.ChannelTypes.GUILD_VOICE,p=[],h=[],v=r._categories,m=function(t){var n;return n=null!=s&&null!=u&&function(e,t,n,r){if(null!=t&&null!=n&&null!=r[t]&&r[t].channel===e&&null!=r[n])return!0;return!1}(e,s,u,t)?i.default.moveItemFromTo(t,s,u):[].concat(t),p=p.concat(i.default.calculatePositionDeltas(t,n,function(e){var t=e.channel;return t.id},function(e){var t=e.channel;return t.position})),n};if(e.type===c){var y=[].concat(v).slice(1);s=d(e,y),u=d(t,y),(h=m(y)).unshift(v[0])}if((0,a.isGuildSelectableChannelType)(e.type)||e.type===c){var _=(0,o.getFlattenedChannelList)(h.length?h:v,r,function(e){var t=e.channel.type;return(0,a.isGuildSelectableChannelType)(t)});s=d(e,_),u=d(t,_),m(_)}if(e.type===f||e.type===c){var g=(0,o.getFlattenedChannelList)(h.length?h:v,r,function(e){var t=e.channel.type;return t===f});s=d(e,g),u=d(t,g),m(g)}if(e.parent_id!==n){var E=!1;p.find(function(t){return t.id===e.id&&(t.parent_id=n,E=!0)}),E||p.push({id:e.id,parent_id:n})}return p};var r,a=n(126),o=n(449),i=(r=n(898))&&r.__esModule?r:{default:r},l=n(0);function s(e,t){return null!=e&&null!=t&&(e===t||(0,a.isGuildSelectableChannelType)(e)&&(0,a.isGuildSelectableChannelType)(t))}function u(e,t,n,r){var a=-1;if(r.find(function(e,n){return e.channel.id===t&&(a=n,!0)}),a<0)return null;for(var o=a;o>=0&&o<r.length;o+=e){var i=r[o];if(s(i.channel.type,n))return i}return null}function d(e,t,n){if(void 0===n&&(n=!1),null==e)return 0;var r=null;return t.filter(function(t){var r=t.channel.type;return null!=e&&(n||s(e.type,r))}).find(function(t,n){var a=t.channel.id;return null!=e&&a===e.id&&(r=n,!0)}),r}function c(e){return{referenceId:e.id,parentId:e.parent_id}}},6652:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(6170)),l=u(n(303)),s=u(n(5615));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p={friction:10,tension:300},h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={translateY:new l.default.Value},n}f(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.hide?this.state.translateY.setValue(1):this.state.translateY.setValue(0)},n.componentDidUpdate=function(e){var t=e.hide,n=this.props.hide;n&&!t?this.animateOut():!n&&t&&this.animateIn()},n.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},n.animateIn=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?this._timeout=setTimeout(function(){l.default.spring(e,c({toValue:0},p)).start()},100):e.setValue(0)},n.animateOut=function(){var e=this.state.translateY;null!=this._timeout&&clearTimeout(this._timeout),this.props.animate?l.default.spring(e,c({toValue:1},p)).start():e.setValue(1)},n.render=function(){var e=this.props,t=e.className,n=e.text,r=e.onClick;return d(l.default.div,{className:(0,o.default)(s.default.bar,t),onClick:r,style:this.getAnimatedStyle()},void 0,d("span",{className:s.default.text},void 0,n))},n.getAnimatedStyle=function(){var e=this.state.translateY,t=this.props.reverse;return{transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%",t?"180%":"-180%"]})}]}},t}(a.PureComponent);h.displayName="Bar";var v=40,m=function(e){function t(t){var n;return(n=e.call(this,t)||this).calculateState=(0,i.default)(function(){for(var e=n.props,t=e.items,r=e.isVisible,a=e.isUnread,o=e.isMentioned,i=e.reverse,l=e.onCalculate,s=null,u=null,d=i?t.length-1:0,c=t[d];null!=c&&!r(c,i,t);)null==s&&o(c,i,t)&&(s=c),null==u&&a(c,i,t)&&(u=c),c=t[d+=i?-1:1];null!=l&&l(s,u,i),n.setState({shouldCalculate:!1,mention:s,unread:u})},v),n.handleClick=function(e){e.preventDefault(),e.stopPropagation();var t=n.state,r=t.unread,a=t.mention,o=n.props.onJumpTo,i=a||r;null!=i&&o(i,[a,r])},n.state={shouldCalculate:!0,unread:null,mention:null},n}f(t,e);var n=t.prototype;return n.componentDidMount=function(){this.calculateState()},n.componentDidUpdate=function(){this.state.shouldCalculate&&this.calculateState()},n.componentWillUnmount=function(){this.calculateState.cancel()},n.UNSAFE_componentWillReceiveProps=function(){this.setState({shouldCalculate:!0})},n.render=function(){var e=this.state,t=e.unread,n=e.mention,r=this.props,a=r.textMention,i=r.textUnread,l=r.reverse,u=r.className,c=r.barClassName,f=r.hide,p=r.animate;return d("div",{className:u},void 0,d(h,{hide:!0===f||null==t&&null==n,className:(0,o.default)(c,null!=n?s.default.mention:s.default.unread),text:null!=n?a:i,reverse:l,animate:p,onClick:this.handleClick}))},t}(a.Component);m.displayName="UnreadBar",m.defaultProps={className:s.default.container,reverse:!1,hide:!1,animate:!0};var y=m;t.default=y,e.exports=t.default},6653:function(e,t,n){"use strict";t.__esModule=!0,t.makeVoiceUserDroppable=function(e){return(0,r.DropTarget)(u,{canDrop:function(e){var t=e.channel,n=o.default.getCurrentUser();return i.default.can(l.Permissions.MOVE_MEMBERS,n,t)&&i.default.can(l.Permissions.CONNECT,n,t)},drop:function(e,t){var n=e.channel;a.default.setChannel(n.getGuildId(),t.getItem().user.id,n.id)}},function(e,t){return{connectUserDropTarget:e.dropTarget(),isUserOver:t.isOver()&&t.canDrop()}})(e)},t.makeVoiceUserDraggable=function(e){return(0,r.DragSource)(u,{canDrag:function(e){var t=e.canDrag;return t},beginDrag:function(e){var t=e.user;return{user:t}}},function(e){return{connectUserDragSource:e.dragSource()}})(e)};var r=n(876),a=s(n(827)),o=s(n(14)),i=s(n(87)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u="DRAGGABLE_USER"},6654:function(e,t,n){"use strict";t.__esModule=!0,t.keySection=h,t.parseSection=function(e){var t=e.split(":"),n=t[0],r=t[1];return{context:n,section:r}},t.default=void 0;var r=u(n(3)),a=n(56),o=n(78),i=u(n(1)),l=u(n(46)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=h(a.MediaEngineContextTypes.DEFAULT,s.RTCDebugSections.TRANSPORT),c=d,f={},p=new o.Interval;function h(e,t){return e+":"+t}function v(){Object.values(a.MediaEngineContextTypes).forEach(function(e){var t=e;l.default.getMediaEngine().eachConnection(function(e){e.getStats().then(function(e){i.default.dispatch({type:s.ActionTypes.RTC_DEBUG_MODAL_UPDATE,stats:e,context:t})})},t)})}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getSection=function(){return c},o.getStats=function(e){return void 0===e&&(e=a.MediaEngineContextTypes.DEFAULT),f[e]},r}(r.default.Store))(i.default,{RTC_DEBUG_MODAL_OPEN:function(e){c=e.section||d,f={},v(),p.start(1e3,v)},RTC_DEBUG_MODAL_CLOSE:function(e){return p.stop(),void(f={})},RTC_DEBUG_MODAL_SET_SECTION:function(e){c=e.section},RTC_DEBUG_MODAL_UPDATE:function(e){var t=e.context,n=e.stats;f[t]=n}});t.default=m},6655:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=N(n(3)),i=N(n(1)),l=n(491),s=n(6088),u=A(n(326)),d=N(n(329)),c=N(n(86)),f=N(n(467)),p=N(n(6468)),h=N(n(124)),v=N(n(148)),m=N(n(6005)),y=N(n(6052)),_=N(n(44)),g=n(6047),E=n(127),S=N(n(6291)),T=N(n(6764)),O=n(0),I=N(n(13)),C=N(n(5379));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(){return[I.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_1,I.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_2,I.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_3,I.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_4]},b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={confirmHeaderIndex:Math.floor(Math.random()*P().length),installPath:t.props.defaultInstallationPath,hasInstallPathError:!1,hasAcceptedNeccessaryTerms:!1},t.handleInstallPathChange=function(e,n){t.setState({installPath:e,hasInstallPathError:n})},t.handleInventoryClick=function(){_.default.transitionTo(O.Routes.APPLICATION_LIBRARY_INVENTORY),t.props.onClose()},t.handleGoToLibrary=function(){_.default.transitionTo(O.Routes.APPLICATION_LIBRARY),t.props.onClose()},t.handleInstall=function(){var e=t.props,n=e.application,r=e.branchId,a=e.buildId,o=e.hasPreviouslyAcceptedStoreTerms,i=e.manifestIds,l=e.onClose,d=t.state,c=d.installPath,f=d.hasInstallPathError;o||(0,s.acceptPurchaseTerms)(),null!=n.eulaId&&(0,s.acceptEULA)(n.eulaId),f||null==a||null==i||(u.installApplication(n,r,a,i,c,O.AnalyticsLocations.APPLICATION_STORE_PAYMENT_MODAL),l(),_.default.transitionTo(O.Routes.APPLICATION_LIBRARY))},t.handlePurchaseTermsChange=function(e){t.setState({hasAcceptedNeccessaryTerms:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.fetchInstallSize=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,o=e.buildSizeKB;null!=r&&null!=a&&null==o&&i.default.wait(function(){(0,l.fetchBuildSize)(t.id,n,r,a)})},o.componentDidMount=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,o=e.sku;!e.isIAP&&(0,g.canUserInstall)(o)&&(null==r||null==a?i.default.wait(function(){return(0,l.fetchLiveBuild)(t.id,n)}):this.fetchInstallSize())},o.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},o.getHeaderBlurb=function(){var e=this.props,t=e.sku,n=e.application,r=e.isIAP;if(t.isPreorder()&&null!=t.preorderReleaseAt)return I.default.Messages.APPLICATION_STORE_PREORDER_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,date:t.preorderReleaseAt.format("MMMM DD")});if(r||[O.SKUTypes.DLC,O.SKUTypes.CONSUMABLE].includes(t.type))return I.default.Messages.APPLICATION_ADDON_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,itemName:t.name});if(t.type===O.SKUTypes.BUNDLE)return I.default.Messages.APPLICATION_STORE_BUNDLE_PURCHASE_CONFIRMATION_BLURB.format({name:t.name});var a=t.supportedOperatingSystems[0];return I.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_UNSUPPORTED_OS.format({name:n.name,operatingSystem:(0,E.skuOperatingSystemToText)(a)})},o.renderInstallationHeader=function(){var e=this.props.application;return M("div",{className:C.default.blurb},void 0,I.default.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_BLURB.format({name:e.name}))},o.renderInstallationBody=function(){var e=this.props,t=e.isFetchingBuild,n=e.buildId,r=e.buildSizeKB,o=e.application,i=this.state,l=i.installPath,s=i.hasInstallPathError,u=i.hasAcceptedNeccessaryTerms;return M(a.Fragment,{},void 0,M(T.default,{className:C.default.installSelector,value:l,requiredDiskKB:r,onChange:this.handleInstallPathChange}),M(S.default,{eulaId:o.eulaId,applicationName:o.name,onChange:this.handlePurchaseTermsChange,className:C.default.storeTerms}),M(y.default,{className:C.default.confirmButton,disabled:s||null==n||!u,onClick:this.handleInstall,submitting:t,color:h.default.Colors.GREEN},void 0,I.default.Messages.APPLICATION_STORE_PURCHASE_INSTALL_GAME))},o.renderGenericHeader=function(){return M("div",{className:C.default.blurb},void 0,this.getHeaderBlurb())},o.renderBlurbBody=function(){var e,t=this.props,n=t.isIAP,r=t.sku,o=t.onClose;return r.isPreorder()?(e=I.default.Messages.APPLICATION_PREORDER_PURCHASE_CONFIRMATION_BUTTON,o=this.handleGoToLibrary):e=n?I.default.Messages.APPLICATION_IAP_PURCHASE_RETURN_TO_GAME:I.default.Messages.OKAY,M(a.Fragment,{},void 0,M(h.default,{className:C.default.confirmButton,onClick:o},void 0,e))},o.renderBlurb=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,g.canUserInstall)(t)||t.isPreorder()?this.renderGenericHeader():this.renderInstallationHeader()},o.renderBody=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,g.canUserInstall)(t)||t.isPreorder()?this.renderBlurbBody():this.renderInstallationBody()},o.render=function(){var e=this.props.application,t=this.state.confirmHeaderIndex;return M(v.default,{direction:v.default.Direction.VERTICAL,align:v.default.Align.CENTER},void 0,M(m.default,{game:e,className:C.default.icon,size:m.default.Sizes.LARGE}),M("div",{className:C.default.header},void 0,P()[t]),this.renderBlurb(),M("div",{className:C.default.divider}),this.renderBody())},r}(a.Component);b.displayName="PurchaseConfirmation";var R=o.default.connectStores([d.default,f.default,c.default,p.default],function(e){var t,n=e.application,r=c.default.getActiveLibraryApplication(n.id);t=null!=r?r.id:n.id;var a=f.default.getTargetBuildId(n.id,t);return{defaultInstallationPath:d.default.defaultInstallationPath,branchId:t,isFetchingBuild:f.default.isFetching(n.id,t),buildId:a,manifestIds:f.default.getTargetManifests(n.id,t),buildSizeKB:null!=a?f.default.getBuildSize(a):null,hasPreviouslyAcceptedStoreTerms:p.default.hasAcceptedStoreTerms}})(b);t.default=R,e.exports=t.default},6656:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ADD_PAYMENT_REQUEST_STEPS=t.ADD_PAYPAL_STEPS=t.ADD_CARD_STEPS=t.ADD_PAYMENT_STEPS=t.REVIEW_PAYMENT_STEPS=void 0;var r,a=k(n(2)),o=U(n(3)),i=U(n(1)),l=k(n(228)),s=k(n(866)),u=k(n(6118)),d=(n(441),U(n(834)),U(n(307))),c=U(n(6084)),f=U(n(874)),p=U(n(6068)),h=U(n(232)),v=U(n(124)),m=U(n(6006)),y=U(n(148)),_=U(n(220)),g=U(n(9)),E=n(6032),S=n(316),T=U(n(6248)),O=U(n(6024)),I=U(n(6249)),C=U(n(6143)),N=n(6657),A=n(6658),M=n(6250),P=n(6659),b=n(6660),R=n(0),L=U(n(13)),D=U(n(879)),w=U(n(5361));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function x(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){j(o,r,a,i,l,"next",e)}function l(e){j(o,r,a,i,l,"throw",e)}i(void 0)})}}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var H=[E.Steps.PAYMENT_TYPE,E.Steps.CREDIT_CARD_INFORMATION,E.Steps.REVIEW];t.REVIEW_PAYMENT_STEPS=H;var V=[E.Steps.PAYMENT_TYPE,E.Steps.CREDIT_CARD_INFORMATION,E.Steps.REVIEW];t.ADD_PAYMENT_STEPS=V;var Y=[E.Steps.PAYMENT_TYPE,E.Steps.CREDIT_CARD_INFORMATION,E.Steps.ADDRESS,E.Steps.REVIEW];t.ADD_CARD_STEPS=Y;var W=[E.Steps.PAYMENT_TYPE,E.Steps.PAYPAL,E.Steps.PAYPAL_ADDRESS,E.Steps.REVIEW];t.ADD_PAYPAL_STEPS=W;var K=[E.Steps.PAYMENT_TYPE,E.Steps.PAYMENT_REQUEST_INFO,E.Steps.REVIEW];t.ADD_PAYMENT_REQUEST_STEPS=K;var z=(0,S.cssValueToNumber)(D.default.innerPadding),$=function(e){var t,n;function r(){for(var t,n,r=arguments.length,o=new Array(r),d=0;d<r;d++)o[d]=arguments[d];return(n=e.call.apply(e,[this].concat(o))||this).state={hasAcceptedNeccessaryTerms:!1},n.handleToggleIsGift=function(e,t){var r=n.props.onIsGiftUpdate;null!=r&&r(t)},n.handlePurchaseTermsChange=function(e){n.setState({hasAcceptedNeccessaryTerms:e})},n.handleReopenPaypal=function(){s.reopenPayPalWindow()},n.handleCardInfoChange=function(e,t){i.default.wait(function(){return u.updateCardInfo(e,t)})},n.handleBillingAddressChange=function(e,t){i.default.wait(function(){return u.updateAddressInfo(e,t)})},n.handleCreditCardAdd=x(regeneratorRuntime.mark(function e(){var t,r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.creditCardInfo,a=t.billingAddressInfo,e.prev=1,e.next=4,l.createCardPaymentSource(F({},r,{billingAddress:a,type:R.PaymentSourceTypes.CARD,isDefault:!1}));case 4:o=e.sent,n.props.onPaymentSourceAdd(o.id),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:case"end":return e.stop()}},e,null,[[1,8]])})),n.handleStripePaymentRequestAdd=function(){var e=x(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u.updateStripePaymentRequest(t),null!=t){e.next=4;break}return n.props.onBack(),e.abrupt("return");case 4:return e.prev=4,e.next=7,l.createPaymentRequestPaymentSource(t);case 7:r=e.sent,n.props.onPaymentSourceAdd(r.id),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(4);case 13:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t){return e.apply(this,arguments)}}(),n.handlePaypalAdd=x(regeneratorRuntime.mark(function e(){var t,r,a,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.braintreeEmail,a=t.braintreeNonce,o=t.billingAddressInfo,0!==r.length&&null!=a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,l.createPaypalPaymentSource(a,o);case 6:i=e.sent,n.props.onPaymentSourceAdd(i.id),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}},e,null,[[3,10]])})),n.renderBackButton=function(){var e=n.props,t=e.step,r=e.steps,a=e.paymentSources,o=e.onBack,i=(0,E.getStepIndex)(t,r),l=(0,E.canGoBack)(i,a)?L.default.Messages.BACK:L.default.Messages.CANCEL;return G(v.default,{look:v.default.Looks.LINK,className:w.default.backButton,color:w.default.backButtonColor,size:w.default.backButtonSize,onClick:o},void 0,l)},n.stepRenderer=F(((t={})[E.Steps.PAYMENT_TYPE]={renderBody:function(){var e=n.props,t=e.hidePersonalInformation,r=e.onChoosePaymentType,o=e.isGiftable,i=e.needsToBeGift,l=e.isGift;return t?G(O.default,{className:w.default.errorBlock},void 0,L.default.Messages.BILLING_ERROR_ADD_PAYMENT_SOURCE_STREAMER_MODE):G(a.Fragment,{},void 0,G(T.default,{className:w.default.choosePaymentSourceType,onChooseType:r,allowStripeRequestPayments:!g.default.embedded,onPaymentSourceReceived:n.handleStripePaymentRequestAdd}),o&&G(m.default,{disabled:i,className:w.default.giftToggle,type:m.default.Types.INVERTED,value:l,onChange:n.handleToggleIsGift},void 0,G("div",{className:w.default.checkboxLabel},void 0,L.default.Messages.BILLING_IS_GIFT_PURCHASE)))},renderFooter:function(){return G(_.default.Footer,{direction:y.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[E.Steps.PAYMENT_REQUEST_INFO]={renderBody:function(){return G(M.PaymentRequestStepBody,{className:w.default.formItem,stripePaymentSource:n.props.stripePaymentSource,submitting:n.props.submitting})},renderFooter:function(){return G(_.default.Footer,{direction:y.default.Direction.HORIZONTAL},void 0,n.renderBackButton())}},t[E.Steps.PAYPAL]={renderBody:function(){return G(I.default,{className:w.default.formItem})},renderFooter:function(){var e=n.props,t=e.submitting,r=e.braintreeNonce,a=e.braintreeEmail,o=e.onPaypalContinue,i=e.paypalClient;return G(P.PaypalStepFooter,{submitting:t||null==i,braintreeNonce:r,braintreeEmail:a,onPaypalContinue:o,onReopenPaypal:n.handleReopenPaypal,renderBackButton:n.renderBackButton})}},t[E.Steps.CREDIT_CARD_INFORMATION]={renderBody:function(){var e=n.props,t=e.creditCardInfo,r=e.billingError;return G(A.CreditCardInformationBody,{creditCardInfo:t,billingError:r,onCardInfoChange:n.handleCardInfoChange})},renderFooter:function(){var e=n.props,t=e.isCardInfoValid,r=e.submitting,a=e.onCreditCardContinue;return G(A.CreditCardInformationFooter,{isCardInfoValid:t,submitting:r,renderBackButton:n.renderBackButton,onCreditCardContinue:a})}},t[E.Steps.PAYPAL_ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return G(N.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return G(N.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handlePaypalAdd,renderBackButton:n.renderBackButton})}},t[E.Steps.ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.billingError;return G(N.AddressStepBody,{billingAddressInfo:t,billingError:r,onBillingAddressChange:n.handleBillingAddressChange})},renderFooter:function(){var e=n.props,t=e.isBillingAddressInfoValid,r=e.submitting;return G(N.AddressStepFooter,{isBillingAddressInfoValid:t,submitting:r,onContinue:n.handleCreditCardAdd,renderBackButton:n.renderBackButton})}},t[E.Steps.REVIEW]={renderBody:function(){var e=n.props,t=e.legalNotice,r=e.paymentSources,a=e.price,o=e.hidePersonalInformation,i=e.defaultPaymentSourceId,l=e.paymentSourceId,s=e.onReviewPaymentSourceChange,u=e.isGiftable,d=e.isGift,c=e.needsToBeGift;return G(b.ReviewStepBody,{legalNotice:t,paymentSources:r,price:a,hidePersonalInformation:o,defaultPaymentSourceId:i,paymentSourceId:l,onPaymentSourceChange:s,onPurchaseTermsChange:n.handlePurchaseTermsChange,onToggleIsGift:n.handleToggleIsGift,isGiftable:u,isGift:d,needsToBeGift:c})},renderFooter:function(){var e=n.props,t=e.canSubmit,r=e.submitButtonText,a=e.useShinySubmitButton,o=e.isPurchasing,i=e.paymentSourceId,l=e.onPurchase,s=e.needsToBeGift,u=e.isGift,d=e.paymentSources;return G(b.ReviewStepFooter,{canSubmit:t,submitButtonText:r,useShinySubmitButton:a,isPurchasing:o,hasAcceptedTerms:n.state.hasAcceptedNeccessaryTerms,paymentSource:null!=i?d[i]:null,onPurchase:l,tooltipText:n.disabledTooltip,needsToBeGift:s,isGift:u})}},t[E.Steps.CONFIRM]={renderBody:R.NOOP_NULL,renderFooter:R.NOOP_NULL},t),n.props.extraRenderers),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,d,c,f=r.prototype;return f.componentDidMount=function(){s.createClient();var e=this.props,t=e.onPaymentSourceChange,n=e.paymentSources,r=e.defaultPaymentSourceId,a=e.paymentSourceId;null!=t&&(null!=a&&a!==r&&null!=n[a]?t(n[a]):null!=r&&null!=n[r]?t(n[r]):t(null))},f.componentDidUpdate=function(e){var t=this.props,n=t.onPaymentSourceChange,r=t.paymentSources,a=t.paymentSourceId;e.paymentSourceId!==a&&null!=a&&null!=r[a]&&n&&n(r[a])},f.componentWillUnmount=function(){s.teardown(),u.clearCardInfo();var e=this.props.onClearError;e&&e()},f.preventDefault=function(e){e.preventDefault()},f.renderHeader=function(){var e=this.props,t=e.renderHeader,n=e.billingError;return t(e.step,e.steps.map(function(e){return{id:e,label:(0,E.getCrumbLabels)(e)}}),null==(0,E.errorToStep)(n)?n:null)},f.render=function(){var e=this.props,t=e.size,n=e.step,r=e.steps,a=e.className,o=this.stepRenderer[n],i=o.renderBody();return G(_.default,{size:t,className:a,fullscreenOnMobile:!0},void 0,G("form",{className:w.default.form,onSubmit:this.preventDefault},void 0,this.renderHeader(),n!==E.Steps.CONFIRM?G("div",{className:w.default.divider}):null,null!=i&&G(_.default.Content,{outerClassName:w.default.modalContent,momentum:!0},void 0,G("div",{className:w.default.content},void 0,G(C.default,{step:n,steps:r,sideMargin:z},void 0,i))),o.renderFooter()))},o=r,(d=[{key:"disabledTooltip",get:function(){var e=this.props,t=e.needsToBeGift,n=e.isGift,r=e.isGiftable;return this.state.hasAcceptedNeccessaryTerms?t&&!n?r?L.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY:L.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY_UNGIFTABLE:null:L.default.Messages.BILLING_ACCEPT_TERMS_TOOLTIP}}])&&B(o.prototype,d),c&&B(o,c),r}(a.PureComponent);$.displayName="PaymentModal",$.defaultProps={canSubmit:!0,useShinySubmitButton:!1,isSubscription:!1,size:_.default.Sizes.SMALL,renderPrice:function(e){return e},billingError:null,extraRenderers:{},className:w.default.modal};var q=o.default.connectStores([h.default,p.default,c.default,d.default,f.default],function(){return{submitting:c.default.isBusy,paymentSources:h.default.paymentSources,defaultPaymentSourceId:h.default.defaultPaymentSourceId,stripePaymentSource:p.default.stripePaymentSource,creditCardInfo:p.default.getCreditCardInfo(),isCardInfoValid:p.default.isCardInfoValid,billingAddressInfo:p.default.getBillingAddressInfo(),isBillingAddressInfoValid:p.default.isBillingAddressInfoValid,braintreeEmail:p.default.braintreeEmail,braintreeNonce:p.default.braintreeNonce,billingError:p.default.error,paypalClient:f.default.getPayPalClient(),hidePersonalInformation:d.default.hidePersonalInformation}})($);t.default=q},6657:function(e,t,n){"use strict";t.__esModule=!0,t.AddressStepFooter=t.AddressStepBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(441),p(n(124))),i=p(n(148)),l=p(n(220)),s=n(6032),u=p(n(6192)),d=p(n(6024)),c=p(n(13)),f=p(n(5361));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.billingAddressInfo,n=e.billingError,r=e.onBillingAddressChange,o=null!=n&&(null==n.code||(0,s.errorToStep)(n)===s.Steps.ADDRESS);return v(a.Fragment,{},void 0,o?v(d.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,a.createElement(u.default,h({className:f.default.formItem,onBillingAddressChange:r,error:n},t)))};t.AddressStepBody=m,m.displayName="AddressStepBody";var y=function(e){var t=e.isBillingAddressInfoValid,n=e.submitting,r=e.onContinue,a=e.renderBackButton;return v(l.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,a(),v(o.default,{type:"submit",disabled:!t,submitting:n,onClick:r},void 0,c.default.Messages.NEXT))};t.AddressStepFooter=y,y.displayName="AddressStepFooter"},6658:function(e,t,n){"use strict";t.__esModule=!0,t.CreditCardInformationFooter=t.CreditCardInformationBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(n(441),p(n(124))),i=p(n(148)),l=p(n(220)),s=n(6032),u=p(n(6247)),d=p(n(6024)),c=p(n(13)),f=p(n(5361));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.creditCardInfo,n=e.billingError,r=e.onCardInfoChange,o=null!=n&&(null==n.code||(0,s.errorToStep)(n)===s.Steps.CREDIT_CARD_INFORMATION);return v(a.Fragment,{},void 0,o?v(d.default,{className:f.default.errorBlock},void 0,c.default.Messages.BILLING_ERROR_SECTION_CARD):null,a.createElement(u.default,h({className:f.default.formItem,onCardInfoChange:r,error:n},t)))};t.CreditCardInformationBody=m,m.displayName="CreditCardInformationBody";var y=function(e){var t=e.isCardInfoValid,n=e.submitting,r=e.renderBackButton,a=e.onCreditCardContinue;return v(l.default.Footer,{justify:i.default.Justify.BETWEEN,direction:i.default.Direction.HORIZONTAL},void 0,r(),v(o.default,{type:"submit",disabled:!t,submitting:n,onClick:a},void 0,c.default.Messages.NEXT))};t.CreditCardInformationFooter=y,y.displayName="CreditCardInformationFooter"},6659:function(e,t,n){"use strict";t.__esModule=!0,t.PaypalStepFooter=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(124)),o=s(n(148)),i=s(n(220)),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.submitting,n=e.braintreeNonce,r=e.braintreeEmail,s=e.onPaypalContinue,d=e.onReopenPaypal,c=e.renderBackButton,f=0!==r.length&&null!=n;return u(i.default.Footer,{justify:o.default.Justify.BETWEEN,direction:o.default.Direction.HORIZONTAL},void 0,c(),u(a.default,{submitting:t,look:f?a.default.Looks.FILLED:a.default.Looks.OUTLINED,onClick:f?s:d},void 0,f?l.default.Messages.NEXT:l.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN))};t.PaypalStepFooter=d,d.displayName="PaypalStepFooter"},6660:function(e,t,n){"use strict";t.__esModule=!0,t.ReviewStepFooter=t.ReviewStepBody=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(y(n(834)),y(n(124))),i=y(n(6006)),l=y(n(220)),s=y(n(6052)),u=y(n(437)),d=n(823),c=n(836),f=y(n(6125)),p=y(n(6312)),h=y(n(6291)),v=(n(0),y(n(13))),m=y(n(5361));function y(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t=e.legalNotice,n=e.paymentSources,r=e.price,o=e.hidePersonalInformation,l=e.defaultPaymentSourceId,s=e.paymentSourceId,u=e.isGiftable,y=e.isGift,_=e.needsToBeGift,E=e.onPaymentSourceChange,S=e.onPurchaseTermsChange,T=e.onToggleIsGift,O=[],I=null!=s?n[s]:null;return null!=I&&I.invalid&&O.push(g(f.default,{icon:f.default.Icons.WARNING_BOX,color:f.default.Colors.ERROR,iconSize:f.default.Sizes.NONE,iconClassName:m.default.invalidIcon},"source_invalid",v.default.Messages.BILLING_PAYMENT_SOURCE_INVALID)),null!=r&&(r.taxInclusive?O.push(g(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_included",v.default.Messages.BILLING_SALES_TAX_INCLUDED)):r.tax>0&&O.push(g(f.default,{icon:f.default.Icons.RECEIPT,color:f.default.Colors.PRIMARY,iconSize:f.default.Sizes.LARGE},"tax_added",v.default.Messages.BILLING_SALES_TAX_ADDED.format({tax:(0,c.formatPrice)(r.tax,r.currency)})))),g(a.Fragment,{},void 0,g(d.FormTitle,{className:m.default.formTitle},void 0,v.default.Messages.BILLING_PAY_FOR_IT_WITH),g(p.default,{paymentSources:Object.values(n),defaultPaymentSourceId:l,selectedPaymentSourceId:s,hidePersonalInformation:o,onChange:E}),O,u&&g(i.default,{disabled:_,className:m.default.giftToggle,type:i.default.Types.INVERTED,value:y,onChange:T},void 0,g("div",{className:m.default.checkboxLabel},void 0,v.default.Messages.BILLING_IS_GIFT_PURCHASE)),g(h.default,{onChange:S,forceShow:!0,className:m.default.purchaseTerms}),null!=t?g("div",{className:m.default.subscriptionLegal},void 0,t):null)};t.ReviewStepBody=E,E.displayName="ReviewStepBody";var S=function(e){var t=e.canSubmit,n=e.submitButtonText,r=e.useShinySubmitButton,i=e.isPurchasing,d=e.hasAcceptedTerms,c=e.paymentSource,f=e.onPurchase,p=e.tooltipText,h=e.needsToBeGift,v=e.isGift,y=d&&!(h&&!v)&&null!=c&&!c.invalid&&t,E={submitting:i,color:o.default.Colors.GREEN,disabled:!y,onClick:f};return g(l.default.Footer,{},void 0,g("div",{className:m.default.buyButtonTooltipWrapper},void 0,E.disabled&&null!=p?g(u.default,{text:p},void 0,g("div",{"aria-hidden":!0,className:m.default.buyButtonTooltipTarget})):null,r?a.createElement(s.default,E,n):a.createElement(o.default,_({type:"submit"},E),n)))};t.ReviewStepFooter=S,S.displayName="ReviewStepFooter"},6661:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Pages=void 0;var r,a,o,i=y(n(153)),l=y(n(3)),s=y(n(21)),u=y(n(1)),d=y(n(131)),c=y(n(18)),f=y(n(9)),p=y(n(57)),h=y(n(28)),v=y(n(14)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g="homepageNUFComplete",E="homepageNUFPage",S="NUX_WEB_WELCOME",T=f.default.isWeb(),O=(0,i.default)({INITIAL:null,CLAIM:null,JOIN:null,CREATE:null,DOWNLOAD:null,DISABLED:null});t.Pages=O;var I=((r={})[O.CLAIM]=function(){var e=v.default.getCurrentUser();return null!=e&&(T&&!e.isClaimed())},r[O.JOIN]=function(){return T&&!(Object.keys(h.default.getGuilds()).length>0)},r[O.CREATE]=function(){return T&&!(Object.keys(h.default.getGuilds()).length>0)},r[O.DOWNLOAD]=function(){return T},r),C=[[O.CLAIM,!0],[O.JOIN,!0],[O.CREATE,!0],[O.DOWNLOAD,!1]],N=[[O.JOIN,!0],[O.CREATE,!0],[O.CLAIM,!0],[O.DOWNLOAD,!1]],A=!1,M=null,P=null,b=s.default.get(g)||!1,R=null;function L(){return!0}function D(e){return null!=e&&null!=P&&null!=P[e]?P[e][0]:O.INITIAL}function w(e,t,n){T&&c.default.track(m.AnalyticEvents.NUO_TRANSITION_KEY,{flow_type:S,from_step:e,to_step:t,skip:n,seconds_on_from_step:null!=R?(Date.now()-R)/1e3:0})}function U(){if(A=!0,!b){P=function(){var e=G.getExperimentDescriptor();if(null==e||e.bucket===m.ExperimentBuckets.CONTROL)return null;var t=(e.bucket===m.ExperimentBuckets.TREATMENT_1?C:N).filter(function(e){var t=e[0];return null!=I[t]&&I[t]()});return t.length>0?t:null}();var e=G.getExperimentDescriptor();if(null!=e&&T&&d.default.trigger(e),null==P)return void k(!0);var t=s.default.get(E,null);null!=t&&P.forEach(function(e,n){e[0]===t&&(M=n)}),null==M&&(M=0),R=Date.now(),w(O.INITIAL,D(M),!1)}}function k(e){var t=G.getExperimentDescriptor();null!=t&&t.bucket!==m.ExperimentBuckets.CONTROL&&(b=!0,s.default.remove(E),s.default.set(g,!0),w(D(M),O.DISABLED,e))}var G=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.waitFor(v.default,h.default),this.syncWith([p.default],L)},l.getExperimentId=function(){return m.Experiments.HOMEPAGE_NUF},l.getMetaData=function(){return{title:"Homepage NUF",description:["CONTROL: Off","TREATMENT_1: Claim frontloaded","TREATMENT_2: Join/Create frontloaded"]}},l.getExperimentDescriptor=function(){return p.default.getOverrideExperimentDescriptor(this.getExperimentId())||p.default.getEligibleExperiment(this.getExperimentId())},l.isInExperiment=function(){return null!=this.getExperimentDescriptor()},l.isOpen=function(){var e=this.getExperimentDescriptor();return!b&&A&&null!=e&&e.bucket!==m.ExperimentBuckets.CONTROL},l.isTreatment1=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===m.ExperimentBuckets.TREATMENT_1},l.getProps=function(){return{progress:this.progress,pages:this.pages,page:this.page}},a=r,(o=[{key:"page",get:function(){return M}},{key:"pages",get:function(){return P}},{key:"progress",get:function(){var e=this.page;return null==e||null==P?1:Math.min((e+1)/P.length,1)}}])&&_(a.prototype,o),i&&_(a,i),r}(l.default.Store))(u.default,{CONNECTION_OPEN:function(e){return U()},EXPERIMENTS_FETCH_SUCCESS:function(e){return!0},EXPERIMENT_OVERRIDE_TYPE:function(e){return!0},EXPERIMENT_OVERRIDE_BUCKET:function(e){return!0},LOGOUT:function(e){return M=null,P=null,void(A=!1)},HOMEPAGE_NUF_NEXT:function(e){var t=e.isSkip,n=e.autoAdvance;if(null==P)return!1;var r=M;null==P[M+=n?2:1]?k(t):(s.default.set(E,P[M][0]),w(D(r),D(M),t)),R=Date.now()},HOMEPAGE_NUF_DISMISS:function(e){k(e.isSkip)}});d.default.register(G,((o={})[m.ExperimentTypes.NONE]=function(){return null},o[m.ExperimentTypes.USER]=((a={})[m.ExperimentBuckets.CONTROL]=function(){return null},a[m.ExperimentBuckets.TREATMENT_1]=function(){return null},a[m.ExperimentBuckets.TREATMENT_2]=function(){return null},a),o));var F=G;t.default=F},6662:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(2)),a=o(n(6209));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var i=function(e){var t,n;function o(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).animationRef=r.createRef(),t.currentScene=t.props.scene,t.handleLoopComplete=function(){var e=t.props,n=e.onSceneComplete,r=e.scene;null!=n&&n(t.currentScene),t.playScene(r)},t.handleComplete=function(){var e=t.props.onSceneComplete;null!=e&&e(t.currentScene)},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){var e=this,t=this.props,n=t.importData,r=t.scene;n().then(function(t){null!=e.animationRef.current&&(e.animation=a.default.loadAnimation({container:e.animationRef.current,renderer:"svg",loop:!0,autoplay:!0,animationData:t}),e.animation.addEventListener("loopComplete",e.handleLoopComplete),e.animation.addEventListener("complete",e.handleComplete),e.playScene(r))})},i.componentWillUnmount=function(){null!=this.animation&&this.animation.destroy()},i.componentDidUpdate=function(){this.props.scene!==this.currentScene&&this.shouldForcePlayAfter()&&this.playScene(this.props.scene)},i.shouldForcePlayAfter=function(){return!0===this.props.sceneSegments[this.currentScene].shouldForcePlayAfter},i.playScene=function(e){var t=this.props,n=t.onScenePlay,r=t.sceneSegments[e];this.animation.playSegments([r.BEG,r.END],!0),this.currentScene=e,null!=n&&n(this.currentScene)},i.render=function(){return r.createElement("div",{ref:this.animationRef,className:this.props.className})},o}(r.PureComponent);i.displayName="SequencedLottieAnimation";var l=i;t.default=l,e.exports=t.default},6663:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ShineAnimation=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=h(n(17)),s=h(n(153)),u=h(n(303)),d=n(6052),c=n(6137),f=n(0),p=h(n(5480));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=(0,c.hexWithOpacity)(f.Colors.WHITE,0),y=Object.freeze({DURATION:(r={},r[f.PremiumTypes.TIER_1]=1e3,r[f.PremiumTypes.TIER_2]=1500,r),DELAY:(a={},a[f.PremiumTypes.TIER_1]=400,a[f.PremiumTypes.TIER_2]=2200,a),FLASH_TIME_PERCENT:.72,FLASH_DURATION_PERCENT:.08}),_=(0,s.default)({ACTIVATED:null,UPGRADE:null}),g=v("svg",{viewBox:"0 0 224 20"},void 0,v("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725c-.2180941 1.5104167-1.9383804 2.2116667-3.5217777 2.2116667-1.4743503 0-2.9212806-.70125-2.7303955-2.0764584l.955902-6.52604163c.2183051-1.429375 1.9383805-2.1575 3.5217778-2.1575 1.5833974 0 2.9487006.728125 2.7303955 2.1575m-1.9740264-6.55L73.7334599.3135h-10.287759c-.2628098 0-.4859661.19041667-.5239322.44729167l-.5003088 3.37625c-.0468249.315625.2010094.59875.5239322.59875h1.8786893c.1889868 0 .3180715.19041666.2440376.36208333-.2345461.54270833-.4051827 1.13208333-.5000979 1.76854167l-.9559021 6.52604163c-.628128 4.3685417 3.0581695 6.5527084 7.0711865 6.5527084 4.2047457 0 8.3272316-2.1841667 8.9553597-6.5527084l.9552693-6.52604163C81.2096181 2.584125 77.6536708.401 73.733038.31641667M11.9335684 9.250375l.0527307 3.1677083c.0010546.0652084-.0432392.1225-.1071488.1385417l-1.0896271-3.82104167C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.90079167c-.0833145-.1925-.2748324-.3175-.48702072-.3175h-3.8312015c-.26428626 0-.4878644.19229166-.52456498.450625L.00525198 19.0801667c-.0445047.3145833.2026968.5954166.52435405.5954166h3.81664783c.26449718 0 .48849718-.1927083.52456497-.4516666l1.0006177-7.169375c.0008437-.0070834.00126554-.0141667.00126554-.02125l-.054629-3.68395837.10904708-.02666666L7.0715872 12.1435c.00168738.005625.00358568.0108333.00590583.0160417l3.16194347 7.2010416c.0839473.19125.2748324.315.4857552.315h4.133032c.2640754 0 .4878644-.1922916.524565-.450625l2.5549077-18.04624997c.0447157-.31458333-.2026968-.59541666-.524354-.59541666H13.622849c-.2640754 0-.4878644.19208333-.524565.45041666L11.9348339 9.2285c-.0008437.00729167-.0014765.01458333-.0012655.021875m7.386516 10.4251875h3.8174915c.2642862 0 .4878644-.1922917.524565-.450625l2.5544858-18.04625c.0447157-.31458333-.2026968-.59541667-.524354-.59541667h-3.8174915c-.2642863 0-.4878644.19229167-.524565.450625L18.7957303 19.0801458c-.0447156.3145834.2026968.5954167.5243541.5954167M28.7952422 1.00375l-.5000979 3.37604167c-.0468249.31583333.2007984.59875.5239322.59875h3.9946666c.3210245 0 .5684369.28020833.524565.594375L31.456455 19.08125c-.0438719.3141667.2033296.594375.524565.594375h3.8727533c.2644971 0 .4884971-.1929167.5245649-.451875l1.9217175-13.79333333c.0360678-.25895834.2598569-.451875.524565-.451875h4.2950207c.2628098 0 .4857552-.19020834.5239322-.44708334l.5005198-3.37625c.0468249-.315625-.2010094-.59875-.5239322-.59875H29.3191744c-.2628098 0-.4859661.19041667-.5239322.44729167m27.0625326 6.240125c-.136678 1.105625-1.0101093 2.21104167-2.5120904 2.21104167h-2.2566629c-.3220791 0-.5694916-.28145834-.5241432-.59645834l.4775292-3.3225c.0371224-.25791666.2607006-.44958333.5243541-.44958333h2.4068399c1.4471412 0 2.0204294.99791667 1.8841733 2.1575M54.5196806.58325h-7.2656572c-.2640754 0-.4878645.19229167-.5243541.450625l-2.5546968 18.04625c-.0445047.3145833.2029077.5954167.5243541.5954167h3.8714877c.2644972 0 .4884972-.1927084.524565-.4516667l.7517288-5.39c.0181394-.1295833.1301394-.2258333.2623879-.2258333h.4977778c.090275 0 .1742222.0454166.2229454.1204166L54.5274847 19.4345c.0972355.1502083.2653409.2410417.4458908.2410417h4.7818305c.4283842 0 .6793823-.47625.4338682-.8229167l-3.8799247-5.4779167c-.0930169-.1314583-.0451374-.3141666.1008211-.3845833 2.4768663-1.195625 3.9153597-2.420625 4.3895141-5.82729167C61.345142 2.68658333 58.5061213.58325 54.5196806.58325m41.3855608 10.3546042l-.5064256-4.92958337c-.0061167-.06041666-.0577928-.10666666-.1193823-.10666666h-.0006327c-.0499887 0-.0947044.030625-.112211.076875l-1.8417777 4.82770833c-.1305613.3420833.1252881.7075.4954576.7075h1.5580866c.3136422 0 .5585235-.2677083.5268851-.5758333m5.9621546 8.73625h-4.1745839c-.2543729 0-.472678-.1785417-.5203466-.4254167l-.5772956-2.9989583c-.0474577-.246875-.2659737-.4254167-.5201356-.4254167h-4.4049115c-.2094463 0-.3992768.121875-.4840678.3108333l-1.4498832 3.228125c-.0850019.1889584-.2748324.3108334-.4840678.3108334h-4.0775594c-.3914727 0-.6477438-.4052084-.4758418-.7527084L93.6783186.77285417c.0887985-.17958334.273356-.29333334.4756309-.29333334H97.87062c.2490998 0 .4646629.17145834.5176045.411875l3.9965645 18.14854167c.071714.3260417-.179706.6341667-.517393.6341667m15.42742-4.3158334c.299932.1460417.389574.5275.185401.7889584-2.300957 2.9466666-4.934961 3.7979166-7.248783 3.7979166-3.815383 0-7.328724-2.1958333-6.724852-6.5608333l.933334-6.615c.603872-4.33791667 4.775924-6.56104167 8.673566-6.56104167 2.269319 0 4.860927.90604167 6.031549 3.92770834.103984.26854166-.035014.56958333-.306682.6725l-3.313175 1.25375c-.235179.08895833-.496091-.00375-.632136-.21291667-.530682-.81479167-1.539525-1.16770833-2.548158-1.16770833-1.399895.02708333-2.799578.78625-2.991729 2.08770833l-.933333 6.615c-.192151 1.2470833 1.015593 2.0333333 2.388067 2.0333333 1.00336 0 2.115978-.4095833 2.812234-1.3633333.151232-.206875.431337-.2758333.66293-.163125l3.011767 1.4670833zM130.50915 5.35035417l-1.932686 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568436-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037967-.256875.261123-.44729167.523933-.44729167h14.382824c.323134 0 .570758.283125.524144.59875l-.503895 3.40020833c-.037966.256875-.261122.44729167-.523932.44729167h-4.323284c-.264498 0-.488498.19270833-.524565.45166667m10.006936 14.32375003h-3.843857c-.321657 0-.568859-.2808334-.524354-.5954167l2.56925-18.14854167c.03649-.25854166.260279-.450625.524354-.450625h3.843857c.321658 0 .568859.28083334.524354.59541667l-2.56925 18.1485417c-.03649.2583333-.260279.450625-.524354.450625M159.230252.45239583h4.075661c.393582 0 .649643.40895834.473733.75666667l-9.187797 18.175625c-.089642.1772917-.273145.289375-.473732.289375h-3.748309c-.248678 0-.463819-.1708333-.517183-.410625l-4.048874-18.175625c-.072768-.32625.178863-.63541667.517183-.63541667h4.169522c.255849 0 .475209.180625.520979.429375l1.644354 8.91979167c.003797.02083333.006328.041875.007593.06291667l.272513 4.55000003h.05505l1.472031-4.52375003c.006749-.020625.014553-.040625.023834-.06020834L158.749981.7553125c.086689-.18479167.2742-.30291667.480271-.30291667m10.120962 10.48545837l-.506426-4.92958337c-.006117-.06041666-.057793-.10666666-.119382-.10666666h-.000633c-.049989 0-.094704.030625-.112422.076875l-1.841567 4.82770833c-.130561.3420833.125288.7075.495458.7075h1.558086c.313643 0 .558524-.2677083.526886-.5758333m5.962154 8.73625h-4.174584c-.254373 0-.472678-.1785417-.520346-.4254167l-.577296-2.9989583c-.047458-.246875-.265974-.4254167-.520136-.4254167h-4.405122c-.209235 0-.399066.121875-.484068.3108333l-1.449672 3.228125c-.085002.1889584-.274833.3108334-.484068.3108334h-4.077559c-.391473 0-.647744-.4052084-.475842-.7527084L167.124291.77285417c.088798-.17958334.273356-.29333334.475631-.29333334h3.71667c.2491 0 .464452.17145834.517394.411875l3.996776 18.14854167c.071713.3260417-.179707.6341667-.517394.6341667m10.335828-14.32375003l-1.932685 13.87208333c-.036068.25875-.260068.4516667-.524565.4516667h-3.899119c-.321235 0-.568437-.28-.524565-.594375l1.893032-13.5866667c.043661-.314375-.20354-.594375-.524565-.594375h-4.022508c-.323134 0-.570757-.283125-.523932-.59875l.503683-3.40020833c.037966-.256875.261123-.44729167.523932-.44729167h14.382825c.323134 0 .570757.283125.524143.59875l-.503894 3.40020833c-.037966.256875-.261123.44729167-.523932.44729167h-4.323285c-.264497 0-.488497.19270833-.524565.45166667m12.603396 2.55758333h6.659043c.321447 0 .568648.28041667.524565.59479167l-.45728 3.26437503c-.036279.25875-.260068.4514583-.524565.4514583h-6.956234c-.263864 0-.487442.1916667-.524354.4497917l-.261966 1.8277083c-.045137.3147917.202486.59625.524354.59625h7.347706c.320814 0 .567805.2795833.524565.5935417l-.487231 3.5358333c-.035646.2591667-.259646.4525-.524565.4525h-12.460897c-.321657 0-.568858-.2810417-.524354-.595625L193.68063.93002083c.036489-.25833333.260278-.450625.524354-.450625h12.461318c.322079 0 .569492.28166667.524143.59666667l-.508324 3.535625c-.037122.25791667-.260489.44958333-.524354.44958333h-7.644685c-.263654 0-.487021.19125-.524354.44895834l-.260279 1.800625c-.045559.31520833.201853.59708333.524143.59708333m17.071605 7.2115c1.345055 0 2.552588-.731875 2.689899-1.7620833l.933333-6.45250003c.1371-1.05729167-.823653-1.89791667-2.168497-1.89791667h-2.038147c-.263654 0-.487232.19166667-.524354.44958333l-1.304136 9.06624997c-.045348.315.202064.5966667.524143.5966667h1.887759zm1.921296-14.64c3.897642 0 7.273883 1.95208333 6.64238 6.42541667l-.933122 6.45250003c-.631292 4.4189583-4.528934 6.3166666-8.426576 6.3166666h-6.664949c-.321658 0-.56907-.2808333-.524565-.5954166l2.56925-18.1485417c.036701-.25833333.26049-.450625.524565-.450625h6.813017z"})),E=v("svg",{viewBox:"0 0 226 20"},void 0,v("path",{fill:"currentColor",fillRule:"evenodd",d:"M75.7070644 6.86641667L74.7511623 13.25725C74.5330682 14.7676667 72.8127819 15.4689167 71.2293846 15.4689167 69.7550343 15.4689167 68.308104 14.7676667 68.4989891 13.3924583L69.4548911 6.86641667C69.6731962 5.43704167 71.3932716 4.70891667 72.9766689 4.70891667 74.5600663 4.70891667 75.9253695 5.43704167 75.7070644 6.86641667M73.733038.316416667L73.7334599.3135 63.4457009.3135C63.1828911.3135 62.9597348.503916667 62.9217687.760791667L62.4214599 4.13704167C62.374635 4.45266667 62.6224693 4.73579167 62.9453921 4.73579167L64.8240814 4.73579167C65.0130682 4.73579167 65.1421529 4.92620833 65.068119 5.097875 64.8335729 5.64058333 64.6629363 6.22995833 64.5680211 6.86641667L63.612119 13.3924583C62.983991 17.761 66.6702885 19.9451667 70.6833055 19.9451667 74.8880512 19.9451667 79.0105371 17.761 79.6386652 13.3924583L80.5939345 6.86641667C81.2096181 2.584125 77.6536708.401 73.733038.316416667M11.9335684 9.250375L11.9862991 12.4180833C11.9873537 12.4832917 11.9430599 12.5405833 11.8791503 12.556625L11.8791503 12.556625 10.7895232 8.73558333C10.7878358 8.72975 10.7857266 8.724125 10.7834064 8.7185L7.40252505.900791667C7.31921055.708291667 7.12769266.583291667 6.91550433.583291667L3.08430282.583291667C2.82001657.583291667 2.59643842.775583333 2.55973785 1.03391667L.0052519774 19.0801667C-.0392527307 19.39475.207948776 19.6755833.529606026 19.6755833L4.34625386 19.6755833C4.61075104 19.6755833 4.83475104 19.482875 4.87081883 19.2239167L5.87143653 12.0545417C5.87228023 12.0474583 5.87270207 12.040375 5.87270207 12.0332917L5.81807307 8.34933333 5.92712015 8.32266667 7.07158719 12.1435C7.07327458 12.149125 7.07517288 12.1543333 7.07749303 12.1595417L10.2394365 19.3605833C10.3233838 19.5518333 10.5142689 19.6755833 10.7251917 19.6755833L14.8582237 19.6755833C15.1222991 19.6755833 15.3460881 19.4832917 15.3827887 19.2249583L17.9376964 1.17870833C17.9824121.864125 17.7349996.583291667 17.4133424.583291667L13.622849.583291667C13.3587736.583291667 13.1349846.775375 13.098284 1.03370833L11.9348339 9.2285C11.9339902 9.23579167 11.9333574 9.24308333 11.9335684 9.250375M19.3200844 19.6755625L23.1375759 19.6755625C23.4018621 19.6755625 23.6254403 19.4832708 23.6621409 19.2249375L26.2166267 1.1786875C26.2613424.864104167 26.0139299.583270833 25.6922727.583270833L21.8747812.583270833C21.6104949.583270833 21.3869168.7755625 21.3502162 1.03389583L18.7957303 19.0801458C18.7510147 19.3947292 18.9984271 19.6755625 19.3200844 19.6755625M28.7952422 1.00375L28.2951443 4.37979167C28.2483194 4.695625 28.4959427 4.97854167 28.8190765 4.97854167L32.8137431 4.97854167C33.1347676 4.97854167 33.38218 5.25875 33.3383081 5.57291667L31.456455 19.08125C31.4125831 19.3954167 31.6597846 19.675625 31.98102 19.675625L35.8537733 19.675625C36.1182704 19.675625 36.3422704 19.4827083 36.3783382 19.22375L38.3000557 5.43041667C38.3361235 5.17145833 38.5599126 4.97854167 38.8246207 4.97854167L43.1196414 4.97854167C43.3824512 4.97854167 43.6053966 4.78833333 43.6435736 4.53145833L44.1440934 1.15520833C44.1909183.839583333 43.943084.556458333 43.6201612.556458333L29.3191744.556458333C29.0563646.556458333 28.8332083.746875 28.7952422 1.00375M55.8577748 7.243875C55.7210968 8.3495 54.8476655 9.45491667 53.3456844 9.45491667L51.0890215 9.45491667C50.7669424 9.45491667 50.5195299 9.17345833 50.5648783 8.85845833L51.0424075 5.53595833C51.0795299 5.27804167 51.3031081 5.086375 51.5667616 5.086375L53.9736015 5.086375C55.4207427 5.086375 55.9940309 6.08429167 55.8577748 7.243875M54.5196806.58325L47.2540234.58325C46.989948.58325 46.7661589.775541667 46.7296693 1.033875L44.1749725 19.080125C44.1304678 19.3947083 44.3778802 19.6755417 44.6993266 19.6755417L48.5708143 19.6755417C48.8353115 19.6755417 49.0593115 19.4828333 49.0953793 19.223875L49.8471081 13.833875C49.8652475 13.7042917 49.9772475 13.6080417 50.109496 13.6080417L50.6072738 13.6080417C50.6975488 13.6080417 50.781496 13.6534583 50.8302192 13.7284583L54.5274847 19.4345C54.6247202 19.5847083 54.7928256 19.6755417 54.9733755 19.6755417L59.755206 19.6755417C60.1835902 19.6755417 60.4345883 19.1992917 60.1890742 18.852625L56.3091495 13.3747083C56.2161326 13.24325 56.2640121 13.0605417 56.4099706 12.990125 58.8868369 11.7945 60.3253303 10.5695 60.7994847 7.16283333 61.345142 2.68658333 58.5061213.58325 54.5196806.58325M93.6422924.838906711L91.945537 12.8961538C91.7301524 14.4307692 92.995537 15.1846154 94.3686139 15.1846154 95.795537 15.1846154 97.195537 14.4307692 97.4109216 12.8961538L99.1272873.699554828C99.1620169.45276435 99.3731866.269230769 99.6224088.269230769L103.485633.269230769C103.761775.269230769 103.985633.493088394 103.985633.769230769 103.985633.792541409 103.984002.815823514 103.980754.838906711L102.283999 12.8961538C101.664768 17.3653846 97.5186139 19.6 93.7224601 19.6 89.8993831 19.6 86.4532293 17.3653846 87.0724601 12.8961538L88.7888258.699554828C88.8235554.45276435 89.0347251.269230769 89.2839473.269230769L93.147171.269230769C93.4233133.269230769 93.647171.493088394 93.647171.769230769 93.647171.792541409 93.6455408.815823514 93.6422924.838906711zM104.32898 18.7615276L106.854535.699989164C106.889071.453003281 107.100328.269230769 107.349717.269230769L114.533999.269230769C119.191691.269230769 120.941691 3.68846154 120.564768 7.13461538 120.160922 10.7423077 117.495537 13.7576923 112.891691 13.7576923L110.284218 13.7576923C110.034879 13.7576923 109.823647 13.9413937 109.789053 14.1883215L109.128944 18.9001401C109.09435 19.1470678 108.883118 19.3307692 108.633779 19.3307692L104.824163 19.3307692C104.54802 19.3307692 104.324163 19.1069116 104.324163 18.8307692 104.324163 18.807605 104.325773 18.7844687 104.32898 18.7615276zM111.018196 9.47692308L113.241691 9.47692308C114.749383 9.50384615 115.610922 8.29230769 115.77246 7 115.933999 5.73461538 115.314768 4.76538462 113.914768 4.76538462L111.548415 4.76538462C111.29959 4.76538462 111.08863 4.94834957 111.053441 5.19467394L110.523221 8.9062124C110.484168 9.1795794 110.674118 9.43284539 110.947485 9.47189782 110.970907 9.47524377 110.994536 9.47692308 111.018196 9.47692308zM136.745537 4.06538462L132.437845 5.92307692C132.141691 4.79230769 131.118614 4.28076923 130.041691 4.28076923 128.695537 4.28076923 127.268614 5.08846154 127.080152 6.46153846L126.164768 13.0038462C125.976306 14.4576923 127.214768 15.1846154 128.641691 15.1846154 130.041691 15.1846154 131.549383 14.4576923 131.737845 13.0038462L131.770059 12.7622357C131.806555 12.4885157 131.614247 12.2370359 131.340527 12.2005399 131.318621 12.1976191 131.296545 12.1961538 131.274445 12.1961538L129.376392 12.1961538C129.10025 12.1961538 128.876392 11.9722962 128.876392 11.6961538 128.876392 11.6734553 128.877938 11.650783 128.881018 11.6282944L129.282493 8.6975252C129.316412 8.44991846 129.527948 8.26538462 129.777867 8.26538462L136.441959 8.26538462C136.718101 8.26538462 136.941959 8.48924224 136.941959 8.76538462 136.941959 8.78798122 136.940427 8.81055182 136.937374 8.83294122L136.368614 13.0038462C135.749383 17.3923077 131.737845 19.6 127.914768 19.6 124.145537 19.6 120.726306 17.3923077 121.345537 13.0038462L122.260922 6.46153846C122.880152 2.01923077 126.918614.81188398e-13 130.687845.81188398e-13 133.164768.81188398e-13 135.857075 1.02307692 136.745537 4.06538462zM148.966496 19.1002961L145.384578 13.5035501C145.292674 13.3599501 145.133934 13.2730769 144.963443 13.2730769L144.806306 13.2730769C144.559438 13.2730769 144.350437 13.4552565 144.316742 13.6998149L143.600408 18.8990134C143.566317 19.1464475 143.354859 19.3307692 143.105087 19.3307692L139.242624 19.3307692C138.966482 19.3307692 138.742624 19.1069116 138.742624 18.8307692 138.742624 18.807605 138.744234 18.7844687 138.747442 18.7615276L141.272996.699989164C141.307532.453003281 141.51879.269230769 141.768179.269230769L148.95246.269230769C152.883229.269230769 155.683229 2.36923077 155.144768 6.83846154 154.660152 10.3653846 153.15246 11.55 150.540922 12.7884615L154.567536 18.5441512C154.725831 18.7704196 154.670727 19.0821696 154.444459 19.2404644 154.360439 19.2992434 154.26038 19.3307692 154.157841 19.3307692L149.387631 19.3307692C149.21714 19.3307692 149.0584 19.243896 148.966496 19.1002961zM145.543846 9.12692308L147.794768 9.12692308C149.275537 9.12692308 150.137075 8.02307692 150.271691 6.91923077 150.406306 5.76153846 149.840922 4.76538462 148.413999 4.76538462L146.021102 4.76538462C145.772113 4.76538462 145.561066 4.94858458 145.526066 5.19510177L145.048811 8.55664023C145.009995 8.83004089 145.200163 9.08314261 145.473564 9.12195875 145.496845 9.12526419 145.520331 9.12692308 145.543846 9.12692308zM170.032717.662958649L173.961357 18.7244971C174.020049 18.99433 173.848886 19.2606525 173.579053 19.319345 173.544139 19.3269393 173.508511 19.3307692 173.472781 19.3307692L169.337886 19.3307692C169.097759 19.3307692 168.891541 19.1600672 168.846687 18.9241663L168.274387 15.9142952C168.229533 15.6783944 168.023315 15.5076923 167.783188 15.5076923L163.433783 15.5076923C163.23607 15.5076923 163.056925 15.624197 162.976744 15.8049217L161.544329 19.0335398C161.464149 19.2142645 161.285004 19.3307692 161.087291 19.3307692L157.044093 19.3307692C156.76795 19.3307692 156.544093 19.1069116 156.544093 18.8307692 156.544093 18.7546802 156.561459 18.6795947 156.594867 18.6112324L165.421551.549693986C165.505424.37806951 165.679754.269230769 165.870777.269230769L169.544141.269230769C169.779332.269230769 169.982728.43314177 170.032717.662958649zM165.527492 11.2269231L167.105323 11.2269231C167.381465 11.2269231 167.605323 11.0030655 167.605323 10.7269231 167.605323 10.7100689 167.604471 10.6932256 167.60277 10.6764575L167.10274 5.74759572C167.097339 5.6943553 167.052512 5.65384615 166.998999 5.65384615L166.998999 5.65384615C166.942301 5.65384615 166.891533 5.68896864 166.871541 5.74202454L165.059607 10.5506185C164.962237 10.8090244 165.092782 11.0974381 165.351188 11.1948084 165.407542 11.2160435 165.46727 11.2269231 165.527492 11.2269231zM179.412025.269230769L186.111691.269230769C189.934768.269230769 193.246306 2.20769231 192.627075 6.65L191.711691 13.0576923C191.09246 17.4461538 187.269383 19.3307692 183.446306 19.3307692L176.886471 19.3307692C176.610328 19.3307692 176.386471 19.1069116 176.386471 18.8307692 176.386471 18.807605 176.38808 18.7844687 176.391288 18.7615276L178.916842.699989164C178.951378.453003281 179.162636.269230769 179.412025.269230769zM182.353143 14.8076923L184.227075 14.8076923C185.546306 14.8076923 186.730922 14.0807692 186.865537 13.0576923L187.780922 6.65C187.915537 5.6 186.973229 4.76538462 185.653999 4.76538462L183.637975 4.76538462C183.389007 4.76538462 183.177972 4.94855369 183.142947 5.19504556L181.858116 14.2373533C181.819268 14.5107495 182.009408 14.7638728 182.282804 14.80272 182.306104 14.8060307 182.329609 14.8076923 182.353143 14.8076923zM200.238825 5.24852009L199.977836 7.07544317C199.938784 7.34881017 200.128733 7.60207616 200.4021 7.64112859 200.425522 7.64447454 200.449152 7.64615385 200.472811 7.64615385L207.049283 7.64615385C207.325426 7.64615385 207.549283 7.87001147 207.549283 8.14615385 207.549283 8.16907817 207.547707 8.19197536 207.544565 8.21468335L207.090622 11.4954526C207.056403 11.7427585 206.845002 11.9269231 206.59534 11.9269231L199.738225 11.9269231C199.489149 11.9269231 199.278056 12.1102473 199.243157 12.3568663L198.980821 14.2107125C198.942129 14.4841308 199.132413 14.7371457 199.405832 14.775837 199.42904 14.7791211 199.45245 14.7807692 199.475888 14.7807692L206.727496 14.7807692C207.003638 14.7807692 207.227496 15.0046269 207.227496 15.2807692 207.227496 15.3033218 207.22597 15.3258485 207.222929 15.348195L206.739793 18.898195C206.706068 19.1459962 206.494445 19.3307692 206.24436 19.3307692L193.982624 19.3307692C193.706482 19.3307692 193.482624 19.1069116 193.482624 18.8307692 193.482624 18.807605 193.484234 18.7844687 193.487442 18.7615276L196.012996.699989164C196.047532.453003281 196.25879.269230769 196.508179.269230769L208.770284.269230769C209.046426.269230769 209.270284.493088394 209.270284.769230769 209.270284.792751947 209.268624.81624381 209.265317.839531336L208.761175 4.38953134C208.726168 4.63604054 208.515124 4.81923077 208.266142 4.81923077L200.7338 4.81923077C200.484975 4.81923077 200.274015 5.00219572 200.238825 5.24852009zM212.338948.269230769L219.038614.269230769C222.861691.269230769 226.173229 2.20769231 225.553999 6.65L224.638614 13.0576923C224.019383 17.4461538 220.196306 19.3307692 216.373229 19.3307692L209.813394 19.3307692C209.537251 19.3307692 209.313394 19.1069116 209.313394 18.8307692 209.313394 18.807605 209.315003 18.7844687 209.318211 18.7615276L211.843765.699989164C211.878302.453003281 212.089559.269230769 212.338948.269230769zM215.280066 14.8076923L217.153999 14.8076923C218.473229 14.8076923 219.657845 14.0807692 219.79246 13.0576923L220.707845 6.65C220.84246 5.6 219.900152 4.76538462 218.580922 4.76538462L216.564898 4.76538462C216.315931 4.76538462 216.104895 4.94855369 216.069871 5.19504556L214.785039 14.2373533C214.746191 14.5107495 214.936331 14.7638728 215.209727 14.80272 215.233027 14.8060307 215.256532 14.8076923 215.280066 14.8076923z"})),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).animation=new u.default.Value(0),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.animate()},a.animate=function(){var e=this.props.premiumType;u.default.timing(this.animation,{toValue:1,delay:y.DELAY[e],duration:y.DURATION[e]}).start()},a.getContainerStyle=function(){var e=y.FLASH_TIME_PERCENT,t=y.FLASH_DURATION_PERCENT,n=this.props.theme===f.ThemeTypes.DARK?f.Colors.WHITE:f.Colors.BRAND;return{backgroundColor:this.animation.interpolate({inputRange:[0,e,e,e+t,1],outputRange:[m,m,n,n,m]})}},a.getShineStyle=function(){return u.default.accelerate({transform:[{translateX:this.animation.interpolate({inputRange:[0,1],outputRange:["20%","160%"]})}]})},a.renderSvg=function(){return this.props.type===_.ACTIVATED?g:E},a.render=function(){return v(u.default.div,{className:(0,l.default)(p.default.container,this.props.className),style:this.getContainerStyle()},void 0,v(d.Shine,{className:p.default.shine,style:this.getShineStyle()}),this.renderSvg())},r}(i.PureComponent);t.ShineAnimation=S,S.displayName="ShineAnimation",S.Types=_;var T=S;t.default=T},6664:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;d(n(2));var r,a=u(n(904)),o=d(n(6017)),i=u(n(13)),l=u(n(312)),s=u(n(5357));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.title,r=e.onVerify,u=e.authBoxClassName;return c(o.default,{className:u},void 0,c("img",{alt:"",src:n(6282),className:s.default.marginBottom20}),null!=t?c(o.Title,{className:s.default.marginBottom8},void 0,t):null,c(o.Subtitle,{className:s.default.marginBottom40},void 0,i.default.Messages.BEEP_BOOP),c("div",{className:l.default.flexCenter},void 0,c(a.default,{onVerify:r,theme:a.default.Themes.DARK})))};f.displayName="AuthCaptcha";var p=f;t.default=p,e.exports=t.default},6665:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Y(n(2)),o=V(n(4)),i=V(n(156)),l=V(n(3)),s=Y(n(830)),u=Y(n(851)),d=Y(n(315)),c=V(n(824)),f=(n(441),V(n(41))),p=V(n(6277)),h=V(n(35)),v=V(n(232)),m=V(n(6067)),y=V(n(457)),_=V(n(176)),g=V(n(6099)),E=V(n(124)),S=V(n(148)),T=V(n(301)),O=V(n(220)),I=n(6278),C=V(n(6279)),N=V(n(107)),A=V(n(18)),M=V(n(9)),P=n(6032),b=V(n(222)),R=V(n(44)),L=V(n(6024)),D=V(n(6275)),w=V(n(6125)),U=V(n(6666)),k=V(n(6156)),G=V(n(6276)),F=V(n(6280)),j=V(n(6281)),x=n(0),B=V(n(13)),H=V(n(5485));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var X=880,Q="../../../images/store/gifting/gifting-pattern.png";function J(e){if(e.interval!==x.SubscriptionIntervalTypes.DAY)throw new Error("Unexpected trial interval count");return(0,o.default)().add(e.intervalCount,"days").toDate()}var Z=function(){return q("div",{className:H.default.trialFreePeriodBadge},void 0,B.default.Messages.PREMIUM_PAYMENT_TRIAL_TWO_WEEKS_FREE)};Z.displayName="TrialFreePeriodBadge";var ee=q(Z,{}),te=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={paymentSource:null,hasInitialSubscriptionPlan:null!=t.props.subscriptionPlan,playingAnimationSceneTier1:I.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:I.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:I.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:I.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,isPurchasing:!1},t._loadId=i.default.v4(),t._stepStartTime=Date.now(),t._flowStartTime=Date.now(),t._paymentModalRef=a.createRef(),t.closeAndPopLayers=function(){t.close(),s.popLayer()},t.handlePaymentSourceChange=function(e){t.setState({paymentSource:e})},t.handlePurchase=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o,i,l,s,u,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.isGift,o=r.plan,i=r.skuId,l=r.trialId,t.setState({animationSceneTier1:I.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:I.PremiumPaymentAnimationTier2.Scenes.BOOST_START,isPurchasing:!0}),s=null!=l,e.prev=3,A.default.track(x.AnalyticEvents.PAYMENT_FLOW_COMPLETED,W({},t.getBaseAnalyticsData(),{duration_ms:Date.now()-t._flowStartTime,trial_period_length_days:s?x.SubscriptionTrials[x.PREMIUM_SUBSCRIPTION_TRIAL_ID].intervalCount:null})),!a||null==o){e.next=14;break}if(u=x.SubscriptionPlanInfo[o],null!=(c=u.price)){e.next=10;break}throw new Error("Price information is required on plan!");case 10:return e.next=12,d.purchaseSKU(x.PREMIUM_SUBSCRIPTION_APPLICATION,i,{expectedAmount:c,paymentSourceId:n.id,subscriptionPlanId:u.id,isGift:!0});case 12:e.next=16;break;case 14:return e.next=16,t.subscribe(n);case 16:t.setState({animationSceneTier1:I.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:I.PremiumPaymentAnimationTier2.Scenes.BOOST_END,isPurchasing:!1}),e.next=24;break;case 19:throw e.prev=19,e.t0=e.catch(3),t.setState({animationSceneTier1:I.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:I.PremiumPaymentAnimationTier2.Scenes.ERROR,isPurchasing:!1}),A.default.track(x.AnalyticEvents.PAYMENT_FLOW_FAILED,W({},t.getBaseAnalyticsData(),{payment_gateway:n.type===x.PaymentSourceTypes.CARD?x.PaymentGateways.STRIPE:x.PaymentGateways.BRAINTREE,payment_source_id:n.id,duration_ms:Date.now()-t._flowStartTime})),e.t0;case 24:case"end":return e.stop()}},e,null,[[3,19]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){K(o,r,a,i,l,"next",e)}function l(e){K(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleConfirmContinue=function(){t.canInstallPremiumApplications&&(R.default.transitionTo(x.Routes.APPLICATION_STORE),s.popLayer()),t.close()},t.handleAnimationScenePlayTier1=function(e){return t.setState({animationSceneTier1:I.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},t.handleAnimationScenePlayTier2=function(e){return t.setState({animationSceneTier2:I.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},t.trackStepChange=function(e,n){var r=Date.now();A.default.track(x.AnalyticEvents.PAYMENT_FLOW_STEP,W({},t.getBaseAnalyticsData(),{from_step:e,to_step:n,step_duration_ms:r-t._stepStartTime,flow_duration_ms:r-t._flowStartTime})),t._stepStartTime=r},t.renderAnimation=function(){var e=t.props.skuId;return x.PremiumSubscriptionSKUToPremiumType[e]===x.PremiumTypes.TIER_1?q(I.PremiumPaymentAnimationTier1,{className:H.default.headerAnimation,scene:t.state.animationSceneTier1,onScenePlay:t.handleAnimationScenePlayTier1}):q(I.PremiumPaymentAnimationTier2,{className:H.default.headerAnimation,scene:t.state.animationSceneTier2,onScenePlay:t.handleAnimationScenePlayTier2})},t.renderHeader=function(e,n,r){var a=t.props,o=a.paymentError,i=a.plan,l=a.isGift,s=a.application,u=a.skuId,d=x.PremiumSubscriptionSKUToPremiumType[u];if(l&&e===P.Steps.CONFIRM)return q(k.default,{application:s,splashSize:X,overrideSplash:Q});var c=o||r;return q(O.default.Header,{className:H.default.header,direction:S.default.Direction.VERTICAL,align:S.default.Align.START,separator:!1},void 0,q(j.default,{hideCloseOnFullScreen:!0,shouldShowPrice:!0,isGift:l,upgradeToPremiumType:d,plan:i,renderAnimation:t.renderAnimation,onClose:t.close}),null==c||t.shouldShake()?null:q(L.default,{className:H.default.errorBlock},void 0,c.message),l?q(w.default,{className:H.default.headerNote,iconSize:w.default.Sizes.SMALL,icon:T.default.Names.GIFT,color:w.default.Colors.PRIMARY},void 0,B.default.Messages.PREMIUM_PAYMENT_IS_GIFT):null,e===P.Steps.CONFIRM||d!==x.PremiumTypes.TIER_2||M.default.isWindows()?null:q(w.default,{className:H.default.headerNote,icon:w.default.Icons.WARNING_BOX,iconSize:w.default.Sizes.SMALL,color:w.default.Colors.WARNING},void 0,B.default.Messages.PREMIUM_PAYMENT_APPLICATIONS_OS_WARNING),e!==P.Steps.CONFIRM&&n.length>1?q(g.default,{activeId:e,breadcrumbs:n}):null)},t.renderConfirmationBody=function(){var e=t.props,n=e.theme,r=e.isGift,a=e.subscriptionPlan,o=e.followupSKU,i=e.giftCode;if(null!=a){if(r&&null!=i)return t.renderGiftConfirmationBody(a,i);var l=a.premiumSubscriptionType;if(null==l)throw new Error("Premium type cannot be null");return q(F.default,{premiumType:l,theme:n,followupSKU:o,onClose:t.close,onViewGames:t.handleConfirmContinue})}return null},t.handleSelectPlan=function(e,t){u.selectPlan(e.id),t()},t.handlePremiumClick=function(){t.close(),c.default.open(x.UserSettingsSections.PREMIUM)},t.renderSelectPlanBody=function(e){var n=t.props,r=n.subscriptionPlans,a=n.trialId,o=n.isGift,i=n.isGiftingFromChat,l=null!=a;return q("div",{className:H.default.selectPlan},void 0,i?q("div",{className:H.default.giftBlurb},void 0,B.default.Messages.PREMIUM_PAYMENT_GIFT_BLURB.format({onClick:t.handlePremiumClick})):null,q("div",{className:H.default.selectPlanHeader},void 0,q(N.default,{tag:N.default.Tags.H5,className:H.default.selectPlanTitle},void 0,o?B.default.Messages.BILLING_PAYMENT_CHOOSE_GIFT:B.default.Messages.BILLING_PAYMENT_CHOOSE_PLAN),l?ee:null),l?q("div",{className:H.default.trialText},void 0,B.default.Messages.PREMIUM_PAYMENT_TRIAL_BLURB.format({endsAt:J(x.SubscriptionTrials[x.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null,q(U.default,{subscriptionPlans:r,isTrial:l,isGift:o,onSelect:function(n){return t.handleSelectPlan(n,e)}}),l?q("div",{className:H.default.trialNote},void 0,B.default.Messages.PREMIUM_PAYMENT_TRIAL_NOTE.format({endsAt:J(x.SubscriptionTrials[x.PREMIUM_SUBSCRIPTION_TRIAL_ID])})):null)},t.renderSelectPlanFooter=function(){return q(O.default.Footer,{direction:S.default.Direction.HORIZONTAL},void 0,q(E.default,{look:E.default.Looks.LINK,className:H.default.backButton,color:H.default.backButtonColor,size:H.default.backButtonSize,onClick:t.close},void 0,B.default.Messages.CANCEL))},t}$(t,e);var n,r,o,l=t.prototype;return l.componentDidMount=function(){var e=this.props,t=e.followupSKU,n=e.followupSKUInfo;if(null!=n&&null==t){var r=n.applicationId,a=n.id;d.fetchSKU(r,a).catch(x.NOOP_NULL)}A.default.track(x.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},l.close=function(){u.closeModal()},l.getBaseAnalyticsData=function(){var e=this.getPrice(),t=this.props,n=t.plan,r=t.subscriptionPlan;return{load_id:this._loadId,payment_type:"subscription",subscription_plan_gateway_plan_id:n,subscription_type:x.SubscriptionTypes.PREMIUM,subscription_plan_id:null!=r?r.id:null,price:null!=e?e.amount:null,regular_price:null!=e?e.amount:null,currency:null!=e?e.currency:null,is_gift:this.props.isGift,location:this.props.analyticsLocation}},l.getLegalNotice=function(){var e=this.props,t=e.isGift,n=e.skuId;if(t)return B.default.Messages.PREMIUM_PAYMENT_GIFT_SUBTEXT;var r=this.getInterval(),a=b.default.getDisplayPremiumTypeForSku(n);switch(r){case x.SubscriptionIntervalTypes.MONTH:return B.default.Messages.STORE_PAYMENT_LEGALESE_MONTHLY.format({termsURL:x.MarketingURLs.TERMS,planPremiumType:a});case x.SubscriptionIntervalTypes.YEAR:return B.default.Messages.STORE_PAYMENT_LEGALESE_YEARLY.format({termsURL:x.MarketingURLs.TERMS,planPremiumType:a})}},l.getSubmitText=function(){var e=this.props,t=e.skuId,n=e.subscriptionMode,r=e.isGift,a=b.default.getDisplayPremiumTypeForSku(t);if(r)return B.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM_GIFT.format({planPremiumType:a});switch(n){case x.PremiumPaymentSubscriptionModes.NEW:return B.default.Messages.PAYMENT_MODAL_BUTTON_PREMIUM.format({planPremiumType:a});case x.PremiumPaymentSubscriptionModes.RESUBSCRIBE:return B.default.Messages.RESUBSCRIBE;default:return null}},l.getPrice=function(){var e=this.props.plan;return null!=e?b.default.getPrice(e):null},l.getInterval=function(){var e=this.props.plan;return null!=e?b.default.getInterval(e):null},l.subscribe=function(e){var t=this.props,n=t.subscriptionMode,r=t.plan,a=t.subscription,o=t.trialId;if(n===x.PremiumPaymentSubscriptionModes.NEW)return u.subscribe(r,e,o);if(n===x.PremiumPaymentSubscriptionModes.RESUBSCRIBE&&null!=a)return u.resubscribe(a,e);throw new Error("Failed to subscribe")},l.shouldShake=function(){var e=this.props.giftCode,t=this.state,n=t.playingAnimationSceneTier1,r=t.playingAnimationSceneTier2;return null==e&&(I.ShakeScenes.has(n)||I.ShakeScenes.has(r))},l.renderGiftConfirmationBody=function(e,t){var n=this.props.application;return q(S.default,{direction:S.default.Direction.VERTICAL,className:H.default.giftConfirmation},void 0,q(O.default.CloseButton,{onClick:this.close,className:H.default.confirmationCloseButton}),q(G.default,{giftCode:t,application:n,subscriptionPlan:e,onClose:this.closeAndPopLayers}))},l.render=function(){var e=this.props,t=e.isGift,n=e.subscriptionPlan,r=this.state.hasInitialSubscriptionPlan,o=this.shouldShake();return q(C.default,{className:H.default.fullscreenOnMobile,isShaking:o,intensity:2},void 0,a.createElement(D.default,{useShinySubmitButton:!0,ref:this._paymentModalRef,canSubmit:!t||null!=n,isGift:t,isPurchasing:this.state.isPurchasing||o,legalNotice:this.getLegalNotice(),price:this.getPrice(),renderHeader:this.renderHeader,onPurchase:this.handlePurchase,onPaymentSourceChange:this.handlePaymentSourceChange,onClearError:u.clearError,onClose:this.close,renderConfirmationBody:this.renderConfirmationBody,renderSelectPlanBody:this.renderSelectPlanBody,renderSelectPlanFooter:this.renderSelectPlanFooter,submitButtonText:this.getSubmitText(),onStepChange:this.trackStepChange,initialStep:r?null:P.Steps.SELECT_PLAN,prependSteps:r?null:[P.Steps.SELECT_PLAN]}))},n=t,(r=[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"premiumType",get:function(){return x.PremiumSubscriptionSKUToPremiumType[this.props.skuId]}},{key:"canInstallPremiumApplications",get:function(){return this.premiumType===x.PremiumTypes.TIER_2}}])&&z(n.prototype,r),o&&z(n,o),t}(a.Component);te.displayName="PremiumPayment",te.defaultProps={withTrial:!1};var ne=l.default.connectStores([v.default,y.default,p.default,h.default,m.default,_.default,f.default],function(){var e=y.default.getPremiumSubscription(),t=null!=e?e.paymentGateway:null,n=p.default.skuId,r=p.default.followupSKUInfo,a=p.default.plan,o=null!=a?m.default.get(x.SubscriptionPlanInfo[a].id):null;if(null==n)throw new Error("Provide SKU ID for purchase");return{application:f.default.getGame(x.PREMIUM_SUBSCRIPTION_APPLICATION),subscription:e,subscriptionPlans:m.default.getForSKU(n),subscriptionPlan:o,subscriptionMode:p.default.subscriptionMode,skuId:n,followupSKU:null!=r?_.default.get(r.id):null,followupSKUInfo:r,trialId:p.default.trialId,plan:p.default.plan,paymentSourceType:t,paymentError:p.default.paymentError,theme:h.default.theme,isGift:p.default.isGift,isGiftingFromChat:p.default.isGiftingFromChat,giftCode:p.default.giftCode,analyticsLocation:p.default.analyticsLocation}})(te),re=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.close=function(){null!=t.ref.current&&t.ref.current.closable&&t.ref.current.close()},t}return $(t,e),t.prototype.render=function(){return a.createElement(ne,{ref:this.ref})},t}(a.PureComponent);re.displayName="PremiumPaymentModal",re.modalConfig={store:p.default,closable:!0};var ae=re;t.default=ae,e.exports=t.default},6666:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(4)),o=c(n(124)),i=c(n(148)),l=n(836),s=n(0),u=c(n(13)),d=c(n(5484));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){switch(e){case s.SubscriptionIntervalTypes.YEAR:return"years";case s.SubscriptionIntervalTypes.MONTH:return"months";case s.SubscriptionIntervalTypes.DAY:return"days";default:throw new Error("Unexpected interval")}}function h(e,t){return a.default.duration(t.intervalCount,p(t.interval)).asSeconds()-a.default.duration(e.intervalCount,p(e.interval)).asSeconds()}var v=function(){return f("div",{className:d.default.annualDiscount},void 0,"-16%")};v.displayName="AnnualDiscount";var m=f(v,{}),y=function(e){var t=e.subscriptionPlan,n=e.onSelect,r=e.isTrial,a=e.isGift,c=t.interval===s.SubscriptionIntervalTypes.YEAR;return f(i.default,{align:i.default.Align.CENTER,className:d.default.option},void 0,f(i.default.Child,{grow:1},void 0,f("div",{className:d.default.priceRow},void 0,f("div",{className:d.default.price},void 0,(0,l.formatPrice)(t.price,t.currency)),c?m:null),f("div",{className:d.default.interval},void 0,function(e,t){if(t)switch(e){case s.SubscriptionIntervalTypes.YEAR:return u.default.Messages.PAYMENT_MODAL_ONE_YEAR;case s.SubscriptionIntervalTypes.MONTH:return u.default.Messages.PAYMENT_MODAL_ONE_MONTH;default:throw new Error("Unexpected interval")}switch(e){case s.SubscriptionIntervalTypes.YEAR:return u.default.Messages.PAYMENT_MODAL_PER_YEAR;case s.SubscriptionIntervalTypes.MONTH:return u.default.Messages.PAYMENT_MODAL_PER_MONTH;default:throw new Error("Unexpected interval")}}(t.interval,a))),f(o.default,{color:c?o.default.Colors.GREEN:o.default.Colors.PRIMARY,className:d.default.selectButton,onClick:function(){return n(t)}},void 0,r?u.default.Messages.PREMIUM_PAYMENT_START_TRIAL:u.default.Messages.PREMIUM_PAYMENT_SELECT))};y.displayName="PlanSelectorOption";var _=function(e){var t=e.subscriptionPlans,n=e.onSelect,r=e.isTrial,a=e.isGift;return f("div",{},void 0,t.sort(h).map(function(e){return f(y,{subscriptionPlan:e,onSelect:n,isTrial:r,isGift:a},e.id)}))};_.displayName="PlanSelector";var g=_;t.default=g,e.exports=t.default},6667:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o=b(n(2)),i=P(n(17)),l=n(447),s=P(n(3)),u=n(78),d=P(n(839)),c=b(n(6233)),f=b(n(6114)),p=P(n(12)),h=P(n(849)),v=P(n(6006)),m=P(n(148)),y=b(n(6017)),_=P(n(437)),g=P(n(107)),E=P(n(18)),S=n(106),T=P(n(6664)),O=P(n(6457)),I=b(n(6126)),C=n(0),N=P(n(13)),A=P(n(5357)),M=P(n(5645));function P(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}s.default.initialize();var w=/\.$/,U=function(e){return Array.isArray(e)?e.map(function(e){return e.replace(w,"")}).join(". ").trim():e},k=L(I.InviteResolvingHeader,{}),G=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._retryTimer=new u.Timeout,n.handleCaptchaVerify=function(e){return n.setState({captchaKey:e},function(){return n.handleRegister()})},n.handleGotoLogin=function(){var e=n.state.email,t=n.props,r=t.onLoginStart,a=t.giftCode,o=t.transitionTo,i=t.invite,s=t.redirectTo,u=t.isGuest,p=t.location;if(u)return f.close(),void c.open();var h,v=null!=p?(0,l.parse)(p.search):{};null!=i?h=C.Routes.INVITE_LOGIN(i.code):null!=a?h=C.Routes.GIFT_CODE_LOGIN(a.code):null!=s?(h=C.Routes.LOGIN,v.redirect_to=s):(h=C.Routes.LOGIN,""!==e&&(v={email:e})),d.default.loginReset(),o(h,{search:(0,l.stringify)(v)}),null!=r&&r(),S.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE)},n.handleSubmit=function(e){e&&e.preventDefault(),n.handleRegister()},n.renderGiftCodeHeader=function(e){return L(O.default,{giftCode:e})};var r=null!=t.location?(0,l.parse)(t.location.search):{};return n.state={email:r.email||"",username:"",password:"",captchaKey:null,consent:!t.consentRequired,isRateLimited:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,s,p=r.prototype;return p.hasConsent=function(){var e=this.props.consentRequired,t=this.state.consent;return null!=e&&t},p.componentDidMount=function(){this.redirectIfAuthenticated();var e=this.props,t=e.giftCodeSKU,n=e.invite;E.default.track(C.AnalyticEvents.REGISTER_VIEWED,R({location:null!=n?"Invite Register Page":"Non-Invite Register Page",registration_source:this.registrationSource},null!=t?t.getAnalyticsData(!1,!1):{}),!0),null==this.props.consentRequired&&d.default.getConsentRequired()},p.componentWillUnmount=function(){this._retryTimer.stop()},p.UNSAFE_componentWillReceiveProps=function(e){null==this.props.consentRequired&&null!=e.consentRequired&&(e.consentRequired?this.setState({consent:!1}):e.consentRequired||this.setState({consent:!0}))},p.componentDidUpdate=function(e){var t=this,n=this.props,r=n.errors,a=n.authenticated;e.errors!==r&&(this.hasError("email")?null!=this.emailRef&&this.emailRef.focus():this.hasError("username")?null!=this.usernameRef&&this.usernameRef.focus():this.hasError("password")?null!=this.passwordRef&&this.passwordRef.focus():this.hasError("retry_after")&&(this.setState({isRateLimited:!0}),this._retryTimer.start(this.props.errors.retry_after,function(){t.setState({isRateLimited:!1})}))),a&&!e.authenticated&&this.redirectIfAuthenticated()},p.redirectIfAuthenticated=function(){var e=this.props,t=e.authenticated,n=e.transitionTo,r=e.redirectTo;t&&n(null!=r?r:h.default.defaultRoute)},p.handleRegister=function(){var e=this.state,t=e.email,n=e.username,r=e.password,a=e.captchaKey,o=e.consent,i=this.props,l=i.invite,s=i.giftCode,u=i.consentRequired,c=null!=l?l.code:null,f=null!=s?s.skuId:null;null!==u&&(null!=l?d.default.register({username:n,consent:o,invite:c,giftCodeSKUId:f,captchaKey:a}):d.default.registerFull({email:t,username:n,consent:o,password:r,invite:c,giftCodeSKUId:f,captchaKey:a}),S.ComponentDispatch.dispatch(C.ComponentActions.WAVE_EMPHASIZE))},p.hasError=function(e){return null!=this.props.errors[e]},p.renderConsentComponents=function(){var e=this,t=this.state.consent,n=null,r=null;return this.props.consentRequired?r=L(m.default,{className:A.default.marginTop20,align:m.default.Align.CENTER},void 0,L(v.default,{value:t,type:v.default.Types.INVERTED,onChange:function(t,n){return e.setState({consent:n})},className:M.default.checkbox}),L(y.SubText,{},void 0,N.default.Messages.TERMS_PRIVACY_OPT_IN.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY}))):n=L(y.SubText,{className:A.default.marginTop20},void 0,N.default.Messages.TERMS_PRIVACY.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY})),{subText:n,consentText:r}},p.renderInviteResolving=function(){var e=this,t=this.props.authBoxClassName;return L(y.default,{className:t},void 0,k,L(y.Block,{className:A.default.marginTop40},void 0,L(g.default,{},void 0,N.default.Messages.FORM_LABEL_USERNAME),L(_.default,{text:N.default.Messages.AUTH_USERNAME_TOOLTIP,position:_.default.Positions.RIGHT,color:_.default.Colors.BRAND},void 0,L(y.Input,{autoFocus:!0,className:A.default.marginBottom8,name:"username",value:this.state.username,placeholder:N.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})}})),L(y.Button,{className:A.default.marginTop20,disabled:!0},void 0,N.default.Messages.CONTINUE),L(y.Button,{look:y.Button.Looks.LINK,disabled:!0,className:A.default.marginTop8},void 0,N.default.Messages.ALREADY_HAVE_ACCOUNT),L(y.SubText,{disabled:!0,className:A.default.marginTop20},void 0,N.default.Messages.TERMS_PRIVACY.format({termsURL:C.MarketingURLs.TERMS,privacyURL:C.MarketingURLs.PRIVACY}))))},p.renderInvite=function(){var e=this,t=this.props,n=t.invite,r=t.registering,a=t.consentRequired,o=t.authBoxClassName,i=t.errors.username,l=this.state.consent,s=this.renderConsentComponents(),u=s.subText,d=s.consentText,c=L("div",{className:A.default.marginTop20},void 0,L(y.Button,{type:"submit",submitting:r,disabled:!this.hasConsent()},void 0,N.default.Messages.CONTINUE));return!l&&a&&(c=L(_.default,{text:N.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,c)),L(y.default,{onSubmit:this.handleSubmit,tag:"form",className:o},void 0,L(I.default,{invite:n}),L(y.Block,{className:A.default.marginTop40},void 0,L(g.default,{error:U(i)},void 0,N.default.Messages.FORM_LABEL_USERNAME),L(_.default,{text:N.default.Messages.AUTH_USERNAME_TOOLTIP,position:_.default.Positions.RIGHT,color:_.default.Colors.BRAND},void 0,L(y.Input,{autoFocus:!0,className:A.default.marginBottom8,name:"username",value:this.state.username,placeholder:N.default.Messages.FORM_PLACEHOLDER_USERNAME,onChange:function(t){return e.setState({username:t})},error:null!=i?"":null})),d,c,L(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:A.default.marginTop8},void 0,N.default.Messages.ALREADY_HAVE_ACCOUNT),u))},p.renderErrorMessage=function(){var e=this.props.errors.message,t=this.state.isRateLimited;return null!=e&&t?L(y.SubText,{className:(0,i.default)(A.default.marginTop20,M.default.errorMessage)},void 0,e):null},p.renderFull=function(e){var t=this,n=this.state,r=n.email,a=n.username,o=n.password,i=n.consent,l=this.props,s=l.registering,u=l.consentRequired,d=l.isGuest,c=l.authBoxClassName,f=l.errors,p=(f=void 0===f?{}:f).email,h=f.username,v=f.password,m=this.renderConsentComponents(),g=m.subText,E=m.consentText,S=this.renderErrorMessage(),T=L("div",{className:A.default.marginTop20},void 0,L(y.Button,{type:"submit",submitting:s,disabled:!this.hasConsent()||this.state.isRateLimited},void 0,N.default.Messages.CONTINUE));return!i&&u&&(T=L(_.default,{text:N.default.Messages.TERMS_PRIVACY_OPT_IN_TOOLTIP},void 0,T)),L(y.default,{onSubmit:this.handleSubmit,tag:"form",className:c},void 0,d?null:null!=e?e():L(y.Title,{},void 0,N.default.Messages.REGISTER_TITLE),L(y.Block,{className:A.default.marginTop20},void 0,L(y.Input,{autoFocus:!0,label:N.default.Messages.FORM_LABEL_EMAIL,className:A.default.marginBottom20,name:"email",value:r,onChange:function(e){return t.setState({email:e})},error:U(p),type:"email",setRef:function(e){t.emailRef=e}}),L(y.Input,{label:N.default.Messages.FORM_LABEL_USERNAME,className:A.default.marginBottom20,name:"username",value:a,onChange:function(e){return t.setState({username:e})},error:U(h),setRef:function(e){t.usernameRef=e}}),L(y.Input,{label:N.default.Messages.FORM_LABEL_PASSWORD,name:"password",value:o,onChange:function(e){return t.setState({password:e})},error:U(v),type:"password",setRef:function(e){t.passwordRef=e}}),E,T,S,L(y.Button,{look:y.Button.Looks.LINK,onClick:this.handleGotoLogin,className:A.default.marginTop8},void 0,N.default.Messages.ALREADY_HAVE_ACCOUNT),g))},p.render=function(){var e=this,t=this.props,n=t.isGuest,r=t.authBoxClassName;if(this.hasError("captcha_key"))return L(T.default,{authBoxClassName:r,onVerify:this.handleCaptchaVerify,title:n?null:N.default.Messages.REGISTER_TITLE});var a=this.props,o=a.invite,i=a.giftCode;return null!=o?o.state===C.InviteStates.RESOLVING?this.renderInviteResolving():this.renderInvite():null!=i?this.renderFull(function(){return e.renderGiftCodeHeader(i)}):this.renderFull()},a=r,(o=[{key:"registrationSource",get:function(){var e=this.props,t=e.giftCode,n=e.invite;return null!=t?"gift":null!=n?null!=n.guild?"guild_invite":"dm_invite":null}}])&&D(a.prototype,o),s&&D(a,s),r}(o.PureComponent);G.displayName="Register",G.defaultProps={giftCodeResolved:!1,transitionTo:function(e){return r.location.assign(e)}};var F=s.default.connectStores([p.default],function(){return{consentRequired:p.default.getConsentRequired(),authenticated:p.default.isAuthenticated(),registering:p.default.getRegisterStatus(),errors:p.default.getErrors()}})(G);t.default=F,e.exports=t.default}).call(this,n(7))},6680:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetch:function(){r.default.get(o.Endpoints.FRIEND_SUGGESTIONS).then(function(e){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_SUCCESS,suggestions:e.body})},function(){return a.default.dispatch({type:o.ActionTypes.LOAD_FRIEND_SUGGESTIONS_FAILURE})})},ignore:function(e){r.default.delete(o.Endpoints.FRIEND_SUGGESTIONS+"/"+e)}};t.default=l,e.exports=t.default},6681:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(6115))&&r.__esModule?r:{default:r},i=n(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props;(0,n.onChange)(!n.value,e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.value,n=e.activeSrc,r=e.inactiveSrc,i=e.activeSrcHover,s=e.inactiveSrcHover,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","activeSrc","inactiveSrc","activeSrcHover","inactiveSrcHover"]),d=t?n:r,c=t?i:s;return a.createElement(o.default,l({},u,{onClick:this.handleClick,src:d,srcHover:c}))},r}(a.PureComponent);s.displayName="ToggleIcon",s.defaultProps={value:!1,size:o.default.Sizes.MEDIUM,onChange:i.NOOP};var u=s;t.default=u,e.exports=t.default},6682:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={show:function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_SHOW,tutorialId:e,renderData:t})},hide:function(e){a.default.dirtyDispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_HIDE,tutorialId:e})},dismiss:function(e){a.default.dispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_DISMISS,tutorialId:e}),r.default.put(o.Endpoints.TUTORIAL_INDICATORS+"/"+e)},suppressAll:function(){a.default.dispatch({type:o.ActionTypes.TUTORIAL_INDICATOR_SUPPRESS_ALL}),r.default.post(o.Endpoints.TUTORIAL_INDICATORS+"/suppress")}};t.default=l,e.exports=t.default},6683:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(17)),o=u(n(219)),i=u(n(301)),l=n(0),s=u(n(5493));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=Object.freeze({DEFAULT:"",BOLD:"Bold"}),f=function(e){var t,n,r=e.closeAction,u=e.theme,f=e.variant,p=e.keybind;return d("div",{className:s.default.container},void 0,d(o.default,{className:(0,a.default)(s.default.closeButton,(t={},t[s.default.closeButtonBold]=f===c.BOLD,t)),onClick:r},void 0,d(i.default,{name:i.default.Names.CLOSE,color:l.ThemeTypes.DARK===u?l.Colors.PRIMARY_DARK_200:l.Colors.PRIMARY_DARK_400,width:18,height:18})),d("div",{className:(0,a.default)(s.default.keybind,(n={},n[s.default.keybindBold]=f===c.BOLD,n))},void 0,p))};f.displayName="CloseIconWithKeybind",f.defaultProps={variant:c.DEFAULT},f.Variants=c;var p=f;t.default=p,e.exports=t.default},6684:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(8)),a=s(n(1)),o=s(n(493)),i=n(0),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return a.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE}),r.default.post({url:e,body:{password:t}}).then(function(e){return a.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e},function(e){throw a.default.dispatch({type:i.ActionTypes.MFA_SMS_TOGGLE_COMPLETE}),e})}var d={enable:function(e){var t=e.code,n=e.secret;return r.default.post({url:i.Endpoints.MFA_TOTP_ENABLE,body:{code:t,secret:n}}).then(function(e){return a.default.dispatch({type:i.ActionTypes.MFA_ENABLE_SUCCESS,token:e.body.token,codes:e.body.backup_codes})})},disable:function(){(0,o.default)({title:l.default.Messages.TWO_FA_DISABLE,actionText:l.default.Messages.TWO_FA_REMOVE},function(e){return r.default.post({url:i.Endpoints.MFA_TOTP_DISABLE,body:e})},{checkEnabled:!0}).then(function(e){var t=e.body.token;return a.default.dispatch({type:i.ActionTypes.MFA_DISABLE_SUCCESS,token:t})})},enableSMS:function(e){return u(i.Endpoints.MFA_SMS_ENABLE,e)},disableSMS:function(e){return u(i.Endpoints.MFA_SMS_DISABLE,e)},viewBackupCodes:function(e,t){return void 0===t&&(t=!1),r.default.post({url:i.Endpoints.MFA_CODES,body:{password:e,regenerate:t}}).then(function(e){return a.default.dispatch({type:i.ActionTypes.MFA_VIEW_BACKUP_CODES,codes:e.body.backup_codes})})},clearBackupCodes:function(){a.default.dirtyDispatch({type:i.ActionTypes.MFA_CLEAR_BACKUP_CODES})}};t.default=d,e.exports=t.default},6685:function(e,t,n){"use strict";t.__esModule=!0,t.fetchConsents=function(){return r.default.get({url:o.Endpoints.SETTINGS_CONSENT}).then(u,function(e){return Promise.reject(new Error(e.body.message))})},t.setConsents=function(e,t){return r.default.post({url:o.Endpoints.SETTINGS_CONSENT,body:{grant:e,revoke:t}}).then(u,d)};var r=l(n(8)),a=l(n(1)),o=n(0),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){return null!=e&&null!=e.body&&a.default.dispatch({type:o.ActionTypes.UPDATE_CONSENTS,consents:s({},e.body)}),e.body}function d(e){var t;throw t=e.status>=500&&e.status<=599?i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED:null!=e&&null!=e.body&&null!=e.body.message?e.body.message:i.default.Messages.DATA_PRIVACY_UPDATE_CONSENTS_FAILED,new Error(t)}},6686:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=i(n(6246));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=[];var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getPayment=function(e){return l.find(function(t){return t.id===e})},a.getPayments=function(){return l},r}(r.default.Store))(a.default,{BILLING_PAYMENTS_FETCH_SUCCESS:function(e){var t=function(){if(r){if(a>=n.length)return"break";i=n[a++]}else{if((a=n.next()).done)return"break";i=a.value}var e=i;null==l.find(function(t){return t.id===e.id})&&l.push(o.default.createFromServer(e))},n=e.payments,r=Array.isArray(n),a=0;for(n=r?n:n[Symbol.iterator]();;){var i;if("break"===t())break}l.sort(function(e,t){return t.createdAt-e.createdAt}),l=[].concat(l)},LOGOUT:function(e){l=[]}});t.default=s,e.exports=t.default},6687:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=R(n(2)),i=b(n(3)),l=b(n(1)),s=R(n(228)),u=R(n(866)),d=R(n(6118)),c=(n(441),b(n(6084))),f=b(n(6068)),p=b(n(232)),h=b(n(6099)),v=b(n(124)),m=b(n(148)),y=b(n(220)),_=n(823),g=b(n(9)),E=b(n(6192)),S=b(n(6247)),T=b(n(6248)),O=b(n(6024)),I=b(n(6249)),C=b(n(6143)),N=n(6250),A=n(0),M=b(n(13)),P=b(n(5506));function b(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,l,"next",e)}function l(e){L(o,r,a,i,l,"throw",e)}i(void 0)})}}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=Object.freeze({PAYMENT_TYPE:"payment_type",CARD_INFO:"card_info",ADDRESS:"billing_address",PAYMENT_REQUEST_INFO:"payment_request_info",PAYPAL:"paypal"}),F=((r={})[G.PAYMENT_TYPE]=M.default.Messages.PAYMENT_SOURCE_TYPE,r[G.PAYMENT_REQUEST_INFO]=M.default.Messages.BILLING_STEP_PAYMENT_INFO,r[G.CARD_INFO]=M.default.Messages.PAYMENT_SOURCE_INFORMATION,r[G.ADDRESS]=M.default.Messages.BILLING_ADDRESS,r[G.PAYPAL]=M.default.Messages.PAYMENT_SOURCE_PAYPAL_DETAILS,r),j=[G.PAYMENT_TYPE,G.CARD_INFO,G.ADDRESS],x=[G.PAYMENT_TYPE,G.PAYPAL,G.ADDRESS],B=[G.PAYMENT_TYPE,G.PAYMENT_REQUEST_INFO];function H(e){return e.hasCardError()?G.CARD_INFO:e.hasAddressError()?G.ADDRESS:null}var V=U(I.default,{}),Y=function(e){var t,n;function r(){for(var t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).state={type:A.PaymentSourceTypes.CARD,step:G.PAYMENT_TYPE,steps:j,errorStep:null},n.STEPS_DATA=((t={})[G.PAYMENT_TYPE]={renderBody:function(){return U(T.default,{allowStripeRequestPayments:!g.default.embedded,onChooseType:n.handleChooseType,onPaymentSourceReceived:n.handleStripePaymentSource})}},t[G.PAYMENT_REQUEST_INFO]={renderBody:function(){var e=n.props,t=e.stripePaymentSource,r=e.submitting;return U(N.PaymentRequestStepBody,{stripePaymentSource:t,submitting:r})},renderNextButton:function(){var e=n.props.submitting;return U(v.default,{submitting:e,look:v.default.Looks.OUTLINED,disabled:!0})}},t[G.CARD_INFO]={renderBody:function(){var e=n.props,t=e.creditCardInfo,r=e.error,a=null!=r&&(null==r.code||H(r)===G.CARD_INFO);return U(o.Fragment,{},void 0,a?U(O.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_CARD):null,o.createElement(S.default,w({},t,{onCardInfoChange:n.handleCardInfoChange,error:a?r:null})))},renderNextButton:function(){var e=n.props,t=e.isCreditCardInfoValid,r=e.submitting;return U(v.default,{disabled:!t,onClick:n.handleNextClick,type:"submit",submitting:r},void 0,M.default.Messages.NEXT)}},t[G.ADDRESS]={renderBody:function(){var e=n.props,t=e.billingAddressInfo,r=e.error,a=null!=r&&(null==r.code||H(r)===G.ADDRESS);return U(o.Fragment,{},void 0,a?U(O.default,{className:P.default.errorBlock},void 0,M.default.Messages.BILLING_ERROR_SECTION_ADDRESS):null,o.createElement(E.default,w({},t,{onBillingAddressChange:n.handleBillingAddressChange,error:a?r:null})))},renderNextButton:function(){var e=n.props,t=e.submitting,r=e.isBillingAddressInfoValid;return U(v.default,{type:"submit",submitting:t,disabled:!r,onClick:n.state.type===A.PaymentSourceTypes.PAYPAL?n.handlePaypalSave:n.handleCardSave},void 0,M.default.Messages.SAVE)}},t[G.PAYPAL]={renderBody:function(){return V},renderNextButton:function(){var e=n.props,t=e.submitting,r=e.braintreeNonce,a=null!=e.braintreeEmail&&null!=r;return U(v.default,{submitting:t,look:a?v.default.Looks.FILLED:v.default.Looks.OUTLINED,onClick:a?n.handleNextClick:n.handleReopenPaypal},void 0,a?M.default.Messages.NEXT:M.default.Messages.PAYMENT_SOURCE_PAYPAL_REOPEN)}},t),n.handleChooseType=function(e){var t=n.getSteps(e),r=n.getNextStep(t);null!=r&&n.setState({type:e,steps:t,step:r})},n.handleCardInfoChange=function(e,t){l.default.wait(function(){return d.updateCardInfo(e,t)})},n.handleBillingAddressChange=function(e,t){l.default.wait(function(){return d.updateAddressInfo(e,t)})},n.handleBackClick=function(){var e=n.getPreviousStep();null!=e&&(e===G.PAYMENT_TYPE&&d.clearError(),n.setState({step:e}))},n.handleNextClick=function(){var e=n.getNextStep();null!=e&&n.setState({step:e})},n.handleClose=function(){n.props.onClose()},n.handleStripePaymentSource=function(e){d.updateStripePaymentRequest(e),null!=e?n.handleStripePaymentRequestSave(e):n.handleBackClick()},n.handleStripePaymentRequestSave=function(){var e=D(regeneratorRuntime.mark(function e(t){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.createPaymentRequestPaymentSource(t);case 3:r=e.sent,(a=n.props.onAddPaymentSource)&&a(r),n.handleClose(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),n.handleCardSave=D(regeneratorRuntime.mark(function e(){var t,r,a,o,i,l,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.creditCardInfo,a=t.billingAddressInfo,o=t.isCreditCardInfoValid,i=t.isBillingAddressInfoValid,l=t.onAddPaymentSource,o&&i){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,s.createCardPaymentSource(w({},r,{billingAddress:a,type:A.PaymentSourceTypes.CARD,isDefault:!1}));case 6:u=e.sent,l&&l(u),n.handleClose(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:case"end":return e.stop()}},e,null,[[3,11]])})),n.handlePaypalSave=D(regeneratorRuntime.mark(function e(){var t,r,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.braintreeEmail,a=t.braintreeNonce,o=t.billingAddressInfo,i=t.onAddPaymentSource,null==r||null==a){e.next=12;break}return e.prev=2,e.next=5,s.createPaypalPaymentSource(a,o);case 5:l=e.sent,i&&i(l),n.handleClose(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,null,[[2,10]])})),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.error,r=t.errorStep;if(null==n)return null==r?null:{errorStep:null};var a=H(n);return null!=a&&a!==t.errorStep?{step:a,errorStep:a}:null};var a,i,c,f=r.prototype;return f.componentDidMount=function(){u.createClient()},f.componentWillUnmount=function(){l.default.wait(function(){return u.teardown()}),d.clearCardInfo()},f.getSteps=function(e){switch(null!=e?e:this.state.type){case A.PaymentSourceTypes.PAYMENT_REQUEST:return B;case A.PaymentSourceTypes.PAYPAL:return x;default:return j}},f.getNextStep=function(e){void 0===e&&(e=this.state.steps);var t=this.state.step;return e[e.indexOf(t)+1]},f.getPreviousStep=function(e){void 0===e&&(e=this.state.steps);var t=this.state.step;return e[e.indexOf(t)-1]},f.preventDefault=function(e){e.preventDefault()},f.handleReopenPaypal=function(){u.reopenPayPalWindow()},f.renderGenericError=function(){var e=this.props.error;return null==e||null!=H(e)?null:U(O.default,{className:P.default.errorBlock},void 0,e.message)},f.renderFooter=function(){var e=this.stepData;return null==e.renderNextButton?null:U(y.default.Footer,{},void 0,U(m.default,{justify:m.default.Justify.BETWEEN},void 0,U(v.default,{onClick:this.handleBackClick,color:v.default.Colors.WHITE,look:v.default.Looks.LINK,size:v.default.Sizes.MIN},void 0,M.default.Messages.BACK),e.renderNextButton()))},f.render=function(){var e=this.state,t=e.step,n=e.steps,r=n.map(function(e){return{id:e,label:F[e]}});return U(y.default,{fullscreenOnMobile:!0,size:y.default.Sizes.SMALL,className:P.default.modal},void 0,U("form",{className:P.default.form,onSubmit:this.preventDefault},void 0,U(y.default.Header,{separator:!1},void 0,U(m.default,{direction:m.default.Direction.VERTICAL},void 0,U(m.default,{className:P.default.modalTitle,justify:m.default.Justify.BETWEEN,align:m.default.Align.CENTER},void 0,U(_.FormTitle,{tag:_.FormTitleTags.H4},void 0,M.default.Messages.PAYMENT_SOURCES_ADD),U(y.default.CloseButton,{hideOnFullscreen:!0,onClick:this.handleClose})),this.renderGenericError(),U(h.default,{breadcrumbs:r,activeId:t}))),U("div",{className:P.default.divider}),U(y.default.Content,{className:P.default.content,outerClassName:P.default.modalContent},void 0,U(C.default,{step:t,steps:n},void 0,this.stepData.renderBody())),this.renderFooter()))},a=r,(i=[{key:"stepData",get:function(){var e=this.state.step,t=this.STEPS_DATA[e];if(null==t)throw new Error("Invalid step "+e);return t}}])&&k(a.prototype,i),c&&k(a,c),r}(o.PureComponent);Y.displayName="AddPaymentModal";var W=i.default.connectStores([f.default,p.default,c.default],function(){return{braintreeEmail:f.default.braintreeEmail,braintreeNonce:f.default.braintreeNonce,stripePaymentSource:f.default.stripePaymentSource,creditCardInfo:f.default.getCreditCardInfo(),isCreditCardInfoValid:f.default.isCardInfoValid,billingAddressInfo:f.default.getBillingAddressInfo(),isBillingAddressInfoValid:f.default.isBillingAddressInfoValid,error:f.default.error,submitting:c.default.isBusy}})(Y);t.default=W,e.exports=t.default},6692:function(e,t,n){e.exports=n.p+"59c726954bd8424f376ca3a7eedc4c54.svg"},6693:function(e,t,n){e.exports=n.p+"fe5ef0f14b8d025d73465e2d76913e20.svg"},6694:function(e,t,n){"use strict";t.__esModule=!0,t.generateVerificationLevelOptions=function(){return[{name:o.default.Messages.VERIFICATION_LEVEL_NONE,desc:o.default.Messages.VERIFICATION_LEVEL_NONE_CRITERIA,value:a.VerificationLevels.NONE},{name:o.default.Messages.VERIFICATION_LEVEL_LOW,desc:o.default.Messages.VERIFICATION_LEVEL_LOW_CRITERIA,value:a.VerificationLevels.LOW,color:a.Colors.STATUS_GREEN},{name:o.default.Messages.VERIFICATION_LEVEL_MEDIUM,desc:o.default.Messages.VERIFICATION_LEVEL_MEDIUM_CRITERIA.format({min:a.VerificationCriteria.ACCOUNT_AGE}),value:a.VerificationLevels.MEDIUM,color:a.Colors.STATUS_YELLOW},{name:"(╯°□°）╯︵ ┻━┻",desc:o.default.Messages.VERIFICATION_LEVEL_HIGH_CRITERIA.format({min:a.VerificationCriteria.MEMBER_AGE}),value:a.VerificationLevels.HIGH,color:a.UNSAFE_Colors.ORANGE},{name:"┻━┻ ﾐヽ(ಠ益ಠ)ノ彡┻━┻",desc:o.default.Messages.VERIFICATION_LEVEL_VERY_HIGH_CRITERIA,value:a.VerificationLevels.VERY_HIGH,color:a.Colors.STATUS_RED}]},t.generateContentFilterOptions=function(){return[{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_DISABLED_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.DISABLED},{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_MEDIUM_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.MEMBERS_WITHOUT_ROLES},{name:o.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH,desc:o.default.Messages.EXPLICIT_CONTENT_FILTER_HIGH_DESCRIPTION,value:a.GuildExplicitContentFilterTypes.ALL_MEMBERS}]},t.generateDMSafetyOptions=function(){return[{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_FRIENDS_AND_NON_FRIENDS_HELP,value:a.ExplicitContentFilterTypes.FRIENDS_AND_NON_FRIENDS,color:a.Colors.STATUS_GREEN},{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_NON_FRIENDS_HELP,value:a.ExplicitContentFilterTypes.NON_FRIENDS,color:a.Colors.STATUS_YELLOW},{name:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED,desc:o.default.Messages.USER_EXPLICIT_CONTENT_FILTER_DISABLED_HELP,value:a.ExplicitContentFilterTypes.DISABLED,color:a.Colors.STATUS_RED}]};var r,a=n(0),o=(r=n(13))&&r.__esModule?r:{default:r}},6695:function(e,t,n){e.exports=n.p+"4bc527c257233fc69b94342d77bcb9ee.svg"},6696:function(e,t,n){e.exports=n.p+"896770bf2d6ed0358ed0adefdbe96a24.svg"},6697:function(e,t,n){"use strict";t.__esModule=!0,t.Header=t.Application=t.User=t.GroupDM=t.Channel=t.Guild=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(6021)),i=h(n(6698)),l=h(n(219)),s=h(n(6005)),u=h(n(6019)),d=h(n(301)),c=h(n(6080)),f=n(6023),p=h(n(5513));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){e.preventDefault();var n=t.props.onClick,r=m(t).node;null!=r&&n(e,r)},t.handleMouseEnter=function(e){var n=t.props.onMouseEnter,r=m(t).node;null!=r&&n(e,r)},t.setRef=function(e){t.node=e},t}y(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.focused,n=e.onFocus,r=this.node;t&&null!=r&&n(r)},n.componentDidUpdate=function(e){var t=this.props,n=t.focused,r=t.onFocus,a=this.node;null!=a&&n&&!e.focused&&r(a)},n.render=function(){var e=this.props,t=e.focused,n=e.children;return v(l.default,{innerRef:this.setRef,className:t?p.default.resultFocused:p.default.resultDefault,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter},void 0,n)},t}(a.PureComponent);_.displayName="Result";var g=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.guild;return v("div",{className:p.default.guildIconContainer},void 0,v(u.default,{guild:e,size:u.default.Sizes.MINI,className:p.default.guildIcon}))},n.renderName=function(){var e=this.props.guild;return v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,e.name))},n.renderContent=function(){var e=this.props,t=e.unread,n=e.children;return v("div",{className:t?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,n))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(_,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Guild=g,g.displayName="Guild";var E=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.channel,t=(0,f.getIconNameForChannel)(e);return null==t?null:v("div",{className:p.default.iconContainer},void 0,v(d.default,{name:t,className:p.default.icon,width:16,height:16}))},n.renderName=function(){var e,t,n=this.props,r=n.mentions,a=n.category,o=n.channel;return null!=r&&r>0&&(e=v(i.default,{className:p.default.badge,value:r})),null!=a&&(t=v("span",{className:p.default.note},void 0,a.toString())),v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,o.toString()),e,this.renderVoiceStates(),t)},n.renderVoiceStates=function(){var e=this.props.voiceStates;return null==e?null:v(c.default,{users:e.map(function(e){return{user:e.user}}),max:4})},n.renderContent=function(){var e=this.props,t=e.unread,n=e.mentions,r=e.children;return v("div",{className:t||null!=n&&n>0?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,r))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(_,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Channel=E,E.displayName="Channel",E.defaultProps={unread:!1};var S=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.channel;return v("div",{className:p.default.dmIconContainer},void 0,v(o.default,{channel:e,size:"xsmall"}))},n.renderName=function(){var e,t=this.props,n=t.mentions,r=t.channel;return null!=n&&n>0&&(e=v(i.default,{className:p.default.badge,value:n})),v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,r.toString()),e)},n.renderContent=function(){var e=this.props,t=e.mentions,n=e.children;return v("div",{className:null!=t&&t>0?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,n))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(_,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.GroupDM=S,S.displayName="GroupDM";var T=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderIcon=function(){var e=this.props.user;return v("div",{className:p.default.iconContainer},void 0,v(o.default,{user:e,size:"xsmall"}))},n.renderName=function(){var e,t,n=this.props,r=n.user,a=n.comparator,o=n.mentions,l=n.nickname;if(null!=o&&o>0&&(e=v(i.default,{className:p.default.badge,value:o})),null!=a&&a===r.tag){var s=a.split("#");s.pop(),t=s.join("#")}else t=a||r.username;return t===r.username&&(t=l||t),v("div",{className:p.default.name},void 0,v("span",{className:p.default.match},void 0,t),e,v("span",{className:p.default.username},void 0,r.tag))},n.renderContent=function(){var e=this.props,t=e.children,n=e.mentions;return v("div",{className:null!=n&&n>0?p.default.contentUnread:p.default.contentDefault},void 0,this.renderIcon(),this.renderName(),v("div",{className:p.default.misc},void 0,t))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(_,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.User=T,T.displayName="User";var O=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.renderContent=function(){var e=this.props,t=e.children,n=e.application;return v("div",{className:p.default.contentDefault},void 0,v("div",{className:p.default.iconContainer},void 0,v(s.default,{className:p.default.gameIcon,game:n,size:p.default.gameIconSize})),n.name,v("div",{className:p.default.misc},void 0,t))},n.render=function(){var e=this.props,t=e.onMouseEnter,n=e.onClick,r=e.onFocus,a=e.focused;return v(_,{onMouseEnter:t,onClick:n,onFocus:r,focused:a},void 0,this.renderContent())},t}(a.Component);t.Application=O,O.displayName="Application";var I=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){return v("div",{className:p.default.resultDefault},void 0,v("div",{className:p.default.contentDefault},void 0,v("div",{className:p.default.header},void 0,this.props.children)))},t}(a.Component);t.Header=I,I.displayName="Header"},6698:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=i(n(17)),o=i(n(5512));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=function(e){var t=e.value,n=void 0===t?0:t,i=e.text,s=e.className,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["value","text","className"]);return null!=i?r.createElement("div",l({className:(0,a.default)(o.default.wrapper,s)},u),i):n>0?r.createElement("div",l({className:(0,a.default)(o.default.wrapper,s)},u),n):null};t.default=s,e.exports=t.default},6699:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(113)),l=u(n(308)),s=u(n(494));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){return f("div",{style:{width:"100%",height:e.height,visibility:"hidden"}})};p.displayName="Spacer";var h=function(){function e(e){var t=e.sectionHeight,n=e.rowHeight,r=e.footerHeight,a=e.sections,o=e.uniform,i=e.paddingTop,l=e.paddingBottom;this.sectionHeight=t,this.rowHeight=n,this.footerHeight=r,this.numberOfSections=a.length,this.numberOfRows=a.reduce(function(e,t){return e+t},0),this.sections=a,this.uniform=o,this.paddingTop=i,this.paddingBottom=l}var t=e.prototype;return t.getHeight=function(){for(var e=this.paddingTop,t=0;t<this.numberOfSections;t++){if(e+=this.getHeightForSection(t),this.uniform)e+=this.sections[t]*this.getHeightForRow(t);else for(var n=0;n<this.sections[t];n++)e+=this.getHeightForRow(t,n);e+=this.getHeightForFooter(t)}return e+this.paddingBottom},t.getHeightForSection=function(e){var t=this.sectionHeight;return"number"==typeof t?t:t(e)},t.getHeightForRow=function(e,t){var n=this.rowHeight;return"number"==typeof n?n:n(e,t)},t.getHeightForFooter=function(e){var t=this.footerHeight;return"number"==typeof t?t:t(e)},t.compute=function(e,t){var n=this.sections,r=this.paddingTop,a=this.paddingTop,o=this.paddingBottom,i=[];function l(n){var i=r;return(r+=n)<e?(a+=n,!1):!(i>t)||(o+=n,!1)}for(var s=0;s<n.length;s++){var u=n[s];if(0!==u){if(l(this.getHeightForSection(s))&&i.push({section:s}),this.uniform)for(var d=this.getHeightForRow(s),c=0;c<u;c++)l(d)&&i.push({section:s,row:c});else for(var f=0;f<u;f++)l(this.getHeightForRow(s,f))&&i.push({section:s,row:f});l(this.getHeightForFooter(s))&&i.push({section:s,footer:!0})}}return{spacerTop:a,spacerBottom:o,items:i}},t.computeScrollPosition=function(e,t){for(var n=this.sections,r=this.paddingTop,a=0,o=!1;a<=e;){var i=n[a];if(0!==i){if(r+=this.getHeightForSection(a),this.uniform){var l=this.getHeightForRow(a);a===e?(r+=l*t,o=!0):r+=l*i}else for(var s=0;s<i;s++)if(a<e||a===e&&s<t)r+=this.getHeightForRow(a,s);else if(a===e&&s===t){o=!0;break}o||(r+=this.getHeightForFooter(a)),a+=1}else a+=1}return{scrollTop:r,rowHeight:this.getHeightForRow(e,t)}},e}(),v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={spacerTop:0,spacerBottom:0,items:[],scrolling:!1},c(n).handleResize=n.handleResize.bind(c(n)),c(n).handleScroll=n.handleScroll.bind(c(n)),c(n).setScrollerRef=n.setScrollerRef.bind(c(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidMount=function(){this.setState(this.getStateFromScroller())},u.UNSAFE_componentWillReceiveProps=function(e){e.uniform&&(0,i.default)(e,this.props)||this.setState(this.getStateFromScroller(e))},u.componentDidUpdate=function(e,t){t.containerHeight!==this.getContainerHeight()&&this.setState(this.getStateFromScroller())},u.componentWillUnmount=function(){null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout)},u.setScrollerRef=function(e){this._scroller=e},u.getStateFromScroller=function(e){void 0===e&&(e=this.props);var t=e,n=t.sectionHeight,r=t.rowHeight,a=t.footerHeight,o=t.sections,i=t.uniform,l=t.paddingTop,s=t.paddingBottom,u=new h({sectionHeight:n,rowHeight:r,footerHeight:a,sections:o,uniform:i,paddingTop:l,paddingBottom:s}),c=this.getScrollTop(),f=this.getContainerHeight(),p=Math.ceil(f/2),v=p*Math.ceil(c/p),m=v+p,y=d({containerHeight:f},u.compute(Math.max(0,v-p),Math.min(u.getHeight(),m+p))),_=this.props.onScrollerStateUpdate;return null!=_&&_(y),y},u.handleResize=function(e){this.setState(this.getStateFromScroller());var t=this.props.onResize;null!=t&&t(e)},u.handleScroll=function(e){var t=this;null!=this._scrollingTimeout&&clearTimeout(this._scrollingTimeout),this._scrollingTimeout=setTimeout(function(){return t.setState({scrolling:!1})},100),this.setState(d({},this.getStateFromScroller(),{scrolling:!0}));var n=this.props.onScroll;null!=n&&n(e)},u.renderItems=function(){var e=this.props,t=e.renderSection,n=e.wrapSection,r=e.renderRow,a=e.renderFooter,o=[],i=[],l=0;return this.state.items.forEach(function(e){var s=e.section,u=e.row;!0===e.footer?(i.push(a(s)),o.push(null!=n?n(l,i):i),i=[]):(l=s,null==u?i.push(t(s)):i.push(r(s,u)))}),i.length>0&&o.push(n?n(l,i):i),o},u.render=function(){var e,t=this.props,n=t.children,r=t.track,i=t.theme,u=t.className,c=t.backgroundColor,h=(t.footerHeight,t.onScrollerStateUpdate,t.renderFooter,t.renderRow,t.renderSection,t.rowHeight,t.sectionHeight,t.sections,t.uniform,t.wrapSection,t.paddingTop,t.paddingBottom,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children","track","theme","className","backgroundColor","footerHeight","onScrollerStateUpdate","renderFooter","renderRow","renderSection","rowHeight","sectionHeight","sections","uniform","wrapSection","paddingTop","paddingBottom"])),v=this.state,m=v.spacerTop,y=v.spacerBottom,_=v.scrolling;return a.createElement(l.default,d({},h,{ref:this.setScrollerRef,className:(0,o.default)(u,(e={},e[s.default.scrolling]=_,e)),onResize:this.handleResize,onScroll:this.handleScroll,track:r,theme:i,backgroundColor:c}),n,f(p,{height:m}),this.renderItems(),f(p,{height:y}))},u.getItems=function(){return this.state.items},u.isItemVisible=function(e,t){var n=this.getScrollPosition(e,t),r=this.getScrollTop(),a=this.getContainerHeight();return!(n.scrollTop<r-n.rowHeight||n.scrollTop+n.rowHeight>r+a)},u.getScrollPosition=function(e,t){var n=this.props,r=n.sectionHeight,a=n.rowHeight,o=n.footerHeight,i=n.sections,l=n.uniform,s=n.paddingTop,u=n.paddingBottom;return new h({sectionHeight:r,rowHeight:a,footerHeight:o,sections:i,uniform:l,paddingTop:s,paddingBottom:u}).computeScrollPosition(e,t)},u.getScrollerNode=function(){return this._scroller&&this._scroller.getScrollerNode()},u.getScrollTop=function(){return this._scroller&&this._scroller.getScrollData().scrollTop||0},u.getContainerHeight=function(){return this._scroller&&this._scroller.getScrollData().offsetHeight||0},u.getScrollData=function(){return this._scroller&&this._scroller.getScrollData()},u.scrollIntoView=function(e,t,n){this._scroller&&this._scroller.scrollIntoViewRect(e,t,n)},u.scrollTo=function(e,t,n){void 0===t&&(t=!1),this._scroller&&this._scroller.scrollTo(e,t,n)},u.scrollToRow=function(e,t,n,r){void 0===r&&(r=0);var a=this.getScrollPosition(e,t),o=this.getScrollTop(),i=this.getContainerHeight();a.scrollTop<o+r?this.scrollTo(a.scrollTop-r,n):a.scrollTop+a.rowHeight>o+i&&this.scrollTo(a.scrollTop-i+a.rowHeight+r,n)},r}(a.PureComponent);t.default=v,v.displayName="List",v.Themes=l.default.Themes,v.defaultProps={track:!1,renderSection:function(){return null},renderFooter:function(){return null},sectionHeight:0,footerHeight:0,paddingTop:0,paddingBottom:0,uniform:!0,theme:l.default.Themes.GHOST},e.exports=t.default},6700:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=n(178),l=u(n(438)),s=u(n(5823));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c={CONTAIN:"contain",COVER:"cover"},f=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleReady=function(){n.state.loading&&n.setState({loading:!1})},n.state={loading:null==t.streamId},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderSpinner=function(){return this.state.loading?d("div",{className:s.default.spinner},void 0,d(l.default,{type:l.default.Type.SPINNING_CIRCLE})):null},a.render=function(){var e,t=this.props,n=t.streamId,r=t.videoComponent,a=t.className,l=t.fit,u=t.mirror,c=t.paused;return d("div",{className:s.default.wrapper},void 0,null!=n&&d(r,{className:(0,o.default)(s.default.video,(0,i.getClass)(s.default,"video",l),(e={},e[s.default.mirror]=u,e),a),streamId:n,onReady:this.handleReady,paused:c}),this.renderSpinner())},r}(a.PureComponent);f.displayName="VideoStream",f.Fit=c,f.defaultProps={fit:c.CONTAIN,mirror:!1,paused:!1};var p=f;t.default=p,e.exports=t.default},6701:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.QuickSelectPopout=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(148)),l=u(n(308)),s=u(n(5522));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,a=e.className;return c(i.default,{className:(0,o.default)(s.default.quickSelect,a),align:i.default.Align.CENTER},void 0,c("div",{className:s.default.quickSelectLabel},void 0,t),c(i.default,{align:i.default.Align.CENTER,className:s.default.quickSelectClick},void 0,c("div",{className:s.default.quickSelectValue},void 0,r?r(n):n.label),c("div",{className:s.default.quickSelectArrow})))},t}(a.PureComponent);p.displayName="QuickSelect";var h=function(e){function t(t){var n;return d(n=e.call(this,t)||this).handleClick=n.handleClick.bind(d(n)),n}f(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.selected,n=e.renderOption,r=e.option;return c(i.default,{className:(0,o.default)(s.default.quickSelectPopoutOption,{selected:t}),onClick:this.handleClick},void 0,n(r,t))},n.handleClick=function(){var e=this.props,t=e.option,n=e.onChange;n&&n(t)},t}(a.PureComponent);h.displayName="QuickSelectPopoutOption";var v=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.renderContent=function(){var e=this.props,t=e.options,n=e.renderOption,r=e.value,a=e.scroller,o=e.onChange,i=t.map(function(e){var t=null!=r&&e.value===r.value,a=t?void 0:o;return c(h,{className:s.default.quickSelectPopoutOption,renderOption:n,option:e,onChange:a,selected:t},e.key||e.value)});return a?c(l.default,{className:s.default.quickSelectScroller},void 0,i):i},n.render=function(){var e,t=this.props,n=t.className,r=t.scroller,a=(0,o.default)(s.default.quickSelectPopout,n,((e={})[s.default.quickSelectPopoutScroll]=r,e));return c(i.default,{className:a,direction:i.default.Direction.VERTICAL},void 0,this.renderContent())},t}(a.PureComponent);t.QuickSelectPopout=v,v.displayName="QuickSelectPopout";var m=p;t.default=m},6713:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(148)),l=u(n(220)),s=u(n(5529));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){var t,n;function r(t){var n;return c(n=e.call(this,t)||this).setRef=n.setRef.bind(c(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.setRef=function(e){this._scroller=null!=e?e.getScroller():null},u.getScrollerNode=function(){var e=this._scroller;return e?e.getScrollerNode():null},u.render=function(){var e,t=this.props,n=t.renderFooter,r=t.selectable,u=t.renderHeader,c=t.className,f=t.onClose,p=t.children,h=t.onScroll;return n&&(e=d(l.default.Footer,{direction:i.default.Direction.HORIZONTAL},void 0,n())),a.createElement(l.default,{className:s.default.modal,size:s.default.size,ref:this.setRef,onScroll:h},d(l.default.Header,{},void 0,u(),d(i.default.Child,{grow:0},void 0,d(l.default.CloseButton,{onClick:f}))),d(l.default.Content,{className:(0,o.default)(c,s.default.content,{selectable:r})},void 0,p),e)},r}(a.PureComponent);f.displayName="Markdown",f.defaultProps={selectable:!1};var p=f;t.default=p,e.exports=t.default},6714:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=ye(n(2)),o=me(n(17)),i=n(6),l=me(n(96)),s=me(n(453)),u=me(n(3)),d=n(78),c=me(n(1)),f=me(n(873)),p=n(6923),h=n(465),v=me(n(77)),m=n(841),y=me(n(5993)),_=me(n(6104)),g=(me(n(110)),me(n(835)),me(n(855)),me(n(852))),E=me(n(41)),S=me(n(28)),T=me(n(149)),O=me(n(6129)),I=me(n(35)),C=me(n(151)),N=me(n(6630)),A=me(n(6140)),M=me(n(850)),P=me(n(176)),b=me(n(831)),R=me(n(185)),L=me(n(124)),D=me(n(6020)),w=me(n(148)),U=me(n(301)),k=me(n(6924)),G=me(n(308)),F=me(n(438)),j=me(n(437)),x=me(n(18)),B=n(6010),H=n(836),V=me(n(44)),Y=n(127),W=n(6202),K=me(n(5996)),z=me(n(6029)),$=me(n(6027)),q=me(n(6063)),X=me(n(6925)),Q=me(n(6926)),J=me(n(6928)),Z=me(n(6929)),ee=me(n(6930)),te=me(n(6931)),ne=me(n(6933)),re=me(n(6938)),ae=ye(n(6633)),oe=me(n(6939)),ie=me(n(6945)),le=me(n(6628)),se=me(n(6948)),ue=me(n(6950)),de=ye(n(6951)),ce=me(n(6952)),fe=n(0),pe=me(n(13)),he=n(6051),ve=me(n(5578));function me(e){return e&&e.__esModule?e:{default:e}}function ye(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _e(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Se=8e3,Te=1500,Oe=50;function Ie(e){return location.protocol+"//"+location.host+e}var Ce=_e(F.default,{}),Ne=_e(X.default,{}),Ae=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).showCopyLinkTextTimeout=new d.Timeout,t._purchaseRef=a.createRef(),t._trackedViewed=!1,t._analyticsSource=null,t._extraAnalyticsProperties=null,t.state={showHeaderPurchaseUnit:!1,showLinkCopied:!1},t.trackCarouselScroll=function(e,n,r){var a=t.props.sku;null!=a&&x.default.track(fe.AnalyticEvents.STORE_LISTING_MEDIA_SCROLLED,ge({},a.getAnalyticsData(),{card_index:r,card_type:e.type===fe.CarouselMediaTypes.IMG?"image":"video"}))},t.copyCurrentUrl=function(){var e=t.props.location;(0,B.copy)(Ie(e.pathname)),t.setState({showLinkCopied:!0},function(){t.showCopyLinkTextTimeout.start(Te,function(){t.setState({showLinkCopied:!1})})})},t.handleCreateInstantInvite=function(){var e=t.props,n=e.channel,r=e.guild;null!=n&&null!=r&&v.default.push($.default,{guild:r,channel:n,source:fe.InstantInviteSources.GUILD_CHANNELS})},t.renderInviteLink=function(){var e=t.props,n=e.channel,r=e.guild;return null==n||null==r?null:T.default.can(fe.Permissions.CREATE_INSTANT_INVITE,r)||null!=r.vanityURLCode?_e(L.default,{look:L.default.Looks.BLANK,size:L.default.Sizes.NONE,onClick:t.handleCreateInstantInvite,className:ve.default.link},void 0,_e(U.default,{name:U.default.Names.LINK,className:ve.default.linkIcon})):null},t.renderCopyLink=function(){var e=t.state.showLinkCopied;return t.isChannelType?t.renderInviteLink():_e(j.default,{text:e?pe.default.Messages.APPLICATION_STORE_LINK_COPIED:null,position:j.default.Positions.LEFT,forceOpen:e},void 0,_e(L.default,{look:L.default.Looks.BLANK,size:L.default.Sizes.NONE,onClick:t.copyCurrentUrl,className:ve.default.link},void 0,_e(U.default,{name:U.default.Names.LINK,className:ve.default.linkIcon})))},t.renderCarousel=function(e,n){if(0===n.carouselItems.length)return null;var r=t.props,a=r.pageSize,o=r.isFocused;return _e(K.default,{section:fe.AnalyticsSections.HERO},void 0,_e(ne.default,{pageSize:a,items:n.carouselItems.map(function(r){return t.parseMediaItems(e,r,n.assets)}),autoplayInterval:Se,paused:!o,onChange:t.trackCarouselScroll,onIntentionalChange:t.trackCarouselScroll}))},t.handleScroll=(0,i.debounce)(function(){if(null!=t._purchaseRef.current){var e=l.default.findDOMNode(t._purchaseRef.current.getApplicationBuyButton());if(e instanceof HTMLElement){var n=e.getBoundingClientRect().top,r=n<0||n>window.innerHeight;t.state.showHeaderPurchaseUnit!==r&&t.setState({showHeaderPurchaseUnit:r})}}},Oe),t.renderListing=function(){var e=t.props,n=e.application,r=e.storeListing,a=e.sku,o=e.pageSize;return null==n||null==a||null==r||r.isSlimDirectoryVersion()?_e(w.default,{align:w.default.Align.CENTER,justify:w.default.Justify.CENTER},void 0,Ce):o===he.PageSizes.SMALL?t.renderSmall(n,r,a):t.renderLarge(n,r,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u,y,_,g=r.prototype;return g.componentDidMount=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isFetchingEntitlements,a=e.shouldFetchStatistics,o=e.hasFetchedActivities,i=e.didFetchEntitlements,l=e.isAuthenticated,s=e.location,u=e.fetchStoreListing;if(null!=s.state){var d=s.state,v=d.analyticsSource,m=d.analyticsProperties;this._analyticsSource=v,this._extraAnalyticsProperties=m}else this._analyticsSource=fe.DIRECT_ANALYTICS_LOCATION;(null==n||n.isSlimDirectoryVersion())&&u(),null!=t&&(r||i||(0,h.fetchUserEntitlementsForApplication)(t.applicationId),a&&c.default.wait(function(){return(0,p.fetchStatisticsForApplication)(t.applicationId)})),l&&!o&&f.default.getActivities(),this.handleScroll(),this.trackViewed(),this.replaceUrlWithSlug()},g.componentDidUpdate=function(e){var t=this.props,n=t.locale,r=t.sku,a=t.shouldFetchStatistics,o=t.skuId,i=t.storeListingId,l=t.slug,s=t.storeListing,u=t.fetchStoreListing;if(s!==e.storeListing&&null!=s&&(0,W.deepLinkRouteIfLandedAndNotAuthed)(fe.RPCDeepLinks.STORE_LISTING,{skuId:o,slug:l}),n===e.locale&&o===e.skuId||u(),a&&!e.shouldFetchStatistics){if(null==r)throw new Error("Unexpected missing sku");c.default.wait(function(){return(0,p.fetchStatisticsForApplication)(r.applicationId)})}o===e.skuId&&i===e.storeListingId||(this._trackedViewed=!1),this.trackViewed(),this.replaceUrlWithSlug()},g.componentWillUnmount=function(){this.showCopyLinkTextTimeout.stop();var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;null!=n&&x.default.track(fe.AnalyticEvents.STORE_LISTING_EXITED,{load_id:t,duration_ms:Date.now()-n})},g.replaceUrlWithSlug=function(){var e=this.props,t=e.sku,n=e.application,r=e.channel,a=e.skuId,o=e.applicationId,i=e.slug;null==r&&(null!=a&&null!=t&&i!==t.slug&&V.default.replaceWith({pathname:fe.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),search:location.search}),null!=o&&null!=n&&null!=n.slug&&i!==n.slug&&V.default.replaceWith({pathname:fe.Routes.APPLICATION_STORE_LISTING_APPLICATION(n.id,n.slug),search:location.search}))},g.trackViewed=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.hasFetchedNews,a=e.hasNews,o=e.analyticsContext;if(!this._trackedViewed&&null!=t&&null!=n&&null!=n.description&&(this.isChannelType||r)){var i=n.carouselItems.reduce(function(e,t){return null!=t.assetId?e.images++:e.videos++,e},{images:0,videos:0});x.default.track(fe.AnalyticEvents.STORE_LISTING_VIEWED,ge({},this._extraAnalyticsProperties,{load_id:o.loadId,has_description:null!=n.description&&n.description.length>0,has_staff_review:null!=n.staffNotes,carousel_image_count:i.images,carousel_video_count:i.videos,has_news:this.isChannelType&&a,location:o.location.page,source:this._analyticsSource},t.getAnalyticsData(!0))),this._trackedViewed=!0}},g.renderHeaderToolbar=function(e,t){var n=this,r=this.props,a=r.isInTestMode,i=r.slug,l=r.storeListing,s=r.channel,u=r.analyticsContext.location,d=this.state.showHeaderPurchaseUnit;return function(){var r;return _e("div",{className:ve.default.headerBarListing},void 0,_e("div",{className:ve.default.headerSection},void 0,a&&null!=t?_e(de.default,{size:de.TestModeStoreListingButtonEnums.Sizes.MIN,dropdownSize:de.TestModeStoreListingButtonEnums.DropdownSizes.MEDIUM,look:de.TestModeStoreListingButtonEnums.Looks.OUTLINED,color:de.TestModeStoreListingButtonEnums.Colors.YELLOW,skuId:t.id,className:ve.default.testModeSelectButton,currentStoreListingId:null!=l?l.id:null,onStoreListingSelect:function(e){null!=t&&(0,m.goToSKUStoreListing)(t.id,{slug:i,analyticsSource:{page:u.page,section:fe.AnalyticsSections.NAVIGATION,object:null},storeListingId:e.id})}}):null),_e("div",{className:ve.default.headerSection},void 0,_e("div",{className:(0,o.default)(ve.default.headerPurchase,(r={},r[ve.default.active]=d,r))},void 0,null!=t?t.getDisplayPrice():null,null!=e&&null!=t?_e(q.default,{wrapperClassName:ve.default.headerActionButton,applicationId:e.id,skuId:t.id,color:L.default.Colors.GREEN,size:L.default.Sizes.SMALL,tooltipPosition:j.default.Positions.BOTTOM,entitlementBranchId:null!=l?l.entitlementBranchId:null,channelId:null!=s?s.id:null,onStoreListing:!0}):null,_e(ae.default,{messageStyle:ae.MessageStyles.SHORT,className:ve.default.purchaseError}))),n.renderCopyLink())}},g.renderHeader=function(e,t){var n=this.props,r=n.channel,o=n.isAuthenticated;return _e(z.default,{isAuthenticated:o,renderToolbar:this.renderHeaderToolbar(e,t)},void 0,null!=r?_e(a.Fragment,{},void 0,_e(z.default.Icon,{name:U.default.Names.STORE_TAG}),_e(z.default.Title,{},void 0,r.name)):null!=t&&t.premium?_e(a.Fragment,{},void 0,_e(z.default.Icon,{name:U.default.Names.NITRO_WHEEL}),_e(le.default,{sku:t})):null!=t?_e(a.Fragment,{},void 0,_e(z.default.Icon,{name:U.default.Names.STORE_TAG}),_e(z.default.Title,{},void 0,t.name)):null)},g.parseMediaItems=function(e,t,n){var r=t.assetId,a=t.youtubeVideoId;if(null!=r){var o=n.find(function(e){return e.id===r});if(null!=o){var i=o.width,l=o.height;if(null==i||null==l)throw new Error("ApplicationStoreListing.parseMediaItems: Video and Image assets must have a width and height defined");return o.mimeType.startsWith("video/")?{type:fe.CarouselMediaTypes.VIDEO,thumbnailSrc:(0,Y.getAssetURL)(e.id,o,1024,"webp"),src:(0,Y.getAssetURL)(e.id,o),height:l,width:i}:{type:fe.CarouselMediaTypes.IMG,src:(0,Y.getAssetURL)(e.id,o,1024),height:l,width:i}}}if(null!=a)return{type:fe.CarouselMediaTypes.YOUTUBE_VIDEO,youtubeVideoId:a};throw new Error("Store carousel item must have one of assetId or youtubeVideoId")},g.renderHeaderAssets=function(e,t,n){var r=this.props.theme,a=t.headerBackground,o=r===fe.ThemeTypes.LIGHT?t.headerLogoLightTheme:t.headerLogoDarkTheme;return null==a||null==o?_e("div",{className:ve.default.noHeaderSpacer}):_e("div",{className:ve.default.headerAssets},void 0,_e("div",{className:ve.default.headerBackground,style:{backgroundImage:"url("+(0,Y.getAssetURL)(e.id,a,1024,"png")+")"}}),_e("img",{className:ve.default.headerLogo,src:(0,Y.getAssetURL)(e.id,o,1024,"png"),alt:n.name}))},g.renderPurchaseSection=function(e,t,n){var r=this.props,o=r.channel,i=r.isFocused,l=r.fetchStoreListing;return _e(K.default,{section:fe.AnalyticsSections.STORE_LISTING_BUY_GAME},void 0,a.createElement(oe.default,{storeListing:e,fetchStoreListing:l,game:t,sku:n,guildId:null!=o?o.guild_id:null,channelId:null!=o?o.id:null,isFocused:i,className:ve.default.purchaseUnit,ref:this._purchaseRef}))},g.renderWhyYouMightLikeThis=function(e,t){return _e(ie.default,{sku:e,storeListing:t,className:ve.default.whyYouMightLikeIt})},g.renderVerifiedGuildInvite=function(e,t){if(null==e.guild)return null;var n=this.props,r=n.channel,a=n.pageSize;return _e(ce.default,{skuId:t.id,guild:e.guild,className:ve.default.guildInvite,inChannel:null!=r,pageSize:a})},g.renderFeatures=function(e){return _e(Z.default,{sku:e})},g.renderSystemRequirements=function(e){return null==e.systemRequirements||0===Object.keys(e.systemRequirements).length?null:_e(ue.default,{className:ve.default.systemRequirements,systemRequirements:e.systemRequirements,pageSize:this.props.pageSize})},g.renderDescription=function(e,t,n){var r=t.description;if(null==r)throw new Error("Rendering ApplicationStoreListing without description");return _e(a.Fragment,{},void 0,_e(D.default,{tag:"h1"},void 0,pe.default.Messages.APPLICATION_STORE_ABOUT_HEADER.format({name:n.name})),Ne,_e(J.default,{applicationId:e.id,blurb:t.summary,description:r,className:ve.default.description,assets:t.assets}))},g.renderNews=function(e){return this.isChannelType?null:_e(te.default,{application:e,className:ve.default.news})},g.renderReviews=function(e){return null==e.reviews?null:e.reviews.map(function(e){return _e(se.default,{review:e,className:ve.default.reviewAggregator},e.aggregator)})},g.renderApplicationContentRating=function(e){return _e(Q.default,{sku:e,className:ve.default.contentRating})},g.renderApplicationLegalInfo=function(e){return _e(ee.default,{sku:e,className:ve.default.legalInfo})},g.renderJsonLD=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.application;if(null==t||null==n||null==r)return null;var a=[],o=r.getSplashURL(1024);null!=o&&a.push(o),null!=n.headerLogoLightTheme&&a.unshift((0,Y.getAssetURL)(r.id,n.headerLogoLightTheme,1024,"jpg"));var i=k.default.Product({name:t.name,description:t.summary||n.tagline,image:k.default.Product.Image(a),sku:t.id});if(null!=t.reviews&&t.reviews.length>0){var l=t.reviews[0];l.criticScore>0&&l.criticTotalRatings>3&&(i.aggregateRating=k.default.AggregateRating({bestRating:100,worstRating:0,ratingValue:l.criticScore,ratingCount:l.criticTotalRatings}))}var s=t.getPrice();if(null!=s){var u=s.amount,d=s.currency;i.offers=k.default.Offer({priceCurrency:d.toUpperCase(),price:(0,H.formatPrice)(u,d,{style:"decimal"})})}var c=k.default.ItemPage({mainEntity:i});return _e(k.default,{data:c})},g.renderSmall=function(e,t,n){return _e("div",{className:(0,o.default)(ve.default.listing,ve.default.listingSmall)},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),this.renderPurchaseSection(t,e,n),this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderVerifiedGuildInvite(t,n),this.renderFeatures(n),this.renderNews(e),this.renderReviews(n),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n))},g.renderLarge=function(e,t,n){return _e("div",{className:ve.default.listing},void 0,this.renderHeaderAssets(e,t,n),this.renderCarousel(e,t),_e("div",{className:ve.default.listingLarge},void 0,_e("div",{className:ve.default.body},void 0,_e("div",{className:ve.default.leftColumn},void 0,this.renderWhyYouMightLikeThis(n,t),this.renderDescription(e,t,n),this.renderNews(e),this.renderSystemRequirements(n),this.renderApplicationContentRating(n),this.renderApplicationLegalInfo(n)),_e("div",{className:ve.default.rightColumn},void 0,this.renderPurchaseSection(t,e,n),this.renderVerifiedGuildInvite(t,n),this.renderReviews(n),this.renderFeatures(n)))))},g.render=function(){var e=this.props,t=e.application,n=e.sku,r=e.storeListing,o=e.matureAgree,i=e.isAuthenticated;if(null==t||null==n||null==r||r.isSlimDirectoryVersion())return _e(a.Fragment,{},void 0,this.renderHeader(t,n),_e(w.default,{align:w.default.Align.CENTER,justify:w.default.Justify.CENTER},void 0,_e(F.default,{className:ve.default.spinner})));if(!o&&n.showAgeGate){var l=i?null:_e("div",{className:ve.default.gatedListing},void 0,this.renderListing());return _e(a.Fragment,{},void 0,_e(s.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),_e(re.default,{game:t}),l)}return i?_e("div",{className:ve.default.listingWrapper},void 0,_e(s.default,{title:t.name}),this.renderJsonLD(),_e(K.default,{section:fe.AnalyticsSections.NAVIGATION},void 0,this.renderHeader(t,n)),_e(G.default,{onScroll:this.handleScroll,outerClassName:ve.default.scroller,track:!0,momentum:!0,keyboardScroll:!0,gutterStyle:G.default.GutterStyles.STORE},void 0,_e(K.default,{section:fe.AnalyticsSections.BODY},void 0,this.renderListing()))):_e("div",{},void 0,_e(s.default,{title:t.name}),this.renderJsonLD(),this.renderHeader(t,n),this.renderListing())},u=r,(y=[{key:"isChannelType",get:function(){return null!=this.props.channel}}])&&Ee(u.prototype,y),_&&Ee(u,_),r}(a.PureComponent);Ae.displayName="ApplicationStoreListing";var Me=(0,y.default)((0,_.default)(u.default.connectStores([E.default,P.default,b.default,M.default,A.default,N.default,O.default,g.default,R.default,C.default,S.default],function(e){var t,n,r,a=e.inputSkuId,o=e.applicationId,i=e.storeListingId,l=e.isAuthenticated,s=e.channel;if(null==o){if(null==a)throw new Error("Needs applicationId or skuId");t=a,null!=(o=null!=(n=P.default.get(a))?n.applicationId:null)&&(r=E.default.getGame(o))}else if(null==a){if(null==o)throw new Error("Needs applicationId or skuId");null!=(r=E.default.getGame(o))&&(t=r.destinationSkuId),n=null!=t?P.default.get(t):null}var u=null!=o&&R.default.inTestModeForApplication(o);return{skuId:t,application:null!=o?E.default.getGame(o):null,isFetchingEntitlements:null!=o&&M.default.applicationIdsFetching.has(o),didFetchEntitlements:null!=o&&M.default.applicationIdsFetched.has(o),shouldFetchStatistics:l&&null!=o&&N.default.shouldFetchStatisticsForApplication(o),hasFetchedActivities:O.default.hasFetchedActivities,sku:n,isFocused:C.default.isFocused(),storeListing:b.default.getStoreListing({storeListingId:i,skuId:t,channelId:null!=s?s.id:null,isTestMode:u}),isInTestMode:null!=o&&u,matureAgree:A.default.didMatureAgree,hasFetchedNews:null!=o&&g.default.isFetched(o),hasNews:null!=o&&g.default.getByGameId(o).length>0,theme:I.default.theme,locale:I.default.locale,guild:null!=s?S.default.getGuild(s.getGuildId()):null}})(Ae)));t.default=Me,e.exports=t.default},6715:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=f(n(153)),l=f(n(124)),s=f(n(219)),u=f(n(148)),d=f(n(301)),c=f(n(5576));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=(0,i.default)({SMALL:null,MEDIUM:null,LARGE:null}),v=((r={})[h.SMALL]=c.default.dropdownSmall,r[h.MEDIUM]=c.default.dropdownMedium,r[h.LARGE]=c.default.dropdownLarge,r),m=function(e){var t=e.onDropdownClick,n=e.children,r=e.contentClassName,a=e.dropdownSize,i=void 0===a?h.MEDIUM:a,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return o.createElement(l.default,f,p(u.default,{align:u.default.Align.CENTER},void 0,p(u.default.Child,{className:r},void 0,n),null!=t?p(s.default,{className:v[i],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,p("div",{className:c.default.arrowSeparator}),p(d.default,{name:d.default.Names.ARROW_DROP_DOWN,className:c.default.dropdownArrow})):null))};m.displayName="DropdownButton",m.DropdownSizes=h,m.Sizes=l.default.Sizes,m.Colors=l.default.Colors,m.Looks=l.default.Looks;var y=m;t.default=y,e.exports=t.default},6716:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e){a.default.dispatch({type:i.ActionTypes.RTC_DEBUG_MODAL_OPEN,section:e}),(0,o.pushLayer)(i.Layers.RTC_DEBUG)},t.close=function(){a.default.dispatch({type:i.ActionTypes.RTC_DEBUG_MODAL_CLOSE}),(0,o.popLayer)()},t.setSection=function(e){a.default.dispatch({type:i.ActionTypes.RTC_DEBUG_MODAL_SET_SECTION,section:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(830),i=n(0)},6717:function(e,t,n){"use strict";t.__esModule=!0,t.fetchPromotions=function(e){return d.apply(this,arguments)},t.ackPromotion=function(e,t){return r.default.put({url:l.Endpoints.PROMOTION_ACK,body:{ack_key:e,ack_type:t}})};var r=s(n(8)),a=s(n(1)),o=s(n(190)),i=n(127),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function d(){var e;return e=regeneratorRuntime.mark(function e(t){var n,r,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=null),a.default.dispatch({type:l.ActionTypes.PROMOTIONS_FETCH_START}),e.prev=2,n={url:l.Endpoints.PROMOTIONS,query:null!=t?{context:t}:{}},e.next=6,(0,i.httpGetWithCountryCodeQuery)(n);case 6:r=e.sent,a.default.dispatch({type:l.ActionTypes.PROMOTIONS_FETCH_SUCCESS,promotions:r.body}),e.next=15;break;case 10:throw e.prev=10,e.t0=e.catch(2),s=new o.default(e.t0),a.default.dispatch({type:l.ActionTypes.PROMOTIONS_FETCH_FAIL,error:s}),s;case 15:case"end":return e.stop()}},e,null,[[2,10]])}),(d=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){u(o,r,a,i,l,"next",e)}function l(e){u(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}},6718:function(e,t,n){"use strict";(function(e){t.__esModule=!0,t.default=t.MasonryNodeInsertedEmitter=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(36)),i=c(n(6)),l=c(n(96)),s=n(6226),u=c(n(148)),d=c(n(5850));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=function(e){function t(){var t;return(t=e.call(this)||this).node=document.createElement("div"),t}p(t,e);var n=t.prototype;return n.getNode=function(){return this.node},n.componentWillUnmount=function(){(0,s.removeNode)(this.node)},n.render=function(){return l.default.createPortal(this.props.children,this.node)},t}(a.Component);h.displayName="MasonryItem";var v=new o.default;t.MasonryNodeInsertedEmitter=v,v.setMaxListeners(0);var m=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this)._didMount=!1,e._columnNodes={},e._itemNodes={},e._columns=[],e._itemHeightsForRender={},e.debouncedUpdateColumns=i.default.debounce(function(){e.updateColumns(e.props)}),e.setColumnRef=function(t,n){null!=n&&(e._columnNodes[t]=n)},e.setMeasurementSectionRef=function(t){null!=t&&(e._measurementNode=t)},e}p(n,t);var r=n.prototype;return r.componentDidMount=function(){this._didMount=!0,this.updateColumns(this.props)},r.UNSAFE_componentWillReceiveProps=function(e){var t=this;if(e.width!==this.props.width||this.getNumColumns(e)!==this.getNumColumns(this.props))this._itemHeightsForRender={};else{var n=e.items.map(e.getItemId),r=this.props.items.map(e.getItemId);i.default.isEqual(n,r)||(i.default.difference(r,n).forEach(function(e){delete t._itemHeightsForRender[e]}),this.debouncedUpdateColumns())}},r.componentWillUnmount=function(){this.debouncedUpdateColumns.cancel()},r.getNumColumns=function(e){void 0===e&&(e=this.props);var t=e,n=t.width,r=t.desiredItemWidth,a=t.maxColumns,o=Math.max(Math.floor(n/r),1);return Math.min(o,a)},r.getItemWidth=function(e){var t=e.maxItemWidth,n=e.width,r=e.gutterWidth,a=this.getNumColumns(e),o=r*(a-1);return Math.floor(Math.min(n/a,t))-Math.ceil(o/a)},r.updateColumns=function(e){for(var t=this,n=e.items,r=e.getItemId,a=e.onColumnChange,o=this.getNumColumns(e),l=i.default.times(o,function(){return[]}),s=i.default.times(o,function(e){return{index:e,height:0}}),u=0;u<n.length;u++){var d=r(n[u]);if(null!=this._itemHeightsForRender[d]){var c=i.default.minBy(s,function(e){return e.height}).index;s[c].height+=this._itemHeightsForRender[d],l[c].push(d)}}this._columns=l,l.forEach(function(e,n){e.forEach(function(e){null!=t._itemNodes[e]&&t._columnNodes[n].appendChild(t._itemNodes[e])})}),null!=a&&a()},r.setMeasurementRef=function(t,n){if(null!=n){var r=n.getNode();this._itemNodes[t]=r,null==r.parentNode&&(this._measurementNode.appendChild(r),e(function(){return v.emit("change",{node:r})})),this._itemHeightsForRender[t]=r.offsetHeight,this._didMount&&this.debouncedUpdateColumns()}},r.render=function(){var e=this,t=this.props,n=t.gutterWidth,r=t.items,o=t.getItemId,i=t.renderItem,l=t.renderHeader,s=t.className,c=t.renderEmpty,p=this.getNumColumns(this.props),v=this.getItemWidth(this.props),m=n-n/p;return f("div",{className:s},void 0,f(u.default,{direction:u.default.Direction.VERTICAL},void 0,null!=l?l():null,null!=c&&0===r.length?c():null,f(u.default,{justify:u.default.Justify.CENTER},void 0,0!==r.length?Array(p).fill().map(function(t,r){return a.createElement("div",{className:d.default.column,style:{width:"calc("+100/p+"% - "+m+"px)",marginLeft:0!==r?n:0},key:r,ref:e.setColumnRef.bind(e,r)})}):null)),a.createElement("div",{className:d.default.measureWrapper,style:{width:v},ref:this.setMeasurementSectionRef}),r.map(function(t,n){var r=o(t);return a.createElement(h,{id:r,ref:null==e._itemHeightsForRender[r]?e.setMeasurementRef.bind(e,r):null,key:r},i(t,v,n))}))},n}(a.PureComponent);m.displayName="MasonryLayout",m.defaultProps={maxColumns:1/0,maxItemWidth:1/0};var y=m;t.default=y}).call(this,n(29).setImmediate)},6719:function(e,t,n){"use strict";t.__esModule=!0,t.getGuildSettingsSections=function(e){return B(j({},_.default.getGuildPermissionProps(e,h.default.getCurrentUser()))).filter(function(e){var t=e.section;return t!==E.SectionTypes.HEADER&&t!==E.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})},t.default=void 0;var r,a=F(n(2)),o=G(n(3)),i=G(n(6e3)),l=n(830),s=G(n(77)),u=G(n(6642)),d=G(n(5997)),c=G(n(6643)),f=G(n(149)),p=G(n(35)),h=G(n(14)),v=G(n(125)),m=G(n(177)),y=n(106),_=G(n(87)),g=G(n(6304)),E=n(6056),S=G(n(445)),T=G(n(6973)),O=G(n(6974)),I=G(n(6980)),C=G(n(6983)),N=G(n(6988)),A=G(n(6990)),M=G(n(6991)),P=G(n(6994)),b=F(n(6996)),R=F(n(6998)),L=F(n(7035)),D=G(n(7038)),w=G(n(7044)),U=n(0),k=G(n(13));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(e){var t=e.guild,n=e.canManageGuild,r=e.canViewAuditLog,o=e.canManageRoles,f=e.canManageEmoji,p=e.canManageWebhooks,m=e.canManageBans,_=e.isOwnerWithRequiredMfaLevel;return[{section:E.SectionTypes.HEADER,label:t.toString()||k.default.Messages.SERVER_SETTINGS},{section:U.GuildSettingsSections.OVERVIEW,label:k.default.Messages.OVERVIEW,element:b.default,notice:{store:d.default,element:b.GuildSettingsOverviewNotice}},{section:U.GuildSettingsSections.MODERATION,label:k.default.Messages.MODERATION,element:P.default,notice:{store:d.default,element:b.GuildSettingsOverviewNotice},predicate:function(){return n}},{section:U.GuildSettingsSections.AUDIT_LOG,label:k.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG,element:O.default,type:E.ContentTypes.CUSTOM,predicate:function(){return r}},{section:U.GuildSettingsSections.ROLES,label:k.default.Messages.ROLES,element:R.default,type:E.ContentTypes.MINIMAL,notice:{store:u.default,element:R.GuildSettingsRolesNotice},predicate:function(){return o}},{section:U.GuildSettingsSections.INTEGRATIONS,label:k.default.Messages.INTEGRATIONS,element:N.default,predicate:function(){return n}},{section:U.GuildSettingsSections.EMOJI,label:k.default.Messages.EMOJI,element:C.default,predicate:function(){return f}},{section:U.GuildSettingsSections.WEBHOOKS,label:k.default.Messages.WEBHOOKS,element:D.default,predicate:function(){return p}},{section:U.GuildSettingsSections.EMBED,label:k.default.Messages.WIDGET,element:w.default,predicate:function(){return n}},{section:U.GuildSettingsSections.VANITY_URL,label:k.default.Messages.VANITY_URL,element:L.default,notice:{store:c.default,element:L.GuildSettingsVanityURLNotice},predicate:function(){return n&&t.hasFeature(U.GuildFeatures.VANITY_URL)}},{section:E.SectionTypes.DIVIDER},{section:E.SectionTypes.HEADER,label:k.default.Messages.USER_MANAGEMENT},{section:U.GuildSettingsSections.MEMBERS,label:k.default.Messages.MEMBERS,element:M.default,type:E.ContentTypes.CUSTOM},{section:U.GuildSettingsSections.INSTANT_INVITES,label:k.default.Messages.INVITES,element:A.default,type:E.ContentTypes.CUSTOM,predicate:function(){return n}},{section:U.GuildSettingsSections.BANS,label:k.default.Messages.BANS,element:I.default,type:E.ContentTypes.CUSTOM,predicate:function(){return m}},{section:E.SectionTypes.DIVIDER,predicate:function(){return _}},{section:U.GuildSettingsSections.DELETE,onClick:function(){var e=h.default.getCurrentUser(),n=t.toString(),r={header:k.default.Messages.DELETE_SERVER_TITLE.format({name:n}),confirmText:k.default.Messages.DELETE_SERVER,cancelText:k.default.Messages.CANCEL,onConfirm:function(){y.ComponentDispatch.subscribeOnce(U.ComponentActions.LAYER_POP_COMPLETE,function(){i.default.deleteGuild(t.id,n)}),(0,l.popLayer)()}};e.mfaEnabled?s.default.push(function(e){return a.createElement(S.default,j({},e,r),x(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,k.default.Messages.DELETE_SERVER_BODY.format({name:n})))}):s.default.push(function(e){return a.createElement(T.default,j({},e,r,{validationText:n,instructionText:k.default.Messages.DELETE_SERVER_ENTER_NAME,errorText:k.default.Messages.DELETE_SERVER_INCORRECT_NAME}),k.default.Messages.DELETE_SERVER_BODY.format({name:n}))})},label:k.default.Messages.DELETE_SERVER,color:U.Colors.STATUS_RED,predicate:function(){return _}}]}function H(e,t){void 0===t&&(t=null),m.default.trackWithMetadata(U.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"guild",origin_pane:t,destination_pane:e})}var V={canManageGuild:!1,canManageChannels:!1,canManageRoles:!1,canManageBans:!1,canManageNicknames:!1,canManageEmoji:!1,canViewAuditLog:!1,canManageWebhooks:!1,isOwnerWithRequiredMfaLevel:!1},Y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){H(this.props.section)},a.componentWillUnmount=function(){i.default.close()},a.componentDidUpdate=function(e){var t=e.section,n=this.props,r=n.section,a=n.canManageGuild,o=n.canManageRoles,i=n.canManageBans,s=n.canManageNicknames,u=n.canManageEmoji,d=n.canViewAuditLog,c=n.canManageWebhooks;r!==t&&H(r,t),(a||o||i||s||u||d||c)&&(d||r!==U.GuildSettingsSections.AUDIT_LOG)&&(o||r!==U.GuildSettingsSections.ROLES)&&(u||r!==U.GuildSettingsSections.EMOJI)&&(c||r!==U.GuildSettingsSections.WEBHOOKS)&&(i||r!==U.GuildSettingsSections.BANS)||(0,l.popLayer)()},a.render=function(){var e=this.props,t=e.theme,n=e.section,r=e.guild,a=e.canManageGuild,o=e.canViewAuditLog,s=e.canManageRoles,u=e.canManageEmoji,d=e.canManageWebhooks,c=e.canManageBans,f=e.isOwnerWithRequiredMfaLevel;return null==r?null:x(g.default,{theme:t,section:n,onSetSection:i.default.setSection,onClose:l.popLayer,sections:B({guild:r,canManageGuild:a,canViewAuditLog:o,canManageRoles:s,canManageEmoji:u,canManageWebhooks:d,canManageBans:c,isOwnerWithRequiredMfaLevel:f})})},r}(a.PureComponent);Y.displayName="GuildSettings";var W=o.default.connectStores([d.default,h.default,p.default,f.default],function(){var e=d.default.getProps(),t=e.guild;return j({section:e.section,theme:p.default.theme},null!=t?_.default.getGuildPermissionProps(t,h.default.getCurrentUser()):V)})(Y);t.default=W},6720:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(2)),o=I(n(17)),i=I(n(6)),l=I(n(311)),s=I(n(77)),u=I(n(6253)),d=C(n(6002)),c=I(n(148)),f=I(n(438)),p=I(n(125)),h=n(823),v=I(n(6021)),m=n(6056),y=I(n(6027)),_=n(0),g=I(n(13)),E=I(n(5363)),S=I(n(5362)),T=I(n(5357)),O=I(n(5593));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var P="3",b="3",R="1",L="2",D=function(e){function t(t){var n;return A(n=e.call(this,t)||this).handleRevokeInvite=n.handleRevokeInvite.bind(A(n)),n}M(t,e);var n=t.prototype;return n.renderChannel=function(){var e=this.props,t=e.showChannel,n=e.invite;return t?N(p.default,{size:p.default.Sizes.SMALL,className:O.default.channelName},void 0,n.channel.toString(!0)):null},n.renderUser=function(){var e=this.props.invite.inviter;return null==e?null:N(c.default,{},void 0,N(v.default,{user:e,size:"xsmall"}),N(p.default,{className:O.default.username},void 0,e.toString()))},n.render=function(){var e=this.props,t=e.invite,n=e.hide,r=t.uses;return t.maxUses>0&&(r=t.uses+"/"+t.maxUses),N(c.default,{className:(0,o.default)(O.default.inviteSettingsInviteRow,S.default.card)},void 0,N(c.default,{grow:P,basis:0,align:c.default.Align.CENTER,className:(0,o.default)(O.default.text)},void 0,N(c.default.Child,{},void 0,this.renderUser(),this.renderChannel())),N(c.default,{grow:b,shrink:1,basis:0,align:c.default.Align.CENTER,className:O.default.text},void 0,N(p.default,{family:p.default.Family.CODE,className:O.default.inviteCode},void 0,n?"...":t.code)),N(c.default,{grow:R,basis:0,justify:c.default.Justify.END,align:c.default.Align.CENTER,className:(0,o.default)(O.default.text)},void 0,N(p.default,{family:p.default.Family.CODE,className:O.default.textAlignRight},void 0,r)),N(c.default,{grow:L,basis:0,align:c.default.Align.CENTER,justify:c.default.Justify.END,className:(0,o.default)(O.default.text,O.default.countdownColumn)},void 0,N(p.default,{family:p.default.Family.CODE,className:O.default.textAlignRight},void 0,N(u.default,{deadline:t.getExpiresAt()}))),N("button",{className:(0,o.default)(O.default.revokeInvite,E.default.button),onClick:this.handleRevokeInvite}))},n.handleRevokeInvite=function(){l.default.revokeInvite(this.props.invite.code)},t}(a.PureComponent);D.displayName="InviteRow";var w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleShowInviteModal=function(){var e=t.props.guild;s.default.push(y.default,{guild:e,source:_.InstantInviteSources.SETTINGS_INVITE})},t}M(t,e);var r=t.prototype;return r.renderInvites=function(){var e=this.props,t=e.invites,n=e.hide,r=e.showChannel,a=e.loading;return null==t||a?[N(f.default,{className:T.default.marginTop20,type:f.default.Type.SPINNING_CIRCLE},"spinner")]:(0,i.default)(t).sortBy(function(e){return(e.inviter&&e.inviter.username||"").toLowerCase()}).map(function(e){return N(D,{hide:n,invite:e,showChannel:r},e.code)}).value()},r.renderHeader=function(){var e,t=this.props,r=t.invites,a=t.loading,o=t.theme,l=t.canCreateInvites;return null==r||a||(e=i.default.isEmpty(r)?N(d.default,{theme:o,className:T.default.marginTop20},void 0,N(d.EmptyStateImage,{darkSrc:n(6637),lightSrc:n(6638),width:256,height:130}),N(d.EmptyStateText,{note:g.default.Messages.NO_INVITES_BODY},void 0,g.default.Messages.NO_INVITES_LABEL)):N(c.default,{},void 0,N(c.default.Child,{grow:P,basis:0,className:T.default.marginReset},void 0,N(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_INVITER)),N(c.default.Child,{basis:0,grow:b,className:T.default.marginReset},void 0,N(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_INVITE_CODE)),N(c.default.Child,{grow:R,basis:0,className:O.default.textAlignRight},void 0,N(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_USES)),N(c.default.Child,{grow:L,basis:0,className:O.default.textAlignRight},void 0,N(h.FormTitle,{},void 0,g.default.Messages.INSTANT_INVITE_EXPIRES)))),N(h.FormSection,{className:T.default.marginBottom4},void 0,N(h.FormTitle,{tag:h.FormTitleTags.H2},void 0,g.default.Messages.INVITES),N(h.FormText,{className:T.default.marginBottom20,type:h.FormTextTypes.DESCRIPTION},void 0,l?g.default.Messages.SETTINGS_INVITE_TIP.format({onCreateInvite:this.handleShowInviteModal}):g.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE),N(h.FormDivider,{className:O.default.marginBottom20}),e)},r.render=function(){return N(m.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(),elementHeight:62},void 0,this.renderInvites())},t}(a.PureComponent);w.displayName="SettingsInvites";var U=w;t.default=U,e.exports=t.default},6721:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={open:function(e,t){void 0===t&&(t=7),a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_OPEN,guildId:e,days:t,estimate:0}),r.default.get({url:o.Endpoints.GUILD_PRUNE(e),query:{days:t}}).then(function(n){a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_UPDATE,guildId:e,days:t,estimate:n.body.pruned})},function(){})},close:function(){a.default.dispatch({type:o.ActionTypes.PRUNE_GUILD_MODAL_CLOSE})},prune:function(e,t){r.default.post({url:o.Endpoints.GUILD_PRUNE(e),query:{days:t}}),this.close()}};t.default=l,e.exports=t.default},6722:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Content=t.Sidebar=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(148)),i=u(n(308)),l=n(0),s=u(n(5598));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this.props,t=e.scrollable,n=e.theme,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["scrollable","theme"]),u=n===l.ThemeTypes.LIGHT?l.Colors.WHITE:l.Colors.PRIMARY_DARK_600;return t?d("aside",{className:s.default.sidebarScrollable},void 0,d(i.default,{fade:!0,theme:i.default.Themes.GHOST_HAIRLINE,backgroundColor:u,className:s.default.scroller},void 0,a.createElement(o.default.Child,c({},r,{wrap:!0})))):a.createElement(o.default.Child,c({},r,{wrap:!0}))},t}(a.PureComponent);t.Sidebar=p,p.displayName="Sidebar",p.defaultProps={basis:232,grow:0,shrink:0,className:s.default.sidebar};var h=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return a.createElement(o.default.Child,c({wrap:!0},this.props))},t}(a.PureComponent);t.Content=h,h.displayName="Content",h.defaultProps={className:s.default.content};var v=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){return a.createElement(o.default,this.props)},t}(a.PureComponent);v.displayName="Layout",v.defaultProps={className:s.default.layout,direction:o.default.Direction.HORIZONTAL,justify:o.default.Justify.START,align:o.default.Align.START,wrap:o.default.Wrap.NO_WRAP,shrink:1,grow:1,basis:"auto"},v.Direction=o.default.Direction,v.Justify=o.default.Justify,v.Align=o.default.Align,v.Wrap=o.default.Wrap,v.Sidebar=p,v.Content=h;var m=v;t.default=m},6738:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(148)),i=c(n(6115)),l=n(6036),s=c(n(437)),u=n(0),d=c(n(5601));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=a.prototype;return c.renderLock=function(){var e=this.props,t=e.locked,r=e.lockTooltip,a=e.theme;if(!t)return null;var l=a===u.ThemeTypes.DARK?n(7025):n(7026);return f(o.default,{shrink:0,grow:0,align:o.default.Align.CENTER,style:{marginRight:0}},void 0,f(s.default,{text:r,color:s.default.Colors.RED},void 0,f(i.default,{className:d.default.lock,src:l})))},c.render=function(){var e=this.props,t=e.color,n=e.id,r=e.children,a=e.isDragging,i=e.selectedItem,s=e.onItemSelect,u=e.itemType;return a?f("div",{className:d.default.dragged}):f(l.Item,{className:d.default.role,id:n,color:t||void 0,selectedItem:i,onItemSelect:s,itemType:u},void 0,f(o.default,{align:o.default.Align.CENTER},void 0,this.renderLock(),f(o.default.Child,{className:d.default.roleInner},void 0,r)))},a}(a.PureComponent);p.displayName="GuildRole";var h=p;t.default=h,e.exports=t.default},6739:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(2)),o=m(n(17)),i=m(n(301)),l=m(n(7027)),s=m(n(5998)),u=m(n(437)),d=m(n(829)),c=y(n(107)),f=m(n(87)),p=n(0),h=m(n(5357)),v=m(n(5604));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getOverwriteValue=function(e){var t=this.props,n=t.allow,r=t.deny;if(null==n||null==r)throw new Error("PermissionsForm.getOverwriteValue: Invalid allow or deny props");return n&e?f.default.ALLOW:r&e?f.default.DENY:f.default.PASSTHROUGH},a.getPermissionValue=function(e,t){return!!(t&e)},a.handleChange=function(e,t){(0,this.props.onChange)(e,t)},a.renderDisabledIndicator=function(e){return _(u.default,{text:e,position:u.default.Positions.TOP,color:u.default.Colors.RED},void 0,_("span",{},void 0,_(i.default,{name:i.default.Names.NOT_ALLOWED,className:v.default.icon,width:18,height:18})))},a.renderComponent=function(e){var t,n=this,r=e.title,a=e.description,i=e.flag,u=this.props,d=u.permissions,c=u.locked,f=u.permissionRender,h=f&&f(i),m=!(!c&&!h),y="string"==typeof h?this.renderDisabledIndicator(h):null,g=(0,o.default)(((t={})[v.default.title]=null!=y,t));return null==d?_(l.default,{disabled:m,value:this.getOverwriteValue(i),onChange:function(e){return n.handleChange(i,e)},note:a},i,y,_("span",{className:g},void 0,r)):_(s.default,{fill:p.Colors.STATUS_GREEN,disabled:m,value:this.getPermissionValue(i,d),onChange:function(e){var t=e.currentTarget.checked;return n.handleChange(i,t)},note:a},i,y,_("span",{className:g},void 0,r))},a.render=function(){var e=this.props,t=e.spec,n=e.className;return _(d.default,{className:n},void 0,_(c.default,{tag:c.Tags.H5,className:h.default.marginBottom20},void 0,t.title),t.permissions.map(this.renderComponent,this))},r}(a.PureComponent);g.displayName="PermissionsForm";var E=g;t.default=E,e.exports=t.default},6740:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5602));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.data,n=e.disabled,r=t.content,i=t.className,s=t.onClick,u=t.disabled;return l("button",{className:(0,a.default)(o.default.item,i),onClick:s,disabled:n||u},void 0,r)};s.displayName="Button";var u=function(e){var t=e.buttons,n=e.disabled,r=e.className;return l("div",{role:"group",className:(0,a.default)(o.default.group,r)},void 0,t.map(function(e,t){return l(s,{data:e,disabled:n},t)}))};u.displayName="ButtonGroup";var d=u;t.default=d,e.exports=t.default},6741:function(e,t,n){e.exports=n.p+"cef02719c12d8aaf38894c16dca7fbe6.svg"},6742:function(e,t,n){e.exports=n.p+"808132e382c228d8fc8c7f9111b9abf7.svg"},6743:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(2)),o=P(n(17)),i=P(n(6)),l=P(n(3)),s=P(n(180)),u=P(n(77)),d=P(n(6151)),c=P(n(108)),f=P(n(149)),p=P(n(307)),h=P(n(35)),v=P(n(7039)),m=b(n(6002)),y=P(n(438)),_=P(n(832)),g=P(n(829)),E=P(n(440)),S=n(107),T=P(n(6037)),O=P(n(6650)),I=P(n(7040)),C=P(n(7041)),N=n(0),A=P(n(13)),M=P(n(5357));function P(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var D=["Spidey Bot","Captain Hook"],w=L(T.default,{}),U=function(e){var t,r;function l(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).renderWebhooks=function(){var e=t.props,r=e.webhooks,a=e.error,o=e.theme;return e.isFetching?L(y.default,{className:M.default.marginTop20,type:y.default.Type.SPINNING_CIRCLE}):null!=a?L(E.default,{},void 0,a):0===r.length?L(m.default,{theme:o,className:M.default.marginTop20},void 0,L(m.EmptyStateImage,{darkSrc:n(7042),lightSrc:n(7043),width:292,height:182}),L(m.EmptyStateText,{note:A.default.Messages.SETTINGS_WEBHOOKS_EMPTY_BODY},void 0,A.default.Messages.SETTINGS_WEBHOOKS_EMPTY_TITLE)):r.map(function(e,t){return L(I.default,{webhook:e,theme:o,className:M.default.marginBottom8},t)})},t.handleCreateWebhook=function(){var e=t.props,n=e.guild,r=e.createChannelId;if(null!=n&&null!=r){var o=D[i.default.random(0,D.length-1)];d.default.create(n.id,r,{name:o}).then(function(e){return u.default.push(function(t){return a.createElement(O.default,R({webhook:e},t))})}).catch(function(e){var t=e.body;t&&t.code===N.AbortCodes.TOO_MANY_WEBHOOKS?s.default.show({title:A.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:A.default.Messages.WEBHOOK_ERROR_MAX_WEBHOOKS_REACHED}):s.default.show({title:A.default.Messages.WEBHOOK_ERROR_CREATING_WEBHOOK,body:A.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}},t}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=l.prototype;return c.componentDidMount=function(){var e=this.props,t=e.channel,n=e.guild;null!=n&&(null!=t?d.default.fetchForChannel(n.id,t.id):null!=n&&d.default.fetchForGuild(n.id))},c.render=function(){var e=this.props,t=e.streamerMode,n=e.createChannelId,r=e.error;return t?w:L(g.default,{tag:S.Tags.H2,title:A.default.Messages.WEBHOOKS},void 0,L(C.default,{disabled:null==n||null!=r,onCreate:this.handleCreateWebhook}),L(_.default,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),this.renderWebhooks())},l}(a.PureComponent);U.displayName="SettingsWebhooks",U.defaultProps={showChannel:!0};var k=l.default.connectStores([p.default,v.default,h.default,c.default,f.default],function(e){var t,n,r=e.channel,a=e.guild;if(null!=r)t=v.default.getWebhooksForChannel(a.id,r.id),n=r.id;else{t=v.default.getWebhooksForGuild(a.id);var o=c.default.getDefaultChannel(a.id);null!=o&&f.default.can(N.Permissions.MANAGE_WEBHOOKS,o)&&(n=o.id)}return{guild:a,webhooks:t,streamerMode:p.default.enabled,theme:h.default.theme,isFetching:0===t.length&&v.default.isFetching(a.id),error:v.default.error,createChannelId:n}})(U);t.default=k,e.exports=t.default},6744:function(e,t,n){"use strict";t.__esModule=!0,t.isTwoColumnLayout=function(e){return e===a.FeedLayouts.TWO_COL},t.getPartyMetadata=function(e){return{af_voice_chat:e.voiceChannels.length>0,af_people_count:e.partiedMembers.length,af_rich_presence:e.currentActivities.some(function(e){var t=e.activity;return(0,r.hasRichActivity)(t)}),game_platform:e.currentActivities.length>0?(0,r.getGamePlatform)(e.currentActivities[0].activity):null}};var r=n(223),a=n(0)},6745:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(17)),i=I(n(153)),l=I(n(7132)),s=I(n(155)),u=I(n(6768)),d=I(n(5992)),c=I(n(219)),f=I(n(301)),p=I(n(6072)),h=I(n(821)),v=I(n(6095)),m=I(n(6033)),y=I(n(6026)),_=n(223),g=I(n(5359)),E=I(n(7256)),S=n(0),T=I(n(13)),O=I(n(5868));function I(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=64,M=160,P=[14,14,12,12,10,8,6],b=function(e,t){return void 0===t&&(t=null),N(m.default,{className:(0,o.default)(O.default.textContent,t),size:m.default.Sizes.SIZE_14,tag:m.default.Tags.H4},void 0,e)};b.displayName="renderSectionTitle";var R=function(e,t){return void 0===t&&(t=null),N(y.default,{className:(0,o.default)(O.default.textContent,t),size:y.default.Sizes.SIZE_12},void 0,e)};R.displayName="renderSectionText";var L=(0,l.default)(function(e){var t=e.message;return N("div",{className:O.default.timestamp},void 0,t)}),D=function(e){var t=e.children;return N("section",{className:O.default.section},void 0,t)};D.displayName="Section";var w=function(e){var t,n=e.inset,r=e.className;return N("div",{className:(0,o.default)(O.default.separator,(t={},t[O.default.inset]=n,t),r)})};w.displayName="Separator";var U=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;return i.renderTimePlayed=function(){var e,t=this.props.activity,n=t.timestamps;return null==n||!(0,_.isGameActivity)(t)||(0,_.isListeningOnSpotify)(t)?null:(e=(0,_.hasRichActivity)(t)?N(L,{timestamps:n}):N(p.default,{start:n.start,end:n.end,location:p.default.Locations.USER_ACTIVITY,className:O.default.playTime}),R(e))},i.render=function(){var e,t=this.props,r=t.activity,a=r.assets,i=r.details,l=r.state,s=r.application_id,u=t.getAssetImage;return N(D,{},void 0,N("div",{className:O.default.activitySection},void 0,null!=a&&0!==Object.keys(a).length?N("div",{className:O.default.activitySectionAssets},void 0,N("img",{alt:a.large_text||"",src:u(s,a.large_image,[M,M]),className:(0,o.default)(O.default.largeImage,(e={},e[O.default.largeImageMask]=null!=a.small_image,e))}),null!=a.small_image?N("img",{alt:a.small_text||"",src:u(s,a.small_image,[A,A]),className:O.default.smallImage}):null):N("div",{className:O.default.activitySectionAssets},void 0,N("img",{alt:"",src:n(6240),className:O.default.largeImage})),N("div",{},void 0,b(i||T.default.Messages.USER_ACTIVITY_HEADER_PLAYING),null!=l?R(l):null,this.renderTimePlayed())))},a}(a.Component);U.displayName="RichPresenceSection";var k=N("div",{}),G=function(e){var t,n=e.activity,r=n.assets,a=n.name,i=n.details,l=n.state,s=n.application_id,u=e.partySize,d=e.members,c=e.getAssetImage;return N(D,{},void 0,N("div",{className:O.default.spotifySection},void 0,null!=r?N("div",{className:O.default.activitySectionAssets},void 0,N("img",{alt:r.large_text||"",src:c(s,r.large_image,[M,M]),className:(0,o.default)(O.default.largeImage,(t={},t[O.default.largeImageMask]=null!=r.small_image,t))}),N(f.default,{className:O.default.smallImage,name:f.default.Names.PLATFORM_SPOTIFY,color:S.Colors.SPOTIFY})):k,N("div",{},void 0,b(a),null!=i?R(i):null,null!=l?R(l):null),N(E.default,{partySize:u,members:d})))};G.displayName="SpotifySection";var F=function(e){var t,r,a=e.activity,i=e.user,l=e.getAssetImage,f=a.name,p=a.details,h=a.assets,v=a.application_id;return null!=h&&(0,_.isStreaming)(a)&&(r=N(u.default,{className:O.default.twitchSectionPreviewWrapper,aspectRatio:16/9},void 0,N(c.default,{href:(0,_.getStreamURL)(a),tag:"a",target:"_blank"},void 0,N("img",{alt:h.large_text||"",src:l(v,h.large_image,[900,500]),className:O.default.twitchSectionPreview}),N("img",{src:n(8054),className:O.default.twitchSectionPlayButton,alt:""})))),N(D,{},void 0,N("div",{className:(0,o.default)((t={},t[O.default.twitchSectionSimple]=null==i,t[O.default.twitchSectionFull]=null!=i,t))},void 0,N("img",{alt:"",src:s.default.get(S.PlatformTypes.TWITCH).icon.color,className:O.default.twitchSectionIcon}),N("div",{},void 0,b(f),null!=p?R(p):null),null!=i?N(d.default,{src:i.getAvatarURL(),className:O.default.twitchSectionAvatar,imageClassName:O.default.twitchSectionIcon,size:d.default.Sizes.XSMALL}):null),r)};F.displayName="TwitchSection";var j=function(e){var t=e.guild,n=e.channel,r=e.onGuildClick,a=e.partySize,i=e.members,l=e.onChannelContextMenu;return N(D,{},void 0,N("div",{className:O.default.voiceSection,onContextMenu:function(e){return l(e,n)}},void 0,N(c.default,{onClick:r},void 0,N("div",{className:O.default.voiceSectionAssets},void 0,null!=t.getIconURL()?N("img",{alt:"",src:t.getIconURL(),className:(0,o.default)(O.default.voiceSectionGuildImage,O.default.largeImageMask)}):N("div",{className:O.default.voiceSectionNoGuildImageWrapper},void 0,N("div",{className:O.default.voiceSectionNoGuildImage,style:{fontSize:P[t.acronym.length]||P[P.length-1]}},void 0,t.acronym)),N("div",{className:O.default.voiceSectionIconWrapper},void 0,N(f.default,{className:O.default.voiceSectionIcon,name:f.default.Names.SPEAKER})))),N(c.default,{onClick:r},void 0,N("div",{className:O.default.voiceSectionDetails},void 0,b(t.toString(),O.default.voiceSectionText),R(n.toString(!0),O.default.voiceSectionText))),N(E.default,{partySize:a,members:i})))};j.displayName="VoiceSection";var x=function(e){var t=e.title;return N(D,{},void 0,N("div",{className:O.default.xboxSection},void 0,N(f.default,{className:O.default.xboxSectionIcon,name:f.default.Names.PLATFORM_XBOX}),N("div",{className:O.default.xboxSectionDetails},void 0,b(t),R(T.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX))))};x.displayName="XboxSection";var B=function(e){var t=e.onIconClick,n=e.onIconContextMenu,r=e.icon,a=e.name,o=e.partySize,i=e.members;return N(D,{},void 0,N("div",{className:O.default.gameSection},void 0,null!=r?N(c.default,{onClick:t,onContextMenu:n},void 0,N("img",{alt:"",src:r,className:O.default.gameSectionIcon})):null,N("div",{},void 0,b(a),R(T.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:o.totalSize}))),N(E.default,{partySize:o,members:i})))};B.displayName="GameSection";var H=(0,i.default)({XBOX:null,SPOTIFY:null,MULTIPLE:null}),V=function(e){var t,n=e.src,r=e.onClick,a=e.onContextMenu;switch(n){case H.XBOX:t=N(f.default,{className:O.default.headerIcon,name:f.default.Names.PLATFORM_XBOX,color:S.Colors.PRIMARY_DARK_300});break;case H.SPOTIFY:t=N(f.default,{className:O.default.headerIcon,name:f.default.Names.PLATFORM_SPOTIFY,color:S.Colors.SPOTIFY});break;case H.MULTIPLE:t=N("div",{className:O.default.multipleIconWrapper},void 0,N(f.default,{className:(0,o.default)(O.default.headerIcon,O.default.multipleIcon),name:f.default.Names.ACTIVITY,color:S.Colors.PRIMARY_DARK_300}));break;default:t=N("img",{src:n,alt:"",className:O.default.headerIcon})}return null!=r||null!=a?N(c.default,{onClick:r,className:(0,o.default)(null!=r?O.default.clickableIcon:""),onContextMenu:a},void 0,t):t};V.Src=H;var Y=function(e){var t=e.priorityUser,n=e.title,r=e.subtitle,o=e.icon,i=e.onContextMenu,l={location:C({},e.analyticsContext.location,{object:S.AnalyticsObjects.AVATAR})};return N("header",{className:null!=o?O.default.headerFull:O.default.headerSimple},void 0,N(h.default,{render:function(e){return a.createElement(g.default,C({},e,{user:t.user,analyticsParams:l}))},position:h.default.Positions.LEFT,closeOnScroll:!1},void 0,N(d.default,{src:t.user.getAvatarURL(),className:O.default.headerAvatar,imageClassName:O.default.headerAvatarMask,status:t.status,onContextMenu:i})),N("div",{className:O.default.headerDetails},void 0,N(m.default,{className:O.default.textContent,size:m.default.Sizes.SIZE_16},void 0,n),N(y.default,{className:O.default.textContent},void 0,r)),null!=o?o:null)};Y.displayName="NowPlayingHeader",Y.Icon=V;var W=function(e){var t=e.children;return N(v.default,{inset:!0,padded:!1,className:O.default.body},void 0,t)};W.displayName="NowPlayingBody";var K=function(e){var t=e.children,n=e.className;return N(v.default,{className:(0,o.default)(n,O.default.wrapper),padded:!1},void 0,t)};K.displayName="NowPlayingItem",K.Header=Y,K.Body=W,K.Separator=w,K.VoiceSection=j,K.GameSection=B,K.RichPresenceSection=U,K.XboxSection=x,K.SpotifySection=G,K.TwitchSection=F;var z=K;t.default=z,e.exports=t.default},6746:function(e,t,n){"use strict";t.__esModule=!0,t.showNotice=function(e,t){a.default.dirtyDispatch({type:o.ActionTypes.CHANNEL_NOTICE_SHOW,noticeType:e,guild:t})},t.hideNotice=function(e){a.default.dirtyDispatch({type:o.ActionTypes.CHANNEL_NOTICE_HIDE,noticeType:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},6747:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(124)),i=c(n(220)),l=c(n(125)),s=c(n(107)),u=c(n(13)),d=c(n(5612));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){var t,n;function r(t){var n;return p(n=e.call(this,t)||this).close=n.close.bind(p(n)),p(n).handleSync=n.handleSync.bind(p(n)),p(n).handleCancel=n.handleCancel.bind(p(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){(0,this.props.onClose)()},a.handleSync=function(){(0,this.props.onSync)(),this.close()},a.handleCancel=function(){var e=this.props.onCancel;e&&e(),this.close()},a.renderHeader=function(){return f(i.default.Header,{},void 0,f(s.default,{tag:s.default.Tags.H4},void 0,u.default.Messages.CONFIRM_CHANNEL_DRAG_TITLE))},a.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return f(i.default.Content,{},void 0,f(l.default,{size:l.default.Sizes.MEDIUM,color:l.default.Colors.PRIMARY,className:d.default.message,selectable:!1},void 0,u.default.Messages.SYNC_PERMISSIONS_EXPLANATION.format({channelName:t.toString(!0),categoryName:n.toString()})))},a.renderFooter=function(){return f(i.default.Footer,{},void 0,f(o.default,{color:o.default.Colors.BRAND,onClick:this.handleSync,className:d.default.buttonSpacing},void 0,u.default.Messages.SYNC_PERMISSIONS),f(o.default,{color:o.default.Colors.BRAND,look:o.default.Looks.GHOST,onClick:this.handleCancel,className:d.default.buttonSpacing},void 0,u.default.Messages.KEEP_PERMISSIONS))},a.render=function(){return f(i.default,{},void 0,this.renderHeader(),this.renderContent(),this.renderFooter())},r}(a.PureComponent);h.displayName="ConfirmChannelDrag",h.key=function(){return"confirm-channel-drag-modal"};var v=h;t.default=v,e.exports=t.default},6748:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.VoiceList=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(219)),l=p(n(437)),s=p(n(894)),u=p(n(895)),d=n(0),c=p(n(13)),f=p(n(5617));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.children,n=e.collapsed,r=void 0!==n&&n,a=e.className;return h("div",{className:(0,o.default)(a,f.default.list,r?f.default.listCollapse:f.default.listDefault)},void 0,t)};t.VoiceList=v,v.displayName="VoiceList";var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.user;r&&r(e,a)},t.handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.user;r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.user;r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderPrioritySpeaker=function(){var e,t=this.props,n=t.speaking,r=t.priority,a=t.collapsed;return r&&!a?h(l.default,{text:c.default.Messages.PRIORITY_SPEAKER},void 0,h("div",{className:(0,o.default)(f.default.iconPriortySpeaker,(e={},e[f.default.iconPriortySpeakerSpeaking]=n,e))})):null},a.renderAvatar=function(){var e,t=this.props,n=t.speaking,r=t.user,a=t.size,i=t.avatarContainerClass;return h("div",{className:(0,o.default)(i,f.default.avatar,(e={},e[f.default.avatarLarge]=a===d.OverlayAvatarSizes.LARGE,e[f.default.avatarSmall]=a===d.OverlayAvatarSizes.SMALL,e[f.default.avatarSpeaking]=n,e)),style:{backgroundImage:"url("+(r.avatarURL||r.getAvatarURL&&r.getAvatarURL("jpg")||"")+")"}})},a.renderName=function(){var e,t=this.props,n=t.nick,r=t.user,a=t.collapsed,i=t.speaking,l=t.userNameClassName;return a?null:h("div",{className:(0,o.default)(l,(e={},e[f.default.username]=!0,e[f.default.usernameSpeaking]=i,e))},void 0,n||r.username)},a.renderIcons=function(){var e,t,n,r,a=this.props,i=a.mute,l=a.deaf,d=a.collapsed,p=a.isStreaming,v=a.isWatching;if(d)return null;(i&&(e=h("div",{className:f.default.iconSpacing},void 0,h(u.default,{className:f.default.icon}))),l&&(t=h("div",{className:f.default.iconSpacing},void 0,h(s.default,{className:f.default.icon}))),p)&&(n=h("div",{className:f.default.iconSpacing},void 0,h("div",{className:(0,o.default)((r={},r[f.default.liveIcon]=!0,r[f.default.red]=v,r))},void 0,c.default.Messages.LIVE)));return null==e&&null==t&&null==n?null:h("div",{className:f.default.icons},void 0,n,e,t)},a.render=function(){var e,t,n=this.props,r=n.onClick,a=n.onDoubleClick,l=n.onContextMenu,s=n.flipped,u=n.size,c=n.className,p=n.selected;return h(i.default,{className:(0,o.default)(c,(e={},e[f.default.voiceUser]=!0,e[f.default.selected]=p,e[f.default.clickable]=null!=r,e[f.default.userSmall]=u===d.OverlayAvatarSizes.SMALL,e[f.default.userLarge]=u===d.OverlayAvatarSizes.LARGE,e)),onClick:r&&this.handleClick,onDoubleClick:a&&this.handleDoubleClick,onContextMenu:l&&this.handleContextMenu},void 0,h("div",{className:(0,o.default)(f.default.content,(t={},t[f.default.flipped]=s,t))},void 0,this.renderPrioritySpeaker(),this.renderAvatar(),this.renderName(),this.renderIcons()))},r}(a.Component);m.displayName="VoiceUser",m.List=v,m.defaultProps={avatarContainerClass:f.default.avatarContainer,userNameClassName:f.default.usernameFont,size:d.OverlayAvatarSizes.SMALL,selected:!1};var y=m;t.default=y},6749:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i={};var l=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){var t=e;null!=t&&Object.keys(t).forEach(function(e){"number"==typeof t[e]&&(i[e]=t[e])})},a.getState=function(){return i},a.hasViewed=function(e){return null!=i[e]},r}(r.default.PersistedStore);l.persistKey="ViewHistoryStore";var s=new l(a.default,{VIEW_HISTORY_MARK_VIEW:function(e){var t=e.key;i[t]=Date.now()}});t.default=s,e.exports=t.default},6750:function(e,t,n){"use strict";t.__esModule=!0,t.renderTwoColumns=c,t.renderStreams=function(e,t){return e.map(function(e){var n=a.default.map(e,function(e,n){return"type"===n?null:d(l.Item,{section:t,label:n,value:e},n)}).filter(function(e){return null!=e});return d(i.default,{className:s.default.marginBottom40,title:e.type},e.type,c(n))})};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(6)),o=u(n(148)),i=u(n(829)),l=n(7063),s=u(n(5357));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){var t=[],n=0;for(e.length%2!=0&&e.push(d(o.default,{basis:"50%",grow:0},n++));e.length>0;)t.push(d(o.default,{basis:"50%",grow:0},n++,e.splice(0,2)));return t}},6751:function(e,t,n){"use strict";t.__esModule=!0,t.getOverlayLayoutContent=function(){return[{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,binds:C(O.KeybindActions.SERVER_PREV,O.KeybindActions.SERVER_NEXT)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,binds:C(O.KeybindActions.CHANNEL_PREV,O.KeybindActions.CHANNEL_NEXT)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,binds:C(O.KeybindActions.UNREAD_PREV,O.KeybindActions.UNREAD_NEXT)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,binds:C(O.KeybindActions.MENTION_CHANNEL_PREV,O.KeybindActions.MENTION_CHANNEL_NEXT),groupEnd:!0},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,binds:C(O.KeybindActions.TOGGLE_PREVIOUS_GUILD)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,binds:C(O.KeybindActions.MARK_SERVER_READ)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,binds:C(O.KeybindActions.MARK_CHANNEL_READ)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,binds:C(O.KeybindActions.SEARCH_EMOJIS),groupEnd:!0},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,binds:C(O.KeybindActions.TOGGLE_MUTE)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,binds:C(O.KeybindActions.TOGGLE_DEAFEN)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,binds:C(O.KeybindActions.CALL_ACCEPT)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,binds:C(O.KeybindActions.MARK_CHANNEL_READ)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,binds:C(O.KeybindActions.CALL_START),groupEnd:!0},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,binds:C(O.KeybindActions.SCROLL_UP,O.KeybindActions.SCROLL_DOWN)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,binds:C(O.KeybindActions.JUMP_TO_FIRST_UNREAD)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,binds:C(O.KeybindActions.TEXTAREA_FOCUS)},{description:I.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,binds:C(O.KeybindActions.QUICKSWITCHER_SHOW)}]},t.default=t.OVERLAY_LOCKED_LAYOUT=t.OVERLAY_LAYOUT=void 0;var r,a,o,i=n(6213),l=n(6214),s=n(6112),u=n(6215),d=n(6216),c=n(6217),f=n(7067),p=n(6220),h=n(6221),v=n(6222),m=n(6223),y=n(6224),_=n(6225),g=n(6227),E=n(6228),S=n(6229),T=n(6231),O=n(0),I=(r=n(13))&&r.__esModule?r:{default:r};function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){var t=N[e];if(null==t)throw new Error("getBindsFor(...): No bind for "+t);return t.binds[0]})}var N=((a={})[O.KeybindActions.SERVER_NEXT]=m.SERVER_NEXT,a[O.KeybindActions.SERVER_PREV]=m.SERVER_PREV,a[O.KeybindActions.CHANNEL_NEXT]=l.CHANNEL_NEXT,a[O.KeybindActions.CHANNEL_PREV]=l.CHANNEL_PREV,a[O.KeybindActions.UNREAD_NEXT]=T.UNREAD_NEXT,a[O.KeybindActions.UNREAD_PREV]=T.UNREAD_PREV,a[O.KeybindActions.MENTION_CHANNEL_NEXT]=T.MENTION_NEXT,a[O.KeybindActions.MENTION_CHANNEL_PREV]=T.MENTION_PREV,a[O.KeybindActions.TOGGLE_PREVIOUS_GUILD]=l.TOGGLE_PREVIOUS_GUILD,a[O.KeybindActions.JUMP_TO_GUILD]=s.JUMP_TO_GUILD,a[O.KeybindActions.SUBMIT]=y.SUBMIT,a[O.KeybindActions.TEXTAREA_FOCUS]=_.TEXTAREA_FOCUS,a[O.KeybindActions.MARK_CHANNEL_READ]=u.MARK_CHANNEL_READ,a[O.KeybindActions.MARK_SERVER_READ]=d.MARK_SERVER_READ,a[O.KeybindActions.TOGGLE_MUTE]=g.TOGGLE_MUTE,a[O.KeybindActions.TOGGLE_DEAFEN]=g.TOGGLE_DEAFEN,a[O.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]=E.TOGGLE_CATEGORY_COLLAPSED,a[O.KeybindActions.SCROLL_UP]=h.SCROLL_UP,a[O.KeybindActions.SCROLL_DOWN]=h.SCROLL_DOWN,a[O.KeybindActions.SEARCH_EMOJIS]=v.SEARCH_EMOJIS,a[O.KeybindActions.TOGGLE_HOTKEYS]=S.TOGGLE_HOTKEYS,a[O.KeybindActions.JUMP_TO_FIRST_UNREAD]=c.JUMP_TO_FIRST_UNREAD,a[O.KeybindActions.RETURN_TO_AUDIO_CHANNEL]=p.RETURN_TO_AUDIO_CHANNEL,a[O.KeybindActions.CALL_ACCEPT]=i.CALL_ACCEPT,a[O.KeybindActions.CALL_START]=i.CALL_START,a[O.KeybindActions.QUICKSWITCHER_SHOW]=f.QUICKSWITCHER_SHOW,a);t.OVERLAY_LAYOUT=N;var A=((o={})[O.KeybindActions.QUICKSWITCHER_SHOW]=f.QUICKSWITCHER_SHOW,o);t.OVERLAY_LOCKED_LAYOUT=A;var M=N;t.default=M},6752:function(e,t,n){"use strict";t.__esModule=!0,t.AnimatedPage=t.PageWrapper=t.Text=t.Title=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(303)),l=u(n(148)),s=u(n(5635));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t=e.children,n=e.className;return c("h1",{className:(0,o.default)(n,s.default.title)},void 0,t)};t.Title=f,f.displayName="Title";var p=function(e){var t=e.children,n=e.className;return c("div",{className:(0,o.default)(n,s.default.text)},void 0,t)};t.Text=p,p.displayName="Text";var h=function(e){var t=e.illustration,n=e.children,r=e.style,a=e.illustrationStyle;return c(i.default.div,{className:s.default.modalContent,style:r},void 0,c(l.default,{align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,className:s.default.illustrationWrapper,grow:0,shrink:0},void 0,c(i.default.div,{style:a},void 0,c("img",{alt:"",src:t}))),c(l.default,{align:l.default.Align.START},void 0,c("div",{className:s.default.padded},void 0,n)))};t.PageWrapper=h,h.displayName="PageWrapper";var v={friction:15,tension:200},m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).translateX=new i.default.Value(0),n.translateX.setValue(0),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){(0,this.props.setRef)(this)},a.componentWillEnter=function(e){var t=this.translateX;t.setValue(1),setTimeout(function(){i.default.spring(t,d({toValue:0},v)).start(e)},220)},a.componentWillLeave=function(e){var t=this.translateX;i.default.spring(t,{toValue:.14,friction:10,tension:100}).start(),setTimeout(function(){i.default.spring(t,d({toValue:-1},v)).start(e)},220)},a.submit=function(){return new Promise(function(e){return e()})},a.getAnimatedStyle=function(e){void 0===e&&(e="100%");var t=this.translateX;return i.default.accelerate({transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0%",e]})}]})},r}(a.Component);t.AnimatedPage=m},6771:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=u(n(9)),l=u(n(5991)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCutItem=function(){(0,o.closeContextMenu)(),t.props.target.focus(),setTimeout(function(){return i.default.cut()},0)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return this.props.value?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.CUT,hint:i.default.isOSX()?"⌘X":"Ctrl+X",action:this.handleCutItem}):null},a}(a.PureComponent);d.displayName="NativeCutItem";var c=d;t.default=c,e.exports=t.default},6772:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=u(n(9)),l=u(n(5991)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePasteItem=function(){(0,o.closeContextMenu)(),t.props.target.focus(),setTimeout(function(){return i.default.paste()},0)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.PASTE,hint:i.default.isOSX()?"⌘V":"Ctrl+V",action:this.handlePasteItem})},a}(a.PureComponent);d.displayName="NativePasteItem";var c=d;t.default=c,e.exports=t.default},6773:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(3)),i=n(302),l=n(6774),s=m(n(6775)),u=m(n(309)),d=n(6471),c=m(n(5995)),f=m(n(5991)),p=m(n(6012)),h=n(0),v=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={misspelled:!1,corrections:[]},t._mounted=!1,t.handleLearnWord=function(){var e=t.props.value;(0,l.learnWord)(e),t.resetTarget()},t.handleToggle=function(){(0,l.toggleSpellcheck)(),t.resetTarget()},t.handleLanguages=function(){window.open(u.default.getArticleURL(h.HelpdeskArticles.SPELLCHECK))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this._mounted=!0,this.updateCorrections(this.props)},a.componentWillUnmount=function(){this._mounted=!1},a.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.value,r=t.spellcheckEnabled;n===e.value&&r===e.spellcheckEnabled||this.updateCorrections(e)},a.render=function(){var e=this;if(!(0,d.isSupported)())return null;var t=this.props.spellcheckEnabled,n=this.state,r=n.misspelled,a=n.corrections,o=y(c.default,{},"options",r?y(f.default,{label:v.default.Messages.ADD_TO_DICTIONARY,action:this.handleLearnWord}):null,y(p.default,{label:v.default.Messages.SPELLCHECK,active:t,action:this.handleToggle}),t?y(f.default,{label:v.default.Messages.LANGUAGES,action:this.handleLanguages}):null);return 0===a.length?o:[y(c.default,{},"corrections",a.map(function(t,n){return y(f.default,{label:t,action:function(){return e.handleReplace(t)}},n)})),o]},a.handleReplace=function(e){var t=this.props.target;(0,i.closeContextMenu)(),(0,d.replaceWithCorrection)(e),t.focus()},a.resetTarget=function(){(0,i.closeContextMenu)();var e=this.props.target,t=e.selectionStart,n=e.selectionEnd,r=e.value;e.value="",e.value=r,e.selectionStart=t,e.selectionEnd=n,e.focus()},a.updateCorrections=function(e){var t=this,n=e.spellcheckEnabled,r=e.value,a=e.onHeightUpdate;n&&(0,d.isSupported)()&&Promise.all([(0,d.isMisspelled)(r,!0),(0,d.getCorrections)(r,!0)]).then(function(e){var n=e[0],r=e[1];t._mounted&&t.setState({misspelled:n,corrections:r},a)})},r}(a.PureComponent);_.displayName="NativeSpellcheckGroup",_.defaultProps={value:""};var g=o.default.connectStores([],function(){return{spellcheckEnabled:s.default.isEnabled()}})(_);t.default=g,e.exports=t.default},6774:function(e,t,n){"use strict";t.__esModule=!0,t.toggleSpellcheck=function(){a.default.dispatch({type:o.ActionTypes.SPELLCHECK_TOGGLE})},t.learnWord=function(e){a.default.dispatch({type:o.ActionTypes.SPELLCHECK_LEARN_WORD,word:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},6775:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(21)),o=l(n(1)),i=n(6471);n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s="SpellcheckStore",u=!0,d=new Set;function c(){a.default.set(s,{enabled:u,learnedWords:d})}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){var e=a.default.get(s);null!=e&&(u=e.enabled,d=new Set(e.learnedWords),(0,i.setEnabled)(u),(0,i.setLearnedWords)(d))},o.isEnabled=function(){return u},r}(r.default.Store))(o.default,{SPELLCHECK_TOGGLE:function(e){return u=!u,(0,i.setEnabled)(u),void c()},SPELLCHECK_LEARN_WORD:function(e){var t=e.word;d.add(t.toLocaleLowerCase()),(0,i.setLearnedWords)(d),c()}});t.default=f,e.exports=t.default},6776:function(e,t,n){"use strict";t.__esModule=!0,t.install=function(){return o.default.ensureModule("discord_spellcheck").then(function(){var e=o.default.requireModule("discord_spellcheck").Spellchecker,t=new h(new e);return function(e){null!=document.body&&document.body.addEventListener("input",function(t){null!=t.target&&"string"==typeof t.target.value&&e.detectLocale(t.target.value)},!0)}(t),t})},t.Spellchecker=void 0;var r=n(6777),a=c(n(878)),o=c(n(9)),i=c(n(88)),l=c(n(65)),s=c(n(6778)),u=c(n(6779)),d=c(n(6472));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){e=d.default[e]||e;var t=(0,r.parse)(e.replace(/[_-]/g,"-"));if(null==t||null==t.langtag.language||null==t.langtag.region)throw new Error(e+" is not a valid locale.");var n=t.langtag,a=n.language,o=n.region;return a.language.toLowerCase()+"-"+o.toUpperCase()}var h=function(){function e(e){var t=this;this._logger=l.default.create("Spellchecker"),this._isMisspelledCache=new a.default({max:512,maxAge:4e3}),this._localeAvailable=!1,this._enabled=!0,this._learnedWords=new Set,this._spellchecker=e;var n=this.getAvailableLocales();this._languageDetector=new s.default(n[0],this.getAvailableLanguages(n),function(e){return t.setLocale(e)})}var t,n,r,d=e.prototype;return d.reset=function(){var e=this;null!=this._locale&&(this._isMisspelledCache.reset(),i.default.spellCheck.setSpellCheckProvider(this._locale,!0,{spellCheck:function(t){return!e.isMisspelled(t)}}))},d.setLearnedWords=function(e){this._learnedWords=e,this.reset()},d.setLocale=function(e){e!==this._locale&&(this._locale=e,this._localeAvailable=this._spellchecker.setDictionary(e),this._logger.info("Switching to "+e,this._localeAvailable?"(available)":"(unavailable)"),this.reset())},d.detectLocale=function(e){this.enabled&&this._languageDetector.process(e)},d.getAvailableLocales=function(){var e=o.default.requireModule("discord_spellcheck").keyboardLayout;return(o.default.isOSX()?this._spellchecker.getAvailableDictionaries():e.getInstalledKeyboardLanguages()).map(p)},d.getAvailableLanguages=function(e){var t={};return(e=e||this.getAvailableLocales()).forEach(function(e){var n=e.split("-")[0];t[n]=t[n]||e}),t},d.isMisspelled=function(e,t){void 0===t&&(t=!1);var n=this._isMisspelledCache.get(e);return null!=n?n:!t&&(n=this._isMisspelled(e),this._isMisspelledCache.set(e,n),n)},d._isMisspelled=function(e){if(!this._enabled||!this._localeAvailable)return!1;if(1===e.length)return!1;var t=e.toLocaleLowerCase();return!this._learnedWords.has(t)&&!u.default.has(t)&&this._spellchecker.isMisspelled(e)},d.getCorrectionsForMisspelling=function(e,t){return void 0===t&&(t=!1),this.isMisspelled(e,t)&&this._spellchecker.getCorrectionsForMisspelling(e)||[]},t=e,(n=[{key:"enabled",get:function(){return this._enabled},set:function(e){this._enabled=e,this.reset()}}])&&f(t.prototype,n),r&&f(t,r),e}();t.Spellchecker=h},6778:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(9)),a=o(n(6472));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(e,t,n){this._shouldProcess=!1,this._processing=!1,this._minimumTimeRemaining=5,this._locale=e,this._availableLanguages=t,this._languageHint=e.split("-")[0],this._onChange=n,n(e)}var t,n,o,l=e.prototype;return l.process=function(e){var t=this;this._processing||(this._processing=!0,requestIdleCallback(function(n){n.timeRemaining()<=t._minimumTimeRemaining?t._processEnd():(e.length>256&&(e=e.slice(0,256)),function(e,t){var n=r.default.requireModule("discord_spellcheck").cld;return new Promise(function(r,a){n.detect(e,{httpHint:t,encodingHint:"UTF8"},function(e,t){null!=e?a(new Error(e.message)):!t.reliable||t.languages[0].percent<90||t.languages[0].score<500?a(new Error("Not enough reliable text.")):r(t.languages[0].code)})})}(e,t._languageHint).then(function(e){var r=t._availableLanguages[e]||a.default[e];null!=r&&(t.locale=r),t._processEnd(n.didTimeout)},function(){t._processEnd(n.didTimeout)}))}))},l._processEnd=function(e){void 0===e&&(e=!1),this._processing=!1,e&&this._minimumTimeRemaining++},t=e,(n=[{key:"locale",get:function(){return this._locale},set:function(e){this._locale!==e&&(this._locale=e,this._onChange(e))}}])&&i(t.prototype,n),o&&i(t,o),e}();t.default=l,e.exports=t.default},6779:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=new Set(["ain't","aren't","can't","could've","couldn't","couldn't've","didn't","doesn't","don't","hadn't","hadn't've","hasn't","haven't","he'd","he'd've","he'll","he's","how'd","how'll","how's","I'd","I'd've","I'll","I'm","I've","isn't","it'd","it'd've","it'll","it's","let's","ma'am","mightn't","mightn't've","might've","mustn't","must've","needn't","not've","o'clock","shan't","she'd","she'd've","she'll","she's","should've","shouldn't","shouldn't've","that'll","that's","there'd","there'd've","there're","there's","they'd","they'd've","they'll","they're","they've","wasn't","we'd","we'd've","we'll","we're","we've","weren't","what'll","what're","what's","what've","when's","where'd","where's","where've","who'd","who'll","who're","who's","who've","why'll","why're","why's","won't","would've","wouldn't","wouldn't've","y'all","y'all'd've","you'd","you'd've","you'll","you're","you've"].map(function(e){return e.replace(/'.*/,"")}));t.default=r,e.exports=t.default},6780:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=f(n(6090)),l=f(n(152)),s=f(n(49)),u=f(n(5991)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).tagAsSpoiler=function(){var e=t.props,n=e.target,r=e.value,a=void 0===r?"":r,u=e.isEditing;if(n instanceof HTMLTextAreaElement){var c=s.default.getChannelId();if(null!=c){(0,o.closeContextMenu)(),n.focus();var f=n.selectionStart,p=n.selectionEnd;n.value=n.value.slice(0,f)+(0,d.MARKDOWN_SPOILER_WRAPPER)(a)+n.value.slice(p),u?l.default.updateEditMessage(n.value):i.default.saveDraft(c,n.value)}}},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=e.value,n=e.target;return null!=t&&n instanceof HTMLTextAreaElement?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:c.default.Messages.SPOILER_MARK_SELECTED,action:this.tagAsSpoiler}):null},a}(a.PureComponent);p.displayName="NativeSpoilerItem";var h=p;t.default=h,e.exports=t.default},6781:function(e,t,n){"use strict";t.__esModule=!0,t.makeAuthenticated=function(e,t){var n=c(t,{});return function(r){if(!l.default.isAuthenticated()&&!l.default.isGuest()){if(null!=t)return n;var s=location.pathname+location.search;return c(o.Redirect,{to:(0,i.getLoginPath)(s,!1)})}return a.createElement(e,r)}},t.getArtForPath=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(147),i=n(917),l=d(n(12)),s=d(n(6782)),u=d(n(6783));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.getArtForPath=function(e){if(null!=e&&/^\/developers/.test(e))return n(6784);var t=(new Date).getHours();return t>=6&&t<20?s.default:u.default}},6782:function(e,t,n){e.exports=n.p+"fd91131ea693096d6be5e8aa99d18f9e.jpg"},6783:function(e,t,n){e.exports=n.p+"14c037b7102f18b2d2ccf065a52bb595.jpg"},6784:function(e,t,n){e.exports=n.p+"edaed5daf032643e89ba411a3b99014b.jpg"},6787:function(e,t,n){"use strict";t.__esModule=!0,t.tutTipsLogicV2=t.tutTipsOriginal=void 0;var r=Object.freeze({"voice-conversations":{},"writing-messages":{prerequisites:["voice-conversations"]},"direct-messages":{},"create-first-server":{},"organize-by-topic":{},"instant-invite":{prerequisites:["organize-by-topic"]},"whos-online":{prerequisites:["instant-invite"]},"server-settings":{prerequisites:["instant-invite"]},"friends-list":{prerequisites:["instant-invite"]},"create-more-servers":{prerequisites:["server-settings"]}});t.tutTipsOriginal=r;var a=Object.freeze({"direct-messages":{},"writing-messages":{},"voice-channels":{},"voice-conversations":{prerequisites:["voice-channels"]},"organize-by-channel":{},"instant-invite":{prerequisites:["organize-by-channel"]},"whos-online":{prerequisites:["instant-invite"]},"server-settings":{prerequisites:["instant-invite"]},"friends-list":{prerequisites:["instant-invite"]},"create-first-server":{prerequisites:["whos-online"]}});t.tutTipsLogicV2=a},6788:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={showChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_OPEN})},hideChangeLog:function(){a.default.dispatch({type:o.ActionTypes.CHANGE_LOG_CLOSE})}};t.default=i,e.exports=t.default},6791:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(336)),o=l(n(3)),i=l(n(1));n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=!1,d=[];var c=new(function(e){var t,n,r,a,o;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.getBackupCodes=function(){return d},r=i,(a=[{key:"togglingSMS",get:function(){return u}}])&&s(r.prototype,a),o&&s(r,o),i}(o.default.Store))(i.default,{MFA_ENABLE_SUCCESS:function(e){var t=e.token,n=e.codes;a.default.setToken(t),d=n},MFA_DISABLE_SUCCESS:function(e){var t=e.token;a.default.setToken(t)},MFA_SMS_TOGGLE:function(e){u=!0},MFA_SMS_TOGGLE_COMPLETE:function(e){u=!1},MFA_CLEAR_BACKUP_CODES:function(e){d=[]},MFA_VIEW_BACKUP_CODES:function(e){var t=e.codes;d=r.default.sortBy(t,"code")}});t.default=c,e.exports=t.default},6794:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(124)),i=h(n(444)),l=h(n(220)),s=h(n(125)),u=h(n(822)),d=h(n(442)),c=h(n(107)),f=h(n(13)),p=h(n(5763));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){var t,n;function r(t){var n;return m(n=e.call(this,t)||this).handleSubmit=n.handleSubmit.bind(m(n)),m(n).handleCancel=n.handleCancel.bind(m(n)),m(n).handlePasswordChange=n.handlePasswordChange.bind(m(n)),n.state={value:"",error:null,isLoading:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=r.prototype;return h.render=function(){var e=this.props,t=e.title,n=e.actionText,r=e.children,h=this.state,m=h.error,y=h.isLoading,_=h.value,g=a.Children.count(r)?v(i.default,{type:i.default.Types.WARNING,className:p.default.card},void 0,v(s.default,{color:s.default.Colors.WHITE,size:s.default.Sizes.MEDIUM},void 0,r)):null;return v(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,v(l.default.Header,{},void 0,v(c.default,{tag:c.default.Tags.H4},void 0,t)),v(l.default.Content,{},void 0,g,v(d.default,{title:f.default.Messages.FORM_LABEL_PASSWORD,className:p.default.spacing},void 0,v(u.default,{type:"password",autoComplete:"off",autoFocus:!0,value:_,onChange:this.handlePasswordChange}),m?v(s.default,{size:s.default.Sizes.SMALL,color:s.default.Colors.RED,className:p.default.error},void 0," ",m," "):null)),v(l.default.Footer,{},void 0,v(o.default,{type:"submit",disabled:y},void 0,n||f.default.Messages.CONFIRM),v(o.default,{onClick:this.handleCancel,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY},void 0,f.default.Messages.CANCEL)))},h.handleSubmit=function(e){var t=this;e.preventDefault();var n=this.state.value,r=this.props,a=r.handleSubmit,o=r.onClose;this.setState({isLoading:!0}),a(n).then(function(){return o()},function(e){null!=e.body&&(e.body.password?t.setState({error:e.body.password,isLoading:!1}):e.body.message&&t.setState({error:e.body.message,isLoading:!1}))})},h.handleCancel=function(){(0,this.props.onClose)()},h.handlePasswordChange=function(e){this.setState({value:e})},r}(a.PureComponent);y.displayName="PasswordConfirm",y.key=function(){return"password-confirm-modal"};var _=y;t.default=_,e.exports=t.default},6795:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(3)),i=h(n(839)),l=h(n(77)),s=h(n(14)),u=h(n(124)),d=h(n(125)),c=h(n(454)),f=h(n(445)),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isSendingVerificationEmail:!1},t.handleResendVerification=function(){var e=t.props,n=e.currentUser,r=e.onClick;r&&r(),t.setState({isSendingVerificationEmail:!0},function(){i.default.verifyResend().then(function(){return l.default.push(function(e){return a.createElement(f.default,v({header:p.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:p.default.Messages.OKAY,red:!1},e),m(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY},void 0,p.default.Messages.VERIFICATION_EMAIL_BODY.format({email:n.email})))})}).catch(function(e){var t=e.body,n=p.default.Messages.VERIFICATION_EMAIL_ERROR_BODY;null!=t&&t.email&&(n=t.email),l.default.push(function(e){return a.createElement(c.default,v({title:p.default.Messages.VERIFICATION_EMAIL_ERROR_TITLE,body:n},e))})}).then(function(){return t.setState({isSendingVerificationEmail:!1})})})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.color,n=e.look,r=e.size;return m(u.default,{look:n,size:r,color:t,disabled:this.state.isSendingVerificationEmail,onClick:this.handleResendVerification},void 0,p.default.Messages.RESEND_VERIFICATION_EMAIL)},r}(a.Component);y.displayName="ResendEmailVerificationButton",y.defaultProps={size:u.default.Sizes.MEDIUM,color:u.default.Colors.BRAND};var _=o.default.connectStores([s.default],function(){return{currentUser:s.default.getCurrentUser()}})(y);t.default=_,e.exports=t.default},6796:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i=!1,l=!1,s=null,u=224,d=!1;function c(){i=!0}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getProps=function(){return{working:i,valid:l,error:s}},a.getCountryId=function(){return u},a.getCountrySelectorOpened=function(){return d},r}(r.default.Store))(a.default,{VERIFICATION_ADDING_PHONE:function(e){return c()},VERIFICATION_VERIFYING_PHONE:function(e){return c()},VERIFICATION_ADD_PHONE_SUCCESS:function(e){return s=null,i=!1,void(l=!0)},VERIFICATION_ADD_PHONE_FAILURE:function(e){var t=e.error;s=t,i=!1,l=!1},VERIFICATION_VERIFY_PHONE_SUCCESS:function(e){return s=null,void(i=!1)},VERIFICATION_ADD_PHONE_RESET:function(e){return s=null,i=!1,void(l=!1)},VERIFICATION_VERIFY_PHONE_FAILURE:function(e){var t=e.error;s=t,i=!1},VERIFICATION_SELECT_COUNTRY:function(e){var t=e.id;u!==t&&(u=t)},VERIFICATION_OPEN_COUNTRY_SELECTOR:function(e){d=!0},VERIFICATION_CLOSE_COUNTRY_SELECTOR:function(e){d=!1}});t.default=f,e.exports=t.default},6797:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(2)),o=m(n(17)),i=m(n(6209)),l=y(n(124)),s=m(n(6798)),u=m(n(148)),d=m(n(220)),c=m(n(6799)),f=m(n(13)),p=m(n(312)),h=m(n(5357)),v=m(n(5500));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function m(t){var n;return(n=e.call(this,t)||this)._animItem=null,n.setLottieRef=function(e){n._lottieRef=e},n.handleAddPhone=function(e){n.state.animated||null==n._animItem||(n._animItem.play(),n.setState({animated:!0})),n._phone=e;var t=n.props.onAddPhone;t&&t(e)},n.handleVerifyPhone=function(e){var t=n.props.onVerifyPhone;t&&t(e)},n.handleResendCode=function(){var e=n.props.onAddPhone;e&&e(n._phone)},n.state={animated:!1},n}r=e,(t=m).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var y=m.prototype;return y.componentDidMount=function(){var e=this;n.e(252).then(function(t){var r=n(7288);e._animItem=i.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!1,animationData:r})}.bind(null,n)).catch(n.oe)},y.componentWillUnmount=function(){null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},y.render=function(){var e,t,n=this.props,r=n.error,i=n.working,m=n.validPhone;return e=r?_("div",{className:(0,o.default)(v.default.description,v.default.error,h.default.marginBottom20)},void 0,r):_("div",{className:(0,o.default)(v.default.description,h.default.marginBottom20)},void 0,m?f.default.Messages.VERIFICATION_PHONE_DESCRIPTION:f.default.Messages.ENTER_PHONE_DESCRIPTION),t=m?_(u.default,{className:v.default.field,direction:u.default.Direction.VERTICAL,align:u.default.Align.CENTER},void 0,_(s.default,{onSubmit:this.handleVerifyPhone}),_(l.default,{className:h.default.marginTop8,size:l.ButtonSizes.SMALL,look:l.ButtonLooks.LINK,color:l.ButtonColors.PRIMARY,onClick:this.handleResendCode},void 0,f.default.Messages.RESEND_CODE)):_(c.default,{className:v.default.field,onSubmit:this.handleAddPhone,submitting:i}),_(d.default,{className:(0,o.default)(v.default.phoneVerificationModal,p.default.vertical,p.default.alignCenter,p.default.justifyCenter,h.default.marginTop60)},void 0,a.createElement("div",{className:v.default.animationContainer,ref:this.setLottieRef}),_("div",{className:(0,o.default)(v.default.title,h.default.marginBottom8)},void 0,m?f.default.Messages.VERIFICATION_PHONE_TITLE:f.default.Messages.ENTER_PHONE_TITLE),e,t)},m}(a.PureComponent);g.displayName="PhoneVerificationModal";var E=g;t.default=E,e.exports=t.default},6798:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(148)),i=l(n(5496));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=function(e){function t(t){var n;return u(n=e.call(this,t)||this).handleKeyDown=n.handleKeyDown.bind(u(n)),u(n).handleChange=n.handleChange.bind(u(n)),u(n).setCodeBlockRef=n.setCodeBlockRef.bind(u(n)),n}d(t,e);var n=t.prototype;return n.render=function(){return a.createElement("input",{ref:this.setCodeBlockRef,className:i.default.input,maxLength:1,value:this.props.code,autoFocus:this.props.autoFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange})},n.setCodeBlockRef=function(e){this._codeBlockRef=e},n.focus=function(){this._codeBlockRef&&this._codeBlockRef.focus()},n.blur=function(){this._codeBlockRef&&this._codeBlockRef.blur()},n.handleKeyDown=function(e){var t=8===e.which||37===e.which||39===e.which,n=e.which>=48&&e.which<=57||e.keyCode>=96&&e.keyCode<=105;t||n||e.preventDefault();var r=this.props.onKeyDown;r&&r(e)},n.handleChange=function(e){var t=this.props.onChange;t&&t(e.currentTarget.value)},t}(a.PureComponent);c.displayName="CodeBlock",c.defaultProps={autoFocus:!1};var f=function(e){function t(t){var n;return(n=e.call(this,t)||this)._codeBlockRefs=new Array(n.props.count),n.state={codes:new Array(t.count)},n}d(t,e);var n=t.prototype;return n.render=function(){for(var e=this,t=this.state.codes,n=[],r=function(r){r===t.length/2&&n.push(s("div",{className:i.default.spacer},"spacer")),n.push(a.createElement(c,{ref:function(t){return e.setCodeBlockRef(r,t)},key:r,code:t[r],autoFocus:0===r,onChange:function(t){return e.handleChange(r,t)},onKeyDown:function(t){return e.handleKeyDown(r,t)}}))},l=0;l<t.length;l++)r(l);return s(o.default,{align:o.default.Align.CENTER,justify:o.default.Justify.CENTER},void 0,n)},n.setCodeBlockRef=function(e,t){this._codeBlockRefs[e]=t},n.handleChange=function(e,t){this.state.codes[e]=t;var n=this.getCodeOrFirstEmptyIndex();if("string"==typeof n)this.submit(n);else{var r=this._codeBlockRefs[n];r&&r.focus()}},n.handleKeyDown=function(e,t){var n=this.state.codes;if(8===t.which&&e>0&&(null==n[e]||0===n[e].length)){var r=e-1;n[r]="";var a=this._codeBlockRefs[r];a&&a.focus()}},n.getCodeOrFirstEmptyIndex=function(){for(var e=this.state.codes,t="",n=0;n<e.length;n++){if(isNaN(parseInt(e[n])))return n;t+=e[n]}return t},n.submit=function(e){var t=this.props.onSubmit;t&&t(e)},t}(a.PureComponent);f.displayName="CodeField",f.defaultProps={count:6};var p=f;t.default=p,e.exports=t.default},6799:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(2)),o=_(n(17)),i=_(n(6034)),l=_(n(6)),s=_(n(6800)),u=g(n(124)),d=_(n(148)),c=_(n(301)),f=_(n(6493)),p=_(n(308)),h=_(n(13)),v=_(n(5364)),m=_(n(5357)),y=_(n(5499));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var O=S(f.default.Divider,{}),I=function(e){function t(t){var n;return(n=e.call(this,t)||this).onChangeQuery=function(e){n.setState({query:e})},n.onClearQuery=function(){n.setState({query:""})},n.onClick=function(e){var t=e.id;(0,n.props.onClick)(t)},n.state={query:""},n}T(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.state.query,n=s.default.map(function(e,t){var n=e.code,r=e.name,a=n.split(" ")[0];return{id:t,value:r,children:S(d.default,{className:y.default.countryItem,justify:d.default.Justify.CENTER,align:d.default.Align.CENTER},void 0,S(d.default.Child,{className:y.default.countryName},void 0,r),S(d.default.Child,{className:y.default.countryCode,grow:0,shrink:0},void 0,a))}}),r=(0,l.default)(n).filter(function(e){return 0===t.length||(0,i.default)(t.toLowerCase(),e.value.toLowerCase())}).map(function(t){return a.createElement(f.default.Item,E({key:t.id},t,{onClick:e.onClick}))}).value();return 0===r.length?S(f.default.Empty,{},void 0,h.default.Messages.NONE):S(p.default,{outerClassName:y.default.scrollerWrap,className:y.default.phoneFieldScroller},void 0,r)},n.render=function(){return S(f.default,{className:(0,o.default)(y.default.phoneFieldPopout,v.default.elevationBorderLow)},void 0,S(f.default.SearchBar,{query:this.state.query,placeholder:h.default.Messages.SEARCH_COUNTRY,onChange:this.onChangeQuery,onClear:this.onClearQuery}),O,this.renderItems())},t}(a.PureComponent);I.displayName="CountryPopoutList";var C=function(e){function t(t){var n;(n=e.call(this,t)||this).handleChange=function(e){n.closePopout(),n.setState({phone:e.currentTarget.value})},n.handleKeyPress=function(e){n.closePopout(),13===e.which&&(e.preventDefault(),n.handleSubmit())},n.handleSubmit=function(){var e=n.props,t=e.onSubmit,r=e.submitting,a=n.state,o=a.countryCode,i=a.phone;r||t&&t(""+o+i)},n.handleTogglePopout=function(){n.setState({open:!n.state.open})},n.handleClick=function(e){var t=s.default[e].code.split(" "),r=t[0],a=t[1];n.setState({open:!1,countryCode:r,phone:a||""})};var r=s.default[224].code.split(" "),a=r[0],o=r[1];return n.state={countryCode:a,phone:o||"",open:!1},n}T(t,e);var n=t.prototype;return n.render=function(){var e=this.state,t=e.countryCode,n=e.phone,r=e.open,a=this.props,i=a.className,l=a.submitting,s=t.split("+")[1];return S(d.default,{className:(0,o.default)(y.default.phoneField,v.default.elevationLow,i),align:d.default.Align.CENTER,grow:0},void 0,S(d.default,{className:y.default.countryButton,grow:0,align:d.default.Align.CENTER,onClick:this.handleTogglePopout},void 0,S(d.default,{className:(0,o.default)(y.default.countryCodeContainer,m.default.marginReset),justify:d.default.Justify.CENTER},void 0,S("div",{className:y.default.plusSign},void 0,"+"),S("div",{className:y.default.countryCode},void 0,s)),S(c.default,{name:c.default.Names.CARET,foreground:y.default.phoneFieldExpand,expanded:r,width:16,height:16})),S("input",{className:y.default.inputField,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,autoFocus:!0}),S(u.default,{className:y.default.sendButton,size:u.ButtonSizes.SMALL,submitting:l,onClick:this.handleSubmit},void 0,h.default.Messages.SEND),r?S(I,{onClick:this.handleClick}):null)},n.closePopout=function(){this.state.open&&this.setState({open:!1})},t}(a.PureComponent);C.displayName="PhoneField";var N=C;t.default=N,e.exports=t.default},6800:function(e){e.exports=[{code:"+7 840",name:"Abkhazia"},{code:"+93",name:"Afghanistan"},{code:"+355",name:"Albania"},{code:"+213",name:"Algeria"},{code:"+1 684",name:"American Samoa"},{code:"+376",name:"Andorra"},{code:"+244",name:"Angola"},{code:"+1 264",name:"Anguilla"},{code:"+1 268",name:"Antigua and Barbuda"},{code:"+54",name:"Argentina"},{code:"+374",name:"Armenia"},{code:"+297",name:"Aruba"},{code:"+247",name:"Ascension"},{code:"+61",name:"Australia"},{code:"+672",name:"Australian External Territories"},{code:"+43",name:"Austria"},{code:"+994",name:"Azerbaijan"},{code:"+1 242",name:"Bahamas"},{code:"+973",name:"Bahrain"},{code:"+880",name:"Bangladesh"},{code:"+1 246",name:"Barbados"},{code:"+1 268",name:"Barbuda"},{code:"+375",name:"Belarus"},{code:"+32",name:"Belgium"},{code:"+501",name:"Belize"},{code:"+229",name:"Benin"},{code:"+1 441",name:"Bermuda"},{code:"+975",name:"Bhutan"},{code:"+591",name:"Bolivia"},{code:"+387",name:"Bosnia and Herzegovina"},{code:"+267",name:"Botswana"},{code:"+55",name:"Brazil"},{code:"+246",name:"British Indian Ocean Territory"},{code:"+1 284",name:"British Virgin Islands"},{code:"+673",name:"Brunei"},{code:"+359",name:"Bulgaria"},{code:"+226",name:"Burkina Faso"},{code:"+257",name:"Burundi"},{code:"+855",name:"Cambodia"},{code:"+237",name:"Cameroon"},{code:"+1",name:"Canada"},{code:"+238",name:"Cape Verde"},{code:"+1 345",name:"Cayman Islands"},{code:"+236",name:"Central African Republic"},{code:"+235",name:"Chad"},{code:"+56",name:"Chile"},{code:"+86",name:"China"},{code:"+61",name:"Christmas Island"},{code:"+61",name:"Cocos-Keeling Islands"},{code:"+57",name:"Colombia"},{code:"+269",name:"Comoros"},{code:"+242",name:"Congo"},{code:"+243",name:"Congo, Dem. Rep. of (Zaire)"},{code:"+682",name:"Cook Islands"},{code:"+506",name:"Costa Rica"},{code:"+385",name:"Croatia"},{code:"+53",name:"Cuba"},{code:"+599",name:"Curacao"},{code:"+357",name:"Cyprus"},{code:"+420",name:"Czech Republic"},{code:"+45",name:"Denmark"},{code:"+246",name:"Diego Garcia"},{code:"+253",name:"Djibouti"},{code:"+1 767",name:"Dominica"},{code:"+1 809",name:"Dominican Republic"},{code:"+670",name:"East Timor"},{code:"+56",name:"Easter Island"},{code:"+593",name:"Ecuador"},{code:"+20",name:"Egypt"},{code:"+503",name:"El Salvador"},{code:"+240",name:"Equatorial Guinea"},{code:"+291",name:"Eritrea"},{code:"+372",name:"Estonia"},{code:"+251",name:"Ethiopia"},{code:"+500",name:"Falkland Islands"},{code:"+298",name:"Faroe Islands"},{code:"+679",name:"Fiji"},{code:"+358",name:"Finland"},{code:"+33",name:"France"},{code:"+596",name:"French Antilles"},{code:"+594",name:"French Guiana"},{code:"+689",name:"French Polynesia"},{code:"+241",name:"Gabon"},{code:"+220",name:"Gambia"},{code:"+995",name:"Georgia"},{code:"+49",name:"Germany"},{code:"+233",name:"Ghana"},{code:"+350",name:"Gibraltar"},{code:"+30",name:"Greece"},{code:"+299",name:"Greenland"},{code:"+1 473",name:"Grenada"},{code:"+590",name:"Guadeloupe"},{code:"+1 671",name:"Guam"},{code:"+502",name:"Guatemala"},{code:"+224",name:"Guinea"},{code:"+245",name:"Guinea-Bissau"},{code:"+592",name:"Guyana"},{code:"+509",name:"Haiti"},{code:"+504",name:"Honduras"},{code:"+852",name:"Hong Kong SAR China"},{code:"+36",name:"Hungary"},{code:"+354",name:"Iceland"},{code:"+91",name:"India"},{code:"+62",name:"Indonesia"},{code:"+98",name:"Iran"},{code:"+964",name:"Iraq"},{code:"+353",name:"Ireland"},{code:"+972",name:"Israel"},{code:"+39",name:"Italy"},{code:"+225",name:"Ivory Coast"},{code:"+1 876",name:"Jamaica"},{code:"+81",name:"Japan"},{code:"+962",name:"Jordan"},{code:"+7",name:"Kazakhstan"},{code:"+254",name:"Kenya"},{code:"+686",name:"Kiribati"},{code:"+383",name:"Kosovo"},{code:"+965",name:"Kuwait"},{code:"+996",name:"Kyrgyzstan"},{code:"+856",name:"Laos"},{code:"+371",name:"Latvia"},{code:"+961",name:"Lebanon"},{code:"+266",name:"Lesotho"},{code:"+231",name:"Liberia"},{code:"+218",name:"Libya"},{code:"+423",name:"Liechtenstein"},{code:"+370",name:"Lithuania"},{code:"+352",name:"Luxembourg"},{code:"+853",name:"Macau SAR China"},{code:"+389",name:"Macedonia"},{code:"+261",name:"Madagascar"},{code:"+265",name:"Malawi"},{code:"+60",name:"Malaysia"},{code:"+960",name:"Maldives"},{code:"+223",name:"Mali"},{code:"+356",name:"Malta"},{code:"+692",name:"Marshall Islands"},{code:"+596",name:"Martinique"},{code:"+222",name:"Mauritania"},{code:"+230",name:"Mauritius"},{code:"+262",name:"Mayotte"},{code:"+52",name:"Mexico"},{code:"+691",name:"Micronesia"},{code:"+1 808",name:"Midway Island"},{code:"+373",name:"Moldova"},{code:"+377",name:"Monaco"},{code:"+976",name:"Mongolia"},{code:"+382",name:"Montenegro"},{code:"+1664",name:"Montserrat"},{code:"+212",name:"Morocco"},{code:"+95",name:"Myanmar"},{code:"+264",name:"Namibia"},{code:"+674",name:"Nauru"},{code:"+977",name:"Nepal"},{code:"+31",name:"Netherlands"},{code:"+599",name:"Netherlands Antilles"},{code:"+1 869",name:"Nevis"},{code:"+687",name:"New Caledonia"},{code:"+64",name:"New Zealand"},{code:"+505",name:"Nicaragua"},{code:"+227",name:"Niger"},{code:"+234",name:"Nigeria"},{code:"+683",name:"Niue"},{code:"+672",name:"Norfolk Island"},{code:"+850",name:"North Korea"},{code:"+1 670",name:"Northern Mariana Islands"},{code:"+47",name:"Norway"},{code:"+968",name:"Oman"},{code:"+92",name:"Pakistan"},{code:"+680",name:"Palau"},{code:"+970",name:"Palestinian Territory"},{code:"+507",name:"Panama"},{code:"+675",name:"Papua New Guinea"},{code:"+595",name:"Paraguay"},{code:"+51",name:"Peru"},{code:"+63",name:"Philippines"},{code:"+48",name:"Poland"},{code:"+351",name:"Portugal"},{code:"+1 787",name:"Puerto Rico"},{code:"+974",name:"Qatar"},{code:"+262",name:"Reunion"},{code:"+40",name:"Romania"},{code:"+7",name:"Russia"},{code:"+250",name:"Rwanda"},{code:"+685",name:"Samoa"},{code:"+378",name:"San Marino"},{code:"+966",name:"Saudi Arabia"},{code:"+221",name:"Senegal"},{code:"+381",name:"Serbia"},{code:"+248",name:"Seychelles"},{code:"+232",name:"Sierra Leone"},{code:"+65",name:"Singapore"},{code:"+421",name:"Slovakia"},{code:"+386",name:"Slovenia"},{code:"+677",name:"Solomon Islands"},{code:"+27",name:"South Africa"},{code:"+500",name:"South Georgia and the South Sandwich Islands"},{code:"+82",name:"South Korea"},{code:"+34",name:"Spain"},{code:"+94",name:"Sri Lanka"},{code:"+249",name:"Sudan"},{code:"+597",name:"Suriname"},{code:"+268",name:"Swaziland"},{code:"+46",name:"Sweden"},{code:"+41",name:"Switzerland"},{code:"+963",name:"Syria"},{code:"+886",name:"Taiwan"},{code:"+992",name:"Tajikistan"},{code:"+255",name:"Tanzania"},{code:"+66",name:"Thailand"},{code:"+670",name:"Timor Leste"},{code:"+228",name:"Togo"},{code:"+690",name:"Tokelau"},{code:"+676",name:"Tonga"},{code:"+1 868",name:"Trinidad and Tobago"},{code:"+216",name:"Tunisia"},{code:"+90",name:"Turkey"},{code:"+993",name:"Turkmenistan"},{code:"+1 649",name:"Turks and Caicos Islands"},{code:"+688",name:"Tuvalu"},{code:"+1 340",name:"U.S. Virgin Islands"},{code:"+256",name:"Uganda"},{code:"+380",name:"Ukraine"},{code:"+971",name:"United Arab Emirates"},{code:"+44",name:"United Kingdom"},{code:"+1",name:"United States"},{code:"+598",name:"Uruguay"},{code:"+998",name:"Uzbekistan"},{code:"+678",name:"Vanuatu"},{code:"+58",name:"Venezuela"},{code:"+84",name:"Vietnam"},{code:"+1 808",name:"Wake Island"},{code:"+681",name:"Wallis and Futuna"},{code:"+967",name:"Yemen"},{code:"+260",name:"Zambia"},{code:"+255",name:"Zanzibar"},{code:"+263",name:"Zimbabwe"}]},6803:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(17)),i=S(n(3)),l=S(n(1)),s=n(228),u=n(6245),d=(S(n(6246)),S(n(6686))),c=S(n(457)),f=S(n(444)),p=S(n(148)),h=S(n(6804)),v=S(n(308)),m=S(n(6805)),y=n(0),_=S(n(13)),g=S(n(5505)),E=S(n(5384));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=10,C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={pageIndex:0,lastIdFetched:null},t.handlePageChange=function(e){var n=t.props.payments,r=n[n.length-1].id;e===t.numPages-1&&t.state.lastIdFetched!==r?((0,s.fetchPayments)(I,r),t.setState({pageIndex:e,lastIdFetched:r})):t.setState({pageIndex:e})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,d,c,S=r.prototype;return S.componentDidMount=function(){l.default.wait(function(){(0,u.fetchActivityStatistics)(),(0,s.fetchPayments)(I+I)})},S.renderPage=function(){var e=this.props,t=e.compactMode,n=e.locale,r=e.payments,i=this.state.pageIndex,l=r.slice(i*I,(i+1)*I);return T(a.Fragment,{},void 0,l.map(function(e,r){return T(m.default,{className:(0,o.default)(g.default.paymentRow,g.default.bottomDivider),payment:e,locale:n,compactMode:t},r)}))},S.renderPremiumAppleSubscription=function(){return T(f.default,{className:g.default.appleRow},void 0,T("div",{className:g.default.appleRowHeader},void 0,_.default.Messages.BILLING_APPLE_HEADER),T("div",{className:g.default.appleRowBody},void 0,_.default.Messages.BILLING_APPLE_DESCRIPTION.format({appleBillingLink:y.AppleBillingUrls.BILLING_MANAGEMENT})))},S.render=function(){var e=this.props,t=e.compactMode,n=e.payments,r=e.subscription,a=this.state.pageIndex,i=null!=r&&r.isPurchasedViaApple;return 0!==n.length||i?T("div",{className:g.default.verticalFit},void 0,i?this.renderPremiumAppleSubscription():null,n.length>0?T("div",{className:(0,o.default)(g.default.paymentPane,g.default.verticalFit)},void 0,t?null:T("div",{className:(0,o.default)(g.default.paymentRow,g.default.bottomDivider)},void 0,T(p.default,{className:g.default.paymentRowHeader},void 0,T("div",{className:E.default.date},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DATE),T("div",{className:E.default.description},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_DESCRIPTION),T("div",{className:E.default.amount},void 0,_.default.Messages.BILLING_PAYMENT_TABLE_HEADER_AMOUNT))),T(h.default,{className:(0,o.default)(g.default.verticalFit,g.default.paginator),currentPageIndex:a,onChangePage:this.handlePageChange,numPages:this.numPages},void 0,T(v.default,{outerClassName:g.default.bottomDivider,theme:v.default.Themes.GHOST_HAIRLINE},void 0,this.renderPage()))):null):null},i=r,(d=[{key:"numPages",get:function(){return Math.max(Math.ceil(this.props.payments.length/I),1)}}])&&O(i.prototype,d),c&&O(i,c),r}(a.PureComponent);C.displayName="PaymentHistory",C.defaultProps={compactMode:!1};var N=i.default.connectStores([d.default,c.default],function(){return{payments:d.default.getPayments(),subscription:c.default.getPremiumSubscription()}})(C);t.default=N,e.exports=t.default},6804:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(301)),i=s(n(13)),l=s(n(5503));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n,r=e.currentPageIndex,s=e.numPages,d=e.onChangePage,c=e.children,f=e.className;return u("div",{className:(0,a.default)(l.default.paginator,f)},void 0,c,u("div",{className:l.default.pageActions},void 0,u(o.default,{name:o.default.Names.LEFT_CARET,onClick:function(){r>0&&d(r-1)},className:(0,a.default)(l.default.pageButtonPrev,(t={},t[l.default.disabled]=0===r,t))}),u("div",{className:l.default.pageIndicator},void 0,i.default.Messages.PAGINATOR_OF_PAGES.format({currentPage:r+1,numPages:s})),u(o.default,{name:o.default.Names.RIGHT_CARET,onClick:function(){r<s-1&&d(r+1)},className:(0,a.default)(l.default.pageButtonNext,(n={},n[l.default.disabled]=r>=s-1,n))})))};d.displayName="Paginator";var c=d;t.default=c,e.exports=t.default},6805:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=C(n(17)),i=C(n(153)),l=C(n(4)),s=C(n(3)),u=(C(n(6246)),n(834)),d=C(n(41)),c=C(n(325)),f=C(n(305)),p=C(n(148)),h=C(n(6005)),v=C(n(301)),m=C(n(6016)),y=C(n(437)),_=C(n(853)),g=n(6001),E=n(836),S=C(n(6585)),T=n(0),O=C(n(13)),I=C(n(5384));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=14,P=5,b=2,R=function(e){return"https://support.discordapp.com/hc/"+e.toLowerCase()+"/requests/new?ticket_form_id=360000118612"},L=(0,i.default)({TIME_PLAYED:null,PURCHASE_DATE:null,SKU_TYPE:null,ALREADY_REFUNDED:null,PAYMENT_STATUS:null}),D=[T.PaymentStatusTypes.FAILED,T.PaymentStatusTypes.REVERSED],w=function(e){var t=e.description,n=e.cost;return A("li",{className:I.default.paymentDetail},void 0,A(p.default,{justify:p.default.Justify.BETWEEN},void 0,A("div",{},void 0,t),A("div",{},void 0,n)))};w.displayName="PaymentDetail";var U=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1},t.refundRules=[{rule:L.TIME_PLAYED,canRefund:function(){if(t.isSkuPreorder)return!0;var e=t.timePlayed;return null==e||e.asMilliseconds()<l.default.duration(b,"hours").asMilliseconds()}},{rule:L.PURCHASE_DATE,canRefund:function(){var e=t.props.payment;return!!t.isSkuPreorder||(e.isPremiumSubscription?t.daysSincePurchase<=P:t.daysSincePurchase<=M)}},{rule:L.SKU_TYPE,canRefund:function(){var e=t.props.payment;return null==e.sku||e.sku.type!==T.SKUTypes.CONSUMABLE}},{rule:L.ALREADY_REFUNDED,canRefund:function(){var e=t.props.payment;return e.amountRefunded<e.amount}},{rule:L.PAYMENT_STATUS,canRefund:function(){var e=t.props.payment;return!D.includes(e.status)}}],t.handleExpandInfo=function(){t.setState({expanded:!t.state.expanded})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,s,d,c=r.prototype;return c.validateRefundRules=function(){return this.refundRules.filter(function(e){return!(0,e.canRefund)()}).map(function(e){return e.rule})},c.renderStatus=function(){switch(this.props.payment.status){case T.PaymentStatusTypes.PENDING:return A("span",{className:I.default.statusTagGrey},void 0,O.default.Messages.BILLING_TAG_PENDING);case T.PaymentStatusTypes.FAILED:return A("span",{className:I.default.statusTagRed},void 0,O.default.Messages.BILLING_TAG_FAILED);case T.PaymentStatusTypes.REFUNDED:return A("span",{className:I.default.statusTagGreen},void 0,O.default.Messages.BILLING_TAG_REFUNDED);case T.PaymentStatusTypes.REVERSED:return A("span",{className:I.default.statusTagRed},void 0,O.default.Messages.BILLING_TAG_REVERSED);default:return null}},c.renderPrice=function(){var e=this.props.payment;return A("span",{},void 0,(0,E.formatPrice)(e.amount,e.currency))},c.renderPaymentBreakdown=function(){var e=this.props,t=e.payment,n=e.locale,r=t.taxInclusive,i=t.tax,l=t.amount,s=t.currency;return A("div",{className:(0,o.default)(I.default.paymentText,I.default.paymentBreakdown)},void 0,null!=t.paymentSource?A(S.default,{paymentSource:t.paymentSource,locale:n,descriptionClassName:I.default.paymentText}):null,A("ul",{},void 0,!r&&i>0?A(a.Fragment,{},void 0,A(w,{description:t.description,cost:(0,E.formatPrice)(l-i,s)}),A(w,{description:O.default.Messages.BILLING_PAYMENT_BREAKDOWN_TAXES,cost:(0,E.formatPrice)(i,s)})):null,A(w,{description:O.default.Messages.BILLING_PAYMENT_BREAKDOWN_TOTAL,cost:(0,E.formatPrice)(l,s)})))},c.renderRefundDetails=function(){var e=this.props,t=e.locale,n=e.payment,r=this.validateRefundRules();if(r.includes(L.PAYMENT_STATUS)||r.includes(L.ALREADY_REFUNDED))return null;var o,i=0===r.length,l=R(t);return o=r.includes(L.SKU_TYPE)?O.default.Messages.BILLING_APPLICATION_CONSUMABLE_REFUND_TEXT_UNABLE.format({supportURL:l}):i?n.isPreorder&&this.isSkuPreorder?O.default.Messages.BILLING_PREORDER_REFUND_TEXT.format({supportURL:l}):n.isPremiumSubscription?O.default.Messages.BILLING_PREMIUM_REFUND_TEXT.format({dateLimit:P,supportURL:l}):n.isGift?O.default.Messages.BILLING_GIFT_REFUND_TEXT.format({dateLimit:M,supportURL:l}):O.default.Messages.BILLING_APPLICATION_REFUND_TEXT.format({dateLimit:M,playtimeLimit:b,supportURL:l}):n.isGift?O.default.Messages.BILLING_GIFT_REFUND_TEXT_UNABLE.format({dateLimit:M}):n.isPremiumSubscription?O.default.Messages.BILLING_PREMIUM_REFUND_TEXT_UNABLE.format({dateLimit:P,supportURL:l}):O.default.Messages.BILLING_APPLICATION_REFUND_TEXT_UNABLE.format({dateLimit:M,playtimeLimit:b}),A(a.Fragment,{},void 0,A("h2",{className:I.default.paymentHeader},void 0,O.default.Messages.BILLING_REFUND_HEADER),A("div",{className:I.default.paymentText},void 0,A("div",{},void 0,o),this.renderRefundActions(r)))},c.renderRefundActions=function(e){var t=this.props,n=t.locale,r=t.payment;return this.isSkuPreorder||e.includes(L.SKU_TYPE)?null:A(p.default,{justify:p.default.Justify.BETWEEN,align:p.default.Align.END},void 0,A(p.default,{},void 0,A("div",{className:I.default.refundCriteria},void 0,A("h3",{className:I.default.refundSubHeader},void 0,r.isPreorder?O.default.Messages.BILLING_REFUND_RELEASE_DATE_SUBHEADER:O.default.Messages.BILLING_REFUND_PURCHASE_DATE_SUBHEADER),A(p.default,{align:p.default.Align.CENTER},void 0,A(v.default,{name:e.includes(L.PURCHASE_DATE)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:I.default.refundCriteriaIcon}),A("div",{},void 0,O.default.Messages.BILLING_REFUND_PURCHASE_DATE.format({daysSincePurchase:this.daysSincePurchase})))),r.isPremiumSubscription||r.isGift?null:A("div",{className:I.default.refundCriteria},void 0,A("h3",{className:I.default.refundSubHeader},void 0,O.default.Messages.BILLING_REFUND_PLAY_TIME_SUBHEADER),A(p.default,{},void 0,A(v.default,{name:e.includes(L.TIME_PLAYED)?v.default.Names.CLOSE:v.default.Names.CHECKMARK,className:I.default.refundCriteriaIcon}),A("div",{},void 0,null!=this.timePlayed?this.timePlayed.humanize():O.default.Messages.BILLING_REFUND_PLAY_TIME_NEVER_PLAYED)))),A(f.default,{href:R(n)},void 0,O.default.Messages.BILLING_REFUND_REPORT_A_PROBLEM))},c.renderDescription=function(){var e,t,n=this.props,r=n.compactMode,o=n.payment,i=n.application,s=o.sku;null!=s?(t=o.isPreorder?O.default.Messages.PREORDER_SKU_NAME.format({name:s.name}):s.name,e=A(h.default,{className:I.default.descriptionIcon,game:i,size:h.default.Sizes.XSMALL,skuId:s.id})):(e=A(v.default,{className:I.default.descriptionIcon,name:v.default.Names.NITRO_WHEEL}),t=o.description);var u=A(p.default.Child,{className:I.default.date},void 0,(0,g.dateFormat)((0,l.default)(o.createdAt),"MM/DD/YYYY")),d=o.isGift?A(y.default,{text:O.default.Messages.BILLING_GIFT_PURCHASE_TOOLTIP},void 0,A(v.default,{className:I.default.giftIcon,name:v.default.Names.GIFT})):null;return r?A("div",{className:I.default.description},void 0,e,A("div",{},void 0,t,u),d):A(a.Fragment,{},void 0,u,A("div",{className:I.default.description},void 0,e,t,d))},c.renderExpandedSection=function(){return A("div",{className:I.default.expandedInfo},void 0,A("h2",{className:I.default.paymentHeader},void 0,O.default.Messages.BILLING_PURCHASE_DETAILS_HEADER),this.renderPaymentBreakdown(),this.renderRefundDetails())},c.render=function(){var e,t=this.state.expanded,n=this.props,r=n.className,a=n.compactMode;return A("div",{className:(0,o.default)(t?I.default.payment:I.default.hoverablePayment,r,(e={},e[I.default.compact]=a,e))},void 0,A(p.default,{onClick:this.handleExpandInfo,className:I.default.summaryInfo,align:p.default.Align.CENTER},void 0,this.renderDescription(),A("div",{className:I.default.amount},void 0,this.renderStatus(),this.renderPrice()),A(v.default,{name:v.default.Names.CARET,className:I.default.expand,direction:t?_.default.Directions.UP:_.default.Directions.DOWN})),t?this.renderExpandedSection():null)},i=r,(s=[{key:"timePlayed",get:function(){var e=this.props.applicationStatistics;return null!=e&&null!=e.total_discord_sku_duration?l.default.duration(e.total_discord_sku_duration,"seconds"):null}},{key:"daysSincePurchase",get:function(){var e=this.props.payment,t=null!=e.sku?e.sku.releaseDate:null,n=null!=t&&t.isAfter(e.createdAt)?t:e.createdAt;return(0,l.default)().diff(n,"days")}},{key:"isSkuPreorder",get:function(){var e=this.props.payment;return null!=e.sku&&e.sku.isPreorder()}},{key:"typeString",get:function(){var e=this.props.payment.paymentSource;return e instanceof u.PaypalSourceRecord?m.default.Types.PAYPAL:e instanceof u.CreditCardSourceRecord?m.default.getType(e.brand):m.default.Types.UNKNOWN}}])&&N(i.prototype,s),d&&N(i,d),r}(a.PureComponent);U.displayName="PaymentHistoryRow",U.defaultProps={compactMode:!1};var k=s.default.connectStores([c.default],function(e){var t=e.payment,n=null!=t.sku&&t.sku.type===T.SKUTypes.GAME?t.sku.applicationId:null;return{applicationStatistics:null!=n?c.default.getCurrentUserStatisticsForApplication(n):null,application:null!=n?d.default.getGame(n):null}})(U);t.default=k,e.exports=t.default},6806:function(e,t,n){"use strict";t.__esModule=!0,t.getLocalizedDisplayMonth=function(e,t){var n=new Date;return n.setMonth(e-1),n.toLocaleString(t,{month:"short"})}},6807:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.RecordModes=void 0;var r,a,o=h(n(2)),i=p(n(17)),l=p(n(6167)),s=n(236),u=h(n(124)),d=p(n(148)),c=p(n(13)),f=p(n(5508));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m={DEFAULT:"DEFAULT",RECORDING:"RECORDING"};t.RecordModes=m;var y=((r={})[m.DEFAULT]=f.default.default,r[m.RECORDING]=f.default.recording,r);function _(e){e.preventDefault()}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).setInputRef=function(e){t._input=e},t.handleBlur=function(){t.props.mode===m.RECORDING&&(0,t.props.onClick)()},t.handleFocus=function(){t.props.mode===m.DEFAULT&&(0,t.props.onClick)()},t.handleClick=function(e){e.preventDefault(),(0,t.props.onClick)()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.onChange;e&&this._input&&(new l.default(this._input).handleKey=e)},a.componentDidUpdate=function(e){var t=this.props.mode;if(e.mode!==t){var n=this._input;if(null!=n){var r=document.activeElement;t===m.DEFAULT&&n===r&&n.blur(),t===m.RECORDING&&n!==r&&n.focus()}}},a.render=function(){var e,t,n=this.props,r=n.mode,a=n.value,l=n.disabled,p=(0,s.toString)(a,!0);t=r===m.RECORDING?c.default.Messages.SHORTCUT_RECORDER_BUTTON_RECORDING:0===a.length?c.default.Messages.SHORTCUT_RECORDER_BUTTON:c.default.Messages.SHORTCUT_RECORDER_BUTTON_EDIT;var h=r===m.DEFAULT&&a.length>0;return v("div",{className:(0,i.default)(f.default.container,y[r],(e={},e[f.default.hasValue]=h,e[f.default.disabled]=l,e))},void 0,v(d.default,{className:f.default.layout},void 0,v(d.default.Child,{className:f.default.input},void 0,o.createElement("input",{placeholder:c.default.Messages.SHORTCUT_RECORDER_NO_BIND,type:"text",ref:this.setInputRef,readOnly:!0,value:p,onKeyDown:_,onFocus:this.handleFocus,onBlur:this.handleBlur,disabled:l})),v(d.default,{shrink:1,grow:0,style:{margin:0}},void 0,v(u.default,{className:f.default.button,disabled:l,onMouseDown:_,onMouseUp:this.handleClick,size:u.default.Sizes.MIN,color:u.ButtonColors.GREY,look:u.ButtonLooks.GHOST},void 0,v("span",{className:f.default.text},void 0,t),v("span",{className:f.default.editIcon})))))},r}(o.PureComponent);g.displayName="KeyRecorder";var E=g;t.default=E},6808:function(e,t,n){var r={"./bg.png":6809,"./cs.png":6810,"./da.png":6811,"./de.png":6812,"./el.png":6813,"./en-GB.png":6814,"./en-US.png":6815,"./es-ES.png":6816,"./fi.png":6817,"./fr.png":6818,"./hr.png":6819,"./hu.png":6820,"./it.png":6821,"./ja.png":6822,"./ko.png":6823,"./lt.png":6824,"./nl.png":6825,"./no.png":6826,"./pl.png":6827,"./pt-BR.png":6828,"./ro.png":6829,"./ru.png":6830,"./sv-SE.png":6831,"./th.png":6832,"./tr.png":6833,"./uk.png":6834,"./vi.png":6835,"./zh-CN.png":6836,"./zh-TW.png":6837};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6808},6838:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(17)),i=f(n(301)),l=p(n(440)),s=n(0),u=f(n(13)),d=f(n(5357)),c=f(n(5509));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=0,m=function(){return"notification-position-selector-"+v++},y=function(e){switch(e){case s.OverlayNotificationPositions.TOP_LEFT:return u.default.Messages.OVERLAY_NOTIFICATIONS_TOP_LEFT;case s.OverlayNotificationPositions.TOP_RIGHT:return u.default.Messages.OVERLAY_NOTIFICATIONS_TOP_RIGHT;case s.OverlayNotificationPositions.BOTTOM_LEFT:return u.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_LEFT;case s.OverlayNotificationPositions.BOTTOM_RIGHT:return u.default.Messages.OVERLAY_NOTIFICATIONS_BOTTOM_RIGHT;default:return u.default.Messages.OVERLAY_NOTIFICATIONS_DISABLED}},_=[s.OverlayNotificationPositions.DISABLED,s.OverlayNotificationPositions.TOP_LEFT,s.OverlayNotificationPositions.TOP_RIGHT,s.OverlayNotificationPositions.BOTTOM_LEFT,s.OverlayNotificationPositions.BOTTOM_RIGHT],g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).settingsWrapper=a.createRef(),t.state={name:m(),hasFocus:!1},t.handleFocusIn=function(){t.settingsWrapper.current&&t.setState({hasFocus:!0})},t.handleFocusOut=function(){t.settingsWrapper.current&&t.setState({hasFocus:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var f=r.prototype;return f.componentDidMount=function(){var e=this.settingsWrapper.current;null!=e&&(e.addEventListener("focusin",this.handleFocusIn,!0),e.addEventListener("focusout",this.handleFocusOut,!0))},f.componentWillUnmount=function(){var e=this.settingsWrapper.current;null!=e&&(e.removeEventListener("focusin",this.handleFocusIn,!0),e.removeEventListener("focusout",this.handleFocusOut,!0))},f.render=function(){var e,t=this.props,n=t.position,r=t.onChange,f=this.state,p=f.name,v=f.hasFocus,m=n===s.OverlayNotificationPositions.DISABLED?u.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_DISABLED:u.default.Messages.OVERLAY_NOTIFICATION_SETTINGS_POSITION.format({position:y(n)});return h("div",{},void 0,a.createElement("div",{className:(0,o.default)(c.default.wrapper,(e={},e[c.default.disabledSelected]=n===s.OverlayNotificationPositions.DISABLED,e[c.default.hasFocus]=v,e)),ref:this.settingsWrapper},_.map(function(e){var t;return h("label",{className:(0,o.default)((t={},t[c.default.selected]=e===n,t[c.default.disabled]=e===s.OverlayNotificationPositions.DISABLED,t[c.default.topRight]=e===s.OverlayNotificationPositions.TOP_RIGHT,t[c.default.topLeft]=e===s.OverlayNotificationPositions.TOP_LEFT,t[c.default.bottomRight]=e===s.OverlayNotificationPositions.BOTTOM_RIGHT,t[c.default.bottomLeft]=e===s.OverlayNotificationPositions.BOTTOM_LEFT,t))},e,y(e),e===s.OverlayNotificationPositions.DISABLED?h(i.default,{name:i.default.Names.NOT_ALLOWED,className:c.default.disabledIcon}):null,h("input",{type:"radio",name:p,value:e,onChange:function(t){return r(t,e)},className:c.default.hiddenInput}))})),h(l.default,{type:l.Types.DESCRIPTION,className:d.default.marginTop8},void 0,m))},r}(a.Component);g.displayName="NotificationSettings",g.Positions=s.OverlayNotificationPositions;var E=g;t.default=E,e.exports=t.default},6839:function(e,t,n){e.exports=n.p+"c7c47afdf35d5a3e06233319d3aa7674.svg"},6840:function(e,t,n){e.exports=n.p+"c8845c514bbf3f1e5bea064c1e40b08d.svg"},6842:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=c(n(304)),o=c(n(3)),i=c(n(858)),l=c(n(85)),s=c(n(6594)),u=n(0),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"DMVerification",mixins:[o.default.StoreListenerMixin(l.default)],getStateFromStores:function(){return this.getState(this.props.channel)},UNSAFE_componentWillReceiveProps:function(e){this.setState(this.getState(e.channel))},getState:function(e){return{isBlocked:e.type!==u.ChannelTypes.GROUP_DM&&l.default.isBlocked(e.getRecipientId())}},handleUnblock:function(){i.default.removeRelationship(this.props.channel.getRecipientId())},render:function(){var e={};return this.state.isBlocked&&(e.message=d.default.Messages.DM_VERIFICATION_TEXT_BLOCKED,e.buttonText=d.default.Messages.UNBLOCK,e.onButtonClick=this.handleUnblock),r.createElement(s.default,e,this.props.children)}});t.default=f,e.exports=t.default},6843:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(2)),o=C(n(3)),i=C(n(839)),l=N(n(466)),s=C(n(827)),u=C(n(77)),d=C(n(12)),c=C(n(230)),f=C(n(6252)),p=C(n(35)),h=C(n(14)),v=C(n(6116)),m=C(n(125)),y=C(n(44)),_=C(n(6594)),g=C(n(445)),E=C(n(6844)),S=C(n(6305)),T=n(0),O=C(n(13)),I=C(n(5397));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=function(e){var t,r;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={submitting:!1},t.handleClaimAccount=function(){l.open()},t.handleVerifyPhone=function(){u.default.push(function(e){return a.createElement(S.default,e)})},t.handleResendVerification=function(){i.default.verifyResend(),u.default.push(function(e){return a.createElement(g.default,A({header:O.default.Messages.VERIFICATION_EMAIL_TITLE,confirmText:O.default.Messages.OKAY,red:!1},e),M(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,O.default.Messages.VERIFICATION_EMAIL_BODY.format({email:h.default.getCurrentUser().email})))})},t.handleJoinServer=function(){t.setState({submitting:!0}),s.default.joinGuild(t.props.channel.getGuildId(),!1,"Chat Input Blocker - Lurker Mode")},t.handleViewServerDiscovery=function(){t.setState({submitting:!0}),y.default.transitionTo(T.Routes.GUILD_DISCOVERY)},t.handleFollowNews=function(){var e=t.props.channel;u.default.push(E.default,{channel:e})},t}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e={},t=this.props,r=t.isGuest,o=t.isFollowable,i=t.isLurking,l=t.notClaimed,s=t.notPhoneVerified,u=t.notEmailVerified,d=t.newMember,c=t.memberDeadline,f=t.newAccount,p=t.accountDeadline,h=t.allowUnclaimed,v=t.theme,m=t.children,y=this.state.submitting;return r?M("div",{style:{height:I.default.barHeight}}):(o?(e.message=O.default.Messages.FOLLOW_NEWS_CHAT_INPUT_MESSAGE,e.buttonText=O.default.Messages.FOLLOW,e.onButtonClick=this.handleFollowNews,e.imageSrc=n(6845),i&&(e.onSecondaryButtonClick=this.handleJoinServer,e.secondaryButtonText=O.default.Messages.LURKER_MODE_CHAT_INPUT_BUTTON)):i?(e.message=O.default.Messages.LURKER_MODE_CHAT_INPUT_MESSAGE,e.buttonText=O.default.Messages.LURKER_MODE_CHAT_INPUT_BUTTON,e.buttonSubmitting=y,e.onButtonClick=this.handleJoinServer,e.secondaryButtonText=O.default.Messages.LURKER_MODE_CHAT_INPUT_BACK_BUTTON,e.onSecondaryButtonClick=this.handleViewServerDiscovery,e.imageSrc=n(6846)):l?h||(e.message=O.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED,e.buttonText=O.default.Messages.CLAIM_ACCOUNT,e.onButtonClick=this.handleClaimAccount,e.imageSrc=n(6595)):s?(e.message=O.default.Messages.GUILD_VERIFICATION_TEXT_NOT_PHONE_VERIFIED,e.buttonText=O.default.Messages.VERIFY_PHONE,e.onButtonClick=this.handleVerifyPhone,e.imageSrc=n(6847)):u?(e.message=O.default.Messages.GUILD_VERIFICATION_TEXT_NOT_VERIFIED,e.buttonText=O.default.Messages.RESEND_VERIFICATION_EMAIL,e.onButtonClick=this.handleResendVerification,e.imageSrc=n(6595)):d?(e.message=O.default.Messages.GUILD_VERIFICATION_TEXT_MEMBER_AGE.format({min:T.VerificationCriteria.MEMBER_AGE}),e.countdown=c):f&&(e.message=O.default.Messages.GUILD_VERIFICATION_TEXT_ACCOUNT_AGE.format({min:T.VerificationCriteria.ACCOUNT_AGE}),e.countdown=p),a.createElement(_.default,A({theme:v},e),m))},o}(a.PureComponent);P.displayName="GuildVerification";var b=o.default.connectStores([f.default,c.default,d.default,v.default],function(e){var t=e.channel,n=t.getGuildId();return A({},f.default.getCheck(n),{isLurking:c.default.isLurking(n),isGuest:d.default.isGuest(),isFollowable:v.default.inExperiment(n)&&t.type===T.ChannelTypes.GUILD_NEWS,theme:p.default.theme})})(P);t.default=b,e.exports=t.default},6844:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(17)),i=I(n(3)),l=I(n(77)),s=(I(n(126)),I(n(313)),I(n(20))),u=I(n(108)),d=I(n(28)),c=I(n(149)),f=I(n(124)),p=I(n(6019)),h=I(n(220)),v=I(n(6004)),m=I(n(442)),y=I(n(6314)),_=I(n(6033)),g=I(n(6026)),E=n(6023),S=n(0),T=I(n(13)),O=I(n(5517));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e){var t=e.label,n=e.guild;return C("div",{className:O.default.guildOption},void 0,C(p.default,{className:O.default.icon,guild:n,size:p.default.Sizes.MINI}),C(g.default,{},void 0,t))}function A(e){var t=e.label,n=e.channel,r=e.category,a=(0,E.getIconNameForChannel)(n);return C(y.default,{title:t,iconType:a,subtitle:r})}N.displayName="renderGuildOption",A.displayName="renderChannelOption";var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedGuildId:null,selectedChannelId:null,channels:[]},t.handleGuildSelect=function(e){var n=e.value,r=t.props.guilds;t.state.selectedGuildId!==n&&t.setState({channels:r[n].channels,selectedGuildId:n,selectedChannelId:null})},t.handleChannelSelect=function(e){var n=e.value;t.setState({selectedChannelId:n})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.handleCancel=function(){l.default.pop()},i.handleFollow=function(){},i.renderFooter=function(){var e=this.state,t=e.selectedGuildId,n=e.selectedChannelId;return C(a.Fragment,{},void 0,C(f.default,{onClick:this.handleFollow,disabled:null==t||null==n},void 0,T.default.Messages.FOLLOW),C(f.default,{look:f.default.Looks.BLANK,className:O.default.blankButton,onClick:this.handleCancel},void 0,T.default.Messages.CANCEL))},i.renderForm=function(){var e=this.props.guilds,t=this.state,n=t.channels,r=t.selectedGuildId,o=t.selectedChannelId,i=Object.keys(e).map(function(t){var n=e[t].guild;return{value:t,label:n.toString(),guild:n}}),l=n.map(function(e){var t=e.channel,n=e.category;return{value:t.id,label:t.toString(),channel:t,category:n}}),s=i.length>0?T.default.Messages.FOLLOW_MODAL_HINT:T.default.Messages.FOLLOW_MODAL_HINT_NO_PERMS;return C(a.Fragment,{},void 0,C(m.default,{className:O.default.bottomMargin,title:T.default.Messages.FORM_LABEL_SEND_TO},void 0,C(v.default,{value:r,clearable:!1,searchable:!0,options:i,disabled:0===i.length,optionRenderer:N,valueRenderer:N,onChange:this.handleGuildSelect})),C(m.default,{className:O.default.bottomMargin,title:T.default.Messages.FORM_LABEL_SELECT_CHANNEL},void 0,C(v.default,{value:o,clearable:!1,searchable:!0,options:l,disabled:0===l.length,optionRenderer:A,valueRenderer:A,onChange:this.handleChannelSelect})),C(g.default,{className:O.default.bottomMargin},void 0,s))},i.renderBody=function(){var e=this.props,t=e.guildToFollow,n=e.channelNameToFollow;return C("div",{className:O.default.body},void 0,C(p.default,{className:O.default.bottomMargin,guild:t,size:p.default.Sizes.LARGE}),C(_.default,{size:_.default.Sizes.SIZE_20},void 0,T.default.Messages.FOLLOW_MODAL_HEADER.format({guildName:t.name,channelName:n})),C(g.default,{className:(0,o.default)(O.default.topMargin,O.default.description),size:g.default.Sizes.SIZE_14},void 0,T.default.Messages.FOLLOW_MODAL_BODY))},i.render=function(){return C(h.default,{},void 0,C(h.default.Content,{outerClassName:O.default.content,className:O.default.noScroll},void 0,this.renderBody(),this.renderForm()),C(h.default.Footer,{},void 0,this.renderFooter()))},r}(a.PureComponent);M.displayName="FollowModal";var P=i.default.connectStores([d.default,s.default,u.default,c.default],function(e){var t=e.channel,n=d.default.getGuild(t.guild_id),r=Object.values(d.default.getGuilds()).reduce(function(e,t){var n=u.default.getChannels(t.id).SELECTABLE.map(function(e){return e.channel});return(n=n.filter(function(e){return(e.type===S.ChannelTypes.GUILD_TEXT||e.type===S.ChannelTypes.GUILD_NEWS)&&c.default.can(S.Permissions.MANAGE_WEBHOOKS,e)}).map(function(e){var t=s.default.getChannel(e.parent_id);return{channel:e,category:null!=t?t.name:null}})).length>0&&(e[t.id]={guild:t,channels:n}),e},{});return{guildToFollow:n,channelNameToFollow:t.name,guilds:r}})(M);t.default=P,e.exports=t.default},6845:function(e,t,n){e.exports=n.p+"0861cbdddc2cc5b3479a64aa35d21b82.svg"},6846:function(e,t,n){e.exports=n.p+"9e8f566e6d49e8f4bba138e1d6a50578.svg"},6847:function(e,t,n){e.exports=n.p+"7f2d0c8f7a9d0da6660691769d3f3f44.svg"},6848:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=j(n(17)),i=j(n(6)),l=j(n(4)),s=j(n(3)),u=j(n(6013)),d=j(n(152)),c=n(6074),f=j(n(6093)),p=j(n(318)),h=j(n(856)),v=j(n(471)),m=j(n(108)),y=j(n(6252)),_=j(n(225)),g=j(n(149)),E=j(n(310)),S=j(n(6849)),T=j(n(35)),O=j(n(14)),I=n(6237),C=j(n(308)),N=n(857),A=n(106),M=n(6001),P=j(n(44)),b=n(461),R=j(n(6596)),L=j(n(6078)),D=j(n(6850)),w=n(6851),U=n(0),k=j(n(13)),G=j(n(5385)),F=j(n(5520));function j(e){return e&&e.__esModule?e:{default:e}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n(6852);var Y=20,W=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.onReveal,r=e.revealed,a=e.messageGroups;n(r?null:a[0].content[0].id)},t}return V(t,e),t.prototype.render=function(){var e=this,t=this.props.revealed,n=[],r=0;return this.props.messageGroups.forEach(function(t){var o=t.content;r+=o.length,n.push(a.createElement(L.default,H({key:o[0].id,messages:o,hasDivider:!1},e.props)))}),B(w.BlockedMessageGroup,{className:F.default.messageGroupBlocked,revealed:t,count:r,onClick:this.handleClick},void 0,n)},t}(a.Component);W.displayName="BlockedMessageGroups",W.defaultProps={canManageMessages:!1,compact:!1};var K=function(e){function t(){return e.apply(this,arguments)||this}return V(t,e),t.prototype.render=function(){var e=this.props,t=e.file,n=e.channel,r=e.user;return B(L.default,{messageOption:!1,canEdit:!1,channel:n,messages:[new p.default({id:t.id,key:"pending-upload-"+t.id,type:U.MessageTypes.DEFAULT,author:r,channel_id:n.id,contentParsed:B(I.AttachmentUpload,{filename:t.name,progress:null!=t.progress?t.progress:0,size:t.size,onCancelUpload:function(){f.default.cancel(t)}})})]})},t}(a.Component);K.displayName="PendingUpload";var z=B(w.JumpToPresentBar,{}),$=function(e){function t(){for(var t,n,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=e.call.apply(e,[this].concat(a))||this)._mounted=!1,n._jumpTargetIndex=null,n._loadMoreScrollToNewMessages=!1,n._newMessagesBar=null,n._jumpTarget=null,n._subscriptions=((t={})[U.ComponentActions.CHAT_RESIZE]=function(){return n.handleResize()},t[U.ComponentActions.SCROLLTO_PRESENT]=function(){return n.scrollToBottom()},t[U.ComponentActions.SCROLL_PAGE_UP]=function(){return n.scrollPageUp(!0)},t[U.ComponentActions.SCROLL_PAGE_DOWN]=function(){return n.scrollPageDown(!0)},t),n.state={scrollingToJump:!1},n.registerMessageDOMNode=function(e,t){n.props.messages.jumpTargetId===e&&(n._jumpTarget=t)},n.jumpToPresent=function(){if(!n.props.messages.loadingMore){var e=n.props.channel;d.default.jumpToPresent(e.id,U.MAX_MESSAGES_PER_CHANNEL),P.default.transitionToGuild(e.getGuildId()||U.ME,e.id)}},n.handleFullscreenChange=function(){var e=x(n),t=e._scroller,r=e.props.dimensions;null!=t&&(t.invalidateScrollerState(),(0,b.isFullScreen)()||(null!=r?n.scrollTo(r.scrollTop):n.scrollToBottom()))},n.handleLoadMore=function(){var e=x(n),t=e._scroller,r=e.props.dimensions;n.isAtBottom()||null==r||null==t||(n.scrollTo(t.getScrollData().scrollHeight-r.scrollHeight),n._loadMoreScrollToNewMessages&&n.scrollToNewMessages(!0))},n.handleMessageUpdate=function(e){var t=x(n),r=t._scroller,a=t.props.dimensions;if(null!=r){r.invalidateScrollerState();var o=r.getScrollData();e.offsetTop<o.scrollTop+o.offsetHeight&&(n.isAtCachedBottom()?n.scrollToBottom():null!=a&&n.scrollBy(o.scrollHeight-a.scrollHeight))}},n.handleMessageEdit=function(e){var t=x(n)._scroller;if(null!=t){t.invalidateScrollerState();var r=t.getScrollData();e.offsetTop<r.scrollTop+Y&&n.scrollTo(e.offsetTop-Y),r=t.getScrollData();var a=e.offsetTop+e.offsetHeight-r.scrollTop-r.offsetHeight+Y;a>0&&n.scrollBy(a)}},n.handleResize=function(){var e=x(n)._scroller;null!=e&&n.isAtCachedBottom()&&(e.invalidateScrollerState(),n.scrollToBottom())},n.handleScroll=function(){var e=x(n),t=e._scroller,r=e.props,a=r.messages,o=r.channel,i=r.keyboardModeEnabled;if(n._mounted&&null!=t&&!(0===a.length&&a.loadingMore||(0,b.isFullScreen)())){var l=t.getScrollData();0===l.scrollTop&&l.scrollHeight>l.offsetHeight&&a.hasMoreBefore&&!a.loadingMore&&(i||n.loadMore()),l.scrollHeight<=l.scrollTop+l.offsetHeight+2?a.hasMoreAfter&&!a.loadingMore?n.loadMore(!0):a.hasMoreAfter||u.default.clearChannelDimensions(o.id):u.default.updateChannelDimensions(o.id,l.scrollTop,l.scrollHeight,l.offsetHeight)}},n.handleScrollToNewMessages=function(){var e=n.props.channel,t=E.default.ackMessageId(e.id);null!=t&&d.default.jumpToMessage(e.id,t,!1,"Mark As Read")},n.handleAck=function(){(0,c.ack)(n.props.channel.id)},n.handleReveal=function(e){d.default.revealMessage(n.props.channel.id,e)},n.setScrollerRef=function(e){n._scroller=e},n}V(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._mounted=!0,this.restoreScroll(),document.addEventListener("webkitfullscreenchange",this.handleFullscreenChange),Object.keys(this._subscriptions).forEach(function(t){return A.ComponentDispatch.subscribe(t,e._subscriptions[t])})},n.componentWillUnmount=function(){var e=this;Object.keys(this._subscriptions).forEach(function(t){return A.ComponentDispatch.unsubscribe(t,e._subscriptions[t])}),document.removeEventListener("webkitfullscreenchange",this.handleFullscreenChange),this._mounted=!1},n.shouldComponentUpdate=function(e){return!!e.isVisible&&(this.props.isVisible!==e.isVisible||(this.props.className!==e.className||this.props.messages!==e.messages||this.props.uploads!==e.uploads||this.props.unreadCount!==e.unreadCount||this.props.oldestUnreadMessageId!==e.oldestUnreadMessageId||this.props.channel!==e.channel||this.props.inlineAttachmentMedia!==e.inlineAttachmentMedia||this.props.inlineEmbedMedia!==e.inlineEmbedMedia||this.props.gifAutoPlay!==e.gifAutoPlay||this.props.renderEmbeds!==e.renderEmbeds||this.props.renderReactions!==e.renderReactions||this.props.developerMode!==e.developerMode||this.props.messageDisplayCompact!==e.messageDisplayCompact||this.props.canChat!==e.canChat||this.props.permissionVersion!==e.permissionVersion||this.props.isScaled!==e.isScaled||this.props.backgroundOpacity!==e.backgroundOpacity||this.props.showNewMessagesBar!==e.showNewMessagesBar||this.props.renderSpoilers!==e.renderSpoilers))},n.scrollToJumpTarget=function(e,t){var n=this,r=this._newMessagesBar,a=this._jumpTarget,o=this._scroller;if(null!=o){if(!a)return null!=r?void this.scrollToNewMessages(!0):void console.warn("Got a jump target request but the ref was not found in the channel");if(null!=a&&a instanceof HTMLElement){var i=o.getScrollData(),l=a.offsetTop-.5*i.offsetHeight+.5*a.offsetHeight,s=t.jumpTargetId;if(t.last()!==e.last()&&t.first()!==e.first()&&null!=s){var u=t.get(s),d=e.first();null!=d&&null!=u&&u.timestamp.isBefore(d.timestamp)?o.scrollTo(i.scrollHeight-i.offsetHeight-100):o.scrollTo(100)}var c=t.jumpTargetId;this.setState({scrollingToJump:!0},function(){o.scrollTo(l,!0,function(){n.props.messages.jumpTargetId===c&&n.setState({scrollingToJump:!1})})})}}},n.componentDidUpdate=function(e){var t=e.messages,n=this._scroller,r=this.props,a=r.channel,o=r.messages,i=r.inlineAttachmentMedia,l=r.inlineEmbedMedia,s=r.renderEmbeds,c=r.messageDisplayCompact,f=r.uploads,p=r.isVisible,h=o.last();if(null!==o.jumpTargetId&&t.jumpSequenceId!==o.jumpSequenceId)this.scrollToJumpTarget(t,o);else if(o.jumpedToPresent&&t.jumpSequenceId!==o.jumpSequenceId)this.scrollTo(100),this.scrollToBottom(!0);else if(i!==e.inlineAttachmentMedia||l!==e.inlineEmbedMedia||s!==e.renderEmbeds)this.scrollToBottom();else if(f.length>e.uploads.length)this.scrollToBottom();else if(c!==e.messageDisplayCompact&&this.isAtCachedBottom())this.scrollToBottom();else if(!e.isVisible&&p&&h!==this.lastVisibleMessage)this.restoreScroll();else if(h!==e.messages.last()){if(e.messages.loadingMore)if(0===e.messages.length)this.restoreScroll();else{if(null!=n){var v=n.getScrollData();u.default.updateChannelDimensions(a.id,v.scrollTop,v.scrollHeight,v.offsetHeight)}d.default.truncateMessages(this.props.channel.id,!1,!0)}else if(!this.props.messages.hasMoreAfter){var m=this.props.messages.last();(m&&m.state===U.MessageStates.SENDING||this.isAtCachedBottom())&&this.scrollToBottom()}}else if(this.props.messages.first()!==e.messages.first())if(e.messages.loadingMore){if(this.handleLoadMore(),null!=n){var y=n.getScrollData();u.default.updateChannelDimensions(this.props.channel.id,y.scrollTop,y.scrollHeight,y.offsetHeight)}d.default.truncateMessages(this.props.channel.id,!0,!1)}else e.dimensions&&null!=n&&this.scrollTo(e.dimensions.scrollTop-(e.dimensions.scrollHeight-n.getScrollData().scrollHeight));p&&(this.lastVisibleMessage=h)},n.computeGlobalSpoilerDisplay=function(e){switch(this.props.renderSpoilers){case U.SpoilerRenderSetting.ALWAYS:return!0;case U.SpoilerRenderSetting.IF_MODERATOR:return e;case U.SpoilerRenderSetting.ON_CLICK:default:return!1}},n.render=function(){var e,t,n=this,r=this.props,i=r.messages,s=r.canChat,u=r.channel,d=r.isDefaultChannel,c=r.backgroundOpacity,f=r.className,p=r.scrollerClassName,h=r.scrollerOuterClassName,v=O.default.getCurrentUser(),m=g.default.can(U.Permissions.MANAGE_MESSAGES,this.props.channel),y=s&&g.default.can(U.Permissions.ADD_REACTIONS,this.props.channel),_=this.createChannelStream(i),S=_.map(function(e,t){if(e.type===U.ChannelStreamTypes.DIVIDER_TIME_STAMP)return B(w.Divider,{className:F.default.divider,backgroundOpacity:c},t,e.content);if(e.type===U.ChannelStreamTypes.DIVIDER_NEW_MESSAGES)return B(w.Divider,{className:F.default.divider,setElementRef:function(e){return n._newMessagesBar=e},red:!0,backgroundOpacity:c},t,e.content);var r={compact:n.props.messageDisplayCompact,channel:u,canManageMessages:m,canAddNewReactions:y,canChat:s,inlineAttachmentMedia:n.props.inlineAttachmentMedia,inlineEmbedMedia:n.props.inlineEmbedMedia,gifAutoPlay:n.props.gifAutoPlay,renderEmbeds:n.props.renderEmbeds,renderReactions:n.props.renderReactions,developerMode:n.props.developerMode,onEdit:n.handleMessageEdit,onUpdate:n.handleMessageUpdate};if(e.type===U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED)return a.createElement(W,H({key:t,revealed:e.content[0].content[0].id===i.revealedMessageId,messageGroups:e.content,onReveal:n.handleReveal},r));var o=t!==_.length-1&&(_[t+1].type===U.ChannelStreamTypes.DIVIDER_TIME_STAMP||_[t+1].type===U.ChannelStreamTypes.DIVIDER_NEW_MESSAGES||_[t+1].type===U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED),l=e.type===U.ChannelStreamTypes.JUMP_TARGET&&i.jumpTargetId?{registerMessageDOMNode:n.registerMessageDOMNode,jumpSequenceId:i.jumpSequenceId,jumpMessageId:i.jumpTargetId,canFlash:i.jumpFlash}:null;return B(N.SpoilerDisplayContext.Provider,{value:n.computeGlobalSpoilerDisplay(m)},e.content[0].id,a.createElement(L.default,H({messages:e.content,hasDivider:o},r,l)))});if(this.props.uploads.forEach(function(e){S.push(B(K,{file:e,channel:u,user:v},"upload-"+e.id))}),i.loadingMore?(i.hasMoreBefore&&S.unshift(a.createElement(w.LoadingMore,{key:"loading-more",ref:"loading-more"})),i.hasMoreAfter&&S.push(a.createElement(w.LoadingMore,{key:"loading-more-after",ref:"loading-more"}))):i.hasMoreBefore&&S.unshift(B(w.HasMore,{onClick:function(){return n.loadMore(!1)}},"has-more")),!i.hasMoreBefore){var T=this.props.channel;this.props.channel.type===U.ChannelTypes.DM?S.unshift(B(R.default,{},"empty-message",B("h1",{},void 0,k.default.Messages.BEGINNING_DM.format({username:T.toString()})))):this.props.channel.type===U.ChannelTypes.GROUP_DM?this.props.channel.isManaged()?S.unshift(B(R.default,{},"empty-message",B("h1",{},void 0,k.default.Messages.BEGINNING_GROUP_DM_MANAGED))):S.unshift(B(R.default,{},"empty-message",B("h1",{},void 0,k.default.Messages.BEGINNING_GROUP_DM.format({name:T.toString()})))):g.default.can(U.Permissions.READ_MESSAGE_HISTORY,T)?d?S.unshift(B(D.default,{channel:T},"welcome-message")):S.unshift(B(R.default,{},"empty-message",B("h1",{},void 0,k.default.Messages.BEGINNING_CHANNEL.format({channelName:T.toString()})))):S.unshift(B("div",{className:(0,o.default)(G.default.base,G.default.default)},"empty-message",B("h1",{},void 0,k.default.Messages.BEGINNING_CHANNEL_NO_HISTORY.format({channelName:T.toString()}))))}if(!i.loadingMore&&i.hasMoreAfter&&S.push(B(w.HasMore,{onClick:function(){return n.loadMore(!0)}},"has-more-after")),this.props.unreadCount>0&&this.props.showNewMessagesBar){var I,A=E.default.getOldestUnreadTimestamp(this.props.channel.id),P=(0,M.isSameDay)((0,l.default)(),(0,l.default)(new Date(A)));I=E.default.isEstimated(this.props.channel.id)?P?k.default.Messages.NEW_MESSAGES_ESTIMATED:k.default.Messages.NEW_MESSAGES_ESTIMATED_WITH_DATE:P?k.default.Messages.NEW_MESSAGES:k.default.Messages.NEW_MESSAGES_WITH_DATE,e=B(w.NewMessagesBar,{content:I.format({count:this.props.unreadCount,timestamp:A}),onScrollTo:this.handleScrollToNewMessages,onAck:this.handleAck})}return this.props.messages.hasMoreAfter&&(t=this.props.messages.loadingMore&&this.props.messages.jumpedToPresent?z:B(w.JumpToPresentBar,{onClick:this.jumpToPresent})),B("div",{className:(0,o.default)(F.default.messagesWrapper,f)},void 0,e,a.createElement(C.default,{ref:this.setScrollerRef,className:p,outerClassName:h,onScroll:this.handleScroll,onResize:this.handleResize,theme:C.default.Themes.MESSAGES_THEMED_WITH_TRACK},S),t)},n.createChannelStream=function(e){var t,n=this,r=[];e.forEach(function(e){var t=r[r.length-1];null==t||e.id===n.props.oldestUnreadMessageId||e.type>U.MessageTypes.DEFAULT||t[0].type!==e.type||t[0].author.id!==e.author.id||t[0].nick!==e.nick||e.webhookId&&t[0].author.username!==e.author.username||!(0,M.isWithinInterval)(t[t.length-1].timestamp,e.timestamp,U.MESSAGE_GROUP_INTERVAL)?r.push([e]):null!=e&&t.push(e)});var a=[];return r.forEach(function(r){r[0].id===n.props.oldestUnreadMessageId&&a.push({type:U.ChannelStreamTypes.DIVIDER_NEW_MESSAGES,content:k.default.Messages.NEW_MESSAGES_DIVIDER});var o=(0,M.dateFormat)(r[0].timestamp,"LL");if(o!==t&&(null!=t&&a.push({type:U.ChannelStreamTypes.DIVIDER_TIME_STAMP,content:o}),t=o),r[0].blocked){var l=a[a.length-1];null!=l&&l.type===U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED||(l={type:U.ChannelStreamTypes.MESSAGE_GROUP_BLOCKED,content:[]},a.push(l)),l.content.push({type:U.ChannelStreamTypes.MESSAGE_GROUP,content:r})}else{var s=U.ChannelStreamTypes.MESSAGE_GROUP;if(n.props.messages.jumpTargetId)i.default.findIndex(r,function(t){return t.id===e.jumpTargetId})>=0&&(s=U.ChannelStreamTypes.JUMP_TARGET);s===U.ChannelStreamTypes.JUMP_TARGET?a.push({type:U.ChannelStreamTypes.JUMP_TARGET,content:r}):a.push({type:U.ChannelStreamTypes.MESSAGE_GROUP,content:r})}}),a},n.loadMore=function(e){void 0===e&&(e=!1);var t=this._scroller,n=this.props,r=n.messages,a=n.channel;if(!this.state.scrollingToJump){if(null!=t){var o=t.getScrollData();u.default.updateChannelDimensions(a.id,o.scrollTop,o.scrollHeight,o.offsetHeight)}var i,l;if(e){var s=r.last();null!=s&&(l=s.id)}else{var c=r.first();null!=c&&(i=c.id)}d.default.fetchMessages(this.props.channel.id,i,l,U.MAX_MESSAGES_PER_CHANNEL)}},n.scrollTo=function(e,t){void 0===t&&(t=!1);var n=this._scroller;if(null!=n){var r=n.getScrollData();r.scrollHeight===r.offsetHeight?this.handleScroll():n.scrollTo(e,t)}},n.scrollBy=function(e){var t=this._scroller;null!=t&&this.scrollTo(t.getScrollData().scrollTop+e)},n.scrollToNewMessages=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),this._loadMoreScrollToNewMessages=!1;var n=this._newMessagesBar;if(null!=n)this.scrollTo(Math.max(0,n.offsetTop-35),e),t&&E.default.isEstimated(this.props.channel.id)&&(this._loadMoreScrollToNewMessages=!0,this.loadMore());else if(null!=this.props.oldestUnreadMessageId)return this.scrollTo(35,e),!0;return null!=n},n.scrollToBottom=function(e){var t=this;void 0===e&&(e=!1);var n=this._scroller,r=this.props,a=r.messages,o=r.isScaled;if(null!=n){var i=n.getScrollData();a.hasMoreAfter?this.jumpToPresent():o?requestAnimationFrame(function(){t._mounted&&t.scrollTo(i.scrollHeight-i.offsetHeight+1,e)}):this.scrollTo(i.scrollHeight-i.offsetHeight+1,e)}},n.scrollPageUp=function(e){void 0===e&&(e=!1);var t=this._scroller;t&&t.scrollPageUp(e)},n.scrollPageDown=function(e){void 0===e&&(e=!1);var t=this._scroller;t&&t.scrollPageDown(e)},n.restoreScroll=function(){var e=this.props.dimensions;this.scrollToNewMessages()||(null!=e?this.scrollTo(e.scrollTop):this.scrollToBottom())},n.isAtCachedBottom=function(){return null==this.props.dimensions},n.isAtBottom=function(){var e=this._scroller;return null!=e&&e.isScrolledToBottom()},t}(a.Component);$.displayName="Messages",$.defaultProps={isVisible:!0,showNewMessagesBar:!0,scrollerClassName:F.default.messages,scrollerOuterClassName:F.default.scrollerWrap};var q=s.default.connectStores([O.default,_.default,S.default,v.default,E.default,T.default,y.default,h.default,m.default,g.default],function(e){var t=e.channel,n=e.forceCompact,r=t.getGuildId(),a=T.default.inlineAttachmentMedia,o=T.default.inlineEmbedMedia,i=T.default.gifAutoPlay,l=T.default.renderEmbeds,s=T.default.renderReactions,u=T.default.developerMode,d=T.default.messageDisplayCompact,c=T.default.renderSpoilers;return{messages:_.default.getMessages(t.id),permissionVersion:null!=r?g.default.getGuildVersion(r):null,uploads:S.default.getFiles(t.id),dimensions:v.default.getChannelDimensions(t.id),unreadCount:E.default.getUnreadCount(t.id),oldestUnreadMessageId:E.default.getOldestUnreadMessageId(t.id),canChat:null==r||y.default.canChatInGuild(r),isScaled:h.default.fontScale!==U.Accessibility.FONT_SCALE_DEFAULT,keyboardModeEnabled:h.default.keyboardModeEnabled,isDefaultChannel:null!=r&&t===m.default.getDefaultChannel(r),inlineAttachmentMedia:a,inlineEmbedMedia:o,gifAutoPlay:i,renderEmbeds:l,renderReactions:s,messageDisplayCompact:n||d,developerMode:u,renderSpoilers:c}})($);t.default=q,e.exports=t.default},6849:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a=i(n(3)),o=i(n(1));i(n(318)),n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=Object.freeze([]),u={},d={},c={};function f(e,t){var n=u[e];return null!=n&&(u[e]=n.filter(function(e){return e.id!==t}),delete d[t],delete c[t],n.length!==u[e].length)}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getFiles=function(e){return u[e]||s},a.getMessageForFile=function(e){return c[e]},r}(a.default.Store))(o.default,{UPLOAD_START:function(e){var t=e.channelId,n=e.file,r=e.uploader,a=e.message,o=u[t]||s;d[n.id]=r,u[t]=[].concat(o,[n]),c[n.id]=a},UPLOAD_PROGRESS:function(e){var t=e.channelId,n=e.file,r=u[t];if(null==r)return!1;u[t]=r.map(function(e){return e.id===n.id?l({},e,n):e})},UPLOAD_COMPLETE:function(e){return f(e.channelId,e.file.id)},UPLOAD_FAIL:function(e){return f(e.channelId,e.file.id)},UPLOAD_CANCEL_REQUEST:function(e){var t=e.file,n=d[t.id];if(null==n)return!1;r(function(){return n.cancel()})}});t.default=p,e.exports=t.default}).call(this,n(29).setImmediate)},6850:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=E(n(17)),o=E(n(304)),i=E(n(3)),l=E(n(77)),s=E(n(28)),u=E(n(149)),d=E(n(14)),c=E(n(309)),f=n(227),p=E(n(9)),h=E(n(450)),v=E(n(6596)),m=E(n(6027)),y=n(0),_=E(n(13)),g=E(n(5518));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=(0,o.default)({displayName:"WelcomeMessage",mixins:[i.default.StoreListenerMixin(d.default,s.default,u.default)],getDefaultProps:function(){return{channel:null}},getStateFromStores:function(){var e=this.props.channel,t=s.default.getGuild(e.getGuildId());return{currentUser:d.default.getCurrentUser(),guild:t,canCreateInvite:(0,f.canViewInviteModal)(t,e)}},handleDownloadApps:function(e){l.default.push(h.default,{source:e})},handleOpenInvitePopout:function(){var e=this.props.channel,t=this.state.guild;l.default.push(m.default,{guild:t,channel:e,source:y.InstantInviteSources.WELCOME_MESSAGE})},render:function(){var e,t,n=this.state.guild&&this.state.guild.isOwner(this.state.currentUser)?S("h1",{className:g.default.h1},void 0,_.default.Messages.WELCOME_MESSAGE_OWNER_TITLE.format({username:this.state.currentUser.username})):S("h1",{className:g.default.h1},void 0,_.default.Messages.WELCOME_MESSAGE_TITLE.format({username:this.state.currentUser.username}));return this.state.canCreateInvite&&(e=S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.share)}),S("p",{},void 0,_.default.Messages.WELCOME_MESSAGE_INSTANT_INVITE.format({onShareClick:this.handleOpenInvitePopout})))),p.default.embedded||(t=S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.apps)}),S("p",{},void 0,_.default.Messages.WELCOME_MESSAGE_DESKTOP_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Desktop Apps")})))),S("div",{className:g.default.welcomeMessage},void 0,n,S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.exclamation)}),S("p",{},void 0,_.default.Messages.WELCOME_MESSAGE_TUTORIAL.format())),e,t,S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.mobile)}),S("p",{},void 0,_.default.Messages.WELCOME_MESSAGE_MOBILE_APPS.format({onDownloadClick:this.handleDownloadApps.bind(this,"Welcome Message Mobile Apps")}))),S("div",{className:g.default.itemContainer},void 0,S("div",{className:(0,a.default)(g.default.icon,g.default.twitter)}),S("p",{},void 0,_.default.Messages.WELCOME_MESSAGE_SUPPORT.format({supportURL:c.default.getCommunityURL(),twitterURL:c.default.getTwitterURL()}))),S(v.default,{className:g.default.emptyMessage}))}});t.default=T,e.exports=t.default},6851:function(e,t,n){"use strict";t.__esModule=!0,t.BlockedMessageGroup=t.HasMore=t.LoadingMore=t.Divider=t.NewMessagesBar=t.JumpToPresentBar=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=f(n(219)),l=f(n(438)),s=n(828),u=n(872),d=f(n(13)),c=f(n(5519));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t=e.onClick;return h(u.MessagesInteractionContext.Consumer,{},void 0,function(e){return e.disableInteractions?null:h("div",{className:c.default.jumpToPresentBar},void 0,h("button",{type:"button",onClick:t},void 0,d.default.Messages.YOURE_VIEWING_OLDER_MESSAGES),null!=t?h("button",{type:"button",onClick:t},void 0,d.default.Messages.JUMP_TO_PRESENT):h(l.default,{type:l.default.Type.PULSING_ELLIPSIS,className:c.default.spinner,itemClassName:c.default.spinnerItem}))})};t.JumpToPresentBar=v,v.displayName="JumpToPresentBar";var m=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e=this.props,t=e.content,n=e.onScrollTo,r=e.onAck,a=h("button",{type:"button",onClick:n},void 0,t);return h(u.MessagesInteractionContext.Consumer,{},void 0,function(e){var t;return e.disableInteractions?null:h("div",{className:(0,o.default)(c.default.newMessagesBar,(t={},t[c.default.disableInteractions]=e.disableInteractions,t))},void 0,a,h("button",{type:"button",onClick:r},void 0,d.default.Messages.MARK_AS_READ))})},t}(a.PureComponent);t.NewMessagesBar=m,m.displayName="NewMessagesBar";var y=function(e){var t=e.children,n=e.red,r=e.setElementRef,i=e.className,l=e.backgroundOpacity;return a.createElement("div",{className:(0,o.default)(c.default.divider,n?c.default.dividerRed:null,c.default[l+"BackgroundOpacity"],i),ref:r},h("span",{className:c.default.dividerContent},void 0,t))};t.Divider=y,y.displayName="Divider";var _=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){return h("div",{className:c.default.loadingMore},void 0,h(l.default,{className:c.default.spinner}))},t}(a.Component);t.LoadingMore=_,_.displayName="LoadingMore";var g=function(e){var t=e.onClick;return h(u.MessagesInteractionContext.Consumer,{},void 0,function(e){var n;return h("div",{className:(0,o.default)(c.default.hasMore,(n={},n[c.default.disableInteractions]=e.disableInteractions,n))},void 0,h("button",{type:"button",onClick:t},void 0,d.default.Messages.LOAD_MORE_MESSAGES))})};t.HasMore=g,g.displayName="HasMore";var E=function(e){var t=e.onClick,n=e.count,r=e.revealed,a=e.children,l=e.className;return h(s.BackgroundOpacityContext.Consumer,{},void 0,function(e){var s,u=e.backgroundOpacity;return h("div",{className:(0,o.default)(c.default.messageGroupBlocked,l,c.default[u+"BackgroundOpacity"],(s={},s[c.default.revealed]=r,s))},void 0,h(i.default,{className:c.default.messageGroupBlockedBtn,onClick:t},void 0,d.default.Messages.BLOCKED_MESSAGES.format({count:n})),r?a:null)})};t.BlockedMessageGroup=E,E.displayName="BlockedMessageGroup"},6852:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=g(n(3)),a=g(n(1)),o=g(n(896)),i=g(n(12)),l=g(n(20)),s=g(n(71)),u=g(n(28)),d=g(n(46)),c=g(n(859)),f=g(n(85)),p=g(n(49)),h=g(n(226)),v=g(n(35)),m=g(n(14)),y=n(0),_=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}var E=10,S=[],T=null,O=null;function I(){if(!o.default.supported)return!1;var e=v.default.locale;O||(O=window.speechSynthesis&&window.speechSynthesis.getVoices()),T=(T=O.filter(function(t){return t.lang===e||t.lang.slice(0,e.length)===e})).length>0?T[0]:null}var C=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(i.default,p.default,c.default,d.default,m.default,v.default,u.default)},r}(r.default.Store))(a.default,__OVERLAY__?{}:{MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message;if(e.optimistic||d.default.isSelfDeaf())return!1;var r=l.default.getChannel(t);if(null==r)return!1;var a=t===p.default.getChannelId(),g=v.default.enableTTSCommand&&n.tts&&a,O=c.default.getTTSType(),C=n.author.id!==i.default.getId()&&(O===y.TTSNotificationTypes.ALL_CHANNELS||O===y.TTSNotificationTypes.SELECTED_CHANNEL&&a);if((g||C)&&!f.default.isBlocked(n.author.id)){if(S.indexOf(n.id)>=0)return!1;S.unshift(n.id)>E&&S.pop();var N=r.getGuildId();if(N&&h.default.getMutedChannels(N).has(t))return!1;var A=u.default.getGuild(N),M=s.default.getNick(N,n.author.id)||n.author.username,P=n.content.replace(function(){return _.default.Messages.SPOILER}).replace(/<@!?(\d+)>/g,function(e,t){var n=m.default.getUser(t);return null==n?e:s.default.getNick(N,n.id)||n.username}).replace(/<@&?(\d+)>/g,function(e,t){var n=null!=A?A.roles[t]:null;return null!=n&&null!=n.name?n.name:_.default.Messages.MESSAGE_TTS_DELETED_ROLE}).replace(/<#(\d+)>/g,function(e,t){var n=l.default.getChannel(t);return null==n?e:n.toString()}).replace(/<a?:(\w+):(\d+)>/g,function(e,t){return _.default.Messages.EMOJI+" "+t});T||I(),o.default.speak(_.default.Messages.MESSAGE_TTS.format({username:M,body:P}),T)}return!1},AUDIO_TOGGLE_SELF_DEAF:function(e){d.default.isSelfDeaf()&&o.default.cancelAll()},USER_SETTINGS_UPDATE:function(e){return I()},I18N_LOAD_SUCCESS:function(e){return I()}});t.default=C,e.exports=t.default},6853:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=D(n(17)),i=D(n(6)),l=D(n(4)),s=D(n(303)),u=n(229),d=D(n(3)),c=D(n(6854)),f=D(n(6855)),p=D(n(41)),h=D(n(149)),v=D(n(85)),m=D(n(150)),y=D(n(319)),_=D(n(6128)),g=D(n(6207)),E=D(n(35)),S=D(n(14)),T=D(n(151)),O=D(n(301)),I=D(n(438)),C=D(n(437)),N=n(223),A=D(n(18)),M=n(106),P=D(n(456)),b=n(0),R=D(n(13)),L=D(n(5521));function D(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=[],G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={fadeIn:!1},t.timeout=null,t.handleDismissInviteEducation=function(){var e=t.props.activity;null!=e&&null!=e.application_id&&c.default.dismissForApplicationId(e.application_id)},t}U(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.timeout=setTimeout(function(){e.setState({fadeIn:!0}),e.timeout=null,e.logShownEventIfNeeded()},100)},n.componentDidUpdate=function(){this.logShownEventIfNeeded()},n.logShownEventIfNeeded=function(){var e=this.props.activity.application_id;null!=e&&-1===k.indexOf(e)&&(A.default.track(b.AnalyticEvents.SHOW_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e}),k.push(e))},n.componentWillUnmount=function(){null!==this.timeout&&clearTimeout(this.timeout)},n.render=function(){var e,t=this.props.activity;return w("div",{className:(0,o.default)(L.default.activityInviteEducation,(e={},e[L.default.activityInviteEducationFadeIn]=this.state.fadeIn,e))},void 0,w("div",{className:L.default.activityInviteEducationArrow}),w("span",{},void 0,R.default.Messages.USER_ACTIVITY_CHAT_INVITE_EDUCATION.format({game:t.name,dismissOnClick:this.handleDismissInviteEducation})))},t}(a.PureComponent);G.displayName="ActivityInviteEducation";var F=function(e){function t(t){var n;return(n=e.call(this,t)||this).emphasizeSlowmodeCooldown=function(){var e=n.state.color;s.default.sequence([s.default.timing(e,{toValue:1,duration:100,easing:s.default.Easing.quad}),s.default.timing(e,{delay:250,toValue:0,duration:100,easing:s.default.Easing.quad})]).start()},n.state={color:new s.default.Value(0)},n}U(t,e);var n=t.prototype;return n.componentDidMount=function(){M.ComponentDispatch.subscribe(b.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},n.componentWillUnmount=function(){M.ComponentDispatch.unsubscribe(b.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN,this.emphasizeSlowmodeCooldown)},n.getCooldownTextStyle=function(){var e=this.props.theme,t=this.state.color,n=b.Colors.WHITE;return e===b.ThemeTypes.LIGHT&&(n=b.Colors.PRIMARY_DARK_500),{color:t.interpolate({inputRange:[0,1],outputRange:[n,(0,u.hex2rgb)(b.Colors.STATUS_RED_500,.9)]})}},n.render=function(){var e=this,t=this.props,n=t.guildId,r=t.activity,a=t.showInviteEducation,u=t.isFocused,d=t.typingUsers,c=t.className,f=t.slowmodeCooldownGuess,p=t.channel.rateLimitPerUser,m=S.default.getCurrentUser(),y=p>0,_=(0,i.default)(d).keys().filter(function(e){return e!==m.id}).reject(v.default.isBlocked).map(function(e){return S.default.getUser(e)}).filter(function(e){return null!=e}).map(function(t){return P.default.getName(n,e.props.channel.id,t)}).value();if(0===_.length&&!y)return a&&null!=r?w(G,{activity:r,isFocused:u}):null;var g="",E=null,T="";if(y){E=w(O.default,{name:O.default.Names.TIMER,className:L.default.slowModeIcon});var N=h.default.can(b.Permissions.MANAGE_CHANNELS,this.props.channel)||h.default.can(b.Permissions.MANAGE_MESSAGES,this.props.channel);if(p>=b.Durations.HOUR){var A=Math.floor(p/b.Durations.HOUR),M=Math.floor((p-A*b.Durations.HOUR)/b.Durations.MINUTE),D=p-A*b.Durations.HOUR-M*b.Durations.MINUTE;T=R.default.Messages.CHANNEL_SLOWMODE_DESC_HOURS.format({hours:A,minutes:M,seconds:D})}else if(p>=60){var U=Math.floor(p/60),k=p-60*U;T=R.default.Messages.CHANNEL_SLOWMODE_DESC_MINUTES.format({minutes:U,seconds:k})}else T=R.default.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:p});if(!N&&f>0){var F=l.default.duration(f);if(f>1e3*b.Durations.HOUR){var j=(""+F.minutes()).padStart(2,"0"),x=(""+F.seconds()).padStart(2,"0");g=F.hours()+":"+j+":"+x}else{var B=(""+F.seconds()).padStart(2,"0");g=F.minutes()+":"+B}}else 0===_.length&&(g=N?R.default.Messages.CHANNEL_SLOWMODE_DESC_IMMUNE:R.default.Messages.CHANNEL_SLOWMODE_DESC_SHORT)}var H,V=_[0],Y=_[1],W=_[2];return H=0===_.length?"":1===_.length?R.default.Messages.ONE_USER_TYPING.format({a:V}):2===_.length?R.default.Messages.TWO_USERS_TYPING.format({a:V,b:Y}):3===_.length?R.default.Messages.THREE_USERS_TYPING.format({a:V,b:Y,c:W}):R.default.Messages.SEVERAL_USERS_TYPING,w("div",{className:(0,o.default)(L.default.typing,{"stop-animation":!u},c)},void 0,_.length>0&&w(I.default,{type:I.default.Type.PULSING_ELLIPSIS,className:L.default.ellipsis,itemClassName:L.default.spinnerItem}),w("span",{className:L.default.text},_.length,H),y&&w(s.default.div,{style:this.getCooldownTextStyle(),className:L.default.cooldownWrapper},void 0,g,w(C.default,{text:T},void 0,E)))},t}(a.PureComponent);F.displayName="TypingUsers";var j=d.default.connectStores([_.default,g.default,T.default,m.default,y.default,h.default,p.default,f.default,E.default],function(e){var t=e.channel,n=y.default.getPrimaryActivity();return{showInviteEducation:(0,N.shouldShowActivityInviteEducation)(t,n,f.default,h.default,p.default),activity:n,typingUsers:g.default.getTypingUsers(t.id),isFocused:T.default.isFocused(),guildId:m.default.getGuildId(),slowmodeCooldownGuess:_.default.getSlowmodeCooldownGuess(t.id),theme:E.default.theme}})(F);t.default=j,e.exports=t.default},6854:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={dismissForApplicationId:function(e){r.default.dispatch({type:o.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,key:e,value:!0}),a.default.track(o.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:"activity-invite-nux-inline",application_id:e,acknowledged:!0})}};t.default=l,e.exports=t.default},6855:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldShowEducation=function(e){return!0!==this.get(e)},r}(r.default.CachedStore))(a.default,"ActivityInviteEducationExperimentStore",o.ActionTypes.ACTIVITY_INVITE_EDUCATION_DISMISS,{});t.default=l,e.exports=t.default},6856:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(301)),i=n(0),l=u(n(13)),s=u(n(5819));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.isCondensed;return d("div",{className:s.default.container},void 0,d("div",{className:s.default.backgroundBlur}),d("div",{className:s.default.containerInner},void 0,d(o.default,{name:o.default.Names.CAMERA_OFF,className:s.default.icon,color:i.Colors.WHITE,width:32,height:32}),d("div",{className:s.default.title},void 0,l.default.Messages.VIDEO_POOR_CONNECTION_TITLE),!e&&d("div",{className:s.default.body},void 0,l.default.Messages.VIDEO_POOR_CONNECTION_BODY)))},r}(a.PureComponent);c.displayName="PoorConnection",c.defaultProps={isCondensed:!1};var f=c;t.default=f,e.exports=t.default},6857:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(5992)),i=u(n(148)),l=u(n(5364)),s=u(n(5821));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.avatarSize,n=e.user,r=e.style,a=n.getAvatarURL();return null==a?null:d(i.default,{style:r,className:s.default.background,justify:i.default.Justify.CENTER,align:i.default.Align.CENTER},void 0,d("div",{className:s.default.backgroundBlur,style:{backgroundImage:"url('"+a+"')"}}),d("div",{className:s.default.backgroundBlurOverlay}),d(o.default,{className:l.default.elevationHigh,size:t,src:a}))},r}(a.PureComponent);c.displayName="VideoBackground",c.AvatarSizes=o.default.Sizes;var f=c;t.default=f,e.exports=t.default},6858:function(e,t,n){e.exports=n.p+"c9f51873ae719a6b4b8c6724362e999e.png"},6859:function(e,t,n){e.exports=n.p+"7beab7b17eaa9ff7ceed3e5b1af274c2.png"},6860:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},6861:function(e,t,n){e.exports=n.p+"554a8e1a41c2e30cdb946396d3d336f2.png"},6862:function(e,t,n){e.exports=n.p+"7fa2adf98f26db34178bb30a63dabe8c.png"},6863:function(e,t,n){e.exports=n.p+"a92f116201fa7ff2b4acbb39f144ec60.png"},6864:function(e,t,n){e.exports=n.p+"f23c5c28c4429691f7c54af93876d661.png"},6865:function(e,t,n){e.exports=n.p+"3a79cdd1d4af225247f2ba574b97ae78.png"},6866:function(e,t,n){e.exports=n.p+"64f37efd5319b9b581557604864f042a.png"},6867:function(e,t,n){e.exports=n.p+"92cd1f9eabd48ec32dc2ecef617f706b.png"},6868:function(e,t,n){e.exports=n.p+"3a3ec02f3c9193e85bda10f5d2a42574.png"},6869:function(e,t,n){e.exports=n.p+"1d8d4e2b3fd0e542b6d37cbfa156d55e.png"},6870:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6871:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6872:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6873:function(e,t,n){e.exports=n.p+"e6d6b255259ac878d00819a9555072ad.png"},6874:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(446)),i=n(302),l=m(n(6597)),s=m(n(46)),u=m(n(14)),d=m(n(9)),c=m(n(222)),f=m(n(5995)),p=m(n(5991)),h=m(n(6770)),v=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChangeWindows=function(){var e=t.props.channel;l.default.open(e),(0,i.closeContextMenu)()},t.handleStop=function(){o.default.setDesktopSource(null),(0,i.closeContextMenu)()},t.handleVolumeChange=function(e){o.default.setSoundshareVolume(e)},t.handleStreamGame=function(){var e=t.props.game;if(null!=e){var n=d.default.getDesktopSourceFromPid(e.pid),r=u.default.getCurrentUser();o.default.setDesktopSource(n,720,c.default.canUseHigherFramerate(r)?60:30,!0),(0,i.closeContextMenu)()}else t.handleChangeWindows()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.props,r=n.className,a=n.style,o=n.game;return null!=o&&(e=y(p.default,{label:v.default.Messages.SCREENSHARE_STREAM_GAME.format({gameName:o.name}),action:this.handleStreamGame})),s.default.isScreenSharing()?(s.default.isSoundSharing()&&(t=y(f.default,{},void 0,y(h.default,{label:v.default.Messages.FORM_LABEL_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:function(e){return e.toFixed(0)+"%"},defaultValue:s.default.getSoundshareVolume()}))),y("div",{className:r,style:a},void 0,t,y(f.default,{},void 0,e,y(p.default,{label:v.default.Messages.SCREENSHARE_CHANGE_WINDOWS,action:this.handleChangeWindows}),y(p.default,{label:v.default.Messages.SCREENSHARE_STOP,action:this.handleStop,danger:!0})))):y("div",{className:r,style:a},void 0,y(f.default,{},void 0,e,y(p.default,{label:v.default.Messages.SCREENSHARE_SHARE_SCREEN_OR_WINDOW,action:this.handleChangeWindows})))},r}(a.PureComponent);t.default=_,_.displayName="ScreenshareContextMenu",e.exports=t.default},6875:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=i(n(77)),o=i(n(7640));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e){var t,n;function i(t){var n;return s(n=e.call(this,t)||this).handleDismiss=n.handleDismiss.bind(s(n)),s(n).handleConfirm=n.handleConfirm.bind(s(n)),n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.render=function(){return r.createElement(o.default,l({},this.props,{onConfirm:this.handleConfirm,onDismiss:this.handleDismiss}))},u.close=function(){a.default.pop()},u.handleConfirm=function(){var e=this.props.onConfirm;this.close(),e&&e()},u.handleDismiss=function(){var e=this.props.onDismiss;this.close(),e&&e()},i}(r.PureComponent);u.displayName="VideoDevicesWarningModal";var d=u;t.default=d,e.exports=t.default},6876:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(3)),i=n(6157),l=d(n(848)),s=d(n(6012)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.toggleCollapse=function(){var e=this.props,t=e.collapsed,n=e.channel.id;t?(0,i.categoryExpand)(n):(0,i.categoryCollapse)(n)},o.render=function(){var e=this,t=this.props.collapsed;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:u.default.Messages.COLLAPSE_CATEGORY,action:function(){return e.toggleCollapse()},active:t})},a}(a.PureComponent);c.displayName="CategoryToggleCollapse";var f=o.default.connectStores([l.default],function(e){var t=e.channel;return{collapsed:l.default.isCollapsed(t.id)}})(c);t.default=f,e.exports=t.default},6877:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=n(6010),l=u(n(5991)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChannelTopicCopy=function(){(0,i.copy)(t.props.channel.topic),(0,o.closeContextMenu)()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return i.SUPPORTS_COPY?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.COPY_CHANNEL_TOPIC,action:this.handleChannelTopicCopy}):null},a}(a.PureComponent);d.displayName="ChannelCopyTopicItem";var c=d;t.default=c,e.exports=t.default},6878:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(304)),i=(g(n(306)),g(n(439))),l=g(n(3)),s=g(n(6119)),u=n(302),d=g(n(77)),c=n(126),f=g(n(149)),p=g(n(125)),h=g(n(5995)),v=g(n(5991)),m=g(n(445)),y=n(0),_=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=(0,o.default)({displayName:"ChannelDeleteGroup",mixins:[i.default],render:function(){var e=this.props.channel;if(!f.default.can(y.Permissions.MANAGE_CHANNELS,e)||(0,c.isGuildSelectableChannelType)(e.type)&&!f.default.can(y.Permissions.VIEW_CHANNEL,e)||e.type===y.ChannelTypes.GUILD_VOICE&&!f.default.can(y.Permissions.CONNECT,e))return null;var t=e.type===y.ChannelTypes.GUILD_CATEGORY?_.default.Messages.DELETE_CATEGORY:_.default.Messages.DELETE_CHANNEL;return S(h.default,{},void 0,S(v.default,{label:t,action:this.handleChannelDelete,danger:!0}))},handleChannelDelete:function(){var e=this;(0,u.closeContextMenu)();var t=this.props.channel.type===y.ChannelTypes.GUILD_CATEGORY?_.default.Messages.DELETE_CATEGORY:_.default.Messages.DELETE_CHANNEL;d.default.push(function(n){return a.createElement(m.default,E({header:_.default.Messages.DELETE_SERVER_TITLE.format({name:e.props.channel.toString()}),confirmText:t,cancelText:_.default.Messages.CANCEL,onConfirm:e.handleConfirmChannelDelete},n),S(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,_.default.Messages.DELETE_SERVER_BODY.format({name:e.props.channel.toString(!0)})))})},handleConfirmChannelDelete:function(){s.default.deleteChannel(this.props.channel.id)}}),O=l.default.connectStores([f.default],function(e){var t=e.channel;return{permissions:f.default.getChannelPermissions(t.id)}})(T);t.default=O,e.exports=t.default},6879:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(304)),o=(h(n(306)),h(n(439))),i=h(n(3)),l=h(n(6119)),s=n(302),u=n(126),d=h(n(149)),c=h(n(5991)),f=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}var v=(0,a.default)({displayName:"ChannelEditItem",mixins:[o.default],render:function(){if(__OVERLAY__)return null;var e=this.props.channel;if(!d.default.can(f.Permissions.MANAGE_CHANNELS,e)&&!d.default.can(f.Permissions.MANAGE_ROLES,e)&&!d.default.can(f.Permissions.MANAGE_WEBHOOKS,e))return null;if((0,u.isGuildSelectableChannelType)(e.type)&&!d.default.can(f.Permissions.VIEW_CHANNEL,e)||e.type===f.ChannelTypes.GUILD_VOICE&&!d.default.can(f.Permissions.CONNECT,e))return null;var t=p.default.Messages.EDIT_CHANNEL;return e.type===f.ChannelTypes.GUILD_CATEGORY&&(t=p.default.Messages.EDIT_CATEGORY),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(c.default,{label:t,action:this.handleChannelEdit})},handleChannelEdit:function(){var e=this.props.channel;(0,s.closeContextMenu)(),l.default.open(e.id)}}),m=i.default.connectStores([d.default],function(e){var t=e.channel;return{permissions:d.default.getChannelPermissions(t.id)}})(v);t.default=m,e.exports=t.default},6880:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=y(n(304)),o=(y(n(306)),y(n(439))),i=y(n(3)),l=n(302),s=y(n(6145)),u=y(n(77)),d=y(n(149)),c=n(227),f=y(n(5995)),p=y(n(5991)),h=y(n(6027)),v=n(0),m=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=(0,a.default)({displayName:"ChannelInviteCreateGroup",mixins:[o.default],render:function(){var e,t,n,r,a=this.props,o=a.type,i=a.channel,l=a.guild;return d.default.can(v.Permissions.CONNECT,i)&&(0,c.canViewInviteModal)(l,i)&&(e=_(p.default,{label:m.default.Messages.INSTANT_INVITE,action:this.openInviteModal})),!__OVERLAY__&&d.default.can(v.Permissions.MANAGE_CHANNELS,this.props.guild)&&o!==v.ContextMenuTypes.CHANNEL_LIST_STORE&&(o!==v.ContextMenuTypes.CHANNEL_LIST_VOICE&&(t=_(p.default,{label:m.default.Messages.CREATE_TEXT_CHANNEL,action:this.handleTextChannelCreate})),o!==v.ContextMenuTypes.CHANNEL_LIST_TEXT&&(n=_(p.default,{label:m.default.Messages.CREATE_VOICE_CHANNEL,action:this.handleVoiceChannelCreate})),r=_(p.default,{label:m.default.Messages.CLONE_CHANNEL,action:this.handleCloneCreate})),_(f.default,{},void 0,e,r,t,n)},openInviteModal:function(){(0,l.closeContextMenu)();var e=this.props,t=e.guild,n=e.channel;u.default.push(h.default,{guild:t,channel:n,source:v.InstantInviteSources.CONTEXT_MENU})},handleCloneCreate:function(){var e=this.props,t=e.channel,n=t.id,r=t.type,a=t.parent_id,o=e.guild.id;(0,l.closeContextMenu)(),s.default.open(r,o,a,n)},handleVoiceChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,l.closeContextMenu)(),s.default.open(v.ChannelTypes.GUILD_VOICE,n,t,null)},handleTextChannelCreate:function(){var e=this.props.channel,t=e.parent_id,n=e.guild_id;(0,l.closeContextMenu)(),s.default.open(v.ChannelTypes.GUILD_TEXT,n,t,null)}}),E=i.default.connectStores([d.default],function(e){var t=e.guild;return{permissionVersion:d.default.getGuildVersion(t.id)}})(g);t.default=E,e.exports=t.default},6881:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=n(830),l=d(n(44)),s=d(n(5991)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=function(e){var t,n;function a(t){var n;return c(n=e.call(this,t)||this).handleJumpToChannel=n.handleJumpToChannel.bind(c(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:u.default.Messages.JUMP_TO_CHANNEL,action:this.handleJumpToChannel})},d.handleJumpToChannel=function(){var e=this.props,t=e.channel,n=e.guild;l.default.transitionToGuild(n.id,t.id),(0,o.closeContextMenu)(),(0,i.popLayer)()},a}(a.PureComponent);f.displayName="ChannelJumpToItem";var p=f;t.default=p,e.exports=t.default},6882:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=n(6074),l=d(n(5991)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleMarkAsRead=function(){var e=t.props,n=e.type,r=e.channelId;(0,o.closeContextMenu)(),n===s.ChannelTypes.GUILD_CATEGORY?(0,i.ackCategory)(r,!0,!0):(0,i.ack)(r,!0,!0)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.MARK_AS_READ,action:function(){return e.handleMarkAsRead()},disabled:!this.props.hasUnread})},a}(a.PureComponent);c.displayName="ChannelMarkReadItem";var f=c;t.default=f,e.exports=t.default},6883:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(304)),o=(c(n(306)),c(n(439))),i=c(n(3)),l=c(n(6316)),s=c(n(6600)),u=c(n(6012)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"ChannelToggleVisibilityItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCollapsed:s.default.isCollapsed(this.props.channelId)}},render:function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.VOICE_CHANNEL_HIDE_NAMES,action:this.handleChannelToggle,active:this.state.isCollapsed})},handleChannelToggle:function(){l.default.update(this.props.channelId)}});t.default=f,e.exports=t.default},6896:function(e,t,n){var r={"./af":6325,"./af.js":6325,"./ar":6326,"./ar-dz":6327,"./ar-dz.js":6327,"./ar-kw":6328,"./ar-kw.js":6328,"./ar-ly":6329,"./ar-ly.js":6329,"./ar-ma":6330,"./ar-ma.js":6330,"./ar-sa":6331,"./ar-sa.js":6331,"./ar-tn":6332,"./ar-tn.js":6332,"./ar.js":6326,"./az":6333,"./az.js":6333,"./be":6334,"./be.js":6334,"./bg":6335,"./bg.js":6335,"./bm":6336,"./bm.js":6336,"./bn":6337,"./bn.js":6337,"./bo":6338,"./bo.js":6338,"./br":6339,"./br.js":6339,"./bs":6340,"./bs.js":6340,"./ca":6341,"./ca.js":6341,"./cs":6342,"./cs.js":6342,"./cv":6343,"./cv.js":6343,"./cy":6344,"./cy.js":6344,"./da":6345,"./da.js":6345,"./de":6346,"./de-at":6347,"./de-at.js":6347,"./de-ch":6348,"./de-ch.js":6348,"./de.js":6346,"./dv":6349,"./dv.js":6349,"./el":6350,"./el.js":6350,"./en-au":6351,"./en-au.js":6351,"./en-ca":6352,"./en-ca.js":6352,"./en-gb":6353,"./en-gb.js":6353,"./en-ie":6354,"./en-ie.js":6354,"./en-il":6355,"./en-il.js":6355,"./en-nz":6356,"./en-nz.js":6356,"./eo":6357,"./eo.js":6357,"./es":6358,"./es-do":6359,"./es-do.js":6359,"./es-us":6360,"./es-us.js":6360,"./es.js":6358,"./et":6361,"./et.js":6361,"./eu":6362,"./eu.js":6362,"./fa":6363,"./fa.js":6363,"./fi":6364,"./fi.js":6364,"./fo":6365,"./fo.js":6365,"./fr":6366,"./fr-ca":6367,"./fr-ca.js":6367,"./fr-ch":6368,"./fr-ch.js":6368,"./fr.js":6366,"./fy":6369,"./fy.js":6369,"./gd":6370,"./gd.js":6370,"./gl":6371,"./gl.js":6371,"./gom-latn":6372,"./gom-latn.js":6372,"./gu":6373,"./gu.js":6373,"./he":6374,"./he.js":6374,"./hi":6375,"./hi.js":6375,"./hr":6376,"./hr.js":6376,"./hu":6377,"./hu.js":6377,"./hy-am":6378,"./hy-am.js":6378,"./id":6379,"./id.js":6379,"./is":6380,"./is.js":6380,"./it":6381,"./it.js":6381,"./ja":6382,"./ja.js":6382,"./jv":6383,"./jv.js":6383,"./ka":6384,"./ka.js":6384,"./kk":6385,"./kk.js":6385,"./km":6386,"./km.js":6386,"./kn":6387,"./kn.js":6387,"./ko":6388,"./ko.js":6388,"./ky":6389,"./ky.js":6389,"./lb":6390,"./lb.js":6390,"./lo":6391,"./lo.js":6391,"./lt":6392,"./lt.js":6392,"./lv":6393,"./lv.js":6393,"./me":6394,"./me.js":6394,"./mi":6395,"./mi.js":6395,"./mk":6396,"./mk.js":6396,"./ml":6397,"./ml.js":6397,"./mn":6398,"./mn.js":6398,"./mr":6399,"./mr.js":6399,"./ms":6400,"./ms-my":6401,"./ms-my.js":6401,"./ms.js":6400,"./mt":6402,"./mt.js":6402,"./my":6403,"./my.js":6403,"./nb":6404,"./nb.js":6404,"./ne":6405,"./ne.js":6405,"./nl":6406,"./nl-be":6407,"./nl-be.js":6407,"./nl.js":6406,"./nn":6408,"./nn.js":6408,"./pa-in":6409,"./pa-in.js":6409,"./pl":6410,"./pl.js":6410,"./pt":6411,"./pt-br":6412,"./pt-br.js":6412,"./pt.js":6411,"./ro":6413,"./ro.js":6413,"./ru":6414,"./ru.js":6414,"./sd":6415,"./sd.js":6415,"./se":6416,"./se.js":6416,"./si":6417,"./si.js":6417,"./sk":6418,"./sk.js":6418,"./sl":6419,"./sl.js":6419,"./sq":6420,"./sq.js":6420,"./sr":6421,"./sr-cyrl":6422,"./sr-cyrl.js":6422,"./sr.js":6421,"./ss":6423,"./ss.js":6423,"./sv":6424,"./sv.js":6424,"./sw":6425,"./sw.js":6425,"./ta":6426,"./ta.js":6426,"./te":6427,"./te.js":6427,"./tet":6428,"./tet.js":6428,"./tg":6429,"./tg.js":6429,"./th":6430,"./th.js":6430,"./tl-ph":6431,"./tl-ph.js":6431,"./tlh":6432,"./tlh.js":6432,"./tr":6433,"./tr.js":6433,"./tzl":6434,"./tzl.js":6434,"./tzm":6435,"./tzm-latn":6436,"./tzm-latn.js":6436,"./tzm.js":6435,"./ug-cn":6437,"./ug-cn.js":6437,"./uk":6438,"./uk.js":6438,"./ur":6439,"./ur.js":6439,"./uz":6440,"./uz-latn":6441,"./uz-latn.js":6441,"./uz.js":6440,"./vi":6442,"./vi.js":6442,"./x-pseudo":6443,"./x-pseudo.js":6443,"./yo":6444,"./yo.js":6444,"./zh-cn":6445,"./zh-cn.js":6445,"./zh-hk":6446,"./zh-hk.js":6446,"./zh-tw":6447,"./zh-tw.js":6447};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=6896},6897:function(e,t,n){"use strict";t.__esModule=!0,t.renderTitle=function(e){var t=e.channel,n=e.hasVideo,r=void 0!==n&&n,s=e.showMobileIndicator,d=void 0!==s&&s,h=e.handleClick,m=e.handleContextMenu,y=t.toString(),_=t.getTitleIcon(r);switch(t.type){case f.ChannelTypes.DM:var g=t.getRecipientId();return v(a.Fragment,{},void 0,""!==_?v(c.default.Icon,{name:_,disabled:!0}):null,v(c.default.Title,{onContextMenu:m,onClick:h,className:p.default.cursorPonter},void 0,y),v(l.default,{userId:g,className:p.default.status,hideTooltip:!0}),d?v(i.default,{className:p.default.mobileIndicator,invertTooltip:!0}):null);case f.ChannelTypes.GROUP_DM:return t.isManaged()?y:v(a.Fragment,{},void 0,v(c.default.Icon,{name:o.default.NOVA_PEOPLE,disabled:!0}),v(u.default,{channel:t},"channel-"+t.id));case f.ChannelTypes.GUILD_NEWS:case f.ChannelTypes.GUILD_TEXT:case f.ChannelTypes.GUILD_VOICE:return v(a.Fragment,{},void 0,""!==_?v(c.default.Icon,{name:_,disabled:!0}):null,v(c.default.Title,{onContextMenu:m,onClick:h},void 0,y));default:return null}},t.renderTopic=function(e,t){switch(e.type){case f.ChannelTypes.DM:return v(s.default,{channel:e},e.id);case f.ChannelTypes.GUILD_NEWS:case f.ChannelTypes.GUILD_TEXT:case f.ChannelTypes.GUILD_VOICE:case f.ChannelTypes.GROUP_DM:return null!=t?v(d.default,{channel:e,guild:t},e.id):null;default:return null}};var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(460)),i=h(n(6287)),l=h(n(6490)),s=h(n(6898)),u=h(n(6899)),d=h(n(6901)),c=h(n(6029)),f=n(0),p=h(n(5471));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}},6898:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(3)),i=c(n(71)),l=n(6050),s=n(6025),u=c(n(13)),d=c(n(5526));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=f(s.Divider,{}),h=function(e){var t=e.nicknames;return""===t.trim()?f("div",{className:d.default.spacer}):f(a.Fragment,{},void 0,p,f(l.TextBadge,{text:u.default.Messages.AKA,disableColor:!0,className:d.default.akaBadge}),f("div",{className:d.default.nicknames},void 0,t))};h.displayName="AKA";var v=o.default.connectStores([i.default],function(e){var t=e.channel.getRecipientId();return{nicknames:null!=t?i.default.getNicknames(t).join(", "):""}})(h);t.default=v,e.exports=t.default},6899:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(443)),i=s(n(6900)),l=s(n(5528));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleBlur=function(e){t.props.channel.toString()!==e.currentTarget.value&&o.default.setName(t.props.channel.id,e.currentTarget.value)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return u("div",{className:l.default.container},void 0,u(i.default,{minLen:1,maxLen:100,className:l.default.channelName,value:this.props.channel.toString(),onBlur:this.handleBlur}))},r}(a.Component);d.displayName="ChannelName";var c=d;t.default=c,e.exports=t.default},6900:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5527));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u="INPUT_REF",d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={focused:!1,lastGoodValue:t.props.value,value:t.props.value},t.handleChange=function(e){t.setState({value:e.currentTarget.value});var n=t.props.onChange;n&&n(e)},t.handleFocus=function(e){t.setState({focused:!0,lastGoodValue:e.currentTarget.value});var n=t.props.onFocus;n&&n(e)},t.handleBlur=function(e){if(t.verifyLength()){t.setState({focused:!1});var n=t.props.onBlur;n&&n(e)}else t.setState({focused:!1,value:t.state.lastGoodValue})},t.handleKeyPress=function(e){13===e.which&&t.refs[u].blur()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){null!=e.value&&e.value!==this.props.value&&this.verifyLength(e.value)&&this.setState({value:e.value})},l.componentDidUpdate=function(e,t){t.focused!==this.state.focused&&this.state.focused&&this.refs[u].focus()},l.render=function(){var e,t=this.props.className,n={position:"absolute",left:0,width:"100%",opacity:1};return this.state.focused?e={visibility:"hidden",pointerEvents:"none"}:n.opacity=0,s("div",{className:(0,o.default)(i.default.outer,t)},void 0,s("div",{className:i.default.container},void 0,a.createElement("input",{className:i.default.input,ref:u,style:n,value:this.state.value,onKeyPress:this.handleKeyPress,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur}),a.createElement("div",{className:i.default.input,style:e,ref:"VALUE_REF"},this.state.value)))},l.verifyLength=function(e){void 0===e&&(e="");var t=e||this.state.value||"";return!(this.props.minLen&&t.length<this.props.minLen||this.props.maxLen&&t.length>this.props.maxLen)},r}(a.Component);t.default=d,d.displayName="InputAutosize",e.exports=t.default},6901:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(17)),i=n(302),l=m(n(77)),s=m(n(125)),u=m(n(107)),d=m(n(240)),c=m(n(6049)),f=m(n(6713)),p=m(n(6029)),h=n(0),v=m(n(5530));function m(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderHeader=function(){return _(u.default,{tag:u.default.Tags.H4},void 0,t.props.channel.toString(!0))},t}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.channel,n=e.onClose;return _(f.default,{selectable:!0,onClose:n,renderHeader:this.renderHeader},void 0,_(s.default,{selectable:!0,size:s.default.Sizes.MEDIUM,color:s.default.Colors.PRIMARY,className:v.default.content},void 0,d.default.parseTopic(t.topic,!0,{channelId:t.id})))},t}(a.Component);E.displayName="ChannelTopicModal";var S=_(p.default.Divider,{}),T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._mouseDown=!1,t.handleOpenTopic=function(e){!(e.target.matches("a")||e.target.parentNode.matches("a")||"highlight"===e.target.className||"highlight"===e.target.parentNode.className)&&l.default.push(E,t.props)},t.onMouseDown=function(){t._mouseDown=!0},t.onMouseMove=function(){t._mouseDown&&(t._mouseDown=!1)},t.onMouseUp=function(e){t._mouseDown&&e.button!==h.MouseButtons.SECONDARY&&t.handleOpenTopic(e),t._mouseDown=!1},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.guild;(0,i.openContextMenu)(e,function(e){return a.createElement(c.default,y({},e,{type:h.ContextMenuTypes.CHANNEL_TOPIC,channel:r,guild:o}))})},t}return g(t,e),t.prototype.render=function(){var e=this.props.channel;return e.type===h.ChannelTypes.GROUP_DM?null:null==e.topic||0===e.topic.length?null:_(a.Fragment,{},void 0,S,_("div",{className:(0,o.default)(v.default.topic,v.default.expandable),onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onContextMenu:this.handleContextMenu},void 0,d.default.parseTopic(e.topic,!0,{channelId:e.id})))},t}(a.Component);T.displayName="ChannelTopic";var O=T;t.default=O,e.exports=t.default},6902:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(5993)),l=(v(n(128)),v(n(5992))),s=v(n(148)),u=v(n(821)),d=v(n(6026)),c=v(n(6070)),f=v(n(5359)),p=n(0),h=v(n(5833));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=function(e){var t,n=e.className,r=e.user,i=e.nick,v=e.status,_=e.onContextMenu,g=e.onPopoutClose,E=e.onPopoutOpen,S={location:y({},e.analyticsContext.location,{object:p.AnalyticsObjects.LIST_ITEM})};return m(u.default,{render:function(e){return a.createElement(f.default,y({},e,{user:r,analyticsParams:S}))},position:u.default.Positions.LEFT,closeOnScroll:!1,onClose:g,onOpen:E},void 0,m(s.default,{align:s.default.Align.CENTER,className:(0,o.default)(h.default.memberListItem,n),onContextMenu:_},void 0,m(l.default,{src:r.getAvatarURL(),className:h.default.avatar,statusClassName:h.default.avatarStatus,imageClassName:(0,o.default)(h.default.avatar,(t={},t[h.default.avatarMask]=null!=v,t)),status:v}),m(d.default,{className:h.default.memberListItemTag},void 0,m(c.default,{user:r,nick:i,hideDiscriminator:!0}))))};_.displayName="UserListItem";var g=(0,i.default)(_);t.default=g,e.exports=t.default},6903:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(3)),l=p(n(827)),s=p(n(35)),u=p(n(6448)),d=p(n(308)),c=p(n(13)),f=p(n(5531));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).scroller=a.createRef(),t.handleDisagree=function(){var e=t.props.guild;l.default.nsfwDisagree(e.id)},t.handleAgree=function(){var e=t.props.guild;l.default.nsfwAgree(e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.scroller.current;null!=e&&e.scrollToBottom()},i.render=function(){return a.createElement(d.default,{ref:this.scroller,className:f.default.scrollerSettings,outerClassName:f.default.scrollWrap},h("div",{className:(0,o.default)("theme-"+this.props.theme,this.props.className,f.default.wrapper)},void 0,h(u.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:c.default.Messages.NSFW_TITLE,description:c.default.Messages.NSFW_DESCRIPTION,agreement:c.default.Messages.NSFW_ACCEPT,disagreement:c.default.Messages.NSFW_DECLINE})))},r}(a.PureComponent);v.displayName="GuildNSFW";var m=i.default.connectStores([s.default],function(){return{theme:s.default.theme}})(v);t.default=m,e.exports=t.default},6904:function(e,t,n){"use strict";t.__esModule=!0,t.APPLICATION_STORE_LAYOUT=void 0;var r,a=n(6626),o=n(6133),i=n(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=l({},o.DEFAULT_LAYOUT,((r={})[i.KeybindActions.CAROUSEL_NEXT]=a.CAROUSEL_NEXT,r[i.KeybindActions.CAROUSEL_PREV]=a.CAROUSEL_PREV,r));t.APPLICATION_STORE_LAYOUT=s},6905:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(80)),i=n(221),l=f(n(5993)),s=f(n(18)),u=f(n(6906)),d=f(n(6911)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._applicationIdsViewed=new Set,t._skuIdsViewed=new Set,t.handleSKUViewed=function(e){t._applicationIdsViewed.add(e.applicationId),t._skuIdsViewed.add(e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){var e=this.props,t=e.location,n=e.analyticsContext,r=null!=t.search?o.default.parse(t.search.slice(1)):null;s.default.track(c.AnalyticEvents.STORE_DIRECTORY_VIEWED,{load_id:n.loadId,source:null!=t.state?t.state.analyticsSource:c.DIRECT_ANALYTICS_LOCATION,location:n.location.page,utm_campaign_current:null!=r?r.utm_campaign_current:null})},l.componentWillUnmount=function(){var e=this.props.analyticsContext,t=e.loadId,n=e.loadDate;if(null==n)throw new Error("loadDate was null during unmount");s.default.track(c.AnalyticEvents.STORE_DIRECTORY_EXITED,{load_id:t,duration_ms:Date.now()-n,application_ids_viewed:Array.from(this._applicationIdsViewed),sku_ids_viewed:Array.from(this._skuIdsViewed)})},l.render=function(){var e=this,t=this.props,n=t.scrollTo,r=t.getScrollTop;return p(i.Switch,{},void 0,p(i.Route,{path:c.Routes.APPLICATION_STORE,exact:!0,render:function(t){return a.createElement(d.default,h({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}),p(i.Route,{path:c.Routes.APPLICATION_STORE_BROWSE,render:function(t){return a.createElement(u.default,h({},t,{scrollTo:n,getScrollTop:r,onSKUViewed:e.handleSKUViewed}))}}))},r}(a.Component);v.displayName="ApplicationStoreDirectory";var m=(0,l.default)(v);t.default=m,e.exports=t.default},6906:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=B(n(4)),i=B(n(80)),l=B(n(453)),s=B(n(3)),u=B(n(1)),d=n(6260),c=n(6259),f=n(6088),p=B(n(825)),h=B(n(460)),v=B(n(5993)),m=B(n(6104)),y=(B(n(6251)),B(n(86))),_=B(n(35)),g=B(n(6197)),E=B(n(176)),S=B(n(6006)),T=B(n(148)),O=B(n(308)),I=B(n(6495)),C=B(n(6109)),N=B(n(438)),A=B(n(18)),M=n(106),P=n(868),b=B(n(44)),R=n(6047),L=B(n(469)),D=n(6202),w=B(n(5996)),U=B(n(6029)),k=B(n(6261)),G=B(n(6628)),F=n(0),j=B(n(13)),x=B(n(5539));function B(e){return e&&e.__esModule?e:{default:e}}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var V=function(e){var t=e.label,n=e.options,r=e.value,a=e.onChange,o=e.onOpen,i=e.onClose;return H("div",{className:x.default.filterBrowsing},void 0,H("label",{},void 0,t),H(C.default,{className:x.default.filterBrowsingSelectValue,popoutClassName:x.default.filterBrowsingSelectPopout,look:C.default.Looks.MINIMAL,options:n,value:r,onChange:a,onOpen:o,onClose:i}))};V.displayName="FilterItem";var Y=(0,o.default)(new Date(0)),W=function(e){var t=E.default.get(e);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},K=function(e,t){var n=W(e),r=W(t);return n.name.localeCompare(r.name,"en",{sensitivity:"base"})},z=function(e,t){return K(t,e)},$=function(e,t){var n=W(e),r=W(t),a=n.releaseDate,o=r.releaseDate,i=Date.now();return(null==a||a.isAfter(i))&&(a=Y),(null==o||o.isAfter(i))&&(o=Y),a.isAfter(o)?-1:a.isBefore(o)?1:K(e,t)},q=(0,P.cachedFunction)(function(e){for(var t=new Set,n=0;n<e.length;n++){var r=E.default.get(e[n]);null!=r&&null!=r.genres&&r.genres.size>0&&Array.from(r.genres).forEach(function(e){return t.add(e)})}var a=Array.from(t).map(function(e){return{label:(0,R.getGenreText)(e),value:e}}).sort(function(e,t){return"string"!=typeof e.label||"string"!=typeof t.label?0:e.label.localeCompare(t.label)});return a.unshift({label:j.default.Messages.APPLICATION_STORE_FILTER_ALL_GENRES,value:F.StoreApplicationGenresFilter.ALL}),a}),X=H(G.default,{}),Q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).scrollerRef=a.createRef(),t.searchBoxRef=a.createRef(),t._popoutCount=0,t.getFiltersQueryObject=function(e){var n=t.props.filters,r=e&&null!=e.q?e.q:n.q,a=e&&null!=e.sort?e.sort:n.sort,o=e&&null!=e.genre?e.genre:n.genre;return{q:r,sort:a,genre:(0,R.getGenreURLSlugFromId)(o)}},t.trackFilterUpdated=function(e){A.default.track(F.AnalyticEvents.STORE_DIRECTORY_FILTER_UPDATED,{load_id:t.props.analyticsContext.loadId,filter:e})},t.filterByGenre=function(e){var n=e.value;t.trackFilterUpdated(n),t.updateUrlWithFilters({genre:n},{persistForBackButton:!0})},t.sortByApplicationOrder=function(e){var n=e.value;t.updateUrlWithFilters({sort:n},{persistForBackButton:!0})},t.filterByTitle=function(e){t.updateUrlWithFilters({q:e})},t.focusInput=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).searchBoxRef;null!=e.current&&e.current.focus()},t.handlePopoutOpen=function(){t._popoutCount+=1},t.handlePopoutClose=function(){t._popoutCount=Math.max(0,t._popoutCount-1)},t.handleScroll=function(){t._popoutCount>0&&p.default.closeAll()},t.getSortedSkuIds=function(e,t){switch(t){case F.StoreApplicationSort.NEW_RELEASES:return e.allSkuIds.sort($);case F.StoreApplicationSort.ALPHABETICAL:return e.allSkuIds.sort(K);case F.StoreApplicationSort.REVERSE_ALPHABETICAL:return e.allSkuIds.sort(z);default:return e.allSkuIds}},t.scrollTo=function(e,n){if(void 0===n&&(n=!1),null!=t.props.scrollTo)t.props.scrollTo(e,n);else{var r=t.scrollerRef.current;null!=r&&r.scrollTo(e,n)}},t.getScrollTop=function(){return null!=t.props.getScrollTop?t.props.getScrollTop():null!=t.scrollerRef.current?t.scrollerRef.current.getScrollData().scrollTop:0},t.handleToggleHideLibraryApplications=function(e,t){(0,d.setHideLibraryGames)(t)},t.handleFilterTitleChange=function(e){t.filterByTitle(e)},t.reset=function(){t.filterByTitle("")},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this.props,t=e.filters,n=e.location.search,r=this.getFiltersQueryObject({});L.default.formatSearch(r)!==n&&b.default.replaceWith(L.default.formatPathWithQuery(F.Routes.APPLICATION_STORE_BROWSE,r)),(0,D.deepLinkRouteIfLandedAndNotAuthed)(F.RPCDeepLinks.STORE_BROWSE,t),M.ComponentDispatch.subscribe(F.ComponentActions.FOCUS_SEARCH,this.focusInput);var a=this.props,o=a.lastDirectoryScrollTop,i=a.directoryLayoutId,l=a.shouldFetchDirectoryLayout;null!=o&&this.scrollTo(o),l&&u.default.wait(function(){(0,d.loadDirectory)(i)});var s=this.props,c=s.location,f=s.analyticsContext.loadId;A.default.track(F.AnalyticEvents.STORE_DIRECTORY_BROWSE_VIEWED,{source:null!=c.state?c.state.analyticsSource:F.DIRECT_ANALYTICS_LOCATION,load_id:f})},o.componentWillUnmount=function(){var e=this;u.default.wait(function(){M.ComponentDispatch.unsubscribe(F.ComponentActions.FOCUS_SEARCH,e.focusInput),(0,c.handleDirectoryUnmount)(e.getScrollTop(),F.DirectoryLocations.BROWSE),(0,d.saveFilters)(e.getFiltersQueryObject()),(0,f.muteStoreDirectory)()})},o.updateUrlWithFilters=function(e,t){var n=(void 0===t?{}:t).persistForBackButton,r=L.default.formatPathWithQuery(F.Routes.APPLICATION_STORE_BROWSE,this.getFiltersQueryObject(e));n?b.default.transitionTo(r):b.default.replaceWith(r)},o.renderListings=function(){var e=this.props,t=e.directoryLayout,n=e.isLibraryApplicationsHidden,r=e.filters,o=r.sort,i=r.genre,l=r.q,s=e.onSKUViewed,u=e.isFetchingDirectoryLayout;if(null==t)return u?this.renderLoading():null;var d={titleQuery:null!=l&&l.length>=3?l:null,hideApplicationsInUserLibrary:n,genre:i,premiumOnly:!0};return a.createElement(O.default,{ref:this.scrollerRef,track:!0,onScroll:this.handleScroll,gutterStyle:O.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0},H("div",{className:x.default.filterBackground},void 0,H("h2",{className:x.default.browseTitle},void 0,j.default.Messages.APPLICATION_STORE_NAVIGATION_BROWSE_PREMIUM),H(w.default,{section:F.AnalyticsSections.HERO},void 0,this.renderFilters())),H(w.default,{section:F.AnalyticsSections.BODY},void 0,H("div",{className:x.default.browse},void 0,H(k.default,{className:x.default.applications,viewConfig:d,skuIds:this.getSortedSkuIds(t,o),analyticsSort:o,onSKUViewed:s}))))},o.renderLoading=function(){return H(T.default,{align:T.default.Align.CENTER,justify:T.default.Justify.CENTER},void 0,H(N.default,{className:x.default.spinner}))},o.renderFilterByGenre=function(){var e=this.props,t=e.directoryLayout,n=e.filters.genre;if(null==t)return null;var r=q(t.allSkuIds);return H(V,{label:j.default.Messages.APPLICATION_STORE_BROWSE_BY_GENRE_LABEL,options:r,value:n,onChange:this.filterByGenre,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},o.renderFilterByTitle=function(){var e=this.props.filters.q;return a.createElement(I.default,{searchTerm:e,className:x.default.filterByTitle,inputClassName:x.default.filterByTitleInput,label:j.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,placeholder:j.default.Messages.APPLICATION_STORE_SEARCH_BY_TITLE,onChange:this.handleFilterTitleChange,onClear:this.reset,autoFocus:null!=e&&e.length>0,ref:this.searchBoxRef})},o.renderSortBy=function(){var e=this.props.filters.sort;return H(V,{label:j.default.Messages.APPLICATION_STORE_SORT_BY,options:[{label:j.default.Messages.APPLICATION_STORE_BROWSE_SORT_NEW_RELEASES,value:F.StoreApplicationSort.NEW_RELEASES},{label:j.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_ALPHABETICAL,value:F.StoreApplicationSort.ALPHABETICAL},{label:j.default.Messages.APPLICATION_STORE_BROWSE_SORT_TITLE_REVERSE_ALPHABETICAL,value:F.StoreApplicationSort.REVERSE_ALPHABETICAL}],value:e,onChange:this.sortByApplicationOrder,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose})},o.renderFilters=function(){var e=this.props,t=e.isLibraryApplicationsHidden,n=e.libraryApplicationsSize,r=e.isAuthenticated,a=e.theme;return H("header",{className:x.default.filters},void 0,H("div",{className:x.default.filterBrowsingHeaderWrapper},void 0,this.renderFilterByTitle()),H("div",{className:x.default.sortFilterBar},void 0,H("div",{className:x.default.filterAndSort},void 0,this.renderFilterByGenre(),this.renderSortBy()),r?H(S.default,{className:x.default.hideGames,value:t,onChange:this.handleToggleHideLibraryApplications,type:a===F.ThemeTypes.DARK?S.default.Types.INVERTED:S.default.Types.DEFAULT,reverse:!0},void 0,t?j.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY_HIDDEN.format({gamesHidden:n}):j.default.Messages.APPLICATION_STORE_HIDE_GAMES_IN_LIBRARY):null))},o.render=function(){var e=this.props,t=e.isAuthenticated,n=e.location,r=i.default.parse(n.search.slice(1)),a=null!=r.genre?(0,R.getGenreIdFromURLSlug)(r.genre):null,o=null!=a&&-1!==a?(0,R.getGenreText)(a):null,s=null!=o?j.default.Messages.APPLICATION_STORE_GENRE_TITLE.format({genre:o}):"Discord";return H("div",{className:x.default.browseWrapper},void 0,H(l.default,{title:s}),H(U.default,{isAuthenticated:t},void 0,H(U.default.Icon,{name:h.default.NITRO_WHEEL}),X),this.props.isFetchingDirectoryLayout?this.renderLoading():this.renderListings())},r}(a.PureComponent);function J(e,t,n){return new Set(Object.values(t)).has(e)?e:n}Q.displayName="ApplicationStoreBrowse";var Z=(0,m.default)((0,v.default)(Q)),ee=s.default.connectStores([g.default,y.default,_.default],function(e){var t=e.location,n=null==t.state||!1!==t.state.scrollRestoration,r=g.default.lastBrowseDirectoryView,a=t.search.slice(1),o=0!==a.length?i.default.parse(a):g.default.previousFilters,l=null!=o.genre?(0,R.getGenreIdFromURLSlug)(o.genre):null;return{directoryLayoutId:F.STORE_DIRECTORY_LAYOUT_ID,directoryLayout:g.default.getDirectoryLayout(F.STORE_DIRECTORY_LAYOUT_ID),shouldFetchDirectoryLayout:g.default.shouldFetch(F.STORE_DIRECTORY_LAYOUT_ID),isFetchingDirectoryLayout:g.default.isFetching(F.STORE_DIRECTORY_LAYOUT_ID),lastDirectoryScrollTop:null!=r&&n&&r.scrollTop,isLibraryApplicationsHidden:g.default.isLibraryApplicationsHidden,filters:{q:o.q,sort:J(o.sort,F.StoreApplicationSort,F.StoreApplicationSort.NEW_RELEASES),genre:J(l,F.StoreApplicationGenresFilter,F.StoreApplicationGenresFilter.ALL)},libraryApplicationsSize:Object.keys(y.default.getAllLibraryApplications()).length,theme:_.default.theme}})(Z);t.default=ee,e.exports=t.default},6907:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(17)),o=(h(n(835)),h(n(855)),h(n(124))),i=h(n(6241)),l=h(n(6242)),s=h(n(6141)),u=n(6047),d=n(127),c=h(n(6063)),f=n(6045),p=h(n(5532));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=v(f.InLibraryPrice,{}),y=function(e){var t=e.sku,n=e.storeListing,r=e.playing,f=e.muted,h=e.inLibrary,y=e.showMediaPlaceholder,_=e.onToggleMute,g=e.isMouseOver,E=e.className,S=e.showBuyInline||!t.requiresPayment,T=g&&r,O=S&&!h&&g&&r;return v("div",{className:(0,a.default)(p.default.tileMedia,E)},void 0,v(s.default,{className:p.default.splashContainer,video:null!=n.previewVideo?(0,d.getAssetURL)(t.applicationId,n.previewVideo):null,image:null!=n.boxArt?(0,d.getAssetURL)(t.applicationId,n.boxArt,600):null!=n.thumbnail?(0,d.getAssetURL)(t.applicationId,n.thumbnail,600):null,title:t.name,playing:r,muted:f,placeholder:y,onToggleMute:_,renderMediaOverlay:function(e){var n,r,s,d,f,y;return v("div",{},void 0,v("div",{className:(0,a.default)(p.default.mediaFade,(n={},n[p.default.mediaFadePlaying]=e,n))}),v("div",{className:(0,a.default)(p.default.details,(r={},r[p.default.detailsPlaying]=e,r))},void 0,v("h2",{className:p.default.gameTitle},void 0,t.name),v("div",{className:p.default.genres},void 0,Array.from(t.genres).map(function(e){return v("span",{className:p.default.genreTag},e,(0,u.getGenreText)(e))})),S?v("div",{className:(0,a.default)(p.default.tileOwnership,(s={},s[p.default.tileOwnershipVisible]=T,s))},void 0,h?m:v(c.default,{skuId:t.id,applicationId:t.applicationId,size:o.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:(0,a.default)(p.default.tileBuyButton,(d={},d[p.default.tileBuyButtonVisible]=O,d))})):null),t.exclusive?v(i.default,{className:(0,a.default)(p.default.exclusiveMedia,(f={},f[p.default.exclusivePlaying]=e,f))}):t.isTheGameAwardsWinner?v(l.default,{className:(0,a.default)(p.default.exclusiveMedia,(y={},y[p.default.exclusivePlaying]=e,y))}):null)}}))};y.displayName="ApplicationTileFullMedia";var _=y;t.default=_,e.exports=t.default},6908:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(17)),i=n(221),l=g(n(3)),s=g(n(5993)),u=g(n(14)),d=g(n(124)),c=g(n(6141)),f=g(n(18)),p=g(n(222)),h=n(127),v=g(n(6909)),m=g(n(6910)),y=n(0),_=g(n(5535));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).trackLinkClicked=function(){var e=t.props,n=e.tileData.skuId,r=e.analyticsContext;n===y.PREMIUM_ROUTE_HASH&&f.default.track(y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:S({},r.location,{object:y.AnalyticsObjects.CARD,objectType:y.AnalyticsObjectTypes.PERK})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getPerkLocation=function(){var e=this.props,t=e.index,n=e.analyticsContext.location,r=e.tileData.skuId,a={analyticsProperties:{list_index:t},analyticsSource:{object:y.AnalyticsObjects.CARD,objectType:y.AnalyticsObjectTypes.PERK,page:n.page,section:n.section}};return r===y.PREMIUM_ROUTE_HASH?{hash:y.PREMIUM_ROUTE_HASH,state:a}:(0,h.getStoreListingLocation)(r,S({},a))},a.renderActions=function(){var e,t,n=this.props,r=n.isMouseOver,a=n.isUserPremium,i=n.tileData.skuId;return E("div",{className:_.default.tags},void 0,E(m.default,{className:(0,o.default)(_.default.perkTag,(e={},e[_.default.perkTagHidden]=!a&&r,e))}),a?null:E(v.default,{skuId:i,size:d.default.Sizes.SMALL,className:(0,o.default)(_.default.tileBuyButton,(t={},t[_.default.tileBuyButtonVisible]=r,t))}))},a.renderMedia=function(){var e=this.props,t=e.playing,n=e.muted,r=e.showMediaPlaceholder,a=e.onToggleMute,o=e.tileData,i=o.name,l=o.video,s=o.image;return E(c.default,{className:_.default.splashContainer,video:l,image:s,placeholder:r,title:i,playing:t,muted:n,onToggleMute:a,splashClassName:_.default.splashVideo,splashPlaceholderClassName:_.default.splashPlaceholder})},a.render=function(){var e=this.props,t=e.className,n=e.tileData,r=n.name,a=n.tagline,l=e.onMouseEnter,s=e.onMouseLeave;return E(i.Link,{className:(0,o.default)(_.default.tile,t),to:this.getPerkLocation(),onClick:this.trackLinkClicked,onMouseEnter:l,onMouseLeave:s},void 0,E("div",{className:_.default.media},void 0,this.renderMedia()),E("div",{className:_.default.description},void 0,E("h2",{className:_.default.title},void 0,r),E("div",{className:_.default.tagline},void 0,a),E("div",{className:_.default.actions},void 0,this.renderActions())))},r}(a.PureComponent);T.displayName="PerkTile",T.defaultProps={isMouseOver:!1};var O=(0,s.default)(l.default.connectStores([u.default],function(){return{isUserPremium:p.default.canInstallPremiumApplications(u.default.getNullableCurrentUser())}})(T));t.default=O,e.exports=t.default},6909:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(447),i=O(n(3)),l=O(n(824)),s=O(n(5993)),u=O(n(35)),d=O(n(14)),c=O(n(151)),f=O(n(6210)),p=O(n(176)),h=O(n(124)),v=O(n(301)),m=O(n(6052)),y=O(n(18)),_=O(n(222)),g=O(n(44)),E=n(0),S=O(n(13)),T=O(n(5533));function O(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(e){var t,n,r,a,i;function s(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n,r=t.props.isAuthenticated;(e.preventDefault(),r)?(n=t.analyticsLocation,y.default.track(E.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:n}),l.default.open(E.UserSettingsSections.PREMIUM)):g.default.transitionTo(E.Routes.LOGIN,{search:(0,o.stringify)(E.Routes.APPLICATION_STORE)})},t}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.prototype.render=function(){var e=this.props,t=e.size,n=e.className,r=e.isWindowFocused;return C(m.default,{onClick:this.handleClick,innerClassName:T.default.premiumSubscribeButton,color:h.default.Colors.GREEN,size:t,className:n,pauseAnimation:!r},void 0,C(v.default,{name:v.default.Names.NITRO_WHEEL,className:T.default.premiumIcon}),C("span",{className:T.default.buttonText},void 0,S.default.Messages.APPLICATION_STORE_GET_PREMIUM))},r=s,(a=[{key:"analyticsLocation",get:function(){var e=this.props.storeListingAnalyticsProperties,t=null!=e?e.promotionId:null;return I({},this.props.analyticsContext.location,{object:E.AnalyticsObjects.BUTTON_CTA,objectType:E.AnalyticsObjectTypes.BUY,promotionId:t})}}])&&N(r.prototype,a),i&&N(r,i),s}(a.Component);A.displayName="PremiumSubscribeButton";var M=i.default.connectStores([p.default,f.default,d.default,u.default,c.default],function(){var e=d.default.getNullableCurrentUser();return{isUserPremium:_.default.canInstallPremiumApplications(e),isWindowFocused:c.default.isFocused(),isAuthenticated:null!=e}})((0,s.default)(A));t.default=M,e.exports=t.default},6910:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(13)),i=l(n(5534));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(i.default.perkTag,t)},void 0,o.default.Messages.APPLICATION_STORE_PREMIUM_PERKS)};s.displayName="PerkTag";var u=s;t.default=u,e.exports=t.default},6911:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=K(n(80)),s=K(n(453)),u=n(221),d=n(109),c=K(n(3)),f=K(n(1)),p=n(6260),h=n(6259),v=n(6088),m=K(n(824)),y=K(n(5993)),_=K(n(6104)),g=K(n(35)),E=K(n(14)),S=K(n(151)),T=K(n(840)),O=K(n(6197)),I=K(n(124)),C=K(n(148)),N=K(n(301)),A=K(n(308)),M=K(n(438)),P=K(n(853)),b=K(n(222)),R=K(n(44)),L=K(n(469)),D=n(6202),w=K(n(5996)),U=K(n(6040)),k=K(n(6029)),G=K(n(6627)),F=K(n(6261)),j=K(n(6912)),x=K(n(6629)),B=K(n(6914)),H=K(n(6915)),V=n(0),Y=K(n(13)),W=K(n(5386));function K(e){return e&&e.__esModule?e:{default:e}}function z(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var q=function(e){var t=e.message,n=e.urlParams,r=void 0===n?{}:n,a=e.analyticsContext;return z(u.Link,{className:W.default.viewAllGames,to:{pathname:V.Routes.APPLICATION_STORE_BROWSE,search:L.default.formatSearch(r),state:{scrollRestoration:!1,analyticsState:$({},a.location,{object:V.AnalyticsObjects.BUTTON_BROWSE})}}},void 0,z("span",{},void 0,t),z(N.default,{name:N.default.Names.CARET,className:W.default.viewAllIcon,direction:P.default.Directions.RIGHT}))};q.displayName="ViewLink";var X=z(j.default,{}),Q=z(s.default,{title:"Discord"}),J=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).scrollerRef=i.createRef(),t.scrollTo=function(e,n){if(void 0===n&&(n=!1),null!=t.props.scrollTo)t.props.scrollTo(e,n);else{var r=t.scrollerRef.current;null!=r&&r.scrollTo(e,n)}},t.getScrollTop=function(){return null!=t.props.getScrollTop?t.props.getScrollTop():null!=t.scrollerRef.current?t.scrollerRef.current.getScrollData().scrollTop:0},t.goToPremiumSettings=function(){var e=t.props.location;m.default.open(V.UserSettingsSections.PREMIUM),R.default.replaceWith(e.pathname+e.search)},t.renderToolbar=function(){return X},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.lastDirectoryScrollTop,n=e.location,r=e.directoryLayoutId,a=e.shouldFetchDirectoryLayout;(0,D.deepLinkRouteIfLandedAndNotAuthed)(V.RPCDeepLinks.STORE_HOME),n.hash===V.PREMIUM_ROUTE_HASH&&this.goToPremiumSettings(),null!=t&&this.scrollTo(t),a&&f.default.wait(function(){return(0,p.loadDirectory)(r)})},a.componentDidUpdate=function(e){var t=this.props,n=t.directoryLayoutId,r=t.shouldFetchDirectoryLayout;location.hash===V.PREMIUM_ROUTE_HASH&&this.goToPremiumSettings(),r&&f.default.wait(function(){return(0,p.loadDirectory)(n)})},a.componentWillUnmount=function(){var e=this;f.default.wait(function(){(0,h.handleDirectoryUnmount)(e.getScrollTop(),V.DirectoryLocations.HOME),(0,v.muteStoreDirectory)()})},a.renderFeaturedPremiumListings=function(e){if(null==e.premiumSkuIds||0===e.premiumSkuIds.length)return null;var t=this.props,n=t.onSKUViewed,r=t.analyticsContext;return z(i.Fragment,{},void 0,z("div",{className:W.default.premiumApplicationsHeader},void 0,z("h3",{},void 0,Y.default.Messages.APPLICATION_STORE_HOME_RECENTLY_ADDED),z(q,{message:Y.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,analyticsContext:r})),z("div",{},void 0,z(x.default,{tileWidth:V.PREMIUM_HOME_TILE_WIDTH,tileMargin:V.PREMIUM_HOME_TILE_MARGIN},void 0,z(F.default,{analyticsIndexOffset:12,tileClassName:W.default.homeTile,skuIds:e.premiumSkuIds,onSKUViewed:n,maxTiles:12,wrap:!1}))))},a.renderCategories=function(e){if(null==e.categories||0===e.categories.length)return null;var t=this.props,n=t.onSKUViewed,r=t.analyticsContext,a=t.theme;return z(i.Fragment,{},void 0,e.categories.map(function(e,t){return z(i.Fragment,{},t,z("h3",{className:W.default.categoryHeader},void 0,e.name),z("div",{},void 0,z(x.default,{tileWidth:V.PREMIUM_HOME_TILE_WIDTH,tileMargin:V.PREMIUM_HOME_TILE_MARGIN},void 0,z(F.default,{tileClassName:W.default.homeTile,skuIds:e.skuIds,onSKUViewed:n,maxTiles:12,wrap:!1}))))}),z(C.default,{},void 0,z("div",{className:W.default.viewAllGamesButton},void 0,z(I.default.Link,{to:{pathname:V.Routes.APPLICATION_STORE_BROWSE,state:{scrollRestoration:!1,analyticsState:$({},r.location,{object:V.AnalyticsObjects.BUTTON_BROWSE})}},innerClassName:W.default.viewAllGamesButtonInner,look:I.default.Looks.OUTLINED,color:a===V.ThemeTypes.DARK?I.default.Colors.WHITE:I.default.Colors.BLACK},void 0,z("div",{},void 0,Y.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS),z(N.default,{name:N.default.Names.CARET,className:W.default.viewAllIcon,direction:P.default.Directions.RIGHT})))))},a.renderPerkListings=function(){var e=this.props.onSKUViewed;return z("div",{className:W.default.perkListings},void 0,z("h3",{className:W.default.categoryHeader},void 0,Y.default.Messages.APPLICATION_STORE_PREMIUM_PERKS_HEADER),z("div",{},void 0,z(x.default,{tileWidth:V.PREMIUM_HOME_TILE_WIDTH,tileMargin:V.PREMIUM_HOME_TILE_MARGIN},void 0,V.PERK_TILES.map(function(t,n){return z(G.default,{tileData:t,type:V.StoreDirectoryTileTypes.PERK,className:W.default.homeTile,onSKUViewed:e},n)}))))},a.renderRecommendedListings=function(e){return null==e.recommendedSkuIds||e.recommendedSkuIds.length<5?null:z(B.default,{recommendedSkuIds:e.recommendedSkuIds})},a.renderContent=function(){var e,t=this.props,n=t.directoryLayout,r=t.isWindowFocused,a=t.isUserPremium;return null==n?this.renderLoading():z(i.Fragment,{},void 0,z("div",{className:W.default.home},void 0,n.heroItems.length>0?z(w.default,{section:V.AnalyticsSections.HERO},void 0,z(H.default,{className:W.default.heroCarousel,items:a?(e=n.heroItems,e.filter(function(e){return null==e.url||(0,d.parse)(e.url).hash!==V.PREMIUM_ROUTE_HASH})):n.heroItems,isWindowFocused:r})):null,z("div",{className:W.default.homeBody},void 0,z(w.default,{section:V.AnalyticsSections.BODY},void 0,this.renderPerkListings(),this.renderRecommendedListings(n),this.renderFeaturedPremiumListings(n),this.renderCategories(n)))),z("footer",{className:W.default.footer},void 0,z("h1",{className:W.default.footerMain},void 0,Y.default.Messages.APPLICATION_STORE_HOME_FOOTER_MAIN),z("h2",{className:W.default.footerSub},void 0,Y.default.Messages.APPLICATION_STORE_HOME_FOOTER_SUB)))},a.renderLoading=function(){return z(C.default,{align:C.default.Align.CENTER,justify:C.default.Justify.CENTER},void 0,z(M.default,{className:W.default.spinner}))},a.render=function(){var e=this.props.isAuthenticated,t=e?i.createElement(A.default,{ref:this.scrollerRef,track:!0,gutterStyle:A.default.GutterStyles.STORE,momentum:!0,keyboardScroll:!0},this.renderContent()):this.renderContent();return z("div",{className:e?W.default.homeWrapperNormal:W.default.marketingWrapper},void 0,Q,z(w.default,{section:V.AnalyticsSections.NAVIGATION},void 0,z(k.default,{renderToolbar:this.renderToolbar,isAuthenticated:e,className:W.default.headerBar},void 0,z(k.default.Icon,{name:N.default.Names.NITRO_WHEEL}),z(k.default.Title,{},void 0,Y.default.Messages.PREMIUM))),this.props.isFetchingDirectoryLayout?this.renderLoading():t)},r}(i.PureComponent);J.displayName="ApplicationStoreHome";var Z=c.default.connectStores([O.default,g.default,S.default,E.default],function(e){var t=e.location,n=e.directoryLayoutId,r=O.default.lastHomeDirectoryView,a=l.default.parse(t.search.slice(1))[V.STORE_DIRECTORY_LAYOUT_ID_QUERY_OVERRIDE]||n;return{directoryLayoutId:a,directoryLayout:O.default.getDirectoryLayout(a),shouldFetchDirectoryLayout:O.default.shouldFetch(a),isFetchingDirectoryLayout:O.default.isFetching(a),lastDirectoryScrollTop:null!=r&&r.scrollTop,theme:g.default.theme,isWindowFocused:S.default.isFocused(),isUserPremium:b.default.isPremium(E.default.getNullableCurrentUser())}})((0,_.default)((0,y.default)(J))),ee=(0,U.default)((0,T.default)(V.Experiments.STORE_DIRECTORY_LAYOUT,"Store Directory layout IDS",["Control: "+V.STORE_DIRECTORY_LAYOUT_ID,"Treatment 1: "+V.StoreDirectoryExperimentLayoutIds.TREATMENT_1,"Treatment 2: "+V.StoreDirectoryExperimentLayoutIds.TREATMENT_2,"Treatment 3: "+V.StoreDirectoryExperimentLayoutIds.TREATMENT_3]),((a={})[V.ExperimentTypes.NONE]=function(e){return i.createElement(Z,$({},e,{directoryLayoutId:V.STORE_DIRECTORY_LAYOUT_ID}))},a[V.ExperimentTypes.USER]=((r={})[V.ExperimentBuckets.CONTROL]=function(e){return i.createElement(Z,$({},e,{directoryLayoutId:V.STORE_DIRECTORY_LAYOUT_ID}))},r[V.ExperimentBuckets.TREATMENT_1]=function(e){return i.createElement(Z,$({},e,{directoryLayoutId:V.StoreDirectoryExperimentLayoutIds.TREATMENT_1}))},r[V.ExperimentBuckets.TREATMENT_2]=function(e){return i.createElement(Z,$({},e,{directoryLayoutId:V.StoreDirectoryExperimentLayoutIds.TREATMENT_2}))},r[V.ExperimentBuckets.TREATMENT_3]=function(e){return i.createElement(Z,$({},e,{directoryLayoutId:V.StoreDirectoryExperimentLayoutIds.TREATMENT_3}))},r),a));t.default=ee,e.exports=t.default},6912:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(17)),i=O(n(3)),l=n(6260),s=O(n(825)),u=O(n(5993)),d=O(n(86)),c=O(n(831)),f=O(n(821)),p=O(n(6057)),h=O(n(6030)),v=n(106),m=O(n(44)),y=O(n(469)),_=O(n(6258)),g=n(6913),E=n(0),S=O(n(13)),T=O(n(5541));function O(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var M=370,P=4;function b(e,t){(0,l.updateSearchTerm)(e),m.default.transitionTo(E.Routes.APPLICATION_STORE_BROWSE,{search:y.default.formatSearch({q:e}),state:t})}function R(e){return A(g.ApplicationResultsEmpty,{onViewAllGamesClick:function(){return b("",e)}})}R.displayName="renderNoResults";var L=i.default.connectStores([c.default],function(e){var t=e.sku;return{storeListing:c.default.getForSKU(t.id),inLibrary:d.default.hasApplication(t.applicationId,t.applicationId,!0)}})(g.ApplicationResult),D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).popoutRef=a.createRef(),t.state={query:"",focused:!1,focusedIndex:-1,results:[]},t.searchBarRef=null,t.setInputRef=function(e){t.searchBarRef=e},t.focusInput=function(){var e=N(t).searchBarRef;null!=e&&e.focus()},t.reset=function(){t.setState({query:"",results:[]})},t.handleInputChange=function(e){var n=t.state,r=n.query,a=n.results,o=e.trim();""===o?a=[]:o!==r.trim()&&(a=h.default.querySKUs(o,P,!0)),t.setState({query:e,results:a})},t.handleSelect=function(e){var n,r,a=t.state,o=a.query,i=a.results[e];null==i?b(o,t.transitionState):(n=i.sku,r=t.transitionState,m.default.transitionTo(E.Routes.APPLICATION_STORE_LISTING_SKU(n.id,n.slug),{state:r}))},t.handleHighlight=function(e){t.setState({focusedIndex:e})},t.handleFocus=function(){t.setState({focused:!0})},t.handleBlur=function(){t.setState({focused:!1})},t.handleKeyDown=function(e){var n=e.ctrlKey,r=e.altKey,a=e.metaKey,o=e.which,i=N(t),l=i.searchBarRef,s=i.state,u=s.query,d=s.focusedIndex,c=s.results;if(!(n||r||a))switch(e.stopPropagation(),o){case E.KeyboardKeys.ESCAPE:""!==u?t.reset():null!=l&&l.blur();break;case E.KeyboardKeys.ENTER:t.handleSelect(d),e.preventDefault();break;case E.KeyboardKeys.ARROW_UP:d=Math.max(d-1,-1),t.handleHighlight(d),e.preventDefault();break;case E.KeyboardKeys.ARROW_DOWN:d=Math.min(d+1,c.length-1),t.handleHighlight(d),e.preventDefault()}},t.renderPopoutResult=function(e){var n=t.state,r=n.results,a=n.focusedIndex,o=r[e];return null!=o?A(L,{sku:o.sku,focused:e===a,onSelect:function(){return t.handleSelect(e)},onHighlight:function(){return t.handleHighlight(e)}},o.sku.id):null},t.renderPopout=function(){var e=t.state,n=e.results,r=e.query,a=e.focusedIndex;return""!==r.trim()?A(_.default,{numResults:n.length,query:r,width:M,renderResult:t.renderPopoutResult,renderNoResults:function(){return R(t.transitionState)},focusedIndex:a,onSelectQuery:function(){return t.handleSelect(-1)},onHighlightQuery:function(){return t.handleHighlight(-1)}}):null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i,l,u,d=r.prototype;return d.componentDidMount=function(){v.ComponentDispatch.subscribe(E.ComponentActions.FOCUS_SEARCH,this.focusInput)},d.componentDidUpdate=function(e,t){var n=this.popoutRef.current,r=this.state,a=r.focused,o=r.query,i=r.focusedIndex;o=o.trim(),a&&!t.focused?null!=n&&n.open():!a&&t.focused&&s.default.close("game-store-search"),o===t.query.trim()&&i===t.focusedIndex||s.default.rerender("game-store-search")},d.componentWillUnmount=function(){v.ComponentDispatch.unsubscribe(E.ComponentActions.FOCUS_SEARCH,this.focusInput),this.reset()},d.render=function(){var e,t=this,n=this.props.className,r=this.state,i=r.query,l=r.focused;return a.createElement(f.default,{ref:this.popoutRef,offsetX:-65,uniqueId:"game-store-search",position:f.default.Positions.BOTTOM_LEFT,toggleClose:!1,render:this.renderPopout,animationType:f.default.Animations.NONE},A("div",{className:(0,o.default)(n,(e={},e[T.default.browseSearch]=!0,e[T.default.focused]=l,e))},void 0,a.createElement(p.default,{className:T.default.searchBar,ref:this.setInputRef,name:"search",placeholder:S.default.Messages.APPLICATION_STORE_BROWSE_SEARCH_PLACEHOLDER,query:i,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onClear:function(){t.reset(),t.focusInput()},maxLength:100,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})))},i=r,(l=[{key:"transitionState",get:function(){return{analyticsSource:I({},this.props.analyticsContext.location,{object:E.AnalyticsObjects.SEARCH})}}}])&&C(i.prototype,l),u&&C(i,u),r}(a.PureComponent);D.displayName="ApplicationStoreBrowseSearch";var w=(0,u.default)(D);t.default=w,e.exports=t.default},6913:function(e,t,n){"use strict";t.__esModule=!0,t.ApplicationResultsEmpty=t.ApplicationResult=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(219)),i=p(n(301)),l=p(n(44)),s=n(127),u=p(n(6045)),d=n(0),c=p(n(13)),f=p(n(5540));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n=e.focused,r=e.sku,i=e.onSelect,l=e.onHighlight,d=e.storeListing,c=e.inLibrary,p=null;if(null!=d){var v=d.thumbnail;p=null!=v?(0,s.getAssetURL)(r.applicationId,v,128):null}return h(o.default,{className:(0,a.default)(f.default.result,(t={},t[f.default.focused]=n,t)),onMouseEnter:l,onClick:i},void 0,h("div",{className:f.default.resultAssetContainer},void 0,null!=p?h("img",{className:f.default.resultAsset,src:p,alt:""}):h("div",{className:f.default.resultAssetEmpty})),h("div",{className:f.default.resultContent},void 0,h("div",{className:f.default.resultName},void 0,r.name),h(u.default,{type:u.default.Types.DIRECTORY_SEARCH,sku:r,inLibrary:c,className:f.default.price,iconClass:f.default.iconClass})))};t.ApplicationResult=v,v.displayName="ApplicationResult";var m=function(e){var t=e.onViewAllGamesClick;return h("div",{className:f.default.empty},void 0,h("div",{className:f.default.emptyTitle},void 0,c.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),h("div",{className:f.default.emptyNote},void 0,c.default.Messages.APPLICATION_STORE_SEARCH_EMPTY.format({goToGuildDiscovery:function(){return l.default.transitionTo(d.Routes.GUILD_DISCOVERY)}})),h(o.default,{tag:"a",onClick:t,className:f.default.allGamesContainer},void 0,c.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,h(i.default,{name:i.default.Names.RIGHT_CARET,className:f.default.caret})))};t.ApplicationResultsEmpty=m,m.displayName="ApplicationResultsEmpty"},6914:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=h(n(840)),s=h(n(6040)),u=h(n(6261)),d=h(n(6629)),c=n(0),f=h(n(13)),p=h(n(5386));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.recommendedSkuIds,n=e.onSKUViewed;return v("div",{},void 0,v("h3",{className:p.default.categoryHeader},void 0,f.default.Messages.APPLICATION_STORE_RECOMMENDED_HEADER),v("div",{},void 0,v(d.default,{tileWidth:c.PREMIUM_HOME_TILE_WIDTH,tileMargin:c.PREMIUM_HOME_TILE_MARGIN},void 0,v(u.default,{tileClassName:p.default.homeTile,skuIds:t,onSKUViewed:n,maxTiles:10,wrap:!1}))))};m.displayName="RecommendedApplications";var y=(0,s.default)((0,l.default)(c.Experiments.PREMIUM_HOME_RECOMMENDED_APPLICATIONS,"Show Recommended Listings",["Control: No recommended applications","Treatment 1: Recommended applications"]),((a={})[c.ExperimentTypes.NONE]=function(){return null},a[c.ExperimentTypes.USER]=((r={})[c.ExperimentBuckets.CONTROL]=function(){return null},r[c.ExperimentBuckets.TREATMENT_1]=function(e){return i.createElement(m,e)},r),a));t.default=y,e.exports=t.default},6915:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(2)),o=O(n(17)),i=n(78),l=O(n(826)),s=n(6081),u=I(n(302)),d=O(n(5993)),c=O(n(41)),f=O(n(176)),p=I(n(6147)),h=O(n(18)),v=n(106),m=O(n(6131)),y=O(n(6916)),_=I(n(6917)),g=O(n(6920)),E=O(n(6921)),S=n(0),T=O(n(5549));function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={visibleIndex:0,isVisible:!0},t._nextTimeout=new i.Timeout,t.trackViewedItem=function(){var e=t.state.visibleIndex,n=t.props,r=n.items,a=n.analyticsContext,o=a.loadId,i=a.location,l=r[e];if(null!=l){var s={card_index:e,load_id:o,location:i};if(null==l.skuId)h.default.track(S.AnalyticEvents.STORE_DIRECTORY_HERO_VIEWED,N({},s));else{var u=f.default.get(l.skuId);if(null==u)return;var d=c.default.getGame(u.applicationId);if(null==d)return;h.default.track(S.AnalyticEvents.STORE_DIRECTORY_HERO_VIEWED,N({},s,{card_type:"application",application_id:d.id,sku_id:l.skuId}))}}},t.prevItem=function(){var e=t.state.visibleIndex,n=t.props.items;0===e?t.setState({visibleIndex:n.length-1}):t.setState({visibleIndex:e-1})},t.nextItem=function(){var e=t.props.items,n=t.state.visibleIndex;t.setState({visibleIndex:(n+1)%e.length})},t.handleSetItem=function(e){t.setState({visibleIndex:e})},t.handleVisibilityChange=function(e){t.setState({isVisible:e})},t.handleApplicationContextMenu=function(e,t){u.openContextMenu(e,function(e){return a.createElement(m.default,N({},e,{type:S.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},t.renderHero=function(e,n){var r=t.props,a=r.analyticsContext,o=r.isWindowFocused;return C(_.default,{backgroundOverride:e.background,media:null!=e.skuId||null!=e.fullVideo||null!=e.previewVideo||null!=e.thumbnail?C(g.default,{heroCarouselItem:e,forcePaused:!t.state.isVisible||!o,analyticsContext:a,onEnd:t.nextItem}):null,description:C(y.default,{heroCarouselItem:e,analyticsContext:a,onContextMenu:t.handleApplicationContextMenu}),skuId:e.skuId},e.skuId||n)},t.renderPaginationItem=function(e,n){var r=t.state.visibleIndex===n;return C(_.HeroCarouselPaginationItem,{selected:r,pagination:C(E.default,{skuId:e.skuId,customTitle:e.title,customPaginationImage:e.paginationImage})},e.skuId||n)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.componentDidMount=function(){this.trackViewedItem(),this.maybeScheduleNextItem(),v.ComponentDispatch.subscribe(S.ComponentActions.CAROUSEL_PREV,this.prevItem),v.ComponentDispatch.subscribe(S.ComponentActions.CAROUSEL_NEXT,this.nextItem)},d.componentDidUpdate=function(e,t){this.state.visibleIndex!==t.visibleIndex&&(this.trackViewedItem(),this.maybeScheduleNextItem())},d.componentWillUnmount=function(){this._nextTimeout.stop(),v.ComponentDispatch.unsubscribe(S.ComponentActions.CAROUSEL_PREV,this.prevItem),v.ComponentDispatch.unsubscribe(S.ComponentActions.CAROUSEL_NEXT,this.nextItem)},d.maybeScheduleNextItem=function(e){void 0===e&&(e=3e4);var t=this.state.visibleIndex,n=this.props.items[t];null!=n&&null==n.skuId&&null==n.previewVideo?this._nextTimeout.start(e,this.nextItem):this._nextTimeout.stop()},d.renderPagination=function(){var e=this.props.items,t=this.state.visibleIndex;return C("div",{className:T.default.paginationContainer},void 0,C("div",{className:T.default.pagination},void 0,C(p.CarouselPrevious,{className:T.default.prevArrow,onClick:this.prevItem}),C(p.default,{renderItem:this.renderPaginationItem,items:e,selectedIndex:t,onSetItem:this.handleSetItem}),C(p.CarouselNext,{className:T.default.nextArrow,onClick:this.nextItem})))},d.render=function(){var e=this.props,t=e.className,n=e.items,r=this.state.visibleIndex;return C(s.VisibilitySensor,{onChange:this.handleVisibilityChange},void 0,C("div",{className:(0,o.default)(T.default.heroCarousel,t)},void 0,C(l.default,{className:T.default.carouselContainer},void 0,this.renderHero(n[r],r)),this.renderPagination()))},r}(a.PureComponent);A.displayName="HeroCarousel";var M=(0,d.default)(A);t.default=M,e.exports=t.default},6916:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(4)),i=n(221),l=n(109),s=g(n(3)),u=g(n(176)),d=g(n(831)),c=g(n(124)),f=g(n(18)),p=n(127),h=g(n(6063)),v=g(n(6045)),m=n(0),y=g(n(13)),_=g(n(5544));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).trackLinkClicked=function(){var e=t.props,n=e.sku,r=e.analyticsContext,a=e.heroCarouselItem.url;null!=n?f.default.track(m.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,S({},n.getAnalyticsData(),{is_hero:!0,load_id:r.loadId,location:t.analyticsLocation})):null!=a&&(0,l.parse)(a).hash===m.PREMIUM_ROUTE_HASH&&f.default.track(m.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:r.location})},t.getLocation=function(){var e=t.props,n=e.sku,r=e.heroCarouselItem.url,a=e.analyticsContext;if(null!=r){var o=(0,l.parse)(r);return{pathname:o.pathname,hash:o.hash,search:o.search,state:{analyticsSource:a.location}}}return null!=n?(0,p.getStoreListingLocation)(n.id,{slug:n.slug,analyticsSource:t.analyticsLocation}):(console.error("Missing url or store listing location"),m.Routes.APPLICATION_STORE)},t.handleContextMenu=function(e){var n=t.props,r=n.sku,a=n.onContextMenu;null!=r&&null!=a&&a(e,r.applicationId)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,s,u,d=r.prototype;return d.getHeader=function(e){return null==e?null:e.exclusive?y.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD:e.premium?y.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_PREMIUM_GAME:null!=e.releaseDate&&e.releaseDate.isAfter((0,o.default)().subtract(2,"weeks"))?y.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_NEW_RELEASE:y.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_FEATURED_GAME},d.render=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.heroCarouselItem,a=r.description,o=r.title,l=r.header,s=r.buttonLabel,u=this.getLocation();return E("div",{className:_.default.itemDescription},void 0,E("h2",{className:_.default.header},void 0,null!=l?l:this.getHeader(t)),E(i.Link,{to:u,onClick:this.trackLinkClicked,onContextMenu:this.handleContextMenu},void 0,E("h1",{className:_.default.title},void 0,o||(null!=t?t.name:null))),E("div",{className:_.default.tagline},void 0,a||(null!=n?n.tagline:"")),E("div",{className:null!=t&&t.isOnSale?_.default.actionsContainerSale:_.default.actionsContainerNormal},void 0,null!=t&&t.requiresPayment?E(v.default,{type:v.default.Types.DIRECTORY_HERO,sku:t,inLibrary:!1,className:_.default.price}):null!=t?E("div",{className:_.default.buyButtonWrapper},void 0,E(h.default,{skuId:t.id,applicationId:t.applicationId,size:c.default.Sizes.SMALL,onStoreListing:!0})):null,E(c.default.Link,{to:u,onClick:this.trackLinkClicked,look:c.default.Looks.OUTLINED,color:c.default.Colors.WHITE,className:null!=t&&t.isOnSale?_.default.learnMoreButtonSale:_.default.learnMoreButton},void 0,s||y.default.Messages.APPLICATION_STORE_HERO_CAROUSEL_LEARN_MORE)))},a=r,(s=[{key:"analyticsLocation",get:function(){return S({},this.props.analyticsContext.location,{object:m.AnalyticsObjects.CAROUSEL})}}])&&T(a.prototype,s),u&&T(a,u),r}(a.PureComponent);O.displayName="HeroCarouselApplicationDescription";var I=s.default.connectStores([d.default,u.default],function(e){var t=e.heroCarouselItem.skuId,n=null!=t?u.default.get(t):null;return{sku:n,storeListing:null!=n?d.default.getForSKU(n.id):null}})(O);t.default=I,e.exports=t.default},6917:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.HeroCarouselPaginationItem=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(303)),l=c(n(219)),s=c(n(6918)),u=c(n(6919)),d=c(n(5546));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=300,v=i.default.Easing.bezier(.17,.67,.16,.99),m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._animatedItemContainer=new i.default.Value(1),t._animatedMedia=new i.default.Value(1),t.state={playing:!1,videoError:!1},t.componentWillEnter=function(e){t._animatedMedia.setValue(0),t._animatedItemContainer.setValue(0),i.default.parallel([i.default.timing(t._animatedMedia,{toValue:1,duration:400}),i.default.timing(t._animatedItemContainer,{toValue:1,delay:150,duration:350})]).start(e)},t.componentWillLeave=function(e){i.default.parallel([i.default.timing(t._animatedMedia,{toValue:0,delay:25,duration:h}),i.default.timing(t._animatedItemContainer,{toValue:0,duration:h})]).start(e)},t}p(t,e);var n=t.prototype;return n.getBackgroundStyle=function(){return i.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})},{scale:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[.98,1]})}]})},n.getDescriptionStyle=function(){return i.default.accelerate({transform:[{translateY:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:["-20px","0px"]})}]})},n.getMediaStyle=function(){return i.default.accelerate({transform:[{scale:this._animatedMedia.interpolate({inputRange:[0,1],outputRange:[.8,1],easing:v})}],opacity:this._animatedMedia.interpolate({inputRange:[0,.4,1],outputRange:[0,0,1],easing:v})})},n.getContainerStyle=function(){return i.default.accelerate({opacity:this._animatedItemContainer.interpolate({inputRange:[0,1],outputRange:[0,1],easing:i.default.Easing.out(i.default.Easing.ease)})})},n.renderMedia=function(e){return f(i.default.div,{style:this.getMediaStyle(),className:d.default.itemMedia},void 0,f(s.default,{},void 0,e))},n.render=function(){var e=this.props,t=e.description,n=e.skuId,r=e.backgroundOverride,a=e.media;return f(i.default.div,{className:d.default.carouselItem,style:this.getContainerStyle()},void 0,f(i.default.div,{className:d.default.itemBackground,style:this.getBackgroundStyle()},void 0,f(u.default,{skuId:n,backgroundOverride:r})),f("div",{className:d.default.itemBody},void 0,f(i.default.div,{className:d.default.itemDescriptionContainer,style:this.getDescriptionStyle()},void 0,t),null!=a?f("div",{className:d.default.itemMediaContainer},void 0,this.renderMedia(a)):null))},t}(a.PureComponent);m.displayName="HeroCarouselItem";var y=function(e){function t(){return e.apply(this,arguments)||this}return p(t,e),t.prototype.render=function(){var e,t=this.props,n=t.pagination,r=t.selected,a=t.onClick;return f(l.default,{onClick:a,className:(0,o.default)(d.default.paginationItemContainer,(e={},e[d.default.paginationSelected]=r,e))},void 0,n,r?f("div",{className:d.default.overlappingBorder}):null)},t}(a.PureComponent);t.HeroCarouselPaginationItem=y,y.displayName="HeroCarouselPaginationItem";var _=m;t.default=_},6918:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(96),l=(r=n(303))&&r.__esModule?r:{default:r},s=n(846);function u(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c={WebkitFontSmoothing:"subpixel-antialiased",MozFontSmoothing:"subpixel-antialiased",fontSmoothing:"subpixel-antialiased",backfaceVisibility:"hidden"},f={tension:50,friction:7},p=d({},f,{friction:4}),h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={width:t.props.width||0,height:t.props.height||0},t.horizontalRotation=new l.default.Value(0),t.verticalRotation=new l.default.Value(0),t.scale=new l.default.Value(1),t.handleMouseEnter=function(){var e=t.props.hoverScale;t.animateTo({scaleValue:e})},t.handleMouseMove=function(e){var n=e.clientX,r=e.clientY,a=e.currentTarget,o=t.state,i=o.width,l=o.height,s=a.getBoundingClientRect(),u=s.top,d=-1*((n-s.left)/i*2-1),c=(r-u)/l*2-1;t.animateTo({horizontalValue:d,verticalValue:c})},t.handleMouseLeave=function(){t.animateTo({horizontalValue:0,verticalValue:0,scaleValue:1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){if(0===this.state.width||0===this.state.height){var e=(0,i.findDOMNode)(this);if(e instanceof HTMLElement){var t=e.getBoundingClientRect(),n=t.width,r=t.height;this.setState({width:n,height:r})}}},a.animateTo=function(e){var t=e.horizontalValue,n=e.verticalValue,r=e.scaleValue,a=this.horizontalRotation,o=this.verticalRotation,i=this.scale;null!=r&&l.default.spring(i,d({},p,{toValue:r})).start(),null!=t&&l.default.spring(a,d({},f,{toValue:t})).start(),null!=n&&l.default.spring(o,d({},f,{toValue:n})).start()},a.getAnimatedStyle=function(){var e=this.horizontalRotation,t=this.verticalRotation,n=this.scale,r=this.props.interpolateLengthToAngle,a=this.state,o=a.width,i=a.height;return l.default.accelerate(d({},c,{transform:[{rotateX:t.interpolate({inputRange:[0,1],outputRange:["0deg",r(i)+"deg"]})},{rotateY:e.interpolate({inputRange:[0,1],outputRange:["0deg",r(o)+"deg"]})},{scale:n}]}))},a.render=function(){var e=this.state,t=e.width,n=e.height,r=this.props.children;return s.isMobile||s.isTablet?r:u("div",{style:function(e){return d({transform:"perspective("+2*e+"px)",transformStyle:"preserve-3d"},c)}(Math.max(t,n)),onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,u(l.default.div,{style:this.getAnimatedStyle()},void 0,r))},r}(o.Component);h.displayName="HoverCard",h.defaultProps={hoverScale:1.015,interpolateLengthToAngle:function(e){return-.0030075188*e+6.8120300752}};var v=h;t.default=v,e.exports=t.default},6919:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(3)),i=f(n(176)),l=f(n(831)),s=n(6470),u=n(127),d=n(0),c=f(n(5545));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getBackgroundStyle=function(){var e,t=this.props,n=t.backgroundOverride,r=t.applicationId,a=t.storeListing;return{backgroundImage:null!=(e=null!=n?(0,u.getAssetURL)(r||d.CustomDiscordApplicationId,n,1280):null!=a&&null!=a.heroBackground?(0,u.getAssetURL)(r,a.heroBackground,1280,"jpg"):(0,s.getApplicationBackground)(r))?"url("+e+")":null}},o.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:c.default.itemBackground,style:this.getBackgroundStyle()})},a}(a.PureComponent);p.displayName="HeroCarouselBackground";var h=o.default.connectStores([i.default,l.default],function(e){var t=e.skuId,n=null!=t?i.default.get(t):null;return{applicationId:null!=n?n.applicationId:null,storeListing:null!=n?l.default.getForSKU(n.id):null}})(p);t.default=h,e.exports=t.default},6920:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(3)),i=_(n(176)),l=_(n(831)),s=_(n(219)),u=_(n(6117)),d=_(n(6089)),c=_(n(18)),f=n(6470),p=n(106),h=n(127),v=n(0),m=_(n(13)),y=_(n(5547));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=400,T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._trailerRef=a.createRef(),t._previewRef=a.createRef(),t.state={trailerPlaying:!1,trailerVideoError:!1,showTrailer:!1},t.handleTilePlaying=function(e){!e.muted&&t.state.trailerPlaying&&t.setState({trailerPlaying:!1})},t.handleUpdatePlayPreview=function(e){var n=t._previewRef.current;null!=n&&(e?n.play():n.pause())},t.handleUpdatePlayTrailer=function(e){var n=t._trailerRef.current;null!=n&&n.setPlay(e)},t.handleTrailerError=function(){t.setState({trailerVideoError:!0})},t.handlePlay=function(){t.setState({trailerPlaying:!0});var e=t.props,n=e.sku,r=e.analyticsContext;null!=n&&c.default.track(v.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,E({},n.getAnalyticsData(),{is_hero:!0,watch_trailer:!0,load_id:r.loadId,location:r.location}))},t.handlePause=function(){t.setState({trailerPlaying:!1})},t.getThumbnailAsset=function(){var e=t.props,n=e.heroCarouselItem.thumbnail,r=e.storeListing;return null!=n?n:null!=r&&null!=r.thumbnail?r.thumbnail:null},t.getPreviewVideoAsset=function(){var e=t.props,n=e.heroCarouselItem.previewVideo,r=e.storeListing;return null!=n?n:null!=r&&null!=r.previewVideo?r.previewVideo:null},t.getFullVideoUrl=function(e){var n=t.props,r=n.heroCarouselItem.fullVideo,a=n.storeListing;return null!=r?(0,h.getAssetURL)(e,r):null!=a&&null!=a.heroVideo?(0,h.getAssetURL)(e,a.heroVideo):(0,f.getApplicationTrailer)(e)},t.renderTrailer=function(e){var n=t.props.onEnd,r=t.getFullVideoUrl(e),o=t.getThumbnailAsset(),i=t.getPreviewVideoAsset();return a.createElement(u.default,{width:"100%",height:"100%",ref:t._trailerRef,className:y.default.itemTrailer,poster:o?(0,h.getAssetURL)(e,o,S):null,onError:t.handleTrailerError,src:t.state.trailerVideoError&&null!=i?(0,h.getAssetURL)(e,i):r,type:u.default.Types.VIDEO,onPlay:t.handlePlay,onPause:t.handlePause,onEnd:n})},t.renderPreview=function(e){var n=t.props,r=n.onEnd,o=n.forcePaused,i=t.getPreviewVideoAsset();return null==i?t.renderThumbnail(e):g("div",{className:y.default.itemPreviewContainer},void 0,g("div",{className:y.default.playContainer},void 0,g(d.default,{className:y.default.playPill,onPlay:t.showTrailer,playText:t.state.trailerVideoError?null:m.default.Messages.PLAY_FULL_VIDEO})),a.createElement("video",{ref:t._previewRef,className:y.default.itemPreview,muted:!0,autoPlay:!o,playsInline:!0,onEnded:r},g("source",{src:(0,h.getAssetURL)(e,i),type:"video/mp4"})))},t.renderThumbnail=function(e){var n=t.getThumbnailAsset();return null==n?null:g("div",{className:y.default.itemPreviewContainer},void 0,g("div",{className:y.default.itemPreview,style:{backgroundImage:"url("+(0,h.getAssetURL)(e,n,S)+")"}}))},t.showTrailer=function(e){e.preventDefault(),e.stopPropagation(),t.state.showTrailer||t.setState({showTrailer:!0,trailerPlaying:!0})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){return t.showTrailer&&e.forcePaused&&t.trailerPlaying?{trailerPlaying:!1}:null};var o=r.prototype;return o.componentWillUnmount=function(){p.ComponentDispatch.unsubscribe(v.ComponentActions.STORE_VIDEO_PLAY,this.handleTilePlaying)},o.componentDidMount=function(){p.ComponentDispatch.subscribe(v.ComponentActions.STORE_VIDEO_PLAY,this.handleTilePlaying)},o.componentDidUpdate=function(e){var t=this.props.forcePaused;this.state.showTrailer&&this.handleUpdatePlayTrailer(this.state.trailerPlaying),this.props.forcePaused!==e.forcePaused&&this.handleUpdatePlayPreview(!t)},o.render=function(){var e=this.state.showTrailer,t=this.props,n=t.sku,r=null==t.heroCarouselItem.skuId?v.CustomDiscordApplicationId:null!=n?n.applicationId:null;return null==r?null:g(s.default,{className:y.default.applicationMedia,onClick:this.showTrailer},void 0,e?this.renderTrailer(r):null!=this.getPreviewVideoAsset()?this.renderPreview(r):this.renderThumbnail(r))},r}(a.Component);T.displayName="HeroCarouselMedia";var O=o.default.connectStores([l.default,i.default],function(e){var t=e.heroCarouselItem.skuId,n=null!=t?i.default.get(t):null;return{sku:n,storeListing:null!=n?l.default.getForSKU(n.id):null}})(T);t.default=O,e.exports=t.default},6921:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=d(n(3)),o=d(n(176)),i=d(n(831)),l=n(127),s=n(0),u=d(n(5548));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.sku,n=e.storeListing,a=e.customTitle,o=e.customPaginationImage,i=null!=a?a:null!=t?t.name:null,d=null!=t?t.applicationId:s.CustomDiscordApplicationId,c=null!=o?o:null!=n?n.thumbnail:null;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("img",{className:u.default.paginationItem,src:null!=c?(0,l.getAssetURL)(d,c,80):null,alt:i})};c.displayName="HeroCarouselPagination";var f=a.default.connectStores([i.default,o.default],function(e){var t=e.skuId,n=null!=t?o.default.get(t):null;return{sku:n,storeListing:null!=n?i.default.getForSKU(n.id):null}})(c);t.default=f,e.exports=t.default},6922:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(841),l=(r=n(6714))&&r.__esModule?r:{default:r};n(6051);var s=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.storeListingId,a=n.skuId,o=n.applicationId,l=null!=e?e:a;null!=r?(0,i.fetchStoreListingById)(r):null!=l?(0,i.fetchStoreListingForSku)(l):null!=o&&(0,i.fetchStoreListingForApplication)(o)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.fetchStoreListing()},o.render=function(){var e=this.props,t=e.skuId,n=e.applicationId,r=e.slug,o=e.storeListingId,i=e.pageSize,s=e.location;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{inputSkuId:t,applicationId:n,fetchStoreListing:this.fetchStoreListing,slug:r,storeListingId:o,location:s,pageSize:i})},r}(o.Component);s.displayName="DirectoryStoreListing";var u=s;t.default=u,e.exports=t.default},6923:function(e,t,n){"use strict";t.__esModule=!0,t.fetchStatisticsForApplication=function(e){return u.apply(this,arguments)};var r=l(n(8)),a=l(n(1)),o=l(n(190)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function u(){var e;return e=regeneratorRuntime.mark(function e(t){var n,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:i.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_START,applicationId:t}),e.prev=1,e.next=4,r.default.get(i.Endpoints.APPLICATION_ACTIVITY_STATISTICS(t));case 4:return n=e.sent,l=n.body,a.default.dispatch({type:i.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:l,applicationId:t}),e.abrupt("return",l);case 10:throw e.prev=10,e.t0=e.catch(1),a.default.dispatch({type:i.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL,applicationId:t}),new o.default(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}),(u=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){s(o,r,a,i,l,"next",e)}function l(e){s(o,r,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}},6924:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=Object.freeze({THING:"Thing",PERSON:"Person",PRODUCT:"Product",OFFER:"Offer",AGGREGATE_OFFER:"AggregateOffer",RATING:"Rating",AGGREGATE_RATING:"AggregateRating",ORGANIZATION:"Organization",ITEM_PAGE:"ItemPage",UNIT_PRICE_SPECIFICATION:"UnitPriceSpecification",QUANTITATIVE_VALUE:"QuantitativeValue"});function l(e){return function e(t){return Object.keys(t).forEach(function(n){null==t[n]?delete t[n]:"object"==typeof t[n]?t[n]=e(t[n]):t[n]=t[n]}),t}(function(e){var t;try{t=JSON.parse(JSON.stringify(e))}catch(e){throw new Error("[JSONLD] Invalid object format")}return t}(e))}function s(e,t){return o({"@type":e},l(t))}function u(e){return s(i.THING,e)}var d=u;function c(e){return s(i.PRODUCT,e)}c.Image=function(e){if(null==e)return null;var t=e.filter(function(e){return null!=e&&""!==e});return 0===t.length?null:1===t.length?t[0]:t};var f=Object.freeze({DAMAGED:"http://schema.org/DamagedCondition",NEW:"http://schema.org/NewCondition",REFURBISHED:"http://schema.org/RefurbishedCondition",USED:"http://schema.org/UsedCondition"}),p=Object.freeze({DISCONTINUED:"http://schema.org/Discontinued",IN_STOCK:"http://schema.org/InStock",IN_STORE_ONLY:"http://schema.org/InStoreOnly",LIMITED_AVAILABILITY:"http://schema.org/LimitedAvailability",ONLINE_ONLY:"http://schema.org/OnlineOnly",OUT_OF_STOCK:"http://schema.org/OutOfStock",PREORDER:"http://schema.org/PreOrder",PRESALE:"http://schema.org/PreSale",SOLD_OUT:"http://schema.org/SoldOut"});function h(e){return s(i.OFFER,e)}h.ItemConditions=f,h.ItemAvailability=p;var v=Object.freeze({ANNUAL:"ANN",MONTHLY:"MON"});function m(e){return s(i.QUANTITATIVE_VALUE,e)}m.UnitCodes=v;var y=function(e){var t,n;function a(){return e.apply(this,arguments)||this}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props,t=(e.debug,e.data);return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("script",{type:"application/ld+json"},void 0,JSON.stringify(o({"@context":"http://schema.org"},t)))},a}(a.Component);y.displayName="JSONLD",y.Thing=u,y.Brand=d,y.Person=function(e){return s(i.PERSON,e)},y.Organization=function(e){return s(i.ORGANIZATION,e)},y.ItemPage=function(e){return s(i.ITEM_PAGE,e)},y.Product=c,y.Offer=h,y.Rating=function(e){return s(i.RATING,e)},y.AggregateRating=function(e){return s(i.AGGREGATE_RATING,e)},y.AggregateOffer=function(e){return s(i.AGGREGATE_OFFER,e)},y.QuantitativeValue=m,y.UnitPriceSpecification=function(e){return s(i.UNIT_PRICE_SPECIFICATION,e)};var _=y;t.default=_,e.exports=t.default},6925:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=(r=n(5550))&&r.__esModule?r:{default:r};t.default=function(){return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:o.default.divider})},e.exports=t.default},6926:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(f(n(835)),f(n(6020))),l=f(n(6927)),s=f(n(148)),u=n(0),d=f(n(13)),c=f(n(5552));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=((r={})[u.ContentRatingAgencies.ESRB]={1:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ALCOHOL_REFERENCE,2:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_ANIMATED_BLOOD,3:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD,4:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_BLOOD_AND_GORE,5:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CARTOON_VIOLENCE,6:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_COMIC_MISCHIEF,7:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_CRUDE_HUMOR,8:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_DRUG_REFERENCE,9:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_FANTASY_VIOLENCE,10:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_INTENSE_VIOLENCE,11:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LANGUAGE,12:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_LYRICS,13:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_MATURE_HUMOR,14:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_NUDITY,15:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_PARTUAL_NUDITY,16:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_REAL_GAMBLING,17:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_CONTENT,18:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_THEMES,19:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SEXUAL_VIOLENCE,20:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SIMULATED_GAMBLING,21:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LANGUAGE,22:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_LYRICS,23:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_STRONG_SEXUAL_CONTENT,24:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SUGGESTIVE_THEMES,25:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_TOBACCO_REFERENCE,26:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_ALCOHOL,27:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_DRUGS,28:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USE_OF_TOBACCO,29:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENCE,30:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_VIOLENT_REFERENCES,31:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_IN_GAME_PURCHASES,32:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_USERS_INTERACT,33:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_SHARES_LOCATION,34:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_ESRB_UNRESTRICTED_INTERNET},r[u.ContentRatingAgencies.PEGI]={1:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_VIOLENCE,2:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_BAD_LANGUAGE,3:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_FEAR,4:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_GAMBLING,5:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_SEX,6:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DRUGS,7:d.default.Messages.APPLICATION_STORE_RATING_DESCRIPTORS_PEGI_DISCRIMINATION},r),v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderContentRatingImage=function(){var e=this.props.sku,t=e.contentRating,n=e.contentRatingAgency;return null==t||null==n?null:p(l.default,{className:c.default.rating,agency:n,rating:t.rating})},a.render=function(){var e=this.props,t=e.sku,n=t.contentRating,r=t.contentRatingAgency,a=e.className;if(null==n||null==r)return null;var o=n.descriptors.map(function(e){return h[r][e]}).join(", ");return p("div",{className:a},void 0,p(i.default,{},void 0,d.default.Messages.APPLICATION_STORE_SECTION_TITLE_RATINGS),p(s.default,{className:c.default.content},void 0,this.renderContentRatingImage(),p("div",{className:c.default.info},void 0,o)))},r}(o.PureComponent);v.displayName="ApplicationContentRating";var m=v;t.default=m,e.exports=t.default},6927:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.Categories=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o,i,l=d(n(17)),s=n(0),u=d(n(5551));function d(e){return e&&e.__esModule?e:{default:e}}var c={ESRB:{EVERYONE:"1",EVERYONE_TEN_PLUS:"2",TEEN:"3",MATURE:"4",ADULT:"5",RATING_PENDING:"6"},PEGI:{THREE:"1",SEVEN:"2",TWELVE:"3",SIXTEEN:"4",EIGHTEEN:"5"}};t.Categories=c;var f=((o={})[s.ContentRatingAgencies.ESRB]=((r={})[c.ESRB.EVERYONE]=u.default.esrbEveryone,r[c.ESRB.EVERYONE_TEN_PLUS]=u.default.esrbEveryoneTenPlus,r[c.ESRB.TEEN]=u.default.esrbTeen,r[c.ESRB.MATURE]=u.default.esrbMature,r[c.ESRB.ADULT]=u.default.esrbAdult,r[c.ESRB.RATING_PENDING]=u.default.esrbRatingPending,r),o[s.ContentRatingAgencies.PEGI]=((a={})[c.PEGI.THREE]=u.default.pegiThree,a[c.PEGI.SEVEN]=u.default.pegiSeven,a[c.PEGI.TWELVE]=u.default.pegiTwelve,a[c.PEGI.SIXTEEN]=u.default.pegiSixteen,a[c.PEGI.EIGHTEEN]=u.default.pegiEighteen,a),o),p=function(e){var t=e.agency,n=e.rating,r=e.className,a=f[t][n];return null==a?null:function(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,l.default)(u.default.contentRating,a,r)})};p.displayName="ContentRating";var h=p;t.default=h},6928:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(187)),l=p(n(124)),s=p(n(6020)),u=p(n(6763)),d=n(127),c=p(n(13)),f=p(n(5553));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=/^!\[([^\]]*)\]\(asset:\/\/(\d+)\)/,y=v({},u.default.rules,{heading:v({},u.default.rules.heading,{react:function(e,t,n){var r="h"+Math.min(Math.max(2,e.level+1),4);return h(s.default,{tag:r},n.key,t(e.content,n))}}),assetImage:{order:5,match:function(e,t){var n=e.match(m);if(null!=n){var r=n[2],a=t.assets.find(function(e){return e.id===r});return null!=a&&[].concat(n,[a,t.applicationId])}return!1},parse:function(e){return{asset:e[3],alt:e[1],applicationId:e[4]}},react:function(e,t,n){return h("div",{className:f.default.assetWrapper},n.key,h("img",{alt:e.alt,src:(0,d.getAssetURL)(e.applicationId,e.asset,800),className:f.default.asset}))}}}),_=i.default.parserFor(y),g=i.default.ruleOutput(y,"react"),E=i.default.reactFor(g),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={collapsed:!0,collapsable:!0},t.handleToggleCollapse=function(){t.setState({collapsed:!t.state.collapsed})},t.setContentContainerRef=function(e){t._container=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){if(null!=this._container){var e=this._container.getBoundingClientRect().height>400;this.setState({collapsable:e})}},i.render=function(){var e,t=this.props,n=t.applicationId,r=t.description,i=t.blurb,s=t.className,d=t.assets,p=this.state,v=p.collapsed,m=p.collapsable;return h("div",{className:s},void 0,h("div",{className:(0,o.default)((e={},e[f.default.collapsed]=m&&v,e))},void 0,a.createElement("div",{ref:this.setContentContainerRef},h("div",{className:f.default.blurb},void 0,i),h(u.default,{className:f.default.description,parser:_,output:E,state:{assets:d,applicationId:n}},void 0,r))),m?h(l.default,{className:f.default.toggleCollapseButton,onClick:this.handleToggleCollapse,color:l.default.Colors.PRIMARY},void 0,v?c.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_MORE:c.default.Messages.APPLICATION_STORE_DESCRIPTION_READ_LESS):null)},r}(a.PureComponent);S.displayName="ApplicationDescription";var T=S;t.default=T,e.exports=t.default},6929:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(6020)),i=c(n(301)),l=c(n(437)),s=n(0),u=c(n(13)),d=c(n(5554));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=[{feature:s.SKUFeatureTypes.SINGLE_PLAYER,getText:function(){return u.default.Messages.APPLICATION_STORE_SINGLE_PLAYER},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_SINGLE_PLAYER_TOOLTIP},iconName:i.default.Names.PERSON},{feature:s.SKUFeatureTypes.LOCAL_MULTIPLAYER,getText:function(){return u.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_LOCAL_MULTIPLAYER_TOOLTIP},iconName:i.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_MULTIPLAYER,getText:function(){return u.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_ONLINE_MULTIPLAYER_TOOLTIP},iconName:i.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.PVP,getText:function(){return u.default.Messages.APPLICATION_STORE_PVP},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_PVP_TOOLTIP},iconName:i.default.Names.MODERATION},{feature:s.SKUFeatureTypes.LOCAL_COOP,getText:function(){return u.default.Messages.APPLICATION_STORE_LOCAL_COOP},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_LOCAL_COOP_TOOLTIP},iconName:i.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.ONLINE_COOP,getText:function(){return u.default.Messages.APPLICATION_STORE_ONLINE_COOP},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_ONLINE_COOP_TOOLTIP},iconName:i.default.Names.PEOPLE},{feature:s.SKUFeatureTypes.CROSS_PLATFORM,getText:function(){return u.default.Messages.APPLICATION_STORE_CROSS_PLATFORM},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_CROSS_PLATFORM_TOOLTIP},iconName:i.default.Names.SYNCED},{feature:s.SKUFeatureTypes.RICH_PRESENCE,getText:function(){return u.default.Messages.APPLICATION_STORE_RICH_PRESENCE},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_RICH_PRESENCE_TOOLTIP},iconName:i.default.Names.RICH_ACTIVITY},{feature:s.SKUFeatureTypes.DISCORD_GAME_INVITES,getText:function(){return u.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_DISCORD_GAME_INVITES_TOOLTIP},iconName:i.default.Names.PLUS_CIRCLE_PLAY},{feature:s.SKUFeatureTypes.SPECTATOR_MODE,getText:function(){return u.default.Messages.APPLICATION_STORE_SPECTATOR_MODE},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_SPECTATOR_MODE_TOOLTIP},iconName:i.default.Names.VIDEO_CAMERA},{feature:s.SKUFeatureTypes.CONTROLLER_SUPPORT,getText:function(){return u.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_CONTROLLER_SUPPORT_TOOLTIP},iconName:i.default.Names.GAMEPAD},{feature:s.SKUFeatureTypes.CLOUD_SAVES,getText:function(){return u.default.Messages.APPLICATION_STORE_CLOUD_SAVES},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_CLOUD_SAVES_TOOLTIP},iconName:i.default.Names.CLOUD},{feature:s.SKUFeatureTypes.SECURE_NETWORKING,getText:function(){return u.default.Messages.APPLICATION_STORE_SECURE_NETWORKING},getTooltip:function(){return u.default.Messages.APPLICATION_STORE_SECURE_NETWORKING_TOOLTIP},iconName:i.default.Names.SECURE_NETWORKING}],h=function(e){var t=e.iconName,n=e.text,r=e.tooltip;return f("div",{className:d.default.row},void 0,f(l.default,{text:r},void 0,f(i.default,{name:t,className:d.default.featureIcon})),f("span",{className:d.default.featureText},void 0,n),f(i.default,{name:i.default.Names.CHECKMARK,className:d.default.checkmarkIcon}))};h.displayName="ApplicationFeature";var v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.sku,t=p.filter(function(t){var n=t.feature;return e.features.has(n)}).map(function(e){var t=e.feature,n=e.iconName,r=e.getText,a=e.getTooltip;return f(h,{iconName:n,text:r(),tooltip:a()},t)});return 0===t.length?null:f("div",{className:d.default.features},void 0,f(o.default,{},void 0,u.default.Messages.APPLICATION_STORE_SECTION_TITLE_FEATURES),t)},r}(a.PureComponent);v.displayName="ApplicationFeatureFlags";var m=v;t.default=m,e.exports=t.default},6930:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(s(n(835)),s(n(6020))),i=s(n(13)),l=s(n(5555));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.sku;return null==n.legalNotice?null:u("div",{className:t},void 0,u(o.default,{},void 0,i.default.Messages.APPLICATION_STORE_SECTION_TITLE_COPYRIGHT),u("div",{className:l.default.content},void 0,n.legalNotice))},r}(a.PureComponent);d.displayName="ApplicationLegalInfo";var c=d;t.default=c,e.exports=t.default},6931:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=m(n(3)),l=m(n(179)),s=m(n(77)),u=m(n(852)),d=m(n(6631)),c=m(n(124)),f=m(n(6020)),p=m(n(6932)),h=m(n(13)),v=m(n(5558));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleViewAllClick=function(){var e=t.props.application;s.default.push(p.default,{application:e})},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this.props,t=e.isFetched,n=e.application;t||r(function(){return l.default.getGameNews([n.id])})},o.render=function(){var e=this.props,t=e.application,n=e.news,r=e.className,a=n.length>4;return 0===n.length?null:y("div",{className:r},void 0,y(f.default,{},void 0,h.default.Messages.APPLICATION_STORE_SECTION_TITLE_NEWS),n.slice(0,4).map(function(e,n){return y(d.default,{game:t,news:e,collapsed:0!==n},e.url)}),a?y(c.default,{className:v.default.viewAllButton,size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,onClick:this.handleViewAllClick},void 0,h.default.Messages.APPLICATION_STORE_VIEW_ALL_NEWS):null)},a}(o.Component);_.displayName="ApplicationNews";var g=i.default.connectStores([u.default],function(e){var t=e.application;return{news:u.default.getByGameId(t.id),isFetched:u.default.isFetched(t.id)}})(_);t.default=g,e.exports=t.default}).call(this,n(29).setImmediate)},6932:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(3)),i=p(n(77)),l=p(n(852)),s=p(n(6631)),u=p(n(148)),d=p(n(220)),c=p(n(13)),f=p(n(5557));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){i.default.pop()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.application,n=e.news;return h(d.default,{size:d.default.Sizes.LARGE,className:f.default.modal},void 0,h(d.default.Header,{justify:u.default.Justify.BETWEEN},void 0,h("div",{},void 0,h("div",{className:f.default.headerTitle},void 0,t.name),h("div",{className:f.default.headerSubtitle},void 0,c.default.Messages.APPLICATION_STORE_ALL_NEWS)),h(d.default.CloseButton,{onClick:this.close})),h(d.default.Content,{},void 0,n.map(function(e){return h(s.default,{game:t,news:e,collapsed:!1},e.url)})))},r}(a.PureComponent);v.displayName="ApplicationAllNewsModal";var m=o.default.connectStores([l.default],function(e){var t=e.application;return{news:l.default.getByGameId(t.id)}})(v);t.default=m,e.exports=t.default},6933:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=c(n(77)),o=c(n(838)),i=c(n(6632)),l=c(n(6935)),s=c(n(6937)),u=n(0),d=n(6051);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var h=2048;function v(e){return e.split("?")[0]+"?size="+h}var m=function(e){var t=e.index,n=e.items,a=p(e,["index","items"]),o=n[t],i=0,s=[],d=n,c=Array.isArray(d),h=0;for(d=c?d:d[Symbol.iterator]();;){var m;if(c){if(h>=d.length)break;m=d[h++]}else{if((h=d.next()).done)break;m=h.value}var y=m;if(y.type===u.CarouselMediaTypes.IMG){var _=y.width,g=y.height,E=y.src;y===o&&(i=s.length),s.push({src:v(E),width:_,height:g})}}return r.createElement(l.default,f({},a,{items:s,startWith:i}))};m.displayName="ZoomedCarousel";var y=function(e){var t,n;function l(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))||this).handleCurrentItemClick=function(e,n){e.type!==u.CarouselMediaTypes.IMG||o.default.hasModalOpen()||a.default.push(function(e){return r.createElement(m,f({},e,{index:n,items:t.props.items}))})},t}return n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,l.prototype.render=function(){var e=this.props,t=e.pageSize,n=p(e,["pageSize"]),a=t===d.PageSizes.SMALL?s.default:i.default;return r.createElement(a,f({},n,{onCurrentItemClick:this.handleCurrentItemClick}))},l}(r.Component);y.displayName="ApplicationStoreListingCarousel";var _=y;t.default=_,e.exports=t.default},6934:function(e,t,n){"use strict";t.__esModule=!0,t.normalizeIndex=p,t.default=t.CarouselWithPreview=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(303)),l=u(n(6011)),s=u(n(5559));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={tension:7,friction:5,overshootClamping:!0};function p(e,t){return(e%t+t)%t}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).animatedIndex=new i.default.Value(t.props.currentIndex),t.animatedOpacity=new i.default.Value(1),t.getItemStyle=function(){var e=t.props.itemSize,n=e.width;return{flexBasis:n,marginRight:e.margin,height:e.height,width:n}},t.interpolateValueForItem=function(e){return t.animatedIndex.interpolate({inputRange:[e-1,e,e+1],outputRange:[0,1,0],extrapolate:"clamp"})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){var t=this.props,n=t.currentIndex,r=t.items,a=p(n,r.length),o=p(e.currentIndex,r.length);a===o&&r.length===e.items.length||this.updateAnimatedIndex(a,o)},a.getCarouselTranslate=function(){var e=this.props,t=e.width,n=e.itemSize,r=e.edgeItems,a=(t-n.width)/2;return r*(n.width+n.margin)-a},a.animateToIndex=function(e,t){var n=this.animatedIndex,r=this.props.items;0===e&&t===r.length-1?n.setValue(-1):0===t&&e===r.length-1&&r.length>2&&n.setValue(r.length),i.default.spring(n,c({},f,{toValue:e})).start()},a.updateAnimatedIndex=function(e,t){var n=this.animatedIndex,r=this.animatedOpacity;this.props.animate?this.animateToIndex(e,t):i.default.timing(r,{fromValue:1,toValue:0,duration:100}).start(function(){n.setValue(e),i.default.timing(r,{fromValue:0,toValue:1,duration:100}).start()})},a.renderSingleItem=function(){var e=this.props,t=e.renderItem,n=e.items,r=e.itemSize,a=e.className;return d("div",{className:(0,o.default)(s.default.singleItemWrapper,s.default.viewport,a)},void 0,d("div",{className:s.default.singleItem,style:{width:r.width,height:r.height}},void 0,t(n[0],0)))},a.renderCarouselItems=function(){var e=this,t=this.animatedIndex,n=this.animatedOpacity,r=this.props,a=r.renderItem,o=r.items,l=r.itemSize,u=r.edgeItems,c=l.margin,f=l.width,p=this.getCarouselTranslate(),h=this.getItemStyle(),v=[].concat(o.slice(-u),o,o.slice(0,u)).map(function(t,n){return d("div",{style:h,className:s.default.item},n,a(t,n-u,e.interpolateValueForItem(n-u)))});return d(i.default.div,{className:s.default.carousel,style:{opacity:n,left:t.interpolate({inputRange:[0,1],outputRange:[-p,-c-f-p]})}},void 0,v)},a.render=function(){var e=this.props,t=e.items,n=e.className;if(t.length<=0)throw new Error("Carousel has no items");return 1===t.length?this.renderSingleItem():d("div",{className:(0,o.default)(s.default.viewport,n)},void 0,this.renderCarouselItems())},r}(a.Component);t.CarouselWithPreview=h,h.displayName="CarouselWithPreview",h.defaultProps={animate:!0,edgeItems:2};var v=(0,l.default)(h);t.default=v},6935:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(6257)),i=v(n(303)),l=v(n(826)),s=v(n(6138)),u=n(6936),d=v(n(6022)),c=n(6147),f=n(233),p=n(0),h=v(n(5561));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var g={friction:10,tension:100};function E(e,t){return(e%t+t)%t}var S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={translate:new i.default.Value(0),opacity:new i.default.Value(1)},t}_(t,e);var n=t.prototype;return n.componentWillEnter=function(e){var t=this.props.directionHistory,n=this.state,r=n.translate,a=n.opacity;r.setValue(t[t.length-1]),a.setValue(0),e(),i.default.parallel([i.default.timing(a,{toValue:1,easing:i.default.Easing.out(i.default.Easing.linear),duration:200}),i.default.spring(r,y({toValue:0},g))]).start()},n.componentWillLeave=function(e){var t=this.props.directionHistory,n=this.state,r=n.opacity,a=n.translate;i.default.parallel([i.default.timing(r,{toValue:0,easing:i.default.Easing.in(i.default.Easing.linear),duration:200}),i.default.spring(a,y({toValue:-1*t[t.length-1]},g))]).start(e)},n.getStyle=function(){var e=this.state,t=e.translate,n=e.opacity;return i.default.accelerate({opacity:n,transform:[{translateX:t.interpolate({inputRange:[0,1],outputRange:["0px","300px"]})}]})},n.render=function(){var e=this.props.item;return m(i.default.img,{src:e.src,alt:"",className:h.default.slide,style:this.getStyle()})},t}(a.Component);S.displayName="ModalCarouselItem";var T=function(e){function t(t){var n;return(n=e.call(this,t)||this).gotoNext=function(){var e=n.state.currentIndex;n.navigateTo(e+1)},n.gotoPrev=function(){var e=n.state.currentIndex;n.navigateTo(e-1)},n.state={currentIndex:t.startWith,directionHistory:[]},n}_(t,e);var n=t.prototype;return n.componentDidMount=function(){this.preloadNextImages(),d.default.disable(),d.default.enableTemp(u.MODAL_CAROUSEL_LAYOUT)},n.componentWillUnmount=function(){d.default.disableTemp()},n.preloadNextImages=function(){var e=this.state.currentIndex,t=this.props.items,n=E(e+1,t.length),r=E(e-1,t.length);this.preloadImage(t[n]),this.preloadImage(t[r])},n.preloadImage=function(e){(0,f.loadImage)(e.src)},n.componentDidUpdate=function(e,t){this.state.currentIndex!==t.currentIndex&&this.preloadNextImages()},n.navigateTo=function(e){var t=this.state,n=t.directionHistory,r=t.currentIndex;n.push(e-r),e=E(e,this.props.items.length),this.setState({currentIndex:e,directionHistory:n})},n.render=function(){var e=this.props.onClose,t=this.state,n=t.currentIndex,r=t.directionHistory;return m(l.default,{component:"div",className:h.default.wrapper,onClick:e},void 0,m(c.CarouselPrevious,{className:h.default.navPrev,onClick:this.gotoPrev}),m(S,{item:this.props.items[n],directionHistory:r},this.props.items[n].src),m(c.CarouselNext,{className:h.default.navNext,onClick:this.gotoNext}))},t}(a.Component);T.displayName="ModalCarousel",T.defaultProps={startWith:0};var O=(0,s.default)(function(e,t){var n;return(n={})[p.ComponentActions.MODAL_CAROUSEL_NEXT]=(0,o.default)(t.gotoNext,300),n[p.ComponentActions.MODAL_CAROUSEL_PREV]=(0,o.default)(t.gotoPrev,300),n})(T);t.default=O,e.exports=t.default},6936:function(e,t,n){"use strict";t.__esModule=!0,t.MODAL_CAROUSEL_LAYOUT=void 0;var r,a=n(6626),o=n(0),i=((r={})[o.KeybindActions.MODAL_CAROUSEL_NEXT]=a.MODAL_CAROUSEL_NEXT,r[o.KeybindActions.MODAL_CAROUSEL_PREV]=a.MODAL_CAROUSEL_PREV,r);t.MODAL_CAROUSEL_LAYOUT=i},6937:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=h(n(6767)),l=h(n(219)),s=n(6066),u=h(n(6082)),d=n(6632),c=n(0),f=n(6051),p=h(n(5562));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e){var t=e.className,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["className"]);return a.createElement(u.default,m({},n,{className:(0,o.default)(p.default.sizedToParent,t),mediaPlayerClassName:p.default.sizedToParent}))};y.displayName="CarouselVideo";var _={width:1280,height:720},g={width:640,height:360},E=function(e){var t,n,r=e.item,a=e.onPlay,o=e.volume,i=e.onVolumeChange,l=e.onMute,u=e.isMuted;if(r.type===c.CarouselMediaTypes.YOUTUBE_VIDEO)t=m({url:(0,c.YOUTUBE_PREVIEW_URL)(r.youtubeVideoId)},_),n=m({url:(0,c.YOUTUBE_EMBED_URL)(r.youtubeVideoId)+"?rel=0&iv_load_policy=3&showinfo=0&modestbranding=1"},g);else{var h=null!=r.width?r.width:0,E=null!=r.height?r.height:0;t={url:r.thumbnailSrc,width:h,height:E},n={url:r.src,proxyURL:r.src,width:h,height:E}}return v("div",{className:p.default.embedContainer},void 0,v(s.EmbedVideo,{className:p.default.sizedToParent,href:null,thumbnail:t,VideoComponent:y,video:n,maxHeight:d.ItemSizes.SMALL.height,maxWidth:f.PageSizes.SMALL,onPlay:a,playable:!0,volume:o,onVolumeChange:i,autoMute:u,onMute:l,autoPlay:!0}))};E.displayName="Video";var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hasInteracted:!1,isVideoPlaying:!1,isMuted:!0,volume:1},t.handlePlay=function(e){t.setState({isVideoPlaying:!0,hasInteracted:!e})},t.handleVolumeChange=function(e){t.setState({volume:e,hasInteracted:!0})},t.handleMute=function(e){t.setState({isMuted:e,hasInteracted:!0})},t.handleChangeItem=function(){t.setState({isVideoPlaying:!1})},t.handleIntentionalChange=function(e,n,r,a){t.setState({hasInteracted:!0});var o=t.props.onIntentionalChange;null!=o&&o(e,n,r,a)},t.renderItem=function(e,n){var r,a=t.state,o=a.isMuted,i=a.volume;switch(e.type){case c.CarouselMediaTypes.YOUTUBE_VIDEO:case c.CarouselMediaTypes.VIDEO:r=v(E,{item:e,onPlay:t.handlePlay,isMuted:o,volume:i,onVolumeChange:t.handleVolumeChange,onMute:t.handleMute});break;case c.CarouselMediaTypes.IMG:r=v("img",{className:p.default.smallCarouselImage,src:e.src,alt:""});break;default:throw new Error("Unexpected MediaType")}return v(l.default,{className:p.default.smallCarouselItem,onClick:function(){return t.handleCurrentItemClick(e,n)}},void 0,r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleCurrentItemClick=function(e,t){var n=this.props.onCurrentItemClick;null!=n&&n(e,t),this.setState({hasInteracted:!0})},a.render=function(){var e=this.props,t=e.items,n=e.autoplayInterval,r=e.paused,a=this.state.hasInteracted;return v(i.default,{items:t.slice(0,12),delay:n,paused:r||a,renderItem:this.renderItem,className:p.default.smallCarousel,onIntentionalChange:this.handleIntentionalChange,onChangeItem:this.handleChangeItem})},r}(a.PureComponent);S.displayName="SmallMediaCarousel",S.defaultProps={paused:!1};var T=S;t.default=T,e.exports=t.default},6938:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(841),i=(u(n(110)),u(n(6448))),l=u(n(13)),s=u(n(5563));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDisagree=function(){(0,o.matureDisagree)()},t.handleAgree=function(){(0,o.matureAgree)()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.game.name;return d("div",{className:s.default.matureListing},void 0,d(i.default,{onAgree:this.handleAgree,onDisagree:this.handleDisagree,title:l.default.Messages.MATURE_LISTING_TITLE.format({name:e}),description:l.default.Messages.MATURE_LISTING_DESCRIPTION,agreement:l.default.Messages.MATURE_LISTING_ACCEPT,disagreement:l.default.Messages.MATURE_LISTING_DECLINE}))},r}(a.PureComponent);c.displayName="ApplicationStoreListingMature";var f=c;t.default=f,e.exports=t.default},6939:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ApplicationStorePurchaseUnit=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=L(n(17)),i=n(221),l=L(n(3)),s=n(465),u=L(n(824)),d=L(n(86)),c=L(n(14)),f=L(n(850)),p=L(n(6940)),h=L(n(124)),v=L(n(148)),m=L(n(301)),y=L(n(222)),_=n(836),g=n(6047),E=L(n(6063)),S=L(n(6045)),T=L(n(6941)),O=L(n(6942)),I=L(n(6633)),C=L(n(6943)),N=n(6243),A=L(n(6944)),M=n(0),P=L(n(13)),b=L(n(5378)),R=L(n(5569));function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._applicationBuyButtonRef=a.createRef(),t.handleViewLibrary=function(e){var n=t.props.libraryApplication;null!=n&&n.isHidden()&&(e.preventDefault(),u.default.open(M.UserSettingsSections.GAME_LIBRARY))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){var e=this.props,t=e.isEntitled,n=e.isFetchingEntitlementsForApplication,r=e.sku,a=e.currentUser;null!=t||n||null==a||r.type===M.SKUTypes.GAME||(0,s.fetchUserEntitlementsForApplication)(r.applicationId)},l.getApplicationBuyButton=function(){return this._applicationBuyButtonRef.current},l.getActionText=function(){var e=this.props,t=e.sku,n=e.isEntitled,r=e.storeListing,a=function(e){switch(e.type){case M.SKUTypes.DLC:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_DLC,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_DLC,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_DLC,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.CONSUMABLE:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_CONSUMABLE,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_CONSUMABLE,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_CONSUMABLE,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.BUNDLE:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_BUNDLE,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_BUNDLE,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_BUNDLE,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED};case M.SKUTypes.GAME:default:return{distribution:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DISTRIBUTION_APPLICATION,free:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FREE_APPLICATION,preorder:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_APPLICATION,preorderEntitled:P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_PREORDER_ENTITLED}}}(t),o=null!=r.entitlementBranchId;return!t.available&&t.premium?P.default.Messages.APPLICATION_STORE_COMING_SOON:t.isPreorder()&&!o?n?a.preorderEntitled:a.preorder:t.requiresPayment&&!o?a.distribution:a.free},l.renderHeader=function(){var e=this.props,t=e.isEntitled,n=e.libraryApplication,r=e.sku,a=e.currentUser;if(!0===t){var o=null!=n&&n.isHidden();return D(i.Link,{className:R.default.entitledHeader,to:{pathname:M.Routes.APPLICATION_LIBRARY,state:{applicationId:null!=n?n.id:null}},onClick:this.handleViewLibrary},void 0,D(m.default,{name:m.default.Names.LIBRARY,className:R.default.entitledHeaderIcon}),D("div",{},void 0,o?P.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY_HIDDEN:P.default.Messages.APPLICATION_STORE_PURCHASE_IN_LIBRARY))}return r.exclusive?D("div",{className:R.default.exclusiveHeader},void 0,D("div",{className:R.default.exclusiveHeaderExclusive},void 0,P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_FIRST_ON),D(m.default,{name:m.default.Names.DISCORD_WORDMARK,className:R.default.exclusiveHeaderIcon})):r.premium?D("div",{className:R.default.premiumHeader},void 0,D(m.default,{name:m.default.Names.NITRO,className:R.default.premiumHeaderIcon}),y.default.canInstallPremiumApplications(a)?null:D("div",{className:R.default.premiumHeaderPrice},void 0,P.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,_.formatPrice)(M.SubscriptionPlanInfo[M.SubscriptionPlans.PREMIUM_MONTH_TIER_2].price,M.CurrencyCodes.USD)}))):null},l.renderAlternativeSkus=function(){var e=this.props,t=e.storeListing,n=e.sku,r=e.guildId,o=e.channelId;return null!=t.entitlementBranchId||0===t.alternativeSkuIds.length?null:D(a.Fragment,{},void 0,D("div",{className:R.default.actionText},void 0,P.default.Messages.APPLICATION_STORE_LISTING_SELECT_EDITION),D(T.default,{storeListing:t,selectedSkuId:n.id,className:R.default.alternativeSkus,guildId:r,channelId:o}))},l.renderAccuratePreorderInfo=function(){var e=this.props,t=e.isEntitled,n=e.sku,r=e.isFocused;return n.isPreorder()&&null!=n.preorderReleaseAt&&t?D("div",{className:R.default.countdownSection},void 0,D("div",{className:R.default.countdownHeader},void 0,P.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_TIME_LEFT_UNTIL_RELEASE),D(p.default,{endTime:n.preorderReleaseAt.valueOf(),interval:r?1e3:6e4})):null},l.renderApproximatePreorderInfo=function(){var e=this.props,t=e.isEntitled,n=e.sku;if(!n.isPreorder()||null==n.preorderApproximateReleaseDate&&null!=n.preorderReleaseAt&&t)return null;var r=(0,g.getReadablePreorderReleaseDate)(n);return D("div",{className:R.default.releaseDate},void 0,P.default.Messages.APPLICATION_STORE_PURCHASE_AVAILABLE_DATE.format({releaseDate:r}))},l.renderPrice=function(){var e=this.props,t=e.sku,n=e.storeListing,r=e.isEntitled;if(t.restricted)return D("div",{className:R.default.price},void 0,P.default.Messages.APPLICATION_STORE_RESTRICTED);var a=null!=n.entitlementBranchId;return t.available&&(t.premium||null!=t.getPrice())||a?D("div",{className:R.default.price},void 0,D(S.default,{type:S.default.Types.LISTING,inLibrary:!0===r,sku:t,hasEntitlementBranch:a}),this.renderApproximatePreorderInfo()):!t.available&&t.premium?D("div",{className:(0,o.default)(R.default.price,b.default.listingPrice)},void 0,P.default.Messages.APPLICATION_STORE_FREE_WITH_PREMIUM):D("div",{className:R.default.price},void 0,P.default.Messages.APPLICATION_STORE_COMING_SOON)},l.renderBody=function(){var e=this.props,t=e.sku,n=e.game,r=e.channelId,o=e.isEntitled,i=e.isUserPremium,l=e.storeListing,s=t.isGiftable(),u=null!=l.entitlementBranchId;return D(a.Fragment,{},void 0,this.renderAccuratePreorderInfo(),D(v.default,{justify:v.default.Justify.BETWEEN,align:v.default.Align.CENTER,className:R.default.headerBar},void 0,D("div",{className:R.default.actionText},void 0,this.getActionText()),D(N.OperatingSystemSection,{systems:t.supportedOperatingSystems})),this.renderPrice(),!0!==o||!s||u?D(a.Fragment,{},void 0,a.createElement(E.default,{ref:this._applicationBuyButtonRef,skuId:t.id,applicationId:n.id,channelId:r,entitlementBranchId:l.entitlementBranchId,fullWidth:!0,onStoreListing:!0}),t.premium&&!i&&t.isAvailableForDistribution()&&!u?D(E.default,{skuId:t.id,applicationId:n.id,channelId:r,color:h.default.Colors.PRIMARY,className:R.default.secondaryBuyButton,forceDistribution:!0,shouldRenderPrice:!0,fullWidth:!0,onStoreListing:!0}):null):null,s&&!u?D(E.default,{asGift:!0,className:R.default.secondaryBuyButton,skuId:t.id,applicationId:n.id,channelId:r,fullWidth:!0,onStoreListing:!0,color:!0===o?h.default.Colors.GREEN:h.default.Colors.PRIMARY,hover:h.default.Hovers.DEFAULT}):null,D(I.default,{className:R.default.purchaseError}),D(C.default,{className:R.default.warning,sku:t}))},l.render=function(){var e=this.props,t=e.game,n=e.storeListing,r=e.sku,a=e.guildId,o=e.channelId,i=e.fetchStoreListing;return D("div",{className:e.className},void 0,this.renderHeader(),D("div",{className:R.default.bodySection},void 0,this.renderAlternativeSkus(),this.renderBody()),null==n.entitlementBranchId?D("div",{className:R.default.bodySection},void 0,D(A.default,{storeListing:n,sku:r,guildId:a,channelId:o,fetchStoreListing:i})):null,D("div",{className:R.default.bodySection},void 0,D(O.default,{game:t,sku:r})))},r}(a.PureComponent);t.ApplicationStorePurchaseUnit=w,w.displayName="ApplicationStorePurchaseUnit";var U=l.default.connectStores([c.default,f.default,d.default],function(e){var t=e.sku,n=e.game,r=e.storeListing,a=c.default.getNullableCurrentUser(),o=null!=r.entitlementBranchId?r.entitlementBranchId:n.id;return{isUserPremium:y.default.canInstallPremiumApplications(a),isEntitled:f.default.isEntitledToSku(a,t.id,n.id,o),isFetchingEntitlementsForApplication:f.default.applicationIdsFetching.has(t.applicationId),libraryApplication:d.default.getLibraryApplication(n.id,o),currentUser:a}})(w);t.default=U},6940:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=n(78),l=n(6001),s=c(n(6238)),u=c(n(13)),d=c(n(5564));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={now:Date.now()},t.interval=new i.Interval,t.handleIntervalUpdate=function(){t.setState({now:Date.now()})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.interval.start(this.props.interval,this.handleIntervalUpdate)},a.componentWillUnmount=function(){this.interval.stop()},a.componentDidUpdate=function(e){this.props.interval!==e.interval&&this.interval.start(this.props.interval,this.handleIntervalUpdate)},a.renderSection=function(e,t,n){return f("div",{className:n?d.default.unitClose:d.default.unitNormal},void 0,f(s.default,{className:d.default.duration,value:e,padStartLength:2,forcePosition:s.default.Positions.ABOVE}),f("div",{className:d.default.header},void 0,t))},a.render=function(){var e=this.props,t=e.endTime,n=e.className,r=(0,l.diffAsUnits)(this.state.now,t),a=r.days<1;return f("div",{className:(0,o.default)(d.default.countdown,n)},void 0,this.renderSection(r.days,u.default.Messages.APPLICATION_STORE_COUNTDOWN_DAYS,a),this.renderSection(r.hours,u.default.Messages.APPLICATION_STORE_COUNTDOWN_HOURS,a),this.renderSection(r.minutes,u.default.Messages.APPLICATION_STORE_COUNTDOWN_MINUTES,a),this.renderSection(r.seconds,u.default.Messages.APPLICATION_STORE_COUNTDOWN_SECONDS,a))},r}(a.Component);p.displayName="ApplicationStoreCountdown",p.defaultProps={interval:1e3};var h=p;t.default=h,e.exports=t.default},6941:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(221),i=h(n(3)),l=h(n(5993)),s=h(n(176)),u=h(n(301)),d=h(n(437)),c=n(127),f=n(0),p=h(n(5565));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,i,l,s=r.prototype;return s.renderSku=function(e,t){var n=this.props,r=n.selectedSkuId,a=n.guildId,i=n.channelId,l=e.id===r;return m(d.default,{text:e.getDisplayPrice()},e.id,m(o.Link,{className:l?p.default.alternativeSkuSelected:p.default.alternativeSkuDefault,to:(0,c.getStoreListingLocation)(e.id,{guildId:a,channelId:i,slug:e.slug,analyticsSource:this.analyticsLocation})},void 0,l?m(u.default,{name:u.default.Names.CHECKMARK,className:p.default.selectedIcon}):null,t))},s.render=function(){var e=this,t=this.props,n=t.skus,r=t.className;return 0===n.length?null:m("div",{className:r},void 0,m("div",{className:p.default.alternativeSkus},void 0,n.map(function(t){return e.renderSku(t,t.name)})))},a=r,(i=[{key:"analyticsLocation",get:function(){return v({},this.props.analyticsContext.location,{object:f.AnalyticsObjects.ALTERNATIVE_SKU})}}])&&y(a.prototype,i),l&&y(a,l),r}(a.PureComponent);_.displayName="AlternativeSkus";var g=i.default.connectStores([s.default],function(e){return{skus:e.storeListing.alternativeSkuIds.map(function(e){return s.default.get(e)}).filter(function(e){return null!=e})}})((0,l.default)(_));t.default=g,e.exports=t.default},6942:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(17)),i=n(221),l=h(n(5993)),s=(h(n(110)),h(n(835)),h(n(6020))),u=v(n(6001)),d=n(6047),c=n(0),f=h(n(13)),p=h(n(5566));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t=e.label,n=e.value;return m("div",{className:p.default.row},void 0,m("label",{className:p.default.label},void 0,t,":"),m("span",{className:p.default.info},void 0,n))};y.displayName="Row";var _=m("span",{},void 0,", "),g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.renderReleaseDate=function(){var e=this.props.sku;return null==e.releaseDate?null:m(y,{label:f.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,value:u.dateFormat(e.releaseDate,"LL")})},l.renderGenres=function(){var e=this.props,t=e.sku,n=e.analyticsContext.location;if(null==t.genres||0===t.genres.size)return null;var r=[];return t.genres.forEach(function(e){var o=(0,d.getGenreURLSlugFromId)(e),l=null!=o?"?genre="+o:"";r.push(m(a.Fragment,{},e,m(i.Link,{to:{pathname:c.Routes.APPLICATION_STORE_BROWSE,search:l,state:{scrollRestoration:!1,analyticsSource:n}},className:p.default.genre},void 0,(0,d.getGenreText)(e)),r.length<t.genres.size-1?_:null))}),m(y,{label:f.default.Messages.APPLICATION_STORE_DETAILS_GENRES,value:r})},l.renderDevelopers=function(){var e=this.props.game;if(0===e.developers.length)return null;var t=e.developers.map(function(e){return e.name}).join(", ");return m(y,{label:f.default.Messages.APPLICATION_STORE_DETAILS_DEVELOPER,value:t})},l.renderPublishers=function(){var e=this.props.game;if(0===e.publishers.length)return null;var t=e.publishers.map(function(e){return e.name}).join(", ");return m(y,{label:f.default.Messages.APPLICATION_STORE_DETAILS_PUBLISHER,value:t})},l.render=function(){var e=this.props.className;return m("div",{className:(0,o.default)(e,p.default.details)},void 0,m(s.default,{className:p.default.contentHeader},void 0,f.default.Messages.APPLICATION_STORE_SECTION_TITLE_DETAILS),this.renderReleaseDate(),this.renderGenres(),this.renderDevelopers(),this.renderPublishers())},r}(a.Component);g.displayName="ApplicationDetails";var E=(0,l.default)(g);t.default=E,e.exports=t.default},6943:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(2)),o=O(n(17)),i=n(221),l=O(n(3)),s=O(n(77)),u=n(315),d=O(n(35)),c=O(n(14)),f=O(n(850)),p=O(n(176)),h=O(n(219)),v=O(n(309)),m=I(n(9)),y=n(127),_=n(846),g=O(n(450)),E=n(0),S=O(n(13)),T=O(n(5567));function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=Object.freeze({RESTRICTED_IN_REGION:1,REQUIRES_DESKTOP_APP:2,UNAVAILABLE_OPERATING_SYSTEM:3,DLC_REQUIRES_BASE_APPLICATION:4,EARLY_ACCESS:5,UNAVAILABLE_IN_LANGUAGE:6}),A=v.default.getArticleURL(E.HelpdeskArticles.APPLICATION_STORE_OVERVIEW),M=v.default.getArticleURL(E.HelpdeskArticles.APPLICATION_STORE_EARLY_ACCESS),P=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.sku,n=e.dependentSku;null!=t.dependentSkuId&&null==n&&(0,u.fetchSKU)(t.applicationId,t.dependentSkuId)},a.getTitle=function(e){switch(e){case N.RESTRICTED_IN_REGION:return S.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_TITLE;case N.REQUIRES_DESKTOP_APP:return S.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE;case N.UNAVAILABLE_OPERATING_SYSTEM:switch(m.default.getPlatform()){case m.PlatformTypes.WINDOWS:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_WINDOWS_TITLE;case m.PlatformTypes.OSX:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_MAC_OS_TITLE;case m.PlatformTypes.LINUX:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_LINUX_TITLE;default:return S.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_TITLE}case N.DLC_REQUIRES_BASE_APPLICATION:return S.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_TITLE;case N.EARLY_ACCESS:return S.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_TITLE;case N.UNAVAILABLE_IN_LANGUAGE:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_TITLE}},a.getDescription=function(e){var t=this;switch(e){case N.RESTRICTED_IN_REGION:return S.default.Messages.APPLICATION_STORE_WARNING_RESTRICTED_IN_REGION_DESCRIPTION.format({helpArticle:A});case N.REQUIRES_DESKTOP_APP:return S.default.Messages.APPLICATION_STORE_WARNING_REQUIRES_DESKTOP_APP_DESCRIPTION.format({downloadHook:function(e,n){return _.isMobile?e:C(h.default,{className:T.default.link,tag:"a",onClick:t.handleDownloadApps},n,e)}});case N.UNAVAILABLE_OPERATING_SYSTEM:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_OS_DESCRIPTION;case N.DLC_REQUIRES_BASE_APPLICATION:var n=this.props.dependentSku;return null==n?null:S.default.Messages.APPLICATION_STORE_WARNING_DLC_REQUIRES_BASE_APPLICATION_DESCRIPTION.format({baseName:n.name,helpArticle:A,baseHook:function(e,t){return C(i.Link,{to:{pathname:E.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:E.AnalyticsLocations.APPLICATION_STORE_WARNING}}},t,e)}});case N.EARLY_ACCESS:return S.default.Messages.APPLICATION_STORE_WARNING_EARLY_ACCESS_DESCRIPTION.format({helpArticle:M});case N.UNAVAILABLE_IN_LANGUAGE:return S.default.Messages.APPLICATION_STORE_WARNING_UNAVAILABLE_IN_LANGUAGE_DESCRIPTION}},a.handleDownloadApps=function(){s.default.push(g.default,{source:E.AnalyticsLocations.APPLICATION_STORE_WARNING})},a.getColorClass=function(e){switch(e){case N.RESTRICTED_IN_REGION:return T.default.red;default:return T.default.yellow}},a.renderWarning=function(e){var t=this.getTitle(e),n=this.getDescription(e);return C("div",{className:(0,o.default)(T.default.warning,this.getColorClass(e))},e,C("div",{className:T.default.title},void 0,t),C("div",{className:T.default.description},void 0,n))},a.render=function(){var e=this.props,t=e.sku,n=e.dependentSku,r=e.isEntitledToDependentSku,a=e.className,o=[];return t.restricted&&o.push(this.renderWarning(N.RESTRICTED_IN_REGION)),m.default.isWeb()?o.push(this.renderWarning(N.REQUIRES_DESKTOP_APP)):t.supportedOperatingSystems.includes((0,y.nativePlatformTypeToSKUOperatingSystem)(m.default.getPlatform()))||o.push(this.renderWarning(N.UNAVAILABLE_OPERATING_SYSTEM)),null==n||r||o.push(this.renderWarning(N.DLC_REQUIRES_BASE_APPLICATION)),t.accessType===E.SKUAccessTypes.EARLY_ACCESS&&o.push(this.renderWarning(N.EARLY_ACCESS)),0===o.length?null:C("div",{className:a},void 0,o)},r}(a.PureComponent);P.displayName="ApplicationStoreWarning";var b=l.default.connectStores([c.default,d.default,f.default],function(e){var t=e.sku,n=null!=t.dependentSkuId?p.default.get(t.dependentSkuId):null;return{locale:d.default.locale,dependentSku:n,isEntitledToDependentSku:null!=t.dependentSkuId&&!0===f.default.isEntitledToSku(c.default.getNullableCurrentUser(),t.dependentSkuId,t.applicationId)}})(P);t.default=b,e.exports=t.default},6944:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(221),i=y(n(3)),l=n(315),s=y(n(5993)),u=y(n(41)),d=y(n(176)),c=y(n(831)),f=y(n(124)),p=n(127),h=n(0),v=y(n(13)),m=y(n(5568));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){var t=e.applicationId,n=(0,p.getPrimarySKUForApplication)(t,u.default,d.default);return null!=n?c.default.getForSKU(n.id):null}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isCollapsed:!0},t.handleCollapsedToggle=function(){t.setState({isCollapsed:!t.state.isCollapsed})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this.props,t=e.sku,n=e.relatedSkuIds,r=e.fetchStoreListing;if(null==g(t))r(t.id);else if(null!=n){var a=n,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var s;if(o){if(i>=a.length)break;s=a[i++]}else{if((i=a.next()).done)break;s=i.value}var u=s;(0,l.fetchSKU)(t.applicationId,u)}}},i.componentDidUpdate=function(e){var t=this.props,n=t.sku,r=t.relatedSkuIds;if(null!=r&&r!==e.relatedSkuIds){var a=r,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var s;if(o){if(i>=a.length)break;s=a[i++]}else{if((i=a.next()).done)break;s=i.value}var u=s;(0,l.fetchSKU)(n.applicationId,u)}}},i.renderSection=function(e,t,n){var r=this.props,i=r.sku,l=r.channelId,s=r.guildId,u=r.analyticsContext,d=this.state.isCollapsed,c=5===t.length?5:4,y=d?t.slice(0,c):t,g=y.map(function(e,t){return _(o.Link,{className:n&&t===y.length-1?m.default.skuLast:m.default.skuNormal,to:(0,p.getStoreListingLocation)(e.id,{guildId:s,channelId:l,slug:e.slug,analyticsSource:u.location})},e.id,_("div",{className:m.default.name},void 0,e.name),_("div",{className:m.default.price},void 0,null!=e.getPrice()?e.getDisplayPrice():null))});return 0===g.length?null:_(a.Fragment,{},void 0,_("div",{className:m.default.title},void 0,function(e,t){if(e===t)switch(e){case h.SKUTypes.GAME:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_SAME;case h.SKUTypes.DLC:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_SAME;case h.SKUTypes.CONSUMABLE:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_SAME;case h.SKUTypes.BUNDLE:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_SAME}else switch(e){case h.SKUTypes.GAME:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_GAMES_DIFFERENT;case h.SKUTypes.DLC:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_DLC_DIFFERENT;case h.SKUTypes.CONSUMABLE:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_CONSUMABLES_DIFFERENT;case h.SKUTypes.BUNDLE:return v.default.Messages.APPLICATION_STORE_PURCHASE_HEADER_BUNDLES_DIFFERENT}}(e,i.type)),g,c<t.length&&d?_(f.default,{color:f.default.Colors.PRIMARY,size:f.default.Sizes.SMALL,onClick:this.handleCollapsedToggle,className:m.default.collapseButton},void 0,v.default.Messages.APPLICATION_STORE_EXPAND_DOWNLOADABLE_CONTENT):null)},i.render=function(){var e=this.props.relatedSKUs;if(0===e.length)return null;var t=e.filter(function(e){return e.type===h.SKUTypes.BUNDLE}),n=e.filter(function(e){return e.type===h.SKUTypes.DLC}),r=e.filter(function(e){return e.type===h.SKUTypes.CONSUMABLE});return _("div",{},void 0,this.renderSection(h.SKUTypes.BUNDLE,t,0===n.length&&0===r.length),this.renderSection(h.SKUTypes.DLC,n,0===r.length),this.renderSection(h.SKUTypes.CONSUMABLE,r,!0))},r}(a.PureComponent);E.displayName="RelatedContent";var S=i.default.connectStores([c.default,d.default],function(e){var t=e.sku,n=g(t);return{relatedSkuIds:null!=n?n.childSkuIds:null,relatedSKUs:null!=n?n.childSkuIds.filter(function(e){return t.id!==e}).map(d.default.get):[]}})((0,s.default)(E));t.default=S,e.exports=t.default},6945:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(17)),i=E(n(3)),l=E(n(6290)),s=E(n(6129)),u=E(n(14)),d=E(n(6630)),c=E(n(176)),f=E(n(831)),p=E(n(6634)),h=n(127),v=E(n(6946)),m=E(n(6947)),y=n(0),_=E(n(13)),g=E(n(5573));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderReasons=function(e,t){return 0===e.length&&0===t.length?null:S("div",{className:g.default.section},void 0,S("div",{className:g.default.sectionContent},void 0,e.map(function(e){return S("div",{className:g.default.unit},e.type,S(v.default,{reason:e}))}),t.map(function(e){return S("div",{className:g.default.unit},e.type,S(p.default,{reason:e}))})))},a.getReviewToRender=function(){var e=this.props,t=e.storeListing,n=e.nonSocialReasons;if(null!=t.staffNotes)return{type:m.default.Types.STAFF_NOTES,staffNotes:t.staffNotes};var r=n.find(function(e){return e.type===y.StoreRecommendationTypes.METACRITIC_SCORE&&null!=e.reviewAggregator.reviews&&e.reviewAggregator.reviews.length>0});if(null!=r){if(r.type!==y.StoreRecommendationTypes.METACRITIC_SCORE||null==r.reviewAggregator)throw new Error("Unexpected null reviewAggregator");return{type:m.default.Types.METACRITIC_REVIEW,reviewAggregator:r.reviewAggregator}}return null},a.render=function(){var e=this.props,t=e.socialReasons,n=e.nonSocialReasons,r=e.storeListing,a=e.className;if(0===t.length&&0===n.length&&null==r.staffNotes)return null;var i=n,l=this.getReviewToRender();return null!=l&&l.type===m.default.Types.METACRITIC_REVIEW&&(i=n.filter(function(e){return e.type!==y.StoreRecommendationTypes.METACRITIC_SCORE})),S("div",{className:(0,o.default)(g.default.root,a)},void 0,S("div",{className:g.default.header},void 0,_.default.Messages.APPLICATION_STORE_SECTION_TITLE_RECOMMENDATION),this.renderReasons(t,i),null!=l?S(m.default,{data:l,className:g.default.review}):null)},r}(a.Component);T.displayName="ApplicationWhyYouMightLikeIt";var O=i.default.connectStores([c.default,u.default,f.default,l.default,s.default,d.default],function(e){var t=e.sku;return{socialReasons:(0,h.getSocialRecommendationReasons)(t.id,c.default,u.default,l.default,s.default,d.default),nonSocialReasons:(0,h.getNonSocialRecommendationReasons)(t.id,c.default,f.default)}})(T);t.default=O,e.exports=t.default},6946:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=m(n(17)),l=m(n(5992)),s=m(n(6072)),u=m(n(821)),d=m(n(6080)),c=m(n(437)),f=m(n(5359)),p=n(0),h=m(n(13)),v=m(n(5571));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g=((r={})[p.StoreRecommendationTypes.NOW_PLAYING]={single:function(e,t){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})}},r[p.StoreRecommendationTypes.RECENTLY_PLAYED]={single:function(e,t){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})}},r[p.StoreRecommendationTypes.EVER_PLAYED]={single:function(e,t){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return h.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}},r),E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderUserPopout=function(e,t){return o.createElement(f.default,_({},t,{user:e}))},t.renderUserTooltip=function(e,t,n){return y("div",{className:v.default.tooltip},void 0,y("div",{},void 0,e.tag),y(s.default,{className:v.default.tooltipTimestamp,start:t,end:n,location:s.default.Locations.ACTIVITY_FEED}))},t.renderPlayer=function(e,n,r,a){var o,s=e;if(null==s)return null;var d=t.props.reason.userInfo.find(function(e){return e.user===s});return null==d?null:y(u.default,{render:function(e){return t.renderUserPopout(s,e)},position:u.default.Positions.RIGHT,closeOnScroll:!1},s.id,y(c.default,{text:t.renderUserTooltip(s,d.startTime,d.endTime)},void 0,y(l.default,{className:(0,i.default)(v.default.playerAvatar,(o={},o[v.default.avatarMasked]=!a,o)),src:s.getAvatarURL(),size:l.default.Sizes.SMALL})))},t.renderPlayerOverflow=function(e,t,n){return y("div",{className:v.default.playerOverflow},n,e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderDescription=function(e,t){var n=this,r=g[e];return 1===t.length?r.single(t[0].user,function(e){return n.renderActivityDiscordTag(e)}):2===t.length?r.double(t[0].user,t[1].user,function(e){return n.renderActivityDiscordTag(e)}):r.other(t.length)},a.renderActivityDiscordTag=function(e){var t=this;return y(u.default,{render:function(n){return t.renderUserPopout(e,n)},position:u.default.Positions.RIGHT,closeOnScroll:!1},e.id,y("span",{className:v.default.username},void 0,e.username))},a.render=function(){var e=this.props,t=e.reason,n=e.className,r=t.type,a=t.userInfo;return 0===a.length?null:y("div",{className:(0,i.default)(v.default.recommendationActivity,n)},void 0,y(d.default,{className:v.default.players,users:a.map(function(e){return e.user}),renderUser:this.renderPlayer,max:4,renderMoreUsers:this.renderPlayerOverflow}),y("div",{className:v.default.description},void 0,this.renderDescription(r,a)))},r}(o.PureComponent);E.displayName="ApplicationRecommendationActivity";var S=E;t.default=S,e.exports=t.default},6947:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=h(n(17)),o=h(n(3)),i=h(n(151)),l=h(n(305)),s=n(5992),u=h(n(6634)),d=h(n(6021)),c=n(0),f=h(n(13)),p=h(n(5572));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=Object.freeze({STAFF_NOTES:1,METACRITIC_REVIEW:2}),y=function(e){var t=e.user,n=e.className,r=e.animate;return v("div",{className:(0,a.default)(p.default.staffReviewHeader,n)},void 0,v(d.default,{outerClassName:p.default.avatar,size:s.AvatarSizes.LARGE,user:t,animate:r}),v("div",{className:p.default.headerText},void 0,v("div",{className:p.default.label},void 0,f.default.Messages.APPLICATION_STORE_STAFF_PICK),v("div",{className:p.default.username},void 0,t.username)))};y.displayName="StaffReason";var _=o.default.connectStores([i.default],function(){return{animate:i.default.isFocused()}})(y),g=function(e){var t=e.data,n=e.className;if(t.type===m.STAFF_NOTES){if(null==t.staffNotes)return null;var r=t.staffNotes,a=r.user,o=r.content;return null==a?null:v("div",{className:n},void 0,v(_,{user:a,className:p.default.header}),v("div",{className:p.default.notes},void 0,o))}if(t.type===m.METACRITIC_REVIEW){var i=t.reviewAggregator;if(null==i.reviews)return null;for(var s=i.reviews[0],d=1;d<i.reviews.length;d++){var f=i.reviews[d];null!=f.score&&f.score>(null!=s.score?s.score:0)&&(s=f)}return v("div",{className:n},void 0,v(u.default,{reason:{type:c.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:t.reviewAggregator},className:p.default.header}),v("div",{className:p.default.notes},void 0,s.quote),v("div",{className:p.default.publisher},void 0,null!=s.url&&0!==s.url.length?v(l.default,{href:s.url,className:p.default.publisherAnchor},void 0,s.publisher):s.publisher))}throw new Error("Unknown type")};g.Types=m;var E=g;t.default=E,e.exports=t.default},6948:function(e,t,n){"use strict";t.__esModule=!0,t.default=h;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=d(n(6020)),i=d(n(6949)),l=n(6635),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){var t=e.review,n=e.className,r=(0,l.getRatingTier)(t);return null==r?null:c("div",{className:n},void 0,c(o.default,{},void 0,u.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC),c(i.default,{score:t.criticScore,scoreColor:r.color,icon:i.default.Icons.METACRITIC,url:t.url},void 0,c(i.default.Verdict,{},void 0,r.label),c("span",{},void 0,u.default.Messages.METACRITIC_NUM_CRITIC_RATINGS.format({numRatings:t.criticTotalRatings})),c("span",{},void 0,u.default.Messages.METACRITIC_USER_SCORE.format({score:t.secondaryScore,numRatings:t.secondaryTotalRatings}))))}f.displayName="MetacriticReviewScoreCard";var p=((r={})[s.ReviewAggregators.METACRITIC]=f,r);function h(e){var t=e.review,n=e.className,r=p[t.aggregator];if(null==r)throw new Error("unknown review aggregator "+t.aggregator);return c(r,{review:t,className:n})}h.displayName="ReviewScoreCardWrapper",e.exports=t.default},6949:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=d(n(219)),i=d(n(148)),l=c(n(301)),s=d(n(125)),u=d(n(5574));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=Object.freeze({METACRITIC:l.IconNames.METACRITIC});function h(e){var t=e.children;return f(s.default,{size:s.default.Sizes.MEDIUM,weight:s.default.Weights.SEMIBOLD,className:u.default.verdict},void 0,t)}h.displayName="ReviewScoreCardVerdict";var v=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderIcon=function(){var e=this.props.icon;return null==e?null:f(l.default,{name:e,width:100,height:100,className:u.default.icon})},a.renderCard=function(){var e=this.props,t=e.score,n=e.scoreColor,r=e.children;return f(i.default,{direction:i.default.Direction.HORIZONTAL,className:u.default.card},void 0,f(i.default,{align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,grow:0,shrink:0,className:u.default.score,style:{backgroundColor:n}},void 0,t),f(i.default,{direction:i.default.Direction.VERTICAL,className:u.default.body},void 0,this.renderIcon(),r))},a.render=function(){var e=this.props.url;return null==e?this.renderCard():f(o.default,{tag:"a",href:e,rel:"noreferrer noopener",target:"_blank",className:u.default.clickableWrapper},void 0,this.renderCard())},r}(a.PureComponent);v.displayName="ReviewScoreCard",v.Icons=p,v.Verdict=h;var m=v;t.default=m,e.exports=t.default},6950:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=_(n(2)),l=y(n(17)),s=y(n(124)),u=y(n(6020)),d=y(n(148)),c=n(882),f=_(n(9)),p=n(0),h=y(n(13)),v=n(6051),m=y(n(5575));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var S=((r={})[p.OperatingSystems.WINDOWS]=h.default.Messages.WINDOWS,r[p.OperatingSystems.MACOS]=h.default.Messages.MACOS,r[p.OperatingSystems.LINUX]=h.default.Messages.LINUX,r),T=((a={})[p.OperatingSystems.WINDOWS]=f.PlatformTypes.WINDOWS,a[p.OperatingSystems.MACOS]=f.PlatformTypes.OSX,a[p.OperatingSystems.LINUX]=f.PlatformTypes.LINUX,a),O=function(e){function t(){return e.apply(this,arguments)||this}return E(t,e),t.prototype.render=function(){var e,t=this.props,n=t.active,r=t.children,a=t.pageSize,o=t.onClick,i=a===v.PageSizes.LARGE;return g(s.default,{size:i?s.default.Sizes.MIN:s.default.Sizes.LARGE,fullWidth:!i,color:n?m.default.tabSelectedColor:m.default.tabNotSelectedColor,className:(0,l.default)((e={},e[m.default.tabPageLarge]=i,e[m.default.tabPageSmall]=!i,e[m.default.tabSelected]=n,e[m.default.tabNotSelected]=!n,e)),onClick:o},void 0,r)},t}(i.PureComponent);O.displayName="Tab";var I=function(e){function t(t){var n;(n=e.call(this,t)||this).handleSelectOperatingSystem=function(e){n.setState({selectedOperatingSystem:e})};for(var r=f.default.getPlatform(),a=Object.keys(t.systemRequirements),o=a[0],i=0,l=a;i<l.length;i++){var s=l[i];T[s]===r&&(o=s)}return n.state={selectedOperatingSystem:o},n}E(t,e);var n=t.prototype;return n.renderTabs=function(){var e=this,t=this.props,n=t.pageSize,r=t.systemRequirements,a=this.state.selectedOperatingSystem,o=Object.keys(r);return 1===o.length?null:g(d.default,{className:m.default.tabs},void 0,g("div",{className:m.default.separator}),o.map(function(t){return g(O,{active:t===a,onClick:function(){return e.handleSelectOperatingSystem(t)},pageSize:n},t,S[t])}))},n.renderRequirementsSection=function(e,t){if(null==e)return null;var n=function(e){return[{key:h.default.Messages.APPLICATION_STORE_SPECS_OS,value:e.operating_system_version},{key:h.default.Messages.APPLICATION_STORE_SPECS_CPU,value:e.cpu},{key:h.default.Messages.APPLICATION_STORE_SPECS_MEMORY,value:null!=e.ram?h.default.Messages.APPLICATION_STORE_SPECS_MEMORY_VALUE.format({size:(0,c.formatSize)(1e3*e.ram,{showDecimalForGB:!1})}):null},{key:h.default.Messages.APPLICATION_STORE_SPECS_VIDEO,value:e.gpu},{key:h.default.Messages.APPLICATION_STORE_SPECS_STORAGE,value:null!=e.disk?(0,c.formatSize)(1e3*e.disk,{showDecimalForGB:!1}):null},{key:h.default.Messages.APPLICATION_STORE_SPECS_SOUND,value:e.sound_card},{key:h.default.Messages.APPLICATION_STORE_SPECS_NETWORK,value:e.network},{key:h.default.Messages.APPLICATION_STORE_SPECS_NOTES,value:e.notes}]}(e).map(function(e,t){var n=null!=e.value?e.value.trim():null;return null==n||0===n.length?null:g("div",{className:m.default.requirement},t,g("span",{className:m.default.requirementKey},void 0,e.key,":"),n)}).filter(function(e){return null!=e});return g("div",{className:m.default.requirements},void 0,g(u.default,{tag:"h4"},void 0,t),n)},n.renderBody=function(){var e=this.props.systemRequirements[this.state.selectedOperatingSystem],t=e.minimum,n=e.recommended;return g("div",{className:m.default.requirementsContainer},void 0,this.renderRequirementsSection(t,h.default.Messages.APPLICATION_STORE_SPECS_MINIMUM),this.renderRequirementsSection(n,h.default.Messages.APPLICATION_STORE_SPECS_RECOMMENDED))},n.render=function(){return g("div",{className:this.props.className},void 0,g(u.default,{},void 0,h.default.Messages.APPLICATION_STORE_SECTION_TITLE_SYSTEM_REQUIREMENTS),this.renderTabs(),this.renderBody())},t}(i.PureComponent);I.displayName="SystemRequirements";var C=I;t.default=C,e.exports=t.default},6951:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TestModeStoreListingButtonEnums=void 0;var r,a=h(n(2)),o=p(n(3)),i=h(n(302)),l=p(n(41)),s=p(n(86)),u=p(n(831)),d=p(n(5991)),c=p(n(6715)),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y={DropdownSizes:c.default.DropdownSizes,Sizes:c.default.Sizes,Colors:c.default.Colors,Looks:c.default.Looks};t.TestModeStoreListingButtonEnums=y;var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(e){var n=e.className,r=e.style,a=t.props,o=a.storeListings,l=a.onStoreListingSelect,s=a.currentStoreListingId;return m("div",{className:n,style:r},void 0,o.map(function(e){return e.id!==s?m(d.default,{label:e.id,action:function(){i.closeContextMenu(),l&&l(e)}},e.id):null}))},t.handleContextMenu=function(e){e.stopPropagation(),i.openContextMenu(e,t.renderContextMenu)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.storeListings,n=e.primaryStoreListing,r=(e.skuId,e.onStoreListingSelect,e.currentStoreListingId,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["storeListings","primaryStoreListing","skuId","onStoreListingSelect","currentStoreListingId"])),o=null!=n?1:0;return(o+=t.length)<2?null:a.createElement(c.default,v({onClick:this.handleContextMenu,onDropdownClick:this.handleContextMenu,onContextMenu:this.handleContextMenu},r),f.default.Messages.APPLICATION_TEST_MODE_VIEW_OTHER_LISTINGS)},r}(a.PureComponent);_.displayName="TestModeStoreListingButton";var g=o.default.connectStores([u.default,s.default,l.default],function(e){var t=e.skuId;return{storeListings:u.default.getUnpublishedForSKU(t),primaryStoreListing:u.default.getForSKU(t)}})(_);t.default=g},6952:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(17)),i=n(447),l=I(n(3)),s=I(n(827)),u=n(841),d=I(n(6104)),c=I(n(313)),f=I(n(230)),p=I(n(28)),h=I(n(124)),v=I(n(6020)),m=I(n(148)),y=I(n(6019)),_=I(n(301)),g=I(n(44)),E=n(0),S=I(n(13)),T=n(6051),O=I(n(5577));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N="Application Store Verified Guild Invite - Lurker",A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJoinOrView=function(){var e=t.props,n=e.guild,r=e.skuId,a=e.isInGuild,o=function(){return g.default.transitionTo(E.Routes.GUILD(n.id))};e.isLurking?(0,u.joinPublishedStoreListingSkuGuild)(r).then(o):a?o():s.default.joinGuild(n.id,!0,N).then(o)},t.handleLogin=function(){var e={redirect_to:E.Routes.APPLICATION_STORE_LISTING_SKU(t.props.skuId)};g.default.transitionTo(E.Routes.LOGIN,{search:(0,i.stringify)(e)})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderMemberInfo=function(){var e=this.props.guild,t=e.approximateMemberCount,n=e.approximatePresenceCount;return null==t||null==n?null:C(m.default,{className:O.default.memberInfo,align:m.default.Align.CENTER},void 0,C("div",{className:O.default.dotOnline}),C("span",{className:O.default.memberText},void 0,S.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:n})),C("div",{className:O.default.dotOffline}),C("span",{className:O.default.memberText},void 0,S.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:t})))},a.render=function(){var e=this.props,t=e.guild,n=e.inChannel,r=e.isInGuild,a=e.isLurking,i=e.isAuthenticated,l=e.className,s=e.pageSize;if(n&&r)return null;var u=new c.default(t),d=S.default.Messages.LURKER_MODE_VIEW_GUILD,f=this.handleJoinOrView,p=h.default.Looks.FILLED,g=h.default.Colors.PRIMARY;return i?r?(p=h.default.Looks.OUTLINED,g=O.default.buttonColorInGuild,d=C(m.default,{align:m.default.Align.CENTER},void 0,C("div",{},void 0,S.default.Messages.JOINED_SERVER),C(_.default,{name:_.default.Names.CHECKMARK,className:O.default.joinedCheckmark}))):a&&n&&(d=S.default.Messages.JOIN_SERVER):(d=S.default.Messages.LOGIN,f=this.handleLogin),C("div",{className:(0,o.default)(l,s===T.PageSizes.SMALL?O.default.inviteSmall:O.default.inviteLarge)},void 0,C(v.default,{},void 0,S.default.Messages.APPLICATION_STORE_SECTION_TITLE_VERIFIED_GUILD),C("div",{className:O.default.content},void 0,C("div",{className:O.default.info},void 0,C(y.default,{guild:u,active:!0,size:y.default.Sizes.LARGE,className:O.default.guildIcon}),C("div",{className:O.default.infoText},void 0,C("div",{className:O.default.name},void 0,t.name),this.renderMemberInfo())),C(h.default,{size:h.default.Sizes.SMALL,className:O.default.actionButton,fullWidth:!0,color:g,look:p,onClick:f},void 0,d)))},r}(a.PureComponent);A.displayName="VerifiedGuildInvite";var M=(0,d.default)(l.default.connectStores([p.default,f.default],function(e){var t=e.guild,n=f.default.isLurking(t.id);return{isInGuild:null!=p.default.getGuild(t.id)&&!n,isLurking:n}})(A));t.default=M,e.exports=t.default},6953:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=p(n(5992)),l=p(n(148)),s=p(n(308)),u=p(n(6070)),d=p(n(5358)),c=n(0),f=p(n(5843));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var p=r.prototype;return p.handleContextMenu=function(e,t){(0,o.openContextMenu)(e,function(e){return a.createElement(d.default,v({},e,{type:c.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},p.renderUser=function(e){var t=this;return null==e?null:h(l.default,{className:f.default.user,align:l.default.Align.CENTER,onContextMenu:function(n){null!=e&&t.handleContextMenu(n,e)}},e.id,h(i.default,{src:e.getAvatarURL(),size:i.default.Sizes.XSMALL}),h(u.default,{user:e,className:f.default.tag,usernameClass:f.default.username,discriminatorClass:f.default.discriminator}))},p.render=function(){var e=this,t=this.props,n=t.party,r=t.header,a=n.map(function(t){return e.renderUser(t)});return h("div",{className:f.default.userList},void 0,h("div",{className:f.default.header},void 0,r),h(s.default,{className:f.default.content,fade:!0,theme:s.default.Themes.GHOST_HAIRLINE},void 0,a))},r}(a.PureComponent);m.displayName="UserListPopout";var y=m;t.default=y,e.exports=t.default},6954:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LinkButton=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(17)),i=n(221),l=O(n(303)),s=O(n(443)),u=n(302),d=O(n(77)),c=O(n(148)),f=O(n(301)),p=O(n(6287)),h=O(n(125)),v=n(223),m=O(n(6021)),y=O(n(6955)),_=O(n(5358)),g=O(n(445)),E=n(0),S=O(n(13)),T=O(n(5580));function O(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){function t(){return e.apply(this,arguments)||this}return N(t,e),t.prototype.render=function(){var e,t=this.props,n=t.route,r=t.selected,a=t.iconName,l=t.text,s=t.children,u=t.locationState;return C("div",{className:(0,o.default)((e={},e[T.default.channel]=!0,e[T.default.selected]=r,e))},void 0,C(i.Link,{to:{pathname:n,state:u}},void 0,C(f.default,{name:a,className:T.default.linkButtonIcon}),C("div",{className:T.default.name},void 0,l),s))},t}(a.Component);t.LinkButton=A,A.displayName="LinkButton";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={animated:new l.default.Value(1)},t.handleClose=function(e){null!=e&&(e.preventDefault(),e.stopPropagation());var n=t.props.channel;s.default.closePrivateChannel(n.id,t.props.selected)},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,i=n.user;r.type===E.ChannelTypes.GROUP_DM?(0,u.openContextMenu)(e,function(e){return a.createElement(y.default,I({},e,{channelId:r.id,selected:o}))},{noBlurEvent:!0}):(0,u.openContextMenu)(e,function(e){return a.createElement(_.default,I({},e,{type:E.ContextMenuTypes.USER_PRIVATE_CHANNELS,user:i,channelId:r.id,selected:o}))})},t.handleLeaveGroup=function(e){e.preventDefault(),e.stopPropagation();var n=t.props.channel,r=n.toString(),o=S.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:r}),i=S.default.Messages.LEAVE_GROUP_DM_BODY.format({name:r});n.isManaged()&&(o=S.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:r}),i=S.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:r})),d.default.push(function(e){return a.createElement(g.default,I({header:o,confirmText:S.default.Messages.LEAVE_GROUP_DM,cancelText:S.default.Messages.CANCEL,onConfirm:t.handleClose},e),C(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,i))})},t.handleMouseDown=function(){s.default.preload(E.ME,t.props.channel.id)},t}N(t,e);var n=t.prototype;return n.componentWillEnter=function(e){this.state.animated.setValue(0),l.default.timing(this.state.animated,{toValue:1,duration:200}).start(e)},n.componentWillLeave=function(e){l.default.timing(this.state.animated,{toValue:0,duration:200}).start(e)},n.renderActivity=function(e){return C(c.default,{className:T.default.activity,align:c.default.Align.CENTER},void 0,C("div",{className:T.default.activityText},void 0,(0,v.renderActivity)(e)),(0,v.hasRichActivity)(e)&&C(f.default,{name:f.default.Names.RICH_ACTIVITY,className:T.default.activityIcon,foreground:T.default.activityIconForeground}))},n.renderChannelName=function(){var e=this.props,t=e.channel,n=e.activity,r=e.showMobileIndicator;if(t.type===E.ChannelTypes.GROUP_DM){var a=S.default.Messages.MEMBERS_HEADER.format({members:t.recipients.length+1});return C("div",{className:T.default.name},void 0,t.toString(),C("div",{className:T.default.activity},void 0,a))}return null!=n?C("div",{className:T.default.name},void 0,C("span",{className:T.default.nameWithActivity},void 0,t.toString()),r?C(p.default,{className:T.default.mobileIndicator}):null,this.renderActivity(n)):C("div",{className:T.default.nameWrapper},void 0,C("span",{className:T.default.name},void 0,t.toString()),r?C(p.default,{className:T.default.mobileIndicator}):null)},n.renderAvatar=function(){var e=this.props,t=e.channel,n=e.user,r=e.status,a=e.activity,o=e.typing;return t.type===E.ChannelTypes.GROUP_DM?C(m.default,{channel:t,theme:E.ThemeTypes.DARK,outerClassName:T.default.avatar}):C(m.default,{user:n,status:r,streaming:(0,v.isStreaming)(a),typing:o,theme:E.ThemeTypes.DARK,outerClassName:T.default.avatar,statusClassName:T.default.status})},n.render=function(){var e,t,n=this.props,r=n.channel,s=n.selected;t=r.type===E.ChannelTypes.GROUP_DM?this.handleLeaveGroup:this.handleClose;var u={height:this.state.animated.interpolate({inputRange:[0,1],outputRange:[0,42]}),opacity:this.state.animated};return a.createElement(l.default.div,{className:(0,o.default)((e={},e[T.default.channel]=!0,e[T.default.selected]=s,e)),style:u,key:r.id,ref:r.id,onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown},C(i.Link,{to:E.Routes.CHANNEL(E.ME,r.id)},void 0,this.renderAvatar(),this.renderChannelName(),C("button",{className:T.default.close,onClick:t})))},t}(a.PureComponent);M.displayName="PrivateChannel",M.defaultProps={selected:!1};var P=M;t.default=P},6955:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(3)),i=S(n(443)),l=n(302),s=S(n(77)),u=S(n(12)),d=S(n(20)),c=S(n(125)),f=S(n(6076)),p=S(n(5995)),h=S(n(5991)),v=S(n(445)),m=S(n(6956)),y=S(n(6461)),_=S(n(6062)),g=n(0),E=S(n(13));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleViewInstantInvites=function(){(0,l.closeContextMenu)(),s.default.push(function(e){return a.createElement(m.default,O({channelId:t.props.channel.id},e))})},t}return I(t,e),t.prototype.render=function(){return this.props.channel.isOwner(u.default.getId())?T(h.default,{label:E.default.Messages.INSTANT_INVITES,action:this.handleViewInstantInvites}):null},t}(a.PureComponent);C.displayName="InstantInvites";var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChangeIcon=function(e){(0,l.closeContextMenu)(),i.default.setIcon(t.props.channel.id,e)},t}return I(t,e),t.prototype.render=function(){return T(h.default,{label:E.default.Messages.CHANGE_ICON,styles:{position:"relative"}},void 0,T(f.default,{onChange:this.handleChangeIcon,size:g.AVATAR_MAX_SIZE}))},t}(a.PureComponent);N.displayName="ChangeIcon";var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRemoveIcon=function(){(0,l.closeContextMenu)(),i.default.setIcon(t.props.channel.id,null)},t}return I(t,e),t.prototype.render=function(){return null!=this.props.channel.icon?T(h.default,{label:E.default.Messages.REMOVE_ICON,action:this.handleRemoveIcon}):null},t}(a.PureComponent);A.displayName="RemoveIcon";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleConfirmLeave=function(){(0,l.closeContextMenu)();var e=t.props.channel,n=e.toString(),r=E.default.Messages.LEAVE_GROUP_DM_TITLE.format({name:n}),o=E.default.Messages.LEAVE_GROUP_DM_BODY.format({name:n});e.isManaged()&&(r=E.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({name:n}),o=E.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({name:n})),s.default.push(function(e){return a.createElement(v.default,O({header:r,confirmText:E.default.Messages.LEAVE_GROUP_DM,cancelText:E.default.Messages.CANCEL,onConfirm:t.handleLeave},e),T(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,o))})},t.handleLeave=function(){var e=t.props,n=e.channel,r=e.selected;i.default.closePrivateChannel(n.id,r)},t}return I(t,e),t.prototype.render=function(){return T(h.default,{label:E.default.Messages.LEAVE_GROUP_DM,action:this.handleConfirmLeave,danger:!0})},t}(a.PureComponent);M.displayName="LeaveGroup";var P=function(e){function t(){return e.apply(this,arguments)||this}return I(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.className,r=e.selected,a=e.channel;return null==a?null:a.isManaged()?null:T("div",{className:n,style:t},void 0,T(p.default,{},void 0,T(C,{channel:a}),T(N,{channel:a}),T(A,{channel:a})),T(p.default,{},void 0,T(y.default,{channel:a}),T(M,{channel:a,selected:r})),T(_.default,{id:a.id}))},t}(a.PureComponent);P.displayName="GroupDMContextMenu";var b=o.default.connectStores([d.default],function(e){var t=e.channelId;return{channel:d.default.getChannel(t)}})(P);t.default=b,e.exports=t.default},6956:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=w(n(2)),o=D(n(17)),i=D(n(6)),l=D(n(3)),s=D(n(8)),u=D(n(311)),d=D(n(6111)),c=D(n(128)),f=D(n(20)),p=D(n(307)),h=D(n(35)),v=D(n(124)),m=D(n(6253)),y=w(n(6002)),_=D(n(148)),g=D(n(220)),E=D(n(6465)),S=D(n(438)),T=D(n(125)),O=n(823),I=D(n(18)),C=n(177),N=D(n(6021)),A=n(0),M=D(n(13)),P=D(n(5363)),b=D(n(5362)),R=D(n(5357)),L=D(n(5579));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRevokeInvite=function(){var e=t.props,n=e.onRevoke,r=e.invite;null!=n&&n(r)},t}return G(t,e),t.prototype.render=function(){var e=this.props,t=e.invite,n=e.hideDiscriminator,r=e.hideInviteCode,a=new c.default(t.inviter);return k(_.default,{className:(0,o.default)(L.default.row,b.default.card)},void 0,k(_.default,{align:_.default.Align.CENTER,className:L.default.userColumn},void 0,k(N.default,{user:a,size:"xsmall",className:L.default.avatar}),k(E.default,{user:a,hideDiscriminator:n,usernameClass:L.default.username,discriminatorClass:L.default.discrimClass})),k(_.default,{align:_.default.Align.CENTER,grow:0,shrink:0,basis:100,className:L.default.boostZIndex},void 0,k(T.default,{family:T.default.Family.CODE,className:L.default.code},void 0,r?"...":t.code)),k(_.default,{basis:100,grow:0,shrink:0,align:_.default.Align.CENTER,justify:_.default.Justify.END,className:L.default.boostZIndex},void 0,k(T.default,{family:T.default.Family.CODE,className:L.default.alignRight},void 0,k(m.default,{deadline:t.getExpiresAt(),showDays:!1})),k("button",{className:(0,o.default)(L.default.revokeInvite,P.default.button),onClick:this.handleRevokeInvite})))},t}(a.PureComponent);F.displayName="InviteRow";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={loading:!0,invites:null},t.handleRevoke=function(e){u.default.revokeInvite(e.code),t.setState({invites:t.state.invites.filter(function(t){return t!==e})})},t.handleClose=function(){var e=t.props.onClose;e&&e()},t}G(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this,t=this.props.channelId;s.default.get({url:A.Endpoints.INSTANT_INVITES(t),retries:3}).then(function(t){var n=t.body.map(function(e){return new d.default(U({},e,{maxUses:e.max_uses,maxAge:e.max_age,createdAt:e.created_at}))});e.setState({loading:!1,invites:n})}),I.default.track(A.AnalyticEvents.OPEN_MODAL,U({},(0,C.collectChannelAnalyticsMetadata)(f.default.getChannel(t)),{type:"Group DM Invites",source:"Group DM Menu"}))},r.renderContent=function(){var e=this.state,t=e.loading,n=e.invites;return t||null==n?k(S.default,{className:R.default.marginTop20,type:S.default.Type.SPINNING_CIRCLE}):i.default.isEmpty(n)?this.renderEmpty():k("div",{className:L.default.container},void 0,this.renderHeader(),this.renderInvites())},r.renderEmpty=function(){return k(y.default,{theme:this.props.theme},void 0,k(y.EmptyStateImage,{darkSrc:n(6637),lightSrc:n(6638),width:256,height:130,style:{marginBottom:0}}),k(y.EmptyStateText,{className:R.default.marginTop20},void 0,M.default.Messages.NO_INVITES_CAPTION))},r.renderHeader=function(){return k(_.default,{},void 0,k(_.default.Child,{wrap:!0},void 0,k(O.FormTitle,{},void 0,M.default.Messages.INSTANT_INVITE_INVITER)),k(_.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,k(O.FormTitle,{},void 0,M.default.Messages.INSTANT_INVITE_INVITE_CODE)),k(_.default.Child,{wrap:!0,grow:0,shrink:0,basis:100},void 0,k(O.FormTitle,{className:L.default.alignRight},void 0,M.default.Messages.INSTANT_INVITE_EXPIRES)))},r.renderInvites=function(){var e=this,t=this.props,n=t.hideDiscriminators,r=t.hideInviteCodes;return(0,i.default)(this.state.invites).sortBy(function(e){return(e.inviter.username||"").toLocaleLowerCase()}).map(function(t){return k(F,{invite:t,hideDiscriminator:n,hideInviteCode:r,onRevoke:e.handleRevoke},t.code)}).value()},r.render=function(){return k(g.default,{size:g.default.Sizes.MEDIUM},void 0,k(g.default.Header,{direction:_.default.Direction.VERTICAL,align:_.default.Align.START},void 0,k(O.FormTitle,{tag:O.FormTitleTags.H2},void 0,M.default.Messages.INVITES),k(O.FormText,{type:O.FormTextTypes.DESCRIPTION},void 0,M.default.Messages.SETTINGS_INVITE_TIP_WITHOUT_CREATE)),k(g.default.Content,{},void 0,this.renderContent()),k(g.default.Footer,{},void 0,k(v.default,{onClick:this.handleClose},void 0,M.default.Messages.DONE)))},t}(a.PureComponent);j.displayName="InviteSettingsModal";var x=l.default.connectStores([p.default,h.default],function(){return{hideDiscriminators:p.default.hidePersonalInformation,hideInviteCodes:p.default.hideInstantInvites,theme:h.default.theme}})(j);t.default=x,e.exports=t.default},6957:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(6257)),i=v(n(320)),l=v(n(826)),s=v(n(6013)),u=v(n(129)),d=v(n(308)),c=v(n(177)),f=v(n(845)),p=n(0),h=v(n(5581));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=42,g=100,E=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).scrollerRef=a.createRef(),n.hasReportedAnalytics=!1,n.reportAnalytics=function(){if(!n.hasReportedAnalytics){var e=n.scrollerRef.current;if(null!=e){var t=n.props,r=t.privateChannelIds,o=t.channels;if(0!==r.length){var i=a.Children.count(n.props.children),l=_*i,s=e.getScrollData().offsetHeight,d=Math.round((s-l)/_),f=d>r.length?r.slice(0,d+1):r,h=f.map(function(e){return null!=o[e]?o[e].getRecipientId():null}),v={num_users_visible:f.length,num_users_visible_with_mobile_indicator:h.filter(function(e){return null!=e&&u.default.isMobileOnline(e)}).length};n.hasReportedAnalytics=!0,c.default.trackWithMetadata(p.AnalyticEvents.DM_LIST_VIEWED,y({},v))}}}},n.handleScroll=(0,o.default)(function(){var e=n.scrollerRef.current;if(null!=e){var t=e.getScrollerNode();null!=t&&s.default.updateChannelListScroll(p.ME,t.scrollTop)}},g),n.state={initialized:!1,preRenderedChildren:a.Children.count(t.children)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e){return{preRenderedChildren:a.Children.count(e.children)}};var h=r.prototype;return h.componentDidMount=function(){var e=this.props,t=e.selectedChannelId,n=e.homeLink;null!=t&&null!=n&&n.indexOf(t)>=0&&this.scrollToChannel(t),this.reportAnalytics()},h.shouldComponentUpdate=function(e){return!(0,i.default)(this.props,e,["channels","children"])},h.componentDidUpdate=function(e){var t=this.props,n=t.selectedChannelId,r=t.homeLink;null!=n&&n!==e.selectedChannelId?this.scrollToChannel(n):null==n&&r!==e.homeLink&&this.scrollToChannel(null),this.reportAnalytics()},h.scrollToChannel=function(e){var t=this.scrollerRef.current;if(null!=t){var n=this.props.padding,r=this.state.preRenderedChildren,a=this.props.privateChannelIds.indexOf(e),o=0;a<0||null==e?t.scrollTo(o):(o+=_*(a+r)+n,t.scrollIntoViewRect(Math.max(o-8,0),o+_+8,!1))}},h.render=function(){var e=this.props,t=e.selectedChannelId,n=e.privateChannelIds,r=e.renderChannel,o=e.padding,i=e.renderEmptyState,s=e.channels,u=a.Children.toArray(this.props.children),c=u.length;n.forEach(function(e){var n=s[e];null!=n&&u.push(r(n,t===e))});var h={theme:f.default.Themes.GHOST_HAIRLINE,backgroundColor:p.Colors.PRIMARY_DARK_630,fade:!0,ref:this.scrollerRef,onScroll:this.handleScroll};return u.length===c?(u.push(i("no-private-channels")),a.createElement(d.default,y({},h,{style:{paddingTop:o,paddingBottom:8}}),u)):u.length>30?a.createElement(f.default,y({},h,{elementHeight:_,batchEndMultiplier:1.3,track:!1,backgroundColor:p.Colors.PRIMARY_DARK_630,paddingTop:o,paddingBottom:8}),u):a.createElement(d.default,y({},h,{style:{paddingTop:o,paddingBottom:8}}),m(l.default,{transitionAppear:!1},void 0,u))},r}(a.Component);E.displayName="PrivateChannelsList",E.defaultProps={padding:20,renderEmptyState:function(e){return m("div",{className:h.default.empty},e)}};var S=E;t.default=S,e.exports=t.default},6958:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=n(0),l=s(n(5582));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=Object.freeze({SMALL:1,MEDIUM:2,LARGE:4}),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderCircle=function(){var e=this.props,t=e.strokeSize,n=e.percent,r=e.colorOverride,a=(20-t)/2,o=a*Math.PI*2;return u("svg",{viewBox:"0 0 20 20",className:l.default.circle},void 0,u("circle",{className:l.default.circleBackground,cx:10,cy:10,r:a,strokeWidth:t+"px"}),u("circle",{className:l.default.circleProgress,cx:10,cy:10,r:a,strokeWidth:t+"px",strokeLinecap:"round",transform:"rotate(-90 10 10)",stroke:null!=r?r:i.Colors.LINK,style:{strokeDasharray:o,strokeDashoffset:(1-n/100)*o}}))},a.render=function(){var e=this.props,t=e.className,n=e.children;return u("div",{className:(0,o.default)(l.default.progressCircle,t)},void 0,this.renderCircle(),n)},r}(a.Component);c.displayName="ProgressCircle",c.StrokeSizes=d,c.defaultProps={strokeSize:d.MEDIUM};var f=c;t.default=f,e.exports=t.default},6959:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=c(n(17)),l=c(n(437)),s=c(n(6960)),u=n(0),d=c(n(5388));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=((r={})[u.RTCConnectionQuality.UNKNOWN]=l.default.Colors.BLACK,r[u.RTCConnectionQuality.BAD]=l.default.Colors.RED,r[u.RTCConnectionQuality.AVERAGE]=l.default.Colors.YELLOW,r[u.RTCConnectionQuality.FINE]=l.default.Colors.GREEN,r),h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this.props,r=n.quality,a=n.lastPing,o=n.state,c=n.hasVideo,h=n.redesignedActivityPanel,v=void 0!==h&&h,m=n.className,y=n.children;o===u.RTCConnectionStates.RTC_CONNECTED&&(t=f("span",{className:(0,i.default)("ping",v?m:null)}),r!==u.RTCConnectionQuality.UNKNOWN&&null!=a&&(t=f(l.default,{text:a.toFixed(0)+" ms",color:p[r]},void 0,t)));var _=s.default.getStatus(o,c),g=_.connectionStatus,E=_.connectionStatusText;return f("div",{className:(0,i.default)("rtc-connection-status","rtc-connection-status-"+g,"rtc-connection-quality-"+r,v?"":m)},void 0,t,f("div",{className:(0,i.default)((e={},e[d.default.description]=v,e))},void 0,f("span",{className:(0,i.default)(v?m||"":null)},void 0,E),y))},r}(o.PureComponent);h.displayName="RTCConnectionStatus";var v=h;t.default=v,e.exports=t.default},6960:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=n(0),o=(r=n(13))&&r.__esModule?r:{default:r};var i={getStatus:function(e,t){var n,r;switch(void 0===t&&(t=!1),e){case a.RTCConnectionStates.CONNECTING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_CONNECTING;break;case a.RTCConnectionStates.AUTHENTICATING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_AUTHENTICATING;break;case a.RTCConnectionStates.AWAITING_ENDPOINT:n="connecting",r=o.default.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;break;case a.RTCConnectionStates.RTC_CONNECTED:n="connected",r=t?o.default.Messages.CONNECTION_STATUS_VIDEO_CONNECTED:o.default.Messages.CONNECTION_STATUS_VOICE_CONNECTED;break;case a.RTCConnectionStates.RTC_CONNECTING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_RTC_CONNECTING;break;case a.RTCConnectionStates.ICE_CHECKING:n="connecting",r=o.default.Messages.CONNECTION_STATUS_ICE_CHECKING;break;case a.RTCConnectionStates.NO_ROUTE:n="error",r=o.default.Messages.CONNECTION_STATUS_NO_ROUTE;break;case a.RTCConnectionStates.RTC_DISCONNECTED:n="error",r=o.default.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;break;case a.RTCConnectionStates.DISCONNECTED:default:n="error",r=o.default.Messages.CONNECTION_STATUS_DISCONNECTED}return{connectionStatus:n,connectionStatusText:r}}};t.default=i,e.exports=t.default},6961:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=n(6962),i=n(56),l=v(n(6716)),s=h(n(46)),u=h(n(305)),d=h(n(309)),c=n(0),f=h(n(13)),p=h(n(5584));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=m(o.SparklinesLine,{}),_=m(o.SparklinesReferenceLine,{type:"mean"}),g=m("hr",{}),E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).openDebugPanel=function(){var e=t.props.onClose;e&&e(),l.open()},t.renderVoiceConnected=function(){var e=t.props,n=e.pings,r=e.hostname,i=e.averagePing,l=e.lastPing,s=e.outboundLossRate,u=null!=s?f.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_RATE:f.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED;return m(a.Fragment,{},void 0,m("div",{className:p.default.sparkline},void 0,m(o.Sparklines,{data:n,width:210,height:30},void 0,y,_)),u.format({hostname:r.split(".")[0],badPing:250,averagePing:i.toFixed(0),lastPing:(l||0).toFixed(0),outboundLossRate:(s||0).toFixed(1),badLossRate:10}))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props.connectionState,n=(e={},e[c.RTCConnectionStates.AWAITING_ENDPOINT]=f.default.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({url:c.STATUS_PAGE_ENDPOINT}),e[c.RTCConnectionStates.CONNECTING]=f.default.Messages.RTC_CONNECTION_STATE_CONNECTING,e[c.RTCConnectionStates.AUTHENTICATING]=f.default.Messages.RTC_CONNECTION_STATE_AUTHENTICATING,e[c.RTCConnectionStates.DISCONNECTED]=f.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e[c.RTCConnectionStates.RTC_CONNECTING]=f.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING,e[c.RTCConnectionStates.ICE_CHECKING]=f.default.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({url:d.default.getArticleURL(c.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[c.RTCConnectionStates.RTC_CONNECTED]=this.renderVoiceConnected,e[c.RTCConnectionStates.NO_ROUTE]=f.default.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({url:d.default.getArticleURL(c.HelpdeskArticles.VOICE_CONNECTION_ERRORS)}),e[c.RTCConnectionStates.RTC_DISCONNECTED]=f.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,e)[t];return m("div",{className:p.default.container},void 0,m("header",{},void 0,f.default.Messages.RTC_CONNECTION),m("section",{},void 0,"function"==typeof n?n():m("p",{},void 0,n),g,m("div",{className:p.default.popoutBottom},void 0,m("span",{className:p.default.secured},void 0,f.default.Messages.IP_ADDRESS_SECURED),s.default.supports(i.Features.DIAGNOSTICS)&&!__OVERLAY__&&m(u.default,{className:p.default.debugButton,onClick:this.openDebugPanel},void 0,f.default.Messages.DEBUG))))},r}(a.PureComponent);E.displayName="RTCConnectionPopout";var S=E;t.default=S,e.exports=t.default},6963:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=p(n(17)),i=p(n(5993)),l=n(862),s=p(n(6760)),u=p(n(6761)),d=p(n(821)),c=h(n(6107)),f=p(n(6289));n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleGamePopoutOpen=function(){var e=t.props,n=e.game,r=e.source,a=e.onOpen,o=e.analyticsContext;null!=n&&(c.trackGamePopoutOpened(n,r,o.location),a&&a())},t.renderGamePopout=function(e){var n=t.props,r=n.game,o=n.source,i=n.analyticsContext;return a.createElement(f.default,v({},e,{game:r,source:o,analyticsContext:i}))},t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.children,n=e.onClose,i=e.interactiveClassName,c=e.game;return null==c||c.id===l.SPOTIFY_APPLICATION_ID||c instanceof s.default||c instanceof u.default?t:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{render:this.renderGamePopout,position:d.default.Positions.BOTTOM_LEFT,onOpen:this.handleGamePopoutOpen,onClose:n,closeOnScroll:!1,preventCloseFromModal:!0,preventCloseOnUnmount:!0},void 0,a.cloneElement(t,{className:(0,o.default)(t.props.className,i)}))},i}(a.PureComponent);m.displayName="GamePopoutOpener";var y=(0,i.default)(m);t.default=y,e.exports=t.default},6964:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(148)),l=s(n(5474));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.children,n=e.className,r=e.splashArtURL;return u(i.default,{className:(0,o.default)(l.default.header,n),align:i.default.Align.CENTER},void 0,u("div",{className:l.default.splashArt,style:null!=r?{backgroundImage:"url("+r+")"}:null}),t)};d.displayName="ActivityFeedCardHeader";var c=function(e){var t=e.children,n=e.className;return u("div",{className:(0,o.default)(l.default.body,n)},void 0,t)};c.displayName="ActivityFeedCardBody";var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMouseEnter,a=e.onMouseLeave;return u("div",{className:(0,o.default)(l.default.card,n),onMouseEnter:r,onMouseLeave:a},void 0,t)},r}(a.PureComponent);f.displayName="ActivityFeedCard",f.Header=d,f.Body=c;var p=f;t.default=p,e.exports=t.default},6965:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=c(n(6064)),l=c(n(5995)),s=c(n(5991)),u=n(0),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleGuildCreate=function(){(0,o.closeContextMenu)(),i.default.open(u.CreateGuildModalScreens.CreateGuild,"Guild List - ContextMenu")},t.handleGuildJoin=function(){(0,o.closeContextMenu)(),i.default.open(u.CreateGuildModalScreens.JoinGuild,"Guild List - ContextMenu")},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return f(l.default,{},void 0,f(s.default,{label:d.default.Messages.JOIN_SERVER_BUTTON_CTA,action:this.handleGuildJoin}),f(s.default,{label:d.default.Messages.CREATE_SERVER_BUTTON_CTA,action:this.handleGuildCreate}))},r}(a.PureComponent);p.displayName="GuildCreateJoinGroup";var h=p;t.default=h,e.exports=t.default},6966:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(3)),i=n(302),l=h(n(77)),s=h(n(149)),u=n(227),d=h(n(5991)),c=h(n(6027)),f=n(0),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var m=function(e){var t,n;function a(t){var n;return v(n=e.call(this,t)||this).handleClick=n.handleClick.bind(v(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){var e=this.props,t=e.channel,n=e.guild;(0,i.closeContextMenu)(),l.default.push(c.default,{guild:n,channel:t,source:f.InstantInviteSources.GUILD_CONTEXT_MENU})},o.render=function(){return this.props.canCreateInvite?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:p.default.Messages.INVITE_PEOPLE,action:this.handleClick,brand:!0}):null},a}(a.PureComponent);m.displayName="GuildInviteItem";var y=o.default.connectStores([s.default],function(e){var t=e.channel,n=e.guild;return{canCreateInvite:(0,u.canViewInviteModal)(n,t)}})(m);t.default=y,e.exports=t.default},6967:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(304)),i=(y(n(306)),y(n(439))),l=y(n(3)),s=n(302),u=y(n(6e3)),d=y(n(77)),c=y(n(14)),f=y(n(125)),p=y(n(5995)),h=y(n(5991)),v=y(n(445)),m=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=(0,o.default)({displayName:"GuildLeaveGroup",mixins:[l.default.StoreListenerMixin(c.default),i.default],getStateFromStores:function(){return{amOwner:this.props.guild.isOwner(c.default.getCurrentUser())}},render:function(){return this.state.amOwner?null:g(p.default,{},void 0,g(h.default,{label:m.default.Messages.LEAVE_SERVER,action:this.handleLeaveGuild,danger:!0}))},handleLeaveGuild:function(){var e=this;(0,s.closeContextMenu)(),d.default.push(function(t){return a.createElement(v.default,_({header:m.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.name}),confirmText:m.default.Messages.LEAVE_SERVER,cancelText:m.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),g(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY},void 0,m.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.name})))})},handleConfirmLeaveGuild:function(){u.default.leaveGuild(this.props.guild.id)}});t.default=E,e.exports=t.default},6968:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(304)),o=(f(n(306)),f(n(439))),i=f(n(3)),l=n(302),s=f(n(827)),u=f(n(6043)),d=f(n(5991)),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)({displayName:"GuildMarkReadItem",mixins:[i.default.LazyStoreListenerMixin(u.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{hasUnread:u.default.getUnreadGuildsIgnoreMuted(this.props.guildId)}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{label:c.default.Messages.MARK_AS_READ,action:this.handleMarkAsRead,disabled:!this.state.hasUnread})},handleMarkAsRead:function(){(0,l.closeContextMenu)(),s.default.markGuildAsRead(this.props.guildId)}});t.default=p,e.exports=t.default},6969:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(304)),o=(c(n(306)),c(n(439))),i=c(n(3)),l=c(n(6158)),s=c(n(226)),u=c(n(6012)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"GuildMuteItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{muted:s.default.isMuted(this.props.guildId)}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.SERVER_MUTE,action:this.handleServerMute,active:this.state.muted})},handleServerMute:function(){l.default.updateNotificationSettings(this.props.guildId,{muted:!this.state.muted})}});t.default=f,e.exports=t.default},6970:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=u(n(6158)),l=u(n(5991)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleShowNotificationSettings=function(){(0,o.closeContextMenu)(),i.default.open(t.props.guildId)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.NOTIFICATION_SETTINGS,action:this.handleShowNotificationSettings})},a}(a.PureComponent);d.displayName="GuildNotificationsItem";var c=d;t.default=c,e.exports=t.default},6971:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=u(n(6641)),l=u(n(5991)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleOpenPrivacySettings=function(){(0,o.closeContextMenu)(),i.default.open(t.props.guildId)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return __OVERLAY__?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{label:s.default.Messages.PRIVACY_SETTINGS,action:this.handleOpenPrivacySettings})},a}(a.PureComponent);d.displayName="GuildPrivacySettingsItem";var c=d;t.default=c,e.exports=t.default},6972:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=v(n(304)),o=(v(n(306)),v(n(439))),i=v(n(3)),l=n(302),s=v(n(6e3)),u=v(n(149)),d=v(n(5991)),c=v(n(6087)),f=n(6719),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=(0,a.default)({displayName:"GuildSettingsItem",mixins:[o.default],render:function(){var e=this;if(__OVERLAY__)return null;var t=this.props.guild;return u.default.can(p.Permissions.MANAGE_GUILD,t)||u.default.can(p.Permissions.MANAGE_ROLES,t)||u.default.can(p.Permissions.BAN_MEMBERS,t)||u.default.can(p.Permissions.MANAGE_NICKNAMES,t)||u.default.can(p.Permissions.MANAGE_EMOJIS,t)||u.default.can(p.Permissions.MANAGE_WEBHOOKS,t)||u.default.can(p.Permissions.VIEW_AUDIT_LOG,t)?m(c.default,{label:h.default.Messages.SERVER_SETTINGS,action:function(){return e.handleShowSettings()},render:this.renderSubMenuItems}):null},renderSubMenuItems:function(){var e=this,t=this.props.guild;return(0,f.getGuildSettingsSections)(t).map(function(t){var n=t.section,r=t.label;return n!==p.GuildSettingsSections.DELETE&&null!=r?m(d.default,{action:function(){return e.handleShowSettings(n)},label:r},n):null})},handleShowSettings:function(e){(0,l.closeContextMenu)(),s.default.open(this.props.guild.id,e)}}),_=i.default.connectStores([u.default],function(e){var t=e.guild;return{permissionVerson:u.default.getGuildVersion(t.id)}})(y);t.default=_,e.exports=t.default},6973:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(124)),i=h(n(444)),l=h(n(220)),s=h(n(125)),u=h(n(822)),d=h(n(442)),c=h(n(107)),f=h(n(13)),p=h(n(5585));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={textVal:"",error:null},m(n).handleTextChange=n.handleTextChange.bind(m(n)),m(n).handleSubmit=n.handleSubmit.bind(m(n)),m(n).handleCancel=n.handleCancel.bind(m(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=r.prototype;return h.render=function(){var e=this.props,t=e.header,n=e.className,r=e.cancelText,h=e.confirmText,m=e.instructionText,y=e.children,_=this.state,g=_.error,E=_.textVal,S=a.Children.count(y)?v(i.default,{type:i.default.Types.WARNING,className:p.default.card},void 0,v(s.default,{color:s.default.Colors.WHITE,size:s.default.Sizes.MEDIUM},void 0,y)):null;return v(l.default,{tag:"form",onSubmit:this.handleSubmit,className:n},void 0,v(l.default.Header,{},void 0,v(c.default,{tag:c.default.Tags.H4},void 0,t)),v(l.default.Content,{},void 0,S,v(d.default,{title:m,className:p.default.spacing},void 0,v(u.default,{id:"text-entry-confirm",type:"text",value:E,autoComplete:"off",onChange:this.handleTextChange,autoFocus:!0}),g?v(s.default,{color:s.default.Colors.RED,size:s.default.Sizes.SMALL,className:p.default.error},void 0,g):null)),v(l.default.Footer,{},void 0,v(o.default,{type:"submit",color:o.default.Colors.RED},void 0,h||f.default.Messages.CONFIRM),v(o.default,{onClick:this.handleCancel,look:o.default.Looks.LINK,color:o.default.Colors.PRIMARY},void 0,r||f.default.Messages.CANCEL)))},h.handleSubmit=function(e){e.preventDefault();var t=this.state.textVal,n=this.props,r=n.onConfirm,a=n.validationText,o=n.errorText;t.toLowerCase()===a.toLowerCase()?(r&&r(),this.handleCancel()):this.setState({error:o})},h.handleCancel=function(){var e=this.props.onClose;e&&e()},h.handleTextChange=function(e){this.setState({textVal:e})},r}(a.PureComponent);y.displayName="TextEntryConfirm",y.key=function(){return"text-entry-confirm-modal"};var _=y;t.default=_,e.exports=t.default},6974:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=W(n(2)),o=Y(n(17)),i=Y(n(6034)),l=Y(n(6)),s=Y(n(96)),u=Y(n(3)),d=n(6975),c=n(302),f=Y(n(825)),p=W(n(6264)),h=Y(n(128)),v=Y(n(20)),m=Y(n(231)),y=Y(n(6263)),_=Y(n(5997)),g=Y(n(28)),E=Y(n(307)),S=Y(n(35)),T=Y(n(14)),O=W(n(6976)),I=Y(n(5992)),C=Y(n(124)),N=W(n(6002)),A=Y(n(148)),M=Y(n(301)),P=Y(n(308)),b=Y(n(6494)),R=Y(n(438)),L=n(823),D=W(n(6644)),w=Y(n(6037)),U=Y(n(6645)),k=Y(n(6049)),G=Y(n(6977)),F=Y(n(5358)),j=n(0),x=Y(n(13)),B=Y(n(5364)),H=Y(n(5382)),V=Y(n(5588));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var X="guild-settings-audit-logs-user-filter",Q="guild-settings-audit-logs-action-filter",J=function(e){function t(t){var n;return $(n=e.call(this,t)||this).handleHeaderClick=n.handleHeaderClick.bind($(n)),$(n).handleUserContextMenu=n.handleUserContextMenu.bind($(n)),$(n).handleChannelContextMenu=n.handleChannelContextMenu.bind($(n)),$(n).handleTargetContextMenu=n.handleTargetContextMenu.bind($(n)),n}q(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=(e.onHeaderClick,e.guildId,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onHeaderClick","guildId"]));return a.createElement(O.default,z({},t,{onHeaderClick:this.handleHeaderClick,onUserContextMenu:this.handleUserContextMenu,onChannelContextMenu:this.handleChannelContextMenu,onTargetContextMenu:this.handleTargetContextMenu}))},n.handleHeaderClick=function(){var e=this.props,t=e.onHeaderClick,n=e.log;t&&t(n)},n.handleUserContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,c.openContextMenu)(e,function(e){return a.createElement(F.default,z({},e,{type:j.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:n.user}))})},n.handleChannelContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId,o=g.default.getGuild(r);null!=n.options.channel&&null!=o&&(0,c.openContextMenu)(e,function(e){return a.createElement(k.default,z({},e,{type:j.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:n.options.channel}))})},n.handleTargetContextMenu=function(e){var t=this.props,n=t.log,r=t.guildId;(0,c.openContextMenu)(e,function(e){switch(n.targetType){case j.AuditLogTargetTypes.CHANNEL:var t=v.default.getChannel(n.targetId),o=g.default.getGuild(r);return null!=t&&null!=o?a.createElement(k.default,z({},e,{type:j.ContextMenuTypes.CHANNEL_AUDIT_LOG,guild:o,channel:t})):a.createElement(G.default,z({},e,{id:n.targetId}));case j.AuditLogTargetTypes.USER:var i=T.default.getUser(n.targetId);if(null!=i)return a.createElement(F.default,z({},e,{type:j.ContextMenuTypes.USER_AUDIT_LOG,guildId:r,user:i}))}return null})},t}(a.PureComponent);J.displayName="AuditLogClickWrap";var Z=K(w.default,{}),ee=function(e){function t(t){var n;return(n=e.call(this,t)||this)._clickedInside=!1,n.state={expandedId:null,lastExpandedId:null,userFilterQuery:"",actionFilterQuery:""},l.default.bindAll($(n),["renderActionQuickSelectItem","renderUserQuickSelectItem","renderHeaderDropdowns","handleFilterActionChange","handleFilterUserChange","handleHeaderClick","handleOutsideClick","handleContentClick","handleOnScroll","handleSetScrollerRef","handleUserFilterQueryChange","handleUserFilterQueryClear","handleActionFilterQueryChange","handleActionFilterQueryClear","handleSetExpandedRef","handleSetLastExpandedRef","handleFetchNextPage"]),n}q(t,e);var r=t.prototype;return r.componentDidMount=function(){(0,d.fetchLogs)(this.props.guildId),document.addEventListener("click",this.handleOutsideClick)},r.componentWillUnmount=function(){document.removeEventListener("click",this.handleOutsideClick)},r.UNSAFE_componentWillUpdate=function(e,t){this.state.expandedId!==t.expandedId&&(this._prevRects=this.getRects())},r.componentDidUpdate=function(e,t){this.state.expandedId!==t.expandedId&&this.fixScroll(),!this.props.showLoadMore&&this.props.logs.length!==e.logs.length&&null!=this._scrollerRef&&this.isScrollerAtBottom(this._scrollerRef)&&(0,d.fetchNextLogPage)(this.props.guildId,!0)},r.isScrollerAtBottom=function(e){var t=e.getScrollData(),n=t.offsetHeight,r=t.scrollHeight;return t.scrollTop+n>=r},r.fixScroll=function(){var e=this._scrollerRef;if(null!=e){var t=this.getRects(),n=this._prevRects;if(null!=t.expanded&&null!=t.lastExpanded&&null!=n.expanded&&!(t.expanded.top<t.lastExpanded.top)){var r=n.expanded.height-t.lastExpanded.height,a=e.getScrollData().scrollTop-r;e.scrollTo(a)}}},r.getRects=function(){var e={lastExpanded:null,expanded:null};if(null!=this._lastExpandedRef){var t=s.default.findDOMNode(this._lastExpandedRef);null!=t&&t instanceof Element&&(e.lastExpanded=t.getBoundingClientRect())}if(null!=this._expandedRef){var n=s.default.findDOMNode(this._expandedRef);null!=n&&n instanceof Element&&(e.expanded=n.getBoundingClientRect())}return e},r.renderActionQuickSelectItem=function(e,t){var n=this,r=(0,p.getActionType)(e.value),a=(0,p.getTargetType)(e.value);return K(b.default,{className:V.default.actionItem,selected:e.selected,onClick:function(){return n.handleFilterActionChange(e)}},t,K(O.AuditLogIcon,{themeOverride:e.selected?j.ThemeTypes.DARK:null,actionType:r,targetType:a,action:e.value}),K(A.default.Child,{},void 0,e.label))},r.renderUserQuickSelectItem=function(e,t){var n=this,r=null;if(e.label instanceof h.default){var a=e.label;r=[K(A.default.Child,{grow:0},"avatar",K(I.default,{size:I.default.Sizes.SMALL,src:a.getAvatarURL()})),K(A.default.Child,{className:V.default.userText},"user-text",K("span",{className:V.default.username},void 0,a.username),K("span",{className:V.default.discriminator},void 0,"#",a.discriminator))]}else r=[K(A.default.Child,{grow:0,shrink:0},"avatar",K(M.default,{name:M.default.Names.MEMBERS,width:30,height:30,foreground:"audit-log-members-icon-fg"})),K(A.default.Child,{},"user-text",e.label)];return K(b.default,{selected:e.selected,onClick:function(){return n.handleFilterUserChange(e)},style:{height:"auto"}},t,r)},r.renderUserQuickSelectValue=function(e){return e instanceof h.default?e.username:e.valueLabel||e.label},r.renderActionQuickSelectValue=function(e){return e.valueLabel||e.label},r.renderHeaderDropdowns=function(){var e=this.props,t=e.actionFilter,n=e.hide,r=e.userIdFilter,a=e.moderators,l=this.state,s=l.userFilterQuery,u=l.actionFilterQuery;if(n)return null;var d=D.ACTION_FILTER_ITEMS().map(function(e){return z({},e,{selected:e.value===t})}),c=d.filter(function(e){return(0,i.default)(u.toLowerCase(),e.label.toLowerCase())}),f=d.find(function(e){var n=e.value;return t===n}),p={query:u,onChange:this.handleActionFilterQueryChange,onClear:this.handleActionFilterQueryClear,placeholder:x.default.Messages.SEARCH_ACTIONS},v={label:x.default.Messages.GUILD_SETTINGS_FILTER_ALL_USERS,valueLabel:x.default.Messages.GUILD_SETTINGS_FILTER_ALL,value:null,selected:null==r},m=[v].concat(a),y=m.filter(function(e){var t=s.toLowerCase();return e instanceof h.default?(0,i.default)(t,e.username.toLowerCase()):(0,i.default)(t,e.label)}).map(function(e){return e instanceof h.default?{label:e,value:e.id,selected:e.id===r}:e}),_=m.find(function(e){return e instanceof h.default?e.id===r:e.value===r})||v,g={query:s,onChange:this.handleUserFilterQueryChange,onClear:this.handleUserFilterQueryClear,placeholder:x.default.Messages.SEARCH_MEMBERS};return[K(A.default.Child,{},"user-filter",K(U.default,{popoutId:X,popoutClassName:(0,o.default)(V.default.guildSettingsAuditLogsUserFilterPopout,B.default.elevationBorderHigh),items:y,renderItem:this.renderUserQuickSelectItem,renderValue:this.renderUserQuickSelectValue,value:_,onChange:this.handleFilterUserChange,label:x.default.Messages.GUILD_SETTINGS_FILTER_USER,searchProps:g,popoutProps:{preventInvert:!0,position:"bottom"}})),K(A.default.Child,{},"action-filter",K(U.default,{popoutId:Q,popoutClassName:(0,o.default)(V.default.guildSettingsAuditLogsUserFilterPopout,B.default.elevationBorderLow),items:c,renderItem:this.renderActionQuickSelectItem,renderValue:this.renderActionQuickSelectValue,value:f,onChange:this.handleFilterActionChange,label:x.default.Messages.GUILD_SETTINGS_FILTER_ACTION,searchProps:p,popoutProps:{preventInvert:!0,position:"bottom"}}))]},r.renderHeader=function(){return K(A.default,{direction:A.default.Direction.VERTICAL,className:V.default.customHeader},void 0,K(A.default,{align:A.default.Align.CENTER},void 0,K(L.FormTitle,{tag:L.FormTitleTags.H2,className:V.default.marginReset},void 0,x.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG),this.renderHeaderDropdowns()),K(L.FormDivider,{className:(0,o.default)(V.default.marginBottom20,V.default.marginTop20)}))},r.renderSpinner=function(){return K(R.default,{type:R.default.Type.SPINNING_CIRCLE})},r.renderContent=function(){var e=this,t=this.state,r=t.expandedId,o=t.lastExpandedId,i=this.props,l=i.logs,s=i.theme,u=i.hide,d=i.isInitialLoading,c=i.isLoading,f=i.hasError,p=i.guildId;if(u)return Z;if(c||d)return this.renderSpinner();if(0===l.length){var h=f?x.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_BODY:x.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_BODY,v=f?x.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_ERROR_TITLE:x.default.Messages.GUILD_SETTINGS_LABEL_AUDIT_LOG_EMPTY_TITLE;return K(N.default,{theme:s,className:V.default.marginTop40},void 0,K(N.EmptyStateImage,{darkSrc:n(6978),lightSrc:n(6979),width:272,height:130}),K(N.EmptyStateText,{note:h,style:{maxWidth:300}},void 0,v))}return l.map(function(t){var n=r===t.id,i=o===t.id,l=n?e.handleSetExpandedRef:i?e.handleSetLastExpandedRef:null;return a.createElement(J,{guildId:p,ref:l,className:V.default.marginBottom8,onHeaderClick:e.handleHeaderClick,onContentClick:e.handleContentClick,log:t,key:t.id,expanded:n})})},r.renderLoadMore=function(){var e=this.props,t=e.showLoadMore,n=e.hasOlderLogs,r=e.hide;if(t&&n&&!r)return K(C.default,{color:C.default.Colors.PRIMARY,className:V.default.marginTop20,onClick:this.handleFetchNextPage},void 0,x.default.Messages.GUILD_SETTINGS_AUDIT_LOG_LOAD_MORE)},r.render=function(){var e=this.props,t=e.isLoadingNextPage,n=e.hide,r=e.isLoading,o=e.theme===j.ThemeTypes.DARK?j.Colors.PRIMARY_DARK_600:j.Colors.WHITE;return K("div",{className:H.default.customColumn},void 0,K("div",{className:H.default.customContainer},void 0,a.createElement(P.default,{backgroundColor:o,track:!0,theme:P.default.Themes.GHOST,className:H.default.customScroller,onScroll:this.handleOnScroll,ref:this.handleSetScrollerRef},K(A.default,{direction:A.default.Direction.VERTICAL,style:{paddingBottom:60}},void 0,this.renderHeader(),this.renderContent(),this.renderLoadMore(),!t||n||r?null:this.renderSpinner()))))},r.handleFilterActionChange=function(e){var t=e.value;f.default.close(Q),(0,d.filterByAction)(t,this.props.guildId)},r.handleFilterUserChange=function(e){var t=e.value;f.default.close(X),(0,d.filterByUserId)(t,this.props.guildId)},r.handleHeaderClick=function(e){var t=this.state.expandedId;t!==e.id?(this._clickedInside=!0,this.setState({expandedId:e.id,lastExpandedId:t})):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},r.handleOutsideClick=function(){null==this.state.expandedId||this._clickedInside?null!=this.state.expandedId&&(this._clickedInside=!1):(this._expandedRef=null,this._lastExpandedRef=null,this.setState({expandedId:null,lastExpandedId:null}))},r.handleContentClick=function(e){this._clickedInside=!0,e.stopPropagation()},r.handleSetScrollerRef=function(e){this._scrollerRef=e},r.handleOnScroll=function(e){this.isScrollerAtBottom(e)&&this.handleFetchNextPage()},r.handleFetchNextPage=function(){(0,d.fetchNextLogPage)(this.props.guildId)},r.handleUserFilterQueryChange=function(e){this.setState({userFilterQuery:e}),f.default.rerender(X)},r.handleUserFilterQueryClear=function(){this.setState({userFilterQuery:""}),f.default.rerender(X)},r.handleActionFilterQueryChange=function(e){this.setState({actionFilterQuery:e}),f.default.rerender(Q)},r.handleActionFilterQueryClear=function(){this.setState({actionFilterQuery:""}),f.default.rerender(Q)},r.handleSetExpandedRef=function(e){this._expandedRef=e},r.handleSetLastExpandedRef=function(e){this._lastExpandedRef=e},t}(a.PureComponent);ee.displayName="GuildSettingsAuditLog";var te=u.default.connectStores([_.default,y.default,g.default,v.default,T.default,m.default,S.default,E.default],function(){var e=_.default.getGuildId(),t=g.default.getGuild(e),n=y.default.logs;return{guildId:e,moderators:y.default.userIds.map(function(e){return T.default.getUser(e)}),isInitialLoading:y.default.isInitialLoading,isLoading:y.default.isLoading,isLoadingNextPage:y.default.isLoadingNextPage,showLoadMore:y.default.groupedFetchCount>2,hasError:y.default.hasError,hasOlderLogs:y.default.hasOlderLogs,logs:null!=n&&null!=t?D.transformLogs(n,t):[],actionFilter:y.default.actionFilter,userIdFilter:y.default.userIdFilter,theme:S.default.theme,hide:E.default.enabled}})(ee);t.default=te,e.exports=t.default},6975:function(e,t,n){"use strict";t.__esModule=!0,t.fetchLogs=d,t.fetchNextLogPage=function(e,t){void 0===t&&(t=!1);if(!o.default.hasOlderLogs||s())return;var n=o.default.logs,r=n[n.length-1],l=null;null!=r&&(l=r.id);return a.default.dirtyDispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_START,before:l,isGroupedFetch:t}),u(e,{before:l}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,o=t.webhooks;a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_SUCCESS,logs:n,users:r,webhooks:o})},function(){return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_NEXT_PAGE_FAIL})})},t.filterByAction=function(e,t){if(s())return;return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_ACTION,action:e}),d(t,null,e)},t.filterByUserId=function(e,t){if(s())return;return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FILTER_BY_USER,userId:e}),d(t,e)};var r=l(n(8)),a=l(n(1)),o=l(n(6263)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(){return o.default.isLoading||o.default.isLoadingNextPage}function u(e,t){var n=function(e){var t=e.before,n=e.userId,r=e.action;n=n||o.default.userIdFilter,r=r||o.default.actionFilter;var a={};return a.limit=i.AUDIT_LOG_PAGE_LIMIT,null!=t&&(a.before=t),null!=n&&(a.user_id=n),null!=r&&(a.action_type=r),a}(t);return r.default.get({url:i.Endpoints.GUILD_AUDIT_LOG(e),query:n})}function d(e,t,n){if(!s())return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_START}),u(e,{userId:t,action:n}).then(function(e){var t=e.body,n=t.audit_log_entries,r=t.users,o=t.webhooks;a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_SUCCESS,logs:n,users:r,webhooks:o})},function(){return a.default.dispatch({type:i.ActionTypes.AUDIT_LOG_FETCH_FAIL})})}},6976:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.AuditLogIcon=void 0;var r,a,o=v(n(2)),i=h(n(17)),l=(h(n(4)),v(n(6644))),s=n(316),u=n(5992),d=h(n(148)),c=h(n(301)),f=n(0),p=h(n(5586));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _(e,t){var n=l.NotRenderedChanges[e.targetType];return null!=n&&!0===n[t.key]}var g=((r={})[f.AuditLogActionTypes.CREATE]=p.default.typeCreate,r[f.AuditLogActionTypes.UPDATE]=p.default.typeUpdate,r[f.AuditLogActionTypes.DELETE]=p.default.typeDelete,r),E=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.actionType,n=e.targetType,r=e.action,a=e.themeOverride,o=null!=a?p.default["themeOverride"+(0,s.upperCaseFirstChar)(a)]:null;return m("div",{className:(0,i.default)(p.default.icon,g[t],function(e,t){var n;return t===f.AuditLogActions.MESSAGE_DELETE?p.default.targetMessage:(n={},n[f.AuditLogTargetTypes.ALL]=p.default.targetAll,n[f.AuditLogTargetTypes.GUILD]=p.default.targetGuild,n[f.AuditLogTargetTypes.CHANNEL]=p.default.targetChannel,n[f.AuditLogTargetTypes.USER]=p.default.targetMember,n[f.AuditLogTargetTypes.ROLE]=p.default.targetRole,n[f.AuditLogTargetTypes.INVITE]=p.default.targetInvite,n[f.AuditLogTargetTypes.WEBHOOK]=p.default.targetWebhook,n[f.AuditLogTargetTypes.EMOJI]=p.default.targetEmoji,n)[e]}(n,r),o)})},t}(o.PureComponent);t.AuditLogIcon=E,E.displayName="AuditLogIcon";var S=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.user;return m("span",{onContextMenu:e.onContextMenu,className:p.default.userHook},void 0,m("span",{},void 0,t.username),m("span",{className:p.default.discrim},void 0,"#",t.discriminator))},t}(o.PureComponent);S.displayName="UserHook";var T=function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.hasChangesToRender=function(){var e=this.props.log,t=e.changes;return(e.actionType!==f.AuditLogActionTypes.DELETE||e.action===f.AuditLogActions.MEMBER_BAN_ADD||e.action===f.AuditLogActions.MEMBER_KICK||e.action===f.AuditLogActions.MEMBER_PRUNE)&&(null!=t&&t.some(function(t){return!_(e,t)}))},n.renderTitle=function(){var e=this.props,t=e.log,n=e.onUserContextMenu,r=e.onTargetContextMenu,a=e.onChannelContextMenu,o=t.user,i=t.target,s=t.options,u=l.getChangeTitle(t);return null!=u?m("div",{className:p.default.overflowEllipsis},void 0,u.format({user:o,target:i,userHook:function(e,r){return m(S,{user:t.user,onContextMenu:n},r)},targetHook:function(e,n){return t.targetType===f.AuditLogTargetTypes.USER?m(S,{user:t.target,onContextMenu:r},n):m("span",{onContextMenu:r},n,e)},count:s.count,channel:s.channel?s.channel.toString(!0):null,channelHook:function(e,t){return m("span",{onContextMenu:a},t,e)}})):null},n.renderRoleUpdate=function(e){var t=e.newValue;return Array.isArray(t)?t.map(function(e){return m("div",{className:p.default.subListItem},e.id,e.name)}):null},n.renderPermissionUpdate=function(e){var t=this,n=e.newValue;return Array.isArray(n)?n.map(function(e){return m("div",{className:p.default.subListItem},e,l.getStringForPermission(e,t.props.log))}):null},n.renderChangeDetails=function(e){var t=this,n=this.props,r=n.log,a=n.onContentClick;if(null==r.changes)return null;var o=0,s=r.changes.map(function(n,a){var s=n.oldValue,u=n.newValue,c=null;r.action===f.AuditLogActions.MEMBER_ROLE_UPDATE?c=t.renderRoleUpdate(n):r.targetType!==f.AuditLogTargetTypes.ROLE&&r.action!==f.AuditLogActions.CHANNEL_OVERWRITE_CREATE&&r.action!==f.AuditLogActions.CHANNEL_OVERWRITE_UPDATE||(c=t.renderPermissionUpdate(n));var h=e[n.key];if(_(r,n))return null;if("function"==typeof h&&(h=h(n)),null!=h&&"object"==typeof h){if(null==h.format){var v=h[n.newValue];null==v&&null!=h[l.DEFAULT_FOR_STRINGS_KEY]?h=h[l.DEFAULT_FOR_STRINGS_KEY]:null!=v&&(h=v)}null!=h&&null!=h.format&&(h=h.format({user:r.user,target:r.target,oldValue:s,newValue:u,count:Array.isArray(u)?u.length:null,subtarget:r.options.subtarget?r.options.subtarget:null,newColorHook:function(e,t){return m("div",{className:p.default.colorHook,style:{backgroundColor:n.newValue}},t)},oldColorHook:function(e,t){return m("div",{className:p.default.colorHook,style:{backgroundColor:n.oldValue}},t)}}))}if(!h)return console.warn("No change string for",n),null;var y=(0,i.default)(p.default.prefix,g[r.actionType]);return o++,m(d.default,{className:p.default.detail,style:{position:"relative",top:1}},a,m(d.default,{className:y,grow:0},void 0,m("div",{className:p.default.number},void 0,o<10?"0":null,o),m("div",{className:p.default.dash},void 0,"—")),m(d.default,{className:p.default.change,direction:d.default.Direction.VERTICAL},void 0,m("div",{className:p.default.changeStr},void 0,h),null!=c?m("div",{},void 0,c):null))});return m(d.default,{onClick:a,className:p.default.changeDetails,direction:d.default.Direction.VERTICAL},void 0,s)},n.renderChangeSummary=function(){var e=this.props,t=e.expanded,n=e.log;if(t)switch(n.targetType){case f.AuditLogTargetTypes.GUILD:return this.renderChangeDetails(l.GuildChangeStrings());case f.AuditLogTargetTypes.CHANNEL:return this.renderChangeDetails(l.ChannelChangeStrings());case f.AuditLogTargetTypes.USER:return this.renderChangeDetails(l.UserChangeStrings());case f.AuditLogTargetTypes.ROLE:return this.renderChangeDetails(l.RoleChangeStrings());case f.AuditLogTargetTypes.INVITE:return this.renderChangeDetails(l.InviteChangeStrings());case f.AuditLogTargetTypes.WEBHOOK:return this.renderChangeDetails(l.WebhookChangeStrings());case f.AuditLogTargetTypes.EMOJI:return this.renderChangeDetails(l.EmojiChangeStrings())}return null},n.render=function(){var e=this.props,t=e.log,n=e.className,r=e.expanded,a=e.onHeaderClick,o=this.hasChangesToRender(),l=p.default.headerDefault;r?l=p.default.headerExpanded:o&&(l=p.default.headerClickable);var s,h=t.timestampStart.calendar(),v=t.timestampEnd.calendar();s=h===v?m("div",{className:p.default.timestamp},void 0,h):m("div",{className:p.default.timestamp},void 0,h,"—",v);var y=o?a:f.NOOP;return m(d.default,{direction:d.default.Direction.VERTICAL,className:(0,i.default)(p.default.auditLog,n)},void 0,m(d.default,{className:l,direction:d.default.Direction.HORIZONTAL,align:d.default.Align.CENTER,onClick:y},void 0,m(E,{action:t.action,actionType:t.actionType,targetType:t.targetType}),m(u.AvatarImage,{className:p.default.avatar,src:t.user.getAvatarURL()}),m(d.default,{className:p.default.timeWrap,direction:d.default.Direction.VERTICAL},void 0,m(d.default.Child,{grow:1},void 0,this.renderTitle()),s),o?m(c.default,{name:c.default.Names.CARET,className:p.default.expand,foreground:p.default.expandForeground,expanded:r}):null),r?m("div",{className:p.default.divider}):null,this.renderChangeSummary())},t}(o.PureComponent);T.displayName="AuditLog";var O=T;t.default=O},6977:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=(r=n(6062))&&r.__esModule?r:{default:r};function l(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.style,r=e.id;return l("div",{className:t,style:n},void 0,l(i.default,{id:r}))},r}(o.PureComponent);s.displayName="DeveloperContextMenu";var u=s;t.default=u,e.exports=t.default},6978:function(e,t,n){e.exports=n.p+"99253cefda98913b1e9f7d155ad81ed3.svg"},6979:function(e,t,n){e.exports=n.p+"0049cd2d5d8dad87fac3811fa651988e.svg"},6980:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=G(n(2)),o=k(n(17)),i=k(n(6)),l=k(n(3)),s=n(302),u=k(n(827)),d=k(n(6e3)),c=k(n(77)),f=k(n(5997)),p=k(n(307)),h=k(n(35)),v=k(n(14)),m=k(n(5992)),y=k(n(124)),_=G(n(6002)),g=k(n(148)),E=k(n(220)),S=k(n(6057)),T=k(n(438)),O=k(n(125)),I=k(n(832)),C=k(n(829)),N=G(n(440)),A=n(107),M=k(n(184)),P=n(6056),b=k(n(5358)),R=n(0),L=k(n(13)),D=k(n(5362)),w=k(n(5357)),U=k(n(5589));function k(e){return e&&e.__esModule?e:{default:e}}function G(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var B=function(e){function t(){return e.apply(this,arguments)||this}return x(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.ban,r=e.theme,a=e.onRevoke,i=e.onClose;return j(E.default,{className:U.default.bannedUserModal,theme:r},void 0,j(E.default.Content,{className:U.default.content},void 0,j("div",{},void 0,j(g.default,{justify:g.default.Justify.CENTER},void 0,j(O.default,{color:O.default.Colors.PRIMARY,className:U.default.userUsername},void 0,t.toString()),j(O.default,{className:U.default.userDiscrim},void 0,"#",t.discriminator)),j(O.default,{className:(0,o.default)(U.default.reasonHeader,w.default.marginTop40),size:O.default.Sizes.SMALL},void 0,L.default.Messages.BAN_REASON),j(O.default,{className:U.default.reason},void 0,n.reason||L.default.Messages.NO_BAN_REASON))),j(E.default.Footer,{className:U.default.footer},void 0,j(g.default,{justify:g.default.Justify.BETWEEN},void 0,j(y.default,{onClick:a,look:y.default.Looks.LINK,color:y.default.Colors.RED},void 0,L.default.Messages.REVOKE_BAN),j(y.default,{onClick:i},void 0,L.default.Messages.DONE))))},t}(a.PureComponent);B.displayName="BannedUserModal";var H=l.default.connectStores([h.default],function(){return{theme:h.default.theme}})(B),V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleShowModal=function(){var e=t.props,n=e.user,r=e.hideDiscriminator,o=e.ban;c.default.push(function(e){return a.createElement(H,F({},e,{ban:o,user:n,hideDiscriminator:r,onRevoke:t.handleRevokeBan,onClose:t.handleCloseModal}))})},t.handleRevokeBan=function(){var e=t.props,n=e.guild,r=e.user;u.default.unbanUser(n.id,r.id).then(c.default.pop)},t.handleContextMenu=function(e){(0,s.openContextMenu)(e,function(e){return a.createElement(b.default,F({},e,{type:R.ContextMenuTypes.USER_BANS,user:t.props.user}))})},t}x(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.user,n=e.hideDiscriminator;return j(g.default,{className:(0,o.default)(U.default.bannedUser,D.default.card),align:g.default.Align.CENTER,onClick:this.handleShowModal,onContextMenu:this.handleContextMenu},void 0,j(m.default,{className:U.default.bannedUserAvatar,src:t.getAvatarURL()}),j(g.default.Child,{basis:100,className:w.default.marginReset},void 0,j("div",{className:U.default.username},void 0,t.toString(),!n&&j("span",{className:U.default.discrim},void 0,"#",t.discriminator))))},n.handleCloseModal=function(){c.default.pop()},t}(a.PureComponent);V.displayName="BannedUser";var Y=function(e){function t(){return e.apply(this,arguments)||this}x(t,e);var r=t.prototype;return r.makeFilter=function(){var e=this.props.searchQuery;if(null==e||0===e.length)return function(){return!0};var t=new RegExp("^"+M.default.escape(e),"i");return function(e){return null!=e&&t.test(e.username)}},r.renderHeader=function(){var e,t=this.props,r=t.bans,a=t.theme,o=t.searchQuery;null==r?e=null:i.default.isEmpty(r)&&(e=j(_.default,{theme:a,className:w.default.marginTop40},void 0,j(_.EmptyStateImage,{darkSrc:n(6981),lightSrc:n(6982),width:256,height:212}),j(_.EmptyStateText,{note:L.default.Messages.BANS_NO_USERS_BANNED,style:{maxWidth:300}},void 0,L.default.Messages.NO_BANS)));var l=(0,i.default)(r||{}).keys().value().length;return j(C.default,{tag:A.Tags.H2,title:L.default.Messages.BANS_HEADER.format({bans:l})},void 0,j(g.default,{justify:g.default.Justify.BETWEEN,align:g.default.Align.START},void 0,j(N.default,{type:N.Types.DESCRIPTION,className:w.default.marginBottom20},void 0,L.default.Messages.BANS_HINT.format({onModerationClick:this.handleModerationClick})),null==e&&j(S.default,{className:U.default.searchBar,query:o,placeholder:L.default.Messages.BANS_SEARCH_PLACEHOLDER,onChange:this.handleQueryChange,onClear:this.handleQueryClear})),j(I.default,{style:{marginBottom:-1}}),e)},r.render=function(){var e,t=this.props,n=t.bans,r=t.guild,a=t.streamerMode,o=t.theme;return null==r?null:(e=null==n?[j(T.default,{className:w.default.marginTop20,type:T.default.Type.SPINNING_CIRCLE},"spinner")]:(0,i.default)(n).keys().map(v.default.getUser).filter(this.makeFilter()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return j(V,{user:e,ban:n[e.id],hideDiscriminator:a,guild:r},e.id)}).value(),j(P.LazyContentScroller,{theme:o,header:this.renderHeader(),elementHeight:56},void 0,e))},r.handleModerationClick=function(){d.default.setSection(R.GuildSettingsSections.MODERATION)},r.handleQueryChange=function(e){d.default.setSearchQuery(e)},r.handleQueryClear=function(){d.default.setSearchQuery("")},t}(a.PureComponent);Y.displayName="GuildSettingsBans";var W=l.default.connectStores([f.default,h.default],function(){var e=f.default.getProps(),t=e.bans,n=e.guild;return{searchQuery:e.searchQuery||"",bans:t,guild:n,theme:h.default.theme,streamerMode:p.default.enabled}})(Y);t.default=W,e.exports=t.default},6981:function(e,t,n){e.exports=n.p+"789de85a973b1d974a21aa03c1e14323.svg"},6982:function(e,t,n){e.exports=n.p+"e3fb8fe698a871db1d0e34ededf8a954.svg"},6983:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=L(n(2)),o=R(n(17)),i=R(n(6)),l=R(n(3)),s=R(n(180)),u=R(n(6236)),d=R(n(6984)),c=R(n(5997)),f=R(n(35)),p=R(n(5992)),h=R(n(124)),v=L(n(6002)),m=R(n(148)),y=R(n(438)),_=R(n(822)),g=R(n(829)),E=L(n(440)),S=L(n(107)),T=R(n(79)),O=R(n(158)),I=R(n(6076)),C=n(0),N=R(n(13)),A=R(n(5363)),M=R(n(5362)),P=R(n(5357)),b=R(n(5590));function R(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=i.default.throttle(u.default.fetchEmoji,1e3),G=function(e){function t(t){var n;return w(n=e.call(this,t)||this).handleNameKeyPress=n.handleNameKeyPress.bind(w(n)),w(n).handleNameChange=n.handleNameChange.bind(w(n)),w(n).handleNameBlur=n.handleNameBlur.bind(w(n)),w(n).handleDeleteEmoji=n.handleDeleteEmoji.bind(w(n)),n.state={name:t.emoji.name},n}U(t,e);var n=t.prototype;return n.handleDeleteEmoji=function(){var e=this.props,t=e.guildId,n=e.emoji;u.default.deleteEmoji(t,n.id)},n.handleNameKeyPress=function(e){var t=e.currentTarget;13===e.which&&t.blur()},n.handleNameChange=function(e){this.setState({name:e})},n.handleNameBlur=function(){var e=this.props.emoji,t=this.state.name;if(t!==e.name){var n=this.props.guildId;u.default.updateEmoji(n,e.id,O.default.sanitizeEmojiName(t))}},n.renderEmoji=function(){var e=this.props.emoji,t=T.default.getEmojiURL({id:e.id,animated:e.animated});return D(m.default.Child,{basis:"40px",grow:0},void 0,D("div",{className:b.default.emojiImage,style:{backgroundImage:"url("+t+")"}}))},n.renderEmojiName=function(){var e=this.state.name;return D(m.default.Child,{basis:"50%"},void 0,D("div",{className:b.default.positionRelative},void 0,D(_.default,{className:b.default.emojiAliasInput,inputClassName:b.default.emojiInput,placeholder:N.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER,onKeyPress:this.handleNameKeyPress,onChange:this.handleNameChange,onBlur:this.handleNameBlur,size:_.default.Sizes.MINI,value:e,maxLength:C.EMOJI_MAX_LENGTH,style:{maxWidth:200}}),D("div",{className:b.default.emojiAliasPlaceholder},void 0,e.length>0?e:N.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS_PLACEHOLDER)))},n.renderUser=function(){var e=this.props.emoji;return D(m.default.Child,{basis:"50%",className:b.default.emojiUploader},void 0,D(p.default,{src:e.user.getAvatarURL(),size:p.default.Sizes.XSMALL}),D(E.default,{className:(0,o.default)(b.default.emojiRowText)},void 0,e.user.username))},n.renderDeleteButton=function(){return D("button",{className:(0,o.default)(A.default.button,b.default.emojiRemove),onClick:this.handleDeleteEmoji})},n.render=function(){return D(m.default,{className:(0,o.default)(b.default.emojiRow,M.default.card),align:m.default.Align.CENTER},void 0,this.renderEmoji(),this.renderEmojiName(),this.renderUser(),this.renderDeleteButton())},t}(a.PureComponent);G.displayName="EmojiRow";var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleFileChange=function(e,n){var r=t.props.guild;if(null!=r){var a=O.default.sanitizeEmojiName(n.split(".")[0]);u.default.uploadEmoji(r.id,e,a).catch(function(e){var t,n=e.body;null!=n&&(n.code===C.AbortCodes.TOO_MANY_EMOJI?t=N.default.Messages.TOO_MANY_EMOJI:n.code===C.AbortCodes.TOO_MANY_ANIMATED_EMOJI?t=N.default.Messages.TOO_MANY_ANIMATED_EMOJI:null!=n.image&&(t=N.default.Messages.EMOJI_TOO_BIG.format({maxSize:C.EMOJI_MAX_FILESIZE_KB}))),null!=t&&s.default.show({body:t})})}},t}U(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.props.guild;null!=e&&k(e.id)},r.componentDidUpdate=function(e){var t=this.props,n=t.revision,r=t.guild;null!=r&&e.revision<n&&k(r.id)},r.getMaxSlots=function(){var e=this.props.guild;return null!=e&&e.hasFeature(C.GuildFeatures.MORE_EMOJI)?C.EMOJI_MAX_SLOTS_MORE:C.EMOJI_MAX_SLOTS},r.renderUploader=function(){var e=this.props,t=e.emojis,n=e.isUploading,r=t?t.filter(function(e){return!e.animated}).length:0,a=t?t.filter(function(e){return e.animated}).length:0,o=this.getMaxSlots(),i=o-r,l=Math.max(i,o-a),s=N.default.Messages.GUILD_SETTINGS_EMOJI_UPLOAD_TO_SERVER_MESSAGE;return D(g.default,{className:P.default.marginBottom40},void 0,D(m.default,{align:m.default.Align.START,className:P.default.marginBottom20},void 0,D(m.default.Child,{},void 0,D(E.default,{type:E.Types.DESCRIPTION},void 0,s.format({count:o,maxSize:C.EMOJI_MAX_FILESIZE_KB}))),D(m.default.Child,{wrap:!0,grow:0},void 0,D(h.default,{disabled:n||0===l,spinner:n},void 0,N.default.Messages.UPLOAD_EMOJI,l>0?D(I.default,{onChange:this.handleFileChange,multiple:!0}):null))))},r.renderTitle=function(e,t){var n=t.length,r=this.getMaxSlots()-n;return D(S.default,{tag:S.Tags.H5,className:P.default.marginBottom20},void 0,e,D("span",{},void 0," — ",N.default.Messages.EMOJI_SLOTS_AVAILABLE.format({count:r})))},r.renderEmojiTable=function(e,t){return 0===t.length?D(E.default,{type:E.Types.DESCRIPTION,className:P.default.marginBottom40},void 0,N.default.Messages.NO_EMOJI_BODY):D(g.default,{className:P.default.marginBottom40},void 0,D(m.default,{className:P.default.marginBottom4},void 0,D(m.default.Child,{basis:"40px",grow:0,wrap:!0},void 0,D(E.default,{type:E.default.Types.DESCRIPTION},void 0,N.default.Messages.EMOJI)),D(m.default.Child,{basis:"50%",wrap:!0},void 0,D(E.default,{type:E.default.Types.DESCRIPTION,className:b.default.emojiAliasOffset},void 0,N.default.Messages.GUILD_SETTINGS_EMOJI_ALIAS)),D(m.default.Child,{basis:"50%",wrap:!0},void 0,D(E.default,{type:E.default.Types.DESCRIPTION},void 0,N.default.Messages.UPLOADED_BY))),t.reverse().map(function(t){return D(G,{guildId:e.id,emoji:t},t.id)}))},r.renderEmojis=function(){var e=this.props,t=e.emojis,r=e.theme,a=e.guild;if(null==t||null==a)return D(y.default,{className:P.default.marginTop40,type:y.default.Type.SPINNING_CIRCLE});if(0===t.length)return D(v.default,{theme:r,className:P.default.marginTop20},void 0,D(v.EmptyStateImage,{darkSrc:n(6986),lightSrc:n(6987),width:272,height:212}),D(v.EmptyStateText,{note:N.default.Messages.NO_EMOJI},void 0,N.default.Messages.NO_EMOJI_TITLE));var o=i.default.partition(t,function(e){return!e.animated}),l=o[0],s=o[1];return D("div",{},void 0,this.renderTitle(N.default.Messages.EMOJI,l),this.renderEmojiTable(a,l),this.renderTitle(N.default.Messages.ANIMATED_EMOJI,s),this.renderEmojiTable(a,s))},r.render=function(){return D(g.default,{},void 0,D(S.default,{tag:S.Tags.H2},void 0,N.default.Messages.SERVER_EMOJI),this.renderUploader(),this.renderEmojis())},t}(a.PureComponent);F.displayName="GuildSettingsEmoji";var j=l.default.connectStores([f.default,d.default,c.default],function(){var e=c.default.getProps().guild;return{guild:e,emojis:null!=e?d.default.getEmojis(e.id):[],revision:null!=e?d.default.getEmojiRevision(e.id):null,isUploading:d.default.isUploadingEmoji(),theme:f.default.theme}})(F);t.default=j,e.exports=t.default},6984:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(6985)),i=l(n(150));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s={},u={},d=0;var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(i.default)},a.isUploadingEmoji=function(){return d>0},a.getEmojiRevision=function(e){return s[e]||0},a.getEmojis=function(e){return u[e]},r}(r.default.Store))(a.default,{EMOJI_DELETE:function(e){var t=e.guildId,n=e.emojiId;u[t]=u[t].filter(function(e){return e.id!==n})},EMOJI_FETCH_SUCCESS:function(e){var t=e.guildId,n=e.emojis;u[t]=n.map(function(e){return new o.default(e)})},EMOJI_FETCH_FAILURE:function(e){var t=e.guildId;u[t]=[]},EMOJI_UPLOAD_START:function(e){d++},EMOJI_UPLOAD_STOP:function(e){d--},GUILD_EMOJIS_UPDATE:function(e){var t=e.guildId;s[t]=(s[t]||0)+1}});t.default=c,e.exports=t.default},6985:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(47)),a=o(n(128));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(e){this.id=e.id,this.name=e.name,this.managed=e.managed,this.roles=e.roles,this.requiredColons=e.requiredColons,this.user=new a.default(e.user),this.animated=e.animated},r}(r.default);t.default=i,e.exports=t.default},6986:function(e,t,n){e.exports=n.p+"a7371de3223292c6f31f8aeed62f17c1.svg"},6987:function(e,t,n){e.exports=n.p+"3236694e0c095adfbbd5334fc8dc7aa0.svg"},6988:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(2)),o=b(n(17)),i=b(n(4)),l=b(n(3)),s=b(n(6e3)),u=b(n(77)),d=b(n(824)),c=b(n(155)),f=b(n(231)),p=b(n(5997)),h=b(n(35)),v=b(n(305)),m=R(n(6002)),y=b(n(148)),_=b(n(6989)),g=b(n(6004)),E=b(n(438)),S=b(n(6161)),T=b(n(437)),O=n(823),I=b(n(79)),C=b(n(454)),N=n(0),A=b(n(13)),M=b(n(5357)),P=b(n(5592));function b(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleToggleEnabled=function(){var e=t.props,n=e.guild,r=e.integration;r.syncing||(r.enabled?u.default.push(function(e){var t=0===r.expire_behavior?A.default.Messages.REMOVE_SYNCED_ROLE:A.default.Messages.KICK_FROM_SERVER;return a.createElement(C.default,D({title:A.default.Messages.DISABLE_INTEGRATION_TITLE,body:"youtube"===r.type?A.default.Messages.DISABLE_INTEGRATION_YOUTUBE_BODY:A.default.Messages.DISABLE_INTEGRATION_TWITCH_BODY,confirmText:t,cancelText:A.default.Messages.CANCEL,onConfirm:function(){return s.default.disableIntegration(n.id,r.id)}},e))}):s.default.enableIntegration(n.id,r.type,r.id))},t.handleExpireBehaviorChange=function(e){var n=t.props,r=n.guild,a=n.integration;s.default.updateIntegration(r.id,a.id,parseInt(e.value),a.expire_grace_period,a.enable_emoticons)},t.handleExpireGracePeriodChange=function(e){var n=t.props,r=n.guild,a=n.integration;s.default.updateIntegration(r.id,a.id,a.expire_behavior,parseInt(e.value),a.enable_emoticons)},t.handleSync=function(){var e=t.props,n=e.guild,r=e.integration;s.default.syncIntegration(n.id,r.id)},t.handleShowRole=function(){var e=t.props.integration;s.default.setSection(N.GuildSettingsSections.ROLES),s.default.selectRole(e.role_id)},t.handleToggleEmotes=function(e){var n=t.props,r=n.guild,a=n.integration;s.default.updateIntegration(r.id,a.id,a.expire_behavior,a.expire_grace_period,e.currentTarget.checked)},t}w(t,e);var n=t.prototype;return n.renderTwitchEmoticons=function(e){var t=this.props,n=t.guild,r=t.integration,a=null,i=f.default.getGuildEmoji(n.id);if(r.enable_emoticons&&i){var l=Object.values(i).sort(function(e,t){return e.name.localeCompare(t.name)}).filter(function(e){return e.roles&&e.roles.includes(r.role_id)}).map(function(e,t){return L(T.default,{text:e.name},t,L("img",{alt:A.default.Messages.IMG_ALT_EMOJI.format({name:e.name}),draggable:!1,className:"emoji jumboable",src:I.default.getEmojiURL({id:e.id,animated:e.animated})},e.name))});l.length>0&&(a=L("div",{className:(0,o.default)(P.default.twitchEmojis,M.default.marginTop8)},void 0,l))}return L("div",{},void 0,L(O.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),L(y.default,{className:(0,o.default)(P.default.emojiSync,M.default.marginBottom8)},void 0,L(y.default,{align:y.default.Align.CENTER},void 0,L(O.FormText,{},void 0,A.default.Messages.ENABLE_TWITCH_EMOJI_SYNC)),L(y.default.Child,{grow:0,shrink:0},void 0,L(S.default,{id:"enable_emoticons",value:r.enable_emoticons,onChange:this.handleToggleEmotes,disabled:r.syncing,fill:e.color}))),a)},n.renderSyncDetails=function(e,t){var n,r,a=this.props,l=a.guild,s=a.integration,u=l.getRole(s.role_id);return n=null!=u?L(v.default,{className:P.default.syncedRoleLink,onClick:this.handleShowRole},void 0,u.name):A.default.Messages.NONE,r=s.revoked?A.default.Messages.SYNC_REVOKED.format({user:s.user,platformName:c.default.get(s.type).name}):A.default.Messages.LAST_SYNC.format({datetime:(0,i.default)(s.synced_at).calendar()}),L(y.default,{},void 0,L(y.default.Child,{basis:"50%"},void 0,L(O.FormTitle,{className:M.default.marginBottom8},void 0,A.default.Messages.FORM_LABEL_SYNCED_ROLE),L(O.FormText,{},void 0,n)),L(y.default.Child,{basis:"50%"},void 0,L("div",{className:P.default.syncWrapper},void 0,L(O.FormTitle,{className:M.default.marginBottom8},void 0,e),L(T.default,{text:A.default.Messages.FORCE_SYNC},void 0,L("button",{className:(0,o.default)(P.default.forceSync,s.syncing?P.default.forceSyncSyncing:null),disabled:s.syncing||s.revoked,onClick:this.handleSync}))),L(O.FormText,{},void 0,t.format({subscribers:s.subscriber_count})),L(O.FormText,{type:O.FormTextTypes.DESCRIPTION},void 0,r)))},n.renderExpireToggles=function(e){var t=this.props.integration;return L(y.default,{},void 0,L(y.default.Child,{basis:"50%"},void 0,L(O.FormTitle,{className:M.default.marginBottom8},void 0,e),L(g.default,{transparent:!0,value:""+t.expire_behavior,clearable:!1,searchable:!1,options:[{value:"0",label:A.default.Messages.REMOVE_SYNCED_ROLE},{value:"1",label:A.default.Messages.KICK_FROM_SERVER}],disabled:t.syncing,onChange:this.handleExpireBehaviorChange})),L(y.default.Child,{basis:"50%"},void 0,L(O.FormTitle,{className:M.default.marginBottom8},void 0,A.default.Messages.FORM_LABEL_EXPIRE_GRACE_PERIOD),L(g.default,{transparent:!0,value:""+t.expire_grace_period,clearable:!1,searchable:!1,options:[1,3,7,14,30].map(function(e){return{value:""+e,label:A.default.Messages.N_DAYS.format({days:e})}}),disabled:t.syncing,onChange:this.handleExpireGracePeriodChange})))},n.render=function(){var e,t,n,r,a,i,l,s=this.props,u=s.integration,d=s.theme,f=u.enabled,p=u.syncing,h=c.default.get(u.type);switch(u.type){case"youtube":e=u.account.name,t="youtube.com/channel/"+u.account.id,n=A.default.Messages.FORM_LABEL_MEMBERSHIP_EXPIRE_BEHAVIOR,r=A.default.Messages.FORM_LABEL_SYNCED_MEMBERS,a=A.default.Messages.NUM_MEMBERS,i=null;break;case"twitch":default:e=u.account.name,t="twitch.tv/"+u.account.name,n=A.default.Messages.FORM_LABEL_SUB_EXPIRE_BEHAVIOR,r=A.default.Messages.FORM_LABEL_SYNCED_SUBS,a=A.default.Messages.NUM_SUBSCRIBERS,i=this.renderTwitchEmoticons(h)}return f&&(l=L("div",{className:P.default.integrationBody},void 0,this.renderSyncDetails(r,a),L(O.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),this.renderExpireToggles(n),i)),L(_.default,{name:u.user.toString(),label:e,labelUrl:"//"+t,color:h.color,icon:h.icon.white,enabled:f,syncing:p,theme:d,handleSyncToggle:this.handleToggleEnabled},void 0,l)},t}(a.PureComponent);U.displayName="IntegrationItem";var k=function(e){function t(){return e.apply(this,arguments)||this}w(t,e);var r=t.prototype;return r.render=function(){var e,t=this.props,r=t.guild,a=t.integrations,i=t.theme;return null==r?null:(e=null==a?L(E.default,{className:M.default.marginTop40,type:E.default.Type.SPINNING_CIRCLE}):0===a.length?L(m.default,{theme:i,className:M.default.marginTop20},void 0,L(m.EmptyStateImage,{darkSrc:n(6692),lightSrc:n(6693),width:294,height:192}),L(m.EmptyStateText,{note:A.default.Messages.NO_INTEGRATIONS.format({onConnect:this.handleConnect})},void 0,A.default.Messages.NO_INTEGRATIONS_LABEL)):a.map(function(e,t){return L(U,{integration:e,guild:r,theme:i},t)}),L(O.FormSection,{tag:O.FormTitleTags.H2,title:A.default.Messages.INTEGRATIONS},void 0,L(O.FormText,{type:O.FormTextTypes.DESCRIPTION},void 0,A.default.Messages.INTEGRATIONS_PRO_TIP.format({streamkitURL:"https://discordapp.com/streamkit"})),L(O.FormDivider,{className:(0,o.default)(M.default.marginTop20,M.default.marginBottom20)}),e))},r.handleConnect=function(){d.default.open(N.UserSettingsSections.CONNECTIONS)},t}(a.PureComponent);k.displayName="GuildSettingsIntegrations";var G=l.default.connectStores([p.default,h.default],function(){var e=p.default.getProps();return{guild:e.guild,integrations:e.integrations,theme:h.default.theme}})(k);t.default=G,e.exports=t.default},6989:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(17)),i=h(n(305)),l=v(n(444)),s=h(n(6006)),u=h(n(148)),d=h(n(440)),c=n(0),f=h(n(13)),p=h(n(5591));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderHeader=function(){var e,t=this.props,n=t.color,r=t.name,a=t.label,l=t.labelUrl,c=t.icon,h=t.enabled,v=t.syncing,y=t.handleSyncToggle,_=t.children,g=l&&a?m(i.default,{href:"//"+l,className:"url"},void 0,m(d.default,{className:p.default.headerText,type:d.default.Types.DESCRIPTION},void 0,a)):null;return m(u.default,{className:(0,o.default)(p.default.header,(e={},e[p.default.headerSimple]=null==_,e)),justify:u.default.Justify.BETWEEN,style:{backgroundColor:n}},void 0,m(u.default,{},void 0,m("img",{alt:"",className:p.default.headerIcon,src:c}),m("div",{},void 0,m(d.default,{className:p.default.headerText,type:d.default.Types.DEFAULT},void 0,r),g)),m(u.default,{align:u.default.Align.CENTER,grow:0},void 0,m(s.default,{color:n,value:h,disabled:v,onChange:y},void 0,m("span",{className:p.default.headerSync},void 0,f.default.Messages.SYNC))))},a.render=function(){var e=this.props,t=e.children,n=e.theme;return m(l.default,{className:p.default.integration,type:l.Types.CUSTOM,style:{backgroundColor:n===c.ThemeTypes.DARK?c.Colors.PRIMARY_DARK_700:c.Colors.PRIMARY_DARK_100}},void 0,this.renderHeader(),m("div",{},void 0,t))},r}(a.PureComponent);y.displayName="Integration",y.defaultProps={name:"Twitch",color:c.Colors.TWITCH,icon:null};var _=y;t.default=_,e.exports=t.default},6990:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(5997)),o=s(n(307)),i=s(n(35)),l=s(n(6720));function s(e){return e&&e.__esModule?e:{default:e}}var u=r.default.connectStores([a.default,i.default,o.default],function(){var e=a.default.getProps(),t=e.invites;return{guild:e.guild,invites:t,showChannel:!0,hide:o.default.hideInstantInvites,theme:i.default.theme}})(l.default);t.default=u,e.exports=t.default},6991:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=F(n(17)),i=F(n(6034)),l=F(n(6)),s=F(n(3)),u=n(302),d=F(n(6e3)),c=F(n(825)),f=F(n(6721)),p=F(n(71)),h=F(n(5997)),v=F(n(149)),m=F(n(307)),y=F(n(35)),_=F(n(14)),g=F(n(305)),E=F(n(5992)),S=F(n(6288)),T=F(n(148)),O=F(n(301)),I=F(n(6115)),C=F(n(6057)),N=F(n(437)),A=n(823),M=F(n(6757)),P=F(n(6645)),b=n(6056),R=F(n(5358)),L=n(0),D=F(n(13)),w=F(n(5364)),U=F(n(5362)),k=F(n(5357)),G=F(n(5594));function F(e){return e&&e.__esModule?e:{default:e}}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var V="quick-roles--select",Y=j(S.default,{}),W=function(e){function t(t){var n;return(n=e.call(this,t)||this)._isMounted=!1,n.state={overflowShown:!1},B(n).showOverflow=n.showOverflow.bind(B(n)),B(n).handleOverflowClose=n.handleOverflowClose.bind(B(n)),n}H(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0},r.componentWillUnmount=function(){this._isMounted=!1},r.showOverflow=function(e){var t=this.props,n=t.guild,r=t.user;this.setState({overflowShown:!0}),(0,u.openContextMenu)(e,function(e){return a.createElement(R.default,x({type:L.ContextMenuTypes.USER_GUILD_MEMBERS,user:r,guildId:n.id,channelId:n.id},e))},{onClose:this.handleOverflowClose})},r.renderOwnerHelpIcon=function(){var e=this.props,t=e.user,r=e.theme,a=e.guild;if(t.id!==a.ownerId)return null;var o=r===L.ThemeTypes.DARK?n(6992):n(6993);return j(N.default,{text:D.default.Messages.MEMBER_LIST_SERVER_OWNER_HELP},void 0,j(I.default,{size:I.default.Sizes.SMALL,src:o,className:G.default.ownerHelpIcon}))},r.render=function(){var e=this.props,t=e.user,n=e.member,r=e.streamerMode,a=e.guild,i=this.state.overflowShown,l={color:n.colorString};return j(T.default,{className:(0,o.default)(G.default.member,U.default.card,{active:i}),align:T.default.Align.CENTER,onContextMenu:this.showOverflow},void 0,j(E.default,{className:G.default.avatar,src:t.getAvatarURL()}),j(T.default,{className:G.default.nameTag,direction:T.default.Direction.VERTICAL,grow:0},void 0,j(T.default,{align:T.default.Align.CENTER},void 0,j(A.FormText,{className:G.default.name,style:l},void 0,n.nick||t.toString()),t.bot?Y:null,this.renderOwnerHelpIcon()),r?null:j(A.FormText,{className:G.default.tag},void 0,"@",t.tag)),j(T.default.Child,{className:G.default.roleWrapper},void 0,j("div",{},void 0,j(M.default,{user:t,guild:a,userRoles:n.roles,wrap:!1}))),j(T.default,{className:G.default.overflowButton,align:T.default.Align.CENTER,grow:0,onClick:this.showOverflow},void 0,j(O.default,{name:O.default.Names.OVERFLOW_MENU,className:G.default.overflowIcon,foreground:G.default.overflowIconFg})))},r.handleOverflowClose=function(){this._isMounted&&this.setState({overflowShown:!1})},t}(a.PureComponent);W.displayName="Member";var K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={roleFilterQuery:""},t.handlePruneClick=function(){f.default.open(t.props.guild.id)},t.renderHeader=function(e){var n=t.state.roleFilterQuery,r=t.props,a=r.guild,s=r.searchQuery,u=r.selectedRoleId,d={},c=(0,l.default)(a.roles).sortBy(function(e){return-e.position}).filter(function(e){return e.id===u&&(d.label=e.name),(0,i.default)(n.toLowerCase(),e.name.toLowerCase())}).map(function(e){return{value:e.id,color:e.colorString,children:e.name,selected:e.id===u}}).value(),f={query:n,onChange:t.handleRoleFilterQueryChange,onClear:t.handleRoleFilterQueryClear,placeholder:D.default.Messages.SEARCH_ROLES};return j(A.FormSection,{},void 0,j(A.FormTitle,{tag:A.FormTitleTags.H2},void 0,D.default.Messages.GUILD_SETTINGS_MEMBERS_SERVER_MEMBERS),j(T.default,{className:G.default.membersHeader,align:T.default.Align.CENTER,style:{height:20}},void 0,j(T.default.Child,{},void 0,j(A.FormText,{type:A.FormTextTypes.DESCRIPTION,className:G.default.membersCount},void 0,D.default.Messages.MEMBERS_HEADER.format({members:e.length}),t.renderPruneAction())),j(T.default,{align:T.default.Align.CENTER,grow:0},void 0,j(P.default,{popoutClassName:(0,o.default)(G.default.membersFilterPopout,w.default.elevationBorderLow),popoutId:V,items:c,label:D.default.Messages.GUILD_SETTINGS_MEMBERS_DISPLAY_ROLE,value:d,onChange:t.handleRoleChange,searchProps:f,popoutProps:{preventInvert:!0,position:"bottom"}}),j(C.default,{className:G.default.searchBar,query:s,onChange:t.handleQueryChange,onClear:t.handleQueryClear}))),j(A.FormDivider,{className:k.default.marginTop20,style:{marginBottom:-1}}))},t.handleQueryChange=function(e){d.default.setSearchQuery(e)},t.handleQueryClear=function(){d.default.setSearchQuery("")},t.handleRoleFilterQueryChange=function(e){t.setState({roleFilterQuery:e})},t.handleRoleFilterQueryClear=function(){t.setState({roleFilterQuery:""})},t}H(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.roleFilterQuery!==t.roleFilterQuery&&c.default.rerender(V)},n.renderPruneAction=function(){return this.props.canPrune?j("span",{},void 0," — ",j(g.default,{onClick:this.handlePruneClick,className:G.default.pruneLink},void 0,D.default.Messages.PRUNE)):null},n.makeSearchFilter=function(){var e=this.props.searchQuery;return null==e||0===e.length?function(){return!0}:function(t){var n=t.user,r=t.member;e=e.toLowerCase();var a=n.username.toLowerCase(),o=null!=r.nick?r.nick.toLowerCase():null;return(0,i.default)(e,a)||null!=o&&(0,i.default)(e,o)}},n.makeRoleFilter=function(){var e=this.props,t=e.guild,n=e.selectedRoleId;return function(e){var r=e.member;return n===t.id||-1!==r.roles.indexOf(n)}},n.renderMembers=function(e){var t=this.props,n=t.guild,r=t.currentUser,a=t.streamerMode,o=t.theme;return(0,l.default)(e).sortBy(function(e){return e.comparator}).map(function(e){var t=e.member,i=e.user;return j(W,{currentUser:r,member:t,user:i,guild:n,theme:o,streamerMode:a},t.userId)}).value()},n.render=function(){var e=this.props.members,t=(0,l.default)(e).map(function(e){var t=_.default.getUser(e.userId);return{member:e,user:t,comparator:(null!=t?e.nick||t.username:"").toLowerCase()}}).filter(this.makeSearchFilter()).filter(this.makeRoleFilter()).value();return j(b.LazyContentScroller,{theme:this.props.theme,header:this.renderHeader(t),elementHeight:72},void 0,this.renderMembers(t))},n.handleRoleChange=function(e){var t=e.value;d.default.selectRole(t)},t}(a.PureComponent);K.displayName="GuildSettingsMembers";var z=s.default.connectStores([h.default,y.default,p.default,m.default],function(){var e=h.default.getProps(),t=e.guild,n=e.searchQuery;return{guild:t,selectedRoleId:e.selectedRoleId,searchQuery:n||"",members:null!=t?p.default.getMembers(t.id):[],theme:y.default.theme,currentUser:_.default.getCurrentUser(),canPrune:null!=t&&v.default.can(L.Permissions.KICK_MEMBERS,t),streamerMode:m.default.enabled}})(K);t.default=z,e.exports=t.default},6992:function(e,t,n){e.exports=n.p+"1701e23d13cfedc5fdde3b53104215e7.svg"},6993:function(e,t,n){e.exports=n.p+"08a1ba9c05ff71f07dfb0aa35833d745.svg"},6994:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(2)),o=I(n(17)),i=I(n(3)),l=I(n(6e3)),s=I(n(12)),u=I(n(5997)),d=I(n(28)),c=I(n(149)),f=I(n(307)),p=I(n(6015)),h=I(n(832)),v=I(n(829)),m=C(n(440)),y=n(107),_=n(6694),g=I(n(6037)),E=I(n(6995)),S=n(0),T=I(n(13)),O=I(n(5357));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var M=N(g.default,{}),P=N(E.default,{}),b=function(e){var t,n;function r(t){var n;return A(n=e.call(this,t)||this).handleVerificationLevelChange=n.handleVerificationLevelChange.bind(A(n)),A(n).handleExplicitContentFilterChange=n.handleExplicitContentFilterChange.bind(A(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderVerificationLevelSection=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return N(v.default,{title:T.default.Messages.FORM_LABEL_VERIFICATION_LEVEL},void 0,N(m.default,{type:m.Types.DESCRIPTION,className:O.default.marginBottom20},void 0,T.default.Messages.FORM_HELP_VERIFICATION_LEVEL.format()),N(p.default,{value:n.verificationLevel,options:(0,_.generateVerificationLevelOptions)(),disabled:!t,onChange:this.handleVerificationLevelChange}))},a.renderExplicitContentFilter=function(){var e=this.props,t=e.canManageGuild,n=e.guild;return N(v.default,{title:T.default.Messages.FORM_LABEL_EXPLICIT_CONTENT_FILTER},void 0,N(m.default,{type:m.Types.DESCRIPTION,className:O.default.marginBottom20},void 0,T.default.Messages.FORM_HELP_EXPLICIT_CONTENT_FILTER.format()),N(p.default,{value:n.explicitContentFilter,options:(0,_.generateContentFilterOptions)(),disabled:!t,onChange:this.handleExplicitContentFilterChange}))},a.render=function(){var e=this.props,t=e.hide,n=e.guild,r=e.currentUserId;if(t)return M;var a=!1;return r===n.ownerId&&(a=!0),N(v.default,{title:T.default.Messages.MODERATION,tag:y.Tags.H2},void 0,this.renderVerificationLevelSection(),N(h.default,{className:(0,o.default)(O.default.marginTop40,O.default.marginBottom40)}),this.renderExplicitContentFilter(),a&&N(h.default,{className:(0,o.default)(O.default.marginTop40,O.default.marginBottom40)}),a&&P)},a.handleVerificationLevelChange=function(e){var t=e.value;l.default.updateGuild({verificationLevel:t})},a.handleExplicitContentFilterChange=function(e){var t=e.value;l.default.updateGuild({explicitContentFilter:t})},r}(a.PureComponent);b.displayName="GuildSettingsModeration";var R=i.default.connectStores([u.default,d.default,s.default,c.default,f.default],function(){var e=u.default.getProps().guild,t=!1;return null!=e&&(t=c.default.can(S.Permissions.MANAGE_GUILD,e)),{currentUserId:s.default.getId(),canManageGuild:t,guild:e,hide:f.default.enabled}})(b);t.default=R,e.exports=t.default},6995:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(2)),o=m(n(3)),i=m(n(6e3)),l=m(n(824)),s=m(n(5997)),u=m(n(14)),d=y(n(124)),c=m(n(829)),f=y(n(440)),p=n(0),h=m(n(13)),v=m(n(5357));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=function(e){var t,n;function r(t){var n;return g(n=e.call(this,t)||this).setMFAEnabled=n.setMFAEnabled.bind(g(n)),g(n).handleEnableMFA=n.handleEnableMFA.bind(g(n)),g(n).handleDisableMFA=n.handleDisableMFA.bind(g(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderEnableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return _(d.default,{disabled:!r,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.PRIMARY,onClick:this.handleEnableMFA},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_ENABLE)},a.renderDisableButton=function(){var e=this.props,t=e.currentUser,n=e.guild,r=t.mfaEnabled&&n.isOwnerWithRequiredMfaLevel(t);return _(d.default,{disabled:!r,look:d.ButtonLooks.OUTLINED,color:d.ButtonColors.RED,onClick:this.handleDisableMFA},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_GUILD_DISABLE)},a.render=function(){var e=this.props,t=e.currentUser,n=e.mfaLevel;return _(c.default,{title:h.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL},void 0,_(f.default,{type:f.Types.DESCRIPTION,className:v.default.marginBottom20},void 0,h.default.Messages.GUILD_SECURITY_REQ_MFA_BODY.format()," ",t.mfaEnabled?null:h.default.Messages.GUILD_SECURITY_REQ_MFA_ENABLE.format({onClick:this.openUserAccountModal})),n===p.MFALevels.ELEVATED?this.renderDisableButton():this.renderEnableButton())},a.setMFAEnabled=function(e){var t=this.props.guild;i.default.updateMFALevel({guildId:t.id,level:e?p.MFALevels.ELEVATED:p.MFALevels.NONE,isEnabled:!e})},a.handleEnableMFA=function(){this.setMFAEnabled(!0)},a.handleDisableMFA=function(){this.setMFAEnabled(!1)},a.openUserAccountModal=function(){l.default.open(p.UserSettingsSections.ACCOUNT)},r}(a.PureComponent);E.displayName="MFASettings";var S=o.default.connectStores([u.default,s.default],function(){var e=s.default.getProps(),t=e.mfaLevel,n=e.guild;return{currentUser:u.default.getCurrentUser(),mfaLevel:t,guild:n}})(E);t.default=S,e.exports=t.default},6996:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsOverviewNotice=void 0;var r,a=H(n(2)),o=B(n(17)),i=B(n(6)),l=B(n(3)),s=B(n(6e3)),u=B(n(77)),d=B(n(6199)),c=B(n(183)),f=B(n(20)),p=B(n(5997)),h=B(n(149)),v=B(n(6054)),m=H(n(124)),y=B(n(148)),_=B(n(6015)),g=B(n(6997)),E=B(n(6004)),S=B(n(6286)),T=B(n(822)),O=B(n(832)),I=B(n(442)),C=B(n(829)),N=H(n(440)),A=H(n(107)),M=B(n(6314)),P=n(6023),b=B(n(79)),R=B(n(309)),L=B(n(6135)),D=B(n(6646)),w=B(n(6076)),U=n(6315),k=B(n(6148)),G=n(0),F=B(n(13)),j=B(n(5357)),x=B(n(5597));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(e){var t=e.label,n=e.channel,r=e.category,a=(0,P.getIconNameForChannel)(n),o=null!=r?r.toString():null;return Y(M.default,{title:t,iconType:a,subtitle:o})}function K(e){return{value:e.id,label:e.toString(),channel:e,category:f.default.getChannel(e.parent_id)}}W.displayName="renderChannelOption";var z=l.default.connectStores([p.default],function(){var e=p.default.getProps(),t=e.guild,n=e.submitting;return{guild:t,submitting:n,onReset:function(){null!=t&&s.default.init(t.id)},onSave:function(){null!=t&&s.default.saveGuild(t.id,{name:t.name,region:t.region,icon:t.icon,splash:t.splash,afkChannelId:t.afkChannelId,afkTimeout:t.afkTimeout,systemChannelId:t.systemChannelId,verificationLevel:t.verificationLevel,defaultMessageNotifications:t.defaultMessageNotifications,explicitContentFilter:t.explicitContentFilter,description:t.description,banner:t.banner})}}})(k.default);t.GuildSettingsOverviewNotice=z;var $=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleRegionSelectorClick=function(){var e=t.props.regions;if(null!=e){var n=e.filter(function(e){return!e.deprecated});u.default.push(function(e){return a.createElement(U.RegionSelectModal,V({regions:n,onChange:t.handleRegionChange},e))})}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){null==this.props.regions&&d.default.fetchRegions(this.props.guild.id)},l.UNSAFE_componentWillReceiveProps=function(e){this.props.guild.id!==e.guild.id&&(null==v.default.getRegions(e.guild.id)&&d.default.fetchRegions(e.guild.id))},l.handleNameChange=function(e){s.default.updateGuild({name:e})},l.handleIconChange=function(e){s.default.updateGuild({icon:e})},l.handleAFKChannelChange=function(e){var t=e.value;"NO_AFK_CHANNEL"===t&&(t=null),s.default.updateGuild({afkChannelId:t})},l.handleAFKTimeoutChange=function(e){var t=e.value;s.default.updateGuild({afkTimeout:parseInt(t,10)})},l.handleSystemChannelChange=function(e){var t=e.value;"NO_SYSTEM_CHANNEL"===t&&(t=null),s.default.updateGuild({systemChannelId:t})},l.handleDefaultMessageNotificationsChange=function(e){var t=e.value;s.default.updateGuild({defaultMessageNotifications:t})},l.handleSplashChange=function(e){s.default.updateGuild({splash:e})},l.handleRegionChange=function(e){var t=e.id;s.default.updateGuild({region:t})},l.handleChangeDescription=function(e){s.default.updateGuild({description:e})},l.handleBannerChange=function(e){s.default.updateGuild({banner:e})},l.renderBaseSettings=function(){var e,t=this.props,n=t.guild,r=t.region,a=t.regions,i=t.errors,l=t.canManageGuild,s=null==a||0===a.length;return Y(y.default,{className:(0,o.default)(x.default.baseSection,j.default.marginBottom40)},void 0,Y(y.default,{basis:"50%",justify:y.default.Justify.BETWEEN},void 0,Y(y.default.Child,{wrap:!0},void 0,Y(D.default,{showIcon:!0,name:n.name,icon:n.icon,onChange:this.handleIconChange,disabled:!l,makeURL:function(e){return e&&b.default.getGuildIconURL({id:n.id,icon:e})},className:(0,o.default)((e={},e[x.default.avatarUploader]=l,e[x.default.avatarUploaderDisabled]=!l,e)),avatarClassName:x.default.avatarUploaderInner})),Y(y.default,{direction:y.default.Direction.VERTICAL,align:y.default.Align.START,style:{maxWidth:180}},void 0,Y(N.default,{type:N.Types.DESCRIPTION,className:j.default.marginBottom8},void 0,F.default.Messages.GUILD_SETTINGS_ICON_RECOMMEND),Y(m.default,{look:m.ButtonLooks.OUTLINED,color:m.ButtonColors.WHITE,disabled:!l,className:j.default.marginTop8},void 0,F.default.Messages.UPLOAD_IMAGE,Y(w.default,{onChange:this.handleIconChange,disabled:!l})))),Y(y.default.Child,{basis:"50%"},void 0,Y(I.default,{title:F.default.Messages.FORM_LABEL_SERVER_NAME,className:j.default.marginBottom20},void 0,Y(T.default,{type:"text",disabled:!l,value:n.name,maxLength:100,onChange:this.handleNameChange,error:i.name})),Y(I.default,{title:F.default.Messages.FORM_LABEL_SERVER_REGION},void 0,Y(g.default,{disabled:!l||s,region:r,onClick:this.handleRegionSelectorClick,error:null!=i.region}))))},l.renderAFKSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,a=null!=t.afkTimeout?""+t.afkTimeout:null,o=t.afkChannelId||"NO_AFK_CHANNEL",l=[{value:"60",label:F.default.Messages.DURATION_MINUTES.format({minutes:1})},{value:"300",label:F.default.Messages.DURATION_MINUTES.format({minutes:5})},{value:"900",label:F.default.Messages.DURATION_MINUTES.format({minutes:15})},{value:"1800",label:F.default.Messages.DURATION_MINUTES.format({minutes:30})},{value:"3600",label:F.default.Messages.DURATION_HOURS.format({hours:1})}],s=(0,i.default)(r).filter(function(e){return e.guild_id===t.id}).filter(function(e){return e.type===G.ChannelTypes.GUILD_VOICE}).map(function(e){return K(e)}).value();return s.unshift({value:"NO_AFK_CHANNEL",label:F.default.Messages.NO_AFK_CHANNEL}),Y(C.default,{className:j.default.marginBottom40},void 0,Y(y.default,{},void 0,Y(y.default.Child,{},void 0,Y(I.default,{title:F.default.Messages.FORM_LABEL_AFK_CHANNEL},void 0,Y(E.default,{value:o,clearable:!1,searchable:!1,options:s,disabled:!n,optionRenderer:W,valueRenderer:W,onChange:this.handleAFKChannelChange}))),Y(y.default.Child,{},void 0,Y(I.default,{title:F.default.Messages.FORM_LABEL_AFK_TIMEOUT},void 0,Y(E.default,{value:a,clearable:!1,searchable:!1,options:l,disabled:"NO_AFK_CHANNEL"===o||!n,onChange:this.handleAFKTimeoutChange})))),Y(N.default,{className:j.default.marginTop8,type:N.Types.DESCRIPTION},void 0,F.default.Messages.FORM_HELP_AFK_CHANNEL))},l.renderJoinNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.channels,a=t.systemChannelId||"NO_SYSTEM_CHANNEL",o=(0,i.default)(r).filter(function(e){return e.getGuildId()===t.id}).filter(function(e){return e.type===G.ChannelTypes.GUILD_TEXT}).map(function(e){return K(e)}).value();return o.unshift({value:"NO_SYSTEM_CHANNEL",label:F.default.Messages.NO_SYSTEM_CHANNEL}),Y(C.default,{className:j.default.marginBottom40},void 0,Y(A.default,{},void 0,F.default.Messages.FORM_LABEL_SYSTEM_CHANNEL),Y(E.default,{value:a,clearable:!1,searchable:!1,options:o,disabled:!n,optionRenderer:W,valueRenderer:W,onChange:this.handleSystemChannelChange}),Y(N.default,{className:j.default.marginTop8,type:N.Types.DESCRIPTION},void 0,F.default.Messages.FORM_HELP_SYSTEM_CHANNEL))},l.renderNotificationSection=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=[{name:F.default.Messages.FORM_LABEL_ALL_MESSAGES,value:G.UserNotificationSettings.ALL_MESSAGES},{name:F.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:G.UserNotificationSettings.ONLY_MENTIONS}];return Y(C.default,{className:j.default.marginBottom40},void 0,Y(A.default,{},void 0,F.default.Messages.FORM_LABEL_DEFAULT_NOTIFICATION_SETTINGS),Y(N.default,{type:N.Types.DESCRIPTION,className:j.default.marginBottom20},void 0,F.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_INTRO),Y(N.default,{type:N.Types.DESCRIPTION,className:j.default.marginBottom20},void 0,F.default.Messages.GUILD_SETTINGS_DEFAULT_NOTIFICATION_SETTINGS_PROTIP.format({videoURL:"https://www.youtube.com/watch?v=zGl796352RI"})),Y(_.default,{options:r,value:t.defaultMessageNotifications,disabled:!n,onChange:this.handleDefaultMessageNotificationsChange}))},l.renderServerInviteBGSection=function(){var e,t=this.props,n=t.guild,r=t.canManageGuild;return Y(C.default,{title:F.default.Messages.GUILD_SETTINGS_SERVER_INVITE_BACKGROUND,className:x.default.splashSection},void 0,Y(y.default,{},void 0,Y(y.default,{basis:"50%",direction:y.default.Direction.VERTICAL,align:y.default.Align.START},void 0,Y(N.default,{type:N.Types.DESCRIPTION,className:j.default.marginBottom8},void 0,F.default.Messages.GUILD_SETTINGS_SPLASH_RECOMMEND),Y(m.default,{disabled:!r,look:m.ButtonLooks.OUTLINED,color:m.ButtonColors.PRIMARY,className:j.default.marginTop8},void 0,F.default.Messages.UPLOAD_BACKGROUND,Y(w.default,{disabled:!r,onChange:this.handleSplashChange}))),Y(y.default.Child,{wrap:!0,basis:"50%"},void 0,Y(L.default,{avatar:n.splash,size:null,makeURL:function(e){return e&&b.default.getGuildSplashURL({id:n.id,splash:e})},disabled:!r,onChange:this.handleSplashChange,hint:F.default.Messages.CHANGE_SPLASH,className:(0,o.default)((e={},e[x.default.avatarUploader]=r,e[x.default.avatarUploaderDisabled]=!r,e)),avatarClassName:x.default.avatarUploaderInner,hideSize:!0}))))},l.renderDescription=function(){var e=this.props,t=e.guild,n=e.canManageGuild,r=e.errors;return Y(I.default,{title:F.default.Messages.FORM_LABEL_SERVER_DESCRIPTION},void 0,Y(N.default,{type:N.Types.DESCRIPTION,className:j.default.marginBottom8},void 0,F.default.Messages.FORM_HELP_SERVER_DESCRIPTION),Y(S.default,{disabled:!n,placeholder:F.default.Messages.SERVER_DESCIPTION_EMPTY,value:c.default.translateSurrogatesToInlineEmoji(t.description||""),onChange:this.handleChangeDescription,error:r.name,maxLength:120,className:j.default.marginTop8}))},l.renderBanner=function(){var e,t=this.props,n=t.guild,r=t.canManageGuild;return Y(C.default,{title:F.default.Messages.FORM_LABEL_SERVER_BANNER,className:x.default.splashSection},void 0,Y(y.default,{},void 0,Y(y.default,{basis:"50%",direction:y.default.Direction.VERTICAL,align:y.default.Align.START},void 0,Y(N.default,{type:N.Types.DESCRIPTION,className:j.default.marginBottom8},void 0,F.default.Messages.FORM_HELP_SERVER_BANNER),Y(N.default,{type:N.Types.DESCRIPTION,className:j.default.marginBottom8},void 0,F.default.Messages.GUILD_SETTINGS_BANNER_RECOMMEND.format({articleURL:R.default.getDevArticleURL(G.DevHelpdeskArticles.SERVER_BANNERS)})),Y(m.default,{disabled:!r,look:m.default.Looks.OUTLINED,color:m.default.Colors.PRIMARY,className:j.default.marginTop8},void 0,F.default.Messages.UPLOAD_BACKGROUND,Y(w.default,{disabled:!r,onChange:this.handleBannerChange}))),Y(y.default.Child,{wrap:!0,basis:"50%"},void 0,Y(L.default,{avatar:n.banner,size:null,makeURL:function(e){return e&&b.default.getGuildBannerURL({id:n.id,banner:e})},disabled:!r,onChange:this.handleBannerChange,hint:F.default.Messages.CHANGE_BANNER,className:(0,o.default)((e={},e[x.default.avatarUploader]=r,e[x.default.avatarUploaderDisabled]=!r,e)),avatarClassName:x.default.avatarUploaderInner,hideSize:!0}))))},l.render=function(){var e=this.props.guild.hasFeature(G.GuildFeatures.INVITE_SPLASH),t=this.props.guild.hasFeature(G.GuildFeatures.VERIFIED);return Y(C.default,{title:F.default.Messages.SERVER_OVERVIEW,tag:A.Tags.H2},void 0,this.renderBaseSettings(),Y(O.default,{className:j.default.marginBottom40}),this.renderAFKSection(),Y(O.default,{className:j.default.marginBottom40}),this.renderJoinNotificationSection(),Y(O.default,{className:j.default.marginBottom40}),this.renderNotificationSection(),e&&Y(O.default,{className:(0,o.default)(j.default.marginTop40,j.default.marginBottom20)}),e&&this.renderServerInviteBGSection(),t&&Y(O.default,{className:(0,o.default)(j.default.marginTop40,j.default.marginBottom20)}),t&&this.renderDescription(),t&&Y(O.default,{className:(0,o.default)(j.default.marginTop40,j.default.marginBottom20)}),t&&this.renderBanner())},r}(a.PureComponent);$.displayName="GuildSettingsOverview";var q=l.default.connectStores([f.default,p.default,h.default,v.default],function(){var e=p.default.getProps(),t=e.guild,n=e.errors,r=e.submitting,a=null!=t?v.default.getRegions(t.id):null,o={id:"unknown",name:F.default.Messages.UNKNOWN_REGION,vip:!1};null!=a&&null!=t&&(o=a.find(function(e){return e.id===t.region})||o);var i=((null!=t&&h.default.getGuildPermissions(t.id)||0)&G.Permissions.MANAGE_GUILD)===G.Permissions.MANAGE_GUILD;return{channels:f.default.getChannels(),canManageGuild:i,regions:a,region:o,guild:t,errors:n,submitting:r}})($);t.default=q},6997:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(2)),o=c(n(17)),i=f(n(124)),l=c(n(219)),s=c(n(148)),u=c(n(13)),d=c(n(5595));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,r,a=e.region;if("unknown"===a.id)r=n(6102);else{var i=a.id.replace(/^vip-/,"");try{r=n(6598)("./"+i+".png")}catch(e){r=n(6102)}}var l={backgroundImage:'url("'+r+'")'};return p("div",{className:(0,o.default)(d.default.flag,(t={},t[d.default.vip]=a.vip,t)),style:l})};h.displayName="RegionFlag";var v=function(e){var t=e.region.name.replace(/ \(VIP\)$/,"");return p("div",{className:d.default.name},void 0,t)};v.displayName="RegionName";var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleClick=function(){var e=n.props,t=e.onClick;e.disabled||t()},n.handleMouseLeave=function(){n.setState({hover:!1})},n.handleMouseEnter=function(){n.setState({hover:!0})},n.state={hover:!1},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.region,r=t.error,a=t.disabled,c=this.state.hover,f=i.ButtonColors.GREY;return a||(c?f=i.ButtonColors.BRAND:!0===r&&(f=i.ButtonColors.RED)),p(l.default,{className:(0,o.default)(d.default.container,(e={},e[d.default.hover]=c,e[d.default.disabled]=a,e[d.default.error]=r,e)),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,p(s.default,{className:d.default.layout},void 0,p(s.default,{className:d.default.input,align:s.default.Align.CENTER},void 0,p(s.default.Child,{grow:0,shrink:0},void 0,p(h,{region:n})),p(s.default.Child,{},void 0,p(v,{region:n}))),p(s.default,{shrink:1,grow:0,style:{margin:0}},void 0,p(i.default,{className:d.default.button,onClick:function(){},size:i.ButtonSizes.MIN,color:f,disabled:a,look:i.ButtonLooks.GHOST},void 0,u.default.Messages.CHANGE))))},r}(a.PureComponent);m.displayName="RegionSelector",m.defaultProps={disabled:!1};var y=m;t.default=y,e.exports=t.default},6998:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsRolesNotice=void 0;var r,a=B(n(2)),o=x(n(17)),i=n(7205),l=x(n(3)),s=x(n(180)),u=x(n(827)),d=x(n(6e3)),c=n(6999),f=x(n(6642)),p=x(n(5997)),h=x(n(35)),v=x(n(14)),m=x(n(305)),y=x(n(124)),_=B(n(444)),g=x(n(148)),E=x(n(301)),S=x(n(6722)),T=x(n(5998)),O=x(n(6036)),I=x(n(822)),C=x(n(437)),N=x(n(832)),A=x(n(442)),M=x(n(829)),P=B(n(440)),b=B(n(107)),R=x(n(309)),L=x(n(87)),D=x(n(7e3)),w=x(n(6738)),U=x(n(6739)),k=x(n(6148)),G=n(0),F=x(n(13)),j=x(n(5605));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function V(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var W={paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"};function K(e,t){return Y(C.default,{color:C.default.Colors.RED,delay:500,position:C.default.Positions.TOP,text:t},void 0,Y("div",{className:j.default.notAllowedCursor},void 0,e))}K.displayName="wrapTooltip";var z=l.default.connectStores([p.default,f.default],function(){var e=p.default.getProps().guild,t=f.default.formState;return{guild:e,submitting:t===G.FormStates.SUBMITTING,onReset:function(){(0,c.init)()},onSave:function(){if(null!=e){var t=e.id,n=f.default.editedRoleIds.map(function(e){return f.default.getRole(e)}).filter(Boolean),r=f.default.getSortDeltas();(0,c.saveRoleSettings)(t,n,r)}}}})(k.default);t.GuildSettingsRolesNotice=z;var $=(0,i.makeDragItem)("ITEM")(w.default),q=(0,i.makeDragList)("ITEM")(O.default),X=function(e){function t(t){var r;return(r=e.call(this,t)||this).handleNameChange=function(e){var t=r.props.role.id;(0,c.updateRoleName)(t,e)},r.handleColorChange=function(e){var t=r.props.role,n=t.id;t.color===e||e===G.DEFAULT_ROLE_COLOR&&0===t.color||(e===G.DEFAULT_ROLE_COLOR&&(e=0),(0,c.updateRoleColor)(n,e))},r.handlePermissionChange=function(e,t){var n=r.props.role.id;(0,c.updateRolePermissions)(n,e,t)},r.handleDeleteRole=function(){var e=r.props,t=e.guild.id,a=e.role,o=a.id,i=a.name;s.default.show({title:F.default.Messages.SETTINGS_ROLES_DELETE_TITLE,body:F.default.Messages.SETTINGS_ROLES_DELETE_BODY.format({name:i}),cancelText:F.default.Messages.CANCEL,onConfirm:function(){return u.default.deleteRole(t,o)},iconUrl:n(6649)})},r.handlePermissionRender=function(e){var t,n=r.props,a=n.locked,o=n.guild,i=n.currentUser,l=n.everyone,s=n.role,u=L.default.getHighestRole(o,i.id);return a&&s===u?F.default.Messages.HELP_ROLE_LOCKED_MINE:a?F.default.Messages.HELP_ROLE_LOCKED:null==e&&l?F.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE:null==e||L.default.can(e,i,o)?null!=e&&!L.default.can(e,i,o,null,(t={},t[s.id]=H({},s,{permissions:s.permissions^s.permissions&e}),t))&&F.default.Messages.HELP_SINGULAR_PERMISSION:F.default.Messages.HELP_MISSING_PERMISSION},r.generalSpec=L.default.generateGuildGeneralPermissionSpec(),r.textSpec=L.default.generateGuildTextPermissionSpec(),r.voiceSpec=L.default.generateGuildVoicePermissionSpec(t.guild.id),r}V(t,e);var r=t.prototype;return r.handleSettingChange=function(e,t){var n=t.currentTarget.checked,r=this.props.role,a=r.hoist,o=r.mentionable,i=r.id;"hoist"===e?a=n:o=n,(0,c.toggleRoleSettings)(i,a,o)},r.renderName=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone;return Y(A.default,{title:F.default.Messages.FORM_LABEL_ROLE_NAME,className:j.default.marginBottom20},void 0,Y(I.default,{disabled:n||r,style:{color:t.colorString},value:t.name,onChange:this.handleNameChange}))},r.renderColorPicker=function(){var e=this.props,t=e.role,n=e.locked,r=e.everyone,a=Y(D.default,{defaultColor:G.DEFAULT_ROLE_COLOR,colors:G.ROLE_COLORS,value:t.color,disabled:n||r,onChange:this.handleColorChange});return(n||r)&&(a=K(a,F.default.Messages.FORM_LABEL_DISABLED_FOR_EVERYONE)),Y(A.default,{title:F.default.Messages.FORM_LABEL_ROLE_COLOR,className:j.default.marginBottom40},void 0,a)},r.renderDisabledIndicator=function(e){return Y(C.default,{text:e,position:C.default.Positions.TOP,color:C.default.Colors.RED},void 0,Y("span",{},void 0,Y(E.default,{name:E.default.Names.NOT_ALLOWED,className:j.default.notAllowedIcon,width:18,height:18})))},r.renderRoleSettings=function(){var e=this.props,t=e.role,n=e.locked,r=this.handlePermissionRender(),a=!(!n&&!r),i="string"==typeof r?this.renderDisabledIndicator(r):null,l=null!=i?j.default.rolePermissionTitleDisabled:null;return Y(M.default,{className:j.default.marginBottom40},void 0,Y(b.default,{tag:b.Tags.H5,className:j.default.marginBottom20},void 0,F.default.Messages.FORM_LABEL_ROLE_SETTINGS),Y(T.default,{className:(0,o.default)(j.default.marginBottom20,{disabled:a}),disabled:a,onChange:this.handleSettingChange.bind(this,"hoist"),value:t.hoist},void 0,i,Y("span",{className:l},void 0,F.default.Messages.FORM_LABEL_HOIST_DESCRIPTION)),Y(T.default,{disabled:a,onChange:this.handleSettingChange.bind(this,"mentionable"),value:t.mentionable},void 0,i,Y("span",{className:l},void 0,F.default.Messages.FORM_LABEL_MENTIONABLE.format())))},r.renderDeleteButton=function(){var e=this.props,t=e.locked,n=e.role,r=e.everyone;return t||n.managed||r?null:Y(y.default,{look:y.default.Looks.OUTLINED,color:y.default.Colors.RED,onClick:this.handleDeleteRole},void 0,F.default.Messages.DELETE," ",n.name)},r.renderManagedNote=function(){if(this.props.role.managed)return Y(_.default,{type:_.Types.WARNING,className:j.default.managedNote},void 0,F.default.Messages.MANAGED_ROLE_EXPLAINATION)},r.render=function(){var e=this.props,t=e.locked,n=e.role.permissions;return Y(M.default,{},void 0,this.renderManagedNote(),this.renderName(),this.renderColorPicker(),Y(N.default,{className:j.default.marginBottom40}),this.renderRoleSettings(),Y(U.default,{spec:this.generalSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:j.default.marginBottom40,permissionRender:this.handlePermissionRender}),Y(U.default,{spec:this.textSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,className:j.default.marginBottom40,permissionRender:this.handlePermissionRender}),Y(U.default,{spec:this.voiceSpec,permissions:n,locked:t,onChange:this.handlePermissionChange,permissionRender:this.handlePermissionRender}),this.renderDeleteButton())},t}(a.PureComponent);X.displayName="GuildRoleSettings";var Q=function(){return Y("div",{},void 0,Y(O.default.Separator,{style:{marginTop:20,marginBottom:14}}),Y(P.default,{type:P.Types.DESCRIPTION,className:j.default.marginBottom20},void 0,F.default.Messages.FORM_LABEL_ROLES_PRO_TIP_DESCRIPTION),Y(P.default,{type:P.Types.DESCRIPTION},void 0,Y(m.default,{href:R.default.getArticleURL(G.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,F.default.Messages.PERMISSION_HELPDESK)))};Q.displayName="GuildRoleInfo";var J=Y(Q,{}),Z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={dragging:null,roles:null},t.handleCreateRole=function(){u.default.createRole(t.props.guild.id)},t.handleSelectRole=function(e){d.default.selectRole(e)},t.handleDragStart=function(e){var n=t.props.roles;t.setState({dragging:e,roles:[].concat(n)})},t.handleDragLeave=function(){var e=t.props.roles;t.setState({roles:[].concat(e)})},t.handleDrop=function(){null!=t.state.roles&&((0,c.updateRoleSort)(t.state.roles.map(function(e){return e.id})),t.setState({dragging:null,roles:null}))},t.handleHover=function(e,n){if(null!=t.state.roles){var r=[].concat(t.state.roles),a=r.find(function(e){var t=e.id;return n===t}),o=r.find(function(t){var n=t.id;return e===n});if(null!=a&&null!=o){var i=r.indexOf(a),l=r.indexOf(o),s=l-i>0?1:0;r.splice(i,1),l=r.indexOf(o),r.splice(l+s,0,a),t.setState({roles:r})}}},t.handleCancel=function(){t.setState({dragging:null,roles:null})},t}V(t,e);var r=t.prototype;return r.getSelectedRole=function(){return f.default.getRole(this.props.selectedRoleId)},r.renderRoleList=function(){var e=this.props,t=e.currentUser,n=e.guild,r=e.selectedRoleId,a=e.theme,o=this.props.roles,i=L.default.getHighestRole(n,t.id);return this.state.roles&&(o=this.state.roles),o.map(function(e){var o,l=!L.default.isRoleHigher(n,t.id,i,e),s=l&&e===i,u=e.id,d=e.colorString,c=e.name;return s?o=F.default.Messages.HELP_ROLE_LOCKED_MINE:l&&(o=F.default.Messages.HELP_ROLE_LOCKED),l||s||u===n.id?Y(w.default,{theme:a,id:u,locked:l,lockTooltip:o,color:d},r+"-"+u,c):Y($,{theme:a,dragId:u,id:u,locked:l,lockTooltip:o,color:d},r+"-"+u,c)})},r.renderRoles=function(){var e=this.props,t=e.selectedRoleId,r=e.theme,a=this.state.dragging,o=this.props.theme===G.ThemeTypes.DARK?n(6741):n(6742);return Y(S.default.Sidebar,{style:H({},W,{overflow:"hidden"}),scrollable:!0,theme:r},void 0,Y(q,{onItemSelect:this.handleSelectRole,selectedItem:a||t,onDragStart:this.handleDragStart,onHover:this.handleHover,onDrop:this.handleDrop,onCancel:this.handleCancel,onDragLeave:this.handleDragLeave},void 0,Y(O.default.Header,{},void 0,Y(g.default,{className:j.default.sidebarHeader,onClick:this.handleCreateRole,justify:g.default.Justify.BETWEEN},void 0,F.default.Messages.ROLES,Y("img",{alt:"",className:j.default.addRoleIcon,src:o}))),this.renderRoleList(),J))},r.renderRoleSettings=function(){var e=this.props,t=e.guild,n=e.currentUser,r=this.getSelectedRole();if(null==r)return null;var a=L.default.getHighestRole(t,n.id),o=!L.default.isRoleHigher(t,n.id,a,r),i=null!=r&&r.id===t.id;return Y(S.default.Content,{style:H({},W,{paddingRight:0}),grow:0},void 0,Y(X,{guild:t,role:r,locked:o,everyone:i,currentUser:n}))},r.render=function(){return Y(S.default,{},void 0,this.renderRoles(),this.renderRoleSettings())},t}(a.PureComponent);Z.displayName="GuildSettingsRoles";var ee=l.default.connectStores([p.default,v.default,h.default,f.default],function(){var e=p.default.getProps(),t=e.guild,n=e.selectedRoleId;return{currentUser:v.default.getCurrentUser(),guild:t,selectedRoleId:n,roles:f.default.roles,theme:h.default.theme}})(Z);t.default=ee},6999:function(e,t,n){"use strict";t.__esModule=!0,t.updateRoleSort=function(e){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SORT_UPDATE,roles:e})},t.init=function(){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_INIT})},t.updateRolePermissions=function(e,t,n){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_PERMISSIONS,id:e,flag:t,allow:n})},t.updateRoleName=function(e,t){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_NAME,id:e,name:t})},t.updateRoleColor=function(e,t){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_COLOR,id:e,color:t})},t.toggleRoleSettings=function(e,t,n){r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_UPDATE_SETTINGS,id:e,hoist:t,mentionable:n})},t.saveRoleSettings=function(e,t,n){return r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SUBMITTING}),new Promise(function(r){var o=function n(){if(null==t||0===t.length)return r();var o=t.pop();if(null==o||""===o.name)return n();a.default.updateRole(e,o.id,o.name,o.permissions,o.color,o.hoist,o.mentionable).then(n,n)};null!=n&&n.length>0?a.default.batchRoleUpdate(e,n).then(o,o):o()}).then(function(){return r.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_ROLES_SAVE_SUCCESS})})};var r=i(n(1)),a=i(n(827)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7000:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=d(n(825)),i=c(n(7001)),l=d(n(821)),s=d(n(437)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={customColor:null},h(n).renderDefaultButton=n.renderDefaultButton.bind(h(n)),h(n).renderCustomButton=n.renderCustomButton.bind(h(n)),h(n).renderCustomColorPopout=n.renderCustomColorPopout.bind(h(n)),h(n).handleOnChange=n.handleOnChange.bind(h(n)),h(n).handleCustomOnChange=n.handleCustomOnChange.bind(h(n)),h(n)._removeEventListener=n._removeEventListener.bind(h(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.UNSAFE_componentWillReceiveProps=function(e){var t=e.value,n=e.defaultColor,r=e.colors;0===t||t===n||r.some(function(e){return e===t})?this.setState({customColor:null}):this.setState({customColor:t})},d._closeCustomColorPicker=function(){o.default.close("CUSTOM_COLOR_POPOUT_ID")},d._removeEventListener=function(){window.removeEventListener("wheel",this._closeCustomColorPicker)},d.renderCustomColorPopout=function(){return this._removeEventListener(),window.addEventListener("wheel",this._closeCustomColorPicker),p(i.CustomColorPicker,{onChange:this.handleCustomOnChange,value:this.state.customColor,onClose:this._removeEventListener})},d.renderCustomButton=function(e){var t=a.createElement(i.CustomColorButton,e);return e.disabled?t:p(l.default,{uniqueId:"CUSTOM_COLOR_POPOUT_ID",shadow:!1,render:this.renderCustomColorPopout,position:l.default.Positions.BOTTOM,zIndexBoost:1e3},void 0,p(s.default,{text:u.default.Messages.CUSTOM_COLOR,position:s.default.Positions.BOTTOM},void 0,p("div",{},void 0,t)))},d.renderDefaultButton=function(e){var t=a.createElement(i.DefaultColorButton,e);return this.props.disabled?t:p(s.default,{text:u.default.Messages.DEFAULT,position:s.default.Positions.BOTTOM},void 0,p("div",{},void 0,t))},d.render=function(){return a.createElement(i.default,f({},this.props,{renderDefaultButton:this.renderDefaultButton,renderCustomButton:this.renderCustomButton,customColor:this.state.customColor,onChange:this.handleOnChange}))},d.handleOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:null})},d.handleCustomOnChange=function(e){var t=this.props.onChange;t&&t(e),this.setState({customColor:e})},r}(a.PureComponent);v.displayName="ColorPicker";var m=v;t.default=m,e.exports=t.default},7001:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CustomColorPicker=t.CustomColorButton=t.DefaultColorButton=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=n(229),l=v(n(7002)),s=v(n(148)),u=v(n(301)),d=v(n(822)),c=n(0),f=v(n(5357)),p=v(n(5600)),h=v(n(926));function v(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var E=function(e){function t(t){var n;return _(n=e.call(this,t)||this).handleClick=n.handleClick.bind(_(n)),n}g(t,e);var n=t.prototype;return n.renderCustomIcon=function(e){if(this.props.isCustom)return y(u.default,{className:p.default.colorPickerDropper,foreground:p.default.colorPickerDropperFg,name:u.default.Names.DROPPER,width:14,height:14,color:e?c.Colors.WHITE:c.Colors.BLACK})},n.renderSelected=function(e){var t=16,n=16;if((this.props.isCustom||this.props.isDefault)&&(t=32,n=24),this.props.isSelected)return y(u.default,{name:u.default.Names.CHECKMARK,width:t,height:n,color:e?c.Colors.WHITE:c.Colors.BLACK})},n.render=function(){var e,t=this.props,n=t.color,r=t.isDefault,a=t.isCustom,l=t.isSelected,s=t.disabled,u=t.style,d=null!=n?(0,i.int2hex)(n):u.backgroundColor,c=!1;return a&&!l?c=!0:(a||l)&&(c=(0,i.getDarkness)(n)>.1),y("button",{className:(0,o.default)(p.default.colorPickerSwatch,((e={})[p.default.disabled]=s,e[p.default.default]=r,e[p.default.custom]=a,e[p.default.noColor]=null==n,e)),disabled:s,onClick:this.handleClick,style:m({},u,{backgroundColor:d})},void 0,this.renderCustomIcon(c),this.renderSelected(c))},n.handleClick=function(){var e=this.props,t=e.color,n=e.onClick;n&&n(t)},t}(a.PureComponent);E.displayName="Swatch",E.defaultProps={isDefault:!1,isCustom:!1,isSelected:!1,disabled:!1,style:{}};var S=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.onChange,r=e.value,a=e.disabled;return y(E,{isDefault:!0,color:t,isSelected:t===r||0===r,onClick:n,disabled:a,style:{marginLeft:0}})},t}(a.PureComponent);t.DefaultColorButton=S,S.displayName="DefaultColorButton";var T=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.render=function(){var e=this.props,t=e.customColor,n=e.value,r=e.disabled;return y(E,{isCustom:!0,color:t,isSelected:n===t,disabled:r,style:{marginLeft:10}})},t}(a.PureComponent);t.CustomColorButton=T,T.displayName="CustomColorButton";var O=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.value,a=(0,i.int2hex)(null!=r?r:0);return n.state={color:a,validColor:a},_(n).handleHexChange=n.handleHexChange.bind(_(n)),_(n).handleOnChange=n.handleOnChange.bind(_(n)),_(n).handleOnChangeComplete=n.handleOnChangeComplete.bind(_(n)),n}g(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props.onClose;e&&e()},n.render=function(){var e=this.state,t=e.color,n=e.validColor;return y(s.default,{direction:s.default.Direction.VERTICAL,className:p.default.colorPickerCustom},void 0,y(l.default,{onChangeComplete:this.handleOnChangeComplete,onChange:this.handleOnChange,color:n}),y(d.default,{className:(0,o.default)(p.default.customColorPickerInput,f.default.marginTop8),value:t,onChange:this.handleHexChange,maxLength:7}))},n.callOnChange=function(e){(0,this.props.onChange)((0,i.hex2int)(e))},n.handleHexChange=function(e){var t="#"===e[0]?e:"#"+e,n=(0,i.isValidHex)(t);this.setState({color:t,validColor:n?t:this.state.validColor}),n&&this.callOnChange(t)},n.handleOnChange=function(e){this.setState({color:e.hex,validColor:e.hex})},n.handleOnChangeComplete=function(e){this.callOnChange(e.hex)},t}(a.PureComponent);t.CustomColorPicker=O,O.displayName="CustomColorPicker";var I=function(e){function t(t){var n;return _(n=e.call(this,t)||this).renderColor=n.renderColor.bind(_(n)),n}g(t,e);var n=t.prototype;return n.renderColor=function(e){var t=this.props,n=t.value,r=t.onChange,a=t.disabled;return y(E,{color:e,isSelected:e===n,onClick:r,disabled:a},e)},n.renderRow=function(e){var t=this;return y(s.default,{className:p.default.colorPickerRow,wrap:s.default.Wrap.WRAP},void 0,e.map(function(e){return t.renderColor(e)}))},n.render=function(){var e=this.props,t=e.defaultColor,n=e.customColor,r=e.colors,a=e.value,o=e.disabled,i=e.onChange,l=e.renderDefaultButton,u=e.renderCustomButton,d=r.slice(0,r.length/2),c=r.slice(r.length/2,r.length);return y(s.default,{},void 0,y(s.default.Child,{shrink:0,grow:0,className:f.default.marginReset,wrap:!0},void 0,l({value:a,color:t,onChange:i,disabled:o})),y(s.default.Child,{shrink:0,grow:0,className:f.default.marginReset,wrap:!0},void 0,u({value:a,customColor:n,disabled:o})),y(s.default,{direction:s.default.Direction.VERTICAL,className:h.default.flexMarginReset,grow:1},void 0,this.renderRow(d),this.renderRow(c)))},t}(a.PureComponent);I.displayName="ColorPicker";var C=I;t.default=C},7002:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(7206),l=n(6009),s=(r=n(5599))&&r.__esModule?r:{default:r};function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return d("div",{className:s.default.wrapper},void 0,d("div",{className:s.default.saturation},void 0,o.createElement(l.Saturation,this.props)),d("div",{className:s.default.hue},void 0,o.createElement(l.Hue,u({},this.props,{direction:"horizontal"}))))},r}(o.PureComponent);c.displayName="ColorPickerControl";var f=(0,i.CustomPicker)(c);t.default=f,e.exports=t.default},7025:function(e,t,n){e.exports=n.p+"959a1978f7be567071a1354a98b46ecd.svg"},7026:function(e,t,n){e.exports=n.p+"89c5bd0afd63d925ba6a8fcd18eeb530.svg"},7027:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PermissionOverrideTypes=void 0;var r,a=f(n(2)),o=c(n(148)),i=c(n(7028)),l=c(n(832)),s=f(n(440)),u=f(n(107)),d=c(n(5357));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=i.default.Types;t.PermissionOverrideTypes=h;var v=p(l.default,{}),m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.value,n=e.onChange,r=e.disabled,a=e.hideBorder,l=e.children,c=e.className,f=e.note,h=e.style;return p(o.default,{style:h,className:c,direction:o.default.Direction.VERTICAL},void 0,p(o.default,{},void 0,p(o.default.Child,{},void 0,p(u.default,{className:d.default.marginReset,tag:u.Tags.H3,disabled:r},void 0,l)),p(o.default.Child,{grow:0,shrink:0},void 0,p(i.default,{value:t,onChange:n,disabled:r}))),f&&p(o.default.Child,{className:d.default.marginTop4},void 0,p(s.default,{type:s.Types.DESCRIPTION},void 0,f)),!a&&p(o.default.Child,{className:d.default.marginTop20},void 0,v))},r}(a.PureComponent);m.displayName="PermissionOverrideItem",m.defaultProps={disabled:!1,hideBorder:!1,className:d.default.marginBottom20},m.Types=i.default.Types;var y=m;t.default=y},7028:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.PermissionOverrideTypes=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(178),i=u(n(6740)),l=u(n(13)),s=u(n(5603));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c={DENY:"DENY",PASSTHROUGH:"PASSTHROUGH",ALLOW:"ALLOW"};t.PermissionOverrideTypes=c;var f=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).keys=Object.keys(c),t.handleToggle=function(e){var n=t.props,r=n.value,a=n.onChange;r!==e&&a(e)},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this,t=this.props,r=t.value,a=t.disabled,u=this.keys.map(function(t){var a,i,u,f=r===t;switch(t){case c.DENY:u=l.default.Messages.PERMISSION_OVERRIDE_DENY,a=n(f?7029:7030),i=c.DENY;break;case c.ALLOW:u=l.default.Messages.PERMISSION_OVERRIDE_ALLOW,a=n(f?7031:7032),i=c.ALLOW;break;case c.PASSTHROUGH:default:u=l.default.Messages.PERMISSION_OVERRIDE_PASSTHROUGH,a=n(f?7033:7034),i=c.PASSTHROUGH}return{content:d("img",{alt:u,src:a,className:s.default.overrideItem}),className:(0,o.getClass)(s.default,i.toLowerCase(),f?"selected":""),onClick:e.handleToggle.bind(e,t)}});return d(i.default,{buttons:u,disabled:a})},a}(a.PureComponent);f.displayName="PermissionOverride",f.Types=c,f.defaultProps={value:c.PASSTHROUGH,disabled:!1};var p=f;t.default=p},7029:function(e,t,n){e.exports=n.p+"46eac82bb5b3ccd5049e8b3a96910327.svg"},7030:function(e,t,n){e.exports=n.p+"132b1ce1c085ff84256f3b16943bc782.svg"},7031:function(e,t,n){e.exports=n.p+"7b5b950896ff4214b058f76ba0e84a7b.svg"},7032:function(e,t,n){e.exports=n.p+"ffeba954d48c1ac993679084cee38746.svg"},7033:function(e,t,n){e.exports=n.p+"f081fef9b7d9610309e65b5282bd0ca9.svg"},7034:function(e,t,n){e.exports=n.p+"bbc9e257da833d4b7d22c82a1de8a0a0.svg"},7035:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GuildSettingsVanityURLNotice=void 0;var r,a=C(n(2)),o=I(n(3)),i=n(7036),l=I(n(5997)),s=I(n(6643)),u=I(n(307)),d=I(n(124)),c=I(n(444)),f=I(n(7037)),p=I(n(438)),h=I(n(125)),v=I(n(829)),m=C(n(440)),y=C(n(107)),_=n(227),g=I(n(6037)),E=I(n(6148)),S=n(0),T=I(n(13)),O=I(n(5607));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=o.default.connectStores([l.default,s.default],function(){var e=s.default.vanityURLCode,t=l.default.getGuildId();return{vanityURLCode:e,guildId:t,onReset:function(){(0,i.resetCode)()},onSave:function(){null!=t&&(0,i.saveCode)(t,e)}}})(E.default);t.GuildSettingsVanityURLNotice=A;var M=N(p.default,{}),P=N(g.default,{}),b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isRemoving:!1},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){(0,i.close)()},a.renderEditCard=function(){var e=this.state.isRemoving,t=this.props,n=t.hasError,r=t.originalVanityURLCode,a=t.vanityURLCode;return null==a?M:N(c.default,{editable:!0,className:O.default.editVanityUrlCard},void 0,N(y.default,{},void 0,T.default.Messages.INVITE_URL),N(f.default,{prefix:S.INVITE_ENDPOINT+"/",value:a,onChange:this.handleInviteCodeChange,maxLength:25,autoFocus:!0,error:n}),null!=r&&r.length>0?N(d.default,{className:O.default.removeVanityUrlButton,onClick:this.handleRemoveVanityURL,submitting:e,look:d.default.Looks.LINK,size:d.default.Sizes.MIN,color:d.default.Colors.RED},void 0,T.default.Messages.REMOVE_VANITY_URL):null)},a.renderInfo=function(){var e=this.props,t=e.hasError,n=e.originalVanityURLCode;if(t)return N(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.RED,className:O.default.marginTop20},void 0,T.default.Messages.CHANGE_VANITY_URL_ERROR);if(null!=n&&n.length>0){var r=(0,_.getInviteURL)(n);return N(m.default,{className:O.default.marginTop20,type:m.Types.LABEL_DESCRIPTOR},void 0,T.default.Messages.VANITY_URL_HELP_EXTENDED_LINK.format({urlText:r,urlValue:r}))}},a.handleRemoveVanityURL=function(){(0,i.setCode)("")},a.handleInviteCodeChange=function(e){(0,i.setCode)(e.replace(/ /g,"-"))},a.render=function(){return this.props.hide?P:N(v.default,{tag:y.Tags.H2,title:T.default.Messages.VANITY_URL},void 0,N(m.default,{type:m.Types.DESCRIPTION,className:O.default.marginBottom8},void 0,T.default.Messages.VANITY_URL_HELP),N(m.default,{type:m.Types.DESCRIPTION,className:O.default.marginBottom20},void 0,T.default.Messages.VANITY_URL_HELP_CONFLICT),this.renderEditCard(),this.renderInfo())},r}(a.PureComponent);b.displayName="GuildSettingsVanityURL";var R=o.default.connectStores([l.default,s.default,u.default],function(){return{vanityURLCode:s.default.vanityURLCode,originalVanityURLCode:s.default.originalVanityURLCode,guildId:l.default.getGuildId(),hasError:s.default.hasError(),hide:u.default.hideInstantInvites}})(b);t.default=R},7036:function(e,t,n){"use strict";t.__esModule=!0,t.close=function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_CLOSE})},t.resetCode=function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_RESET})},t.setCode=function(e){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_SET,code:e})},t.saveCode=function(e,t){return r.default.patch({url:o.Endpoints.GUILD_VANITY_URL(e),body:{code:t}}).then(function(e){var t=e.body;a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_SET_VANITY_URL,code:t.code})},function(){a.default.dispatch({type:o.ActionTypes.GUILD_SETTINGS_VANITY_URL_ERROR})})};var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7037:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(148)),l=u(n(5357)),s=u(n(5606));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).setInputRef=function(e){n._inputRef=e},n.handleChange=function(e){(0,n.props.onChange)(e.currentTarget.value)},n.handleFocus=function(){n.setState({focused:!0})},n.handleBlur=function(){n.setState({focused:!1})},n.handleFocusInput=function(){null!=n._inputRef&&n._inputRef.focus()};var r=n.props.autoFocus;return n.state={focused:null!=r&&r},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.state.focused,n=this.props,r=n.value,u=n.placeholder,c=n.error,f=n.className,p=n.maxLength,h=n.autoFocus,v=n.prefix;return d(i.default,{align:i.default.Align.CENTER,justify:i.default.Justify.START,className:(0,o.default)(s.default.prefixInput,f,(e={},e[s.default.focused]=t,e[s.default.error]=c,e)),onClick:this.handleFocusInput},void 0,d(i.default.Child,{grow:0,className:s.default.prefixInputPrefix},void 0,v),d(i.default.Child,{className:l.default.marginReset},void 0,a.createElement("input",{ref:this.setInputRef,className:s.default.prefixInputInput,value:r,placeholder:u,maxLength:p,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,autoFocus:h})))},r}(a.PureComponent);c.displayName="PrefixInput";var f=c;t.default=f,e.exports=t.default},7038:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(5997)),o=i(n(6743));function i(e){return e&&e.__esModule?e:{default:e}}var l=r.default.connectStores([a.default],function(){return{guild:a.default.getProps().guild}})(o.default);t.default=l,e.exports=t.default},7039:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(3)),o=l(n(1)),i=l(n(6151));n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u,d={},c={};function f(e,t){return null==t&&(t="guild"),e+":"+t}function p(e){return null!=d[e]?d[e]:(d[e]={},d[e])}function h(e){var t=e.guildId,n=e.webhook;p(t)[n.id]=n}var v=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,i,l,d=a.prototype;return d.isFetching=function(e,t){return null!=c[f(e,t)]},d.getWebhooksForGuild=function(e){return r.default.values(p(e))},d.getWebhooksForChannel=function(e,t){return(0,r.default)(p(e)).values().filter(function(e){return e.channel_id===t}).value()},o=a,(i=[{key:"error",get:function(){return u}}])&&s(o.prototype,i),l&&s(o,l),a}(a.default.Store))(o.default,{WEBHOOKS_UPDATE:function(e){var t=e.guildId,n=e.channelId,a=e.webhooks,o=e.error;if(a){u=null;var l=[];n&&(l=(0,r.default)(p(t)).values().filter(function(e){return e.channel_id!==n}).value());var s=d[t]={};l.concat(a).forEach(function(e){return s[e.id]=e}),delete c[f(t,n)]}else null!=o?(u=o,delete c[f(t,n)]):null!=n&&null!=d[t]&&(u=null,i.default.fetchForChannel(t,n))},WEBHOOKS_FETCHING:function(e){var t=e.guildId,n=e.channelId;c[f(t,n)]=!0},WEBHOOK_CREATE:h,WEBHOOK_UPDATE:h,WEBHOOK_DELETE:function(e){var t=e.guildId,n=e.webhookId;delete p(t)[n]}});t.default=v,e.exports=t.default},7040:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=N(n(2)),o=C(n(17)),i=C(n(180)),l=C(n(77)),s=C(n(6151)),u=C(n(5992)),d=C(n(124)),c=C(n(444)),f=C(n(148)),p=C(n(125)),h=N(n(440)),v=N(n(107)),m=n(79),y=C(n(112)),_=C(n(445)),g=C(n(6650)),E=n(0),S=C(n(13)),T=C(n(5363)),O=C(n(5357)),I=C(n(5609));function C(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=function(e){var t,n;function r(t){var n;return P(n=e.call(this,t)||this).handleShowModal=n.handleShowModal.bind(P(n)),P(n).handleRemoveWebhook=n.handleRemoveWebhook.bind(P(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var C=r.prototype;return C.handleRemoveWebhook=function(){var e=this.props.webhook,t=e.name;l.default.push(function(n){return a.createElement(_.default,A({},n,{header:S.default.Messages.WEBHOOK_DELETE_TITLE.format({name:t}),confirmText:S.default.Messages.WEBHOOK_DELETE,cancelText:S.default.Messages.WEBHOOK_CANCEL,onConfirm:function(){s.default.delete(e.guild_id,e.id).catch(function(){i.default.show({title:S.default.Messages.WEBHOOK_ERROR_DELETING_WEBHOOK,body:S.default.Messages.WEBHOOK_ERROR_INTERNAL_SERVER_ERROR})})}}),M(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,S.default.Messages.WEBHOOK_DELETE_BODY.format({name:t})))})},C.handleShowModal=function(){var e=this.props.webhook;l.default.push(function(t){return a.createElement(g.default,A({webhook:e},t))})},C.renderAvatar=function(){var e,t,n,r=this.props.webhook;return M(f.default.Child,{wrap:!0,grow:0},void 0,M(u.default,{src:(e=r,t=e.avatar,n=e.id,(0,m.getUserAvatarURL)({id:n,avatar:t,discriminator:E.NON_USER_BOT_DISCRIMINATOR})),size:"large"}))},C.renderInfo=function(){var e=this.props.webhook,t=e.id,n=e.name,r=e.user;return M(f.default,{direction:f.default.Direction.VERTICAL,justify:f.default.Justify.CENTER},void 0,M(v.default,{tag:v.Tags.H3,className:O.default.marginReset},void 0,n),M(h.default,{type:h.Types.DESCRIPTION},void 0,S.default.Messages.WEBHOOK_CREATED_ON.format({timestamp:y.default.extractTimestamp(t),username:r?r.username:""})))},C.renderEdit=function(){var e=this.props.theme;return M(f.default,{grow:0,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER},void 0,M(d.default,{size:d.default.Sizes.SMALL,look:d.default.Looks.OUTLINED,color:e===E.ThemeTypes.DARK?d.default.Colors.WHITE:d.default.Colors.GREY,onClick:this.handleShowModal},void 0,S.default.Messages.EDIT))},C.render=function(){var e=this.props.className;return M(c.default,{editable:!0,className:(0,o.default)(I.default.webhookRow,e)},void 0,M(f.default,{},void 0,this.renderAvatar(),this.renderInfo(),this.renderEdit()),M("button",{className:(0,o.default)(I.default.removeWebhook,T.default.button),onClick:this.handleRemoveWebhook}))},r}(a.PureComponent);b.displayName="Webhook";var R=b;t.default=R,e.exports=t.default},7041:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;c(n(2));var r,a=d(n(124)),o=d(n(148)),i=c(n(440)),l=d(n(309)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.onCreate,n=e.disabled;return f(o.default,{},void 0,f(o.default.Child,{},void 0,f(i.default,{type:i.Types.DESCRIPTION},void 0,u.default.Messages.SETTINGS_WEBHOOKS_INTRO.format({articleURL:l.default.getArticleURL(s.HelpdeskArticles.WEBHOOKS_INTRODUCTION)}))),f(o.default.Child,{wrap:!0,grow:0},void 0,f(a.default,{disabled:n,onClick:t},void 0,u.default.Messages.WEBHOOK_CREATE)))};p.displayName="WebhooksIntro";var h=p;t.default=h,e.exports=t.default},7042:function(e,t,n){e.exports=n.p+"97b178f31f0ec28b41387b78891d5b7a.svg"},7043:function(e,t,n){e.exports=n.p+"6fad2f9f24cb4f38202a81064da6f859.svg"},7044:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(2)),o=I(n(17)),i=I(n(6)),l=I(n(3)),s=I(n(6e3)),u=I(n(20)),d=I(n(5997)),c=I(n(307)),f=I(n(148)),p=I(n(6004)),h=I(n(5998)),v=I(n(832)),m=I(n(442)),y=I(n(829)),_=C(n(440)),g=C(n(107)),E=I(n(6037)),S=I(n(6310)),T=I(n(13)),O=I(n(5357));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A="NO_INSTANT_INVITE",M=N(E.default,{}),P=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={internalEnabled:t.props.widgetEnabled},t.renderToggle=function(){return N(h.default,{className:O.default.marginBottom40,value:t.state.internalEnabled,onChange:t.handleToggleWidget},void 0,T.default.Messages.GUILD_SETTINGS_WIDGET_ENABLE_WIDGET)},t.handleToggleWidget=function(e){var n=t.props,r=n.guild,a=n.widgetChannelId;if(null!=r){var o=e.currentTarget.checked;t.setState({internalEnabled:o}),s.default.updateEmbed(r.id,o,a)}},t.handleChannelSelect=function(e){var n=e.value,r=t.props,a=r.guild,o=r.widgetEnabled;null!=a&&(n===A&&(n=null),s.default.updateEmbed(a.id,o,n))},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.UNSAFE_componentWillReceiveProps=function(e){e.widgetEnabled!==this.state.internalEnabled&&this.setState({internalEnabled:e.widgetEnabled})},l.renderChannelSelect=function(e){var t=this.props,n=t.channels,r=t.widgetChannelId,a=(0,i.default)(n).filter(function(t){return t.guild_id===e.id}).map(function(e){return{value:e.id,label:e.toString(!0)}}).value(),o={value:A,label:T.default.Messages.NO_INSTANT_INVITE};a.unshift(o);var l=r||o;return N(m.default,{title:T.default.Messages.FORM_LABEL_INSTANT_INVITE_CHANNEL},void 0,N(p.default,{className:O.default.marginBottom20,options:a,value:l,onChange:this.handleChannelSelect,searchable:!1,clearable:!1}),N(_.default,{type:_.Types.DESCRIPTION},void 0,T.default.Messages.FORM_HELP_INSTANT_INVITE_CHANNEL))},l.renderAPIInfo=function(e){var t=""+location.protocol+window.GLOBAL_ENV.API_ENDPOINT+"/guilds/"+e.id+"/widget.json";return N(f.default,{},void 0,N(f.default.Child,{},void 0,N(m.default,{title:T.default.Messages.FORM_LABEL_SERVER_ID},void 0,N(S.default,{value:e.id}))),N(f.default.Child,{},void 0,N(m.default,{title:T.default.Messages.FORM_LABEL_JSON_API},void 0,N(S.default,{value:t}))))},l.renderWidget=function(e){var t='<iframe src="'+(""+location.protocol+window.GLOBAL_ENV.WIDGET_ENDPOINT+"?id="+e.id+"&theme=dark")+'" width="350" height="500" allowtransparency="true" frameborder="0"></iframe>';return N(f.default,{direction:f.default.Direction.VERTICAL},void 0,N(g.default,{},void 0,T.default.Messages.FORM_LABEL_PREMADE_WIDGET),N(f.default,{},void 0,N(f.default.Child,{basis:"50%"},void 0,N(m.default,{},void 0,N(S.default,{value:t}),N(_.default,{type:_.Types.DESCRIPTION},void 0,T.default.Messages.GUILD_SETTINGS_WIDGET_EMBED_HELP.format()))),N(f.default.Child,{basis:"50%"},void 0,N("img",{alt:"",src:n(7045)}))))},l.render=function(){var e=this.props.guild;return null==e?null:this.props.hide?M:N(y.default,{tag:g.Tags.H2,title:T.default.Messages.GUILD_SETTINGS_TITLE_SERVER_WIDGET},void 0,this.renderToggle(),this.renderChannelSelect(e),N(v.default,{className:(0,o.default)(O.default.marginTop40,O.default.marginBottom40)}),this.renderAPIInfo(e),N(v.default,{className:(0,o.default)(O.default.marginTop40,O.default.marginBottom40)}),this.renderWidget(e))},a}(a.PureComponent);P.displayName="GuildSettingsWidget";var b=l.default.connectStores([d.default,c.default],function(){var e=d.default.getProps();return{guild:e.guild,widgetChannelId:e.embedChannelId,widgetEnabled:e.embedEnabled,channels:u.default.getChannels(),hide:c.default.enabled}})(P);t.default=b,e.exports=t.default},7045:function(e,t,n){e.exports=n.p+"5fb477ca84edd15d9a2888ac28365acd.svg"},7046:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(3)),i=d(n(6316)),l=d(n(226)),s=d(n(6012)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.toggleMuted=function(){i.default.toggleCollapseGuild(this.props.guildId)},o.render=function(){var e=this,t=this.props.collapseMuted;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{label:u.default.Messages.HIDE_MUTED_CHANNELS,action:function(){return e.toggleMuted()},active:t})},a}(a.PureComponent);c.displayName="GuildToggleMutedChannels";var f=o.default.connectStores([l.default],function(e){var t=e.guildId;return{collapseMuted:l.default.isGuildCollapsed(t)}})(c);t.default=f,e.exports=t.default},7047:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(2)),o=M(n(6)),i=M(n(6013)),l=n(126),s=M(n(848)),u=M(n(20)),d=n(108),c=M(n(149)),f=M(n(310)),p=M(n(226)),h=M(n(6169)),v=P(n(821)),m=n(449),y=n(106),_=M(n(6699)),g=M(n(5359)),E=M(n(7048)),S=M(n(7050)),T=M(n(7051)),O=M(n(7052)),I=M(n(7053)),C=M(n(7057)),N=n(0),A=M(n(5622));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}o.default.memoize.Cache=WeakMap;var L=8,D=32,w=40,U=16,k=34,G=32,F=8,j=5;function x(e,t){var n=0,r=0,a=u.default.getChannel(e);if(null==a)return null;null!=a.parent_id&&t._categories.find(function(e,t){return e.channel.id===a.parent_id&&(n=t,!0)});var o=t[String(a.parent_id)];return null==o?null:(o.find(function(e,t){return e.channel.id===a.id&&(r=t,!0)}),{section:n,row:r})}var B=o.default.memoize(function(e){var t=null;return e._categories.filter(function(e){return e.index>=0}).map(function(e){return e.channel.id}).some(function(n){return null!=(t=e[n].find(function(e){return e.channel.type===N.ChannelTypes.GUILD_VOICE}))}),t}),H=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).state={initialized:!1,isUnreadVisible:!0,topUnread:null,topMention:null,bottomUnread:null,bottomMention:null},t.setListRef=function(e){t._list=e},t.scrollToChannel=function(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=L);var a=t.props.categories,o=t._list,i=x(e,a);null!=i&&null!=o&&o.scrollToRow(i.section,i.row,n,r)},t.jumpToChannel=function(e,n){var r=n[0],a=n[1];return t.scrollToChannel(e,!0,null!=r&&null!=a?D:L)},t.isChannelVisible=function(e,n){var r=x(e,t.props.categories),a=t._list;if(null==a||null==r)return!1;var o=r.row,i=r.section,l=a.getScrollPosition(i,o),s=a.getScrollData();return null!=s&&(!!(n&&l.scrollTop+l.rowHeight<s.scrollTop+s.offsetHeight)||!n&&l.scrollTop>s.scrollTop)},t.handleResize=function(){if(t._list){t._list.forceUpdate();var e=t.isUnreadVisible();t.setState({isUnreadVisible:e})}},t.handleListScroll=function(){var e=t._list;if(null!=e){var n=e.getScrollData();if(null!=n){var r=n.scrollTop;null!=t.props.onScroll&&t.props.onScroll(n),t.updateChannelListScroll(r)}}},t.updateChannelListScroll=o.default.throttle(function(e){i.default.updateChannelListScroll(t.props.guildId,e)},100),t.handleUserClick=function(e,t,n){null!=n&&null!=t&&(0,v.openPopout)(n,{closeOnScroll:!1,position:v.default.Positions.BOTTOM_LEFT,render:function(e){return a.createElement(g.default,R({},e,{user:t}))},shadow:!1})},t.handleUnreadCalculate=function(e,n,r){var a=t.isUnreadVisible();r?t.setState({isUnreadVisible:a,bottomUnread:n,bottomMention:e}):t.setState({isUnreadVisible:a,topUnread:n,topMention:e})},t.getSectionHeight=function(e){var n=t.props,r=n.categories,a=n.channels[N.ChannelTypes.GUILD_CATEGORY][e].channel;return 0===e&&r[a.id].length>0?U:0===e?0:w},t.getFooterHeight=function(e){var n=t.props,r=n.categories,a=n.channels,o=n.voiceStates,i=n.selectedVoiceChannelId,l=a[N.ChannelTypes.GUILD_CATEGORY][e].channel;if(!s.default.isCollapsed(l.id))return 0;var u=r[l.id];return null==u||0===u.length?0:u.some(function(e){var t=e.channel,n=o[t.id];return i!==t.id&&null!=n&&n.length>0})?k:0},t.getRowHeight=function(e,n){var r=null!=n?n:0,a=t.props,o=a.channels,i=a.collapsedChannels,l=a.voiceStates,s=a.categories,u=k,d=o[N.ChannelTypes.GUILD_CATEGORY][e],c=d?s[d.channel.id][r]:s.null[r];if(null==c)return 0;var f=c.channel;if((0,m.isChannelCollapsed)(f))return 0;switch(f.type){case N.ChannelTypes.GUILD_VOICE:var p=l[f.id];if(null!=p&&p.length>0){var h=p.length*G;f&&i[f.id]&&(h=Math.ceil(h/j)),u+=h+F}}return u},t.renderSectionContainer=function(e,t){return b("div",{className:"container-"+e},"section-container-"+e,t)},t.renderSection=function(e){var n=t.props,r=n.categories,a=n.disableManageChannels,o=r._categories[e];if(-1===o.index)return r.null.length>0?b("div",{style:{height:U}},"spacer"):null;var i=o.channel,l=o.index,s=null==r[i.id]||0===r[i.id].length;return b(E.default,{channel:i,position:l,isEmpty:s,showTutorial:0===o.index&&!a,disableManageChannels:a},i.id)},t.renderRow=function(e,n){var r=t.props,a=r.guild,o=r.selectedChannelId,i=r.selectedVoiceChannelId,l=r.mutedChannels,s=r.channels,u=r.categories,d=r.collapsedChannels,c=r.voiceStates,f=r.disableManageChannels,p=u[s[N.ChannelTypes.GUILD_CATEGORY][e].channel.id][n];if(null==p)return null;var v=p.channel;if((0,m.isChannelCollapsed)(v))return null;var y=p.index;switch(p.channel.type){case N.ChannelTypes.GUILD_NEWS:case N.ChannelTypes.GUILD_TEXT:var _=l.has(v.id);return b(T.default,{channel:v,guild:a,position:y,selected:o===v.id,muted:_,disableManageChannels:f},v.id);case N.ChannelTypes.GUILD_VOICE:var g=B(t.props.categories),E=h.default.useNewTutorialLogic();return b(I.default,{channel:v,guild:a,position:y,selected:o===v.id,connected:i===v.id,collapsed:d[v.id],voiceStates:c[v.id],disableManageChannels:f,showTutorial:E&&null!=g&&g.channel===v&&g.index===y},v.id);case N.ChannelTypes.GUILD_STORE:return b(S.default,{channel:v,guild:a,position:y,selected:o===v.id},v.id)}},t.renderFooter=function(e){var n=t.props,r=n.channels,a=n.categories,o=n.voiceStates,i=n.selectedVoiceChannelId,l=r[N.ChannelTypes.GUILD_CATEGORY][e].channel;return s.default.isCollapsed(l.id)?b(C.default,{channels:a[l.id],voiceStates:o,selectedChannel:i,onClick:t.handleUserClick},"footer-"+l.id):null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.componentDidMount=function(){this.setState({initialized:!0}),y.ComponentDispatch.subscribe(N.ComponentActions.OVERLAY_GUILD_RESIZE,this.handleResize)},u.componentWillUnmount=function(){this.updateChannelListScroll.cancel(),y.ComponentDispatch.unsubscribe(N.ComponentActions.OVERLAY_GUILD_RESIZE,this.handleResize)},u.componentDidUpdate=function(e,t){var n=this.props,r=n.scrollToChannel,a=n.guildId,o=n.scrollTop,l=n.channels,s=n.selectedChannelId,u=this.state.initialized;r?(this.scrollToChannel(r),i.default.clearChannelListScrollTo(a)):a!==e.guildId?(o||0===o)&&this.scrollTo(o):0===e.channels[d.GUILD_SELECTABLE_CHANNELS_KEY].length&&l[d.GUILD_SELECTABLE_CHANNELS_KEY].length>0||s!==e.selectedChannelId?this.scrollToChannel(s):!t.initialized&&u&&this.scrollTo(o)},u.scrollTo=function(e){var t=this._list;null!=t&&t.scrollTo(e)},u.isUnreadVisible=function(){var e=this.props,t=e.mutedChannels,n=e.categories,r=this._list;return null!=r&&r.getItems().some(function(e){var a=e.section,o=e.row;if(null==o)return!1;var i=n._categories[a];if(null==i)return!1;var u=n[i.channel.id][o];if(null==u)return!1;var d=u.channel;if(!(0,l.isGuildTextChannelType)(d.type))return!1;var c=i.channel.id;return!(s.default.isCollapsed(c)&&p.default.isChannelMuted(d.getGuildId(),c)||t.has(d.id)||!r.isItemVisible(a,o))&&f.default.hasUnread(d.id)})},u.renderList=function(){var e=this.props,t=e.categories,n=e.guild,r=e.collapseMuted,o=e.mutedChannels,i=e.selectedChannelId,l=e.children,s=[];return t._categories.forEach(function(e){var a=e.channel,l=t[a.id].length;0===l&&null!=n&&c.default.can(N.Permissions.MANAGE_CHANNELS,a)&&c.default.can(N.Permissions.VIEW_CHANNEL,a)?l=1:!r||t[a.id].some(function(e){var t=e.channel;return t.id===i||!o.has(t.id)})||"null"!==a.id&&c.default.can(N.Permissions.MANAGE_CHANNELS,n)||(l=0),s.push(l)}),a.createElement(_.default,{key:"guild-channels",ref:this.setListRef,theme:_.default.Themes.GHOST_HAIRLINE_CHANNELS,backgroundColor:N.Colors.PRIMARY_DARK_630,className:A.default.scroller,fade:!0,sectionHeight:this.getSectionHeight,footerHeight:this.getFooterHeight,rowHeight:this.getRowHeight,paddingTop:null!=n&&null!=n.banner?78:0,paddingBottom:U,renderSection:this.renderSection,renderFooter:this.renderFooter,wrapSection:this.renderSectionContainer,renderRow:this.renderRow,onScroll:this.handleListScroll,sections:s,uniform:!1},l)},u.renderTopUnread=function(){var e=this.state,t=e.topMention,n=e.bottomUnread,r=e.bottomMention,a=e.isUnreadVisible,o=this.props.guildId,i=null==t&&(a||null!=n||null!=r);return b("div",{className:A.default.positionedContainer},void 0,b(O.default,{hide:i,className:A.default.unreadTop,barClassName:A.default.unreadBar,guildId:o,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate}))},u.renderBottomUnread=function(){var e=this.props.guildId,t=this.state,n=t.bottomMention,r=t.isUnreadVisible,a=null==n&&r;return b(O.default,{reverse:!0,hide:a,className:A.default.unreadBottom,barClassName:A.default.unreadBar,guildId:e,isVisible:this.isChannelVisible,onJumpTo:this.jumpToChannel,onCalculate:this.handleUnreadCalculate})},u.render=function(){return b(a.Fragment,{},void 0,this.renderTopUnread(),this.renderList(),this.renderBottomUnread())},r}(a.PureComponent);H.displayName="Channels";var V=H;t.default=V,e.exports=t.default},7048:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=M(n(2)),o=A(n(17)),i=A(n(3)),l=n(6157),s=n(302),u=A(n(6145)),d=n(6152),c=A(n(848)),f=A(n(57)),p=A(n(28)),h=A(n(149)),v=A(n(310)),m=A(n(226)),y=A(n(6169)),_=A(n(124)),g=A(n(301)),E=A(n(437)),S=A(n(7049)),T=M(n(6044)),O=A(n(6049)),I=n(0),C=A(n(13)),N=A(n(5614));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleCreateChannel=function(){var e=t.props.channel,n=e.type===I.ChannelTypes.GUILD_CATEGORY?null:e.type;u.default.open(n,e.getGuildId(),"null"!==e.id?e.id:null,null)},t.handleCollapseToggle=function(){var e=t.props,n=e.collapsed,r=e.channel;n?(0,l.categoryExpand)(r.id):(0,l.categoryCollapse)(r.id)},t.handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.unread;if("null"!==r.id){var i=p.default.getGuild(r.getGuildId());(0,s.openContextMenu)(e,function(e){return a.createElement(O.default,b({},e,{type:I.ContextMenuTypes.CHANNEL_CATEGORY,channel:r,guild:i,hasUnread:o}))})}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.renderCreateChannel=function(){var e=this.props,t=e.canManageCategory,n=e.disableManageChannels;return t&&!n?P(E.default,{text:C.default.Messages.CREATE_CHANNEL},void 0,P(_.default,{look:_.default.Looks.BLANK,size:_.default.Sizes.NONE,className:(0,o.default)(N.default.addButton,N.default.forceVisible),onClick:this.handleCreateChannel},void 0,P(g.default,{name:g.default.Names.PLUS_ALT,color:I.Colors.WHITE,className:N.default.addButtonIcon}))):null},i.render=function(){var e=this.props,t=e.channel,n=e.muted,r=e.connectChannelDragSource,a=e.connectChannelDropTarget,o=e.position,i=e.sortingPosition,l=e.collapsed,s=e.hideIcon,u=e.showTutorial,d=e.isTutorialFlowV2,c=P("div",{className:null!=i?o>i?N.default.containerDragAfter:N.default.containerDragBefore:N.default.containerDefault},void 0,P(S.default,{className:N.default.iconVisibility,channel:t,muted:n,onClick:this.handleCollapseToggle,onContextMenu:this.handleContextMenu,collapsed:l,hideIcon:s||!1},void 0,this.renderCreateChannel()));return u&&(c=P("div",{},void 0,P(T.default,{tutorialId:d?"organize-by-channel":"organize-by-topic",position:T.TutorialIndicatorPositions.RIGHT,offsetX:-35,offsetY:-5},void 0,c))),null!=a&&null!=r?a(r(c)):c},r}(a.Component);R.displayName="Category",R.defaultProps={isEmpty:!1};var L=i.default.connectStores([h.default,c.default,v.default,m.default,f.default,y.default],function(e){var t=e.channel;return{unread:v.default.hasCategoryUnread(t.id),muted:m.default.isChannelMuted(t.getGuildId(),t.id),collapsed:c.default.isCollapsed(t.id),canManageCategory:h.default.can(I.Permissions.MANAGE_CHANNELS,t),isTutorialFlowV2:y.default.useNewTutorialLogic()}})((0,d.makeChannelSortable)(R));t.default=L,e.exports=t.default},7049:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(219)),l=u(n(301)),s=u(n(5613));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(e){e.stopPropagation()}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props,r=n.onClick,a=n.channel;null!=r&&r(e,a)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.channel;null!=r&&r(e,a)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderIcon=function(){return this.props.hideIcon?null:d(l.default,{name:l.default.Names.NOVA_CARET,className:s.default.icon})},a.renderName=function(){var e=this.props.channel.name;return d("div",{className:s.default.name},void 0,e)},a.renderIcons=function(){var e=this.props.children;return d("div",{onClick:c,className:s.default.children},void 0,e)},a.render=function(){var e,t=this.props,n=t.onClick,r=t.onContextMenu,a=t.muted,l=t.collapsed,u=t.className;return d(i.default,{className:(0,o.default)(u,(e={},e[s.default.wrapper]=!0,e[s.default.collapsed]=l,e[s.default.muted]=a,e[s.default.clickable]=null!=n,e)),onClick:null!=n?this.handleClick:null,onContextMenu:null!=r?this.handleContextMenu:null},void 0,this.renderIcon(),this.renderName(),this.renderIcons())},r}(a.Component);f.displayName="ChannelCategoryItem";var p=f;t.default=p,e.exports=t.default},7050:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(17)),i=S(n(3)),l=S(n(443)),s=n(302),u=n(6152),d=S(n(20)),c=S(n(108)),f=S(n(28)),p=S(n(149)),h=S(n(310)),v=S(n(6023)),m=S(n(44)),y=S(n(6049)),_=S(n(6270)),g=n(0),E=S(n(5367));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");m.default.transitionTo(g.Routes.CHANNEL(n,t.id),{state:{analyticsSource:{page:g.AnalyticsPages.GUILD_CHANNEL,section:g.AnalyticsSections.CHANNEL_LIST,object:g.AnalyticsObjects.CHANNEL}}})}function C(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");l.default.preload(n,t.id)}var N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,i=f.default.getGuild(r.getGuildId());(0,s.openContextMenu)(e,function(e){return a.createElement(y.default,O({},e,{type:g.ContextMenuTypes.CHANNEL_LIST_STORE,guild:i,channel:r,selected:o}))})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.connectChannelDropTarget,i=t.connectChannelDragSource,l=t.connectDragPreview,s=t.canManageCategory,u=T("div",{className:(0,o.default)(this.getClassName(),(e={},e[E.default.disabled]=this.isDisabled(),e))},void 0,T(v.default,{className:E.default.iconVisibility,channel:n,selected:r,onClick:I,onMouseDown:C,onContextMenu:this.handleContextMenu,connectDragPreview:s?l:null},void 0,this.renderInviteButton(),this.renderEditButton()));return s?a(i(u)):u},r}(_.default);N.displayName="StoreChannel";var A=i.default.connectStores([p.default,h.default,c.default],function(e){var t=e.channel,n=e.guild,r=d.default.getChannel(t.parent_id);return{canManageChannel:p.default.can(g.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?p.default.can(g.Permissions.MANAGE_CHANNELS,r):p.default.can(g.Permissions.MANAGE_CHANNELS,n),permissions:p.default.getChannelPermissions(t.id)}})((0,u.makeChannelSortable)(N));t.default=A,e.exports=t.default},7051:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=T(n(17)),i=T(n(3)),l=T(n(443)),s=n(302),u=n(6152),d=T(n(20)),c=T(n(108)),f=T(n(28)),p=T(n(149)),h=T(n(310)),v=n(6050),m=T(n(6023)),y=T(n(44)),_=T(n(6049)),g=T(n(6270)),E=n(0),S=T(n(5367));function T(e){return e&&e.__esModule?e:{default:e}}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, transitionTo: Channel does not have a guildId");y.default.transitionTo(E.Routes.CHANNEL(n,t.id))}function N(e,t){var n=t.getGuildId();if(null==n)throw new Error("TextChannel, preloadChannel: Channel does not have a guildId");l.default.preload(n,t.id)}var A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleContextMenu=function(e){var n=t.props,r=n.channel,o=n.selected,i=n.unread,l=n.mentionCount,u=f.default.getGuild(r.getGuildId());(0,s.openContextMenu)(e,function(e){return a.createElement(_.default,I({},e,{type:E.ContextMenuTypes.CHANNEL_LIST_TEXT,guild:u,channel:r,selected:o,hasUnread:i,mentionCount:l}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.renderMentionBadge=function(){var e=this.props.mentionCount;if(null!=e&&e>0)return O("div",{className:S.default.mentionsBadge},void 0,O(v.NumberBadge,{count:e}))},i.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.muted,i=t.unread,l=t.connectChannelDropTarget,s=t.connectChannelDragSource,u=t.connectDragPreview,d=t.canManageCategory,c=O("div",{className:(0,o.default)(this.getClassName(),(e={},e[S.default.disabled]=this.isDisabled(),e[S.default.selected]=r,e))},void 0,O(m.default,{className:S.default.iconVisibility,channel:n,selected:r,muted:a,unread:i,onClick:C,onMouseDown:N,onContextMenu:this.handleContextMenu,connectDragPreview:d?u:null},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderMentionBadge()));return d?l(s(c)):c},r}(g.default);A.displayName="TextChannel";var M=i.default.connectStores([p.default,h.default,c.default],function(e){var t=e.channel,n=e.guild,r=c.default.getDefaultChannel(n.id),a=d.default.getChannel(t.parent_id);return{canManageChannel:p.default.can(E.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=a?p.default.can(E.Permissions.MANAGE_CHANNELS,a):p.default.can(E.Permissions.MANAGE_CHANNELS,n),permissions:p.default.getChannelPermissions(t.id),unread:h.default.hasUnread(t.id),mentionCount:h.default.getMentionCount(t.id),isDefaultChannel:t===r}})((0,u.makeChannelSortable)(A));t.default=M,e.exports=t.default},7052:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(3)),a=n(126),o=p(n(20)),i=p(n(843)),l=p(n(310)),s=p(n(226)),u=p(n(151)),d=p(n(6652)),c=n(449),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=o.default.getChannel(e);return null!=t&&null!=t.getGuildId()&&(!s.default.isChannelMuted(t.getGuildId(),t.id)&&l.default.hasUnread(e))}function v(e){var t=o.default.getChannel(e);if(null==t||null==t.getGuildId())return!1;var n=s.default.isGuildCollapsed(t.getGuildId()),r=s.default.isChannelMuted(t.getGuildId(),t.id);return(!n||!r)&&l.default.getMentionCount(e)>0}var m=r.default.connectStores([i.default,l.default,u.default],function(e){var t=e.guildId,n=i.default.getCategories(t);return{textUnread:f.default.Messages.NEW_UNREADS,textMention:f.default.Messages.NEW_MENTIONS,isUnread:h,isMentioned:v,items:(0,c.getFlattenedChannelList)(n._categories,n,function(e){var t=e.channel;return(0,a.isGuildTextChannelType)(t.type)&&!(0,c.isChannelCollapsed)(t)}).map(function(e){return e.channel.id}),animate:u.default.isFocused()}})(d.default);t.default=m,e.exports=t.default},7053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(2)),o=P(n(17)),i=P(n(3)),l=n(302),s=P(n(132)),u=n(6152),d=n(6653),c=P(n(5360)),f=P(n(848)),p=P(n(20)),h=P(n(108)),v=P(n(28)),m=P(n(149)),y=P(n(130)),_=P(n(6640)),g=P(n(6023)),E=P(n(7054)),S=n(449),T=P(n(44)),O=b(n(6044)),I=P(n(6049)),C=P(n(6270)),N=P(n(7055)),A=n(0),M=P(n(5367));function P(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleVoiceConnect=function(){var e=t.props,n=e.locked,r=e.connected,a=e.channel,o=e.hasStream,i=e.inStream,l=v.default.getGuild(a.getGuildId());n||t.isFull()||null==l||r||s.default.selectVoiceChannel(l.id,a.id),r&&_.default.isAvailable(a.getGuildId())&&(!o||i)&&function(e){var t=e.getGuildId();if(null==t)throw new Error("VoiceChannel, transitionTo: Channel does not have a guildId");T.default.transitionTo(A.Routes.CHANNEL(t,e.id))}(a)},t.handleContextMenu=function(e){var n=t.props.channel,r=v.default.getGuild(n.getGuildId());(0,l.openContextMenu)(e,function(e){return a.createElement(I.default,L({},e,{type:A.ContextMenuTypes.CHANNEL_LIST_VOICE,channel:n,guild:r}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getVoiceStatesCount=function(){var e=this.props.voiceStates;return null!=e?e.length:0},i.isFull=function(){var e=this.props,t=e.channel,n=e.bypassLimit,r=e.hasStream;return!n&&(0,S.isChannelFull)(t,this.getVoiceStatesCount())&&(!r||this.getVoiceStatesCount()>=10)},i.getModeClass=function(){var e=this.props,t=e.position,n=e.sortingPosition;return e.isUserOver?M.default.containerUserOver:null!=n?t>n?M.default.containerDragAfter:M.default.containerDragBefore:M.default.containerDefault},i.renderUserLimit=function(){var e=this.props,t=e.channel,n=e.locked;return t.userLimit>0&&!n?R("div",{className:M.default.userLimit},void 0,R(E.default,{users:this.getVoiceStatesCount(),total:t.userLimit})):null},i.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.collapsed,a=e.categoryCollapsed;return R(N.default,{channel:t,voiceStates:n,collapsed:r||a})},i.render=function(){var e,t=this.props,n=t.channel,r=t.selected,a=t.connected,i=t.locked,l=t.video,s=t.hasStream,u=t.connectChannelDropTarget,d=t.connectChannelDragSource,c=t.connectUserDropTarget,f=t.connectDragPreview,p=t.canManageCategory,h=t.canMoveMembers,v=t.showTutorial,m=void 0!==v&&v,y=R(g.default,{className:M.default.iconVisibility,channel:n,selected:r,connected:a,video:l,stream:s,locked:i,onClick:this.handleVoiceConnect,onContextMenu:this.handleContextMenu,connectDragPreview:f},void 0,this.renderInviteButton(),this.renderEditButton(),this.renderUserLimit());m&&(y=R(O.default,{tutorialId:"voice-channels",position:O.TutorialIndicatorPositions.RIGHT,offsetX:-35,offsetY:-20},n.id,y));var _=R("div",{className:(0,o.default)(this.getModeClass(),(e={},e[M.default.disabled]=this.isDisabled(),e))},void 0,y,this.renderVoiceUsers());return h&&(_=c(_)),p&&(_=u(d(_))),_},r}(C.default);D.displayName="VoiceChannel";var w=i.default.connectStores([m.default,f.default,h.default,c.default],function(e){var t=e.channel,n=e.guild,r=p.default.getChannel(t.parent_id),a=c.default.getActiveStream();return{canManageChannel:n&&m.default.can(A.Permissions.MANAGE_CHANNELS,t),canManageCategory:null!=r?m.default.can(A.Permissions.MANAGE_CHANNELS,r):m.default.can(A.Permissions.MANAGE_CHANNELS,n),canMoveMembers:m.default.can(A.Permissions.MOVE_MEMBERS,t),locked:!m.default.can(A.Permissions.CONNECT,t),bypassLimit:m.default.can(A.Permissions.MOVE_MEMBERS,t),categoryCollapsed:f.default.isCollapsed(t.parent_id),video:y.default.hasVideo(t.guild_id,t.id),hasStream:c.default.getStreamsForChannel(t).length>0,inStream:null!=a&&a.channelId===t.id}})((0,u.makeChannelSortable)((0,d.makeVoiceUserDroppable)(D)));t.default=w,e.exports=t.default},7054:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a,o=(r=n(5616))&&r.__esModule?r:{default:r};function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.total,n=e.users;return i("div",{className:o.default.wrapper},void 0,i("span",{className:o.default.users},void 0,n.toString().padStart(2,"0")),i("span",{className:o.default.total},void 0,t.toString().padStart(2,"0")))},e.exports=t.default},7055:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=m(n(2)),o=v(n(17)),i=v(n(3)),l=v(n(5360)),s=v(n(12)),u=v(n(46)),d=v(n(149)),c=v(n(463)),f=m(n(7056)),p=n(0),h=v(n(5619));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=i.default.connectStores([c.default,u.default,s.default,l.default],function(e){var t,n=e.mute,r=e.deaf,a=e.user.id,o=!1,i=!1;s.default.getId()===a?(o=!u.default.isEnabled()||u.default.isSelfMute()||u.default.isSelfMutedTemporarily(),i=u.default.isSelfDeaf()):o=u.default.isLocalMute(a),t=c.default.isPrioritySpeaker(a),u.default.isSupported()||(o=!0);var d=l.default.getStreamForUser(a),f=l.default.getActiveStream();return{mute:n||o,deaf:r||i,speaking:!o&&(c.default.isSpeaking(a)||c.default.isSoundSharing(a)),priority:t,isStreaming:null!=d,isWatching:null!=d&&null!=f&&d.ownerId===f.ownerId}})(f.default),g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderVoiceUsers=function(){var e=this.props,t=e.channel,n=e.voiceStates,r=e.collapsed;return null==n||0===n.length?null:n.map(function(e){var n=e.user,a=e.nick,o=e.voiceState;return y(_,{user:n,nick:a,mute:o.mute||o.selfMute||o.suppress,deaf:o.deaf||o.selfDeaf,channel:t,collapsed:r,canDrag:d.default.can(p.Permissions.MOVE_MEMBERS,t)},n.id)})},a.render=function(){var e,t=this.renderVoiceUsers();if(null==t)return null;var n=this.props,r=n.collapsed,a=n.className;return y(f.List,{className:(0,o.default)(a,h.default.list,(e={},e[h.default.collapsed]=r,e)),collapsed:r},void 0,t)},r}(a.PureComponent);g.displayName="VoiceUsers";var E=g;t.default=E,e.exports=t.default},7056:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.List=void 0;var r,a=M(n(2)),o=A(n(3)),i=n(302),l=A(n(825)),s=A(n(132)),u=n(482),d=n(6653),c=A(n(41)),f=A(n(833)),p=A(n(129)),h=A(n(124)),v=A(n(148)),m=A(n(301)),y=A(n(821)),_=M(n(931)),g=A(n(6026)),E=A(n(6748)),S=A(n(44)),T=A(n(5358)),O=A(n(5359)),I=n(0),C=A(n(13)),N=A(n(5618));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=function(e){return"voice-user-popout-"+e},L=E.default.List;t.List=L;var D=o.default.connectStores([p.default,c.default],function(e){var t=e.user,n=e.channel,r=p.default.getPrimaryActivity(t.id,n.guild_id);return{application:null!=r&&null!=r.application_id?c.default.getGame(r.application_id):null}})(function(e){var t=e.application,n=e.onWatch,r=null!=t?t.getSplashURL(400):null;return b("div",{className:N.default.streamPreview},void 0,b(v.default,{direction:v.default.Direction.VERTICAL,align:v.default.Align.CENTER},void 0,b("div",{className:N.default.previewImage,style:{backgroundImage:null!=r?"url("+r+")":null}},void 0,null!=t?b(g.default,{className:N.default.applicationName,color:g.default.Colors.NONE},void 0,t.name):null),b(h.default,{look:h.default.Looks.BLANK,className:N.default.watchButton,innerClassName:N.default.watchButtonInner,onClick:n},void 0,b(m.default,{name:m.default.Names.LIVE_STREAM,className:N.default.liveIcon}),C.default.Messages.WATCH_STREAM),b(g.default,{size:g.default.Sizes.SIZE_12,color:g.default.Colors.MUTED},void 0,C.default.Messages.WATCH_STREAM_TIP.format())))}),w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).domElementRef=a.createRef(),t.state={shouldShowPreview:!1},t.handleMouseEnter=function(){t.setState({shouldShowPreview:t.props.isStreaming})},t.handleMouseLeave=function(){t.setState({shouldShowPreview:!1})},t.handleWatchStream=function(){var e=t.props,n=e.user,r=e.channel,a=e.isStreaming,o=e.isWatching;a&&!o&&(s.default.selectVoiceChannel(r.guild_id,r.id),S.default.transitionTo(I.Routes.CHANNEL(r.guild_id,r.id)),(0,u.watchStream)({streamType:"guild",ownerId:n.id,channelId:r.id,guildId:r.guild_id}),l.default.closeAll())},t.handleUserContextMenu=function(e){var n=t.props,r=n.channel,o=n.user;(0,i.openContextMenu)(e,function(e){return a.createElement(T.default,P({},e,{type:I.ContextMenuTypes.USER_CHANNEL_VOICE,user:o,guildId:r.getGuildId(),channelId:r.id}))})},t.renderPopout=function(e){var n=t.props,r=n.channel,o=n.user;return a.createElement(O.default,P({},e,{user:o,guildId:r.getGuildId(),channelId:r.id}))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.connectUserDragSource,n=e.canDrag,r=e.disablePreview,o=e.popoutOpen,i=e.channel,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["connectUserDragSource","canDrag","disablePreview","popoutOpen","channel"]),s=l.collapsed,u=l.user,d=this.state.shouldShowPreview,c=this.domElementRef.current,f=a.createElement("div",{ref:this.domElementRef,className:N.default.draggable,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},b(y.default,{uniqueId:R(u.id),closeOnScroll:!1,position:s?y.default.Positions.BOTTOM_LEFT:y.default.Positions.RIGHT,render:this.renderPopout,shadow:!1},void 0,a.createElement(E.default,P({selected:o,onDoubleClick:this.handleWatchStream,onContextMenu:this.handleUserContextMenu},l))),d&&!r&&null!=c?b(_.default,{referenceElement:c,position:_.Positions.RIGHT,align:_.Align.CENTER,positionKey:u.id+":"+i.id},void 0,b(D,{user:u,channel:i,onWatch:this.handleWatchStream})):null);return n?t(b("div",{},void 0,f)):f},r}(a.PureComponent);w.displayName="VoiceUser";var U=o.default.connectStores([f.default],function(e){var t=e.user;return{popoutOpen:f.default.isOpen(R(t.id))}})((0,d.makeVoiceUserDraggable)(w));t.default=U},7057:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(7058)),o=i(n(5621));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=function(e){var t=e.channels,n=e.voiceStates,r=e.selectedChannel,i=e.onClick,s=[];return t.forEach(function(e){var t=e.channel,a=n[t.id];t.id!==r&&a&&a.forEach(function(e){return s.push(e)})}),0===s.length?null:l("div",{className:o.default.container},void 0,l(a.default,{renderIcon:!0,users:s,max:8,onClick:i}))};s.displayName="VoiceUserSummary";var u=s;t.default=u,e.exports=t.default},7058:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(128)),l=c(n(5992)),s=c(n(301)),u=c(n(886)),d=c(n(5620));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){var n=e instanceof i.default?e:null!=e?e.user:null;return null!=n?n.id:"user-"+t}function h(e){return f("div",{className:d.default.moreUsers},void 0,e)}h.displayName="defaultRenderMoreUsers";var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this)._ref=a.createRef(),t.defaultRenderUser=function(e,n){var r=t.props.onClick;if(null==e)return f("div",{className:(0,o.default)(d.default.emptyUser)});var a=e instanceof i.default?e:e.user,s=null!=r?function(e){return r(e,a,t._ref.current)}:null;return f(l.default,{src:a.getAvatarURL("png"),size:l.default.Sizes.ACTIVITY_FEED_24,onClick:s,className:d.default.avatar},a.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.renderUsers=function(){for(var e=this.props,t=e.users,n=e.max,r=e.renderUser,o=void 0===r?this.defaultRenderUser:r,i=e.renderMoreUsers,l=[],s=t.length===n?t.length:n-1,c=0;c<s&&c<t.length;){var h=c===t.length-1,v=o(t[c]||null,h);l.push(h?f("div",{className:d.default.avatarContainer},p(t[c]||null,c),v):f(u.default,{className:d.default.avatarContainer,mask:u.default.Masks.VOICE_USER_SUMMARY_ITEM},p(t[c],c),v)),c++}if(c<t.length){var m=Math.min(t.length-c,99);l.push(f(a.Fragment,{},"more-users",i("+"+m,m)))}return l},c.renderIcon=function(){return this.props.renderIcon?f(s.default,{name:s.default.Names.SPEAKER,foreground:d.default.foreground,className:d.default.icon}):null},c.render=function(){var e=this.props.className;return a.createElement("div",{className:(0,o.default)(e,d.default.container),ref:this._ref},this.renderIcon(),this.renderUsers())},r}(a.PureComponent);v.displayName="UserSummaryItem",v.defaultProps={max:10,renderMoreUsers:h,renderIcon:!1};var m=v;t.default=m,e.exports=t.default},7059:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=V(n(2)),o=H(n(17)),i=H(n(6)),l=n(96),s=H(n(3)),u=H(n(320)),d=H(n(826)),c=n(302),f=H(n(6064)),p=H(n(6013)),h=H(n(77)),v=H(n(6163)),m=H(n(154)),y=H(n(860)),_=H(n(6232)),g=H(n(6043)),E=H(n(838)),S=H(n(310)),T=H(n(85)),O=H(n(49)),I=H(n(14)),C=H(n(6749)),N=H(n(151)),A=H(n(6053)),M=H(n(308)),P=H(n(6652)),b=V(n(111)),R=H(n(9)),L=H(n(450)),D=H(n(6122)),w=n(6449),U=n(6153),k=H(n(7060)),G=V(n(7061)),F=n(7062),j=n(0),x=H(n(13)),B=H(n(5630));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=56,z=R.default.isWindows()?4:R.default.isOSX()?0:12,$=K-16,q=48+z+0+10,X={top:8,bottom:8};function Q(e){var t=g.default.getMentionCounts();return null!=t[e]?t[e]>0:e===j.ViewHistoryKeys.SERVER_DISCOVERY_BADGE?!C.default.hasViewed(j.ViewHistoryKeys.SERVER_DISCOVERY_BADGE):S.default.getMentionCount(e)>0}function J(){return!1}var Z=s.default.connectStores([S.default,g.default,N.default],function(){return{isUnread:J,textUnread:"",textMention:x.default.Messages.NEW,isMentioned:Q,animate:N.default.isFocused()}})(P.default),ee=s.default.connectStores([I.default,O.default,T.default,_.default,A.default,m.default,y.default],function(){var e=y.default.activeItems,t=(0,w.getDispatchApplicationStates)(e),n=b.getCombinedProgress(t),r=n.total,a=n.progress,o=b.calculateProgressPercentage(a,r);return{user:I.default.getCurrentUser(),selectedChannelId:O.default.getChannelId(j.ME),badge:T.default.getPendingCount()+_.default.getSuggestionCount(),link:A.default.getHomeLink(),showProgressBadge:o>0&&o<100}})(F.DefaultHomeButton),te=s.default.connectStores([E.default],function(){return{selected:E.default.isModalOpen(L.default)}})(U.AppDownloadButton),ne=s.default.connectStores([v.default],function(){return{selected:v.default.isOpen()}})(U.CreateJoinGuildButton),re=W(F.GuestHomeButton,{}),ae=W(G.LurkingGuild,{}),oe=W(U.Separator,{}),ie=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).initialized=!1,t.guildRefs={},t.guildDiscoveryRef=a.createRef(),t.handleJumpToGuild=function(e){t.scrollToGuild(e,!0)},t.handleScroll=i.default.debounce(function(){if(null!=t.scroller){var e=t.scroller.getScrollData().scrollTop;p.default.updateGuildListScrollTo(e)}},200),t.isItemVisible=function(e,n,r){var a=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).scroller,o=r.indexOf(e);if(o<0||null==a)return!1;var i=K*o+q;n||(i+=$);var l=a.getScrollData();return!!(!n&&i>=l.scrollTop||n&&i+K<=l.scrollTop+l.offsetHeight)},t.setScrollerRef=function(e){t.scroller=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.shouldComponentUpdate=function(e){return!!e.isVisible&&!(0,u.default)(e,this.props)},s.componentDidMount=function(){var e=this.props,t=e.guilds,n=e.scrollTop,r=e.isOnGuildDiscoveryRoute,a=this.initialized,o=this.scroller;!a&&t.length&&null!=o&&(r?this.scrollToGuild(null,!1):o.scrollTo(n,!1),this.initialized=!0)},s.componentDidUpdate=function(e){var t=this.props,n=t.guilds,r=t.selectedGuildId,a=this.initialized;!a&&n.length?(this.scrollToGuild(r,!1),this.initialized=!0):a&&r!==e.selectedGuildId&&this.scrollToGuild(r,!1)},s.scrollToGuild=function(e,t){var n=this.scroller;if(null!=n){var r=null==e&&this.props.isOnGuildDiscoveryRoute||e===j.ViewHistoryKeys.SERVER_DISCOVERY_BADGE?this.guildDiscoveryRef.current:this.guildRefs[e],a=(0,l.findDOMNode)(r);null!=r&&null!=a&&a instanceof HTMLElement?n.scrollIntoView(a,t,X):n.scrollTo(0,t)}},s.render=function(){var e,t=this,n=this.props,r=n.guilds,l=n.channels,s=n.unreadGuilds,u=n.mentionCounts,c=n.selectedGuildId,p=n.selectedVoiceGuildId,v=n.selectedVoiceChannelId,m=n.selectedPrivateChannelId,y=n.totalUnavailableGuilds,_=n.mode,g=n.disableAppDownload,E=n.isOverlay,T=n.isGuest,O=n.className,C=n.isOnGuildDiscoveryRoute,N=n.isLurking,A=r.map(function(e){var n=e.guild,r=e.index,a=!1,o=!1;return p===n.id&&(a=_===j.ChannelModes.VOICE,o=_===j.ChannelModes.VIDEO),W(G.default,{setRef:function(e){t.guildRefs[n.id]=e},guild:n,selected:c===n.id,audio:a,video:o,badge:u[n.id]||0,unread:s[n.id]||!1,index:r},n.id)}),P=[];if(e=u.null?(0,i.default)(l).filter(function(e){return e.isPrivate()&&e.id!==v}).map(function(e){return[e,S.default.getMentionCount(e.id)]}).filter(function(e){e[0];return e[1]>0}).map(function(e){var t=e[0],n=e[1];return P.push(t.id),W(k.default,{badge:n,channel:t,unread:!0},t.id)}).value():[],!p&&v){P.push(v);var b=l[v];null!=b&&e.unshift(W(k.default,{channel:b,unread:S.default.getMentionCount(b.id)>0,selected:null===c&&m===v,badge:S.default.getMentionCount(b.id),audio:_===j.ChannelModes.VOICE,video:_===j.ChannelModes.VIDEO},b.id))}return r.forEach(function(e){var t=e.guild;return P.push(t.id)}),W("div",{className:(0,o.default)(B.default.wrapper,O)},void 0,W(Z,{items:P,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:B.default.unreadMentionsIndicatorTop,barClassName:B.default.unreadMentionsBar}),a.createElement(M.default,{className:B.default.scroller,outerClassName:B.default.scrollerWrap,ref:this.setScrollerRef,onScroll:this.handleScroll,theme:M.default.Themes.GHOST_HAIRLINE},T?re:W(ee,{selected:null==c&&!C,showDMsOnly:E}),W(d.default,{component:a.Fragment},void 0,e),ae,oe,A,T||E?null:W(ne,{disableTooltip:N,onContextMenu:this.handleContextMenu,isOwnerOfAny:i.default.some(this.props.guilds,function(e){return e.guild.isOwner(I.default.getCurrentUser())}),onClick:function(){return f.default.open(null,"Guild List")}},A.length+e.length),E?null:a.createElement(U.GuildDiscovery,{ref:this.guildDiscoveryRef,selected:C}),W(U.UnavailableGuildsButton,{unavailableGuilds:y}),W(te,{disable:T||g,onClick:function(){h.default.push(L.default,{source:"Guilds"})}})),W(Z,{reverse:!0,items:P,isVisible:this.isItemVisible,onJumpTo:this.handleJumpToGuild,className:B.default.unreadMentionsIndicatorBottom,barClassName:B.default.unreadMentionsBar}))},s.getRowHeight=function(){return K},s.getContainerHeight=function(){return null!=this.scroller?this.scroller.getScrollData().offsetHeight:0},s.handleContextMenu=function(e){(0,c.openContextMenu)(e,function(e){return a.createElement(D.default,Y({},e,{type:j.ContextMenuTypes.GUILD_ICON_NEW}))})},r}(a.Component);ie.displayName="Guilds",ie.defaultProps={isOverlay:!1,disableAppDownload:R.default.embedded,isVisible:!0,isOnGuildDiscoveryRoute:!1};var le=ie;t.default=le,e.exports=t.default},7060:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(6455),i=v(n(14)),l=v(n(151)),s=v(n(6154)),u=n(6050),d=v(n(6155)),c=v(n(6271)),f=n(6153),p=n(0),h=v(n(5627));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _={friction:28,tension:600};function g(e){switch(e){case"height":case"opacity":return y({duration:150},_);case"scale":return y({},_);default:throw new Error("DirectMessage: getSpringConfigs() - Invalid spring "+e)}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1,animating:!0,controller:new o.Controller({scale:0,height:0,opacity:0,config:g})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.componentWillEnter=function(e){var t=this,n=this.state.controller;e(),n.update({immediate:!l.default.isFocused(),height:1,opacity:1,scale:1},function(){return t.setState({animating:!1})})},v.componentWillAppear=function(e){var t=this;this.state.controller.update({immediate:!0,scale:1,opacity:1,height:1},function(){return t.setState({animating:!1})}),e()},v.componentWillLeave=function(e){var t=this.state.controller;this.setState({animating:!0},function(){return t.update({immediate:!l.default.isFocused(),height:0,opacity:0,scale:0},function(){return e()})})},v.componentWillUnmount=function(){this.state.controller.destroy()},v.getAnimatedStyle=function(){var e=this.state.controller.getValues(),t=e.opacity,n=e.height,r=e.scale;return null==t||null==n||null==r?null:{opacity:t,height:n.interpolate([0,1],[0,56]),transform:r.interpolate([0,1],[.5,1]).interpolate(function(e){return"scale("+e+")"})}},v.getChannelIcon=function(){var e=this.props.channel,t=e.type===p.ChannelTypes.DM?i.default.getUser(e.getRecipientId()):null;return null!=t?t.getAvatarURL("jpg"):e.getIconURL()},v.render=function(){var e=this,t=this.props,n=t.channel,r=t.selected,i=t.badge,l=t.audio,v=t.video,y=t.unread,_=this.state,g=_.hovered,E=_.animating;return m(o.animated.div,{style:this.getAnimatedStyle()},void 0,(0,f.renderListItem)(m(a.Fragment,{},void 0,m(s.default,{hovered:!E&&g,selected:!E&&r,unread:!E&&y,className:h.default.pill}),m(f.ListItemTooltip,{text:n.toString()},void 0,m(d.default,{className:h.default.blob,selected:r||g,lowerBadge:i>0?(0,f.renderMentionBadge)(i):null,upperBadge:l||v?(0,f.renderIconBadge)(l,v):null,lowerBadgeWidth:(0,u.getBadgeWidthForValue)(i)},void 0,m(c.default,{to:p.Routes.CHANNEL(p.ME,n.id),onMouseEnter:function(){return e.setState({hovered:!0})},onMouseLeave:function(){return e.setState({hovered:!1})},icon:this.getChannelIcon(),selected:r||g}))))))},r}(a.PureComponent);E.displayName="DirectMessage",E.defaultProps={selected:!1,badge:0,audio:!1,video:!1,unread:!1};var S=E;t.default=S,e.exports=t.default},7061:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LurkingGuild=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(876),i=C(n(3)),l=C(n(320)),s=C(n(443)),u=n(302),d=C(n(827)),c=C(n(452)),f=C(n(6122)),p=C(n(837)),h=C(n(230)),v=C(n(28)),m=C(n(49)),y=C(n(451)),_=C(n(6154)),g=n(6050),E=C(n(6155)),S=C(n(6271)),T=n(6153),O=n(0),I=C(n(5628));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t.handleMouseDown=function(){var e=t.props,n=e.guild,r=e.selectedChannelId;null!=r&&s.default.preload(n.id,r)},t.handleContextMenu=function(e){var n=t.props,r=n.guild,o=n.badge,i=n.selected,l=n.selectedChannelId,s=null!=l?O.Routes.CHANNEL(r.id,l):O.Routes.GUILD(r.id);(0,u.openContextMenu)(e,function(e){return a.createElement(f.default,A({},e,{type:O.ContextMenuTypes.GUILD_ICON_BAR,guild:r,badge:o,link:s,selected:i}))})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.getDerivedStateFromProps=function(e,t){var n=e.sorting,r=t.hovered;return n&&r?{hovered:!1}:null},r.prototype.render=function(){var e,t=this,n=this.props,r=n.selectedChannelId,o=n.guild,i=n.selected,l=n.unread,s=n.setRef,u=n.draggable,d=n.dragging,c=n.badge,f=n.connectDropTarget,p=n.connectDragSource,h=n.sorting,v=n.audio,m=n.video,y=this.state.hovered;if(d)e=N("div",{className:I.default.blobContainer},void 0,N(E.default,{selected:!0},void 0,a.createElement("div",{className:I.default.dragPlaceholder,ref:s})));else{var C=null!=r?O.Routes.CHANNEL(o.id,r):O.Routes.GUILD(o.id);e=N("div",{className:I.default.blobContainer},void 0,N(E.default,{selected:i||y,upperBadge:v||m?(0,T.renderIconBadge)(v,m):null,lowerBadge:c>0?(0,T.renderMentionBadge)(c):null,lowerBadgeWidth:(0,g.getBadgeWidthForValue)(c)},void 0,N(S.default,{to:{pathname:C,state:{analyticsSource:{page:O.AnalyticsPages.GUILD_CHANNEL,section:O.AnalyticsSections.CHANNEL_LIST,object:O.AnalyticsObjects.CHANNEL}}},name:o.toString(),onMouseEnter:h?void 0:function(){return t.setState({hovered:!0})},onMouseLeave:h?void 0:function(){return t.setState({hovered:!1})},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu,icon:o.getIconURL(),selected:i||y}))),u&&(e=p(e))}var A=(0,T.renderListItem)(N(a.Fragment,{},void 0,N(_.default,{hovered:!d&&y,selected:!d&&i,unread:!d&&l,className:I.default.pill}),N(T.ListItemTooltip,{text:o.toString(),disabled:h},void 0,e)),s);return u&&!d?f(A):A},r}(a.PureComponent);M.displayName="Guild",M.defaultProps={selected:!1,unread:!1,audio:!1,video:!1,badge:0,draggable:!0,sorting:!1};var P,b=(P=i.default.connectStores([m.default],function(e){var t=e.guild;return{selectedChannelId:m.default.getChannelId(t.id)}})(M),(0,o.DropTarget)("GUILD",{hover:function(e,t){var n=t.getItem().index,r=e.index;n!==r&&(d.default.move(n,r),t.getItem().index=r)}},function(e,t){return{connectDropTarget:e.dropTarget(),sorting:null!=t.getItem()}},{arePropsEqual:l.default})((0,o.DragSource)("GUILD",{beginDrag:function(e){return{guild:e.guild,index:e.index}},endDrag:function(){c.default.updateRemoteSettings({guildPositions:y.default.guildPositions})}},function(e,t){return{connectDragSource:e.dragSource(),dragging:t.isDragging()}},{arePropsEqual:l.default})(P))),R=i.default.connectStores([v.default,h.default,p.default],function(){var e=h.default.lurkingGuildId();return{lurkingGuild:null!=e?v.default.getGuild(e):null,selectedGuildId:p.default.getGuildId()}})(function(e){var t=e.lurkingGuild,n=e.selectedGuildId;return null!=t?N(b,{guild:t,selected:n===t.id,draggable:!1}):null});t.LurkingGuild=R;var L=b;t.default=L},7062:function(e,t,n){"use strict";t.__esModule=!0,t.DefaultHomeButton=t.GuestHomeButton=void 0;var r,a=E(n(2)),o=g(n(17)),i=n(6114),l=g(n(219)),s=g(n(301)),u=g(n(6154)),d=n(6050),c=g(n(6155)),f=g(n(6271)),p=E(n(6044)),h=g(n(6449)),v=n(6153),m=n(0),y=g(n(13)),_=g(n(5629));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t}return T(t,e),t.prototype.render=function(){var e,t=this,n=this.state.hovered;return(0,v.renderListItem)(S(a.Fragment,{},void 0,S(u.default,{hovered:n,className:_.default.pill}),S(v.ListItemTooltip,{text:y.default.Messages.HOME},void 0,S(c.default,{className:_.default.blob,selected:n},void 0,S(l.default,{className:(0,o.default)((e={},e[_.default.button]=!0,e[_.default.selected]=n,e)),onClick:function(){return(0,i.open)(m.AnalyticsLocations.HOME_BUTTON)},onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})}},void 0,S(s.default,{name:s.default.Names.NOVA_DISCORD,className:_.default.homeIcon}))))))},t}(a.Component);function I(){return S(h.default,{className:_.default.downloadProgress,determineOwnVisibility:!1})}t.GuestHomeButton=O,O.displayName="GuestHomeButton",I.displayName="renderInstallProgress";var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={hovered:!1},t}return T(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.selected,i=n.user,l=n.link,h=n.badge,g=n.showDMsOnly,E=void 0!==g&&g,T=n.showProgressBadge,O=this.state.hovered;return null==i?null:S(p.default,{tutorialId:"friends-list",position:p.TutorialIndicatorPositions.RIGHT,offsetX:-18,offsetY:-18},void 0,(0,v.renderListItem)(S(a.Fragment,{},void 0,S(u.default,{selected:r,hovered:O,className:_.default.pill}),S(v.ListItemTooltip,{text:E?y.default.Messages.DIRECT_MESSAGES:y.default.Messages.HOME},void 0,S(c.default,{className:_.default.blob,selected:r||O,lowerBadge:h>0?(0,v.renderMentionBadge)(h):null,upperBadge:!r&&T?I():null,lowerBadgeWidth:(0,d.getBadgeWidthForValue)(h)},void 0,S(f.default,{onMouseEnter:function(){return t.setState({hovered:!0})},onMouseLeave:function(){return t.setState({hovered:!1})},selected:r||O,className:(0,o.default)((e={},e[_.default.button]=!0,e[_.default.selected]=O||r,e)),to:{pathname:l,state:{analyticsSource:{page:m.AnalyticsPages.GUILD_CHANNEL,section:m.AnalyticsSections.NAVIGATION,object:m.AnalyticsObjects.BUTTON_HOME}}}},void 0,S(s.default,{name:s.default.Names.NOVA_DISCORD,className:_.default.homeIcon})))))))},t}(a.PureComponent);t.DefaultHomeButton=C,C.displayName="DefaultHomeButton",C.defaultProps={selected:!1,unread:!1}},7063:function(e,t,n){"use strict";t.__esModule=!0,t.Item=g,t.valueRenderers=t.graphs=t.labelRenderers=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(6235)),o=l(n(8144)),i=l(n(8145));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u={audioDetected:"Audio Detected",audioLevel:"Audio Level",availableOutgoingBitrate:"Available Outgoing Bitrate",averageDecodeTime:"Average Decode Time",averageEncodeTime:"Average Encode Time",bandwidthLimitedResolution:"Bandwidth Limited Resolution",bitrate:"Bitrate",bitratePreferred:"Bitrate (Preferred)",bitrateTarget:"Bitrate (Target)",bytesReceived:"Bytes Received",bytesSent:"Bytes Sent",codec:"Codec",cpuLimitedResolution:"CPU Limited Resolution",decodingCNG:"Decoding CNG",decodingMutedOutput:"Decoding Muted Output",decodingNormal:"Decoding Normal",decodingPLC:"Decoding PLC",decodingPLCCNG:"Decoding PLC CNG",decryptionFailures:"Decryption Failures",delayEstimate:"Delay Estimate",decoderImplementationName:"Decoder",encoderImplementationName:"Encoder",encodeUsage:"Encode Usage",firCount:"FIR",fractionLost:"Packet Loss",frameRateDecode:"Frame Rate (Decode)",frameRateEncode:"Frame Rate (Encode)",frameRateInput:"Frame Rate (Input)",frameRateNetwork:"Frame Rate (Network)",frameRateRender:"Frame Rate (Render)",framesDecoded:"Frames Decoded",framesDropped:"Frames Dropped",framesEncoded:"Frames Encoded",framesReceived:"Frames Received",framesSent:"Frames Sent",jitter:"Jitter",jitterBuffer:"Jitter Buffer",jitterBufferPreferred:"Jitter Buffer (Preferred)",nackCount:"NACK",packetsLost:"Packets Lost",packetsReceived:"Packets Received",packetsSent:"Packets Sent",ping:"Ping",pliCount:"PLI",qpSum:"qpSum",resolution:"Resolution",ssrc:"SSRC",localAddress:"Local Address",videohookFrames:"Videohook Frames",screenshareFrames:"WebRTC Frames",videohookBackend:"Videohook Backend",capturedFramesDropped:"Captured Frames Dropped",capturedFramesCount:"Captured Frames per Second",capturedFramesMean:"Captured Frames Mean (ms)",capturedFramesStdev:"Captured Frames Standard Deviation (ms)"};function d(e){return(e/1e3).toFixed(2)+" Kbps"}function c(e){return a.default.filesize(e)}function f(e){return e}function p(e){return e+" ms"}function h(e){return e.toFixed(0)+"%"}function v(e){return e?"Yes":"No"}t.labelRenderers=u;var m={availableOutgoingBitrate:!0,bitrate:!0,bitratePreferred:!0,bitrateTarget:!0,bytesReceived:!0,bytesSent:!0,encodeUsage:!0,fractionLost:!0,frameRateDecode:!0,frameRateEncode:!0,frameRateInput:!0,frameRateNetwork:!0,frameRateRender:!0,packetsLost:!0,packetsReceived:!0,packetsSent:!0,ping:!0};t.graphs=m;var y={audioDetected:v,audioLevel:function(e){return Math.max(e,0).toFixed(2)+" dB"},availableOutgoingBitrate:d,averageDecodeTime:p,averageEncodeTime:p,bandwidthLimitedResolution:v,bitrate:d,bitratePreferred:d,bitrateTarget:d,bytesReceived:c,bytesSent:c,codec:function(e){var t=e.id,n=e.name;return""+(n=n||"unknown")[0].toUpperCase()+n.slice(1)+" ("+t+")"},cpuLimitedResolution:v,delayEstimate:p,decoderImplementationName:f,encoderImplementationName:f,encodeUsage:h,fractionLost:h,jitter:p,jitterBuffer:p,jitterBufferPreferred:p,ping:p,resolution:function(e){return e.width+"x"+e.height},videohookBackend:function(e){var t=["N/A","Direct3D 9","Direct3D 10","Direct3D 11","Direct3D 12","OpenGL","Vulkan"];return e<t.length?t[e]:"Unknown"}};function _(e){return s(o.default,{datapoint:e})}function g(e){var t=e.label,n=e.value,r=e.section,a=y[t]||function(e){return e};return s(i.default,{label:t,value:n,valueRendered:a(n),section:r,renderGraph:m[t]&&_.bind(null,n)},void 0,u[t]||t)}t.valueRenderers=y,_.displayName="renderGraph",g.displayName="Item"},7064:function(e,t,n){"use strict";t.__esModule=!0,t.open=function(e,t,n){void 0===n&&(n={});a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_OPEN,id:e,component:t,props:n})},t.close=function(e){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_CLOSE,id:e})},t.moveTo=function(e,t){a.default.dispatch({type:o.ActionTypes.PICTURE_IN_PICTURE_MOVE,id:e,position:t})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},7065:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(21)),o=l(n(1)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d="PictureInPictureLocation",c=null,f=i.PictureInPicturePositions.BOTTOM_RIGHT;var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,u,p=r.prototype;return p.initialize=function(){f=a.default.get(d,i.PictureInPicturePositions.BOTTOM_RIGHT)},p.isOpen=function(e){return null!=c&&c.id===e},o=r,(l=[{key:"window",get:function(){return c}}])&&s(o.prototype,l),u&&s(o,u),r}(r.default.Store))(o.default,{PICTURE_IN_PICTURE_OPEN:function(e){var t=e.id,n=e.component,r=e.props;c={id:t,component:n,position:f,props:r}},PICTURE_IN_PICTURE_CLOSE:function(e){var t=e.id;if(null==c||c.id!==t)return!1;c=null},PICTURE_IN_PICTURE_MOVE:function(e){var t=e.id,n=e.position;if(null==c||c.id!==t)return!1;c=u({},c,{position:n}),f=n,a.default.set(d,n)},LOGOUT:function(e){c=null}});t.default=p,e.exports=t.default},7066:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=M(n(17)),l=M(n(304)),s=M(n(6)),u=M(n(439)),d=M(n(303)),c=M(n(3)),f=M(n(826)),p=M(n(6091)),h=n(6133),v=n(6751),m=n(7068),y=M(n(6022)),_=M(n(6230)),g=M(n(308)),E=n(106),S=n(462),T=M(n(7069)),O=M(n(6121)),I=n(0),C=M(n(13)),N=M(n(5633)),A=M(n(5365));function M(e){return e&&e.__esModule?e:{default:e}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=((r={})[I.Arrows.UP]=s.default.throttle(function(){return(0,S.playSound)("ddr-up")},100),r[I.Arrows.DOWN]=s.default.throttle(function(){return(0,S.playSound)("ddr-down")},100),r[I.Arrows.LEFT]=s.default.throttle(function(){return(0,S.playSound)("ddr-left")},100),r[I.Arrows.RIGHT]=s.default.throttle(function(){return(0,S.playSound)("ddr-right")},100),r),L=(0,l.default)({displayName:"HotkeyLayout",getInitialState:function(){return{UP:!1,DOWN:!1,LEFT:!1,RIGHT:!1,opacity:new d.default.Value(1),scaleX:new d.default.Value(1),scaleY:new d.default.Value(0),animating:!1}},componentDidMount:function(){E.ComponentDispatch.subscribe(I.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),E.ComponentDispatch.subscribe(I.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),E.ComponentDispatch.subscribe(I.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),E.ComponentDispatch.subscribe(I.ComponentActions.DDR_ARROW_UP,this.arrowUp)},componentWillUnmount:function(){E.ComponentDispatch.unsubscribe(I.ComponentActions.SCROLL_PAGE_UP,this.scrollPageUp),E.ComponentDispatch.unsubscribe(I.ComponentActions.SCROLL_PAGE_DOWN,this.scrollPageDown),E.ComponentDispatch.unsubscribe(I.ComponentActions.DDR_ARROW_DOWN,this.arrowDown),E.ComponentDispatch.unsubscribe(I.ComponentActions.DDR_ARROW_UP,this.arrowUp)},scrollPageUp:function(){var e=this.refs.scroller;e&&e.scrollPageUp(!0,!0)},scrollPageDown:function(){var e=this.refs.scroller;e&&e.scrollPageDown(!0,!0)},arrowUp:function(e){var t,n=e.direction;this.setState(((t={})[n]=!1,t))},arrowDown:function(e){var t,n=e.direction;R[n](),this.setState(((t={})[n]=!0,t))},componentWillLeave:function(e){this.setState({animating:!0}),this.state.opacity.setValue(1),this.state.scaleX.setValue(.5),this.state.scaleY.setValue(1),d.default.sequence([d.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),d.default.timing(this.state.opacity,{delay:300,toValue:.7,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:.7,duration:1e3/60*2}),d.default.timing(this.state.opacity,{toValue:1,duration:1e3/60*2}),d.default.timing(this.state.scaleY,{delay:100,toValue:.005,duration:1e3/60*8,easing:d.default.Easing.in(d.default.Easing.ease)}),d.default.parallel([d.default.timing(this.state.scaleX,{toValue:1,duration:1e3/60*10,easing:d.default.Easing.out(d.default.Easing.ease)}),d.default.timing(this.state.opacity,{toValue:0,duration:200})])]).start(e)},toggleOpacity:function(){1===this.state.opacity._value?this.state.opacity.setValue(0):this.state.opacity.setValue(1)},getStyles:function(){return{opacity:this.state.opacity.interpolate({inputRange:[0,1],outputRange:[0,1]}),transform:[{scaleX:this.state.scaleX.interpolate({inputRange:[0,1],outputRange:[0,2]})},{scaleY:this.state.scaleY.interpolate({inputRange:[0,1],outputRange:[0,1]})}]}},render:function(){var e,t,n,r,a=this.state,l=a.UP,s=a.DOWN,u=a.LEFT,c=a.RIGHT,f=this.generateContent();return b(d.default.div,{className:N.default.keyboardShortcutsModal,style:this.getStyles()},void 0,b("h1",{className:N.default.modalTitle},void 0,b("div",{className:N.default.content},void 0,C.default.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE),b(O.default,{shortcut:"mod+/",className:(0,i.default)(A.default.dim,A.default.keyboardShortcuts)})),b("div",{className:N.default.modalSubtitle},void 0,C.default.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE),b("div",{className:N.default.ddrArrows},void 0,b("div",{className:(0,i.default)(N.default.arrow,N.default.left,(e={},e[N.default.active]=u,e))},void 0,"left"),b("div",{className:(0,i.default)(N.default.arrow,N.default.down,(t={},t[N.default.active]=s,t))},void 0,"down"),b("div",{className:(0,i.default)(N.default.arrow,N.default.up,(n={},n[N.default.active]=l,n))},void 0,"up"),b("div",{className:(0,i.default)(N.default.arrow,N.default.right,(r={},r[N.default.active]=c,r))},void 0,"right")),o.createElement(g.default,{ref:"scroller",fade:!0,outerClassName:N.default.scrollerWrap},b("div",{className:N.default.keyboardShortcutList},void 0,f)))},generateContent:function(){return this.props.content.map(function(e,t){var n;return b("div",{className:(0,i.default)(N.default.keybindGroup,(n={},n[N.default.groupEnd]=e.groupEnd,n))},t,b("div",{className:N.default.keybindDescription},void 0,e.description),b("div",{className:"keybind-shortcuts"},void 0,e.binds.map(function(e,t){return b(O.default,{shortcut:e},t)})))})}}),D=b(T.default,{},"raging-demo"),w=(0,l.default)({displayName:"KeyboardShortcuts",mixins:[u.default,c.default.LazyStoreListenerMixin(_.default)],statics:{modalConfig:{store:_.default}},getInitialState:function(){return P({content:__OVERLAY__?(0,v.getOverlayLayoutContent)():(0,h.getDefaultLayoutContent)()},_.default.getState())},getStateFromStores:function(){return _.default.getState()},UNSAFE_componentWillUpdate:function(e,t){!this.state.ragingDemon&&t.ragingDemon&&y.default.disable()},componentDidMount:function(){y.default.enableTemp(m.SHORTCUT_MODAL_LAYOUT)},componentWillUnmount:function(){y.default.disableTemp()},render:function(){var e;return e=this.state.ragingDemon?D:b(L,{content:this.state.content},"modal"),b(f.default,{component:"div"},void 0,e)},close:function(){p.default.hide()}});t.default=w,e.exports=t.default},7067:function(e,t,n){"use strict";t.__esModule=!0,t.QUICKSWITCHER_SHOW=void 0;var r=n(6075),a={binds:["mod+k","mod+t"],global:!0,action:function(){return(0,r.show)("KEYBIND",""),!1}};t.QUICKSWITCHER_SHOW=a},7068:function(e,t,n){"use strict";t.__esModule=!0,t.SHORTCUT_MODAL_LAYOUT=void 0;var r,a,o=(r=n(6091))&&r.__esModule?r:{default:r},i=n(106),l=n(0);function s(e){return i.ComponentDispatch.dispatch(l.ComponentActions.DDR_ARROW_DOWN,{direction:e}),!1}function u(e){return i.ComponentDispatch.dispatch(l.ComponentActions.DDR_ARROW_UP,{direction:e}),!1}var d=((a={})[l.Arrows.UP]={binds:["up"],keydown:s.bind(null,l.Arrows.UP),keyup:u.bind(null,l.Arrows.UP)},a[l.Arrows.DOWN]={binds:["down"],keydown:s.bind(null,l.Arrows.DOWN),keyup:u.bind(null,l.Arrows.DOWN)},a[l.Arrows.LEFT]={binds:["left"],keydown:s.bind(null,l.Arrows.LEFT),keyup:u.bind(null,l.Arrows.LEFT)},a[l.Arrows.RIGHT]={binds:["right"],keydown:s.bind(null,l.Arrows.RIGHT),keyup:u.bind(null,l.Arrows.RIGHT)},a.RAGING_DEMON={binds:["h h right n k"],action:function(){o.default.activateRagingDemon()}},a);t.SHORTCUT_MODAL_LAYOUT=d},7069:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(17)),o=c(n(304)),i=c(n(6)),l=c(n(6091)),s=n(106),u=n(0),d=c(n(5632));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(){return!0},h=function(){return!0},v=function(){return f("div",{className:d.default.symbol},"symbol",f("div",{className:d.default.symbolBackground}),f("img",{alt:"",src:n(7070)}))};v.displayName="Symbol";var m=(0,o.default)({displayName:"Explosion",_renderSecondaryTimeout:null,_doneTimeout:null,getInitialState:function(){return{animating:!1,renderSecondary:!1,scale:i.default.random(.6,1,!0),offsetX:i.default.random(0,140,!1)-70,offsetY:i.default.random(0,140,!1)-70}},componentDidMount:function(){var e=this;this.setState({animating:!0}),this._renderSecondaryTimeout=setTimeout(function(){e.setState({renderSecondary:!0})},120),this._doneTimeout=setTimeout(this.done,1e3),p()},componentDidUpdate:function(e,t){this.state.renderSecondary&&!t.renderSecondary&&h()},componentWillUnmount:function(){clearTimeout(this._renderSecondaryTimeout),clearTimeout(this._doneTimeout)},done:function(){this.props.onAnimationComplete(this.props.componentId)},renderPrimary:function(){return f("div",{className:d.default.primaryExplosion},"primary-explosion",f("img",{alt:"",className:d.default.circleInner,src:n(7071),width:70,height:69}),f("img",{alt:"",className:d.default.circleOuter,src:n(7072),width:96,height:95}),f("img",{alt:"",className:d.default.linesSecondary,src:n(7073),width:183,height:104}),f("img",{alt:"",className:d.default.linesMain,src:n(7074),width:69,height:180}))},renderSecondary:function(e,t){return f("div",{className:d.default.secondaryExplosion,style:{top:t,left:e}},"secondary-explosion",f("img",{alt:"",className:d.default.circleInner,src:n(7075),width:61,height:58},"circle-inner"),f("img",{alt:"",className:d.default.circleOuter,src:n(7076),width:85,height:85},"circle-outer"),f("img",{alt:"",className:d.default.linesSecondary,src:n(7077),width:162,height:173},"lines-secondary"),f("img",{alt:"",className:d.default.linesMain,src:n(7078),width:156,height:306},"lines-main"))},render:function(){var e,t=this.state,n=t.renderSecondary,r=t.offsetX,o=t.offsetY,i=t.animating,l=t.scale,s=[this.renderPrimary()];return n&&s.push(this.renderSecondary(r,o)),f("div",{className:(0,a.default)(d.default.container,(e={},e[d.default.animate]=i,e)),style:{top:this.props.top,left:this.props.left,transform:"scale("+l+")"}},void 0,s)}}),y=f(v,{},"symbol"),_=(0,o.default)({displayName:"RagingDemon",_timeouts:[],setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=setTimeout.apply(void 0,arguments);return this._timeouts.push(e),e}),getInitialState:function(){return{explosions:0}},UNSAFE_componentWillMount:function(){this.children=[]},componentDidMount:function(){this.setTimeout(function(){return s.ComponentDispatch.dispatch(u.ComponentActions.SHAKE_APP,{duration:2400})},1800),this.setTimeout(this.createExplosion,1800)},removeExplosion:function(e){var t=this.children,n=t.find(function(t){return t.props.componentId===e}),r=t.indexOf(n);r>=0&&t.splice(r,1),this.forceUpdate()},createExplosion:function(){var e=this.children,t=window.innerWidth/2>>0,n=window.innerHeight/2>>0;if(this.state.explosions<8){var r="expl-"+this.state.explosions;e.push(f(m,{componentId:r,top:i.default.random(n-100,n+100,!1),left:i.default.random(t-200,t+200,!1),onAnimationComplete:this.removeExplosion},r)),this.setTimeout(this.createExplosion,240),this.setState({explosions:this.state.explosions+1})}else this.setTimeout(this.addSymbol,750)},addSymbol:function(){this.children=[y],this.forceUpdate(),this.setTimeout(this.delayedClose,3e3)},delayedClose:function(){l.default.hide()},componentWillUnmount:function(){this.children.length=0;var e=this._timeouts,t=Array.isArray(e),n=0;for(e=t?e:e[Symbol.iterator]();;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}clearTimeout(r)}},render:function(){return f("div",{className:d.default.ragingDemon},void 0,this.children)}});t.default=_,e.exports=t.default},7070:function(e,t,n){e.exports=n.p+"bb7f752540c7f4c7039c6dd6b5dd052e.svg"},7071:function(e,t,n){e.exports=n.p+"2fa100868d36281cf16e9b488d6783e6.png"},7072:function(e,t,n){e.exports=n.p+"343d87c6185c5a798189dbe0454338d2.png"},7073:function(e,t,n){e.exports=n.p+"8d32a8a24b95bbb21533636279d44c4c.png"},7074:function(e,t,n){e.exports=n.p+"d848be8a53ceaaf74385fa2240c277fe.png"},7075:function(e,t,n){e.exports=n.p+"156b50b1934142012e13cddb292be82f.png"},7076:function(e,t,n){e.exports=n.p+"37168b17cb52c41180fc7dc3464416e3.png"},7077:function(e,t,n){e.exports=n.p+"264c4f75df7b5cfca2445a01ac303e4c.png"},7078:function(e,t,n){e.exports=n.p+"b2609efe7eaf6066ccf83c63b831b9f5.png"},7079:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(3)),i=E(n(179)),l=S(n(854)),s=E(n(41)),u=E(n(6096)),d=E(n(86)),c=E(n(6067)),f=E(n(176)),p=E(n(124)),h=E(n(6005)),v=E(n(220)),m=n(321),y=E(n(44)),_=n(0),g=E(n(5634));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={error:null,accepted:!1},t.handleAccept=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){O(o,r,a,i,l,"next",e)}function l(e){O(o,r,a,i,l,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.giftCode,a=n.channelContext,null!=r){e.next=3;break}throw new Error("GiftCode is null at acceptance.");case 3:return e.prev=3,e.next=6,l.redeemGiftCode(r.code,a);case 6:t.setState({accepted:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.setState({error:e.t0});case 12:case"end":return e.stop()}},e,null,[[3,9]])})),t.handleGoToPremiumApplications=function(){y.default.transitionTo(_.Routes.APPLICATION_STORE,{state:{analyticsSource:{}}}),t.props.onClose()},t.handleGoToLibrary=function(){var e=t.props,n=e.onClose,r=e.libraryApplication;y.default.transitionTo(_.Routes.APPLICATION_LIBRARY,{state:{applicationId:null!=r?r.id:null}}),n()},t}C(t,e);var n,r,a,o=t.prototype;return o.componentDidMount=function(){var e=this.props,t=e.application,n=e.sku;null==t&&null!=n&&i.default.fetchApplication(n.applicationId)},o.render=function(){var e=this.props,t=e.application,n=e.accepting,r=e.onClose,a=e.giftCode;return T(v.default,{size:v.default.Sizes.SMALL,className:g.default.modal},void 0,T("div",{className:g.default.backSplash}),T(v.default.Content,{className:g.default.content},void 0,T(v.default.CloseButton,{onClick:r,className:g.default.closeButton}),T(h.default,{size:h.default.Sizes.LARGE,game:t,skuId:a.skuId}),T("h3",{className:g.default.header},void 0,this.headerText),T("p",{className:g.default.body},void 0,this.bodyText),T(p.default,{submitting:n,onClick:this.handleClick},void 0,this.buttonText)))},n=t,(r=[{key:"step",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=e.giftCode,a=this.state,o=a.error,i=a.accepted;return(0,m.getStep)(t,r,o,i,n)}},{key:"buttonText",get:function(){return(0,m.getButtonText)(this.step,this.props.giftCode)}},{key:"headerText",get:function(){return null!=this.props.sku?(0,m.getHeaderText)(this.step,this.props.giftCode,this.props.sku):null}},{key:"bodyText",get:function(){var e=this.props,t=e.sku,n=e.accepting,r=e.libraryApplication,a=e.subscriptionPlan,o=this.state,i=o.error,l=o.accepted;return null!=t?(0,m.getBodyText)(this.step,t,r,i,l,n,this.handleGoToLibrary,a):null}},{key:"errorMessage",get:function(){var e=this.props,t=e.libraryApplication,n=e.accepting,r=this.state,a=r.error,o=r.accepted;return(0,m.getErrorMessage)(t,a,o,n,this.handleGoToLibrary)}},{key:"handleClick",get:function(){var e=this.props,t=e.giftCode,n=e.onClose;switch(this.step){case _.GiftCodeModalStates.ERROR:return n;case _.GiftCodeModalStates.SUCCESS:return __OVERLAY__?n:null!=t.subscriptionPlanId?t.premiumSubscriptionType===_.PremiumTypes.TIER_2?this.handleGoToPremiumApplications:n:this.handleGoToLibrary;case _.GiftCodeModalStates.CONFIRM:default:return this.handleAccept}}}])&&I(n.prototype,r),a&&I(n,a),t}(a.Component);N.displayName="GiftCodeAccept";var A=o.default.connectStores([d.default,f.default,s.default,u.default,c.default],function(e){var t=e.giftCode,n=f.default.get(t.skuId),r=null!=n?s.default.getGame(n.applicationId):null;return{sku:n,libraryApplication:null!=n?(0,m.firstLibraryApplicationForGiftCode)(t,n,d.default):null,application:r,subscriptionPlan:null!=t.subscriptionPlanId?c.default.get(t.subscriptionPlanId):null,accepting:u.default.getIsAccepting(t.code)}})(N),M=function(e){function t(){return e.apply(this,arguments)||this}C(t,e);var n=t.prototype;return n.handleClose=function(){l.closeGiftCodeAcceptModal()},n.render=function(){return T(A,{channelContext:this.props.channelContext,giftCode:this.props.giftCode,onClose:this.handleClose})},t}(a.PureComponent);M.displayName="GiftCodeAcceptModal",M.modalConfig={store:u.default};var P=M;t.default=P,e.exports=t.default},7080:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(3)),i=p(n(937)),l=f(n(14)),s=f(n(7081)),u=f(n(222)),d=f(n(6196)),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlePurchasePremium=function(){i.closeModal(!0)},t}return v(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.onClose;return h(d.default,{},void 0,h(d.default.Header,{onClose:n},void 0,c.default.Messages.PREMIUM_REQUIRED),h(d.default.Content,{type:d.default.Types.UPGRADE},void 0,t.premiumType&&!u.default.canInstallPremiumApplications(t)?c.default.Messages.PREMIUM_UPGRADE_REQUIRED_BODY:c.default.Messages.PREMIUM_SUBSCRIPTION_REQUIRED_BODY),h(d.default.Footer,{primary:{onClick:this.handlePurchasePremium,label:c.default.Messages.PREMIUM_REQUIRED_GET_NITRO}}))},t}(a.Component);m.displayName="PremiumRequiredModalUnconnected";var y=o.default.connectStores([l.default],function(){return{user:l.default.getCurrentUser()}})(m),_=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var n=t.prototype;return n.close=function(){i.closeModal(!1)},n.render=function(){return h(y,{onClose:this.close,context:this.props.appContext})},t}(a.Component);t.default=_,_.displayName="PremiumRequiredModal",_.modalConfig={closable:!0,store:s.default},e.exports=t.default},7081:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u=null,d=null;function c(e){null!=l&&e?l():null!=s&&s(),l=null,s=null}function f(){d=o.FormStates.CLOSED,u=null}var p=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return u===e&&d===o.FormStates.OPEN},r}(r.default.Store))(a.default,{PREMIUM_REQUIRED_MODAL_OPEN:function(e){c(!1),d=o.FormStates.OPEN,u=e.context,l=e.resolve,s=e.reject},PREMIUM_REQUIRED_MODAL_CLOSE:function(e){c(e.shouldContinue),f()},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==u)return!1;f(),c(!1)}});t.default=p,e.exports=t.default},7082:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(3)),i=n(919),l=n(315),s=g(n(41)),u=g(n(7083)),d=g(n(176)),c=g(n(148)),f=g(n(220)),p=g(n(18)),h=g(n(6156)),v=g(n(6655)),m=n(0),y=g(n(5361)),_=g(n(5390));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var T=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.application,n=e.skuId,r=e.sku,a=e.onClose;null==r?(0,l.fetchSKU)(t.id,n).catch(function(e){return a(e.message)}):this.track(r)},n.componentDidUpdate=function(e){var t=this.props.sku;t!==e.sku&&null!=t&&this.track(t)},n.track=function(e){var t=this.props.analyticsSource;p.default.track(m.AnalyticEvents.OPEN_MODAL,{type:"Application Entitlement Confirmation",source:t,application_id:e.applicationId,sku_id:e.id})},n.render=function(){var e=this.props,t=e.sku,n=e.application,r=e.onClose,a=e.isIAP;return E(f.default,{size:f.default.Sizes.SMALL,className:y.default.modal},void 0,E(h.default,{application:n,splashSize:880}),E(f.default.Content,{className:y.default.content},void 0,E(c.default,{direction:c.default.Direction.VERTICAL,className:_.default.confirmContent},void 0,E(f.default.CloseButton,{onClick:function(){return r()},className:_.default.confirmCloseButton}),null!=t?E(v.default,{application:n,sku:t,isIAP:a,onClose:function(){return r()}}):null)))},t}(a.Component);T.displayName="PurchaseConfirmationModal";var O=o.default.connectStores([s.default,d.default],function(e){var t=e.applicationId,n=e.skuId;return{application:s.default.getGame(t),sku:d.default.get(n)}})(T),I=function(e){function t(){return e.apply(this,arguments)||this}S(t,e);var n=t.prototype;return n.close=function(e){(0,i.closePurchaseConfirmationModal)(e)},n.render=function(){var e=this.props,t=e.skuId,n=e.applicationId,r=e.analyticsSource,a=e.isIAP;return E(O,{skuId:t,applicationId:n,isIAP:a,analyticsSource:r,onClose:this.close})},t}(a.Component);I.displayName="PurchaseConfirmationModalWrapper",I.modalConfig={closable:!0,store:u.default};var C=I;t.default=C,e.exports=t.default},7083:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u=null,d=null,c=null,f=null,p=!1,h=null;function v(e){null!=l&&null!=f?l(f):null!=s&&s(e),l=null,s=null}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return h===e&&p},a.getProps=function(){return{applicationId:u,skuId:d,analyticsSource:c,isIAP:h===o.AppContext.OVERLAY}},r}(r.default.Store))(a.default,{PURCHASE_CONFIRMATION_MODAL_OPEN:function(e){v(),p=!0,u=e.applicationId,d=e.skuId,c=e.analyticsSource,h=e.context,f=e.entitlements,l=e.resolve,s=e.reject},PURCHASE_CONFIRMATION_MODAL_CLOSE:function(e){var t=e.error;p=!1,h=null,v(t)},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==h)return!1;p=!1,h=null,v()}});t.default=m,e.exports=t.default},7084:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=B(n(2)),o=x(n(153)),i=x(n(156)),l=x(n(3)),s=x(n(1)),u=n(6088),d=B(n(315)),c=B(n(906)),f=(n(441),x(n(41))),p=x(n(14)),h=x(n(850)),v=x(n(6210)),m=x(n(176)),y=x(n(185)),_=x(n(6099)),g=x(n(148)),E=x(n(6005)),S=x(n(301)),T=x(n(220)),O=x(n(438)),I=n(823),C=x(n(18)),N=x(n(9)),A=n(6032),M=n(836),P=n(6047),b=n(127),R=x(n(6024)),L=x(n(6275)),D=x(n(6125)),w=x(n(6156)),U=x(n(6276)),k=x(n(6655)),G=n(0),F=x(n(13)),j=x(n(5390));function x(e){return e&&e.__esModule?e:{default:e}}function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var z=(0,o.default)({UNSUPPORTED_OS:null,TEST_MODE:null,GIFT_ONLY:null,PREORDER:null}),$=880,q=H(O.default,{}),X=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={paymentSourceId:null,skuPrice:v.default.getPrice(t.props.skuId)},t._loadId=i.default.v4(),t._stepStartTime=Date.now(),t._flowStartTime=Date.now(),t._paymentModalRef=a.createRef(),t.handlePaymentSourceChange=function(e){var n=t.props,r=n.applicationId,a=n.skuId;null!=e?(d.fetchPurchasePreview(r,a,e.id),t.setState({paymentSourceId:e.id})):(d.fetchPurchasePreview(r,a,null),t.setState({paymentSourceId:null}))},t.handlePurchase=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.props,a=r.applicationId,o=r.sku,i=t.getPrice(),l=null!=i?i.amount:0,null!=o){e.next=5;break}throw new Error("SKU is null during purchase");case 5:if(!v.default.isPurchasingSKU){e.next=7;break}return e.abrupt("return");case 7:return e.prev=7,C.default.track(G.AnalyticEvents.PAYMENT_FLOW_COMPLETED,V({},t.getBaseAnalyticsData(),{duration_ms:Date.now()-t._flowStartTime})),e.next=11,d.purchaseSKU(a,o.id,{expectedAmount:l,paymentSourceId:n.id,analyticsLoadId:t._loadId,isGift:t.isGift});case 11:(0,u.acceptPurchaseTerms)(),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(7),C.default.track(G.AnalyticEvents.PAYMENT_FLOW_FAILED,V({},t.getBaseAnalyticsData(),{payment_gateway:n.type===G.PaymentSourceTypes.CARD?G.PaymentGateways.STRIPE:G.PaymentGateways.BRAINTREE,payment_source_id:n.id,duration_ms:Date.now()-t._flowStartTime,payment_error_code:e.t0.code})),e.t0;case 18:case"end":return e.stop()}},e,null,[[7,14]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){Y(o,r,a,i,l,"next",e)}function l(e){Y(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleClose=function(e){void 0===e&&(e=null),(0,t.props.onClose)(e)},t.handleStepChange=function(e,n){var r=Date.now();C.default.track(G.AnalyticEvents.PAYMENT_FLOW_STEP,V({},t.getBaseAnalyticsData(),{from_step:e,to_step:n,step_duration_ms:r-t._stepStartTime,flow_duration_ms:r-t._flowStartTime})),t._stepStartTime=r,n===A.Steps.CONFIRM&&d.showPurchaseConfirmationStep()},t.renderHeader=function(e,n,r){var a=t.props.application;switch(e){case A.Steps.CONFIRM:return H(w.default,{application:a,splashSize:$});default:return t.renderDefaultHeader(e,n,r)}},t.renderConfirmation=function(){var e=t.props,n=e.application,r=e.sku,a=e.isIAP,o=e.giftCode;if(null==r)throw new Error("No SKU for confirmation step!");return H("div",{className:j.default.confirmContent},void 0,H(g.default,{direction:g.default.Direction.VERTICAL},void 0,H(T.default.CloseButton,{onClick:function(){return t.handleClose()},className:j.default.confirmCloseButton}),null!=o?H(U.default,{giftCode:o,application:n,sku:r,onClose:function(){return t.handleClose()}}):H(k.default,{application:n,sku:r,isIAP:a,onClose:function(){return t.handleClose()}})))},t}K(t,e);var n,r,o,l=t.prototype;return l.componentDidMount=function(){var e=this,t=this.props,n=t.sku,r=t.skuId,a=t.applicationId;null==n?d.fetchSKU(a,r).catch(function(t){return e.handleClose(t.message)}):C.default.track(G.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData())},l.componentDidUpdate=function(e,t){null==e.sku&&null!=this.props.sku&&C.default.track(G.AnalyticEvents.PAYMENT_FLOW_STARTED,this.getBaseAnalyticsData()),this.checkPriceChange(t.skuPrice,this.state.skuPrice)},l.checkPriceChange=function(e,t){var n=this.props,r=n.sku,a=n.onClose;null!=e&&null!=t&&e.discount_percent_off!==t.discount_percent_off&&s.default.wait(function(){if(null==r)throw new Error("Unexpected null SKU");a(G.PaymentModalPriceChangedError)})},t.getDerivedStateFromProps=function(e,t){var n=v.default.getPrice(e.skuId,t.paymentSourceId);return t.skuPrice!==n?{skuPrice:n}:null},l.getPrice=function(){var e=this.props,t=e.sku,n=e.isFetchingSKU;if(null==t||n)return null;var r=this.state,a=r.skuPrice,o=r.paymentSourceId;if(null!=a)return{amount:a.amount,tax:a.tax,taxInclusive:a.tax_inclusive,currency:a.currency};if(null==o){var i=t.getPrice();if(null==i)throw new Error("Sku Price cannot be null");return{amount:i.amount,tax:0,currency:i.currency,taxInclusive:!1}}return null},l.getBaseAnalyticsData=function(){var e=this.props,t=e.sku,n=e.analyticsLocation,r=e.appContext,a=e.promotionId;if(null==t)return{};var o=this.getPrice();return V({},t.getAnalyticsData(),{load_id:this._loadId,payment_type:"sku",is_gift:this.isGift,client_event_source:r===G.AppContext.OVERLAY?G.AppContext.OVERLAY:null,location:n,price:null!=o?o.amount:null,currency:null!=o?o.currency:null,location_promotion_id:a})},l.getHeaderText=function(e,t){if(e)return F.default.Messages.APPLICATION_STORE_PURCHASE_IAP;switch(t){case G.SKUTypes.GAME:return F.default.Messages.APPLICATION_STORE_PURCHASE_APPLICATION;case G.SKUTypes.DLC:return F.default.Messages.APPLICATION_STORE_PURCHASE_DLC;case G.SKUTypes.CONSUMABLE:return F.default.Messages.APPLICATION_STORE_PURCHASE_CONSUMABLE;case G.SKUTypes.BUNDLE:return F.default.Messages.APPLICATION_STORE_PURCHASE_BUNDLE}},l.renderPurchaseWarning=function(){var e=this.props,t=e.sku,n=e.isInTestMode,r=e.isIAP,o=e.isUserEntitledToSku;if(null==t)return null;var i=(0,b.nativePlatformTypeToSKUOperatingSystem)(N.default.getPlatform()),l=[];if(!(null!=i&&t.supportedOperatingSystems.includes(i)||r)){if(1!==t.supportedOperatingSystems.length)throw new Error("Unexpected number of supported operating systems");l.push(H(D.default,{icon:S.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.WARNING,className:j.default.errorBlock},z.UNSUPPORTED_OS,F.default.Messages.APPLICATION_STORE_PURCHASE_GAME_UNSUPPORTED_OS.format({operatingSystem:(0,b.skuOperatingSystemToText)(t.supportedOperatingSystems[0])})))}return n&&l.push(H(D.default,{icon:S.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.WARNING,className:j.default.errorBlock},z.TEST_MODE,F.default.Messages.APPLICATION_STORE_PURCHASE_TEST_MODE)),!0===o&&this.isGiftable&&l.push(H(D.default,{icon:S.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.PRIMARY,className:j.default.errorBlock},z.GIFT_ONLY,F.default.Messages.APPLICATION_STORE_PURCHASE_GIFT_ONLY)),t.isPreorder()&&l.push(H(D.default,{icon:S.default.Names.WARNING_BOX,iconSize:D.default.Sizes.SMALL,color:D.default.Colors.PRIMARY,className:j.default.errorBlock},z.PREORDER,F.default.Messages.APPLICATION_STORE_PURCHASE_WARNING_PREORDER.format({date:(0,P.getReadablePreorderReleaseDate)(t)}))),H(a.Fragment,{},void 0,l)},l.renderGenericError=function(e,t){return null==e&&null==t?null:H(R.default,{className:j.default.errorBlock},void 0,null!=e?e.message:null!=t?t.message:null)},l.renderDefaultHeader=function(e,t,n){var r=this,a=this.props,o=a.isIAP,i=a.application,l=a.sku,s=a.purchaseError;if(null==l)return null;var u=this.getPrice();return H(T.default.Header,{direction:g.default.Direction.VERTICAL,align:g.default.Align.START,separator:!1},void 0,H(w.default,{application:i,splashSize:$}),H(g.default,{align:g.default.Align.CENTER,className:j.default.headerHeader},void 0,H(I.FormTitle,{tag:I.FormTitleTags.H4},void 0,this.getHeaderText(o,l.type)),H(T.default.CloseButton,{onClick:function(){return r.handleClose()}})),H(g.default,{align:g.default.Align.CENTER,className:j.default.headerContent},void 0,H(g.default,{align:g.default.Align.CENTER},void 0,H(E.default,{game:i}),H("div",{className:j.default.applicationName},void 0,l.name)),H("div",{className:j.default.price},void 0,null!=u?(0,M.formatPrice)(u.amount,u.currency):H(O.default,{type:O.default.Type.PULSING_ELLIPSIS,className:j.default.priceSpinner}))),this.renderPurchaseWarning(),this.renderGenericError(s,n),t.length>1?H(_.default,{activeId:e,breadcrumbs:t,className:j.default.breadcrumbs}):null)},l.render=function(){var e=this,t=this.props,n=t.sku,r=t.isFetchingSKU,o=t.isPurchasing,i=t.purchaseError,l=t.isUserEntitledToSku,s=t.forceConfirmationStepOnMount;return null==n||r?q:a.createElement(L.default,{ref:this._paymentModalRef,canSubmit:null!=this.state.skuPrice,needsToBeGift:n.type===G.SKUTypes.GAME&&!0===l,isGiftable:this.isGiftable,isPurchasing:o,purchaseError:i,price:this.getPrice(),size:j.default.modalSize,onPurchase:this.handlePurchase,onIsGiftUpdate:c.updateSKUPaymentIsGift,onPaymentSourceChange:this.handlePaymentSourceChange,onClose:function(){return e.handleClose()},onClearError:d.clearPurchaseError,renderHeader:this.renderHeader,renderConfirmationBody:this.renderConfirmation,submitButtonText:this.isGift?F.default.Messages.APPLICATION_STORE_BUY_GIFT:F.default.Messages.APPLICATION_STORE_BUY,initialStep:s?A.Steps.CONFIRM:null,onStepChange:this.handleStepChange,isGift:this.isGift})},n=t,(r=[{key:"closable",get:function(){var e=this._paymentModalRef.current;return null!=e&&e.closable}},{key:"isGiftable",get:function(){var e=this.props.sku;return null!=e&&e.isGiftable(this.getPrice())}},{key:"isGift",get:function(){return this.props.isGift&&this.isGiftable}}])&&W(n.prototype,r),o&&W(n,o),t}(a.PureComponent);X.displayName="SKUPayment";var Q=l.default.connectStores([f.default,m.default,v.default,y.default,h.default,p.default],function(e){var t=e.applicationId,n=e.skuId,r=e.location;return{application:f.default.getGame(t),sku:m.default.get(n),location:r,skuId:n,applicationId:t,isFetchingSKU:m.default.isFetching(n),isPurchasing:v.default.isPurchasingSKU,purchaseError:v.default.error,analyticsLocation:v.default.analyticsLocation,promotionId:v.default.promotionId,isIAP:v.default.isIAP,giftCode:v.default.giftCode,isGift:v.default.isGift,forceConfirmationStepOnMount:v.default.forceConfirmationStepOnMount,isInTestMode:y.default.inTestModeForApplication(t),isUserEntitledToSku:h.default.isEntitledToSku(p.default.getNullableCurrentUser(),n,t)}})(X),J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._skuPaymentModalRef=a.createRef(),t}K(t,e);var n=t.prototype;return n.close=function(){null!=this._skuPaymentModalRef.current&&this._skuPaymentModalRef.current.closable&&this.handleClose()},n.handleClose=function(e){void 0===e&&(e=null),c.closeSKUPaymentModal(e)},n.render=function(){return a.createElement(Q,V({},this.props,{ref:this._skuPaymentModalRef,onClose:this.handleClose}))},t}(a.PureComponent);J.displayName="SKUPaymentModal",J.modalConfig={closable:!0,store:v.default};var Z=J;t.default=Z,e.exports=t.default},7085:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=F(n(2)),o=G(n(153)),i=G(n(4)),l=G(n(3)),s=G(n(1)),u=F(n(830)),d=F(n(851)),c=F(n(918)),f=F(n(315)),p=G(n(6277)),h=G(n(7086)),v=G(n(35)),m=G(n(6084)),y=G(n(176)),_=G(n(124)),g=G(n(148)),E=G(n(220)),S=n(6278),T=G(n(6279)),O=n(823),I=G(n(18)),C=G(n(222)),N=n(836),A=G(n(44)),M=n(316),P=G(n(6024)),b=G(n(6143)),R=G(n(6280)),L=G(n(6281)),D=n(0),w=G(n(13)),U=G(n(879)),k=G(n(5636));function G(e){return e&&e.__esModule?e:{default:e}}function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function j(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function B(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var H=(0,M.cssValueToNumber)(U.default.innerPadding),V=(0,o.default)({CONFIRM:null,DONE:null}),Y=[V.CONFIRM,V.DONE];var W=function(e){function t(t){var n;(n=e.call(this,t)||this).close=function(){var e=n.props.onClose;e&&e()},n.confirm=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){x(o,r,a,i,l,"next",e)}function l(e){x(o,r,a,i,l,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){var t,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.subscription,null!=(a=t.selectedPlan)){e.next=3;break}return e.abrupt("return");case 3:return n.setState({animationSceneTier1:S.PremiumPaymentAnimationTier1.Scenes.SPEED_START,animationSceneTier2:S.PremiumPaymentAnimationTier2.Scenes.BOOST_START}),e.prev=4,e.next=7,d.upgrade(r,a);case 7:n.setState({animationSceneTier1:S.PremiumPaymentAnimationTier1.Scenes.FINISH,animationSceneTier2:S.PremiumPaymentAnimationTier2.Scenes.BOOST_END,step:V.DONE}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n.setState({animationSceneTier1:S.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier2:S.PremiumPaymentAnimationTier2.Scenes.ERROR});case 13:case"end":return e.stop()}},e,null,[[4,10]])})),n.navigateToPremiumGames=function(){A.default.transitionTo(D.Routes.APPLICATION_STORE_BROWSE),u.popLayer(),n.close()},n.handleAnimationScenePlayTier1=function(e){return n.setState({animationSceneTier1:S.PremiumPaymentAnimationTier1.getNextScene(e),playingAnimationSceneTier1:e})},n.handleAnimationScenePlayTier2=function(e){return n.setState({animationSceneTier2:S.PremiumPaymentAnimationTier2.getNextScene(e),playingAnimationSceneTier2:e})},n.renderAnimation=function(){var e=n.props.selectedPlan;return C.default.getPremiumType(e)===D.PremiumTypes.TIER_1?j(S.PremiumPaymentAnimationTier1,{className:k.default.headerAnimation,scene:n.state.animationSceneTier1,onScenePlay:n.handleAnimationScenePlayTier1}):j(S.PremiumPaymentAnimationTier2,{className:k.default.headerAnimation,scene:n.state.animationSceneTier2,onScenePlay:n.handleAnimationScenePlayTier2})};var r=function(e,t){if(null==e.plan)return C.default.getPrice(t).amount;var n=C.default.calculateSubscriptionPeriod(e.plan,e.currentPeriodStart),r=n[0],a=n[1],o=(0,i.default)(a).diff(r,"seconds"),l=Math.max((0,i.default)(e.currentPeriodEnd).diff((0,i.default)(),"seconds"),0),s=null!=e.plan?C.default.getPrice(e.plan).amount:0;return C.default.getPrice(t).amount-l/o*s}(t.subscription,t.selectedPlan);return n.state={amount:r,playingAnimationSceneTier1:S.PremiumPaymentAnimationTier1.Scenes.NORMAL,animationSceneTier1:S.PremiumPaymentAnimationTier1.Scenes.NORMAL,playingAnimationSceneTier2:S.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,animationSceneTier2:S.PremiumPaymentAnimationTier2.Scenes.IDLE_ENTRY,step:V.CONFIRM},n}B(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.selectedPlan,n=e.followupSKUInfo,r=e.followupSKU,a=this.state.amount;if(null!=n&&null==r){var o=n.applicationId,i=n.id;f.fetchSKU(o,i).catch(D.NOOP_NULL)}I.default.track(D.AnalyticEvents.PREMIUM_UPGRADE_STARTED,{plan:t,price_shown:Math.round(a)})},n.componentWillUnmount=function(){s.default.wait(function(){return d.clearError()})},n.shouldShake=function(){var e=this.state,t=e.playingAnimationSceneTier1,n=e.playingAnimationSceneTier2;return S.ShakeScenes.has(t)||S.ShakeScenes.has(n)},n.renderError=function(){var e=this.props.paymentError;return null==e?null:j(P.default,{className:k.default.error},void 0,e.message)},n.renderConfirmBody=function(){var e,t=this.props,n=t.subscription,r=t.selectedPlan,o=this.state.amount,i=n.plan,l=C.default.getDisplayName(r);if(null==r||null==i||null==o)return null;var s=C.default.getInterval(r),u=(0,N.formatPrice)(o,D.CurrencyCodes.USD);if(function(e,t){var n=e!==D.SubscriptionPlans.PREMIUM_MONTH_TIER_2&&e!==D.SubscriptionPlans.PREMIUM_YEAR_TIER_2,r=t===D.SubscriptionPlans.PREMIUM_MONTH_TIER_2||t===D.SubscriptionPlans.PREMIUM_YEAR_TIER_2;return n&&r}(i,r)){var d=C.default.getInterval(i);e=s===D.SubscriptionIntervalTypes.YEAR?d===D.SubscriptionIntervalTypes.MONTH?w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_YEAR.format({planPremiumType:C.default.getDisplayPremiumType(i),price:u}):w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_YEAR_TIER_2_YEAR.format({planPremiumType:C.default.getDisplayPremiumType(i),price:u}):w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_TIER_1_MONTH_TIER_2_MONTH.format({planPremiumType:C.default.getDisplayPremiumType(i),price:u})}else e=w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BODY_DETAILED_YEAR.format({price:u});return j(a.Fragment,{},void 0,j(O.FormTitle,{tag:O.FormTitleTags.H4,className:k.default.title},void 0,w.default.Messages.PREMIUM_UPGRADE_CONFIRM_TITLE.format({plan:l})),this.renderError(),j("div",{className:k.default.message},void 0,e))},n.render=function(){var e=this.props,t=e.selectedPlan,n=e.theme,r=e.followupSKU,a=e.busy,o=this.state.step,i=this.shouldShake(),l=C.default.getPremiumType(t);return j(T.default,{isShaking:i,intensity:2},void 0,j(E.default,{className:k.default.modal},void 0,j(E.default.Header,{className:k.default.header,direction:g.default.Direction.VERTICAL,align:g.default.Align.START,separator:!1},void 0,j(L.default,{shouldShowPrice:!1,plan:t,isGift:!1,renderAnimation:this.renderAnimation,onClose:this.close})),j(E.default.Content,{},void 0,j(b.default,{step:o,steps:Y,sideMargin:H},void 0,o===V.CONFIRM?this.renderConfirmBody():j(R.default,{onClose:this.close,onViewGames:this.navigateToPremiumGames,premiumType:l,isUpgrade:!0,followupSKU:r,theme:n}))),o===V.CONFIRM?j(E.default.Footer,{},void 0,j(g.default,{justify:g.default.Justify.END},void 0,j(_.default,{onClick:this.close,look:_.default.Looks.LINK,color:k.default.secondaryButton},void 0,w.default.Messages.NEVERMIND),j(_.default,{onClick:this.confirm,color:_.default.Colors.BRAND,disabled:a},void 0,w.default.Messages.PREMIUM_UPGRADE_CONFIRM_BUTTON))):null))},t}(a.Component);W.displayName="UpgradeConfirm";var K=l.default.connectStores([p.default,v.default,m.default,y.default,h.default],function(){var e=h.default.followupSKUInfo;return{theme:v.default.theme,paymentError:p.default.paymentError,busy:m.default.isBusy,followupSKUInfo:e,followupSKU:null!=e?y.default.get(e.id):null,subscription:h.default.currentSubscription,paymentSource:h.default.paymentSource,selectedPlan:h.default.selectedPlan}})(W),z=function(e){function t(){return e.apply(this,arguments)||this}B(t,e);var n=t.prototype;return n.close=function(){c.closeModal()},n.render=function(){return j(K,{onClose:this.close})},t}(a.Component);t.default=z,z.displayName="UpgradeConfirmModal",z.modalConfig={store:h.default},e.exports=t.default},7086:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s,u,d=null,c=o.FormStates.CLOSED,f=null,p=!1,h=null,v=null,m=null;function y(){null!=s&&p?s():null!=u&&u(),s=null,u=null}function _(){d=null,v=null,p=!1,c=o.FormStates.CLOSED}var g=new(function(e){var t,n,r,a,i;function s(){return e.apply(this,arguments)||this}return n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,s.prototype.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return d===e&&c===o.FormStates.OPEN},r=s,(a=[{key:"paymentSource",get:function(){return h}},{key:"selectedPlan",get:function(){return m}},{key:"currentSubscription",get:function(){return f}},{key:"followupSKUInfo",get:function(){return v}}])&&l(r.prototype,a),i&&l(r,i),s}(r.default.Store))(a.default,{PREMIUM_UPGRADE_MODAL_OPEN:function(e){null!=u&&u(),_(),d=e.context,m=e.selectedPlan,f=e.currentSubscription,h=e.paymentSource,v=e.followupSKUInfo,s=e.resolve,u=e.reject,c=o.FormStates.OPEN},PREMIUM_UPGRADE_MODAL_CLOSE:function(e){return y(),void _()},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:function(e){var t=e.subscription;null!=f&&t.plan_id!==f.planId&&(p=!0)},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==d)return!1;_(),y()}});t.default=g,e.exports=t.default},7087:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={clearVADWarning:function(){a.default.dispatch({type:o.ActionTypes.PERMISSION_CLEAR_VAD_WARNING})},clearSuppressWarning:function(e){void 0===e&&(e=!1),a.default.dispatch({type:o.ActionTypes.PERMISSION_CLEAR_SUPPRESS_WARNING,forever:e})},clearPTTAdminWarning:function(){a.default.dispatch({type:o.ActionTypes.PERMISSION_CLEAR_PTT_ADMIN_WARNING})}};t.default=i,e.exports=t.default},7088:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=g(n(17)),i=n(500),l=g(n(7089)),s=E(n(5992)),u=g(n(124)),d=g(n(301)),c=g(n(220)),f=g(n(107)),p=g(n(6035)),h=g(n(454)),v=n(0),m=g(n(13)),y=g(n(5357)),_=g(n(5637));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=44,I=function(e){var t=e.channel,n=e.categoryName,r=e.guildName,a=d.default.Names.CHANNEL_TEXT;return t.isRoleRequired?a=d.default.Names.CHANNEL_TEXT_LIMITED:t.isNSFW&&(a=d.default.Names.CHANNEL_TEXT_NSFW),T("div",{className:_.default.result},void 0,T(d.default,{name:a,className:_.default.resultIcon,background:_.default.resultIconBackground,width:16,height:16}),T("div",{className:_.default.resultText},void 0,T("span",{},void 0,t.name),T("span",{className:_.default.resultCategoryName},void 0,n)),T("div",{className:_.default.resultGuildName},void 0,r))};I.displayName="ResultTextChannel";var C=function(e){var t=e.channel;return T("div",{className:_.default.result},void 0,T(s.default,{src:t.getIconURL(),className:_.default.resultAvatar,size:s.AvatarSizes.SMALL}),T("div",{className:_.default.resultText},void 0,t.toString()))};C.displayName="ResultGroupDM";var N=function(e){var t,n=e.user,r=e.comparator,a=e.status;if(null!=r&&r===n.tag){var o=r.split("#");o.pop(),t=o.join("#")}else t=r||n.username;return T("div",{className:_.default.result},void 0,T(s.default,{src:n.avatarURL,className:_.default.resultAvatar,size:s.AvatarSizes.SMALL,status:a}),T("div",{className:_.default.resultText},void 0,T("span",{},void 0,t),T("span",{className:_.default.resultUsername},void 0,n.tag)))};N.displayName="ResultUser";var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props;(0,e.onInvite)(e.row)},t.handleMouseEnter=function(){var e=t.props;(0,e.onMouseEnter)(e.row)},t}return S(t,e),t.prototype.render=function(){var e,t,n,r=this.props,a=r.result,i=r.selected,l=r.sending;switch(a.type){case v.AutocompleterResultTypes.GROUP_DM:t=T(C,{channel:a.data.record});break;case v.AutocompleterResultTypes.TEXT_CHANNEL:var s=a.categoryName,d=a.guildName;t=T(I,{channel:a.data.record,categoryName:s,guildName:d});break;case v.AutocompleterResultTypes.USER:var c=a.data,f=c.comparator,p=c.record,h=a.status;t=T(N,{comparator:f,user:p,status:h})}return n=a.sent?T(u.default,{className:_.default.inviteButton,look:u.default.Looks.LINK,size:u.default.Sizes.SMALL,disabled:!0,color:u.default.Colors.GREY},void 0,m.default.Messages.ACTIVITY_INVITE_MODAL_SENT):T(u.default,{color:u.default.Colors.GREEN,look:i?u.default.Looks.FILLED:u.default.Looks.OUTLINED,className:_.default.inviteButton,size:u.default.Sizes.SMALL,submitting:l,onClick:this.handleClick},void 0,m.default.Messages.ACTIVITY_INVITE_MODAL_INVITE),T("div",{className:(0,o.default)(_.default.resultWrapper,(e={},e[_.default.resultWrapperSelected]=i,e)),onMouseEnter:this.handleMouseEnter},void 0,t,n)},t}(a.Component);A.displayName="Result";var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={query:"",selectedRow:0,sending:[]},t.close=function(){var e=t.props.onClose;(0,i.closeModal)(),null!=e&&e()},t.handleMouseEnter=function(e){t.setState({selectedRow:e})},t.handleInvite=function(e){var n=t.props.results[e],r=n.data,a=n.data.record.id,o=t.state.sending;if(null!=a&&!o.includes(a))switch(t.setState({sending:[].concat(o,[a])}),r.type){case v.AutocompleterResultTypes.GROUP_DM:case v.AutocompleterResultTypes.TEXT_CHANNEL:(0,i.inviteChannel)(r.record.id);break;case v.AutocompleterResultTypes.USER:(0,i.inviteUser)(r.record.id)}},t.handleSelect=function(e,n){null==n?t.handleClear():t.handleInvite(n)},t.handleSelectionChange=function(e,n){t.setState({selectedRow:n});var r=t.getScroller();null!=r&&r.scrollIntoViewRect(n*O,n*O+O)},t.handleQueryChange=function(e){t.setState({query:e,selectedRow:0},function(){return t.query()})},t.handleClear=function(){t.setState({query:"",selectedRow:0},function(){return t.query()})},t._handleModalRef=function(e){t._modal=e},t}S(t,e);var n=t.prototype;return n.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},n.query=function(){(0,i.updateQuery)(this.state.query)},n.render=function(){var e=this,t=this.props,n=t.activity,r=t.isPrivate,o=t.results,i=t.headerClassName,l=t.renderFooter,s=this.state,u=s.query,d=s.selectedRow,v=s.sending;return r?T(h.default,{title:m.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name}),body:m.default.Messages.ACTIVITY_INVITE_PRIVATE,confirmText:m.default.Messages.OKAY,onConfirm:this.close}):a.createElement(c.default,{className:_.default.wrapper,ref:this._handleModalRef},T(c.default.Header,{className:i},void 0,T(c.default.CloseButton,{className:_.default.closeButton,onClick:this.close}),T("div",{className:_.default.header},void 0,T(f.default,{tag:f.default.Tags.H2,className:y.default.marginBottom8},void 0,m.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({name:n.name})),T(p.default,{size:p.default.Sizes.MEDIUM,query:u,selectedSection:0,selectedRow:d,sections:[o.length],className:y.default.marginTop4,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,placeholder:m.default.Messages.ACTIVITY_INVITE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===o.length?T("div",{className:_.default.noResults}):T(c.default.LazyContent,{className:_.default.results,elementHeight:O,paddingBottom:14,keyboardScroll:!0},void 0,o.map(function(t,n){return T(A,{row:n,result:t,sending:null!=t.data.record.id&&v.includes(t.data.record.id),selected:n===d,onMouseEnter:e.handleMouseEnter,onInvite:e.handleInvite},t.data.record.id)})),l&&l())},t}(a.PureComponent);t.default=M,M.displayName="ActivityInviteModal",M.modalConfig={closable:!0,store:l.default},e.exports=t.default},7089:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(3)),o=v(n(1)),i=v(n(873)),l=v(n(6165)),s=v(n(20)),u=v(n(28)),d=v(n(189)),c=v(n(129)),f=v(n(14)),p=v(n(448)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var m,y,_=h.AppContext.APP,g=null,E=[];function S(){r=null,y=!1,null!=m&&(m.destroy(),m=null),null!=g&&g()}function T(){var e=null!=r&&null!=r.application_id?d.default.getApplicationActivity(r.application_id):null;if(null!=r&&(null==e||null==e.party||null==e.party.id))return S()}var O=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(d.default)},o.isOpen=function(){if(null==r)return!1;var e=__OVERLAY__?h.AppContext.OVERLAY:h.AppContext.APP;return _===e},o.getProps=function(){if(null==r)throw new Error("Invalid activity.");return{activity:r,isPrivate:y,query:null!=m?m.query:"",results:null!=m?m.results.map(function(e){switch(e.type){case h.AutocompleterResultTypes.USER:var t=e.record;return{type:h.AutocompleterResultTypes.USER,sent:E.includes(t.id),status:c.default.getStatus(t.id),data:e};case h.AutocompleterResultTypes.TEXT_CHANNEL:var n=e.record,r=s.default.getChannel(n.parent_id),a=u.default.getGuild(n.guild_id);return{type:h.AutocompleterResultTypes.TEXT_CHANNEL,sent:E.includes(n.id),categoryName:null!=r?r.toString():"",guildName:null!=a?a.toString():"",data:e};case h.AutocompleterResultTypes.GROUP_DM:var o=e.record;return{type:h.AutocompleterResultTypes.GROUP_DM,sent:E.includes(o.id),data:e};default:throw new Error("Unknown Result Type: "+e.type)}}):[]}},a}(a.default.Store))(o.default,{ACTIVITY_INVITE_MODAL_OPEN:function(e){r=e.activity,_=e.context,g=e.resolve,y=e.isPrivate,E=[],null==m&&(m=new l.default(function(){return O.emitChange()},[h.AutocompleterResultTypes.TEXT_CHANNEL,h.AutocompleterResultTypes.GROUP_DM,h.AutocompleterResultTypes.USER],function(e){var t=[];return p.default.getPrivateChannelIds().forEach(function(n){var r=s.default.getChannel(n);if(null!=r)if(r.type===h.ChannelTypes.DM){var a=r.getRecipientId(),o=null!=a?f.default.getUser(a):null;null!=o&&t.push(e.createResult(h.AutocompleterResultTypes.USER,o))}else r.type===h.ChannelTypes.GROUP_DM&&t.push(e.createResult(h.AutocompleterResultTypes.GROUP_DM,r))}),t})),m.search("")},ACTIVITY_INVITE_MODAL_QUERY:function(e){var t=e.query;null!=m&&m.search(t)},ACTIVITY_INVITE_MODAL_SEND:function(e){null!=r&&(e.channelId?i.default.sendActivityInvite({channelId:e.channelId,type:h.ActivityActionTypes.JOIN,activity:r,location:"Channel Text Area - Invite to Join Modal"}).then(function(){E=[].concat(E,[e.channelId]),O.emitChange()}):e.userId&&i.default.sendActivityInviteUser({userId:e.userId,type:h.ActivityActionTypes.JOIN,activity:r,location:"Channel Text Area - Invite to Join Modal"}).then(function(){E=[].concat(E,[e.userId]),O.emitChange()}))},ACTIVITY_INVITE_MODAL_CLOSE:function(e){return S()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==r||(S(),0))},LOCAL_ACTIVITY_UPDATE:function(e){return T()},RPC_APP_DISCONNECTED:function(e){return T()}}),I=O;t.default=I,e.exports=t.default},7090:function(e,t,n){var r={"./2017-11-16.mp4":8207,"./discriminator.mp4":8208,"./g250k-cl.mp4":8209,"./header.mp4":8210,"./league-rp-cl.mp4":8211,"./store.jpg":8212};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=7090},7091:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(6672)),i=y(n(12)),l=y(n(7092)),s=y(n(124)),u=y(n(444)),d=y(n(220)),c=y(n(125)),f=y(n(822)),p=y(n(442)),h=y(n(107)),v=y(n(13)),m=y(n(5638));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).setRef=function(e){n._input=e},n.renderWarning=function(){var e=n.props.user;return null==e||e.id===i.default.getId()?null:_(u.default,{type:u.default.Types.WARNING,className:m.default.card},void 0,_(c.default,{color:c.default.Colors.WHITE,size:c.default.Sizes.MEDIUM},void 0,v.default.Messages.CHANGE_NICKNAME_WARNING))},n.renderInput=function(){var e,t=n.props,r=t.user,a=t.errors,o=n.state.nick;return a.nick&&(e=_(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.RED,className:m.default.error},void 0,a.nick)),_(p.default,{title:v.default.Messages.NICKNAME,className:m.default.input},void 0,_(f.default,{inputRef:n.setRef,value:o,placeholder:null!=r?""+r.toString():"",onChange:n.handleNickChange,autoFocus:!0}),e)},n.renderReset=function(){return _(s.default,{look:s.default.Looks.LINK,size:s.default.Sizes.NONE,onClick:n.handleReset,color:c.default.Colors.PRIMARY,className:m.default.reset},void 0,v.default.Messages.RESET_NICKNAME)},n.renderHeader=function(){return _(d.default.Header,{},void 0,_(h.default,{tag:h.default.Tags.H4},void 0,v.default.Messages.CHANGE_NICKNAME))},n.renderFooter=function(){var e=n.props.submitting;return _(d.default.Footer,{},void 0,_(s.default,{type:"submit",disabled:e},void 0,v.default.Messages.SAVE),_(s.default,{onClick:n.close,look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY},void 0,v.default.Messages.CANCEL))},n.handleReset=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)._input;n.setState({nick:""}),null!=e&&e.focus()},n.handleSubmit=function(e){e.preventDefault();var t=n.props,r=t.user,a=t.guildId;o.default.changeNickname(a,r.id,n.state.nick)},n.handleNickChange=function(e){n.setState({nick:e})},n.state={nick:t.nick||""},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){o.default.close()},a.componentDidMount=function(){var e=this._input;null!=e&&e.select()},a.render=function(){return _(d.default,{tag:"form",onSubmit:this.handleSubmit},void 0,this.renderHeader(),_(d.default.Content,{},void 0,this.renderWarning(),this.renderInput(),this.renderReset()),this.renderFooter())},r}(a.PureComponent);g.displayName="ChangeNickname",g.modalConfig={store:l.default};var E=g;t.default=E,e.exports=t.default},7092:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=s(n(71)),i=s(n(14)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u,d,c,f=l.FormStates.CLOSED,p={};function h(){f=l.FormStates.CLOSED,u=null,c=null,d=null,p={}}var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(o.default)},a.isOpen=function(){return f!==l.FormStates.CLOSED},a.getProps=function(){return{submitting:f===l.FormStates.SUBMITTING,errors:p,guildId:u,nick:c,user:d}},r}(r.default.Store))(a.default,{CHANGE_NICKNAME_MODAL_OPEN:function(e){f=l.FormStates.OPEN,u=e.guildId,p={};var t=o.default.getMember(u,e.userId);d=i.default.getUser(e.userId),null==t||null==d?h():c=t.nick},CHANGE_NICKNAME_MODAL_SUBMIT:function(e){f=l.FormStates.SUBMITTING},CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE:function(e){f=l.FormStates.OPEN,p=e.errors||{}},CHANGE_NICKNAME_MODAL_CLOSE:function(e){return h()}});t.default=v,e.exports=t.default},7093:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(3)),i=_(n(7094)),l=_(n(7095)),s=_(n(35)),u=_(n(148)),d=_(n(308)),c=n(6017),f=_(n(79)),p=_(n(9)),h=_(n(6126)),v=_(n(13)),m=_(n(5357)),y=_(n(5639));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=o.default.connectStores([s.default],function(){return{theme:s.default.theme}})(h.default),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).acceptInvite=function(){var e=t.props.invite;i.default.acceptInvite(e)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){__OVERLAY__||(p.default.isWindows()?p.default.minimize():p.default.restore(),p.default.focus())},a.close=function(){i.default.close()},a.render=function(){var e=this.props,t=e.invite,n=e.error,r=e.submitting;if(null==t||null==t.channel)return null;var a,o,i=t.guild,l=t.channel,s=t.inviter,p=null!=i;if(null!=i)a=i.name,o=f.default.getGuildSplashURL({id:i.id,splash:i.splash});else if((a=l.name)||null==s||(a=s.username),null==a)throw new Error("no name for group DM invite");return g("div",{className:y.default.container},void 0,g("div",{className:y.default.contentWrapper},void 0,g(d.default,{className:y.default.scroller,theme:d.default.Themes.GHOST_HAIRLINE},void 0,g(u.default,{className:y.default.inviteContent,direction:u.default.Direction.VERTICAL,justify:u.default.Justify.BETWEEN},void 0,g("div",{className:m.default.marginBottom20},void 0,g(E,{invite:t,disableUser:p,error:n})),g("div",{className:m.default.marginBottom20},void 0,g(c.Button,{size:c.Button.Sizes.LARGE,onClick:this.acceptInvite,submitting:r},void 0,v.default.Messages.INVITE_MODAL_BUTTON.format({guildName:a})),g(u.default,{justify:u.default.Justify.CENTER,className:m.default.marginTop8},void 0,g(c.Button,{look:c.Button.Looks.LINK,onClick:this.close},void 0,v.default.Messages.INIVTE_MODAL_NO_THANKS)))))),null!=o&&g("div",{className:y.default.inviteSplash,style:{backgroundImage:"url("+o+")"}}))},r}(a.PureComponent);S.displayName="Invite",S.modalConfig={closable:!0,store:l.default};var T=S;t.default=T,e.exports=t.default},7094:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(1)),a=l(n(311)),o=n(0),i=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}var s={acceptInvite:function(e){var t=this,n=a.default.getInviteContext("Desktop Invite Modal",e);a.default.acceptInvite(e.code,n).then(function(e){null==e||null==e.guild||null==e.channel||__OVERLAY__||a.default.transitionToInvite(e),t.close()},function(e){r.default.dispatch({type:o.ActionTypes.INVITE_MODAL_ERROR,message:e.toString()||i.default.Messages.INVITE_MODAL_ERROR_DEFAULT})})},close:function(){r.default.dispatch({type:o.ActionTypes.INVITE_MODAL_CLOSE})}};t.default=s,e.exports=t.default},7095:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(1)),o=d(n(313)),i=d(n(20)),l=d(n(28)),s=d(n(6048)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f,p=u.AppContext.APP,h=!1,v=!1,m=[];function y(){h=!0}var _=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,s.default)},a.isOpen=function(){var e=__OVERLAY__?u.AppContext.OVERLAY:u.AppContext.APP;return h&&m.length&&p===e},a.getProps=function(){return{invite:m.length>0?m[0][0]:null,error:f||null,submitting:v}},r}(r.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){return y()},CONNECTION_OPEN:function(e){return y()},CONNECTION_CLOSED:function(e){h=!1},INVITE_MODAL_OPEN:function(e){var t=e.invite;if(null==t)return!1;var n=t.channel,r=t.guild;if(null==n)return!1;if(n.type!==u.ChannelTypes.GROUP_DM){if(null==r)return!1;if(null!=l.default.getGuild(r.id))return!1}else if(null!=i.default.getChannel(n.id))return!1;if(m.some(function(e){return e[0].code===d}))return!1;var a=t.approximate_member_count,s=t.approximate_presence_count,d=t.code;p=e.context,v=!1;var f={code:d,approximate_member_count:a,approximate_presence_count:s,channel:c({},t.channel)};t.guild&&(f.guild=new o.default(r)),t.inviter&&(f.inviter=c({},t.inviter)),m.push([f,e.resolve])},INVITE_MODAL_CLOSE:function(e){return function(){if(f=null,v=!1,m.length>0){var e=m.shift()[1];null!=e&&e()}}()},INVITE_ACCEPT:function(e){v=!0},INVITE_MODAL_ERROR:function(e){var t=e.message;f=t,v=!1}});t.default=_,e.exports=t.default},7096:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=P(n(17)),i=P(n(6)),l=P(n(32)),s=P(n(3)),u=n(6075),d=P(n(6022)),c=P(n(20)),f=P(n(6043)),p=P(n(28)),h=P(n(6164)),v=P(n(310)),m=P(n(6284)),y=P(n(305)),_=n(6697),g=n(106),E=P(n(309)),S=n(6219),T=P(n(7097)),O=P(n(6121)),I=P(n(845)),C=n(0),N=P(n(13)),A=P(n(5365)),M=P(n(5644));function P(e){return e&&e.__esModule?e:{default:e}}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var L={top:15,bottom:10},D=function(){return R("div",{className:M.default.emptyState},void 0,R("div",{className:M.default.emptyStateNote},void 0,N.default.Messages.QUICKSWITCHER_EMPTY_TEXT),R("div",{className:M.default.emptyStateCTA},void 0,R(y.default,{href:E.default.getArticleURL(C.HelpdeskArticles.QUICK_SWITCHER_TUTORIAL)},void 0,N.default.Messages.QUICKSWITCHER_EMPTY_CTA)))};D.displayName="QuickSwitcherNoResults";var w=function(e){function t(){return e.apply(this,arguments)||this}return b(t,e),t.prototype.render=function(){var e=p.default.getGuild(this.props.channel.guild_id);return a.createElement(_.Channel,this.props,R("div",{className:M.default.miscContainer},void 0,null!=e?e.name:null))},t}(a.Component);w.displayName="ExtendedChannel",w.defaultProps={unread:!1};var U=s.default.connectStores([v.default],function(e){var t=e.channel;return{unread:v.default.hasUnread(t.id),mentions:v.default.getMentionCount(t.id),category:c.default.getChannel(t.parent_id)}})(w),k=s.default.connectStores([m.default],function(e){var t=e.channel;if(null==t.guild_id)throw new Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");return{voiceStates:m.default.getVoiceStates(t.guild_id)[t.id]}})(w),G=s.default.connectStores([f.default],function(e){var t=e.guild;return{unread:f.default.hasUnread(t.id)}})(_.Guild),F=s.default.connectStores([v.default],function(e){var t=e.channel;return{mentions:v.default.getMentionCount(t.id)}})(_.GroupDM),j=s.default.connectStores([v.default],function(e){var t=e.user,n=c.default.getDMFromUserId(t.id);return{mentions:null!=n?v.default.getMentionCount(n):0}})(_.User),x=R(D,{}),B=function(e){function t(t){var n;return n=e.call(this,t)||this,i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleKeyDown","handleInputChange","handleKeyDown","handleMouseMove","handleInputChange","focusResult","selectResult","setInputRef","setScrollerRef","forceFocus"]),n.state={query:t.query,needsScrollbar:"Blink"!==l.default.layout&&"WebKit"!==l.default.layout,mouseFocusDisabled:!0},n}b(t,e);var n=t.prototype;return n.componentDidMount=function(){d.default.disable(),this.focus()},n.componentWillUnmount=function(){d.default.enable()},n.getScroller=function(){return this._scrollerRef},n.componentDidUpdate=function(){var e=this.state.mouseFocusDisabled,t=this.props.selectedIndex,n=this.getScroller();n&&e&&t>=0&&n.scrollIndexIntoView(t,!1,L)},n.getInput=function(){return this._inputRef},n.close=function(){(0,u.hide)()},n.search=function(e){this.setState({query:e}),(0,u.search)(e)},n.focus=function(){var e=this.getInput();null!=e&&e.focus()},n.handleInputChange=function(){var e=this.getInput();null!=e&&this.search(e.value)},n.handleMouseMove=function(){!1!==this.state.mouseFocusDisabled&&this.setState({mouseFocusDisabled:!1})},n.focusResult=function(e){this.state.mouseFocusDisabled||(0,u.selectResult)(this.props.results.indexOf(e))},n.selectResult=function(e){null!=e&&e.type!==C.AutocompleterResultTypes.HEADER&&(0,u.switchToResult)(e)},n.handleKeyDown=function(e){var t=this.state,n=t.mouseFocusDisabled,r=t.query,a=this.props.results;!1===n&&this.setState({mouseFocusDisabled:!0});var o=e.key.toLowerCase(),i=this.props.selectedIndex;switch(o){case"escape":return e.preventDefault(),e.stopPropagation(),void(r.length>0?this.search(""):(0,u.hide)());case"k":return void(!0!==e.ctrlKey&&!0!==e.metaKey||(e.preventDefault(),e.stopPropagation(),(0,u.hide)()));case"enter":if(-1===i)return;return e.preventDefault(),void this.selectResult(a[i]);case"arrowup":i=(0,S.findNextSelected)("up",i,a);break;case"arrowdown":i=(0,S.findNextSelected)("down",i,a);break;case"tab":i=e.shiftKey?(0,S.findNextSelected)("up",i,a):(0,S.findNextSelected)("down",i,a);break;case"n":if(!e.ctrlKey)return;i=(0,S.findNextSelected)("down",i,a);break;case"p":if(!e.ctrlKey)return;i=(0,S.findNextSelected)("up",i,a);break;default:return}e.preventDefault(),(0,u.selectResult)(i)},n.setScrollerRef=function(e){this._scrollerRef=e},n.setInputRef=function(e){this._inputRef=e},n.forceFocus=function(){this._inputRef&&this._inputRef.focus()},n.renderInput=function(){return a.createElement("input",{className:M.default.input,ref:this.setInputRef,type:"text",placeholder:N.default.Messages.QUICKSWITCHER_PLACEHOLDER,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown,onBlur:this.forceFocus,value:this.state.query})},n.renderResults=function(){var e=this.state,t=e.query,n=e.needsScrollbar,r=this.props,i=r.results,l=r.theme;return 0===i.length&&t.length>0?x:0===i.length?null:a.createElement(I.default,{ref:this.setScrollerRef,elementHeight:34,theme:I.default.Themes.GHOST,backgroundColor:l===C.ThemeTypes.LIGHT?C.Colors.PRIMARY_DARK_100:C.Colors.PRIMARY_DARK_630,paddingTop:L.top,paddingBottom:L.bottom,outerClassName:(0,o.default)(M.default.scrollerOuter,n?M.default.polyfilled:null),className:M.default.scroller},i.map(this.renderResult,this))},n.focusNode=function(e){g.ComponentDispatch.dispatch(C.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,{node:e})},n.renderResult=function(e,t){var n=this,r=this.props.selectedIndex;switch(e.type){case C.AutocompleterResultTypes.HEADER:return R(_.Header,{},e.type+"-"+e.record.id,e.record.text);case C.AutocompleterResultTypes.TEXT_CHANNEL:return R(U,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case C.AutocompleterResultTypes.VOICE_CHANNEL:return R(k,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case C.AutocompleterResultTypes.GUILD:return R(G,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,guild:e.record},e.type+"-"+e.record.id);case C.AutocompleterResultTypes.USER:return R(j,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,user:e.record,comparator:e.comparator},e.type+"-"+e.record.id);case C.AutocompleterResultTypes.GROUP_DM:return R(F,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,channel:e.record},e.type+"-"+e.record.id);case C.AutocompleterResultTypes.APPLICATION:return R(_.Application,{focused:r>=0&&t===r,onClick:function(){return n.selectResult(e)},onMouseEnter:function(){return n.focusResult(e)},onFocus:this.focusNode,application:e.record},e.type+"-"+e.record.id);default:return null}},n.renderHelp=function(){var e,t=this.props,n=t.results,r=t.theme===C.ThemeTypes.DARK?A.default.dark:A.default.dim;return R("div",{className:(0,o.default)((e={},e[M.default.tipsWithResults]=n.length>0,e[M.default.tipsWithoutResults]=0===n.length,e))},void 0,R("div",{className:M.default.tipsListNav},void 0,N.default.Messages.QUICKSWITCHER_TIP_NAV.format({shortcutHook:function(e,t){return R(O.default,{shortcut:e[0],className:(0,o.default)(r,A.default.keybindShortcutQuickSwitcher,A.default.keybindShortcutTipsNav)},t)}})),R("div",{className:M.default.tipsMiscControls},void 0,N.default.Messages.QUICKSWITCHER_TIP_SELECT.format({shortcutHook:function(e,t){return R(O.default,{shortcut:e[0],className:(0,o.default)(r,A.default.keybindShortcutQuickSwitcher,A.default.keybindShortcutTipsSelect)},t)}})))},n.renderTutorial=function(){var e=this.state.query,t=this.props,n=t.seenTutorial,r=t.results;return n?null:R(T.default,{hasQuery:e.length>0&&r.length>0})},n.render=function(){return R("div",{className:M.default.container},void 0,R("div",{className:M.default.quickswitcher,onMouseMove:this.handleMouseMove},void 0,this.renderInput(),this.renderResults(),this.renderHelp(),this.renderTutorial()))},t}(a.PureComponent);B.displayName="QuickSwitcher",B.modalConfig={disableAnimation:!0,backdropInstant:!0,store:h.default};var H=B;t.default=H,e.exports=t.default},7097:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(303)),l=n(106),s=n(0),u=c(n(13)),d=c(n(5643));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=118,v=9,m={friction:15,tension:100},y=function(e){var t,r;function c(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={shown:!1,translateY:new i.default.Value(0)},t.setRef=function(e){t.container=e},t.handleResultFocus=function(e){var n=e.node;setTimeout(function(){if(t.props.hasQuery&&null!=n){var e=t.container.getBoundingClientRect().top,r=n.getBoundingClientRect().top,a=Math.abs(e-r);t.springTo(a-h+v)}else t.springTo(0)},1)},t}r=e,(t=c).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var y=c.prototype;return y.componentDidMount=function(){this.setState({shown:!0}),l.ComponentDispatch.subscribe(s.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},y.componentWillUnmount=function(){l.ComponentDispatch.unsubscribe(s.ComponentActions.QUICKSWITCHER_RESULT_FOCUS,this.handleResultFocus)},y.componentDidUpdate=function(){this.props.hasQuery||this.springTo(0)},y.springTo=function(e){i.default.spring(this.state.translateY,p({toValue:Math.min(e,250)},m)).start()},y.renderArrowGroup=function(e){return f("div",{className:(0,o.default)(d.default.arrowGroup,e)},void 0,f(i.default.div,{className:(0,o.default)(d.default.arrowContainer,d.default.horizontal),style:this.getStyle()},void 0,f("img",{alt:"",src:n(7098),className:d.default.arrowIcon})),f("div",{className:(0,o.default)(d.default.arrowContainer,d.default.diag1)},void 0,f("img",{alt:"",src:n(7099),className:d.default.arrowIcon})),f("div",{className:(0,o.default)(d.default.arrowContainer,d.default.diag2)},void 0,f("img",{alt:"",src:n(7100),className:d.default.arrowIcon})))},y.renderContent=function(){return f("div",{className:d.default.tutorialMessages},void 0,f("div",{className:d.default.searchMessage},void 0,u.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH),f("div",{className:d.default.selectMessage},void 0,u.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT))},y.render=function(){var e,t=this.props.hasQuery,n=this.state.shown;return a.createElement("div",{ref:this.setRef,className:(0,o.default)(d.default.tutorial,(e={},e[d.default.shown]=n,e[d.default.hasQuery]=t,e))},this.renderContent(),this.renderArrowGroup(d.default.left),this.renderArrowGroup(d.default.right))},y.getStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,250],outputRange:["0px","250px"]})},{translateZ:0}]}},c}(a.PureComponent);y.displayName="QuickSwitcherTutorial";var _=y;t.default=_,e.exports=t.default},7098:function(e,t,n){e.exports=n.p+"85761f5edbfdfbeba087f67ced11fe8e.svg"},7099:function(e,t,n){e.exports=n.p+"86deade60ada88b092a0de67a3800ce8.svg"},7100:function(e,t,n){e.exports=n.p+"7c5e2c588b7325c8433db1ac2a03a6b6.svg"},7101:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Q(n(2)),o=X(n(17)),i=X(n(3)),l=X(n(443)),s=n(302),u=X(n(179)),d=n(830),c=X(n(858)),f=X(n(865)),p=X(n(824)),h=X(n(155)),v=X(n(6462)),m=X(n(5360)),y=X(n(41)),_=X(n(129)),g=X(n(307)),E=X(n(7102)),S=X(n(35)),T=X(n(14)),O=X(n(7103)),I=X(n(305)),C=X(n(5992)),N=X(n(124)),A=X(n(219)),M=X(n(148)),P=X(n(6019)),b=X(n(301)),R=X(n(308)),L=X(n(438)),D=Q(n(6036)),w=X(n(437)),U=n(223),k=X(n(18)),G=X(n(79)),F=X(n(44)),j=n(178),x=X(n(5996)),B=X(n(6070)),H=X(n(6758)),V=X(n(6674)),Y=X(n(6122)),W=X(n(5358)),K=n(0),z=X(n(13)),$=X(n(847)),q=X(n(5646));function X(e){return e&&e.__esModule?e:{default:e}}function Q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function J(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ne=K.INVITE_ENDPOINT+"/discord-testers",re=i.default.connectStores([g.default],function(){return{hide:g.default.hidePersonalInformation}})(function(e){function t(){return e.apply(this,arguments)||this}te(t,e);var n=t.prototype;return n.renderEmpty=function(){return ee("div",{className:q.default.empty},void 0,ee("div",{className:q.default.emptyIconStreamerMode}),ee("div",{className:q.default.emptyText},void 0,z.default.Messages.STREAMER_MODE_ENABLED))},n.renderNote=function(){var e=this.props.user;return ee("div",{className:q.default.userInfoSection},void 0,ee("div",{className:q.default.userInfoSectionHeader},void 0,z.default.Messages.NOTE),ee(H.default,{userId:e.id,autoFocus:!1,className:q.default.note}))},n.trackConnectedAccountViewed=function(e){k.default.track(K.AnalyticEvents.CONNECTED_ACCOUNT_VIEWED,{platform_type:e})},n.renderConnectedAccounts=function(){var e=this,t=this.props,n=t.connectedAccounts,r=t.theme;if(null!=n&&n.length>0){var a=n.map(function(t,n){var a,o,i=h.default.get(t.type),l=i.getPlatformUserUrl&&i.getPlatformUserUrl(t);return l&&(a=ee(I.default,{href:l,onClick:e.trackConnectedAccountViewed.bind(e,t.type)},void 0,ee("div",{className:q.default.connectedAccountOpenIcon}))),t.verified&&(o=ee(w.default,{text:z.default.Messages.CONNECTION_VERIFIED},void 0,ee(b.default,{className:q.default.connectedAccountVerifiedIcon,name:b.default.Names.VERIFIED,inner:r===K.ThemeTypes.LIGHT?K.Colors.STATUS_GREY_200:K.Colors.PRIMARY_DARK,checkmark:r===K.ThemeTypes.LIGHT?K.Colors.STATUS_GREY_500:K.Colors.WHITE,width:24}))),ee(M.default,{align:M.default.Align.CENTER,grow:0,className:q.default.connectedAccount},n,ee("img",{alt:z.default.Messages.IMG_ALT_LOGO.format({name:i.name}),className:q.default.connectedAccountIcon,src:i.icon.color}),ee("div",{className:q.default.connectedAccountNameInner},void 0,ee("div",{className:q.default.connectedAccountName},void 0,t.name),o),a)});return ee("div",{className:q.default.userInfoSection},void 0,ee("div",{className:q.default.connectedAccounts},void 0,a))}},n.render=function(){return this.props.hide?this.renderEmpty():ee(R.default,{fade:!0},void 0,this.renderNote(),this.renderConnectedAccounts())},t}(a.PureComponent)),ae=function(e){var t=e.guild,n=e.nick,r=e.onSelect,a=e.onContextMenu,i=e.theme;return ee(A.default,{className:q.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return a(e,t)}},void 0,ee(P.default,{guild:t,showVerified:!0,className:(0,o.default)(q.default.listAvatar,null==t.icon?q.default.guildAvatarWithoutIcon:null),verifiedIconOuterColor:i===K.ThemeTypes.DARK?K.Colors.PRIMARY_DARK_600:null,size:P.default.Sizes.MEDIUM}),ee("div",{className:q.default.listRowContent},void 0,ee("div",{className:q.default.listName},void 0,t.toString()),ee("div",{className:q.default.guildNick},void 0,n)))};ae.displayName="GuildRow";var oe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){F.default.transitionTo(K.Routes.GUILD(e)),f.default.close(),(0,d.popLayer)()},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return a.createElement(Y.default,Z({},e,{type:K.ContextMenuTypes.GUILD_PROFILE_MUTUAL,guild:t}))})},t}return te(t,e),t.prototype.render=function(){var e,t=this,n=this.props,r=n.mutualGuilds,a=n.theme;return e=0===r.length?ee("div",{className:q.default.empty},void 0,ee("div",{className:q.default.emptyIconGuilds}),ee("div",{className:q.default.emptyText},void 0,z.default.Messages.NO_MUTUAL_GUILDS)):r.map(function(e){var n=e.guild,r=e.nick;return ee(ae,{guild:n,nick:r,onSelect:t.handleSelect,onContextMenu:t.handleContextMenu,theme:a},n.id)}),ee(R.default,{className:q.default.listScroller,fade:!0},void 0,e)},t}(a.Component);oe.displayName="MutualGuilds";var ie=function(e){var t=e.user,n=e.status,r=e.onSelect,a=e.onContextMenu;return ee(A.default,{className:q.default.listRow,onClick:function(){return r(t.id)},onContextMenu:function(e){return a(e,t)}},void 0,ee(C.default,{src:t.getAvatarURL(),size:C.default.Sizes.LARGE,status:n,className:q.default.listAvatar}),ee(B.default,{user:t,className:q.default.listName,discriminatorClass:q.default.listDiscriminator}))};ie.displayName="FriendRow";var le=ee(L.default,{}),se=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){f.default.open(e)},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return a.createElement(W.default,Z({},e,{type:K.ContextMenuTypes.USER_PROFILE_MUTUAL,user:t}))})},t}return te(t,e),t.prototype.render=function(){var e,t=this,n=this.props.mutualFriends;return e=n?0===n.length?ee("div",{className:q.default.empty},void 0,ee("div",{className:q.default.emptyIconFriends}),ee("div",{className:q.default.emptyText},void 0,z.default.Messages.NO_MUTUAL_FRIENDS)):n.map(function(e){return ee(ie,{user:e.user,status:e.status,onSelect:t.handleSelect,onContextMenu:t.handleContextMenu},e.key)}):ee("div",{className:q.default.empty},void 0,le),ee(R.default,{className:q.default.listScroller,fade:!0},void 0,e)},t}(a.Component);function ue(e){var t=e.className,n=J(e,["className"]);return a.createElement(N.default,Z({},n,{look:N.default.Looks.INVERTED,size:N.default.Sizes.MEDIUM,color:q.default.buttonInvertedPurple,className:t}))}function de(e){var t=e.mode,n=e.defaultColor,r=e.className,i=J(e,["mode","defaultColor","className"]);if("Streaming"===t)return a.createElement(ue,Z({},i,{className:r}));var l="Normal"===t?N.default.Looks.FILLED:N.default.Looks.INVERTED;return a.createElement(N.default,Z({},i,{color:function(e,t){switch(e){case"Streaming":return N.default.Colors.PRIMARY;case"Spotify":case"Xbox":return N.default.Colors.GREEN;case"Playing":return N.default.Colors.BRAND;default:return t}}(t,n),look:l,size:N.default.Sizes.SMALL,className:(0,o.default)(q.default.actionButton,r)}))}se.displayName="MutualFriends",ue.displayName="InvertedPurpleButton",de.displayName="RequestActionButton";var ce=function(e){var t=e.isCurrentUser,n=e.user,r=e.relationshipType,a=e.friendReqSent,o=e.handleAddFriend,i=e.handleIgnoreFriend,l=e.handleSendMessage,s=e.mode;return t||r===K.RelationshipTypes.BLOCKED?null:r===K.RelationshipTypes.FRIEND||n.bot?ee(de,{mode:s,defaultColor:N.default.Colors.GREEN,onClick:l},void 0,z.default.Messages.SEND_MESSAGE):a?ee(de,{mode:s,defaultColor:N.default.Colors.GREEN,disabled:!0},void 0,z.default.Messages.ADD_FRIEND_BUTTON_AFTER):r===K.RelationshipTypes.PENDING_INCOMING?ee(M.default,{grow:0},void 0,ee(de,{mode:s,defaultColor:N.default.Colors.GREEN,onClick:o},void 0,z.default.Messages.FRIEND_REQUEST_ACCEPT),ee(de,{mode:s,defaultColor:N.default.Colors.GREY,onClick:i,className:q.default.actionRightButton},void 0,z.default.Messages.FRIEND_REQUEST_IGNORE)):ee(de,{mode:s,defaultColor:N.default.Colors.GREEN,onClick:o},void 0,z.default.Messages.ADD_FRIEND_BUTTON)};ce.displayName="RequestActions";var fe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).performAction=function(e){e(),(0,s.closeContextMenu)()},t}return te(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.relationshipType,a=n.onRemoveFriend,i=n.onBlock,l=n.onMessage,s=n.className,u=n.style,d=[];switch(r){case K.RelationshipTypes.BLOCKED:d.push(ee(A.default,{className:$.default.item,onClick:function(){return e.performAction(a)}},"user-unblock",z.default.Messages.UNBLOCK));break;case K.RelationshipTypes.FRIEND:d.push(ee(A.default,{className:(0,o.default)($.default.item,$.default.danger),onClick:function(){return e.performAction(a)}},"user-remove",z.default.Messages.REMOVE_FRIEND)),d.push(ee(A.default,{className:(0,o.default)($.default.item,$.default.danger),onClick:function(){return e.performAction(i)}},"user-block",z.default.Messages.BLOCK));break;case K.RelationshipTypes.NONE:case K.RelationshipTypes.PENDING_INCOMING:default:d.push(ee(A.default,{className:(0,o.default)($.default.item,$.default.danger),onClick:function(){return e.performAction(i)}},"user-block",z.default.Messages.BLOCK))}return r!==K.RelationshipTypes.BLOCKED&&d.push(ee(A.default,{className:$.default.item,onClick:function(){return e.performAction(l)}},"user-message",z.default.Messages.USER_POPOUT_MESSAGE)),ee("div",{className:s,style:{left:u.left+t.OFFSET_X,top:u.top+t.OFFSET_Y}},void 0,d)},t}(a.Component);fe.displayName="ProfileActionsPopout",fe.OFFSET_X=-65,fe.OFFSET_Y=20;var pe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={friendReqSent:!1},t.handleAdditionalActionClick=function(e){var n=t.props.relationshipType;(0,s.openContextMenu)(e,function(e){return a.createElement(fe,Z({},e,{relationshipType:n,onRemoveFriend:t.handleRemoveFriend,onBlock:t.handleBlock,onMessage:t.handleSendMessage}))})},t.handleSendMessage=function(){var e=t.props,n=e.user,r=e.currentUserId;l.default.openPrivateChannel(r,n.id),t.props.close(),(0,d.popLayer)()},t.handleBlock=function(){var e=t.props.user;c.default.addRelationship(e.id,{location:"User Profile"},K.RelationshipTypes.BLOCKED)},t.handleAddFriend=function(){c.default.addRelationship(t.props.user.id,{location:"User Profile"}),t.setState({friendReqSent:!0})},t.handleRemoveFriend=function(){c.default.removeRelationship(t.props.user.id,{location:"User Profile"}),t.setState({friendReqSent:!1})},t.handleSectionSelect=function(e){f.default.setSection(e)},t.openPremiumSettings=function(){k.default.track(K.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:K.AnalyticsSections.PROFILE_MODAL,location_object:K.AnalyticsObjects.TOOLTIP}),p.default.open(K.UserSettingsSections.PREMIUM),t.props.close()},t}te(t,e);var n=t.prototype;return n.componentDidMount=function(){this.fetchApplication()},n.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},n.fetchApplication=function(){var e=this.props.activity;null!=e&&null!=e.application_id&&null==y.default.getGame(e.application_id)&&u.default.fetchApplication(e.application_id)},n.getMode=function(){var e=this.props.activity;return null==e?"Normal":(0,U.isStreaming)(e)?"Streaming":(0,U.isOnXbox)(e)?"Xbox":(0,U.isListeningOnSpotify)(e)?"Spotify":"Playing"},n.isCurrentUser=function(){var e=this.props,t=e.user,n=e.currentUserId;return t.id===n},n.renderBadges=function(){var e=this.props,t=e.user,n=e.premiumSince,r=e.hypeSquadKOHExperimentActive,a=[];return t.hasFlag(K.UserFlags.STAFF)&&a.push({tooltip:z.default.Messages.STAFF_BADGE_TOOLTIP,onClick:function(){return window.open(K.MarketingURLs.COMPANY,"_blank")},class:"staff"}),t.hasFlag(K.UserFlags.PARTNER)&&a.push({tooltip:z.default.Messages.PARTNER_BADGE_TOOLTIP,onClick:function(){return window.open(K.MarketingURLs.PARTNERS,"_blank")},class:"partner"}),t.hasFlag(K.UserFlags.HYPESQUAD)&&a.push({tooltip:z.default.Messages.HYPESQUAD_BADGE_TOOLTIP,onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:"hypesquad"}),t.hasFlag(K.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)&&a.push({tooltip:z.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:z.default.Messages.HYPESQUAD_HOUSE_1}),onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:"hypeSquadOnlineHouse1"}),t.hasFlag(K.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)&&a.push({tooltip:z.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:z.default.Messages.HYPESQUAD_HOUSE_2}),onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:"hypeSquadOnlineHouse2"}),t.hasFlag(K.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&a.push({tooltip:z.default.Messages.HYPESQUAD_ONLINE_BADGE_TOOLTIP.format({houseName:z.default.Messages.HYPESQUAD_HOUSE_3}),onClick:function(){return window.open(K.MarketingURLs.HYPESQUAD,"_blank")},class:r?"hypeSquadOnlineHouse3KOH":"hypeSquadOnlineHouse3"}),t.hasFlag(K.UserFlags.BUG_HUNTER)&&a.push({tooltip:z.default.Messages.BUG_HUNTER_BADGE_TOOLTIP,onClick:function(){return window.open(ne,"_blank")},class:"bugHunter"}),t.hasFlag(K.UserFlags.PREMIUM_EARLY_SUPPORTER)&&a.push({tooltip:z.default.Messages.EARLY_SUPPORTER_TOOLTIP,onClick:this.openPremiumSettings,class:"earlySupporter"}),null!=n&&a.push({tooltip:z.default.Messages.PREMIUM_BADGE_TOOLTIP.format({date:n}),onClick:this.openPremiumSettings,class:"premium"}),0===a.length?null:ee(M.default,{className:q.default.profileBadges},void 0,a.map(function(e){return ee("div",{className:q.default.profileBadgeWrapper},e.class,ee(w.default,{position:w.default.Positions.TOP,text:e.tooltip},void 0,ee(A.default,{onClick:e.onClick},void 0,ee("div",{className:(0,j.getClass)(q.default,"profileBadge",e.class)}))))}))},n.renderMoreActions=function(){var e=this.props.user;if(!this.isCurrentUser()&&!e.isNonUserBot())return ee(A.default,{onClick:this.handleAdditionalActionClick},void 0,ee("div",{className:q.default.additionalActionsIcon}))},n.renderHeader=function(e){var t,n=this.props,r=n.user,a=n.status,i=n.relationshipType,l=n.showMobileIndicator,s=this.state.friendReqSent,u=G.default.hasAnimatedAvatar(r)?r.getAvatarURL("gif"):r.getAvatarURL();return ee("header",{className:q.default.header},void 0,ee(C.default,{src:u,size:C.default.Sizes.PROFILE,status:a,className:q.default.avatar}),ee("div",{className:q.default.headerInfo},void 0,ee(B.default,{user:r,className:q.default.nameTag,usernameClass:q.default.username,discriminatorClass:q.default.discriminator,invertBotTagColor:"Playing"===e,botClass:q.default.botTag,showMobileIndicator:l,mobileIndicatorClassName:(0,o.default)(q.default.mobileIndicator,(t={},t[q.default.mobileIndicator]="Normal"===e,t[q.default.mobileIndicatorWhite]="Normal"!==e,t))}),this.renderBadges()),ee(ce,{user:r,isCurrentUser:this.isCurrentUser(),relationshipType:i,friendReqSent:s,handleAddFriend:this.handleAddFriend,handleIgnoreFriend:this.handleRemoveFriend,handleSendMessage:this.handleSendMessage,mode:e}),this.renderMoreActions())},n.renderTabBar=function(){var e=this.props,t=e.user,n=e.section,r=e.theme===K.ThemeTypes.LIGHT?K.Colors.PRIMARY_DARK:K.Colors.WHITE;return this.isCurrentUser()||t.bot?null:ee("div",{className:q.default.tabBarContainer},void 0,ee(D.default,{selectedItem:n,type:D.Types.TOP,onItemSelect:this.handleSectionSelect,className:q.default.tabBar},void 0,ee(D.Item,{color:r,className:q.default.tabBarItem,id:K.UserProfileSections.USER_INFO},void 0,z.default.Messages.USER_INFO),ee(D.Item,{color:r,className:q.default.tabBarItem,id:K.UserProfileSections.MUTUAL_GUILDS},void 0,z.default.Messages.MUTUAL_GUILDS),ee(D.Item,{color:r,className:q.default.tabBarItem,id:K.UserProfileSections.MUTUAL_FRIENDS},void 0,z.default.Messages.MUTUAL_FRIENDS)))},n.render=function(){var e,t,n=this.props,r=n.user,a=n.activity,i=n.mutualGuilds,l=n.mutualFriends,s=n.connectedAccounts,u=n.section,d=n.theme,c=this.getMode();switch(u){case K.UserProfileSections.MUTUAL_GUILDS:t=ee(oe,{mutualGuilds:i||[],theme:d});break;case K.UserProfileSections.MUTUAL_FRIENDS:t=ee(se,{mutualFriends:l,theme:d});break;case K.UserProfileSections.USER_INFO:default:t=ee(re,{user:r,connectedAccounts:s||[],activity:a,theme:d})}return ee(x.default,{section:K.AnalyticsSections.PROFILE_MODAL},void 0,ee(M.default,{direction:M.default.Direction.VERTICAL,className:q.default.root},void 0,ee("div",{className:(0,j.getClass)(q.default,"topSection",c)},void 0,this.renderHeader(c),ee("div",{className:(0,o.default)((e={},e[q.default.headerFill]=null!=a,e))},void 0,null!=this.props.activity?ee(V.default,{type:V.default.Types.PROFILE,activity:this.props.activity,user:this.props.user,source:"Profile Modal",className:q.default.activity,onOpenConnections:f.default.close}):null,this.renderTabBar())),ee("div",{className:q.default.body},void 0,t)))},t}(a.PureComponent);pe.displayName="UserProfileBody";var he=i.default.connectStores([S.default,T.default,_.default,O.default],function(e){var t=e.user,n=O.default.getExperimentDescriptor();return{theme:S.default.theme,currentUserId:T.default.getCurrentUser().id,status:_.default.getStatus(t.id),showMobileIndicator:_.default.isMobileOnline(t.id),activity:_.default.getPrimaryActivity(t.id),hypeSquadKOHExperimentActive:null!=n&&-1!==n.bucket,isApplicationStreaming:null!=m.default.getStreamForUser(t.id)}})((0,v.default)(function(e){var t,n=e.guildId,r=e.user;return(t={})[n]=[r.id],t})(pe)),ve=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){f.default.close()},t}return te(t,e),t.prototype.render=function(){return a.createElement(he,Z({},this.props,{close:this.close}))},t}(a.PureComponent);ve.displayName="UserProfile",ve.modalConfig={store:E.default};var me=ve;t.default=me,e.exports=t.default},7102:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=p(n(3)),o=p(n(1)),i=p(n(865)),l=p(n(128)),s=p(n(28)),u=p(n(129)),d=p(n(85)),c=p(n(14)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=[];function m(e,t){var n=c.default.getUser(e);return null==n?null:{section:f.UserProfileSections.USER_INFO,user:n,relationshipType:d.default.getRelationshipType(e),guildId:t,mutualGuilds:[],mutualFriends:null,connectedAccounts:[],premiumSince:null}}function y(){if(0===v.length)return!1;v=v.reduce(function(e,t){var n=c.default.getUser(t.user.id);return null!=n&&e.push(h({},t,{user:n,relationshipType:d.default.getRelationshipType(t.user.id)})),e},[])}var _=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.syncWith([d.default,c.default],y)},o.isOpen=function(){return v.length>0},o.getProps=function(){return r.default.last(v)},a}(a.default.Store))(o.default,{USER_PROFILE_MODAL_OPEN:function(e){var t=m(e.userId,e.guildId);v=null==t?[]:[t]},USER_PROFILE_MODAL_CLOSE:function(e){v=[]},USER_PROFILE_MODAL_PUSH:function(e){var t=m(e.userId,e.guildId);null!=t&&(v=[].concat(v,[t]))},USER_PROFILE_MODAL_POP:function(e){v.pop()},USER_PROFILE_MODAL_SET_SECTION:function(e){var t=r.default.last(v);null!=t&&(e.section===f.UserProfileSections.MUTUAL_FRIENDS&&null==t.mutualFriends&&i.default.fetchMutualFriends(t.user.id),t.section=e.section,v=[].concat(v))},USER_PROFILE_MODAL_FETCH_SUCCESS:function(e){v=v.map(function(t){if(t.user.id===e.user.id){var n=[];e.mutual_guilds.forEach(function(e){var t=e.id,r=e.nick,a=s.default.getGuild(t);null!=a&&n.push({guild:a,nick:r})});var a=e.premium_since||null;return n=r.default.sortBy(n,function(e){return e.guild.name.toLowerCase()}),h({},t,{user:t.user.set("flags",e.user.flags),mutualGuilds:n,connectedAccounts:e.connected_accounts,premiumSince:null!=a?new Date(a):null})}return t})},LOAD_MUTUAL_FRIENDS:function(e){var t=r.default.findLast(v,function(t){return t.user.id===e.userId});null!=t&&(t.mutualFriends=(0,r.default)(e.mutualFriends).map(function(e){return{key:e.id,user:new l.default(e),status:u.default.getStatus(e.id),activity:u.default.getPrimaryActivity(e.id),mutualGuildsLength:t.mutualGuilds.length||0,mutualGuilds:t.mutualGuilds.slice(0,f.MAX_MUTUAL_GUILDS)}}).sortBy(function(e){return e.user.username.toLowerCase()}).value())}});t.default=_,e.exports=t.default},7103:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(840))&&r.__esModule?r:{default:r},o=n(0);var i=(0,a.default)(o.Experiments.HYPESQUAD_KOH_WINNER_BADGES,"HypeSquad King of the Hat Badge","Displays a unique badge for House Balance members in honor of winning the King of the Hat competition");t.default=i,e.exports=t.default},7104:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=N(n(6)),i=n(869),l=N(n(3)),s=N(n(446)),u=n(905),d=N(n(46)),c=N(n(7105)),f=N(n(148)),p=N(n(220)),h=N(n(6015)),v=N(n(6004)),m=N(n(6212)),y=N(n(6161)),_=N(n(125)),g=N(n(442)),E=A(n(107)),S=N(n(6311)),T=n(0),O=N(n(13)),I=N(n(5357)),C=N(n(5647));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleAutoThresholdChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.threshold;r&&r(a,e.currentTarget.checked)},t.handleSensitivityChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.autoThreshold;r&&r(-1*(100-e),a)},t}P(t,e);var n=t.prototype;return n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},n.renderAutomaticVADToggle=function(){var e=this,t=this.props.autoThreshold;return M(i.SmartUID,{},void 0,function(n){return M(f.default,{className:I.default.marginBottom4},void 0,M(E.default,{tag:E.Tags.H3},void 0,M("label",{htmlFor:n},void 0,O.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),M(y.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},n.renderSlider=function(){var e=this.props,t=e.autoThreshold,n=e.threshold;if(!t)return M(m.default,{defaultValue:n+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange})},n.render=function(){return M(g.default,{title:O.default.Messages.FORM_LABEL_INPUT_SENSITIVTY,className:I.default.marginBottom8},void 0,this.renderAutomaticVADToggle(),this.renderSlider())},t}(a.PureComponent);b.displayName="VoiceSensitivity";var R=function(e){var t,n=e.mediaEngineContext,r=e.inputMode,i=e.shortcut,l=e.delay,u=e.vadThreshold,d=e.vadAutoThreshold,c=e.inputDevices,f=e.inputDeviceId,p=e.inputVolume,y=e.outputDeviceId,_=e.outputDevices,E=e.outputVolume,C=e.speaking,N=o.default.first(c),A=null!=N&&N.disabled,P=o.default.first(_),R=null!=P&&P.disabled,L=[{value:T.InputModes.VOICE_ACTIVITY,name:O.default.Messages.INPUT_MODE_VAD},{value:T.InputModes.PUSH_TO_TALK,name:O.default.Messages.INPUT_MODE_PTT}];return t=r===T.InputModes.PUSH_TO_TALK?M(a.Fragment,{},void 0,M(g.default,{title:O.default.Messages.FORM_LABEL_SHORTCUT,className:I.default.marginBottom20},void 0,M(S.default,{defaultValue:i,onChange:function(e){return s.default.setMode(r,{shortcut:e},n)}})),M(g.default,{title:O.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY,className:I.default.marginBottom8},void 0,M(m.default,{defaultValue:l,onValueChange:function(e){return s.default.setMode(r,{delay:e},n)},onValueRender:function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+"ms"},maxValue:T.MAX_PTT_RELEASE_DELAY}))):M(b,{speaking:C,inputMode:r,threshold:u,autoThreshold:d,onThresholdChange:function(e,t){return s.default.setMode(r,{threshold:e,autoThreshold:t},n)}}),M(a.Fragment,{},void 0,M(g.default,{title:O.default.Messages.FORM_LABEL_INPUT_DEVICE,className:I.default.marginBottom20},void 0,M(v.default,{value:f,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return s.default.setInputDevice(t,"Voice Settings")},options:o.default.map(c,function(e){return{value:e.id,label:e.name}}),disabled:A})),M(g.default,{title:O.default.Messages.FORM_LABEL_INPUT_VOLUME,className:I.default.marginBottom20},void 0,M(m.default,{defaultValue:p,asValueChanges:function(e){return s.default.setInputVolume(e)}})),M(g.default,{title:O.default.Messages.FORM_LABEL_OUTPUT_DEVICE,className:I.default.marginBottom20},void 0,M(v.default,{value:y,clearable:!1,searchable:!1,onChange:function(e){var t=e.value;return s.default.setOutputDevice(t,"Voice Settings")},options:o.default.map(_,function(e){return{value:e.id,label:e.name}}),disabled:R})),M(g.default,{title:O.default.Messages.FORM_LABEL_OUTPUT_VOLUME,className:I.default.marginBottom20},void 0,M(m.default,{defaultValue:E/2,onValueRender:function(e){return(2*e).toFixed(0)+"%"},asValueChanges:function(e){return s.default.setOutputVolume(2*e)}})),M(g.default,{title:O.default.Messages.FORM_LABEL_INPUT_MODE,className:I.default.marginBottom20},void 0,M(h.default,{onChange:function(e){var t=e.value;return s.default.setMode(t,{},n)},options:L,value:r})),t)};R.displayName="Content";var L=l.default.connectStores([d.default],function(e){var t=e.mediaEngineContext;return{inputVolume:d.default.getInputVolume(),outputVolume:d.default.getOutputVolume(),inputDeviceId:d.default.getInputDeviceId(),inputDevices:d.default.getInputDevices(),outputDevices:d.default.getOutputDevices(),outputDeviceId:d.default.getOutputDeviceId(),inputMode:d.default.getMode(t),shortcut:d.default.getModeOptions(t).shortcut,vadThreshold:d.default.getModeOptions(t).threshold,vadAutoThreshold:d.default.getModeOptions(t).autoThreshold,delay:d.default.getModeOptions(t).delay}})(R),D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props.onClose;(0,u.closeModal)(),null!=e&&e()},t}return P(t,e),t.prototype.render=function(){var e=this.props,t=e.mediaEngineContext,n=e.title;return M(p.default,{},void 0,M(p.default.Header,{},void 0,M(f.default.Child,{},void 0,M(E.default,{tag:E.default.Tags.H2,className:I.default.marginReset},void 0,O.default.Messages.VOICE_SETTINGS),M(_.default,{size:_.default.Sizes.SMALL,color:_.default.Colors.PRIMARY,className:C.default.title},void 0,n)),M(f.default.Child,{grow:0},void 0,M(p.default.CloseButton,{onClick:this.close}))),M(p.default.Content,{},void 0,M(L,{mediaEngineContext:t})))},t}(a.PureComponent);t.default=D,D.displayName="VoiceSettingsModal",D.modalConfig={closable:!0,store:c.default},e.exports=t.default},7105:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l=d(n(3)),s=d(n(1)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){a=null,r=null,o=null,null!=i&&(i(),i=null)}var f=new(function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=i.prototype;return l.isOpen=function(){var e=__OVERLAY__?u.AppContext.OVERLAY:u.AppContext.APP;return null!=a&&r===e},l.getProps=function(){return{mediaEngineContext:a,title:o}},i}(l.default.Store))(s.default,{VOICE_SETTINGS_MODAL_OPEN:function(e){a=e.mediaEngineContext,r=e.appContext,o=e.title,i=e.resolve},VOICE_SETTINGS_MODAL_CLOSE:function(e){return c()},RPC_APP_DISCONNECTED:function(e){return c()},OVERLAY_SET_INPUT_LOCKED:function(e){return!(!e.locked||null==r||(c(),0))}});t.default=f,e.exports=t.default},7106:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.MESSAGE_SOUND_VOLUME=t.MESSAGE_SOUND=void 0;var r=E(n(3)),a=E(n(1)),o=E(n(443)),i=E(n(473)),l=E(n(18)),s=E(n(9)),u=n(6458),d=E(n(935)),c=E(n(44)),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(462)),p=E(n(20)),h=E(n(859)),v=E(n(49)),m=E(n(319)),y=E(n(14)),_=n(0),g=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}var S="message1";t.MESSAGE_SOUND=S;var T=.4;t.MESSAGE_SOUND_VOLUME=T;var O="message2",I=.4,C=s.default.hasFocus(),N=new(function(){function e(){this._channels={}}var t=e.prototype;return t.track=function(e,t){var n=this._channels[e];for(null==n&&(n=[],this._channels[e]=n),n.push(t);n.length>5;)n.shift().close()},t.clearChannel=function(e){var t=this._channels[e];null!=t&&(delete this._channels[e],t.forEach(function(e){return e.close()}))},e}());var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(y.default,p.default,h.default)},r}(r.default.Store))(a.default,__OVERLAY__?{}:{NOTIFICATIONS_SET_PERMISSION_STATE:function(e){e.enabled!==_.NotificationPermissionTypes.ENABLED||s.default.embedded||d.default.showNotification(n(925),g.default.Messages.NOTIFICATION_TITLE_DISCORD,g.default.Messages.BROWSER_NOTIFICATIONS_ENABLED_BODY,{sound:S,volume:T,tag:"hello",onClick:function(){window.focus()}})},NOTIFICATION_CREATE:function(e){var t=e.icon,n=e.title,r=e.body,a=e.options;return h.default.getDesktopType()!==_.DesktopNotificationTypes.NEVER&&m.default.getStatus()!==_.StatusTypes.DND&&(d.default.showNotification(t,n,r,a),!1)},WINDOW_FOCUS:function(e){if(C=e.focused){var t=v.default.getChannelId();null!=t&&N.clearChannel(t)}},MESSAGE_CREATE:function(e){var t=e.channelId,r=e.message,o=p.default.getChannel(t),s=y.default.getUser(r.author.id);if(null==o||null==s)return!1;if(!(0,u.shouldNotify)(r,t))return!1;var m=n(464),g=n(182);if(null!=m.getFocusedPID()&&g.getTextChatNotificationMode()===_.OverlayNotificationTextChatTypes.ENABLED)return!1;if(C&&t===v.default.getChannelId())return!1;var E=(0,u.makeTextChatNotification)(o,r,s),O=E.icon,I=E.title,A=E.body;a.default.dirtyDispatch({type:_.ActionTypes.RPC_NOTIFICATION_CREATE,channelId:o.id,message:r,icon:O,title:I,body:A});var M=!h.default.isSoundDisabled(S);if(h.default.getDesktopType()===_.DesktopNotificationTypes.NEVER)return M&&f.playSound(S,T),!1;var P=d.default.showNotification(O,I,A,{tag:o.id,sound:M?S:null,volume:T,onClick:function(){l.default.track(_.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:_.ActionTypes.MESSAGE_CREATE,notif_user_id:r.author.id,message_id:r.id,message_type:r.type,channel_id:o.id,channel_type:o.type,guild_id:o.guild_id}),c.default.transitionTo(_.Routes.CHANNEL(o.getGuildId()||_.ME,o.id)),i.default.clickedNotification()}});null!=P&&N.track(o.id,P)},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&N.clearChannel(t),!1},MESSAGE_ACK:function(e){var t=e.channelId;return N.clearChannel(t),!1},ACTIVITY_START:function(e){var t=e.userId,n=e.activity;if(h.default.getDesktopType()===_.DesktopNotificationTypes.NEVER)return!1;if(m.default.getStatus()===_.StatusTypes.DND)return!1;switch(n.type){case _.ActivityTypes.PLAYING:var r=y.default.getUser(t);if(null==r)return!1;var a=r.toString(),i=n.name,s=r.getAvatarURL(),u=g.default.Messages.NOTIFICATION_TITLE_START_GAME,c=g.default.Messages.NOTIFICATION_BODY_START_GAME.format({username:a,gameName:i});return d.default.showNotification(s,u,c,{sound:O,playSoundIfDisabled:!1,volume:I,onClick:function(){l.default.track(_.AnalyticEvents.NOTIFICATION_CLICKED,{notif_type:_.ActionTypes.ACTIVITY_START,activity_type:_.ActivityTypes.PLAYING,notif_user_id:t,activity_name:i}),o.default.openPrivateChannel(y.default.getCurrentUser().id,t)}}),!1;default:return!1}}});t.default=A},7146:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(21)),o=d(n(1)),i=d(n(12)),l=d(n(20)),s=d(n(319)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f="IncomingCallStore",p={width:240,height:340},h=10,v=new Set,m=Object.freeze({}),y={},_=new Set,g=0,E=0,S=!1;function T(e){return null!=e&&(null!=y[e]&&(delete y[e],y=c({},y),void(_=new Set(_)).delete(e)))}function O(e){var t=e.channelId,n=e.ringing.includes(i.default.getId());if(!_.has(t)&&n){var r,a=l.default.getChannel(t);if(null==a)return!1;var o=h*_.size;y=c({},y,((r={})[t]={channel:a,x:g+o,y:E+o},r)),(_=new Set(_)).add(t)}else{if(!_.has(t)||n)return!1;T(t)}}function I(){S=s.default.getStatus()===u.StatusTypes.DND}!function(){var e=a.default.get(f);if(e)g=+e.x,E=+e.y;else{var t=n(151).windowSize();g=t.width/2-p.width/2,E=t.height/2-p.height/2}}();var C=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,s.default),this.syncWith([s.default],I)},a.getIncomingCalls=function(){return S?m:y},a.getIncomingCallChannelIds=function(){return S?v:_},a.getFirstIncomingCallId=function(){return S?null:_.values().next().value},a.hasIncomingCalls=function(){return!S&&_.size>0},r}(r.default.Store))(o.default,{CALL_CREATE:O,CALL_UPDATE:O,CALL_DELETE:function(e){return T(e.channelId)},VOICE_CHANNEL_SELECT:function(e){return T(e.channelId)},INCOMING_CALL_MOVE:function(e){var t=e.x,n=e.y;return g=t,E=n,a.default.set(f,{x:g,y:E}),!1},CHANNEL_DELETE:function(e){return T(e.channel.id)}});t.default=C,e.exports=t.default},7147:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(8)),a=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){return location.protocol+"//"+location.host+e},l={get:function(){return r.default.get(i("/__development/build_overrides")).then(function(e){return e.body||{}})},put:function(e){return r.default.put({url:i("/__development/build_overrides"),body:e,headers:{Authorization:a.default.getToken()||""}}).catch(function(e){return e})},clear:function(){return r.default.delete({url:i("/__development/build_overrides")})},getPublicLink:function(e){return r.default.post({url:i("/__development/create_build_override_link"),body:e,headers:{Authorization:a.default.getToken()||""}}).then(function(e){return{url:e.body.url,error:!1}},function(e){return 400===e.status?{url:!1,error:e.body}:{url:!1,error:"Error making API request ("+e.status+")"}})},shouldCheckForBuildOverride:function(){return-1!==window.document.cookie.indexOf("buildOverride=")},EXPIRATION_OPTIONS:[{value:3600,label:"1 Hour"},{value:86400,label:"1 Day"},{value:259200,label:"3 Days"},{value:604800,label:"1 Week"},{value:1209600,label:"2 Weeks"},{value:1814400,label:"3 Weeks"},{value:2628e3,label:"1 Month"}]};t.default=l,e.exports=t.default},7148:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.StatusItem=t.PopoutMenuSeparator=t.PopoutMenuItemLabel=t.PopoutMenuItem=t.PopoutMenuIcon=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(303)),l=n(6464),s=d(n(6490)),u=d(n(5761));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.icon;return f("div",{className:u.default.icon,style:{backgroundImage:'url("'+t+'")'}})};t.PopoutMenuIcon=p,p.displayName="PopoutMenuIcon";var h=function(e){var t=e.children,n=e.type,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","type"]);return a.createElement("div",c({className:(0,o.default)(u.default.item,null!=n?u.default[n]:null)},r),t)};t.PopoutMenuItem=h,h.displayName="PopoutMenuItem";var v=function(e){var t=e.children;return f("div",{className:u.default.label},void 0,t)};t.PopoutMenuItemLabel=v,v.displayName="PopoutMenuItemLabel";var m=function(){return f("div",{className:u.default.separator})};t.PopoutMenuSeparator=m,m.displayName="PopoutMenuSeparator";var y=function(e){var t=e.status,n=e.children,r=e.onSelect;return f(h,{onClick:function(){return r(t)}},void 0,f("div",{className:u.default.statusIconText},void 0,f(s.default,{defaultStatus:t,style:{marginRight:14},hideTooltip:!0}),f("div",{},void 0,(0,l.humanizeStatus)(t))),f("div",{className:u.default.helper},void 0,n))};t.StatusItem=y,y.displayName="StatusItem";var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.className,r=t.alt;return f(i.default.div,{className:(0,o.default)(n,u.default.menu,(e={},e[u.default.alt]=r,e))},void 0,this.props.children)},r}(a.PureComponent);_.displayName="PopoutMenu";var g=_;t.default=g},7149:function(e,t,n){"use strict";t.__esModule=!0,t.getUserSettingsSections=function(){return Q().filter(function(e){var t=e.section;return t!==S.SectionTypes.HEADER&&t!==S.SectionTypes.CUSTOM&&t!==S.SectionTypes.DIVIDER}).filter(function(e){return null==e.predicate||e.predicate()})},t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=z(n(3)),i=z(n(839)),l=z(n(6788)),s=n(830),u=z(n(77)),d=z(n(824)),c=z(n(483)),f=z(n(46)),p=z(n(464)),h=z(n(7489)),v=z(n(35)),m=z(n(125)),y=z(n(177)),_=z(n(9)),g=z(n(5996)),E=z(n(6304)),S=n(6056),T=z(n(445)),O=z(n(7490)),I=z(n(7491)),C=z(n(7528)),N=z(n(7532)),A=z(n(7536)),M=z(n(7541)),P=z(n(7544)),b=z(n(7547)),R=z(n(7549)),L=z(n(7550)),D=z(n(7553)),w=z(n(7556)),U=z(n(7574)),k=z(n(7577)),G=z(n(7580)),F=z(n(7581)),j=z(n(7582)),x=z(n(7596)),B=z(n(7597)),H=z(n(7599)),V=z(n(7600)),Y=z(n(7610)),W=n(0),K=z(n(13));function z(e){return e&&e.__esModule?e:{default:e}}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var X=Y.default;function Q(){return[{section:S.SectionTypes.HEADER,label:K.default.Messages.USER_SETTINGS},{section:W.UserSettingsSections.ACCOUNT,label:K.default.Messages.USER_SETTINGS_MY_ACCOUNT,element:I.default},{section:W.UserSettingsSections.PRIVACY_AND_SAFETY,label:K.default.Messages.PRIVACY_AND_SAFETY,element:x.default},{section:W.UserSettingsSections.AUTHORIZED_APPS,label:K.default.Messages.AUTHORIZED_APPS,element:A.default},{section:W.UserSettingsSections.CONNECTIONS,label:K.default.Messages.CONNECTIONS,element:P.default},{section:W.UserSettingsSections.BILLING,label:K.default.Messages.BILLING,element:M.default},{section:S.SectionTypes.DIVIDER},{section:W.UserSettingsSections.PREMIUM,label:K.default.Messages.PREMIUM_TITLE,element:j.default,color:W.Colors.BRAND},{section:W.UserSettingsSections.HYPESQUAD_ONLINE,label:K.default.Messages.USER_SETTINGS_HYPESQUAD,element:w.default},{section:S.SectionTypes.DIVIDER},{section:S.SectionTypes.HEADER,label:K.default.Messages.APP_SETTINGS},{section:W.UserSettingsSections.VOICE,label:K.default.Messages.VOICE_AND_VIDEO,element:V.default,predicate:function(){return f.default.isSupported()}},{section:W.UserSettingsSections.OVERLAY,label:K.default.Messages.OVERLAY,element:F.default,predicate:function(){return p.default.isSupported()}},{section:W.UserSettingsSections.NOTIFICATIONS,label:K.default.Messages.NOTIFICATIONS,element:G.default},{section:W.UserSettingsSections.KEYBINDS,label:K.default.Messages.KEYBINDS,element:U.default,predicate:function(){return _.default.embedded||!1}},{section:W.UserSettingsSections.GAME_ACTIVITY,label:K.default.Messages.USER_SETTINGS_GAME_ACTIVITY,element:L.default,predicate:function(){return _.default.embedded||!1}},{section:W.UserSettingsSections.ACTIVITY_FEED,label:K.default.Messages.USER_SETTINGS_ACTIVITY_FEED,element:C.default},{section:W.UserSettingsSections.GAME_LIBRARY,label:K.default.Messages.USER_SETTINGS_GAME_LIBRARY,element:D.default,predicate:function(){return _.default.isWindows()||!1}},{section:W.UserSettingsSections.TEXT,label:K.default.Messages.TEXT_AND_IMAGES,element:H.default},{section:W.UserSettingsSections.APPEARANCE,label:K.default.Messages.APPEARANCE,element:N.default},{section:W.UserSettingsSections.STREAMER_MODE,label:K.default.Messages.STREAMER_MODE,element:B.default},{section:W.UserSettingsSections.LOCALE,label:K.default.Messages.LANGUAGE,element:k.default},{section:W.UserSettingsSections.WINDOWS,label:K.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS,element:Y.default,predicate:function(){return _.default.embedded&&_.default.isWindows()}},{section:W.UserSettingsSections.LINUX,label:K.default.Messages.USER_SETTINGS_LINUX_SETTINGS,element:X,predicate:function(){return _.default.embedded&&_.default.isLinux()}},{section:S.SectionTypes.DIVIDER},{section:"changelog",onClick:function(){return l.default.showChangeLog()},label:K.default.Messages.CHANGE_LOG},{section:W.UserSettingsSections.EXPERIMENTS,label:"Experiments",element:R.default,predicate:function(){return c.default.isDeveloper}},{section:W.UserSettingsSections.DEVELOPER_OPTIONS,label:"Developer Options",element:b.default,predicate:function(){return c.default.isDeveloper}},{section:S.SectionTypes.DIVIDER},{section:"logout",onClick:function(){u.default.push(function(e){return a.createElement(T.default,$({header:K.default.Messages.LOGOUT,confirmText:K.default.Messages.LOGOUT,cancelText:K.default.Messages.CANCEL,onConfirm:function(){return i.default.logout()}},e),q(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,K.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},label:K.default.Messages.LOGOUT,color:W.Colors.STATUS_RED},{section:S.SectionTypes.DIVIDER},{section:S.SectionTypes.CUSTOM,element:O.default}]}function J(e,t){void 0===t&&(t=null),y.default.trackWithMetadata(W.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",origin_pane:t,destination_pane:e})}var Z=o.default.connectStores([h.default,v.default],function(){return{theme:v.default.theme,section:h.default.getSection()}})(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){J(this.props.section)},a.componentDidUpdate=function(e){var t=e.section,n=this.props.section;n!==t&&J(n,t)},a.generateSections=function(){return Q()},a.render=function(){var e=this.props,t=e.theme,n=e.section;return q(g.default,{root:!0,page:W.AnalyticsPages.USER_SETTINGS},void 0,q(E.default,{theme:t,section:n,onSetSection:d.default.setSection,onClose:s.popLayer,sections:this.generateSections()}))},r}(a.PureComponent));t.default=Z},7150:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(14)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={avatar:null,discriminator:"",username:"",email:"",password:"",newPassword:null},d=i.FormStates.CLOSED,c=null,f=null,p=s({},u),h=!1,v=null,m=null,y=null;function _(){d=i.FormStates.OPEN,c={},f=o.default.getCurrentUser(),p=s({},u),h=null!=f.email,v=f.verified,y=!1,h?m=!1:g({isEditingProfile:!0})}function g(e){(m=e.isEditingProfile)&&null!=f?p={avatar:f.avatar,discriminator:f.discriminator,username:f.username,email:f.email,password:"",newPassword:null}:(d=i.FormStates.OPEN,p=s({},u),c={},y=!1)}var E=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getState=function(){return{formState:d,errors:c,user:f,accountInfo:p,claimed:h,verified:v,isEditingProfile:m,isEditingPassword:y}},r}(r.default.Store))(a.default,{USER_SETTINGS_ACCOUNT_INIT:function(e){return _()},USER_SETTINGS_MODAL_INIT:function(e){return _()},USER_SETTINGS_ACCOUNT_SUBMIT_SUCCESS:function(e){return _()},USER_SETTINGS_MODAL_SET_SECTION:function(e){return e.section===i.UserSettingsSections.ACCOUNT&&_()},USER_SETTINGS_ACCOUNT_CLOSE:function(e){return d=i.FormStates.CLOSED,c=null,f=null,p=s({},u),h=!1,v=null,m=null,void(y=null)},USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PROFILE:g,USER_SETTINGS_ACCOUNT_TOGGLE_EDITING_PASSWORD:function(e){var t=null;(y=e.isEditingPassword)&&(t=""),p=s({},p,{newPassword:t})},USER_SETTINGS_ACCOUNT_UPDATE_INFO:function(e){var t=e.update;p=s({},p,t)},USER_SETTINGS_ACCOUNT_SUBMIT:function(e){return d=i.FormStates.SUBMITTING,void(c={})},USER_SETTINGS_ACCOUNT_SUBMIT_FAILURE:function(e){if(d!==i.FormStates.SUBMITTING)return!1;d=i.FormStates.OPEN,c=e.errors||{}},CURRENT_USER_UPDATE:function(e){var t=e.user;h=null!=t.email;var n=!v;v=t.verified,n&&v&&g({isEditingProfile:!1})}});t.default=E,e.exports=t.default},7156:function(e,t,n){"use strict";t.__esModule=!0,t.generateTotpSecret=function(){return e=function(e){void 0===e&&(e=10);return o.getRandomValues(new Uint8Array(e))}(),a.default.encode(e).toString("utf8").replace(/=/g,"").toLowerCase().replace(/(\w{4})/g,"$1 ").trim();var e},t.encodeTotpSecret=l,t.encodeTotpSecretAsUrl=function(e,t,n){void 0===n&&(n="Discord");return"otpauth://totp/"+encodeURI(n)+":"+encodeURI(e)+"?secret="+l(t)+"&issuer="+encodeURIComponent(n)},t.hasCrypto=void 0;var r,a=(r=n(7514))&&r.__esModule?r:{default:r};var o=window&&window.crypto||window.msCrypto,i=o&&"getRandomValues"in o&&"Uint8Array"in window;function l(e){return e.replace(/[\s._-]+/g,"").toUpperCase()}t.hasCrypto=i},7157:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(7516),o=l(n(88)),i=l(n(9));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function l(){return e.apply(this,arguments)||this}n=e,(t=l).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=l.prototype;return s.getFileContents=function(){var e=this.props.fileContents;return"function"==typeof e&&(e=e()),e},s.handleFileDownload=function(e){e.preventDefault();var t=this.getFileContents(),n=this.props.fileName;i.default.embedded?this.downloadNative(t,n):this.downloadHtml5(t,n)},s.downloadNative=function(e,t){o.default.fileManager.saveWithDialog(e,t)},s.downloadHtml5=function(e,t){var n=new Blob([e],{type:this.props.contentType});(0,a.saveAs)(n,t)},s.render=function(){var e=this.props.children,t=r.Children.only(e);return r.cloneElement(t,{onClick:this.handleFileDownload.bind(this)})},l}(r.Component);t.default=s,s.displayName="FileDownloader",e.exports=t.default},7159:function(e,t,n){e.exports=n.p+"0694f38cb0b10cc3b5b89366a0893768.svg"},7161:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5777));function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.tag,n=e.children,r=e.hoverText,l=e.className,d=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["tag","children","hoverText","className"]);return a.createElement("div",s({},d,{className:(0,o.default)(l,i.default.hoverRoll)}),u(t,{className:i.default.default},void 0,n),u(t,{className:i.default.hovered},void 0,r))},r}(a.PureComponent);d.displayName="HoverRoll",d.defaultProps={tag:"div"};var c=d;t.default=c,e.exports=t.default},7162:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=s(n(8)),o=s(n(1)),i=n(441),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=((r={})[l.HypeSquadHouses.HOUSE_1]=1,r[l.HypeSquadHouses.HOUSE_2]=2,r[l.HypeSquadHouses.HOUSE_3]=3,r),d={joinHypeSquadOnline:function(e){return a.default.post({url:l.Endpoints.HYPESQUAD_ONLINE,body:{house_id:u[e.houseID]}}).then(function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS,houseID:e.houseID})}).catch(function(e){throw new i.APIError(e)})},leaveHypeSquadOnline:function(){return a.default.delete({url:l.Endpoints.HYPESQUAD_ONLINE}).then(function(){return o.default.dispatch({type:l.ActionTypes.HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS})}).catch(function(e){throw new i.APIError(e)})}};t.default=d,e.exports=t.default},7163:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={addKeybind:function(){a.default.dispatch({type:o.ActionTypes.KEYBINDS_ADD_KEYBIND})},setKeybind:function(e){a.default.dispatch({type:o.ActionTypes.KEYBINDS_SET_KEYBIND,keybind:e})},deleteKeybind:function(e){a.default.dispatch({type:o.ActionTypes.KEYBINDS_DELETE_KEYBIND,id:e})},enableAll:function(e){a.default.dirtyDispatch({type:o.ActionTypes.KEYBINDS_ENABLE_ALL_KEYBINDS,enable:e})}};t.default=i,e.exports=t.default},7164:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(124)),i=s(n(6196)),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).cancel=function(){var e=t.props.onClose;e&&e()},t.confirm=function(){var e=t.props,n=e.onConfirm,r=e.onClose;r&&r(),n()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return u(i.default,{},void 0,u(i.default.Header,{},void 0,l.default.Messages.PREMIUM_GRANDFATHERED_WARNING_TITLE),u(i.default.Content,{type:i.default.Types.GRANDFATHERED},void 0,l.default.Messages.PREMIUM_GRANDFATHERED_WARNING.format()),u(i.default.Footer,{secondary:{onClick:this.cancel,label:l.default.Messages.NEVERMIND},primaryRenderer:u(o.default,{color:o.default.Colors.RED,onClick:this.confirm},void 0,l.default.Messages.PREMIUM_GRANDFATHERED_WARNING_CONFIRM)}))},r}(a.Component);d.displayName="GrandfatheredWarningModal";var c=d;t.default=c,e.exports=t.default},7165:function(e,t,n){"use strict";t.__esModule=!0,t.getSanitizedRestrictedGuilds=function(){var e=o.default.restrictedGuilds;0===r.default.totalUnavailableGuilds&&(e=e.filter(function(e){return null!=a.default.getGuild(e)}));return e},t.computeFlags=function(){var e,t,n=o.default.friendSourceFlags;return n[l.FriendSourceFlagKeys.ALL]?((t={})[l.FriendSourceFlagKeys.ALL]=!0,t[l.FriendSourceFlagKeys.FRIENDS]=!0,t[l.FriendSourceFlagKeys.GUILDS]=!0,t):((e={})[l.FriendSourceFlagKeys.ALL]=!1,e[l.FriendSourceFlagKeys.FRIENDS]=!!n[l.FriendSourceFlagKeys.FRIENDS],e[l.FriendSourceFlagKeys.GUILDS]=!!n[l.FriendSourceFlagKeys.GUILDS],e)},t.harvestDisabled=function(e,t){if(!t.verified)return!0;if(null==e)return!1;return u>Date.now()-new Date(e.created_at).getTime()},t.trackPaneViewed=function(e){i.default.track(l.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"user",destination_pane:e})};var r=s(n(237)),a=s(n(28)),o=s(n(35)),i=s(n(18)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=864e5*l.REQUEST_DATA_LIMIT_DAYS},7166:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(840))&&r.__esModule?r:{default:r},o=n(0);var i=(0,a.default)(o.Experiments.AUDIO_ISSUE_NOTICE_MIC_TESTER,"Audio Issue Notice - Mic Tester","Modifies the no audio detected nag bar to link to user settings voice as well as adding a mic tester in user settings voice.");t.default=i,e.exports=t.default},7167:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(840))&&r.__esModule?r:{default:r},o=n(0);var i=(0,a.default)(o.Experiments.AUDIO_ISSUE_NOTICE_MIC_TESTER_WEB,"Audio Issue Notice - Mic Tester - Web","Modifies the no audio detected nag bar to link to user settings voice as well as adding a mic tester in user settings voice.");t.default=i,e.exports=t.default},7168:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=d(n(3)),i=d(n(1)),l=d(n(131)),s=d(n(57)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,l=r.prototype;return l.initialize=function(){this.syncWith([s.default],function(){return!0})},l.getExperimentId=function(){return u.Experiments.ACTIVITY_PANEL},l.getMetaData=function(){return{title:"Activity Panel",description:["Activity Panel","Control: No Activity Panel","Treatment 1: Activity Panel (RP games only)"]}},l.getExperimentDescriptor=function(){return s.default.getEligibleExperiment(this.getExperimentId())},a=r,(o=[{key:"inExperiment",get:function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===u.ExperimentBuckets.TREATMENT_1}}])&&c(a.prototype,o),i&&c(a,i),r}(o.default.Store))(i.default);l.default.register(f,((a={})[u.ExperimentTypes.USER]=((r={})[u.ExperimentBuckets.CONTROL]=function(){return null},r[u.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var p=f;t.default=p,e.exports=t.default},7169:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(6165)),i=g(n(20)),l=g(n(28)),s=g(n(14)),u=g(n(448)),d=g(n(220)),c=n(6697),f=g(n(438)),p=g(n(107)),h=g(n(6035)),v=n(0),m=g(n(13)),y=g(n(5357)),_=g(n(5811));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e){var t=[];return u.default.getPrivateChannelIds().forEach(function(n){var r=i.default.getChannel(n);if(null!=r)if(r.type===v.ChannelTypes.DM){var a=r.getRecipientId(),o=null!=a?s.default.getUser(a):null;null!=o&&t.push(e.createResult(v.AutocompleterResultTypes.USER,o))}else r.type===v.ChannelTypes.GROUP_DM&&t.push(e.createResult(v.AutocompleterResultTypes.GROUP_DM,r))}),t}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={autocompleter:null,results:[],query:"",selectedRow:0,sendingRecordId:null,keyboardMode:!0},t.close=function(){var e=t.props.onClose;null!=e&&e()},t.handleKeyDown=function(){t.state.keyboardMode||t.setState({keyboardMode:!0})},t.disableKeyboardMode=function(){t.setState({keyboardMode:!1})},t.handleMouseEnter=function(e){t.state.keyboardMode||t.setState({selectedRow:e})},t.handleSend=function(e){var n=t.props,r=n.sendToChannel,a=n.sendToUser,o=t.state.results[e],i=null!=o?o.record:null,l=t.state.sendingRecordId;if(null!=i&&null!=i.id&&null!=o&&null==l)switch(t.setState({sendingRecordId:i.id}),o.type){case v.AutocompleterResultTypes.GROUP_DM:case v.AutocompleterResultTypes.TEXT_CHANNEL:r(o);break;case v.AutocompleterResultTypes.USER:a(o)}},t.handleSelect=function(e,n){null==n?t.handleClear():t.handleSend(n)},t.handleSelectionChange=function(e,n){t.setState({selectedRow:n})},t.handleQueryChange=function(e){t.query(e)},t.handleClear=function(){t.query("")},t._handleModalRef=function(e){t._modal=e},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){var e=this,t=new o.default(function(t){var n=t.results;e.setState(function(){return{results:n}})},[v.AutocompleterResultTypes.TEXT_CHANNEL,v.AutocompleterResultTypes.GROUP_DM,v.AutocompleterResultTypes.USER],S);t.search("");var n=t.results;this.setState(function(){return{autocompleter:t,results:n}})},i.componentDidUpdate=function(e,t){var n=this.state.query,r=this.getScroller();n!==t.query&&null!=r&&r.scrollTo(0,!1)},i.componentWillUnmount=function(){var e=this.state.autocompleter;null!=e&&e.destroy()},i.getScroller=function(){return null!=this._modal?this._modal.getScroller():null},i.query=function(e){var t=this.state,n=t.results,r=t.autocompleter;null!=r&&(r.search(e),n=r.results),this.setState({query:e,selectedRow:0,results:n})},i.scrollIntoView=function(e){var t=this.state.keyboardMode,n=this.getScroller();t&&null!=n&&n.scrollIntoViewRect(34*e-10,34*e+34+10)},i.renderResult=function(e,t){var n=this,r=this.state,a=r.selectedRow,o=r.sendingRecordId;switch(e.type){case v.AutocompleterResultTypes.TEXT_CHANNEL:var i=l.default.getGuild(e.record.guild_id);return E(c.Channel,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record},e.type+"-"+e.record.id,E("div",{className:_.default.miscContainer},void 0,o===e.record.id?E(f.default,{type:f.default.Type.PULSING_ELLIPSIS}):null!=i?i.name:null));case v.AutocompleterResultTypes.GROUP_DM:return E(c.GroupDM,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},channel:e.record,mentions:0},e.type+"-"+e.record.id,o===e.record.id?E(f.default,{type:f.default.Type.PULSING_ELLIPSIS}):null);case v.AutocompleterResultTypes.USER:return E(c.User,{focused:a===t,onClick:function(){return n.handleSend(t)},onFocus:function(){return n.scrollIntoView(t)},onMouseEnter:function(){return n.handleMouseEnter(t)},user:e.record,mentions:0,comparator:e.comparator},e.type+"-"+e.record.id,o===e.record.id?E(f.default,{type:f.default.Type.PULSING_ELLIPSIS}):null)}},i.render=function(){var e=this.props,t=e.className,n=e.renderFooter,r=e.title,o=this.state,i=o.query,l=o.selectedRow,s=o.results,u=o.keyboardMode;return E("div",{className:_.default.wrapper,onMouseMove:u?this.disableKeyboardMode:null},void 0,a.createElement(d.default,{size:_.default.modalSize,ref:this._handleModalRef,className:t},E(d.default.Header,{},void 0,E(d.default.CloseButton,{className:_.default.closeButton,onClick:this.close}),E("div",{className:_.default.header},void 0,E(p.default,{tag:p.default.Tags.H2,className:y.default.marginBottom8},void 0,r),E(h.default,{size:h.default.Sizes.MEDIUM,query:i,selectedSection:0,selectedRow:l,sections:[s.length],className:_.default.queryInput,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onKeyDown:this.handleKeyDown,placeholder:m.default.Messages.ACTIVITY_FEED_SHARE_MODAL_SEARCH_PLACEHOLDER,autoFocus:!0,onClear:this.handleClear}))),0===s.length?E("div",{className:_.default.noResults}):E(d.default.LazyContent,{elementHeight:34,paddingBottom:20,keyboardScroll:!0},void 0,s.map(this.renderResult,this)),null!=n?n():null))},r}(a.PureComponent);t.default=T,T.displayName="ChannelSelectModal",e.exports=t.default},7170:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(17)),i=n(223),l=v(n(5992)),s=h(n(148)),u=h(n(301)),d=h(n(6465)),c=h(n(7623)),f=n(0),p=h(n(5815));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var h=r.prototype;return h.renderActivity=function(){var e=this.props.activity;return null==e?null:y(s.default,{className:p.default.activity,align:s.default.Align.CENTER},void 0,y("div",{className:p.default.activityText},void 0,(0,i.renderActivity)(e)),(0,i.hasRichActivity)(e)?y(u.default,{name:u.default.Names.RICH_ACTIVITY,className:p.default.activityIcon,foreground:p.default.activityIconForeground}):null)},h.render=function(){var e,t=this.props,n=t.user,r=t.nick,s=t.colorString,u=t.className,h=t.darkenColor,v=t.status,_=t.isTyping,g=t.isOwner,E=t.ownerTooltipText,S=t.activity,T=t.shouldAnimateTypingIndicator,O=t.showMobileIndicator,I=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["user","nick","colorString","className","darkenColor","status","isTyping","isOwner","ownerTooltipText","activity","shouldAnimateTypingIndicator","showMobileIndicator"]);if(null==n)return y(c.default,{avatarSize:l.AvatarSizes.SMALL,className:p.default.placeholder});var C={};null!=s&&(C.color=s);var N=v===f.StatusTypes.OFFLINE,A=N?p.default.avatarOffline:null,M=N?p.default.memberOffline:p.default.memberOnline,P=N?p.default.usernameOffline:p.default.usernameOnline,b=(0,i.isStreaming)(S)?l.default.Statuses.STREAMING:v;return b=N?null:b,a.createElement("div",m({},I,{className:(0,o.default)(M,u)}),y("div",{className:p.default.content},void 0,y("span",{className:p.default.avatarWrapper},void 0,y(l.default,{size:l.default.Sizes.SMALL,src:n.getAvatarURL(),className:A,status:b,statusClassName:T?p.default.statusAnimated:p.default.statusStatic,isTyping:_,shouldAnimateTypingIndicator:T})),y("div",{className:p.default.memberInner},void 0,y(d.default,{className:(0,o.default)(p.default.nameTag,(e={},e[p.default.darken]=null!=s&&h,e)),usernameClass:P,hideDiscriminator:!0,nick:r,isOwner:g,ownerTooltipText:E,ownerIconClass:p.default.ownerIcon,user:n,style:C,showMobileIndicator:O,mobileIndicatorClassName:p.default.mobileIndicator}),this.renderActivity())))},r}(a.PureComponent);_.displayName="MemberListItem",_.defaultProps={shouldAnimateTypingIndicator:!0};var g=_;t.default=g,e.exports=t.default},7171:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.BackgroundTransition=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(6)),s=h(n(303)),u=n(78),d=h(n(826)),c=h(n(148)),f=n(0),p=h(n(5820));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=((r={})[f.ChannelLayouts.NORMAL]=p.default.normal,r[f.ChannelLayouts.MINIMUM]=p.default.minimum,r[f.ChannelLayouts.NO_CHAT]=p.default.noChat,r[f.ChannelLayouts.FULL_SCREEN]=p.default.fullScreen,r),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={animation:new s.default.Value(0)},n}m(t,e);var n=t.prototype;return n.componentDidAppear=function(){this.state.animation.setValue(1)},n.componentWillEnter=function(e){var t=this.state.animation;t.setValue(0),s.default.spring(t,{toValue:1,overshootClamping:!0}).start(e)},n.componentWillLeave=function(e){s.default.spring(this.state.animation,{toValue:0,overshootClamping:!0}).start(e)},n.render=function(){return v(s.default.div,{className:p.default.videoBackgroundTransition,style:{opacity:this.state.animation}},void 0,this.props.children)},t}(o.PureComponent);t.BackgroundTransition=_,_.displayName="BackgroundTransition";var g=function(e){function t(t){var n;return(n=e.call(this,t)||this)._timeout=new u.Timeout,n.state={idle:!1,backgroundAnimation:new s.default.Value(0)},l.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleMouseEvent"]),n}m(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("mousedown",this.handleMouseEvent,!0),document.addEventListener("mousemove",this.handleMouseEvent,!0)},n.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleMouseEvent,!0),document.removeEventListener("mousemove",this.handleMouseEvent,!0),this._timeout.stop()},n.UNSAFE_componentWillReceiveProps=function(e){this.props.layout!==e.layout&&(this._timeout.stop(),this.state.idle&&this.setState({idle:!1}))},n.handleMouseEvent=function(){var e=this,t=this.props.layout;t!==f.ChannelLayouts.FULL_SCREEN&&t!==f.ChannelLayouts.NO_CHAT||(this._timeout.start(3e3,function(){return e.setState({idle:!0})}),this.state.idle&&this.setState({idle:!1}))},n.renderBackground=function(){var e=this.props,t=e.background,n=e.backgroundKey,r=e.layout+"-"+(n||"");return v(d.default,{className:p.default.videoBackground,component:"div"},void 0,v(_,{},r,t))},n.renderContents=function(){var e,t,n=this.props,r=n.top,a=n.center,o=n.bottom,l=n.layout,s=n.focused,u=this.state.idle;return v(c.default,{className:(0,i.default)(p.default.video,y[l],(e={},e[p.default.idle]=u,e)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.CENTER},void 0,v(c.default,{className:p.default.videoWrapper,direction:c.default.Direction.VERTICAL},void 0,this.renderBackground(),v(c.default,{className:(0,i.default)(p.default.videoInner,(t={},t[p.default.focused]=s,t)),direction:c.default.Direction.VERTICAL,justify:c.default.Justify.BETWEEN},void 0,v(c.default,{className:p.default.videoTop,grow:0},void 0,r),v(c.default,{className:p.default.videoCenter},void 0,a),v(c.default,{className:p.default.videoBottom,grow:0},void 0,o))))},n.render=function(){var e,t=this.props,n=t.layout,r=t.className,a=t.animated;return v("div",{className:(0,i.default)(p.default.videoHeight,y[n],r,(e={},e[p.default.animated]=a,e))},void 0,this.renderContents())},t}(o.PureComponent);g.displayName="Video",g.defaultProps={layout:f.ChannelLayouts.MINIMUM,animated:!0};var E=g;t.default=E},7172:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.CALL_AVATAR_VIDEO_RATIO=t.CallAvatarPixelSizes=t.CallAvatarSizes=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=h(n(17)),l=h(n(219)),s=h(n(148)),u=h(n(301)),d=h(n(6700)),c=h(n(437)),f=n(0),p=h(n(5826));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m={XXLARGE:"xxlarge",XLARGE:"xlarge",LARGE:"large",SMALL:"small"};t.CallAvatarSizes=m;var y=((r={})[m.XXLARGE]=100,r[m.XLARGE]=60,r[m.LARGE]=40,r[m.SMALL]=30,r);t.CallAvatarPixelSizes=y;t.CALL_AVATAR_VIDEO_RATIO=1.78;var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderContent=function(){var e,t=this.props,n=t.mode,r=t.selected,a=t.streamId,o=t.hasVideo,i=t.mirror,l=t.videoComponent,c=t.disabled,h=t.poorConnection;return c?null:n===f.ChannelModes.VIDEO&&(r||h)?(e=v(u.default,h?{className:p.default.poorConnectionIcon,width:24,height:24,color:f.Colors.WHITE,name:u.default.Names.CAMERA_OFF}:{width:36,height:36,className:p.default.cameraIcon,color:f.Colors.WHITE,name:u.default.Names.VIDEO_CAMERA}),v(s.default,{className:p.default.callAvatarOverlay,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER,direction:s.default.Direction.VERTICAL},void 0,e)):n===f.ChannelModes.VIDEO&&o&&null!=l?v(d.default,{className:p.default.callAvatarVideo,mirror:i,streamId:a,videoComponent:l,fit:d.default.Fit.COVER}):null},a.renderRipples=function(){return this.props.ringing?[v("div",{className:(0,i.default)(p.default.ripple,p.default.ripple0)},"ripple-0"),v("div",{className:(0,i.default)(p.default.ripple,p.default.ripple1)},"ripple-1"),v("div",{className:(0,i.default)(p.default.ripple,p.default.ripple2)},"ripple-2")]:null},a.renderTopLayer=function(){var e,t,n=this.props,r=n.mode,a=n.speaking,o=n.soundsharing,l=n.selected,s=n.muted,d=n.deafen,c=n.disabled,h=a&&!c,m=o&&!c,y=l&&!c,_=s&&!c,g=d&&!c,E=v("div",{className:(0,i.default)(p.default.callAvatarBorder,p.default[r],(e={},e[p.default.selected]=y,e[p.default.soundsharing]=m,e[p.default.speaking]=h,e))},"border"),S=r===f.ChannelModes.VOICE;if(_||g){var T=S?24:20;t=v(u.default,{className:p.default.callAvatarStatus,width:T,height:T,color:f.Colors.WHITE,name:g?u.default.Names.DEAFENED:u.default.Names.MUTED},"status")}return S?[E,t]:[t,E]},a.render=function(){var e,t,n=this.props,r=n.src,a=n.mode,o=n.size,s=n.id,u=n.onClick,d=n.onContextMenu,h=n.className,m=n.disabled,y=n.name,_={backgroundImage:"url('"+r+"')"},g=v("div",{className:(0,i.default)(p.default.callAvatarWrapper,p.default[a],p.default[o],(e={},e[p.default.disabled]=m,e),h)},void 0,this.renderRipples(),v(l.default,{className:(0,i.default)(p.default.callAvatar,p.default[a],(t={},t[p.default.disabled]=m,t)),style:_,onClick:function(e){return u&&u(s,e)},onContextMenu:function(e){return d&&d(e,s)}},void 0,this.renderContent(),this.renderTopLayer()));return a===f.ChannelModes.VOICE||m?g:v(c.default,{text:y,position:c.default.Positions.LEFT},void 0,g)},r}(o.PureComponent);_.displayName="CallAvatar",_.defaultProps={mode:f.ChannelModes.VOICE,size:m.XXLARGE,selected:!1,speaking:!1,soundsharing:!1,ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,disabled:!1,poorConnection:!1};var g=_;t.default=g},7198:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=z(n(17)),i=z(n(3)),l=z(n(331)),s=z(n(443)),u=z(n(311)),d=z(n(7747)),c=z(n(858)),f=z(n(328)),p=z(n(6132)),h=z(n(833)),v=z(n(129)),m=z(n(7748)),y=z(n(85)),_=z(n(307)),g=z(n(35)),E=z(n(14)),S=z(n(124)),T=z(n(6006)),O=z(n(219)),I=z(n(148)),C=z(n(301)),N=z(n(220)),A=z(n(6465)),M=z(n(821)),P=z(n(125)),b=z(n(822)),R=z(n(437)),L=n(823),D=z(n(6025)),w=z(n(18)),U=n(177),k=n(6010),G=n(227),F=z(n(6021)),j=z(n(845)),x=z(n(6035)),B=n(0),H=z(n(13)),V=z(n(954)),Y=z(n(5357)),W=z(n(880)),K=z(n(5832));function z(e){return e&&e.__esModule?e:{default:e}}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function X(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Q=42;function J(e){var t=e.className,n=e.children;return X(I.default,{align:I.default.Align.CENTER,justify:I.default.Justify.CENTER,direction:I.default.Direction.VERTICAL,className:(0,o.default)(K.default.errorState,t)},void 0,X("div",{className:(0,o.default)(K.default.errorStateIcon,Y.default.marginBottom20)}),n)}J.displayName="ErrorState";var Z=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleMouseEnter=function(){var e=t.props,n=e.onMouseEnter,r=e.row;null!=n&&n(r)},t.handleClick=function(){var e=t.props,n=e.onClick,r=e.user;null!=n&&n(r.id)},t}q(t,e);var n=t.prototype;return n.getDisplayName=function(){var e=this.props,t=e.user,n=e.comparator;return null!=n&&n===t.tag?t.username:n||t.username},n.render=function(){var e,t=this.props,n=t.user,r=t.hideDiscriminator,a=t.selected,i=t.checked;return X(O.default,{onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,className:K.default.friendWrapper},void 0,X(I.default,{align:I.default.Align.CENTER,className:(0,o.default)(K.default.friend,(e={},e[K.default.friendSelected]=a,e))},void 0,X(F.default,{user:n,status:v.default.getStatus(n.id),outerClassName:K.default.avatar,statusClassName:K.default.status}),X(I.default,{className:K.default.match,align:I.default.Align.BASELINE},void 0,X(P.default,{weight:P.default.Weights.MEDIUM,className:K.default.nickname},void 0,this.getDisplayName()),X(A.default,{user:n,hideDiscriminator:r,className:K.default.discordTag,usernameClass:V.default.weightMedium,discriminatorClass:V.default.weightMedium})),X(T.default,{color:B.Colors.PRIMARY_DARK,size:22,value:i})))},t}(a.PureComponent);Z.displayName="UserRow";var ee=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={separator:!1,copied:!1},t.scrollerRef=a.createRef(),t.searchBarRef=a.createRef(),t.renderRow=function(e,n){var r=e.user,a=e.comparator,o=t.props,i=o.selectedUsers,l=o.selectedRow,s=o.hideDiscriminator,u=i.has(r.id);return X(Z,{row:n,user:r,hideDiscriminator:s,comparator:a,checked:u,selected:n===l,onClick:t.handleClick,onMouseEnter:t.focusResult},r.id)},t.forceFocus=function(){var e=t.searchBarRef.current;e&&e.focus()},t.focusResult=function(e){d.default.select(e)},t.handleSelect=function(e,n){var r=t.props.results;null==n?d.default.clear():null!=r&&t.handleClick(r[n].user.id)},t.handleSelectionChange=function(e,n){d.default.select(n);var r=t.scrollerRef.current;null!=r&&r.scrollIntoViewRect(n*Q,n*Q+Q)},t.handleRemoveUser=function(e){var n=Array.from(t.props.selectedUsers);d.default.removeUser(n[e]),t.forceFocus()},t.handleClick=function(e){var n=t.props,r=n.selectedUsers,a=n.query;!r.has(e)?(d.default.addUser(e),a.length>0&&d.default.clear()):d.default.removeUser(e),t.forceFocus()},t.handleScroll=function(){var e=t.scrollerRef.current;null!=e&&t.setState({separator:0!==e.getScrollTop()})},t.handleInviteUsers=function(){var e=t.props,n=e.channel,r=e.selectedUsers,a=e.onClose,o=Array.from(r);if(null!=n){var i=f.default.isCallActive(n.id);s.default.addRecipients(n.id,o,"Add Friends to DM").then(function(e){i&&l.default.ring(e,o)})}else s.default.openPrivateChannel(E.default.getCurrentUser().id,o,!1,!1,"New Group DM");a()},t.handleCopyInvite=function(e){var n=t.props,r=n.channel,a=n.invite;null!=a&&(0,k.copy)(e),null!=t.copyTimeout&&clearTimeout(t.copyTimeout),t.setState({copied:!0}),t.copyTimeout=setTimeout(function(){t.setState({copied:!1})},1e3),w.default.track(B.AnalyticEvents.COPY_INSTANT_INVITE,{server:null,channel:null!=r?r.id:null,channel_type:null!=r?r.type:null,location:"Add Friends to DM",code:null!=a?a.code:null})},t}q(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.channel,t=(0,U.collectChannelAnalyticsMetadata)(e);null!=e?e.isDM()?w.default.track(B.AnalyticEvents.OPEN_POPOUT,$({},t,{type:"Add Friends to DM",source:"DM",is_friend:!this.isNotFriends()})):w.default.track(B.AnalyticEvents.OPEN_POPOUT,$({},t,{type:"Add Friends to DM",source:"Group DM"})):w.default.track(B.AnalyticEvents.OPEN_POPOUT,$({},t,{type:"New Group DM",source:"Friends List"}))},n.componentWillUnmount=function(){null!=this.copyTimeout&&clearTimeout(this.copyTimeout)},n.isNotFriends=function(){var e=this.props.channel;if(null==e||!e.isDM())return!1;var t=e.getRecipientId();if(null==t)throw new Error("no recipient in DM");return!y.default.isFriend(t)},n.createInvite=function(){var e=this.props.channel;null!=e&&e.isGroupDM()&&!this.isPartyFull()&&u.default.createInvite(e.id,{max_age:10800},"Group DM Invite Create")},n.isPartyFull=function(){var e=this.props.channel;return null!=e&&e.recipients.length+1>=this.getMaxParticipants()},n.getMaxParticipants=function(){return B.MAX_GROUP_DM_PARTICIPANTS},n.getRemaining=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=(null==t?0:t.recipients.length)+1;return this.getMaxParticipants()-n.size-r},n.renderCreateGroupButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers,r=this.getRemaining(),a=null!=t&&0===n.size||r<0;return X(S.default,{fullWidth:!0,disabled:a,onClick:this.handleInviteUsers},void 0,H.default.Messages.CREATE_GROUP_DM)},n.renderAddUsersButton=function(){var e=this.props,t=e.channel,n=e.selectedUsers;if(null!=t&&!t.isDM()){var r=this.getRemaining(),a=0===n.size||r<0;return X("div",{className:K.default.addButton},void 0,X(S.default,{size:S.default.Sizes.SMALL,disabled:a,onClick:this.handleInviteUsers},void 0,H.default.Messages.ADD))}},n.renderSubtitle=function(){var e;if(!this.props.hasFriends||this.isNotFriends()||this.isPartyFull())return null;var t=this.getRemaining(),n=t<=0?H.default.Messages.GROUP_DM_INVITE_FULL_SUB:H.default.Messages.GROUP_DM_INVITE_REMAINING.format({number:t});return X(P.default,{size:P.default.Sizes.SMALL,className:(0,o.default)(K.default.subtitle,(e={},e[K.default.subtitleWarning]=t<0,e),Y.default.marginTop4)},void 0,n)},n.renderSearchBar=function(){var e=this.props,t=e.query,n=e.hasFriends,r=e.results,i=e.selectedRow,l=e.selectedUsers;if(!n||this.isNotFriends())return null;var s=[];return l.forEach(function(e){var t=E.default.getUser(e);null!=t&&s.push(t.username)}),X(I.default,{className:(0,o.default)(K.default.searchBar,Y.default.marginTop20)},void 0,a.createElement(x.default,{ref:this.searchBarRef,size:x.default.Sizes.MEDIUM,query:t,selectedSection:0,selectedRow:i,sections:[r?r.length:0],tags:s,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange,onRemoveTag:this.handleRemoveUser,placeholder:0===l.size?H.default.Messages.GROUP_DM_SEARCH_PLACEHOLDER:null,disabled:this.isPartyFull(),className:K.default.searchBarComponent,autoFocus:!0}),this.renderAddUsersButton())},n.renderHeader=function(){var e=null!=this.scrollerRef.current&&this.state.separator,t=this.isNotFriends()?H.default.Messages.GROUP_DM_ADD_FRIENDS:H.default.Messages.GROUP_DM_HEADER;return X(N.default.Header,{direction:I.default.Direction.VERTICAL,align:I.default.Align.STRETCH,className:K.default.header,separator:e},void 0,X(L.FormTitle,{tag:L.FormTitle.Tags.H4},void 0,t),this.renderSubtitle(),this.renderSearchBar())},n.renderBody=function(){var e=this,t=this.props,n=t.channel,r=t.hasFriends,i=t.results;if(this.isNotFriends()){var l=null!=n?n.getRecipientId():null;if(null==l)throw new Error("no recipient in DM");var s=E.default.getUser(l),u=null!=s?s.username:"";return X(J,{className:K.default.notFriends},void 0,X("div",{},void 0,H.default.Messages.GROUP_DM_INVITE_NOT_FRIENDS.format({username:u})),X(S.default,{size:S.default.Sizes.SMALL,onClick:function(){return s?e.handleAddFriend(s):null},className:Y.default.marginTop20},void 0,H.default.Messages.ADD_FRIEND_BUTTON))}if(!r)return X(J,{className:K.default.noFriends},void 0,X("div",{},void 0,H.default.Messages.GROUP_DM_INVITE_NO_FRIENDS));if(this.isPartyFull())return X(J,{className:K.default.partyFull},void 0,X("div",{},void 0,H.default.Messages.GROUP_DM_INVITE_FULL_MAIN),X("div",{},void 0,H.default.Messages.GROUP_DM_INVITE_FULL_SUB));if(0===i.length)return X(J,{className:(0,o.default)(K.default.noResults,Y.default.marginBottom20)},void 0,X("div",{},void 0,H.default.Messages.GROUP_DM_INVITE_EMPTY));var d=g.default.theme,c=i.map(this.renderRow);return a.createElement(j.default,{ref:this.scrollerRef,className:K.default.scroller,elementHeight:Q,theme:j.default.Themes.GHOST_HAIRLINE,backgroundColor:d===B.ThemeTypes.LIGHT?void 0:B.Colors.PRIMARY_DARK_630,onUpdate:this.handleScroll,onScroll:this.handleScroll,keyboardScroll:!0,track:!1,paddingTop:0,paddingBottom:14,fade:!0},c)},n.renderInviteLink=function(){var e,t=this,n=this.props,r=n.channel,i=n.invite,l=n.hideInstantInvites,s=this.state.copied;if(null==r||!r.isGroupDM()||this.isPartyFull())return null;var u=null!=i?(0,G.getInviteURL)(i.code):"";return X(a.Fragment,{},void 0,X(L.FormTitle,{tag:L.FormTitle.Tags.H5,className:Y.default.marginBottom8},void 0,H.default.Messages.GROUP_DM_INVITE_LINK_TITLE),X(I.default,{className:(0,o.default)(W.default.input,(e={},e[W.default.success]=s,e)),justify:I.default.Justify.BETWEEN,align:I.default.Align.CENTER},void 0,u.length>0?X(b.default,{className:K.default.copyInput,name:"invite",value:l?H.default.Messages.INSTANT_INVITE_HIDDEN:u,editable:!1,inputClassName:K.default.noBorder,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}):X(b.default,{className:K.default.copyInput,name:"invite",value:u,placeholder:(0,G.getInviteURL)(H.default.Messages.GROUP_DM_INVITE_LINK_EXAMPLE),editable:!1,inputClassName:K.default.noBorder,spellCheck:"false",onClick:function(){return t.createInvite()}}),k.SUPPORTS_COPY&&u.length>0?X(S.default,{size:S.default.Sizes.SMALL,color:s?S.default.Colors.GREEN:S.default.Colors.BRAND,className:K.default.copyButton,onClick:function(){return t.handleCopyInvite(u)}},void 0,s?H.default.Messages.INVITE_COPIED:H.default.Messages.COPY):null,0===u.length?X(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.BRAND,className:K.default.copyButton,onClick:function(){return t.createInvite()}},void 0,H.default.Messages.GROUP_DM_INVITE_LINK_CREATE):null),u.length>0?X(P.default,{size:P.default.Sizes.SMALL,className:(0,o.default)(Y.default.marginTop8,K.default.footerText)},void 0,H.default.Messages.INVITE_EXPIRES_HOURS.format({numHours:"3"})):null)},n.renderFooter=function(){var e=this.props,t=e.hasFriends,n=e.channel;if(this.isNotFriends()||!t||this.isPartyFull())return null;var r=null==n||n.isDM()?this.renderCreateGroupButton():this.renderInviteLink();return null!=r?X(a.Fragment,{},void 0,X("div",{className:K.default.footerSeparator}),X(I.default,{direction:I.default.Direction.VERTICAL,className:K.default.footer},void 0,r)):void 0},n.render=function(){return X(N.default,{className:K.default.popout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},n.handleAddFriend=function(e){this.props.onClose(),c.default.sendRequest(e.tag,{location:"Group DM"})},n.handleQueryChange=function(e){d.default.search(e)},t}(a.PureComponent);ee.displayName="PrivateChannelRecipientsInvitePopout";var te=i.default.connectStores([m.default,p.default,_.default],function(e){var t,n=e.channel;return null!=n&&null!=(t=p.default.getInvite(n.id))&&t.isExpired()&&(t=null),$({},m.default.getState(),{invite:t,hideDiscriminator:_.default.hidePersonalInformation,hideInstantInvites:_.default.hideInstantInvites})})(ee),ne=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).popoutRef=a.createRef(),t.renderPopout=function(e){return a.createElement(te,$({},e,{channel:t.props.channel}))},t}q(t,e);var n=t.prototype;return n.componentDidMount=function(){this.maybeForceOpen()},n.componentDidUpdate=function(e){e.channel!==this.props.channel&&this.maybeForceOpen()},n.render=function(){var e=this.props,t=e.channel,n=e.tooltip;return a.createElement(M.default,{ref:this.popoutRef,closeOnScroll:!1,render:this.renderPopout,position:M.default.Positions.TOP_RIGHT,shadow:!1,offsetX:5,uniqueId:B.NEW_GROUP_DM_POPOUT_ID,animationType:M.default.Animations.NONE,subscribeTo:B.ComponentActions.TOGGLE_DM_CREATE},X(R.default,{text:n,position:R.default.Positions.BOTTOM},void 0,X(D.default.Icon,{name:null==t?C.default.Names.NOVA_CHAT_NEW:C.default.Names.NOVA_USER_ADD})))},n.maybeForceOpen=function(){var e=this.props.channel;if(null!=e&&e.isGroupDM()&&0===e.recipients.length&&!h.default.isOpen(B.NEW_GROUP_DM_POPOUT_ID)){var t=this.popoutRef.current;null!=t&&t.open()}},t}(a.Component);ne.displayName="PrivateChannelRecipientsInviteButton";var re=ne;t.default=re,e.exports=t.default},7199:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=q(n(2)),o=$(n(17)),i=$(n(39)),l=$(n(6)),s=$(n(3)),u=n(56),d=n(78),c=n(302),f=q(n(961)),p=$(n(6011)),h=$(n(5360)),v=$(n(12)),m=$(n(41)),y=$(n(46)),_=$(n(893)),g=$(n(129)),E=$(n(7200)),S=$(n(14)),T=$(n(497)),O=$(n(151)),I=$(n(5992)),C=$(n(124)),N=$(n(219)),A=$(n(148)),M=$(n(301)),P=q(n(867)),b=$(n(6700)),R=$(n(6033)),L=$(n(6026)),D=$(n(9)),w=$(n(456)),U=q(n(871)),k=$(n(6902)),G=$(n(5996)),F=$(n(5358)),j=$(n(7750)),x=$(n(7751)),B=$(n(7752)),H=$(n(7753)),V=$(n(7754)),Y=$(n(7755)),W=n(0),K=$(n(13)),z=$(n(5838));function $(e){return e&&e.__esModule?e:{default:e}}function q(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Z(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ee=1800,te=854,ne=480;function re(e){var t,n=e.user,r=e.application,i=e.channel,l=e.nickname,s=e.onClick,u=e.compact,d=void 0!==u&&u;return Z(N.default,{className:(0,o.default)(z.default.title,(t={},t[z.default.clickableTitle]=null!=s,t)),onClick:s},void 0,d?null:Z(I.default,{className:z.default.titleAvatar,size:I.default.Sizes.SMALL,src:n.getAvatarURL()}),Z("div",{className:z.default.titleText},void 0,l||n.username,d||null==r?null:Z(a.Fragment,{},void 0,Z("div",{className:z.default.titleDivider}),Z(L.default,{size:L.default.Sizes.SIZE_14,className:z.default.titleSubtext},void 0,K.default.Messages.STREAM_PLAYING.format({game:r.name,channel:i.name})))))}re.displayName="Title";var ae=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={popoutStaysOpen:!1},t.keepPopoutOpen=function(){t.setState({popoutStaysOpen:!0})},t.closePopout=function(){t.setState({popoutStaysOpen:!1})},t.handleUserContextMenu=function(e,n){t.keepPopoutOpen(),(0,c.openContextMenu)(e,function(e){return a.createElement(F.default,Q({},e,{type:W.ContextMenuTypes.USER_GENERIC_LIST,user:n}))},{onClose:t.closePopout})},t}J(t,e);var n=t.prototype;return n.renderOverflow=function(e){return Z("div",{className:z.default.overflow},"overflow","+",e)},n.renderAvatar=function(e){return Z(I.default,{src:e.avatarURL,size:I.default.Sizes.SMALL,className:z.default.viewer},e.id)},n.renderCompact=function(){var e=this.props.viewers;return Z(P.TooltipContainer,{text:K.default.Messages.LIVE_VIEWERS.format({viewers:e.length})},void 0,Z("div",{className:z.default.viewers},void 0,Z(M.default,{className:z.default.viewersIcon,name:M.default.Names.EYE}),e.length))},n.render=function(){var e=this,t=this.props,n=t.viewers,r=t.compact,a=t.stream,i=this.state.popoutStaysOpen;if(0===n.length)return null;if(r)return this.renderCompact();var s=(0,l.default)(n).take(3).map(this.renderAvatar).value();return n.length>3&&(s[s.length-1]=this.renderOverflow(n.length-3+1)),Z("div",{className:z.default.viewers},void 0,Z(G.default,{section:W.AnalyticsSections.STREAM_VIEWER_POPOUT},void 0,Z("div",{className:(0,o.default)(z.default.popout,i?z.default.keepOpen:z.default.hideOnMouseLeave)},void 0,Z(R.default,{size:R.default.Sizes.SIZE_12,className:z.default.memberListHeader},void 0,K.default.Messages.SPECTATORS.format({numViewers:n.length})),Z("div",{},void 0,n.map(function(t){return Z(k.default,{user:t,nick:w.default.getNickname(a.guildId,a.channelId,t),onContextMenu:function(n){return e.handleUserContextMenu(n,t)},onPopoutOpen:e.keepPopoutOpen,onPopoutClose:e.closePopout},t.id)})))),s)},t}(a.PureComponent);ae.displayName="Viewers",ae.defaultProps={compact:!1};var oe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._rootRef=a.createRef(),t.state={idle:!1},t._idleDelayedCall=new d.DelayedCall(ee,function(){return t.setState({idle:!0})}),t._blockDisplaySleepId=null,t.handleStopStream=function(){var e=t.props.stream;U.stopStreaming(e)},t.handleMouseEvent=function(){t.state.idle&&t.setState({idle:!1}),t._idleDelayedCall.delay()},t.handleOpenPopout=function(){var e=t.props,n=e.channel,r=e.streamer;(0,i.default)(null!=r,"Streaming user should not be null"),f.open(W.PopoutWindowKeys.STREAM_POPOUT,function(){return Z(j.default,{windowKey:W.PopoutWindowKeys.STREAM_POPOUT,title:K.default.Messages.USERNAME_LIVE.format({username:r.username})},void 0,Z(ie,{channel:n,appContext:W.AppContext.POPOUT}))},{defaultWidth:te,defaultHeight:ne})},t.handleClosePopout=function(){f.close(W.PopoutWindowKeys.STREAM_POPOUT)},t.handleStayOnTop=function(e){D.default.setAlwaysOnTop(W.PopoutWindowKeys.STREAM_POPOUT,e)},t.renderCloseButton=function(){return Z(P.TooltipContainer,{text:K.default.Messages.STOP_WATCHING},void 0,Z(C.default,{onClick:t.handleStopStream,look:C.default.Looks.BLANK,size:C.default.Sizes.NONE},void 0,Z(M.default,{className:z.default.controlButton,name:M.default.Names.CLOSE})))},t}J(t,e);var n,r,l,s=t.prototype;return s.componentDidMount=function(){this.isSelfStream||(this._blockDisplaySleepId=D.default.blockDisplaySleep()),this._idleDelayedCall.delay()},s.componentWillUnmount=function(){null!=this._blockDisplaySleepId&&D.default.unblockDisplaySleep(this._blockDisplaySleepId),this._idleDelayedCall.cancel()},s.renderTitle=function(){var e=this.props,t=e.streamer,n=e.streamerNickname,r=e.channel,a=e.application,o=e.onTitleClick;return null==t?null:Z(A.default,{justify:A.default.Justify.BETWEEN,align:A.default.Align.CENTER},void 0,Z(re,{user:t,nickname:n,compact:this.isMiniPlayer,application:a,channel:r,onClick:o}),Z(A.default,{grow:0,shrink:1,justify:A.default.Justify.END,basis:"50%",align:A.default.Align.CENTER},void 0,null!=this.errorMessage?Z(P.TooltipContainer,{text:this.errorMessage,position:P.default.Positions.BOTTOM},void 0,Z(M.default,{className:z.default.warningIcon,name:M.default.Names.WARNING_CIRCLE})):null,this.isMiniPlayer?null:Z(P.TooltipContainer,{text:K.default.Messages.LIVE_BETA_DESCRIPTION,position:P.default.Positions.BOTTOM},void 0,Z("div",{className:z.default.liveBeta},void 0,Z(H.default,{className:z.default.liveIcon}),Z("div",{className:z.default.beta},void 0,K.default.Messages.BETA)))))},s.renderMainControlButtons=function(e){if(e.id===v.default.getId())return Z(C.default,{size:C.default.Sizes.SMALL,color:C.default.Colors.PRIMARY,onClick:this.handleStopStream},void 0,K.default.Messages.STOP_STREAMING);var t=this.props.popoutWindow;return Z(a.Fragment,{},void 0,Z(Y.default,{userId:e.id,currentWindow:this.inPopout&&null!=t?t:void 0,mediaEngineContext:u.MediaEngineContextTypes.STREAM,iconClassName:z.default.trayButton,sliderClassName:z.default.volumeSlider}),Z(C.default,{size:C.default.Sizes.SMALL,color:C.default.Colors.PRIMARY,onClick:this.handleStopStream},void 0,K.default.Messages.STOP_WATCHING),Z(V.default,{className:z.default.trayButton}))},s.renderEmpty=function(){return Z(A.default,{className:z.default.empty,justify:A.default.Justify.CENTER,align:A.default.Align.CENTER,direction:A.default.Direction.VERTICAL},void 0,Z("span",{className:z.default.emptyText},void 0,K.default.Messages.STREAM_ENDED),Z(C.default,{size:C.default.Sizes.SMALL,color:C.default.Colors.GREY,onClick:this.props.onClose},void 0,K.default.Messages.CLOSE_WINDOW))},s.renderPopoutButton=function(){var e=this.inPopout,t=e?K.default.Messages.POPOUT_RETURN:K.default.Messages.POPOUT_PLAYER,n=e?this.handleClosePopout:this.handleOpenPopout,r=e?M.default.Names.WINDOW_RETURN:M.default.Names.EXTERNAL_LINK,a=e?z.default.rightTrayButtonNoPadding:z.default.rightTrayButton;return Z(P.TooltipContainer,{text:t},void 0,Z(C.default,{onClick:n,look:C.default.Looks.BLANK,size:C.default.Sizes.NONE},void 0,Z(M.default,{className:a,name:r})))},s.renderStayOnTop=function(){var e,t=this,n=this.props.popoutWindowAlwaysOnTop;return Z(P.TooltipContainer,{text:n?K.default.Messages.POPOUT_REMOVE_FROM_TOP:K.default.Messages.POPOUT_STAY_ON_TOP},void 0,Z(C.default,{onClick:function(){return t.handleStayOnTop(!n)},look:C.default.Looks.BLANK,size:C.default.Sizes.NONE},void 0,Z(M.default,{className:(0,o.default)(z.default.rightTrayButtonNoPadding,(e={},e[z.default.activeButton]=n,e)),name:M.default.Names.STAY_ON_TOP})))},s.renderStopStreamButton=function(){return Z(P.TooltipContainer,{text:K.default.Messages.STOP_STREAMING},void 0,Z(C.default,{onClick:this.handleStopStream,look:C.default.Looks.BLANK,size:C.default.Sizes.NONE},void 0,Z(M.default,{className:z.default.rightTrayButton,name:M.default.Names.STOP_STREAM})))},s.renderBottomRightControls=function(){var e=this.props.popoutWindow,t=this.inPopout&&this.nativePopoutSupported&&!this.isMiniPlayer;return Z(a.Fragment,{},void 0,this.popoutWindowSupported?this.renderPopoutButton():null,t?this.renderStayOnTop():null,this.isMiniPlayer?this.renderStopStreamButton():null,this.isMiniPlayer?null:Z(x.default,{className:z.default.fullscreenButton,node:this._rootRef.current,guestWindow:this.inPopout?e:null}))},s.renderBottomLeftControls=function(e){var t=this.props.viewers;return Z(a.Fragment,{},void 0,Z(B.default,{stream:e,className:z.default.inviteButton}),Z(ae,{stream:e,viewers:t,compact:this.isMiniPlayer}))},s.render=function(){var e,t=this.props,n=t.streamId,r=t.stream,i=t.streamer,l=t.isWindowFocused,s=this.state.idle,u=y.default.getMediaEngine().Video;if(null==r||null==i)return this.renderEmpty();var d=!this.inPopout&&this.popoutOpen,c=this.isSelfStream&&!l&&!this.inPopout,f=d||c;return a.createElement("div",{className:(0,o.default)(z.default.root,(e={},e[z.default.miniPlayer]=this.isMiniPlayer,e[z.default.idle]=s,e)),onMouseMove:this.handleMouseEvent,onMouseDown:this.handleMouseEvent,ref:this._rootRef},Z(b.default,{className:z.default.video,streamId:n,videoComponent:u,paused:f}),f?Z(A.default,{className:z.default.paused,justify:A.default.Justify.CENTER,align:A.default.Align.CENTER},void 0,Z(L.default,{className:z.default.pausedText},void 0,d?K.default.Messages.POPOUT_PLAYER_OPENED:K.default.Messages.STREAM_PAUSED)):null,Z("div",{className:z.default.videoControls},void 0,Z("div",{className:z.default.topControls},void 0,this.renderTitle()),Z("div",{className:z.default.rightControls}),Z("div",{className:z.default.bottomControls},void 0,Z(A.default,{grow:0,shrink:1,basis:"50%",align:A.default.Align.CENTER},void 0,this.renderBottomLeftControls(r)),Z(A.default,{grow:1,justify:A.default.Justify.CENTER,align:A.default.Align.CENTER},void 0,this.isMiniPlayer?null:this.renderMainControlButtons(i)),Z(A.default,{grow:0,shrink:1,justify:A.default.Justify.END,basis:"50%",align:A.default.Align.CENTER},void 0,this.renderBottomRightControls()))),this.isMiniPlayer&&s?Z(H.default,{className:z.default.liveIconMiniPlayer}):null)},n=t,(r=[{key:"inPopout",get:function(){return this.props.appContext===W.AppContext.POPOUT}},{key:"isMiniPlayer",get:function(){var e=this.props,t=e.width,n=e.height;return t<=320||n<=180}},{key:"errorMessage",get:function(){var e=this.props,t=e.streamQuality;return e.reconnecting?K.default.Messages.STREAM_RECONNECTING_ERROR:t===W.RTCConnectionQuality.BAD?K.default.Messages.STREAM_NETWORK_QUALITY_ERROR:void 0}},{key:"nativePopoutSupported",get:function(){return D.default.embedded&&D.default.supportsFeature(W.NativeFeatures.POPOUT_WINDOWS)}},{key:"popoutOpen",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}},{key:"popoutWindowSupported",get:function(){return!D.default.embedded||this.nativePopoutSupported}},{key:"isSelfStream",get:function(){var e=this.props.streamer;return(0,i.default)(null!=e,"Streaming user should not be null"),e.id===v.default.getId()}}])&&X(n.prototype,r),l&&X(n,l),t}(a.Component);oe.displayName="StreamVideoPlayer",oe.defaultProps={appContext:W.AppContext.APP};var ie=s.default.connectStores([S.default,h.default,T.default,g.default,m.default,E.default,_.default,O.default],function(){var e=h.default.getActiveStream(),t=E.default.getActiveStreamKey(),n=null!=e?g.default.getPrimaryActivity(e.ownerId,e.guildId):null,r=null!=n&&null!=n.application_id?m.default.getGame(n.application_id):null,a=null!=t?h.default.getViewerIds(t):[],o=null!=e?S.default.getUser(e.ownerId):null;return{streamer:o,streamerNickname:null!=e?w.default.getNickname(e.guildId,e.channelId,o):null,stream:e,reconnecting:h.default.getIsReconnecting(),streamId:null!=e?T.default.getStreamId(e.ownerId):null,application:r,popoutWindow:_.default.getWindow(W.PopoutWindowKeys.STREAM_POPOUT),popoutWindowAlwaysOnTop:_.default.getIsAlwaysOnTop(W.PopoutWindowKeys.STREAM_POPOUT),streamQuality:E.default.getQuality(),viewers:(0,l.default)(a).map(function(e){return S.default.getUser(e)}).filter(function(e){return null!=e}).value(),isWindowFocused:O.default.isFocused()}})((0,p.default)(oe)),le=ie;t.default=le,e.exports=t.default},7200:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=h(n(6)),i=h(n(3)),l=n(56),s=h(n(1)),u=h(n(349)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(871)),c=h(n(12)),f=h(n(46)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m={};function y(){o.default.forEach(m,function(e,t){e.destroy(),delete m[t]})}var _=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getActiveStreamKey=function(){return a},o.getQuality=function(){var e=this.getActiveStreamKey(),t=null!=e?m[e]:null;return null!=t?t.quality:p.RTCConnectionQuality.UNKNOWN},o.isStreamOwner=function(e){if(null==e)return!1;var t=d.decodeStreamKey(e).ownerId;return c.default.getId()===t},r}(i.default.Store))(s.default,f.default.isSupported()?{CONNECTION_OPEN:function(e){r=e.sessionId,a=null,y()},CONNECTION_CLOSED:function(e){return r=null,a=null,void y()},RTC_CONNECTION_STATE:function(e){return!0},RTC_CONNECTION_PING:function(e){return!0},RTC_CONNECTION_LOSS_RATE:function(e){return!0},STREAM_CREATE:function(e){a=e.streamKey;var t=m[a];null==t&&null!=e.rtcServerId&&(t=function(e,t){if(null==r)throw new Error("Creating RTCConnection without session.");var n=new u.default(c.default.getId(),r,null,t,l.MediaEngineContextTypes.STREAM);return n.on("state",function(t,n,r){s.default.dirtyDispatch(v({type:p.ActionTypes.RTC_CONNECTION_STATE,state:t,hostname:n},r,{streamKey:e}))}),n.on("video",function(e,t,n,r){s.default.dispatch({type:p.ActionTypes.RTC_CONNECTION_VIDEO,guildId:e,channelId:t,userId:n,streamId:r,quality:p.RTCReceivedVideoQuality.FULL})}),f.default.isSelfMute(l.MediaEngineContextTypes.STREAM)||s.default.dirtyDispatch({type:p.ActionTypes.AUDIO_TOGGLE_SELF_MUTE,context:l.MediaEngineContextTypes.STREAM}),n}(a,e.rtcServerId),m[e.streamKey]=t)},STREAM_SERVER_UPDATE:function(e){var t=m[e.streamKey];if(null==t)return!1;t.connect(e.endpoint,e.token)},STREAM_DELETE:function(e){var t=m[e.streamKey];if(null==t)return!1;e.streamKey===a&&(a=null),t.destroy(),delete m[e.streamKey]}}:{});t.default=_,e.exports=t.default},7201:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(3)),o=h(n(1)),i=h(n(858)),l=h(n(47)),s=h(n(71)),u=h(n(28)),d=h(n(129)),c=h(n(85)),f=h(n(14)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function _(e){var t=f.default.getUser(e);return{user:t,usernameLower:null!=t?t.username.toLowerCase():null}}function g(e){return{status:d.default.getStatus(e),activity:d.default.getPrimaryActivity(e)}}var E=function(e){function t(){return e.apply(this,arguments)||this}var n,r,a;return y(t,e),t.prototype.initialize=function(e){this.key=e.key,this.type=e.type,this.status=e.status,this.activity=e.activity,this.user=e.user,this.usernameLower=e.usernameLower,this.mutualGuildsLength=e.mutualGuildsLength,this.mutualGuilds=e.mutualGuilds},n=t,(r=[{key:"comparator",get:function(){return[this.type,this.usernameLower]}}])&&m(n.prototype,r),a&&m(n,a),t}(l.default),S=function(){function e(e){void 0===e&&(e=[]),this._rows=e}var t=e.prototype;return t.reset=function(){return new e(r.default.map(c.default.getRelationships(),function(e,t){return new E(v({key:t,type:e},_(t),g(t),function(e){var t=[];return(0,r.default)(s.default.memberOf(e)).map(u.default.getGuild).sortBy(function(e){return null!=e?e.name.toLowerCase():null}).forEach(function(e){null!=e&&t.push(e)}),{mutualGuildsLength:t.length,mutualGuilds:t.slice(0,p.MAX_MUTUAL_GUILDS)}}(t)))}))},t.clone=function(){return new e(this._rows)},t.update=function(e){for(var t=!1,n=0;n<this._rows.length;n++){var r=this._rows[n],a=r.merge(e(r.key));t=t||a!==r,this._rows[n]=a}return t},t.filter=function(e){return(0,r.default)(this._rows).filter(function(e){return null!=e.user}).filter(function(t){switch(e){case p.FriendsSections.ONLINE:return t.type===p.RelationshipTypes.FRIEND&&t.status!==p.StatusTypes.OFFLINE;case p.FriendsSections.PENDING:return t.type===p.RelationshipTypes.PENDING_INCOMING||t.type===p.RelationshipTypes.PENDING_OUTGOING;case p.FriendsSections.BLOCKED:return t.type===p.RelationshipTypes.BLOCKED;case p.FriendsSections.ALL:default:return t.type===p.RelationshipTypes.FRIEND}}).sortBy(function(e){return e.comparator}).value()},t.getRelationshipCounts=function(){var e,t=((e={})[p.RelationshipTypes.FRIEND]=0,e[p.RelationshipTypes.PENDING_INCOMING]=0,e[p.RelationshipTypes.PENDING_OUTGOING]=0,e[p.RelationshipTypes.BLOCKED]=0,e);return this._rows.forEach(function(e){null!=e.user&&null!=t[e.type]&&t[e.type]++}),t},e}(),T=!0,O=!1,I=p.FriendsSections.ONLINE,C=new S,N=!0;function A(e){void 0===e&&(e=!1),T&&(e||I!==p.FriendsSections.ONLINE&&I!==p.FriendsSections.ADD_FRIEND)&&!O&&(T=!1,O=!0,i.default.fetchRelationships())}function M(){C=N?new S:C.reset()}function P(e){return function(){return!N&&(!!C.update(e)&&(C=C.clone(),!0))}}var b=new(function(e){function t(){return e.apply(this,arguments)||this}y(t,e);var n=t.prototype;return n.initialize=function(){this.waitFor(c.default,d.default,f.default,u.default,s.default),this.syncWith([c.default],M),this.syncWith([f.default],P(_)),this.syncWith([d.default],P(g))},n.getState=function(){return{fetching:O,section:I,pendingCount:c.default.getPendingCount(),rows:C}},t}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){return function(){T=!0,N?O=!1:A();var e=(C=C.reset()).getRelationshipCounts();0===e[p.RelationshipTypes.FRIEND]&&(I=0!==e[p.RelationshipTypes.PENDING_INCOMING]?p.FriendsSections.PENDING:p.FriendsSections.ADD_FRIEND)}()},FRIENDS_SET_SECTION:function(e){I=e.section,A()},CHANNEL_SELECT:function(e){var t=e.channelId;return N=null!=t,M()},LOAD_RELATIONSHIPS_SUCCESS:function(e){O=!1},LOAD_RELATIONSHIPS_FAILURE:function(e){return T=!0,void(O=!0)}});t.default=b,e.exports=t.default},7202:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(17)),i=E(n(4)),l=E(n(303)),s=E(n(6110)),u=E(n(6963)),d=E(n(5993)),c=n(6001),f=n(233),p=E(n(305)),h=E(n(124)),v=E(n(6005)),m=n(0),y=E(n(13)),_=E(n(5381)),g=E(n(5851));function E(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={hasVideoError:!1,hasVideoEnded:!1,isMouseOver:!1},t._animatedBackground=new l.default.Value(0),t._animatedText=new l.default.Value(0),t._zIndex=new l.default.Value(1),t.promotionVideoRef=a.createRef(),t.componentWillEnter=function(e){var n=t.props.getDirection();t._zIndex.setValue(1===n?2:1),1===n&&(t._animatedBackground.setValue(-1),l.default.timing(t._animatedBackground,{toValue:0,duration:250,delay:100}).start()),t._animatedText.setValue(-n),l.default.timing(t._animatedText,{toValue:0,delay:300,duration:200}).start(e)},t.handleVideoError=function(){t.setState({hasVideoError:!0})},t.handlePromotionBuyClick=function(e){var n=t.props.onPromotionBuyClick;null!=n&&n(e),e.stopPropagation()},t.handlePromotionViewInStoreClick=function(e){var n=t.props.onOpen;null!=n&&n(e),e.stopPropagation()},t.handlePromotionVideoEnd=function(){t.setState({hasVideoEnded:!0}),t.state.isMouseOver&&null!=t.promotionVideoRef.current&&t.promotionVideoRef.current.play()},t.handleMouseEnter=function(){t.setState({isMouseOver:!0}),t.state.hasVideoEnded&&null!=t.promotionVideoRef.current&&(t.promotionVideoRef.current.currentTime=0,t.promotionVideoRef.current.play())},t.handleMouseLeave=function(){t.setState({isMouseOver:!1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d,E,I,C=r.prototype;return C.componentDidUpdate=function(e){this.props.forcePauseVideo!==e.forcePauseVideo&&null!=this.promotionVideoRef.current&&(this.props.forcePauseVideo?this.promotionVideoRef.current.pause():this.state.hasVideoEnded||this.promotionVideoRef.current.play())},C.componentWillLeave=function(e){var t=this.props.getDirection();this._zIndex.setValue(1===t?1:2),l.default.timing(this._animatedText,{toValue:t,duration:200}).start(),1===t?setTimeout(e,350):l.default.timing(this._animatedBackground,{toValue:-1,delay:200,duration:200}).start(e)},C.getRootStyle=function(){var e=this.props.horizontal?{translateX:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedBackground.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})};return l.default.accelerate({transform:[{scale:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[1.015,1,1.015]})},e],opacity:this._animatedBackground.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:l.default.Easing.out(l.default.Easing.ease)}),zIndex:this._zIndex})},C.getTextStyle=function(){return{transform:[this.props.horizontal?{translateX:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","-15px"]})}:{translateY:this._animatedText.interpolate({inputRange:[0,1],outputRange:["0px","15px"]})}],opacity:this._animatedText.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0],easing:l.default.Easing.in(l.default.Easing.ease)}),zIndex:1}},C.renderBackground=function(){var e,t,n,r,i,l,s,u=this.props,d=u.item,c=u.application,p=u.itemHeight,h=u.simple,v=u.forcePauseVideo,y=this.state,_=y.hasVideoError,E=y.hasVideoEnded,S=y.isMouseOver;d.type===m.FeedCarouselItemTypes.PROMOTION&&null!=d.promotion.videoUrl&&(t=a.createElement("video",{className:(0,o.default)(g.default.backgroundVideo,(n={},n[g.default.backgroundVideoInvisible]=(_||E)&&!S,n)),onEnded:this.handlePromotionVideoEnd,muted:!0,autoPlay:!v,ref:this.promotionVideoRef,onError:this.handleVideoError},T("source",{src:d.promotion.videoUrl,type:"video/mp4"})));if(d.type===m.FeedCarouselItemTypes.APPLICATION_NEWS){var O=d.news.thumbnail;null!=O&&(i=O.proxy_url||O.url,l=h&&null!=p?2*p:O.height,s=O.width)}else d.type===m.FeedCarouselItemTypes.PROMOTION&&null!=d.promotion.imageUrl&&(i=d.promotion.imageUrl,l=m.PROMOTION_ASSET_HEIGHT,s=m.PROMOTION_ASSET_WIDTH);if(null!=i&&null!=l&&null!=s){var I=800*(l/s);r=(0,f.getSizedImageSrc)(i,800,I,"png")}else null!=c&&(r=c.getSplashURL(800));return T("div",{className:g.default.background},void 0,T("div",{className:(0,o.default)(g.default.backgroundImage,null==r?g.default.backgroundBackup:null,(e={},e[g.default.backgroundImageInvisible]=null!=t&&!E&&!_,e)),style:null!=r?{backgroundImage:"url("+r+")"}:null}),t)},C.renderApplicationIcon=function(){var e=this.props,t=e.application,n=e.item,r=e.onGamePopoutOpen,a=e.onGamePopoutClose;if(null==t||n.type===m.FeedCarouselItemTypes.PROMOTION)return null;var o=T(u.default,{game:t,onOpen:r,onClose:a,source:m.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:_.default.iconHover},void 0,T(v.default,{game:t}));return T("div",{className:g.default.applicationArea},void 0,o)},C.renderExclusive=function(){var e=this.props.item;return e.type===m.FeedCarouselItemTypes.PROMOTION&&e.promotion.destination.type===m.PromotionTypes.GAME&&e.promotion.destination.sku.exclusive?T("span",{className:g.default.exclusive},void 0,"First on Discord"):null},C.renderPromotionActionButton=function(){var e=this.props,t=e.item,n=e.application,r=e.simple;return t.type!==m.FeedCarouselItemTypes.PROMOTION?null:t.promotion.destination.type===m.PromotionTypes.GENERAL?t.promotion.destination.linkUrl.startsWith(m.Routes.APPLICATION_STORE)||null!=t.promotion.ctaButtonLabel?T("div",{className:r?g.default.promotionActionButtonSimple:g.default.promotionActionButtonStandard},void 0,T(h.default,{size:h.default.Sizes.SMALL,color:h.default.Colors.GREEN},void 0,t.promotion.ctaButtonLabel||y.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK)):null:null==n?null:T("div",{className:r?g.default.promotionActionButtonSimple:g.default.promotionActionButtonStandard},void 0,T(s.default,{application:n,size:h.default.Sizes.SMALL,onClick:this.handlePromotionBuyClick,source:m.AnalyticsLocations.CAROUSEL_PROMOTION_UNIT,storeListingAnalyticsProperties:{promotionId:t.promotion.id}}))},C.render=function(){var e,t,n,r,a=this.props,s=a.item,u=a.onOpen,d=a.className,f=a.simple;s.type===m.FeedCarouselItemTypes.APPLICATION_NEWS?(e=s.news.url,t=s.news.title,n=s.news.description,r=s.news.timestamp):(t=s.promotion.title,n=s.promotion.description,s.promotion.destination.type===m.PromotionTypes.GENERAL&&(e=s.promotion.destination.linkUrl));var h=null!=e&&e.startsWith("/");return T(p.default,{href:e,target:h?"":"_blank",onClick:u},void 0,T(l.default.div,{style:this.getRootStyle(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:(0,o.default)(f?g.default.articleSimple:g.default.articleStandard,d)},void 0,this.renderBackground(),T(l.default.div,{style:this.getTextStyle()},void 0,this.renderApplicationIcon(),this.renderExclusive(),!0===f?T("div",{className:g.default.titleRowSimple},void 0,T("div",{className:g.default.titleStandard},void 0,t),this.renderPromotionActionButton()):T("div",{className:g.default.details},void 0,T("div",{className:g.default.titleStandard},void 0,t),null!=n?T("div",{className:g.default.description},void 0,n):null,null!=r?T("div",{className:g.default.timestamp},void 0,(0,c.dateFormat)((0,i.default)(r),"LL")):null,T("div",{},void 0,this.renderPromotionActionButton())))))},d=r,(E=[{key:"analyticsLocation",get:function(){return S({},this.props.analyticsContext.location,{object:m.AnalyticsObjects.BUTTON_CTA})}}])&&O(d.prototype,E),I&&O(d,I),r}(a.PureComponent);I.displayName="ActivityFeedCarouselItem";var C=(0,d.default)(I);t.default=C,e.exports=t.default},7203:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.GameCardTypes=void 0;var r,a=j(n(2)),o=F(n(3)),i=F(n(322)),l=F(n(154)),s=F(n(41)),u=F(n(86)),d=F(n(129)),c=F(n(176)),f=F(n(6108)),p=F(n(6964)),h=F(n(7137)),v=F(n(5992)),m=F(n(124)),y=F(n(148)),_=F(n(6005)),g=F(n(6072)),E=F(n(821)),S=F(n(6080)),T=F(n(437)),O=F(n(18)),I=n(323),C=j(n(6107)),N=F(n(6070)),A=F(n(6963)),M=F(n(6953)),P=F(n(5359)),b=F(n(6110)),R=F(n(7204)),L=F(n(6262)),D=n(0),w=F(n(13)),U=F(n(5474)),k=F(n(5381)),G=F(n(5857));function F(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var V=function(e){function t(){return e.apply(this,arguments)||this}return H(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.status,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["user","status"]);return a.createElement(v.default,B({},r,{src:t.getAvatarURL(),status:n}))},t}(a.PureComponent);V.displayName="GameCardAvatar";var Y=o.default.connectStores([d.default],function(e){var t=e.user;return{status:d.default.getStatus(t.id)}})(V),W=Object.freeze({NOW_PLAYING:"1",RECENTLY_PLAYED:"2"});t.GameCardTypes=W;var K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={hoveredUserId:null,isMouseOver:!1},t.handleMouseEnter=function(){t.setState({isMouseOver:!0})},t.handleMouseLeave=function(){t.setState({isMouseOver:!1})},t.renderUserPopout=function(e,t){return a.createElement(P.default,B({},t,{user:e}))},t.renderUserTooltip=function(e){var t=e.user,n=e.startedPlaying,r=e.stoppedPlaying;return x("div",{className:G.default.soloAvatarTooltip},void 0,x("div",{},void 0,t.tag),x(g.default,{className:G.default.soloAvatarTooltipTimestamp,start:n,end:r,location:g.default.Locations.ACTIVITY_FEED}))},t.renderOverflowPlayer=function(e,n,r,a){if(null!=e){var o=e.user;return x(E.default,{render:function(e){return t.renderUserPopout(o,e)},position:E.default.Positions.LEFT,closeOnScroll:!1,shadow:!1},r,x(T.default,{text:t.renderUserTooltip(e)},void 0,x(v.default,{onContextMenu:function(e){return t.props.onUserContextMenu(e,o)},src:o.getAvatarURL(),size:v.default.Sizes.SMALL,className:G.default.soloAvatar})))}},t.renderOverflowPlayerOverflow=function(e,n,r,a){if(null==a)throw new Error("player overflow number cannot be null");var o=t.props.players.map(function(e){return e.user});return x(E.default,{render:function(){return x(M.default,{party:o,header:w.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:o.length})})}},"overflow",x(T.default,{text:w.default.Messages.GAME_FEED_USER_OVERFLOW.format({overflow:a})},void 0,x("div",{className:G.default.overflowUserOverflow},void 0,e)))},t.setActivityFeedCardRef=function(e){var n=t.props.setActivityFeedCardRef;null!=n&&n(e)},t.handleMouseEnterUser=function(e){t.setState({hoveredUserId:e})},t.handleMouseLeaveUser=function(){t.setState({hoveredUserId:null})},t.handleUserPopoutOpen=function(e,n){O.default.track(D.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,B({},t.getMetadata(),{popout_user_id:e.id,avatar_position:n}))},t.handleMessage=function(e,n){var r=t.props,a=r.loadId,o=r.index,i=r.game;(0,r.onMessageUser)(e,n).then(function(e){C.trackUserMessaged(n,e,i,null,{loadId:a,index:o,type:D.ActivityCardTypes.GAME})})},t.handleNewsClick=function(e){var n=t.props,r=n.game,a=n.index;C.trackGameNewsOpened(D.AnalyticsLocations.ACTIVITY_FEED,e,null,r,{loadId:f.default.loadId,index:a,type:D.ActivityCardTypes.GAME})},t}H(t,e);var n=t.prototype;return n.renderPlayer=function(e,t){var n=this,r=this.props.onUserContextMenu,a=e.user,o=e.startedPlaying,i=e.stoppedPlaying;return x("div",{className:G.default.player,onMouseEnter:function(){return n.handleMouseEnterUser(a.id)},onMouseLeave:this.handleMouseLeaveUser,onContextMenu:function(e){return r(e,a)}},a.id,x(y.default,{},void 0,x(E.default,{render:function(e){return n.renderUserPopout(a,e)},position:E.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(a,t)},closeOnScroll:!1},void 0,x(Y,{user:a,className:G.default.avatar})),x("div",{className:G.default.info},void 0,x(E.default,{render:function(e){return n.renderUserPopout(a,e)},position:E.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(a,t)},closeOnScroll:!1},void 0,x(N.default,{user:a,className:G.default.tag,usernameClass:G.default.username,discriminatorClass:G.default.discriminator})),x(g.default,{className:G.default.playTime,start:o,end:i,location:g.default.Locations.ACTIVITY_FEED})),this.state.hoveredUserId===a.id?x(m.default,{color:m.default.Colors.PRIMARY,hover:m.default.Hovers.BRAND,onClick:function(e){return n.handleMessage(e,a)}},void 0,w.default.Messages.GAME_FEED_ACTION_MESSAGE):null))},n.getMaxToShowWithoutOverflow=function(){var e=this.props.players;return null==e?0:e.length>4?3:4},n.getMaxOverflowUsers=function(){return Math.floor((this.props.width-40-28)/38)+1},n.getMetadata=function(){var e=this.props,t=e.game,n=e.index;return{load_id:f.default.loadId,card_index:n,card_type:D.ActivityCardTypes.GAME,game_id:t.id,game_name:t.name,af_news:null!=f.default.news}},n.renderPlayers=function(){var e=this,t=this.props.players;if(null==t||0===t.length)return null;var n=this.getMaxToShowWithoutOverflow(),r=t.slice(0,n).map(function(t,n){return e.renderPlayer(t,n)});return x(R.default,{},void 0,r)},n.renderPlayersOverflow=function(){var e=this.props,t=e.type,n=e.players,r=this.getMaxToShowWithoutOverflow();if(null==n||n.length<=r)return null;var a=t===W.NOW_PLAYING?w.default.Messages.GAME_FEED_ACTIVITY_MORE_PLAYING_COUNT.format({count:n.length-r}):w.default.Messages.GAME_FEED_ACTIVITY_MORE_RECENTLY_PLAYED_COUNT.format({count:n.length-r}),o=x(S.default,{users:n.slice(r),max:this.getMaxOverflowUsers(),className:G.default.overflownPlayers,renderUser:this.renderOverflowPlayer,renderMoreUsers:this.renderOverflowPlayerOverflow});return x(R.default,{className:G.default.playerBottomPadding,title:a},void 0,o)},n.renderNews=function(){var e=this,t=this.props,n=t.game,r=t.news,a=t.onVideoPlay;if(null!=r)return x(R.default,{className:G.default.sectionBottomPadding,title:w.default.Messages.GAME_FEED_ARTICLE_TYPE_NEWS},void 0,x(h.default,{news:r,game:n,onClick:function(){return e.handleNewsClick(r)},onVideoPlay:a,className:G.default.news}))},n.renderHeaderActions=function(){var e=this.props,t=e.game,n=e.isDiscordStoreApplication,r=e.hasLibraryApplication,a=!n||r;return x(b.default,{className:a?G.default.headerButtonHide:null,source:D.AnalyticsLocations.ACTIVITY_FEED,application:t,size:m.default.Sizes.SMALL,color:U.default.headerButtonColor,pauseAnimation:!this.state.isMouseOver})},n.render=function(){var e=this.props,t=e.game,n=e.onApplicationContextMenu;return a.createElement(p.default,{className:G.default.card,ref:this.setActivityFeedCardRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},x(p.default.Header,{className:G.default.cardHeader,splashArtURL:t.getSplashURL(512)},void 0,x("div",{className:G.default.headerContent,onContextMenu:function(e){return n(e,t)}},void 0,x(A.default,{game:t,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:k.default.iconHover},void 0,x(_.default,{game:t,onContextMenu:function(e){return n(e,t)}})),x(A.default,{game:t,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:k.default.textHover},void 0,x("div",{className:G.default.headerTitle},void 0,t.name))),this.renderHeaderActions()),x(p.default.Body,{className:G.default.cardBody},void 0,this.renderPlayers(),this.renderPlayersOverflow(),this.renderNews()))},t}(a.PureComponent);K.displayName="GameCard";var z=o.default.connectStores([s.default,l.default,u.default,i.default,l.default,c.default],function(e){var t=e.game,n=u.default.getActiveLibraryApplication(t.id),r=null!=n?n.branchId:null,a=t.primarySkuId;return{hasLibraryApplication:null!=n,isDiscordStoreApplication:null!=a&&!c.default.didFetchingSkuFail(a),canPlay:(0,I.isLaunchable)(u.default,s.default,l.default,i.default,t.id,r)}})((0,L.default)(K));t.default=z},7204:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(148)),i=l(n(5855));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t=e.title,n=e.children,r=e.className;return s("div",{className:(0,a.default)(i.default.section,r)},void 0,null!=t?s(o.default,{align:o.default.Align.CENTER},void 0,s("div",{className:i.default.sectionTitle},void 0,t),s("div",{className:i.default.sectionLine})):null,n)};u.displayName="Section";var d=u;t.default=d,e.exports=t.default},7256:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(6)),i=p(n(5993)),l=p(n(5992)),s=p(n(301)),u=p(n(821)),d=p(n(5359)),c=n(0),f=p(n(5867));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t=e.member,n=e.empty,r=e.analyticsContext;if(n)return v("div",{className:f.default.partyMemberEmpty});if(null==t)return v("div",{className:f.default.partyMemberUnknown},void 0,v(s.default,{name:s.default.Names.UNKNOWN_USER,className:f.default.partyMemberUnknownIcon}));var o={location:h({},r.location,{object:c.AnalyticsObjects.AVATAR})};return v("div",{className:f.default.partyMemberKnown},void 0,v(u.default,{render:function(e){return a.createElement(d.default,h({},e,{user:t,analyticsParams:o}))},position:u.default.Positions.LEFT,closeOnScroll:!1},void 0,v(l.default,{src:t.getAvatarURL(),imageClassName:f.default.partyMember})))};m.displayName="PartyMember";var y=(0,i.default)(m),_=function(e){var t=e.partySize,n=e.members,r=e.maxAvatarsShown,a=void 0===r?2:r,i=t.unknownSize,l=t.totalSize,s=t.knownSize;if(0===l)return null;for(var u=(0,o.default)(n).filter(function(e){return null!=e}).take(a).map(function(e){return v(y,{member:e},e.id)}).value(),d=0;d<i&&u.length<a;d++)u.push(v(y,{},"unknown-member-"+d));for(var c=l-s-i,p=0;p<c&&u.length<a;p++)u.push(v(y,{empty:!0},"empty-member-"+p));var h=Math.max(Math.min(l-u.length,99),0);if(1===h){var m=n[a];u.push(v(y,{member:m},m.id))}return v("div",{className:f.default.wrapper},void 0,v("div",{className:f.default.partyMembers},void 0,u,h>1?v("div",{className:f.default.partyMemberOverflow},void 0,"+",h):null))};_.displayName="PartyAvatars";var g=_;t.default=g,e.exports=t.default},7257:function(e,t,n){e.exports=n.p+"213acc14046cd858588e10b2e35ab7da.svg"},7258:function(e,t,n){"use strict";t.__esModule=!0,t.getDataFromRecentlyPlayed=k,t.getSortedApplicationIds=G,t.getSortedItemsFromData=F,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=R(n(17)),i=R(n(3)),l=n(78),s=(R(n(128)),R(n(41))),u=R(n(6290)),d=R(n(6129)),c=R(n(455)),f=R(n(14)),p=R(n(881)),h=R(n(6108)),v=R(n(219)),m=R(n(6095)),y=R(n(107)),_=R(n(6033)),g=R(n(6026)),E=R(n(18)),S=R(n(5996)),T=R(n(6262)),O=R(n(6745)),I=R(n(7256)),C=R(n(8069)),N=n(6186),A=n(0),M=R(n(13)),P=R(n(5610)),b=R(n(5875));function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var U=500;function k(e){var t={};for(var n in e)if(c.default.isOnFeed(n)&&f.default.getUser(n))for(var r in e[n]){if(null!=s.default.getGame(r)){var a=u.default.getUserGame(n);if(null==a||a.gameId!==r){var o=d.default.gamesByUser[n][r].date;null==t[r]?t[r]={players:[{userId:n,stoppedPlaying:o}],mostRecentStoppedPlaying:o}:(t[r].players.push({userId:n,stoppedPlaying:o}),t[r].mostRecentStoppedPlaying<o&&(t[r].mostRecentStoppedPlaying=o))}}}return t}function G(e){return Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).sort(function(t,n){return e[n].players.length-e[t].players.length})}function F(e,t){return e.reduce(function(e,n){var r=s.default.getGame(n);if(null==r)return e;var a={applicationId:n,application:r,players:t[n].players.reduce(function(e,t){var n=t.userId,r=t.stoppedPlaying,a=f.default.getUser(n);return a&&e.push({user:a,stoppedPlaying:r}),e},[]).sort(function(e,t){return t.stoppedPlaying-e.stoppedPlaying})};return a.players.length>0&&e.push(a),e},[])}var j=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={popoutStaysOpen:!1},n.trackHover=function(){var e=n.props,t=e.loadId,r=e.analyticsContext,a=n.props.applicationInfo.players;E.default.track(A.AnalyticEvents.HOVER_MENU_OPENED,{location:D({},r.location,{object:A.AnalyticsObjects.HOVER_MENU}),load_id:t,num_users:a.length})},n.handleMouseEnter=function(){n.hoverTimeout.start(U,n.trackHover)},n.handleMouseLeave=function(){n.hoverTimeout.stop()},n.keepPopoutOpen=function(){n.setState({popoutStaysOpen:!0})},n.closePopout=function(){n.setState({popoutStaysOpen:!1})},n.hoverTimeout=new l.Timeout,n}w(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.hoverTimeout.stop()},n.renderPlayerCountText=function(){var e=this.props.applicationInfo.players;switch(e.length){case 1:return e[0].user.username;default:return M.default.Messages.ACTIVITY_FEED_RECENTLY_PLAYED_HEADER_MULTIPLE.format({user1:e[0].user.username,extra:e.length-1})}},n.render=function(){var e=this.props.onApplicationContextMenu,t=this.props.analyticsContext.location,n=this.props.applicationInfo,r=n.application,a=n.players,i=this.state.popoutStaysOpen,l={knownSize:a.length,totalSize:a.length,unknownSize:0},s=a.map(function(e){return e.user});return L("div",{className:(0,o.default)(b.default.itemContainer,P.default.popoutContainer),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,L(v.default,{className:b.default.applicationIconContainer,onClick:function(e){return(0,N.toggleGamePopout)(e,r,t)},onContextMenu:function(t){return e(t,r)}},void 0,L("img",{src:r.getIconURL(64),className:b.default.applicationIcon,alt:r.name})),L("div",{className:b.default.infoSection},void 0,L(_.default,{className:b.default.applicationName,size:_.default.Sizes.SIZE_16},void 0,r.name),L(g.default,{className:b.default.applicationPlayers},void 0,this.renderPlayerCountText())),L(I.default,{partySize:l,members:s}),L(S.default,{section:A.AnalyticsSections.ACTIVITY_FEED_RECENTLY_PLAYED_HOVER_POPOUT},void 0,L(C.default,{title:M.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:s.length}),className:P.default.popout,members:s,closeOnLeave:this.closePopout,visibleOnMouseLeave:i,keepOpen:this.keepPopoutOpen})))},t}(a.PureComponent);j.displayName="RecentlyPlayedItem";var x=(0,T.default)(j),B=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.items,n=e.layout,r=e.className,i=e.isWrapped,l=e.loadId,s=t.slice(0,6),u=s.map(function(e,t){return L(a.Fragment,{},e.application.id,L(x,{applicationInfo:e,layout:n,loadId:l}),t!==s.length-1?L(O.default.Separator,{className:b.default.separator}):null)});return 0===u.length?null:i?L(m.default,{padded:!1},void 0,L("div",{className:(0,o.default)(r,b.default.recentlyPlayedContainer)},void 0,L(_.default,{size:_.default.Sizes.SIZE_16,className:b.default.formTitleInCard},void 0,M.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),u)):L(a.Fragment,{},void 0,L(y.default,{},void 0,M.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),L("div",{className:(0,o.default)(r,b.default.recentlyPlayedContainer)},void 0,u))},t}(a.PureComponent);B.displayName="RecentlyPlayed";var H=i.default.connectStores([d.default,u.default,s.default,c.default,h.default,p.default],function(e){var t=e.isWrapped,n=k(d.default.gamesByUser),r=G(n);return{loadId:h.default.loadId,items:F(r,n),isWrapped:t||null!=p.default.getGuildsCardAndTrigger()}})(B);t.default=H},7259:function(e,t,n){"use strict";t.__esModule=!0,t.startLurking=G,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=L(n(6)),l=L(n(453)),s=L(n(156)),u=L(n(303)),d=L(n(3)),c=L(n(1)),f=L(n(827)),p=n(911),h=n(6245),v=n(8075),m=L(n(230)),y=L(n(28)),_=L(n(35)),g=L(n(8076)),E=L(n(308)),S=L(n(6495)),T=L(n(438)),O=L(n(18)),I=L(n(79)),C=D(n(8077)),N=L(n(44)),A=n(0),M=L(n(13)),P=L(n(5878)),b=L(n(8078)),R=L(n(8079));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=Object.freeze({SEARCH:"Search",RECOMMENDED:"Recommended",POPULAR:"Popular"});function G(e,t){var n=y.default.getGuild(e),r={state:{analyticsSource:t}};null!=n&&null!=n.joinedAt?N.default.transitionTo(A.Routes.GUILD(e),r):f.default.joinGuild(e,!0).then(function(){f.default.transitionToGuildSync(e,r)})}function F(){return s.default.v4().replace(/-/g,"")}var j=i.default.throttle(function(e){O.default.track(A.AnalyticEvents.SEARCH_RESULT_VIEWED,e)},1e3),x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleViewGuild=function(e){var n=t.props,r=n.guilds,a=n.analyticsContext,o=n.onViewGuild,i=r.findIndex(function(t){return t.id===e});o(e,i,a)},t.renderGuild=function(e){var n=t.props.loadingGuildId,r=I.default.getGuildSplashURL({id:e.id,splash:e.splash,size:1024}),a=I.default.getGuildIconURL({id:e.id,icon:e.icon}),o=e.features.has(A.GuildFeatures.VERIFIED);return null==r||null==a?null:w(g.default,{guildId:e.id,name:e.name,splashUrl:r,avatarUrl:a,presenceCount:e.presenceCount,isVerified:o,isLoadingGuild:e.id===n,onView:t.handleViewGuild,className:P.default.guildCard},e.id)},t}return U(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.guilds;return w("div",{},void 0,w("h3",{className:P.default.sectionHeader},void 0,t),w("div",{className:P.default.guildList},void 0,n.map(this.renderGuild)))},t}(a.Component);x.displayName="GuildList";var B=w(l.default,{title:"Discord"}),H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={query:"",animatedValue:new u.default.Value(0),searchId:null,loadingGuildId:null},t.loadId=F(),t.trackDiscoveryViewed=function(){var e=t.props.guilds,n=e.gamesYouPlay,r=e.all,a=n.length,o=r.length;O.default.track(A.AnalyticEvents.GUILD_DISCOVERY_VIEWED,{load_id:t.loadId,num_guilds:a+o,num_guilds_recommended:a,num_guilds_popular:o,recommended_guild_ids:n.map(function(e){return e.id})})},t.handleChangeSearch=function(e){var n=t.state.query;t.setState({query:e}),0===n.length&&e.length>0&&(t.setState({searchId:F()}),O.default.track(A.AnalyticEvents.SEARCH_STARTED,{search_type:A.SearchTypes.GUILD_DISCOVERY,load_id:t.loadId}))},t.handleClearSearch=function(){t.setState({query:""})},t.handleScroll=function(e){var n=t.state.animatedValue,r=e.getScrollData().scrollTop;n.setValue(Math.min(1,r/200))},t.handleViewGuild=function(e,n,r){if(e!==t.state.loadingGuildId&&(t.setState({loadingGuildId:e}),G(e,{page:A.AnalyticsPages.GUILD_DISCOVERY,section:r,object:A.AnalyticsObjects.CARD}),O.default.track(A.AnalyticEvents.GUILD_DISCOVERY_GUILD_SELECTED,{location:A.AnalyticsPages.GUILD_DISCOVERY,location_page:A.AnalyticsPages.GUILD_DISCOVERY,location_section:r,location_object:"Card",guild_id:e,load_id:t.loadId,card_index:n}),r===k.SEARCH)){var a=t.state,o=a.query,i=a.searchId,l=C.search(t.props.guilds.all,o);O.default.track(A.AnalyticEvents.SEARCH_RESULT_SELECTED,{search_type:A.SearchTypes.GUILD_DISCOVERY,load_id:t.loadId,search_id:i,total_results:l.length,index_num:n})}},t}U(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.isFetching;(0,h.fetchActivityStatistics)(),(0,p.fetchGuildDiscoveryMetadata)(),c.default.wait(function(){return(0,v.markView)(A.ViewHistoryKeys.SERVER_DISCOVERY_BADGE)}),e||this.trackDiscoveryViewed()},n.componentDidUpdate=function(e){var t=this.props.isFetching;e.isFetching&&!t&&this.trackDiscoveryViewed()},n.getAssetStyle=function(){var e=this.state.animatedValue;return{opacity:e.interpolate({inputRange:[0,1],outputRange:[1,0]}),transform:[{translateY:e.interpolate({inputRange:[0,1],outputRange:["0%","-10%"]})}]}},n.renderLoading=function(){return w(T.default,{className:P.default.spinner})},n.renderSearch=function(){var e=this.state.query;return w("div",{className:P.default.search},void 0,w("h2",{className:P.default.mainHeader},void 0,M.default.Messages.GUILD_DISCOVERY_SEARCH_HEADER),w(S.default,{searchTerm:e,className:P.default.searchBox,inputClassName:P.default.searchBoxInput,label:M.default.Messages.GUILD_DISCOVERY_SEARCH_LABEL,placeholder:M.default.Messages.GUILD_DISCOVERY_SEARCH_PLACEHOLDER,onChange:this.handleChangeSearch,onClear:this.handleClearSearch,autoFocus:!0}))},n.renderSearchResults=function(e){return w(x,{title:M.default.Messages.GUILD_DISCOVERY_HEADER_SEARCH_RESULTS,guilds:e,loadingGuildId:this.state.loadingGuildId,analyticsContext:k.SEARCH,onViewGuild:this.handleViewGuild})},n.renderEmptySearchResults=function(){return w("div",{className:P.default.emptySearchResults},void 0,w("div",{className:P.default.emptySearchImage}),w("h1",{className:P.default.emptySearchTitle},void 0,M.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_TITLE),w("div",{className:P.default.emptySearchDescription},void 0,M.default.Messages.GUILD_DISCOVERY_SEARCH_EMPTY_DESCRIPTION))},n.renderGamesYouPlay=function(){var e=this.props.guilds.gamesYouPlay;return null==e||0===e.length?null:w(x,{title:M.default.Messages.GUILD_DISCOVERY_HEADER_GAMES_YOU_PLAY,guilds:e,loadingGuildId:this.state.loadingGuildId,analyticsContext:k.RECOMMENDED,onViewGuild:this.handleViewGuild})},n.renderAll=function(){var e=this.props.guilds.all;return null==e?null:w(x,{title:M.default.Messages.GUILD_DISCOVERY_HEADER_POPULAR_SERVERS,guilds:e.filter(function(e){return null!=e.presenceCount&&e.presenceCount>=250}),loadingGuildId:this.state.loadingGuildId,analyticsContext:k.POPULAR,onViewGuild:this.handleViewGuild})},n.renderListings=function(){var e=this.props,t=e.guilds.all,n=e.theme,r=this.state,i=r.query,l=r.searchId,s=i.length>=3,d=s?C.search(t,i):[],c=s&&0===d.length,f=n===A.ThemeTypes.LIGHT?R.default:b.default;return s&&j({search_type:A.SearchTypes.GUILD_DISCOVERY,load_id:this.loadId,search_id:l,total_results:d.length}),w(a.Fragment,{},void 0,w(u.default.img,{className:P.default.bg,style:this.getAssetStyle(),src:f}),w(E.default,{track:!0,onScroll:this.handleScroll},void 0,w("div",{className:(0,o.default)(P.default.pageHeader,P.default.pageHeaderDrag)}),w("div",{className:P.default.body},void 0,this.renderSearch(),s&&!c?this.renderSearchResults(d):null,s&&c?this.renderEmptySearchResults():null,s?null:this.renderGamesYouPlay(),s&&c?null:this.renderAll())))},n.render=function(){var e=this.props.isFetching;return w("div",{className:P.default.pageWrapper},void 0,B,e?this.renderLoading():this.renderListings())},t}(a.PureComponent);H.displayName="GuildDiscovery";var V=d.default.connectStores([m.default],function(){return{isFetching:m.default.isFetching(),guilds:m.default.getDiscoverableGuilds(),theme:_.default.theme}})(H);t.default=V},7260:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(460)),i=p(n(5993)),l=p(n(6036)),s=p(n(44)),u=p(n(6029)),d=n(0),c=p(n(13)),f=p(n(5884));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=h(u.default.Divider,{}),y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleItemSelect=function(e){var n=t.props,r=n.analyticsContext;e!==n.currentRoute&&s.default.transitionTo(e,{state:{analyticsSource:v({},r.location,{section:d.AnalyticsSections.TABS,object:d.AnalyticsObjects.NAVIGATION_LINK})}})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.renderToolbar,n=e.currentRoute;return h(u.default,{className:f.default.libraryHeader,renderToolbar:t},void 0,h(u.default.Icon,{name:o.default.LIBRARY}),h(u.default.Title,{},void 0,c.default.Messages.LIBRARY),m,h(l.default,{type:l.default.Types.TOP_PILL,selectedItem:n,onItemSelect:this.handleItemSelect},void 0,h(l.default.Item,{id:d.Routes.APPLICATION_LIBRARY},void 0,c.default.Messages.APPLICATION_LIBRARY_MY_GAMES),h(l.default.Item,{id:d.Routes.APPLICATION_LIBRARY_INVENTORY},void 0,c.default.Messages.APPLICATION_LIBRARY_INVENTORY)))},r}(a.PureComponent);y.displayName="ApplicationLibraryHeader";var _=(0,i.default)(y);t.default=_,e.exports=t.default},7261:function(e,t,n){"use strict";t.__esModule=!0,t.sortList=function(e,t){a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_SORT_UPDATE,key:e,direction:t})},t.updateLibraryFilter=function(e){a.default.dispatch({type:o.ActionTypes.LIBRARY_APPLICATION_FILTER_UPDATE,query:e})},t.updateActiveRowKey=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE,key:e,isKeyboardEvent:t})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},7262:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(219)),l=d(n(301)),s=n(0),u=d(n(5890));function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){return f("div",{className:e.className},void 0,e.children)};p.displayName="RowHeader";var h=function(e){return f("div",{className:e.className},void 0,e.children)};h.displayName="Row";var v=function(e){return f("div",{className:e.className},void 0,e.children)};v.displayName="Cell";var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSort=function(e){var n=t.props,r=n.sortKey,a=n.sortDirection,o=n.onSort;null!=o&&o(e,r===e&&a===s.TableSortDirections.ASCENDING?s.TableSortDirections.DESCENDING:s.TableSortDirections.ASCENDING)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.isSortable=function(e){return null!=e.sort&&!1!==e.sort},d.getDefaultSort=function(e){return function(t,n){var r=t[e],a=n[e];return null!=r&&null!=a?r===a?0:r<a?-1:1:0}},d.renderHeader=function(e){var t,n=this;void 0===e&&(e=!1);var r=this.props,a=r.columns,d=r.data,c=r.sortDirection,h=r.sortKey,v=r.headerCellClassName,m=r.headerClassName,y=r.sortedHeaderCellClassName,_=r.stickyHeader,g=a.map(function(e){var t,r=null!=e.renderHeader?e.renderHeader(e,d):e.key;return f(i.default,{className:(0,o.default)(u.default.headerCell,v,e.headerCellClassName,e.cellClassName,(t={},t[y||u.default.sortedHeaderCell]=h===e.key,t[u.default.clickable]=n.isSortable(e),t)),onClick:n.isSortable(e)?function(){return n.handleSort(e.key)}:null},e.key,f("div",{className:u.default.headerCellContent},void 0,r,n.isSortable(e)&&h===e.key?f(l.default,{name:c===s.TableSortDirections.ASCENDING?l.default.Names.ARROW_DROP_UP:l.default.Names.ARROW_DROP_DOWN,className:u.default.sortIcon}):null))});return f(p,{className:(0,o.default)(m,u.default.row,(t={},t[u.default.stickyHeader]=_&&!e,t[u.default.spacerHeader]=_&&e,t))},void 0,g)},d.renderBody=function(){var e=this.props,t=e.columns,n=e.data,r=e.sortData,i=e.sortKey,l=e.sortDirection,d=e.bodyCellClassName,f=e.rowClassName,p=e.cellProps,h=e.rowProps,v=e.rowComponent,m=e.cellComponent,y=n;if(r){var _=null!=i?t.find(function(e){return e.key===i}):null,g=[].concat(n),E=null!=_&&_.sort,S=null!=_&&null!=i&&this.isSortable(_)?g.sort("function"==typeof E?function(e,t){return E(e,t,l)}:this.getDefaultSort(i)):g;y=null!=_&&l===s.TableSortDirections.DESCENDING?S.reverse():S}return y.map(function(e,n){var r=t.map(function(t){return a.createElement(m,c({},p,{key:t.key,item:e,className:(0,o.default)(d,t.bodyCellClassName,t.cellClassName)}),null!=t.render?t.render(e,p,n):e[t.key])});return a.createElement(v,c({},h,{key:e.key,item:e,className:(0,o.default)(u.default.row,f)}),r)})},d.render=function(){var e=this.props,t=e.className,n=e.hasHeader,r=e.stickyHeader;return f("div",{className:t},void 0,n?this.renderHeader():null,n&&r?this.renderHeader(!0):null,this.renderBody())},r}(a.PureComponent);m.displayName="Table",m.SortDirection=s.TableSortDirections,m.defaultProps={initialSortDirection:s.TableSortDirections.ASCENDING,rowHeaderComponent:p,rowComponent:h,cellComponent:v,hasHeader:!0,sortData:!0,stickyHeader:!1};var y=m;t.default=y,e.exports=t.default},7263:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(21)),o=s(n(1)),i=s(n(177)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d="channelNotices",c="lastHiddenChannelNotice",f={},p=0,h=!1,v=0;function m(){a.default.set(d,f),a.default.set(c,p)}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){var e=a.default.get("showInviteNotice"),t=a.default.get(d)||{};p=a.default.get(c)||0,Object.keys(l.ChannelNoticeTypes).forEach(function(e){return f[e]=!0}),Object.keys(t).forEach(function(e){f[e]&&"boolean"==typeof t[e]&&(f[e]=t[e])}),null!=e&&(a.default.remove("showInviteNotice"),"boolean"==typeof e&&(f.INVITE=e)),m()},o.getState=function(){return h?{noticeStates:f,lastHidden:p}:{noticeStates:{},lastHidden:0}},o.shouldShowInviteNotice=function(){return a.default.get("showInviteNotice")||!1},o.getVersion=function(){return v},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){return h=!0,void(v+=1)},CONNECTION_CLOSED:function(e){return h=!1,void(v+=1)},CHANNEL_NOTICE_HIDE:function(e){var t=e.noticeType;f[t]=!1,f=u({},f),t!==l.ChannelNoticeTypes.MFA_WARNING&&(p=Date.now()),m(),i.default.trackWithMetadata(l.AnalyticEvents.CHANNEL_NOTICE_CLOSED,{notice_type:t}),v+=1}});t.default=y,e.exports=t.default},7265:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=d(n(3)),o=d(n(1)),i=d(n(87)),l=d(n(6456)),s=d(n(20)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p,h,v=new Set,m=u.FormStates.CLOSED,y=!1,_=null,g=null,E=null,S=null,T=null,O=null;function I(){if(E=l.default.getChannel(),S=l.default.getCategory(),null==E)return!1;var e=E.getGuildId();g=_=function(e){var t=e.getGuildId(),n=f({},e.permissionOverwrites);return null!=t&&null==n[t]&&(n[t]=i.default.makeEveryoneOverwrite(t)),n}(E),null==_[T]&&(T=e),h=null!=S,p=i.default.areChannelsLocked(E,S),O=null,y=!1,m=u.FormStates.CLOSED,v.clear()}var C=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,i,u=r.prototype;return u.initialize=function(){this.waitFor(l.default,s.default)},u.hasChanges=function(){return y},u.showNotice=function(){return this.hasChanges()},u.getPermissionOverwrite=function(e){return _&&_[e]},a=r,(o=[{key:"editedPermissionIds",get:function(){return Array.from(v)}},{key:"permissionOverwrites",get:function(){return _}},{key:"selectedOverwriteId",get:function(){return T}},{key:"formState",get:function(){return m}},{key:"isLockable",get:function(){return h}},{key:"locked",get:function(){return p}},{key:"channel",get:function(){return E}},{key:"category",get:function(){return S}}])&&c(a.prototype,o),i&&c(a,i),r}(a.default.Store))(o.default,{CHANNEL_SETTINGS_SET_SECTION:function(e){var t=e.section;if(null!=E||t!==u.ChannelSettingsSections.PERMISSIONS)return!1;I()},CHANNEL_SETTINGS_PERMISSIONS_INIT:function(e){return I()},CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION:function(e){var t,n=e.id,a=e.allow,o=e.deny,l=_&&_[n];if(null==l||null==E)return!1;l=f({},l,{allow:a,deny:o}),_=f({},_,((t={})[n]=l,t)),v.add(n),m=u.FormStates.OPEN,y=!r.default.isEqual(_,g),p=i.default.areChannelsLocked(E,S)},CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION:function(e){var t=e.id;if(null!=_&&null!=_[t])T=t;else{if(null==E)return!1;O=t}},CHANNEL_SETTINGS_CLOSE:function(e){return m=u.FormStates.CLOSED,_=null,g=null,E=null,S=null,y=!1,v.clear(),T=null,void(O=null)},CHANNEL_UPDATE:function(e){return function(e){if(null==E||E.id!==e)return!1;if(null==(E=s.default.getChannel(e)))return!1;S=l.default.getCategory();var t=E.getGuildId();if(null==t)return!1;var n={};v.forEach(function(e){null!=_&&(n[e]=_[e])}),null==n[t]&&null==E.permissionOverwrites[t]&&(n[t]=i.default.makeEveryoneOverwrite(t)),null==(_=f({},E.permissionOverwrites,n))[T]?T=t:O&&_[O]&&(T=O,O=null),p=i.default.areChannelsLocked(E,S)}(e.channel.id)},CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING:function(e){m=u.FormStates.SUBMITTING},CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS:function(e){return m=u.FormStates.CLOSED,void I()}});t.default=C,e.exports=t.default},7266:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={open:function(){a.default.dispatch({type:o.ActionTypes.EMAIL_VERIFICATION_MODAL_OPEN})},close:function(){a.default.dispatch({type:o.ActionTypes.EMAIL_VERIFICATION_MODAL_CLOSE})}};t.default=i,e.exports=t.default},7267:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(18)),l=p(n(124)),s=p(n(148)),u=p(n(821)),d=n(0),c=p(n(13)),f=p(n(5911));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=Object.freeze({WAVES:"waves",SHAPES:"shapes"}),_=Object.freeze({CENTER:"center",LEFT:"left"}),g=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={confirmed:!1},t.handleDismiss=function(){var e=t.props.onClickComplete;t.setState({confirmed:!0},function(){return e&&e()})},t}m(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.uniqueId;i.default.track(d.AnalyticEvents.SHOW_TUTORIAL,{tutorial:e})},n.componentWillUnmount=function(){i.default.track(d.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.uniqueId,acknowledged:this.state.confirmed})},n.render=function(){var e,t,n=this.props,r=n.background,i=n.renderMedia,u=n.textAlign,p=n.isLongText,h=n.title,m=n.body,g=n.forceTheme,E=n.onClickSkipAll,S=function(e){switch(e){case y.SHAPES:return I;case y.WAVES:default:return N}}(r),T="string"==typeof m?"p":"div",O=u===_.LEFT||p,C=u===_.CENTER||!O;return v(a.Fragment,{},void 0,v(S,{width:p?400:340}),null!=i&&v(s.default,{className:f.default.mediaContainer,justify:O?s.default.Justify.START:s.default.Justify.CENTER},void 0,i()),v("h4",{className:(0,o.default)((e={},e[f.default.titleCenter]=C,e[f.default.titleLeft]=O,e))},void 0,h),v(T,{className:(0,o.default)((t={},t[f.default.bodyCenter]=C,t[f.default.bodyLeft]=O,t))},void 0,m),v(s.default,{className:f.default.buttonContainer,justify:O?s.default.Justify.BETWEEN:s.default.Justify.CENTER},void 0,v(l.default,{onClick:this.handleDismiss},void 0,c.default.Messages.TUTORIAL_CLOSE),v(l.default,{look:l.default.Looks.BLANK,onClick:E,color:g===d.ThemeTypes.LIGHT?l.default.Colors.PRIMARY:l.default.Colors.WHITE,className:O?f.default.buttonSkipLeftAlign:f.default.buttonSkipCenterAlign},void 0,c.default.Messages.SKIP_ALL_TIPS)))},t}(a.PureComponent);g.displayName="TutorialPopoutContent";var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).popoutRef=a.createRef(),t.onClickComplete=function(){t.popoutRef.current&&t.popoutRef.current.close(),t.props.onComplete()},t.onClickSkipAll=function(){var e=t.props,n=e.onSkipAll,r=e.uniqueId;t.popoutRef.current&&t.popoutRef.current.close(),n(),i.default.track(d.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:r})},t.renderChildren=function(){return a.createElement(g,h({},t.props,{onClickComplete:t.onClickComplete,onClickSkipAll:t.onClickSkipAll}))},t}return m(t,e),t.prototype.render=function(){var e,t=this.props,n=(t.background,t.renderMedia),r=(t.textAlign,t.onComplete,t.onSkipAll,t.isLongText),i=(t.title,t.body,t.forceTheme),l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["background","renderMedia","textAlign","onComplete","onSkipAll","isLongText","title","body","forceTheme"]),s=null!=n;return a.createElement(u.default,h({forceTheme:i,ref:this.popoutRef},l,{render:this.renderChildren,containerClass:(0,o.default)((e={},e[f.default.topArrow]=l.position===u.default.Positions.BOTTOM,e[f.default.contentNarrowNoMedia]=!r&&!s,e[f.default.contentNarrowWithMedia]=!r&&s,e[f.default.contentWideNoMedia]=r&&!s,e[f.default.contentWideWithMedia]=r&&s,e[f.default.leftArrow]=l.position===u.default.Positions.RIGHT,e[f.default.rightArrow]=l.position===u.default.Positions.LEFT,e))}))},t}(a.PureComponent);t.default=E,E.displayName="TutorialPopout",E.Backgrounds=y,E.TextAlignments=_,E.defaultProps={background:y.WAVES,textAlign:_.LEFT};var S=v("ellipse",{cx:"247.455621",cy:"59",rx:"12.0710059",ry:"12"}),T=v("path",{d:"M23.258803 91.8945393v63.2274477H.106085V91.8945393zM55.3254436 73l15.0887576 14.9990739-15.0887576 14.9990741-15.0887572-14.9990741zM301.830473 108.016525l19.167752 19.053824-19.167752 19.053824-19.167751-19.053824zM310.106491 12.7308797L347.250401 0l73.222972 211.677377-37.14391 12.73088c-5.669616 1.943231-11.84832-1.056472-13.800527-6.700024-1.105801-3.19672-.64499-6.724348 1.245323-9.53328 7.52592-11.183222 4.519219-26.321932-6.715649-33.813255-1.853129-1.235653-3.86719-2.21346-5.986296-2.90629l-1.266377-.414034c-11.577042-3.78505-17.879527-16.195341-14.076994-27.719162.763673-2.314364 1.908841-4.486137 3.388596-6.426376 7.368113-9.660951 5.473231-23.438275-4.23234-30.772514-1.949201-1.472958-4.131001-2.61286-6.456051-3.373023l-2.532755-.828069c-11.577041-3.7850497-17.879527-16.1953414-14.076994-27.7191616.763673-2.3143643 1.908841-4.4861373 3.388602-6.4263759 7.368107-9.6609513 5.473225-23.4382753-4.232346-30.7725142-1.949195-1.4729574-4.131001-2.61286-6.456051-3.3730228l-1.266377-.4140345c-5.696874-1.8625623-8.798225-7.9694667-6.927065-13.6401535 1.059897-3.2120905 3.568845-5.7453686 6.780329-6.8460878z"}),O=v("g",{transform:"translate(21.12426 38)"},void 0,v("ellipse",{cx:"43.7573964",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"29.6745562",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"16.5976331",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"2.5147929",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"56.8343195",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"70.9171598",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"83.9940828",cy:"2.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"43.7573964",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"29.6745562",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"16.5976331",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"2.5147929",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"56.8343195",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"70.9171598",cy:"15.5",rx:"2.5147929",ry:"2.5"}),v("ellipse",{cx:"83.9940828",cy:"15.5",rx:"2.5147929",ry:"2.5"})),I=function(e){var t=e.width,n=void 0===t?340:t;return v("svg",{width:n,height:127*n/340,xmlns:"http://www.w3.org/2000/svg",className:f.default.background,viewBox:"0 0 340 127"},void 0,v("g",{transform:"translate(-7.04142 -38)",fill:"currentColor",fillRule:"evenodd",opacity:".05",viewBox:"0 0 340 127"},void 0,S,T,O))};I.displayName="BackgroundShapes";var C=v("g",{fill:"currentColor",fillRule:"evenodd",opacity:".05"},void 0,v("path",{d:"M280.695615-49.9359481l36.925416-12.73087973L390.41328 149.01055l-36.925417 12.730879c-5.636265 1.943231-11.778624-1.056472-13.719347-6.700024-1.099296-3.19672-.641196-6.724348 1.237998-9.53328 7.481649-11.183222 4.492635-26.321932-6.676146-33.813255-1.842228-1.235652-3.844441-2.21346-5.951082-2.90629l-1.258928-.414034c-11.508941-3.78505-17.774353-16.195341-13.994188-27.719162.759181-2.314364 1.897613-4.486137 3.368664-6.426376 7.32477-9.660951 5.441035-23.438275-4.207445-30.772514-1.937735-1.472957-4.106701-2.61286-6.418074-3.373023l-2.517856-.828069c-11.508941-3.78505-17.774353-16.1953413-13.994188-27.7191614.75918-2.3143643 1.897612-4.4861373 3.368669-6.4263759 7.324765-9.6609514 5.441029-23.4382753-4.20745-30.7725142-1.937729-1.4729574-4.106701-2.61286-6.418075-3.3730229l-1.258928-.4140344c-5.663362-1.8625623-8.74647-7.9694667-6.886317-13.6401535 1.053663-3.2120906 3.547852-5.7453687 6.740445-6.8460878zM-68.01869077 79.49585842l-20.12990526-33.47160903L103.76876345-69.18751479l20.1299054 33.47160828c3.07261115 5.10907886 1.4155271 11.7408859-3.70119977 14.81255967-2.89830828 1.7399104-6.44409251 2.02525587-9.582349.77113657-12.49436526-4.9930352-26.68080717 1.07817647-31.68630566 13.56042624-.82563028 2.0588776-1.36578616 4.22063593-1.60548107 6.42528824l-.1432415 1.31750012C75.87059765 13.2154035 65.0341537 21.92414581 52.97621631 20.62252338c-2.42163296-.26140655-4.78264084-.92342409-6.98632868-1.95893093-10.97274225-5.15608238-24.05734793-.4490438-29.22528443 10.51346677-1.03789209 2.20163593-1.70193171 4.5602038-1.96492152 6.97911517l-.28648198 2.63500013C13.20370582 50.83557372 2.36726115 59.54431607-9.69067645 58.24269359c-2.42163243-.26140738-4.78264026-.92342472-6.98632986-1.95893691-10.97274063-5.1560767-24.05734639-.4490385-29.22528288 10.51347247-1.03789322 2.20163034-1.70193166 4.56020379-1.9649215 6.97911506l-.14324096 1.31750011c-.64438158 5.92685282-5.9768212 10.21228442-11.91033757 9.57178193-3.36096731-.362806-6.35745842-2.27579363-8.09790155-5.16976783z"})),N=function(e){var t=e.width,n=void 0===t?340:t;return v("svg",{width:n,height:156*n/340,xmlns:"http://www.w3.org/2000/svg",className:f.default.background,viewBox:"0 0 340 156"},void 0,C)};N.displayName="BackgroundWaves",e.exports=t.default},7268:function(e,t,n){"use strict";t.__esModule=!0,t.nextStep=function(e,t){void 0===t&&(t=!1);a.default.dispatch({type:o.ActionTypes.HOMEPAGE_NUF_NEXT,isSkip:e,autoAdvance:t})},t.dismiss=function(e){void 0===e&&(e=!1);a.default.dispatch({type:o.ActionTypes.HOMEPAGE_NUF_DISMISS,isSkip:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},7269:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(8401),l=(r=n(7138))&&r.__esModule?r:{default:r};var s=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).machine={},n.transition=function(e,t){var r=n.state.currentState;if(null==r.nextEvents||r.nextEvents.includes(e)){var a=n.machine.transition(r,e);n.invokeActions(a),"final"!==n.machine.states[a.value].type&&n.setState({currentState:a,direction:null!=t?t.direction:n.state.direction})}},n.getDirection=function(){return n.state.direction},n.initializeStateMachine(t.stateChart),n.state={currentState:n.machine.initialState,direction:1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initializeStateMachine=function(e){this.machine=(0,i.Machine)(e)},o.componentDidMount=function(){this.invokeActions(this.state.currentState)},o.componentDidUpdate=function(e){this.props.stateChart!==e.stateChart&&(this.initializeStateMachine(this.props.stateChart),this.machine.initialState.value!==this.state.currentState.value&&this.setState({currentState:this.machine.initialState,direction:1}))},o.invokeActions=function(e){var t=e.value,n=e.actions,r=this.props.slideActions;null!=r&&0!==n.length&&n.forEach(function(e){return"function"==typeof r[e]&&r[e](t)})},o.renderCurrentSlide=function(){var e=this.props,t=e.slideStates,n=e.extState;return(0,t[this.state.currentState.value])(this.transition,n)},o.render=function(){var e=this.props.className,t=this.state.currentState;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{className:e,step:t.value,getDirection:this.getDirection},void 0,this.renderCurrentSlide())},r}(o.PureComponent);s.displayName="SlideManager";var u=s;t.default=u,e.exports=t.default},7270:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LHeading=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(17)),i=S(n(4)),l=S(n(6788)),s=S(n(7271)),u=n(6066),d=S(n(148)),c=S(n(125)),f=S(n(107)),p=S(n(18)),h=S(n(8205)),v=S(n(6085)),m=S(n(240)),y=S(n(6713)),_=n(0),g=S(n(13)),E=S(n(5924));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=m.default.parserFor(h.default.getDefaultRules());t.LHeading=function(e){var t,n=e.level,r=e.children,i=e.className;return a.createElement("h"+n,{className:o.default.apply(void 0,(t=i,null==t?[]:t.split(" ").map(function(e){return E.default[e]})))},r)};var C=function(e){var t,r;function o(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).getScrollerRef=function(e){t._scrollerNode=null!=e?e._scroller:null},t.handleScroll=function(){if(null!=t._scrollerNode){var e=t._scrollerNode.getScrollData(),n=e.offsetHeight,r=e.scrollHeight,a=e.scrollTop/(r-n);t.maxScrolledPercentage=Math.max(t.maxScrolledPercentage,a)}},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=o.prototype;return h.close=function(){l.default.hideChangeLog()},h.track=function(e,t,n){void 0===t&&(t={}),void 0===n&&(n=!1);var r=s.default.changeLog;if(r){var a=r.id,o=r.date,i=r.revision,l=O({change_log_id:(a||o)+":"+i},t);n||(l=O({seconds_open:Math.round((Date.now()-this.mountedAt)/1e3),max_scrolled_percentage:100*parseInt(this.maxScrolledPercentage.toPrecision(4),10)},l)),p.default.track(e,l)}},h.joinEligibleExperiment=function(){var e=s.default.changeLog;null!=e&&e.experiment_names&&v.default.triggerFirstEligibleUserExperiment(e.experiment_names)},h.componentDidMount=function(){if(null==s.default.changeLog)return this.close();this.mountedAt=Date.now(),this.maxScrolledPercentage=0,this.joinEligibleExperiment(),this.track(_.AnalyticEvents.CHANGE_LOG_OPENED,{},!0)},h.componentWillUnmount=function(){this.track(_.AnalyticEvents.CHANGE_LOG_CLOSED)},h.renderHeader=function(){var e=s.default.changeLog;return null==e?null:T(d.default.Child,{grow:1,shrink:1},void 0,T(f.default,{tag:f.default.Tags.H4},void 0,g.default.Messages.WHATS_NEW),T(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY,className:E.default.date},void 0,g.default.Messages.WHATS_NEW_DATE.format({date:e.date?(0,i.default)(e.date).toDate():new Date})))},h.renderFooter=function(){return T(c.default,{size:c.default.Sizes.SMALL,color:c.default.Colors.PRIMARY},void 0,g.default.Messages.MISSED_AN_UPDATE.format({link:"https://blog.discordapp.com/tagged/changelog"}))},h.renderVideo=function(){var e=s.default.changeLog;if(null==e)return null;var t=e.youtube_video_id,r=e.video,a=e.image;return t?T(u.EmbedVideo,{className:E.default.video,allowFullScreen:!1,href:"https://youtu.be/"+t,thumbnail:{url:"https://i.ytimg.com/vi/"+t+"/maxresdefault.jpg",width:451,height:254},video:{url:"https://www.youtube.com/embed/"+t+"?vq=large&rel=0&controls=0&showinfo=0",width:451,height:254},maxWidth:451,maxHeight:254}):r?T("video",{src:n(7090)("./"+r),width:451,height:254,loop:!0,muted:!0,autoPlay:!0,className:E.default.video}):a?T("img",{alt:"",src:n(7090)("./"+a),width:451,height:254}):null},h.render=function(){var e=s.default.changeLog||{};return a.createElement(y.default,{className:E.default.container,ref:this.getScrollerRef,onClose:this.close,renderHeader:this.renderHeader,renderFooter:this.renderFooter,onScroll:this.handleScroll},this.renderVideo(),I(e.body,!1,{changeLog:this}))},o}(a.PureComponent);C.displayName="ChangeLog",C.modalConfig={store:s.default,center:!0};var N=C;t.default=N},7271:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(492)),a=f(n(3)),o=f(n(21)),i=f(n(1)),l=f(n(6085)),s=f(n(57)),u=f(n(35)),d=f(n(14)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v,m,y="lastChangeLog",_="shouldShowChangeLog",g="en-us",E={},S={},T={},O=!1,I=!1;function C(e){return e.locale||g}if(n(8204).replace(/\r\n/g,"\n").split("---changelog---\n").slice(1).forEach(function(e){var t=!1,n={},r=e.split("\n").filter(function(e){if("---"===e)return t=!0,!1;if(!t){var r=e.split(": "),a=r.shift(),o=r.join(": ");n[a]=JSON.parse(o)}return t}).join("\n");if(null==n.date||null==n.revision)throw new Error("ChangeLogStore: A changelog does not contain a date or revision property");var a=h({},n,{date:n.date,revision:n.revision,locale:null!=n.locale?n.locale.toLowerCase():g,body:r});if(null!=n.experiment_names&&n.experiment_names.length>0)n.experiment_names.forEach(function(e){var t=S[e]||(S[e]={}),n=a.experiment_bucket||(a.experiment_bucket=c.ExperimentBuckets.CONTROL),r=t[String(n)]||(t[String(n)]={}),o=C(a);if(null!=r[o])throw new Error("ChangeLogStore: Locale ("+o+") already defined for "+e);r[o]=a});else if(n.hypesquad){var o=C(a);if(null!=T[o])throw new Error("ChangeLogStore: Locale ("+o+") already defined for HypeSquad changelogs");T[o]=a}else{var i=C(a);if(null!=E[i])throw new Error("ChangeLogStore: Locale ("+i+") already defined for default changelogs");E[i]=a}}),null==E[g])throw new Error("ChangeLogStore: No default changeLog");function N(e){void 0===e&&(e=!1);var t=null!=S?Object.keys(S):[],n=u.default.locale.toLowerCase(),r=null;if(!e&&t.length>0){var a=l.default.getFirstEligibleUserExperiment(t);if(null!=a){var o=a.name;if(null==o||null==S[o])throw new Error("ChangeLogStore: This changelog experiment has not been registered");var i=String(a.bucket);null!=S[a.name][i]&&(r=S[a.name][i][n]||S[a.name][i][g])}}if(null==r){var s=d.default.getCurrentUser();if(null!=s&&(s.hasFlag(c.UserFlags.HYPESQUAD)||s.hasFlag(c.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)||s.hasFlag(c.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)||s.hasFlag(c.UserFlags.HYPESQUAD_ONLINE_HOUSE_3))){var f=T[n]||T[g];if(null!=f)return f}}return null==r&&(r=E[n]||E[g]),r}function A(){var e=function(e){if(!e)return null;var t=e.date,n=e.revision,a=e.experiment_names;return r.default.v3(JSON.stringify({date:t,revision:n,experiment_names:a}))}(v=N());m!==e&&d.default.getCurrentUser().isClaimed()&&(I=null!=m,m=e,o.default.set(y,m),o.default.set(_,I)),O=!0}v=N(!0);var M=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,i,l,c=r.prototype;return c.initialize=function(){m=o.default.get(y)||m,I=o.default.get(_)||I,this.waitFor(d.default,s.default,u.default)},c.isOpen=function(){return O&&I},a=r,(i=[{key:"changeLog",get:function(){return v}}])&&p(a.prototype,i),l&&p(a,l),r}(a.default.Store))(i.default,{CHANGE_LOG_OPEN:function(e){return I=!0,void o.default.set(_,I)},CHANGE_LOG_CLOSE:function(e){return I=!1,void o.default.set(_,I)},CONNECTION_OPEN:function(e){return A()},CONNECTION_CLOSED:function(e){O=!1},USER_SETTINGS_UPDATE:function(e){return function(e){if(null==e.locale)return!1;v=N()}(e.settings)}});t.default=M,e.exports=t.default},7272:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(8)),a=l(n(1)),o=n(864),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s={setStep:function(e){void 0===e&&(e=-1),a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_SET_STEP,step:e})},updateTemporaryGuild:function(e){a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_UPDATE,guild:e})},createGuild:function(e,t,n){void 0===n&&(n=null),a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED}),r.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,errors:e.body})})},createGuildPromise:function(e,t,n){return void 0===n&&(n=null),r.default.post({url:i.Endpoints.GUILDS,body:{name:e,region:t,icon:n}}).then(function(){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_GUILD_CREATED})},function(e){throw e.body})},claimAccount:function(e){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUBMITTED}),t=e,(0,o.saveAccountRequest)(t).then(function(){a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_SUCCESS})},function(e){return a.default.dispatch({type:i.ActionTypes.NEW_USER_FLOW_ACCOUNT_FAILURE,errors:e.body}),Promise.reject(e)});var t}};t.default=s,e.exports=t.default},7273:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(3)),a=p(n(21)),o=p(n(1)),i=p(n(18)),l=p(n(9)),s=p(n(237)),u=p(n(6054)),d=p(n(6055)),c=p(n(6661)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v,m=0,y=2,_="newUserModalStep",g="nuo_transition",E="NUX_WEB_WELCOME",S=0,T=m,O=!1,I={},C={name:"",icon:null,region:null};function N(e){if(M.isOpen()){var t=Date.now();S||(S=t);var n,r,a=(r=e,0===(n=T)&&0===r?{from_step:"INITIAL",to_step:"WELCOME",skip:!1}:0===n&&1===r?{from_step:"WELCOME",to_step:"CREATE_GUILD",skip:!1}:0===n&&-1===r?{from_step:"WELCOME",to_step:"DISABLED",skip:!0}:1===n&&-1===r?{from_step:"CREATE_GUILD",to_step:"DISABLED",skip:!0}:1===n&&2===r?{from_step:"CREATE_GUILD",to_step:"CREATE_GUILD_SUCCESS"}:void 0);null!=a&&(i.default.track(g,h({},a,{flow_type:E,seconds_on_from_step:(t-S)/1e3})),T=e)}}function A(e){var t=e.step;N(t),T=t,a.default.set(_,t)}var M=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){T=a.default.get(_)||T,this.waitFor(s.default,u.default,d.default,c.default)},o.getNewUserModalStep=function(){return T},o.isOpen=function(){if(null!=d.default.getAction())return!1;var e=c.default.getExperimentDescriptor();return(!e||e.bucket===f.ExperimentBuckets.CONTROL)&&((0!==T||!(s.default.totalGuilds>0||l.default.embedded))&&(O&&T>=0&&T<y))},o.getProps=function(){return{step:T,errors:I,guildSubmitting:v===f.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED,guild:C}},r}(r.default.Store))(o.default,{NEW_USER_FLOW_SET_STEP:A,NEW_USER_FLOW_GUILD_UPDATE:function(e){C=h({},C,e.guild)},NEW_USER_FLOW_GUILD_CREATED:function(e){return v=f.ActionTypes.NEW_USER_FLOW_GUILD_CREATED,void A({step:y})},NEW_USER_FLOW_GUILD_FAILURE:function(e){v=f.ActionTypes.NEW_USER_FLOW_GUILD_FAILURE,I=e.errors},NEW_USER_FLOW_GUILD_SUBMITTED:function(e){v=f.ActionTypes.NEW_USER_FLOW_GUILD_SUBMITTED},CONNECTION_OPEN:function(e){return O=!0,void N(0)},CONNECTION_CLOSED:function(e){O=!1},LOAD_REGIONS:function(e){null==e.guildId&&(C=h({},C,{region:C.region||u.default.getOptimalRegionId()}))},REGISTER:function(e){return S=0,void(T=m)},LOGOUT:function(e){return a.default.remove(_),void(O=!1)},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}}),P=M;t.default=P,e.exports=t.default},7274:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(148)),l=s(n(5937));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d={WRAP:"wrap",STACK:"stack"},c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderChildren=function(){var e,t=this.props,n=t.children,r=t.layout,a=t.columns;switch(r){case d.STACK:e="100%";break;case d.WRAP:e=1/a*100+"%"}return n.map(function(t,n){return u(i.default.Child,{className:l.default.tile,basis:e,grow:0},n,t)})},a.render=function(){var e=this.props.className;return u(i.default,{className:(0,o.default)(e,l.default.grid),wrap:i.default.Wrap.WRAP},void 0,this.renderChildren())},r}(a.PureComponent);c.displayName="Grid",c.defaultProps={children:[],layout:d.WRAP,columns:4},c.Layout=d;var f=c;t.default=f,e.exports=t.default},7452:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=C(n(17)),i=C(n(3)),l=C(n(6133)),s=C(n(6022)),u=C(n(35)),d=n(106),c=C(n(7481)),f=C(n(7483)),p=C(n(7484)),h=C(n(8123)),v=C(n(8124)),m=C(n(8128)),y=C(n(8151)),_=C(n(8161)),g=C(n(8162)),E=C(n(8171)),S=C(n(8172)),T=n(0),O=C(n(312)),I=C(n(976));function C(e){return e&&e.__esModule?e:{default:e}}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=N(E.default,{}),M=N(c.default,{}),P=N(f.default,{}),b=N(_.default,{}),R=N(h.default,{}),L=N(y.default,{}),D=N(g.default,{}),w=N(v.default,{}),U=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).shake=function(e){var n=e.duration,r=e.intensity;t.refs.shakeable&&t.refs.shakeable.shake(n,r)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){d.ComponentDispatch.subscribe(T.ComponentActions.SHAKE_APP,this.shake),s.default.setLayout(l.default),s.default.enable()},i.componentWillUnmount=function(){d.ComponentDispatch.unsubscribe(T.ComponentActions.SHAKE_APP,this.shake),s.default.disable()},i.render=function(){var e=this.props,t=e.theme,n=e.match;return a.createElement(S.default,{ref:"shakeable",className:(0,o.default)(I.default.app,O.default.vertical,"theme-"+t)},N(m.default,{className:(0,o.default)(O.default.vertical,O.default.spacer)},void 0,N(p.default,{match:n})),A,M,P,b,R,L,D,w)},r}(a.Component);U.displayName="Chat";var k=i.default.connectStores([u.default],function(){return{theme:u.default.theme}})(U);t.default=k,e.exports=t.default},7481:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=h(n(7482)),o=h(n(32)),i=h(n(3)),l=h(n(6232)),s=h(n(6043)),u=h(n(7146)),d=h(n(859)),c=h(n(85)),f=h(n(9)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var v=new Set(["Blink","Gecko","WebKit"]),m=p.NOOP;if(f.default.embedded)m=function(e){return f.default.setBadge(e)};else if(v.has(o.default.layout)){var y=new a.default({animation:"none"});m=function(e){try{y.badge(-1===e?"•":e)}catch(e){}}}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).cancelBounce=null,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.componentDidUpdate()},a.componentDidUpdate=function(){var e=this.props,t=e.badge,n=e.hasIncomingCalls;m(t),n&&!this.cancelBounce?this.cancelBounce=f.default.bounceDock("critical"):!n&&this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},a.componentWillUnmount=function(){m(0),this.cancelBounce&&(this.cancelBounce(),this.cancelBounce=null)},a.render=function(){return null},r}(r.PureComponent);_.displayName="AppBadge";var g=function(){return null};m!==p.NOOP&&(g=i.default.connectStores([s.default,u.default,c.default,l.default,d.default],function(){var e=s.default.getTotalMentionCount(),t=c.default.getPendingCount(),n=l.default.getSuggestionCount(),r=s.default.hasAnyUnread(),a=d.default.getDisableUnreadBadge(),o=e+t+n;return 0===o&&r&&!a&&(o=-1),{badge:o,hasIncomingCalls:u.default.hasIncomingCalls()}})(_));var E=g;t.default=E,e.exports=t.default},7483:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=y(n(153)),o=y(n(3)),i=y(n(446)),l=y(n(824)),s=y(n(6232)),u=y(n(6043)),d=y(n(46)),c=y(n(859)),f=y(n(181)),p=y(n(85)),h=y(n(463)),v=y(n(9)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var _=(0,a.default)({DEFAULT:null,UNREAD:null,CONNECTED:null,SPEAKING:null,MUTED:null,DEAFENED:null}),g=v.default.isOSX(),E=v.default.isLinux(),S=g?null:_.DEFAULT,T=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={icon:S},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a._updateIcon=function(e){var t=e.deafened,n=e.muted,r=e.speaking,a=e.connected,o=e.unread,i=S;if(!g||a){if(E||!a)return o&&(i=_.UNREAD),void this.setState({icon:i});i=t?_.DEAFENED:n?_.MUTED:r?_.SPEAKING:_.CONNECTED,this.setState({icon:i})}else this.setState({icon:i})},a.componentDidMount=function(){this._updateIcon(this.props)},a.UNSAFE_componentWillReceiveProps=function(e){this._updateIcon(e)},a.componentDidUpdate=function(){v.default.setSystemTrayIcon(this.state.icon)},a.componentWillUnmount=function(){v.default.setSystemTrayIcon(g?null:S)},a.render=function(){return null},r}(r.PureComponent);T.displayName="AppTray";var O=function(){return null};v.default.embedded&&(v.default.on("SYSTEM_TRAY_TOGGLE_MUTE",i.default.toggleSelfMute),v.default.on("SYSTEM_TRAY_TOGGLE_DEAFEN",i.default.toggleSelfDeaf),v.default.on("SYSTEM_TRAY_OPEN_VOICE_SETTINGS",function(){l.default.open(m.UserSettingsSections.VOICE)}),O=o.default.connectStores([f.default,d.default,h.default,u.default,p.default,s.default,c.default],function(){var e=u.default.getTotalMentionCount(),t=u.default.hasAnyUnread(),n=p.default.getPendingCount(),r=s.default.getSuggestionCount(),a=!c.default.getDisableUnreadBadge()&&!!(t||e+n+r>0);return{connected:f.default.isConnected(),speaking:h.default.isCurrentUserSpeaking(),muted:!d.default.isEnabled()||d.default.isSelfMute()||d.default.isSelfMutedTemporarily(),deafened:d.default.isSelfDeaf(),unread:a}})(T));var I=O;t.default=I,e.exports=t.default},7484:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=X(n(2)),l=q(n(17)),s=n(221),u=q(n(3)),d=X(n(6159)),c=X(n(6233)),f=X(n(6114)),p=q(n(12)),h=q(n(842)),v=q(n(20)),m=q(n(837)),y=q(n(471)),_=q(n(57)),g=q(n(237)),E=q(n(230)),S=q(n(6043)),T=q(n(181)),O=q(n(49)),I=q(n(451)),C=q(n(941)),N=q(n(6053)),A=q(n(148)),M=q(n(7485)),P=q(n(9)),b=q(n(7486)),R=q(n(7617)),L=q(n(7620)),D=q(n(7760)),w=q(n(7761)),U=q(n(7776)),k=q(n(7778)),G=q(n(7786)),F=q(n(7787)),j=q(n(6040)),x=q(n(7788)),B=q(n(8047)),H=q(n(8087)),V=q(n(975)),Y=q(n(7259)),W=q(n(8100)),K=q(n(7059)),z=n(0),$=q(n(5900));function q(e){return e&&e.__esModule?e:{default:e}}function X(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Q(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ee=u.default.connectStores([v.default,O.default],function(){var e=O.default.getChannelId();return{channel:v.default.getChannel(e)}})(function(e){var t=e.channel,n=e.match.params.messageId;return null!=t&&t.type===z.ChannelTypes.GUILD_STORE?i.createElement(D.default,Z({},e,{key:t.id,inputSkuId:n})):i.createElement(L.default,e)}),te=u.default.connectStores([S.default,I.default,g.default,v.default,T.default,m.default,y.default,h.default,E.default,p.default],function(){var e=T.default.isDisabled()?null:T.default.getChannelId(),t=h.default.getMode(e);return{guilds:I.default.getSortedGuilds(),channels:v.default.getChannels(),selectedGuildId:m.default.getGuildId(),selectedVoiceGuildId:T.default.isDisabled()?null:T.default.getGuildId(),selectedVoiceChannelId:e,selectedPrivateChannelId:O.default.getChannelId(z.ME),unreadGuilds:S.default.getUnreadGuilds(),mentionCounts:S.default.getMentionCounts(),totalUnavailableGuilds:g.default.totalUnavailableGuilds,scrollTop:y.default.getGuildListDimensions().scrollTop,mode:t,isLurking:null!=E.default.lurkingGuildId(),isGuest:p.default.isGuest()}})(K.default),ne=(0,j.default)(C.default,((a={})[z.ExperimentTypes.NONE]=function(e){return i.createElement(x.default,e)},a[z.ExperimentTypes.USER]=((r={})[z.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return i.createElement(x.default,e)},r[z.ExperimentBuckets.CONTROL]=function(e){return i.createElement(x.default,e)},r[z.ExperimentBuckets.TREATMENT_1]=function(e){return i.createElement(B.default,e)},r),a));function re(){return window.location.pathname.startsWith(z.Routes.APPLICATION_STORE)}function ae(){return window.location.pathname.startsWith(z.Routes.GUILD_DISCOVERY)}var oe=Q(G.default,{}),ie=Q(U.default,{}),le=Q(F.default,{}),se=Q(b.default,{}),ue=Q(k.default,{}),de=Q(ne,{}),ce=Q(Y.default,{}),fe=u.default.connectStores([m.default,p.default],function(){return{selectedGuildId:m.default.getGuildId(),isGuest:p.default.isGuest()}})(function(e){function t(){return e.apply(this,arguments)||this}J(t,e);var n=t.prototype;return n.handleLogin=function(){c.open()},n.handleRegister=function(){f.open()},n.renderChannelSidebar=function(){var e=this.props,t=e.selectedGuildId,n=e.isGuest,r=re()?$.default.hiddenOnMobileStore:null;return ae()?null:Q("div",{className:(0,l.default)($.default.channels,r)},void 0,t?Q(W.default,{guildId:t}):oe,ie,le,Q(R.default,{guildId:t}),n?null:se)},n.renderGuestGuard=function(){return this.props.isGuest?Q(M.default,{onLogin:this.handleLogin,onRegister:this.handleRegister}):null},n.render=function(){var e=re()?$.default.hiddenOnMobileStore:null;return Q(A.default,{className:$.default.container},void 0,Q(te,{className:e,isOnGuildDiscoveryRoute:ae()}),Q(A.default,{direction:A.default.Direction.VERTICAL,className:$.default.base,style:{marginLeft:0}},void 0,Q(A.default.Child,{wrap:!0,grow:0,shrink:0,className:e},void 0,ue),Q(A.default,{className:$.default.spacer},void 0,this.renderChannelSidebar(),Q(s.Switch,{},void 0,Q(s.Route,{path:z.Routes.ACTIVITY,render:function(){return de}}),Q(s.Route,{path:z.Routes.APPLICATION_LIBRARY,component:H.default}),Q(s.Route,{path:z.Routes.APPLICATION_STORE,component:V.default}),Q(s.Route,{path:z.Routes.ME,exact:!0,component:w.default}),Q(s.Route,{path:z.Routes.CHANNEL(z.ME,":channelId"),render:function(e){return i.createElement(ee,e)}}),Q(s.Route,{path:z.Routes.CHANNEL(":guildId",":channelId?",":messageId?"),render:function(e){return i.createElement(ee,e)}}),Q(s.Route,{path:z.Routes.GUILD_DISCOVERY,render:function(){return ce}})),this.renderGuestGuard())))},t}(i.PureComponent)),pe=u.default.connectStores([_.default,N.default],function(){return{hasLoadedExperiments:_.default.hasLoadedExperiments,hasHandledRedirect:N.default.hasHandledRedirect}})(function(e){function t(){return e.apply(this,arguments)||this}J(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.hasLoadedExperiments,n=e.hasHandledRedirect,r=e.match;!P.default.isDesktop()||t||n||r.url!==z.Routes.FRIENDS||d.handleRedirect()},n.UNSAFE_componentWillReceiveProps=function(e){P.default.isDesktop()&&e.hasLoadedExperiments&&!this.props.hasLoadedExperiments&&!this.props.hasHandledRedirect&&this.props.match.url===z.Routes.FRIENDS&&d.handleRedirect()},n.render=function(){return i.createElement(fe,this.props)},t}(i.PureComponent));t.default=pe,e.exports=t.default},7485:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(124)),o=s(n(125)),i=s(n(13)),l=s(n(5397));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t=e.onLogin,r=e.onRegister;return u("div",{className:l.default.wrapper},void 0,u("div",{className:l.default.content},void 0,u("img",{alt:"",src:n(6489),className:l.default.image}),u("div",{},void 0,u(o.default,{className:l.default.header},void 0,i.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),u(o.default,{className:l.default.subHeader},void 0,i.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY))),u("div",{className:l.default.buttonContainer},void 0,u(a.default,{className:l.default.button,size:a.default.Sizes.MEDIUM,onClick:t,look:a.default.Looks.OUTLINED,color:a.default.Colors.WHITE},void 0,i.default.Messages.LOGIN),u(a.default,{className:l.default.button,size:a.default.Sizes.MEDIUM,onClick:r},void 0,i.default.Messages.REGISTER)))};d.displayName="GuestLurkerGuard";var c=d;t.default=c,e.exports=t.default},7486:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(2)),o=M(n(3)),i=M(n(446)),l=n(302),s=M(n(824)),u=M(n(46)),d=M(n(319)),c=M(n(14)),f=M(n(124)),p=M(n(148)),h=M(n(301)),v=M(n(6115)),m=M(n(821)),y=M(n(6681)),_=M(n(437)),g=M(n(7147)),E=M(n(7487)),S=M(n(6021)),T=M(n(6070)),O=P(n(6044)),I=M(n(7488)),C=n(0),N=M(n(13)),A=M(n(5511));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}var L=function(e){var t,r;function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={webBuildOverride:null},t.handleToggleSelfMute=function(){i.default.toggleSelfMute()},t.handleToggleSelfDeaf=function(){i.default.toggleSelfDeaf()},t.handleOpenSettings=function(){s.default.open(C.UserSettingsSections.ACCOUNT)},t.handleOpenSettingsContextMenu=function(e){(0,l.openContextMenu)(e,function(e){return a.createElement(I.default,e)})},t}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=o.prototype;return u.componentDidMount=function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.default.shouldCheckForBuildOverride()){e.next=5;break}return e.next=3,g.default.get();case 3:t=e.sent,this.setState({webBuildOverride:t.discord_web});case 5:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){R(o,r,a,i,l,"next",e)}function l(e){R(o,r,a,i,l,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}(),u.render=function(){var e=this.props,t=e.currentUser,r=e.mute,o=e.deaf,i=e.streaming,l=e.status;if(null==t)return null;var s=this.state.webBuildOverride,u=r?N.default.Messages.UNMUTE:N.default.Messages.MUTE,d=o?N.default.Messages.UNDEAFEN:N.default.Messages.DEAFEN;return b("div",{className:A.default.container},void 0,b(m.default,{animationType:m.default.Animations.SPRING,render:function(e){return a.createElement(E.default,e)},position:m.default.Positions.TOP_LEFT},void 0,b(S.default,{user:t,status:l,streaming:i,outerClassName:A.default.avatar,statusClassName:A.default.status})),b(T.default,{user:t,className:A.default.accountDetails}),b(p.default,{grow:0},void 0,b(_.default,{text:u},void 0,b("div",{},void 0,b(y.default,{className:A.default.button,size:v.default.Sizes.SMALL,value:r,inactiveSrc:n(6695),activeSrc:n(6696),onChange:this.handleToggleSelfMute,"aria-label":u}))),b(O.default,{tutorialId:"voice-conversations",position:O.TutorialIndicatorPositions.TOP,offsetY:-38,offsetX:-18},void 0,b(_.default,{text:d},void 0,b("div",{},void 0,b(y.default,{className:A.default.button,size:v.default.Sizes.SMALL,value:o,inactiveSrc:n(6839),activeSrc:n(6840),onChange:this.handleToggleSelfDeaf,"aria-label":d})))),b(_.default,{text:null!=s?N.default.Messages.USER_SETTINGS_WITH_BUILD_OVERRIDE.format({webBuildOverride:s.id}):N.default.Messages.USER_SETTINGS},void 0,b(f.default,{"aria-label":N.default.Messages.USER_SETTINGS,look:f.default.Looks.BLANK,size:f.default.Sizes.NONE,className:A.default.button,innerClassName:A.default.buttonInner,onClick:this.handleOpenSettings,onContextMenu:this.handleOpenSettingsContextMenu},void 0,b(h.default,{name:h.default.Names.GEAR,width:18,height:18}),null!=s?b(h.default,{name:h.default.Names.INFO,width:9,height:9,className:A.default.hasBuildOverride}):null))))},o}(a.PureComponent);L.displayName="Account";var D=o.default.connectStores([c.default,u.default,d.default],function(){var e=d.default.getPrimaryActivity();return{currentUser:c.default.getCurrentUser(),mute:!u.default.isEnabled()||u.default.isSelfMute()||u.default.isSelfMutedTemporarily(),deaf:u.default.isSelfDeaf(),status:d.default.getStatus(),streaming:null!=e&&e.type===C.ActivityTypes.STREAMING}})(L);t.default=D,e.exports=t.default},7487:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=d(n(2)),o=u(n(452)),i=d(n(7148)),l=n(0),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=c(i.PopoutMenuSeparator,{}),h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSelect=function(e){o.default.updateRemoteSettings({status:e}),t.props.onClose()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=f({},this.props);return a.createElement(i.default,f({alt:!0},e),c(i.StatusItem,{status:l.StatusTypes.ONLINE,onSelect:this.handleSelect}),p,c(i.StatusItem,{status:l.StatusTypes.IDLE,onSelect:this.handleSelect}),c(i.StatusItem,{status:l.StatusTypes.DND,onSelect:this.handleSelect},void 0,s.default.Messages.STATUS_DND_HELP),c(i.StatusItem,{status:l.StatusTypes.INVISIBLE,onSelect:this.handleSelect},void 0,s.default.Messages.STATUS_INVISIBLE_HELPER))},r}(a.PureComponent);h.displayName="StatusPickerPopout";var v=h;t.default=v,e.exports=t.default},7488:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(302),i=g(n(824)),l=g(n(57)),s=g(n(5995)),u=g(n(5991)),d=g(n(6087)),c=n(7149),f=g(n(7611)),p=g(n(7612)),h=g(n(7613)),v=g(n(7614)),m=g(n(7615)),y=g(n(7616)),_=n(0);function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=E(v.default,{},"streamer-mode"),O=E(p.default,{},"theme"),I=E(f.default,{},"messages"),C=E(m.default,{},"inputMode"),N=E(s.default,{},"volume",E(y.default,{type:"input"}),E(y.default,{type:"output"})),A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).renderMenuItem=function(e){var n=e.section,r=e.label,i=e.onClick,s={key:n,label:r,action:i?function(){(0,o.closeContextMenu)(),i()}:function(){return t.handleAction(n)}};switch(n){case _.UserSettingsSections.STREAMER_MODE:return a.createElement(d.default,S({},s,{render:function(){return[T]}}));case _.UserSettingsSections.APPEARANCE:return a.createElement(d.default,S({},s,{render:function(){return[O,I]}}));case _.UserSettingsSections.VOICE:return a.createElement(d.default,S({},s,{render:function(){return[C,N]}}));case _.UserSettingsSections.EXPERIMENTS:var c=l.default.getRegisteredExperiments(),f=Object.keys(c).map(function(e){return E(h.default,{id:e},e)});return a.createElement(d.default,S({invertChildY:!0},s,{render:function(){return f}}));case"logout":return null;default:return a.createElement(u.default,s)}},t.handleAction=function(e){(0,o.closeContextMenu)(),i.default.open(e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.style;return E("div",{className:e.className,style:t},void 0,(0,c.getUserSettingsSections)().map(this.renderMenuItem))},r}(a.PureComponent);A.displayName="UserSettingsCogContextMenu";var M=A;t.default=M,e.exports=t.default},7489:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(6)),a=s(n(3)),o=s(n(1)),i=s(n(14)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d,c,f,p=l.FormStates.CLOSED,h={},v={},m=!1;function y(e){var t,n=i.default.getCurrentUser();if(null==n)return _();d=e.section||d,e.subsection&&null!=d&&(h[d]=e.subsection),p=l.FormStates.OPEN,v={},(t={})[l.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},f=u({},c=t)}function _(){p=l.FormStates.CLOSED,m=!1,c=null,f=null,d=null,h={}}function g(){p=l.FormStates.OPEN,v={}}var E=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.initialize=function(){this.waitFor(i.default)},o.hasChanges=function(){return null!=f&&null!=c&&(!!this.isOpen()&&!r.default.isEqual(f,c))},o.isOpen=function(){return m},o.getSection=function(){return d},o.getProps=function(){return{submitting:p===l.FormStates.SUBMITTING,section:d,subsection:null!=h&&null!=d?h[d]:null,settings:f,errors:v,hasChanges:this.hasChanges()}},a}(a.default.Store))(o.default,{USER_SETTINGS_MODAL_OPEN:function(e){m=!0,y(e)},USER_SETTINGS_MODAL_INIT:y,USER_SETTINGS_MODAL_CLOSE:function(e){return _()},LOGOUT:function(e){return _()},USER_SETTINGS_MODAL_SUBMIT:function(e){p=l.FormStates.SUBMITTING},USER_SETTINGS_MODAL_SUBMIT_FAILURE:function(e){if(p!==l.FormStates.SUBMITTING)return!1;p=l.FormStates.OPEN,d=l.UserSettingsSections.ACCOUNT,v=e.errors||{}},USER_SETTINGS_MODAL_SET_SECTION:function(e){d=e.section,e.subsection&&(h[d]=e.subsection)},USER_SETTINGS_MODAL_UPDATE_ACCOUNT:function(e){var t=e.settings;null==f&&(f={});var n=f[l.UserSettingsSections.ACCOUNT];f[l.UserSettingsSections.ACCOUNT]=u({},n,t)},USER_SETTINGS_MODAL_SUBMIT_COMPLETE:function(e){return g()},USER_SETTINGS_MODAL_RESET:function(e){return n=i.default.getCurrentUser(),g(),void(n&&((t={})[l.UserSettingsSections.ACCOUNT]={userId:n.id,username:n.username,discriminator:n.discriminator,email:n.email,avatar:n.avatar,password:"",newPassword:null,claimed:null!=n.email},f=u({},c=t)));var t,n}});t.default=E,e.exports=t.default},7490:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(305)),o=s(n(301)),i=n(0),l=s(n(5762));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){return u("div",{className:l.default.socialLinks},void 0,u(a.default,{target:"_blank",rel:"author",title:"Twitter",href:i.SOCIAL_LINKS.TWITTER_URL,className:l.default.link},void 0,u(o.default,{name:o.default.Names.TWITTER,foreground:l.default.foreground})),u(a.default,{target:"_blank",rel:"author",title:"Facebook",href:i.SOCIAL_LINKS.FACEBOOK_URL,className:l.default.link},void 0,u(o.default,{name:o.default.Names.FACEBOOK,foreground:l.default.foreground})),u(a.default,{target:"_blank",rel:"author",title:"Instagram",href:i.SOCIAL_LINKS.INSTAGRAM_URL,className:l.default.link},void 0,u(o.default,{name:o.default.Names.INSTAGRAM,foreground:l.default.foreground})))},e.exports=t.default},7491:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Y(n(2)),o=V(n(17)),i=V(n(6170)),l=V(n(3)),s=n(466),u=V(n(6684)),d=V(n(77)),c=n(864),f=V(n(824)),p=V(n(28)),h=V(n(6791)),v=V(n(307)),m=V(n(7150)),y=V(n(35)),_=V(n(14)),g=Y(n(124)),E=V(n(444)),S=V(n(219)),T=V(n(148)),O=Y(n(301)),I=V(n(125)),C=V(n(822)),N=V(n(437)),A=n(823),M=V(n(18)),P=V(n(79)),b=V(n(222)),R=V(n(6037)),L=V(n(6021)),D=V(n(6135)),w=V(n(445)),U=V(n(6794)),k=V(n(6795)),G=V(n(7513)),F=n(0),j=V(n(13)),x=V(n(5357)),B=V(n(880)),H=V(n(5501));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var z=K(R.default,{}),$=function(e){var t,r;function l(t){var n;return(n=e.call(this,t)||this).onEditDiscriminator=function(){M.default.track(F.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:F.AnalyticsPages.USER_SETTINGS,location_section:F.AnalyticsSections.SETTINGS_ACCOUNT,location_object:F.AnalyticsObjects.TOOLTIP}),f.default.setSection(F.UserSettingsSections.PREMIUM)},n.handleSaveProfile=function(){var e=n.props,t=e.currentUser,r=e.accountInfo,o=r.discriminator,i=r.password,l=!1;if(b.default.canEditDiscriminator(t)&&t.discriminator!==o){if(4!==o.length?(n.setState({discriminatorError:j.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_LENGTH_ERROR}),l=!0):0===parseInt(o,10)?(n.setState({discriminatorError:j.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_ZERO_ERROR}),l=!0):n.setState({discriminatorError:null}),0===i.length?(n.setState({passwordError:j.default.Messages.PASSWORD_REQUIRED}),l=!0):n.setState({passwordError:null}),l)return;d.default.push(function(e){return a.createElement(w.default,W({header:j.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_HEADER,cancelText:j.default.Messages.CANCEL,confirmText:j.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_CONFIRM,red:!1,onConfirm:function(){return n.saveAccount()}},e),K(I.default,{size:I.default.Sizes.MEDIUM,color:I.default.Colors.PRIMARY},void 0,j.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_MODAL_BODY))})}else null==n.state.discriminatorError&&null==n.state.passwordError||n.setState({discriminatorError:null,passwordError:null}),n.saveAccount()},n.debounceFocusBlur=(0,i.default)(function(e){return n.setState({multiInputFocused:e})},50),n.state={multiInputFocused:!0,discriminatorError:null,passwordError:null},n}r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=l.prototype;return h.componentWillUnmount=function(){u.default.clearBackupCodes(),(0,c.accountDetailsClose)()},h.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},h.renderPasswordChanger=function(){var e=this.props,t=e.isEditingPassword,n=e.accountInfo;return t?K(A.FormItem,{className:x.default.marginTop20,title:j.default.Messages.FORM_LABEL_NEW_PASSWORD,required:!0},void 0,K(C.default,{name:"newPassword",type:"password",value:null!=n?n.newPassword:"",onChange:this.handleChangeProfileField,error:this.getError("new_password")})):K(A.FormItem,{className:x.default.marginTop20},void 0,K(g.default,{onClick:this.startEditingPassword,color:g.ButtonColors.PRIMARY,look:g.ButtonLooks.LINK,size:g.ButtonSizes.MIN},void 0,j.default.Messages.CHANGE_PASSWORD_LINK))},h.renderUsernameDiscriminator=function(){var e,t=this,n=this.props,r=n.currentUser,a=n.accountInfo,i=this.state.discriminatorError,l=this.getError("username");return i=i||this.getError("discriminator"),K(A.FormItem,{title:j.default.Messages.FORM_LABEL_USERNAME,className:x.default.marginBottom20,required:!0},void 0,K("div",{className:B.default.inputWrapper},void 0,K("div",{className:(0,o.default)(B.default.input,H.default.multiInput,(e={},e[B.default.error]=l||i,e[B.default.focused]=this.state.multiInputFocused,e))},void 0,K(C.default,{name:"username",value:a.username||"",onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},autoFocus:!0,className:H.default.multiInputFirst,inputClassName:H.default.multiInputField}),K(C.default,{name:"discriminator",maxLength:4,value:a.discriminator,onChange:this.handleChangeProfileField,onFocus:function(){return t.debounceFocusBlur(!0)},onBlur:function(){return t.debounceFocusBlur(!1)},inputPrefix:"#",disabled:!b.default.canEditDiscriminator(r),className:H.default.multiInputLast,inputClassName:H.default.multiInputField}),b.default.canEditDiscriminator(r)?null:K(N.default,{text:j.default.Messages.PREMIUM_CHANGE_DISCRIMINATOR_TOOLTIP,position:"bottom"},void 0,K(S.default,{tag:"span",className:H.default.questionMark,onClick:this.onEditDiscriminator},void 0,K(O.default,{name:O.IconNames.QUESTION_MARK,className:H.default.icon})))),l?K("div",{className:B.default.errorMessage},void 0,l):null,i?K("div",{className:B.default.errorMessage},void 0,i):null))},h.renderEditing=function(e){var t,n=this;void 0===e&&(e=!0);var r=this.props,a=r.formState,i=r.accountInfo,l=r.claimed,s=r.verified,u=r.currentUser,d=this.state.passwordError,c=s&&e?this.renderPasswordChanger():null;return K(E.default,{className:(0,o.default)(H.default.userInfoEditing,(t={},t[H.default.danger]=!l,t[H.default.warning]=!s,t)),editable:!0},void 0,K(T.default,{},void 0,K(T.default.Child,{grow:0,className:H.default.avatarColumn},void 0,K(D.default,{showIcon:!0,avatar:i.avatar,size:F.AVATAR_MAX_SIZE,onChange:this.handleAvatarChange,avatarClassName:H.default.avatarUploaderInner,makeURL:function(e){var t={id:u.id,avatar:e,discriminator:u.discriminator},n=P.default.hasAnimatedAvatar(t)?"gif":"png";return P.default.getUserAvatarURL(t,n)}}),K(I.default,{color:I.default.Colors.RED,className:x.default.marginTop8},void 0,this.getError("avatar"))),K(T.default.Child,{},void 0,this.renderUsernameDiscriminator(),K(A.FormItem,{title:j.default.Messages.FORM_LABEL_EMAIL,className:x.default.marginBottom20,required:!0},void 0,K(C.default,{name:"email",value:i.email||"",onChange:this.handleChangeProfileField,error:this.getError("email")})),K(A.FormItem,{title:j.default.Messages.FORM_LABEL_CURRENT_PASSWORD,required:!0},void 0,K(C.default,{name:"password",type:"password",value:i.password||"",onChange:this.handleChangeProfileField,error:d||this.getError("password")})),c)),K(A.FormDivider,{className:(0,o.default)(x.default.marginTop20,x.default.marginBottom20)}),K(T.default,{justify:T.default.Justify.END,align:T.default.Align.CENTER},void 0,K(T.default.Child,{wrap:!0,grow:0},void 0,K(g.default,{look:g.ButtonLooks.OUTLINED,color:g.ButtonColors.RED,size:g.ButtonSizes.SMALL,onClick:function(){return n.handleDisableAccount(!0)}},void 0,j.default.Messages.DELETE_ACCOUNT)),K(T.default,{grow:1},void 0,l?K(g.default,{look:g.ButtonLooks.OUTLINED,color:g.ButtonColors.RED,size:g.ButtonSizes.SMALL,onClick:function(){return n.handleDisableAccount(!1)}},void 0,j.default.Messages.DISABLE_ACCOUNT):null),K(T.default.Child,{wrap:!0,grow:0},void 0,K("div",{},void 0,l?K(g.default,{look:g.ButtonLooks.LINK,color:g.ButtonColors.PRIMARY,size:g.ButtonSizes.MIN,onClick:this.handleCancelEditing},void 0,j.default.Messages.CANCEL):null)),K(T.default.Child,{wrap:!0,grow:0},void 0,K(g.default,{color:g.ButtonColors.GREEN,size:g.ButtonSizes.SMALL,onClick:this.handleSaveProfile,submitting:a===F.FormStates.SUBMITTING},void 0,j.default.Messages.USER_SETTINGS_SAVE))))},h.renderViewing=function(){var e,t=this.props,n=t.currentUser,r=t.verified;return K(E.default,{className:(0,o.default)(H.default.userInfoViewing,(e={},e[H.default.warning]=!r,e))},void 0,K(T.default,{},void 0,K(T.default.Child,{grow:0},void 0,K("div",{},void 0,K(L.default,{user:n,size:"xxlarge",animate:!0}))),K(T.default.Child,{},void 0,K(A.FormItem,{className:x.default.marginBottom20},void 0,K(A.FormTitle,{faded:!0,className:x.default.marginBottom4},void 0,j.default.Messages.FORM_LABEL_USERNAME),K(I.default,{className:H.default.viewBody,selectable:!0},void 0,n.toString(),K("span",{style:{opacity:.5}},void 0,"#",n.discriminator))),K(A.FormItem,{},void 0,K(A.FormTitle,{faded:!0,className:x.default.marginBottom4},void 0,j.default.Messages.FORM_LABEL_EMAIL),K(I.default,{className:H.default.viewBody,selectable:!0},void 0,n.email)))),K(g.default,{className:H.default.userInfoViewingButton,size:g.ButtonSizes.SMALL,onClick:this.startEditingProfile},void 0,j.default.Messages.EDIT))},h.renderAccountSettings=function(){var e,t,r=this.props,a=r.verified,o=r.claimed,i=r.isEditingProfile;if(o){if(!a){var l=K("section",{},void 0,K("div",{className:x.default.marginBottom8},void 0,j.default.Messages.USER_SETTINGS_UNVERIFIED_ACCOUNT_BODY),K(k.default,{look:g.ButtonLooks.INVERTED,size:g.ButtonSizes.SMALL,color:g.default.Colors.YELLOW}));t=K(A.FormNotice,{type:A.FormNotice.Types.WARNING,className:x.default.marginBottom8,imageData:{src:n(7159),width:60,height:60},title:j.default.Messages.UNVERIFIED_ACCOUNT_TITLE,body:l})}}else t=K(A.FormNotice,{className:x.default.marginBottom8,imageData:{src:n(7159),width:60,height:60},title:j.default.Messages.UNCLAIMED_ACCOUNT_TITLE,body:j.default.Messages.UNCLAIMED_ACCOUNT_BODY.format()}),e=this.renderEditing(!1);return null==e&&(e=i?this.renderEditing():this.renderViewing()),K(A.FormSection,{tag:A.FormTitleTags.H2,title:j.default.Messages.USER_SETTINGS_MY_ACCOUNT,className:H.default.userSettingsAccount},void 0,t,e)},h.renderSecuritySettings=function(){var e=this.props,t=e.backupCodes,r=e.currentUser,a=e.theme===F.ThemeTypes.DARK?n(7526):n(7527);return K(A.FormSection,{className:(0,o.default)(H.default.userSettingsSecurity,x.default.marginTop60),title:j.default.Messages.TWO_FA,tag:A.FormTitle.Tags.H2},void 0,K(T.default,{align:T.default.Align.STRETCH},void 0,K(T.default.Child,{wrap:!0},void 0,K(G.default,{backupCodes:t})),r.mfaEnabled?null:K(T.default,{align:T.default.Align.CENTER,basis:"323px",grow:0},void 0,K("img",{src:a,className:H.default.userSettingsSecurityImage,alt:""}))))},h.render=function(){return this.props.hide?z:K("div",{},void 0,this.renderAccountSettings(),this.renderSecuritySettings())},h.startEditingProfile=function(){(0,c.toggleEditingProfile)(!0)},h.startEditingPassword=function(){(0,c.toggleEditingPassword)(!0)},h.handleChangeProfileField=function(e,t){var n;("discriminator"===t&&(e=e.replace(/[^0-9]/,"")),null!=t)&&(0,c.updateAccountInfo)(((n={})[t]=e,n))},h.handleAvatarChange=function(e){(0,c.updateAccountInfo)({avatar:e})},h.handleCancelEditing=function(){(0,c.toggleEditingProfile)(!1)},h.saveAccount=function(){var e=this.props,t=e.claimed,n=e.currentUser,r=e.accountInfo,a=r.username,o=r.email,i=r.password,l=r.newPassword,u=r.avatar,d=r.discriminator;(0,c.saveAccountChanges)(a,o,i,u,l,b.default.canEditDiscriminator(n)?d:null).then(function(e){t||null==e||(0,s.claimSuccess)(e)})},h.handleDisableAccountError=function(e){return new Promise(function(t,n){if(e.body.code===F.AbortCodes.INVALID_PASSWORD)return n(e);d.default.push(function(n){return a.createElement(w.default,W({header:j.default.Messages.DELETE_ACCOUNT_ERROR,onConfirm:t,confirmText:j.default.Messages.OKAY,red:!1},n),K(I.default,{size:I.default.Sizes.MEDIUM,color:I.default.Colors.PRIMARY},void 0,e.body.message))})})},h.handleSubmitDisableAccount=function(e,t){return(0,c.disableAccount)(e,t).then(F.NOOP,this.handleDisableAccountError)},h.handleDisableAccount=function(e){var t=this;void 0===e&&(e=!1);var n=this.props.currentUser,r=p.default.getGuilds();Object.keys(r).filter(function(e){return r[e].ownerId===n.id}).length>0?d.default.push(function(e){return a.createElement(w.default,W({header:j.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP,confirmText:j.default.Messages.OKAY,red:!1},e),K(I.default,{size:I.default.Sizes.MEDIUM,color:I.default.Colors.PRIMARY},void 0,j.default.Messages.DELETE_ACCOUNT_TRANSFER_OWNERSHIP_BODY))}):n.isClaimed()?d.default.push(function(n){return a.createElement(U.default,W({},n,{handleSubmit:function(n){return t.handleSubmitDisableAccount(n,e)},title:e?j.default.Messages.DELETE_ACCOUNT:j.default.Messages.DISABLE_ACCOUNT,actionText:e?j.default.Messages.DELETE_ACCOUNT:j.default.Messages.DISABLE_ACCOUNT}),e?j.default.Messages.DELETE_ACCOUNT_BODY:j.default.Messages.DISABLE_ACCOUNT_BODY)}):d.default.push(function(e){return a.createElement(w.default,W({header:j.default.Messages.DELETE_ACCOUNT,confirmText:j.default.Messages.DELETE_ACCOUNT,cancelText:j.default.Messages.CANCEL,onConfirm:function(){return(0,c.disableAccount)("",!1)}},e),K(I.default,{size:I.default.Sizes.MEDIUM,color:I.default.Colors.PRIMARY},void 0,j.default.Messages.DELETE_ACCOUNT_BODY))})},l}(a.PureComponent);$.displayName="UserSettingsAccount";var q=l.default.connectStores([_.default,v.default,m.default,y.default,h.default],function(){return W({},m.default.getState(),{currentUser:_.default.getCurrentUser(),backupCodes:h.default.getBackupCodes(),hide:v.default.hidePersonalInformation,theme:y.default.theme})})($);t.default=q,e.exports=t.default},7513:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=M(n(2)),o=A(n(17)),i=A(n(3)),l=A(n(6684)),s=A(n(77)),u=A(n(6492)),d=A(n(6791)),c=A(n(14)),f=A(n(305)),p=M(n(124)),h=A(n(6006)),v=A(n(148)),m=n(823),y=n(7156),_=A(n(7157)),g=A(n(7518)),E=A(n(7524)),S=A(n(6794)),T=A(n(6305)),O=n(0),I=A(n(13)),C=A(n(5357)),N=A(n(5501));function A(e){return e&&e.__esModule?e:{default:e}}function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=function(e){var t,r;function i(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={revealed:!1},t.togglePhoneNumberVisibility=function(e){e.preventDefault(),t.setState({revealed:!t.state.revealed})},t.handleEnableMFA=function(){s.default.push(function(e){var n=e.onClose,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["onClose"]);return a.createElement(g.default,b({},r,{onClose:function(){null!=n&&n(),t.handleEnableMFASuccess()}}))})},t.handleEnableMFASuccess=function(){s.default.push(function(e){return a.createElement(E.default,e)})},t.handleDisableMFA=function(){l.default.disable()},t.generateBackupCodes=function(){s.default.push(function(e){return a.createElement(S.default,b({},e,{handleSubmit:function(e){return l.default.viewBackupCodes(e,!0)},title:I.default.Messages.TWO_FA_GENERATE_CODES,actionText:I.default.Messages.TWO_FA_GENERATE_CODES}),I.default.Messages.TWO_FA_GENERATE_CODES_CONFIRM_TEXT)})},t.viewBackupCodes=function(){s.default.push(function(e){return a.createElement(S.default,b({},e,{handleSubmit:function(e){return l.default.viewBackupCodes(e)},title:I.default.Messages.TWO_FA_VIEW_BACKUP_CODES,actionText:I.default.Messages.TWO_FA_VIEW_CODES}))})},t.getDownloadFileContents=function(){var e=t.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"(used)":"")}).join("\r\n");return I.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e},t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()},t.handleEnableSMS=function(){var e=function(){s.default.push(function(e){return a.createElement(S.default,b({},e,{handleSubmit:l.default.enableSMS,title:I.default.Messages.MFA_SMS_ENABLE}))})};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()},t.handleDisableSMS=function(){s.default.push(function(e){return a.createElement(S.default,b({},e,{handleSubmit:l.default.disableSMS,title:I.default.Messages.MFA_SMS_REMOVE}),I.default.Messages.MFA_SMS_CONFIRM_REMOVE_BODY)})},t}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=i.prototype;return d.maskPhoneNumber=function(e){return null==e?"":""+"*".repeat(e.length-4)+e.slice(-4)},d.renderMFASMS=function(){var e,t,n=this.state.revealed,r=this.props,a=r.currentUser,i=r.togglingSMS,l=null!=a.phone,s=a.hasFlag(O.UserFlags.MFA_SMS);if(l||s){var u=n?a.phone:this.maskPhoneNumber(a.phone);t=P(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:C.default.marginBottom8},void 0,I.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:u}),P(f.default,{onClick:this.togglePhoneNumberVisibility,className:N.default.phoneRevealer},void 0,n?I.default.Messages.MFA_SMS_PHONE_NUMBER_HIDE:I.default.Messages.MFA_SMS_PHONE_NUMBER_REVEAL))}if(s)e=P(v.default,{className:l?"":C.default.marginTop8},void 0,P(p.default,{color:p.default.Colors.RED,look:p.default.Looks.OUTLINED,size:p.default.Sizes.SMALL,submitting:i,onClick:this.handleDisableSMS},void 0,I.default.Messages.MFA_SMS_REMOVE));else{var d=a.hasFlag(O.UserFlags.STAFF)||a.hasFlag(O.UserFlags.PARTNER);e=P(v.default,{className:l?"":C.default.marginTop8},void 0,P(p.default,{onClick:this.handleEnableSMS,size:p.default.Sizes.SMALL,submitting:i,disabled:d},void 0,d?I.default.Messages.MFA_SMS_DISABLED_PARTNER:I.default.Messages.MFA_SMS_ENABLE),l?P(p.default,{onClick:this.handleChangePhoneNumber,color:p.default.Colors.PRIMARY,size:p.default.Sizes.SMALL,look:p.default.Looks.LINK},void 0,I.default.Messages.CHANGE_PHONE_NUMBER):null)}return P(m.FormSection,{className:(0,o.default)(C.default.marginBottom40,C.default.marginTop40),title:I.default.Messages.MFA_SMS_AUTH},void 0,P(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,I.default.Messages.MFA_SMS_AUTH_SALES_PITCH),t,e)},d.renderEnabled=function(){var e,t=this.props.backupCodes,r=P(p.default,{onClick:this.viewBackupCodes,size:p.default.Sizes.SMALL},void 0,I.default.Messages.TWO_FA_VIEW_BACKUP_CODES);if(t.length){r=P(_.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt",className:(0,o.default)(N.default.btn,N.default.btnPrimary)},void 0,P(p.default,{size:p.default.Sizes.SMALL},void 0,I.default.Messages.TWO_FA_DOWNLOAD_CODES));var a=function(e){return e.map(function(e){var t=e.consumed,n=e.code;return P("li",{className:C.default.marginBottom20},n,P(h.default,{readOnly:!0,className:N.default.codeCheckbox,value:t},void 0,P("span",{className:N.default.code},void 0,n.substr(0,4)+"-"+n.substr(4))))})};e=P(m.FormSection,{title:I.default.Messages.TWO_FA_BACKUP_CODES_LABEL},void 0,P(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:C.default.marginBottom20},void 0,I.default.Messages.TWO_FA_BACKUP_CODES_BODY.format()),P(v.default,{},void 0,P(v.default.Child,{},void 0,P("ul",{className:N.default.checkboxGroup},void 0,a(t.slice(0,t.length/2)))),P(v.default.Child,{},void 0,P("ul",{className:N.default.checkboxGroup},void 0,a(t.slice(t.length/2))))),P("div",{},void 0,P(p.default,{onClick:this.generateBackupCodes,look:p.ButtonLooks.LINK,size:p.ButtonSizes.MIN},void 0,I.default.Messages.TWO_FA_GENERATE_CODES)),P(m.FormDivider,{className:C.default.marginTop20}))}return P(m.FormSection,{},void 0,P(m.FormTitle,{className:(0,o.default)(N.default.isEnabled,C.default.marginTop4,C.default.marginBottom8)},void 0,P("img",{alt:"",className:(0,o.default)(N.default.lockIcon),src:n(7525)}),I.default.Messages.TWO_FA_ENABLED),P(v.default,{justify:v.default.Justify.START,className:C.default.marginBottom20},void 0,P(v.default.Child,{wrap:!0,grow:0},void 0,r),P(v.default.Child,{wrap:!0},void 0,P(p.default,{onClick:this.handleDisableMFA,size:p.default.Sizes.SMALL,color:p.ButtonColors.RED,look:p.ButtonLooks.OUTLINED},void 0,I.default.Messages.TWO_FA_REMOVE))),e,this.renderMFASMS())},d.renderDisabled=function(){return P(m.FormSection,{},void 0,P(m.FormText,{type:m.FormText.Types.DESCRIPTION,className:C.default.marginBottom20},void 0,I.default.Messages.TWO_FA_SALES_PITCH),P(m.FormItem,{},void 0,P(p.default,{onClick:this.handleEnableMFA,size:p.ButtonSizes.SMALL},void 0,I.default.Messages.TWO_FA_ENABLE)))},d.render=function(){var e=this.props.currentUser;return y.hasCrypto?e.verified?e.mfaEnabled?this.renderEnabled():this.renderDisabled():P(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,I.default.Messages.TWO_FA_NOT_VERIFIED):P(m.FormText,{type:m.FormText.Types.DESCRIPTION},void 0,I.default.Messages.TWO_FA_USE_DESKTOP_APP)},d.openPhoneVerificationModal=function(e){void 0===e&&(e={}),u.default.reset(),s.default.push(function(t){return a.createElement(T.default,b({},t,e))})},i}(a.PureComponent);R.displayName="TwoFactorAuth";var L=i.default.connectStores([c.default,d.default],function(){return{currentUser:c.default.getCurrentUser(),togglingSMS:d.default.togglingSMS}})(R);t.default=L,e.exports=t.default},7518:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(6684)),i=E(n(77)),l=E(n(14)),s=E(n(124)),u=E(n(148)),d=E(n(220)),c=E(n(125)),f=E(n(822)),p=E(n(832)),h=E(n(440)),v=E(n(107)),m=n(7156),y=E(n(7519)),_=E(n(13)),g=E(n(5764));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(e){var t=e.image,n=e.label,r=e.text,a=e.children;return T(u.default,{className:g.default.spacing},void 0,T(u.default,{grow:0,shrink:0,basis:"156px",justify:u.default.Justify.CENTER,className:g.default.image},void 0,t),T(u.default,{direction:u.default.Direction.VERTICAL,justify:u.default.Justify.CENTER},void 0,T("div",{},void 0,T(v.default,{tag:v.default.Tags.H5,className:g.default.headerSpacing},void 0,n),T(h.default,{type:h.default.Types.DESCRIPTION},void 0,r),a)))};O.displayName="ModalSection";var I=function(e){var t,r;function a(t){var n;return(n=e.call(this,t)||this).handleActivateSuccess=function(){var e=n.props.onClose;null!=e&&e()},S(n).handleActivate=n.handleActivate.bind(S(n)),S(n).handleCodeChange=n.handleCodeChange.bind(S(n)),n.state={code:"",totpSecret:(0,m.generateTotpSecret)(),error:null},n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=a.prototype;return h.render=function(){var e=this.state,t=e.totpSecret,r=e.code,a=l.default.getCurrentUser().email,o=(0,m.encodeTotpSecretAsUrl)(a,t),h=T(u.default,{className:g.default.inputContainer,align:u.default.Align.START},void 0,T(f.default,{value:r,className:g.default.input,placeholder:"000 000",maxLength:7,autoComplete:"off",onChange:this.handleCodeChange,error:this.state.error,autoFocus:!0}),T(u.default.Child,{grow:0,shrink:0},void 0,T(s.default,{onClick:this.handleActivate},void 0,_.default.Messages.TWO_FA_ACTIVATE)));return T(d.default,{size:g.default.customWidth},void 0,T(d.default.Header,{},void 0,T(u.default.Child,{grow:1,shrink:1},void 0,T(v.default,{tag:v.default.Tags.H4},void 0,_.default.Messages.TWO_FA_ENABLE),T(c.default,{size:c.default.Sizes.SMALL,className:g.default.subHeader},void 0,_.default.Messages.TWO_FA_ENABLE_SUBHEADER)),T(u.default.Child,{grow:0},void 0,T(d.default.CloseButton,{onClick:i.default.pop}))),T(d.default.Content,{},void 0,T(O,{image:T("img",{alt:"",src:n(7522),width:100,height:100}),label:_.default.Messages.TWO_FA_DOWNLOAD_APP_LABEL,text:_.default.Messages.TWO_FA_DOWNLOAD_APP_BODY.format({googleAuthURL:"https://support.google.com/accounts/answer/1066447?hl=en",authyURL:"https://www.authy.com/"})}),T(p.default,{className:g.default.divider}),T(O,{image:T(y.default,{text:o}),label:_.default.Messages.TWO_FA_QR_LABEL,text:_.default.Messages.TWO_FA_QR_BODY},void 0,T("div",{className:g.default.topSpacing},void 0,T(v.default,{tag:v.default.Tags.H5,className:g.default.headerSpacing},void 0,_.default.Messages.TWO_FA_KEY),T(c.default,{color:c.default.Colors.PRIMARY,size:c.default.Sizes.MEDIUM,family:c.default.Family.CODE,selectable:!0},void 0,t))),T(p.default,{className:g.default.divider}),T(O,{image:T("img",{alt:"",src:n(7523)}),label:_.default.Messages.TWO_FA_LOGIN_LABEL,text:_.default.Messages.TWO_FA_LOGIN_BODY},void 0,h)))},h.handleCodeChange=function(e){this.setState({code:e})},h.handleActivate=function(){var e=this,t=this.state,n=t.totpSecret,r=t.code;o.default.enable({code:r,secret:(0,m.encodeTotpSecret)(n)}).then(this.handleActivateSuccess,function(t){return e.setState({error:t.body.message})})},a}(a.PureComponent);I.displayName="MFAEnable",I.key=function(){return"mfa-enable-modal"};var C=I;t.default=C,e.exports=t.default},7519:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(2)),a=o(n(7520));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var i=function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.componentDidMount=function(){new a.default(this.refs.QR_REF,this.props)},i.componentDidUpdate=function(){new a.default(this.refs.QR_REF,this.props)},i.render=function(){return r.createElement("div",{ref:"QR_REF",style:{padding:8,borderRadius:4,background:this.props.colorLight}})},o}(r.PureComponent);i.displayName="QRCode",i.defaultProps={width:128,height:128,colorLight:"#ffffff",colorDark:"#000000",correctLevel:a.CorrectLevel.M};var l=i;t.default=l,e.exports=t.default},7522:function(e,t,n){e.exports=n.p+"0b8465d21b4c248c18f7e0a44fda86cc.png"},7523:function(e,t,n){e.exports=n.p+"cdec1a78913423b428eb0013e9678244.svg"},7524:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(3)),i=I(n(6684)),l=I(n(77)),s=I(n(6492)),u=I(n(6791)),d=I(n(14)),c=I(n(124)),f=I(n(148)),p=I(n(220)),h=I(n(125)),v=I(n(832)),m=I(n(107)),y=I(n(240)),_=I(n(7157)),g=I(n(6305)),E=I(n(6794)),S=n(0),T=I(n(13)),O=I(n(5765));function I(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var A=function(e){var t=e.label,n=e.text,r=e.children,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["label","text","children"]);return a.createElement(f.default,C({direction:f.default.Direction.VERTICAL},o),N(m.default,{tag:m.default.Tags.H2},void 0,t),null!=n?N(h.default,{size:h.default.Sizes.MEDIUM,className:O.default.sectionBody},void 0,n):null,N(f.default.Child,{wrap:!0},void 0,r))};A.displayName="ModalSection";var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).getDownloadFileContents=function(){var e=t.props.backupCodes.map(function(e){var t=e.consumed,n=e.code;return"* "+n.substr(0,4)+"-"+n.substr(4)+" "+(t?"("+T.default.Messages.TWO_FA_BACKUP_CODE_USED+")":"")}).join("\r\n");return T.default.Messages.TWO_FA_DISCORD_BACKUP_CODES.format({email:t.props.currentUser.email})+"\r\n\r\n"+e},t.handleChangePhoneNumber=function(){t.openPhoneVerificationModal()},t.handleEnableSMS=function(){var e=function(){l.default.push(function(e){return a.createElement(E.default,C({},e,{handleSubmit:function(e){return i.default.enableSMS(e)},title:T.default.Messages.MFA_SMS_ENABLE}))})};null==t.props.currentUser.phone?t.openPhoneVerificationModal({onAddedPhone:e}):e()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderSMSSection=function(){var e=this.props.currentUser,t=null!=this.props.currentUser.phone,n=e.hasFlag(S.UserFlags.MFA_SMS),r=e.hasFlag(S.UserFlags.PARTNER)||e.hasFlag(S.UserFlags.STAFF);return t?N(A,{label:T.default.Messages.MFA_SMS_ENABLE,text:T.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,N(h.default,{size:h.default.Sizes.MEDIUM,className:O.default.sectionBody},void 0,N("strong",{className:O.default.phoneNumber},void 0,T.default.Messages.MFA_SMS_AUTH_CURRENT_PHONE.format({phoneNumber:e.phone})),N(c.default,{look:c.default.Looks.LINK,color:c.default.Colors.LINK,size:c.default.Sizes.MIN,className:O.default.linkButton,onClick:this.handleChangePhoneNumber},void 0,T.default.Messages.CHANGE_PHONE_NUMBER)),N(c.default,{onClick:this.handleEnableSMS,disabled:n||r,color:c.default.Colors.GREEN,size:c.default.Sizes.SMALL},void 0,r?T.default.Messages.MFA_SMS_DISABLED_PARTNER:n?T.default.Messages.MFA_SMS_ALREADY_ENABLED:T.default.Messages.MFA_SMS_ENABLE)):N(A,{label:T.default.Messages.MFA_SMS_ENABLE,text:T.default.Messages.MFA_SMS_AUTH_SALES_PITCH},void 0,N(c.default,{onClick:this.handleEnableSMS,color:c.default.Colors.GREEN,size:c.default.Sizes.SMALL,disabled:r},void 0,r?T.default.Messages.MFA_SMS_DISABLED_PARTNER:T.default.Messages.MFA_SMS_ADD_PHONE))},o.renderBackupCodesSection=function(){return N(A,{label:T.default.Messages.TWO_FA_DOWNLOAD_CODES,text:T.default.Messages.TWO_FA_BACKUP_CODES_SALES_PITCH},void 0,N(_.default,{fileContents:this.getDownloadFileContents,contentType:"text/plain",fileName:"discord_backup_codes.txt"},void 0,N(c.default,{color:c.default.Colors.GREEN,size:c.default.Sizes.SMALL},void 0,T.default.Messages.TWO_FA_DOWNLOAD_CODES)))},o.renderHeader=function(){return N(p.default.Header,{},void 0,N(f.default.Child,{grow:1,shrink:1},void 0,N(m.default,{tag:m.default.Tags.H4,className:O.default.header},void 0,y.default.parse(T.default.Messages.TWO_FA_SUCCESS_HEADER)),N(h.default,{size:h.default.Sizes.SMALL,className:O.default.subHeader},void 0,T.default.Messages.MFA_SMS_ENABLE_SUBHEADER)),N(f.default.Child,{grow:0},void 0,N(p.default.CloseButton,{onClick:l.default.pop})))},o.render=function(){return N(p.default,{className:O.default.modal},void 0,this.renderHeader(),N(p.default.Content,{className:O.default.modalInner},void 0,this.renderSMSSection(),N(v.default,{className:O.default.divider}),this.renderBackupCodesSection()))},o.openPhoneVerificationModal=function(e){void 0===e&&(e={}),s.default.reset(),l.default.push(function(t){return a.createElement(g.default,C({},t,e))})},r}(a.PureComponent);M.displayName="MFAEnableSuccess";var P=o.default.connectStores([d.default],function(){return{currentUser:d.default.getCurrentUser(),backupCodes:u.default.getBackupCodes()}})(M);t.default=P,e.exports=t.default},7525:function(e,t,n){e.exports=n.p+"b73a63cb14a22dd24f0f8da07b186335.svg"},7526:function(e,t,n){e.exports=n.p+"cdea41ede63f61153e4a3c0531fa3873.svg"},7527:function(e,t,n){e.exports=n.p+"f8696a3854655998a24c219403420867.svg"},7528:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=L(n(2)),o=R(n(17)),i=R(n(3)),l=n(6159),s=n(6685),u=n(6467),d=R(n(824)),c=R(n(481)),f=R(n(41)),p=R(n(307)),h=R(n(455)),v=R(n(14)),m=R(n(5992)),y=R(n(124)),_=R(n(444)),g=R(n(301)),E=R(n(832)),S=R(n(829)),T=R(n(440)),O=L(n(107)),I=R(n(6026)),C=R(n(6037)),N=R(n(7529)),A=n(0),M=R(n(13)),P=R(n(5357)),b=R(n(5767));function R(e){return e&&e.__esModule?e:{default:e}}function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(e,t){var n=e.getIconURL(t);return null!=n?w("img",{className:b.default.itemIcon,style:{width:t,height:t},src:n,alt:e.name}):w(g.default,{width:t,height:t,name:g.default.Names.ACTIVITY_FILLED,color:A.Colors.PRIMARY_DARK_300})}var k=function(e){function t(){return e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e,t=this.props,n=t.application,r=t.selected,a=U(n,24);return w("div",{className:(0,o.default)(b.default.searchOption,(e={},e[b.default.selected]=r,e))},void 0,w("div",{className:b.default.searchInfo},void 0,a,w(I.default,{className:b.default.searchLabel,size:I.default.Sizes.SIZE_14},void 0,n.name)),r?w(I.default,{className:b.default.searchSelect,size:I.default.Sizes.SIZE_12},void 0,M.default.Messages.USER_SETTINGS_AF_SEARCH_CTA):null)},t}(a.PureComponent);k.displayName="SearchResult";var G=function(e){function t(){return e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.icon,n=e.name,r=e.buttonText,a=e.onButtonClick;return w("div",{className:b.default.itemContainer},void 0,t,w(I.default,{className:b.default.itemName,size:I.default.Sizes.SIZE_14},void 0,n),w(y.default,{className:b.default.unfollowButton,onClick:a,size:y.default.Sizes.MIN},void 0,r))},t}(a.PureComponent);G.displayName="Item";var F=w(C.default,{}),j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClickPrivacy=function(){d.default.open(A.UserSettingsSections.PRIVACY_AND_SAFETY)},t.handleConsent=function(){(0,s.setConsents)([A.Consents.PERSONALIZATION],[])},t.renderResult=function(e,t){return w(k,{application:e,selected:t})},t}D(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,u.fetchSettings)({includeAutosubscribedGames:!0}),(0,u.fetchUnknownUnsubscribedUsers)()},n.renderEmptyApplications=function(){return w(_.default,{className:b.default.emptyApplications,type:_.default.Types.CUSTOM},void 0,w("div",{className:b.default.emptyApplicationsImage}),w(I.default,{className:b.default.emptyApplicationsTitle,size:I.default.Sizes.SIZE_16},void 0,M.default.Messages.USER_SETTINGS_AF_APPLICATIONS_EMPTY_TITLE),w(I.default,{className:b.default.emptyApplicationsBody,size:I.default.Sizes.SIZE_14},void 0,M.default.Messages.USER_SETTINGS_AF_APPLICATIONS_EMPTY_BODY))},n.renderApplications=function(){var e=this.props.applications;if(0===e.length)return this.renderEmptyApplications();var t=[];return e.forEach(function(n,r){var o=U(n,32);t.push(w(a.Fragment,{},n.id,w(G,{icon:o,name:n.name,buttonText:M.default.Messages.USER_SETTINGS_AF_UNFOLLOW,onButtonClick:function(){return(0,l.removeGamesFromFeed)([n.id])}}),r!==e.length-1?w(E.default,{className:b.default.divider}):null))}),t},n.renderApplicationSection=function(){return w("div",{className:b.default.sectionContainer},void 0,w(O.default,{tag:O.Tags.H5,className:P.default.marginBottom8},void 0,M.default.Messages.USER_SETTINGS_AF_FOLLOWING_APPLICATIONS),w(T.default,{type:T.default.Types.DESCRIPTION,className:P.default.marginBottom20},void 0,M.default.Messages.USER_SETTINGS_AF_FOLLOWING_APPLICATIONS_DESCRIPTION),w(N.default,{renderResult:this.renderResult}),this.renderApplications())},n.renderEmptyUsers=function(){return w(_.default,{className:b.default.emptyUsers,type:_.default.Types.CUSTOM},void 0,w(I.default,{size:I.default.Sizes.SIZE_14},void 0,M.default.Messages.USER_SETTINGS_AF_HIDDEN_EMPTY))},n.renderUsers=function(){var e=this.props.unsubscribedUsers;if(0===e.length)return this.renderEmptyUsers();var t=[];return e.forEach(function(n,r){var o=w(m.default,{src:n.avatarURL});t.push(w(a.Fragment,{},n.id,w(G,{icon:o,name:n.username,buttonText:M.default.Messages.USER_SETTINGS_AF_UNBLOCK,onButtonClick:function(){return(0,l.addMembersToFeed)([n.id])}}),r!==e.length-1?w(E.default,{className:b.default.divider}):null))}),t},n.renderUserSection=function(){return w("div",{className:b.default.sectionContainer},void 0,w(O.default,{tag:O.Tags.H5,className:(0,o.default)(P.default.marginBottom8,P.default.marginTop40)},void 0,M.default.Messages.USER_SETTINGS_AF_BLOCKED_USERS),w(T.default,{type:T.default.Types.DESCRIPTION,className:P.default.marginBottom20},void 0,M.default.Messages.USER_SETTINGS_AF_BLOCKED_USERS_DESCRIPTION),this.renderUsers())},n.renderConsentCard=function(){return w(S.default,{tag:O.default.Tags.H2,title:M.default.Messages.USER_SETTINGS_ACTIVITY_FEED},void 0,w(_.default,{className:b.default.consent,type:_.default.Types.CUSTOM},void 0,w("div",{className:b.default.consentImage}),w(I.default,{className:b.default.consentTitle,size:I.default.Sizes.SIZE_16,color:I.default.Colors.NONE},void 0,M.default.Messages.ACTIVITY_FEED_CARD_GDPR_HEADER),w(I.default,{className:b.default.consentBody,size:I.default.Sizes.SIZE_14,color:I.default.Colors.NONE},void 0,M.default.Messages.ACTIVITY_FEED_CARD_GDPR_BODY.format({onClickPrivacy:this.handleClickPrivacy})),w(y.default,{className:b.default.consentButton,onClick:this.handleConsent,size:y.default.Sizes.SMALL,look:y.default.Looks.INVERTED},void 0,M.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES)))},n.render=function(){var e=this.props,t=e.hide,n=e.consented;return t?F:n?w(S.default,{tag:O.default.Tags.H2,title:M.default.Messages.USER_SETTINGS_ACTIVITY_FEED},void 0,this.renderApplicationSection(),this.renderUserSection()):this.renderConsentCard()},t}(a.PureComponent);j.displayName="UserSettingsActivityFeed";var x=i.default.connectStores([h.default,c.default,v.default],function(){return{applications:Array.from(h.default.gameIDsToShow,function(e){return f.default.getGame(e)}).filter(function(e){return null!=e}).sort(function(e,t){return e.name.localeCompare(t.name)}),unsubscribedUsers:Array.from(h.default.unsubscribedUserIds,function(e){return v.default.getUser(e)}).filter(function(e){return null!=e}).sort(function(e,t){return e.username.localeCompare(t.username)}),hide:p.default.hidePersonalInformation,consented:c.default.hasConsented(A.Consents.PERSONALIZATION)}})(j);t.default=x,e.exports=t.default},7529:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(17)),i=y(n(902)),l=y(n(3)),s=n(6159),u=y(n(7530)),d=y(n(7531)),c=y(n(455)),f=y(n(219)),p=y(n(6495)),h=y(n(845)),v=y(n(13)),m=y(n(5766));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=null,t.state={selectedIndex:-1},t.setScrollerRef=function(e){t._scrollerRef=e},t.onKeyDown=function(e){switch(e.keyCode){case i.default.codes.up:e.preventDefault(),t.setSelectedIndex(t.state.selectedIndex-1);break;case i.default.codes.down:e.preventDefault(),t.setSelectedIndex(t.state.selectedIndex+1);break;case i.default.codes.enter:e.preventDefault();var n=t.props.results;t.state.selectedIndex>=0&&n.length>0&&t.handleGameAdd(n[t.state.selectedIndex])}},t.setSelectedIndex=function(e){e>=0&&e<t.props.results.length&&t.setState({selectedIndex:e})},t.ensureSelectedInView=function(){null!=t._scrollerRef&&t._scrollerRef.scrollIndexIntoView(t.state.selectedIndex,!1)},t.handleGameAdd=function(e){(0,s.addGamesToFeed)([e.id]),t.handleClear()},t.handleQueryChange=function(e){u.default.setQuery(e)},t.handleClear=function(){u.default.setQuery(""),t.setState({selectedIndex:-1})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidUpdate=function(e){var t=this.props,n=t.query,r=t.results;e.query!==n&&r.length>0?this.setSelectedIndex(0):0===r.length&&this.setSelectedIndex(-1),this.ensureSelectedInView()},l.renderResult=function(e,t){var n=this,r=this.props.renderResult;return _(f.default,{onClick:function(){return n.handleGameAdd(e)},onMouseOver:function(){return n.setSelectedIndex(t)},onFocus:function(){return n.setSelectedIndex(t)}},e.id,r(e,t===this.state.selectedIndex))},l.renderSearchResults=function(){var e,t=this,n=this.props,r=n.query,i=n.results;return _("div",{className:(0,o.default)(m.default.searchResultsContainer,(e={},e[m.default.resultsHidden]=""===r||0===i.length,e))},void 0,a.createElement(h.default,{ref:this.setScrollerRef,className:m.default.autocompleteScroller,paddingTop:4,paddingBottom:4,elementHeight:32,track:!1},i.map(function(e,n){return t.renderResult(e,n)})))},l.render=function(){var e=this.props.query;return _("div",{className:m.default.container,onKeyDown:this.onKeyDown},void 0,_(p.default,{className:m.default.search,inputClassName:m.default.searchInput,iconClassName:m.default.searchIcon,placeholder:v.default.Messages.USER_SETTINGS_AF_SEARCH_PLACEHOLDER,searchTerm:e,onChange:this.handleQueryChange,onClear:this.handleClear}),this.renderSearchResults())},r}(a.PureComponent);g.displayName="GameSearch";var E=l.default.connectStores([d.default,c.default],function(){var e=d.default.query,t=d.default.results(),n=c.default.subscribedGameIds;return{query:e,results:""!==e?t.filter(function(e){return!n.has(e.id)}):[]}})(g);t.default=E,e.exports=t.default},7530:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={setQuery:function(e){a.default.dispatch({type:o.ActionTypes.GAME_AUTOCOMPLETE_QUERY,query:e})}};t.default=i,e.exports=t.default},7531:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(6)),a=l(n(3)),o=l(n(1)),i=(l(n(110)),l(n(41)));n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u="";var d=new(function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o,l,d,c=a.prototype;return c.initialize=function(){this.waitFor(i.default)},c.results=function(){return(0,r.default)(i.default.games).filter(function(e){return e.name.toLowerCase().startsWith(u.toLowerCase())}).sort(function(e,t){return e.name.localeCompare(t.name)}).value()},o=a,(l=[{key:"query",get:function(){return u}}])&&s(o.prototype,l),d&&s(o,d),a}(a.default.Store))(o.default,{GAME_AUTOCOMPLETE_QUERY:function(e){var t=e.query;u=t}});t.default=d,e.exports=t.default},7532:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=k(n(2)),o=U(n(17)),i=U(n(3)),l=n(891),s=U(n(77)),u=k(n(903)),d=U(n(452)),c=U(n(6022)),f=U(n(126)),p=U(n(318)),h=U(n(856)),v=U(n(35)),m=U(n(950)),y=U(n(185)),_=U(n(444)),g=U(n(148)),E=U(n(6015)),S=U(n(6212)),T=U(n(5998)),O=U(n(125)),I=n(823),C=n(6010),N=U(n(314)),A=U(n(9)),M=U(n(6078)),P=U(n(445)),b=U(n(7535)),R=n(0),L=U(n(13)),D=U(n(5357)),w=U(n(5769));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j={COZY:"cozy",COMPACT:"compact"},x=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).hardwareAccelerationEnabled=A.default.getEnableHardwareAcceleration(),n.handleThemeChange=function(e){var t=e.value;t!==n.props.theme&&d.default.updateRemoteSettings({theme:t})},n.handleMessageDisplayModeChange=function(e){var t=e.value;t!==n.props.messageDisplayCompact&&d.default.updateRemoteSettings({messageDisplayCompact:t===j.COMPACT})},n.handleTestModeChecked=function(e){e.currentTarget.checked?s.default.push(b.default):u.reset()};var r=0;return n.channel=new f.default({id:"1337"}),n.messages=[p.default.create(F({},N.default.createMessage(n.channel.id,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_1),{state:R.MessageStates.SENT,id:""+r++})),p.default.create(F({},N.default.createMessage(n.channel.id,n.getPreviewMessage(t.theme)),{state:R.MessageStates.SENT,id:""+r++})),p.default.create(F({},N.default.createMessage(n.channel.id,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_3),{state:R.MessageStates.SENT,id:""+r++})),p.default.create(F({},N.default.createMessage(n.channel.id,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_4),{state:R.MessageStates.SENT,id:""+r++})),p.default.create(F({},N.default.createMessage(n.channel.id,L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_5),{state:R.MessageStates.SENT,id:""+r}))],n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getPreviewMessage=function(e){return e===R.ThemeTypes.DARK?L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_DARK:L.default.Messages.USER_SETTINGS_APPEARANCE_PREVIEW_MESSAGE_2_LIGHT},i.UNSAFE_componentWillUpdate=function(e){this.props.theme!==e.theme&&(this.messages[1]=p.default.create(F({},N.default.createMessage(this.channel.id,this.getPreviewMessage(e.theme)),{state:"SENT"})))},i.renderZoomSlider=function(){return A.default.embedded?G(I.FormItem,{title:L.default.Messages.ACCESSIBILITY_ZOOM_LEVEL_LABEL,className:D.default.marginTop20},void 0,G(S.default,{className:(0,o.default)(D.default.marginTop20,D.default.marginBottom4),defaultValue:this.props.zoom,markers:R.Accessibility.ZOOM_SCALES,stickToMarkers:!0,onValueChange:this.handleZoomChange,onValueRender:this.handleSliderRender}),G(I.FormText,{type:I.FormText.Types.DESCRIPTION},void 0,L.default.Messages.USER_SETTINGS_APPEARANCE_ZOOM_TIP.format({modKey:c.default.modKey}))):null},i.renderFontScaleSlider=function(){return G(I.FormItem,{title:L.default.Messages.ACCESSIBILITY_FONT_SCALING_LABEL,className:D.default.marginTop40},void 0,G(g.default,{align:g.default.Align.CENTER},void 0,G(g.default.Child,{className:w.default.fontScaleSmall},void 0,"Aa"),G(g.default.Child,{},void 0,G(S.default,{className:D.default.marginTop4,defaultValue:this.props.fontScale,markers:R.Accessibility.FONT_SCALES,stickToMarkers:!0,equidistant:!0,onValueChange:this.handleFontScaleChange,onValueRender:this.handleSliderRender,onMarkerRender:this.handleRenderFontScale})),G(g.default.Child,{className:w.default.fontScaleLarge},void 0,"Aa")))},i.renderPreview=function(){var e,t=this,n=this.props.messageDisplayCompact;return G(_.default,{className:w.default.preview,outline:!0},void 0,G("div",{className:(0,o.default)(w.default.previewInner,(e={},e[w.default.previewCompact]=n,e))},void 0,this.messages.map(function(e){return G(M.default,{channel:t.channel,messages:[e],enableInteraction:!1,compact:n},e.id)})))},i.renderThemePicker=function(){return this.props.disableThemeing?null:G(I.FormItem,{title:L.default.Messages.THEME,className:D.default.marginTop40},void 0,G(E.default,{options:[{name:L.default.Messages.THEME_LIGHT,value:R.ThemeTypes.LIGHT},{name:L.default.Messages.THEME_DARK,value:R.ThemeTypes.DARK}],onChange:this.handleThemeChange,value:this.props.theme}))},i.renderDisplayMode=function(){return G(I.FormItem,{title:L.default.Messages.MESSAGE_DISPLAY_MODE_LABEL,className:D.default.marginTop40},void 0,G(E.default,{options:[{name:L.default.Messages.COZY_MODE,value:j.COZY},{name:L.default.Messages.COMPACT_MODE,value:j.COMPACT}],onChange:this.handleMessageDisplayModeChange,value:this.props.messageDisplayCompact?j.COMPACT:j.COZY}))},i.renderColorblindMode=function(){return G(I.FormItem,{title:L.default.Messages.USER_SETTINGS_APPEARANCE_COLORS,className:D.default.marginTop40},void 0,G(T.default,{onChange:l.toggleColorblindMode,value:this.props.colorblindMode,note:L.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_DESCRIPTION},void 0,L.default.Messages.USER_SETTINGS_APPEARANCE_COLORBLIND_MODE_TITLE))},i.renderDeveloperMode=function(){if(C.SUPPORTS_COPY)return G(T.default,{value:this.props.developerMode,onChange:this.handleDeveloperModeChecked,note:L.default.Messages.DEVELOPER_MODE_HELP_TEXT.format({apiDocsUrl:R.MarketingURLs.API_DOCS})},void 0,L.default.Messages.DEVELOPER_MODE)},i.renderHardwareAcceleration=function(){if(A.default.embedded)return G(T.default,{value:this.hardwareAccelerationEnabled,onChange:this.handleHardwareAccelerationChecked,note:L.default.Messages.HARDWARE_ACCELERATION_HELP_TEXT},void 0,L.default.Messages.HARDWARE_ACCELERATION)},i.renderDisableGamesTab=function(){var e=this.props.disableGamesTab;return G(T.default,{value:!e,note:L.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB_NOTE,onChange:this.handleDisableGamesTabChecked},void 0,L.default.Messages.USER_SETTINGS_APPERANNCE_DISABLE_GAMES_TAB)},i.renderTestMode=function(){var e=this.props,t=e.developerMode,n=e.testModeApplicationId;return t?G(T.default,{value:null!=n,note:L.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_NOTE,onChange:this.handleTestModeChecked},void 0,L.default.Messages.DEVELOPER_APPLICATION_TEST_MODE):null},i.render=function(){return G(I.FormSection,{className:w.default.container,tag:I.FormTitleTags.H2,title:L.default.Messages.APPEARANCE},void 0,this.renderPreview(),this.renderThemePicker(),this.renderDisplayMode(),this.renderFontScaleSlider(),this.renderZoomSlider(),this.renderColorblindMode(),G(I.FormTitle,{tag:I.FormTitleTags.H2,className:(0,o.default)(D.default.marginTop60,D.default.marginBottom20)},void 0,L.default.Messages.SETTINGS_ADVANCED),this.renderDeveloperMode(),this.renderHardwareAcceleration(),this.renderDisableGamesTab(),this.renderTestMode())},i.handleDeveloperModeChecked=function(e){d.default.updateRemoteSettings({developerMode:e.currentTarget.checked})},i.handleHardwareAccelerationChecked=function(e){var t=e.currentTarget.checked;s.default.push(function(e){return a.createElement(P.default,F({header:L.default.Messages.SWITCH_HARDWARE_ACCELERATION,confirmText:L.default.Messages.OKAY,cancelText:L.default.Messages.CANCEL,onConfirm:function(){return A.default.setEnableHardwareAcceleration(t)},red:!0},e),G(O.default,{size:O.default.Sizes.MEDIUM,color:O.default.Colors.PRIMARY},void 0,L.default.Messages.SWITCH_HARDWARE_ACCELERATION_BODY))})},i.handleDisableGamesTabChecked=function(e){d.default.updateRemoteSettings({disableGamesTab:!e.currentTarget.checked})},i.handleRenderFontScale=function(e){return 82===e?e=80:92===e&&(e=90),""+e.toFixed(0)},i.handleSliderRender=function(e){return e.toFixed(0)+"%"},i.handleFontScaleChange=function(e){(0,l.fontScaleTo)(Math.round(e))},i.handleZoomChange=function(e){(0,l.zoomTo)(e)},r}(a.Component);x.displayName="UserSettingsAppearance";var B=i.default.connectStores([h.default,v.default,y.default,m.default],function(){return{disableThemeing:m.default.inExperiment,theme:v.default.theme,messageDisplayCompact:v.default.messageDisplayCompact,developerMode:v.default.developerMode,fontScale:h.default.fontScale,zoom:h.default.zoom,colorblindMode:h.default.colorblindMode,disableGamesTab:v.default.disableGamesTab,testModeApplicationId:y.default.testModeApplicationId}})(x);t.default=B,e.exports=t.default},7535:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=g(n(3)),i=g(n(1)),l=g(n(77)),s=E(n(903)),u=g(n(185)),d=g(n(124)),c=g(n(148)),f=g(n(220)),p=g(n(822)),h=g(n(440)),v=g(n(107)),m=g(n(13)),y=g(n(5357)),_=g(n(5768));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}var O=/^\d+$|^$/,I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={applicationId:t.props.authorizedApplicationId||"",isValid:!0},t.handleSave=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,l,"next",e)}function l(e){T(o,r,a,i,l,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.authorizeAndSetTestModeApplication(t.state.applicationId);case 2:e.sent&&t.handleClose();case 4:case"end":return e.stop()}},e)})),t.handleClear=function(){s.reset(),t.setState({applicationId:""})},t.handleInputChange=function(e){s.resetError(),t.setState({applicationId:e,isValid:O.test(e)})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillUnmount=function(){i.default.wait(function(){return s.resetError()})},a.handleClose=function(){i.default.wait(function(){return l.default.pop()})},a.render=function(){var e=this.props,t=e.authorizedApplicationId,n=e.authorizationError,r=e.authorizing,a=this.state,o=a.applicationId,i=a.isValid,l=null!=t&&t===o,s=l?this.handleClear:this.handleSave,u=null;return n?u=m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_AUTHORIZATION_ERROR:i||(u=m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_INVALID),S(f.default,{},void 0,S(f.default.Header,{},void 0,S(c.default,{align:c.default.Align.CENTER},void 0,S(v.default,{tag:v.default.Tags.H2,className:y.default.marginReset},void 0,m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_HEADER),S(f.default.CloseButton,{onClick:this.handleClose}))),S(f.default.Content,{className:_.default.modalContent},void 0,S(h.default,{className:y.default.marginBottom20,type:h.default.Types.DESCRIPTION},void 0,m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_MODAL_BODY),S("form",{onSubmit:function(e){e.preventDefault(),s()}},void 0,S(c.default,{align:c.default.Align.START},void 0,S("div",{className:_.default.inputWrapper},void 0,S(p.default,{value:o,maxLength:19,error:u,onChange:this.handleInputChange,disabled:r,placeholder:m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_PLACEHOLDER})),S(d.default,{submitting:r,type:"submit",disabled:!i||0===o.length,color:l?d.default.Colors.RED:d.default.Colors.GREEN},void 0,l?m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_CLEAR:m.default.Messages.DEVELOPER_APPLICATION_TEST_MODE_ACTIVATE)))))},r}(a.PureComponent);I.displayName="TestModeModal";var C=o.default.connectStores([u.default],function(){return{authorizedApplicationId:u.default.testModeApplicationId,authorizationError:u.default.error,authorizing:u.default.isFetchingAuthorization}})(I);t.default=C,e.exports=t.default},7536:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=N(n(17)),i=N(n(6)),l=N(n(3)),s=N(n(7537)),u=N(n(77)),d=N(n(7538)),c=N(n(307)),f=N(n(35)),p=A(n(124)),h=A(n(444)),v=A(n(6002)),m=N(n(148)),y=N(n(438)),_=n(823),g=N(n(79)),E=N(n(6037)),S=N(n(454)),T=n(0),O=N(n(13)),I=N(n(5357)),C=N(n(5770));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var R=l.default.connectStores([f.default],function(){return{theme:f.default.theme}})(v.default),L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderPermissions=function(){var e=t.props.scopes.map(function(e){var t;switch(e){case T.OAuth2Scopes.IDENTIFY:t=O.default.Messages.SCOPE_IDENTIFY;break;case T.OAuth2Scopes.EMAIL:t=O.default.Messages.SCOPE_EMAIL;break;case T.OAuth2Scopes.CONNECTIONS:t=O.default.Messages.SCOPE_CONNECTIONS;break;case T.OAuth2Scopes.GUILDS:t=O.default.Messages.SCOPE_GUILDS;break;case T.OAuth2Scopes.GUILDS_JOIN:t=O.default.Messages.SCOPE_GUILDS_JOIN;break;case T.OAuth2Scopes.GDM_JOIN:t=O.default.Messages.SCOPE_GDM_JOIN;break;case T.OAuth2Scopes.BOT:t=O.default.Messages.SCOPE_BOT;break;case T.OAuth2Scopes.RPC:t=O.default.Messages.SCOPE_RPC;break;case T.OAuth2Scopes.RPC_API:t=O.default.Messages.SCOPE_RPC_API;break;case T.OAuth2Scopes.RPC_NOTIFICATIONS_READ:t=O.default.Messages.SCOPE_RPC_NOTIFICATIONS_READ;break;case T.OAuth2Scopes.MESSAGES_READ:t=O.default.Messages.SCOPE_MESSAGES_READ;break;case T.OAuth2Scopes.APPLICATIONS_BUILDS_UPLOAD:t=O.default.Messages.SCOPE_APPLICATIONS_BUILDS_UPLOAD;break;case T.OAuth2Scopes.APPLICATIONS_BUILDS_READ:t=O.default.Messages.SCOPE_APPLICATIONS_BUILDS_READ;break;case T.OAuth2Scopes.APPLICATIONS_STORE_UPDATE:t=O.default.Messages.SCOPE_APPLICATIONS_STORE_UPDATE;break;case T.OAuth2Scopes.APPLICATIONS_ENTITLEMENTS:t=O.default.Messages.SCOPE_APPLICATIONS_ENTITLEMENTS;break;default:t=e}return P("li",{className:(0,o.default)(C.default.permission,I.default.marginTop8)},e,P("i",{className:C.default.permissionCheckmark}),P(_.FormText,{},void 0,t))});if(e.length)return P(_.FormItem,{faded:!0,title:O.default.Messages.PERMISSIONS,className:I.default.marginTop20},void 0,P("ul",{},void 0,e))},t.renderHeader=function(){var e=t.props.application,n=g.default.getApplicationIconURL({id:e.id,icon:e.icon}),r=n?P(m.default.Child,{className:C.default.appAvatar,grow:0},void 0,P("img",{src:n,alt:""})):null;return P(m.default,{className:(0,o.default)(C.default.header,I.default.marginBottom20)},void 0,P(m.default,{className:C.default.headerInfo},void 0,r,P(m.default.Child,{},void 0,P(_.FormText,{type:_.FormTextTypes.LABEL_BOLD},void 0,P("span",{},void 0,e.name)))),P(m.default.Child,{wrap:!0,grow:0},void 0,P(p.default,{className:C.default.deleteApp,color:p.ButtonColors.RED,look:p.ButtonLooks.OUTLINED,size:p.ButtonSizes.SMALL,onClick:t.handleDeleteApp},void 0,O.default.Messages.DEAUTHORIZE)))},t.handleDeleteApp=function(){u.default.push(function(e){return a.createElement(S.default,M({title:O.default.Messages.DEAUTHORIZE_APP,body:O.default.Messages.DELETE_APP_CONFIRM_MSG,confirmText:O.default.Messages.DEAUTHORIZE,cancelText:O.default.Messages.CANCEL,onConfirm:t.props.onDelete},e))})},t}b(t,e);var n=t.prototype;return n.renderDescription=function(){var e=this.props.application;if(e.description)return P(_.FormItem,{faded:!0,title:O.default.Messages.ABOUT_THIS_APP},void 0,P(_.FormText,{},void 0,e.description))},n.render=function(){return P(h.default,{className:(0,o.default)(C.default.authedApp,I.default.marginBottom8),outline:!0},void 0,this.renderHeader(),this.renderDescription(),this.renderPermissions())},t}(a.PureComponent);L.displayName="AuthorizedApp";var D=P(E.default,{}),w=function(e){function t(t){var n;return n=e.call(this,t)||this,i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleDelete"]),n}b(t,e);var r=t.prototype;return r.componentDidMount=function(){s.default.fetch()},r.handleDelete=function(e){var t=e.id;s.default.delete(t)},r.renderEmpty=function(){return P(R,{className:C.default.marginTop20},void 0,P(v.EmptyStateImage,{darkSrc:n(7539),lightSrc:n(7540),width:380,height:282}),P(v.EmptyStateText,{note:O.default.Messages.NO_AUTHORIZED_APPS_NOTE},void 0,O.default.Messages.NO_AUTHORIZED_APPS))},r.renderContent=function(){var e=this,t=this.props.applications;return t?0===t.length?this.renderEmpty():t.filter(function(e){return!e.scopes.includes(T.OAuth2Scopes.RPC)}).map(function(t){return a.createElement(L,M({key:t.id,onDelete:e.handleDelete.bind(e,t)},t))}):P(y.default,{className:I.default.marginTop20,type:y.default.Type.SPINNING_CIRCLE})},r.render=function(){return this.props.hide?D:P(_.FormSection,{tag:_.FormTitleTags.H2,title:O.default.Messages.AUTHORIZED_APPS},void 0,P(_.FormNotice,{className:I.default.marginBottom40,type:h.Types.PRIMARY,title:O.default.Messages.APPLICATIONS_AND_CONNECTIONS,body:O.default.Messages.APPLICATIONS_AND_CONNECTIONS_BODY}),this.renderContent())},t}(a.PureComponent);w.displayName="UserSettingsAuthedApps";var U=l.default.connectStores([d.default,c.default],function(){return{hide:c.default.hidePersonalInformation,applications:d.default.getApps()}})(w);t.default=U,e.exports=t.default},7537:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={fetch:function(){r.default.get(o.Endpoints.OAUTH2_TOKENS).then(function(e){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:e.body})},function(){return a.default.dispatch({type:o.ActionTypes.USER_AUTHORIZED_APPS_UPDATE,apps:[]})})},delete:function(e){var t=this;r.default.delete(o.Endpoints.OAUTH2_TOKEN(e)).then(function(){t.fetch()})}};t.default=l,e.exports=t.default},7538:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a=f(n(6)),o=f(n(3)),i=f(n(1)),l=f(n(443)),s=f(n(112)),u=f(n(20)),d=f(n(322)),c=f(n(225));n(0);function f(e){return e&&e.__esModule?e:{default:e}}var p=864e5,h=null;function v(){var e=Date.now()-p;(0,a.default)(u.default.getManagedChannels()).filter(function(t){return s.default.extractTimestamp(t.id)<e}).forEach(function(e){return l.default.closePrivateChannel(e.id)})}setInterval(function(){return v()},36e5);var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,d.default,c.default)},a.getApps=function(){return h},r}(o.default.Store))(i.default,{CONNECTION_OPEN:function(e){return r(v),!1},USER_AUTHORIZED_APPS_UPDATE:function(e){h=e.apps}});t.default=m,e.exports=t.default}).call(this,n(29).setImmediate)},7539:function(e,t,n){e.exports=n.p+"b47564b3086d0d8d941aae95a4b7b78c.svg"},7540:function(e,t,n){e.exports=n.p+"68b37187aee175514a1402d4088cf90b.svg"},7541:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=N(n(3)),i=N(n(1)),l=A(n(228)),s=n(830),u=N(n(307)),d=N(n(35)),c=N(n(14)),f=N(n(6084)),p=N(n(232)),h=N(n(457)),v=N(n(444)),m=N(n(148)),y=N(n(438)),_=N(n(107)),g=N(n(44)),E=N(n(6037)),S=N(n(6803)),T=N(n(7542)),O=n(0),I=N(n(13)),C=N(n(5773));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=M(E.default,{}),b=M(y.default,{}),R=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){i.default.wait(function(){l.fetchPaymentSources(),l.fetchSubscriptions()})},a.handleRedemptionRedirect=function(){(0,s.popLayer)(),g.default.transitionTo(O.Routes.APPLICATION_LIBRARY_INVENTORY)},a.render=function(){var e=this.props,t=e.syncing,n=e.hide,r=e.paymentSources,a=e.defaultPaymentSourceId,o=e.locale,i=e.premiumSubscription,l=e.isRemovingPaymentSource,s=e.isUpdatingPaymentSource;return n?P:M("div",{className:C.default.userSettingsBilling},void 0,t&&0===r.length?M("div",{className:C.default.syncing},void 0,b):M(T.default,{paymentSources:r,defaultPaymentSourceId:a,premiumSubscriptionPaymentSourceId:null!=i&&i.status!==O.SubscriptionStatusTypes.CANCELED?i.paymentSourceId:null,locale:o,removing:l,submitting:s}),M("div",{className:C.default.paymentHistory},void 0,M(_.default,{tag:_.default.Tags.H2},void 0,M(m.default,{align:m.default.Align.CENTER},void 0,I.default.Messages.BILLING_PAYMENT_HISTORY)),M(S.default,{locale:o})),M(v.default,{className:C.default.codeRedemptionRedirect,type:v.default.Types.CUSTOM},void 0,I.default.Messages.BILLING_CODE_REDEMPTION_REDIRECT.format({onClick:this.handleRedemptionRedirect})))},r}(a.PureComponent);R.displayName="UserSettingsBilling";var L=o.default.connectStores([d.default,f.default,p.default,c.default,u.default,h.default],function(){var e=h.default.getPremiumSubscription(),t=c.default.getCurrentUser();return{locale:d.default.locale,hide:u.default.enabled,isClaimed:t.email,isVerified:t.verified,premiumSubscription:e,defaultPaymentSourceId:p.default.defaultPaymentSourceId,paymentSources:p.default.paymentSources,syncing:f.default.isSyncing,isRemovingPaymentSource:f.default.isRemovingPaymentSource,isUpdatingPaymentSource:f.default.isUpdatingPaymentSource}})(R);t.default=L,e.exports=t.default},7542:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(6)),i=S(n(228)),l=E(n(77)),s=E(n(6687)),u=(E(n(834)),E(n(124))),d=E(n(148)),c=S(n(301)),f=E(n(125)),p=E(n(437)),h=E(n(832)),v=E(n(107)),m=E(n(7543)),y=E(n(6585)),_=E(n(13)),g=E(n(5772));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function O(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){T(o,r,a,i,l,"next",e)}function l(e){T(o,r,a,i,l,"throw",e)}i(void 0)})}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleEditClick=function(){t.props.onEditClick(t.props.paymentSource.id)},t}return N(t,e),t.prototype.render=function(){var e=this.props,t=e.paymentSource,n=e.isDefault,r=e.isEditing,o=e.index,i=e.hideDivider,l=(e.onEditClick,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["paymentSource","isDefault","isEditing","index","hideDivider","onEditClick"]));return r?a.createElement(m.default,C({},l,{paymentSource:t,isDefault:n})):I("div",{className:g.default.paymentSourceItem},void 0,o>0&&!i?I(h.default,{className:g.default.sourceDivider}):null,I(d.default,{align:d.default.Align.CENTER,justify:d.default.Justify.BETWEEN,className:g.default.paymentSourceRow},void 0,a.createElement(y.default,C({},this.props,{showSubtext:!0})),r?null:I(u.default,{color:u.default.Colors.PRIMARY,onClick:this.handleEditClick,size:u.default.Sizes.SMALL},void 0,_.default.Messages.EDIT)))},t}(a.PureComponent);A.displayName="PaymentSourceItem",A.defaultProps={isEditing:!1,hideDivider:!1,onEditClick:function(){}};var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={editingPayment:null},t.handleEditClick=function(e){t.setState({editingPayment:e})},t.handleCancel=function(){t.setState({editingPayment:null})},t.handleDelete=function(){var e=O(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.deletePaymentSource(n);case 3:t.setState({editingPayment:null}),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),t.handleSubmit=function(){var e=O(regeneratorRuntime.mark(function e(n,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=9;break}return e.prev=1,e.next=4,i.updatePaymentSource(n,r);case 4:t.setState({editingPayment:null}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t,n){return e.apply(this,arguments)}}(),t}N(t,e);var n=t.prototype;return n.handleAddPaymentMethod=function(){l.default.push(function(e){return a.createElement(s.default,e)})},n.renderFooter=function(){var e=this.props.paymentSources;return I(d.default,{justify:d.default.Justify.END,className:g.default.footer},void 0,0===Object.keys(e).length?I(d.default.Child,{},void 0,I(f.default,{color:f.default.Colors.PRIMARY},void 0,_.default.Messages.BILLING_NO_PAYMENT_METHOD),I("div",{className:g.default.subText},void 0,_.default.Messages.BILLING_NO_PAYMENT_METHOD_DESCRIPTION)):null,I(u.default,{onClick:this.handleAddPaymentMethod},void 0,_.default.Messages.BILLING_ADD_PAYMENT_METHOD))},n.render=function(){var e=this,t=this.props,n=t.defaultPaymentSourceId,r=t.paymentSources,a=t.locale,i=t.removing,l=t.submitting,s=t.premiumSubscriptionPaymentSourceId,u=o.default.values(r).sort(function(e,t){return e.id===n?-1:t.id===n?1:e.id>t.id?1:-1}),f=this.state.editingPayment,m=u.findIndex(function(e){return e.id===f}),y=u.map(function(t,r){return I(A,{locale:a,paymentSource:t,isDefault:n===t.id,onCancel:e.handleCancel,onDelete:e.handleDelete,isPremium:t.id===s,hideDivider:m===r-1,onSubmit:e.handleSubmit,index:r,submitting:l,removing:i,isEditing:f===t.id,onEditClick:e.handleEditClick},t.id)});return I("div",{},void 0,I(v.default,{tag:v.default.Tags.H2},void 0,I(d.default,{align:d.default.Align.CENTER},void 0,I(p.default,{position:p.default.Positions.LEFT,text:_.default.Messages.BILLING_SECURE_TOOLTIP},void 0,I(c.default,{name:c.IconNames.SECURE_LOCK,className:g.default.lockIcon})),_.default.Messages.BILLING_PAYMENT_SOURCES)),y,m!==u.length-1?I(h.default,{className:g.default.sourceDivider}):null,this.renderFooter())},t}(a.PureComponent);M.displayName="PaymentMethods";var P=M;t.default=P,e.exports=t.default},7543:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(2)),o=I(n(17)),i=I(n(3)),l=I(n(1)),s=n(228),u=(n(441),C(n(834))),d=I(n(6084)),c=I(n(124)),f=I(n(444)),p=I(n(6006)),h=I(n(148)),v=I(n(125)),m=I(n(437)),y=n(823),_=I(n(6192)),g=I(n(6024)),E=I(n(6585)),S=n(0),T=I(n(13)),O=I(n(5771));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M="isDefault",P=N(y.FormDivider,{}),b=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleSubmit=function(e){if(e.preventDefault(),e.stopPropagation(),0===Object.values(n.state.dirtyFields).filter(Boolean).length)n.props.onCancel();else{var t=n.state,r=t.billingAddress,a=t.isDefault;n.props.onSubmit(n.props.paymentSource.id,{billingAddress:r,isDefault:a})}},n.handleCancel=function(){n.props.onCancel()},n.handleDelete=function(){var e=n.props;(0,e.onDelete)(e.paymentSource.id)},n.handleAddressUpdate=function(e,t,r){n.setState({billingAddress:e,billingAddressValid:t,dirtyFields:A({},n.state.dirtyFields,{billingAddress:r})})},n.handleFieldChange=function(e,t){var r,a;null!=t&&n.setState(((a={})[t]=e,a.dirtyFields=A({},n.state.dirtyFields,((r={})[t]=!0,r)),a))};var r=t.paymentSource,a=t.isDefault,o=r.billingAddress;return n.state={billingAddress:{name:o.name||"",line1:o.line1||"",line2:o.line2||"",country:o.country||"",state:o.state||"",city:o.city||"",postalCode:o.postalCode||""},billingAddressValid:!1,isDefault:a,dirtyFields:{}},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentWillUnmount=function(){l.default.wait(function(){(0,s.clearUpdatePaymentSourceError)(),(0,s.clearRemovePaymentSourceError)()})},i.renderError=function(){var e=this.props,t=e.updateError,n=e.removeError;return null==t||t.hasCardError()||t.hasAddressError()?null!=n?N(g.default,{className:O.default.formError},void 0,n.message):null:N(g.default,{className:O.default.formError},void 0,t.message)},i.renderBillingAddressSection=function(){var e=this.state.billingAddress;return N("div",{className:O.default.addressSection},void 0,N(v.default,{color:v.default.Colors.PRIMARY,className:O.default.sectionHeader},void 0,T.default.Messages.BILLING_ADDRESS),a.createElement(_.default,A({},e,{mode:_.default.Modes.EDIT,layout:_.default.Layouts.SETTINGS,onBillingAddressChange:this.handleAddressUpdate,error:this.props.updateError})))},i.renderActions=function(){var e=this.props,t=e.submitting,n=e.removing,r=e.isPremium,a=this.state.billingAddressValid;return N(h.default,{justify:h.default.Justify.BETWEEN,className:O.default.formActions},void 0,N("div",{className:O.default.disabledTooltipWrapper},void 0,r?N(m.default,{text:T.default.Messages.PAYMENT_SOURCE_DELETE_DISABLED_TOOLTIP},void 0,N("div",{"aria-hidden":!0,className:O.default.disabledTooltipTarget})):null,N(c.default,{type:"button",disabled:r||t,submitting:n,onClick:this.handleDelete,look:c.default.Looks.OUTLINED,color:c.default.Colors.RED},void 0,T.default.Messages.PAYMENT_SOURCE_DELETE)),N(h.default,{grow:0},void 0,N(c.default,{type:"button",disabled:t||n,onClick:this.handleCancel,look:c.default.Looks.LINK,color:c.default.Colors.PRIMARY},void 0,T.default.Messages.CANCEL),N(c.default,{submitting:t,disabled:!a||n,type:"submit",color:c.default.Colors.GREEN},void 0,T.default.Messages.SAVE)))},i.render=function(){var e=this,t=this.props,n=t.paymentSource,r=t.isDefault,a=t.locale,i=t.className,l=t.isPremium,s=this.state.isDefault,d=n instanceof u.CreditCardSourceRecord;return N(f.default,{editable:!0,className:(0,o.default)(O.default.card,i)},void 0,N("form",{onSubmit:this.handleSubmit,noValidate:!0},void 0,this.renderError(),N("div",{className:O.default.paymentSection},void 0,N(E.default,{paymentSource:n,isDefault:r,isPremium:l,locale:a}),n.invalid?N("div",{className:O.default.errorSubText},void 0,T.default.Messages.PAYMENT_SOURCE_INVALID_HELP):null,N("div",{className:O.default.subText},void 0,d?T.default.Messages.PAYMENT_SOURCE_EDIT_HELP_CARD:T.default.Messages.PAYMENT_SOURCE_EDIT_HELP_PAYPAL.format({paypalURL:S.PAYPAL_URL}))),this.renderBillingAddressSection(),N(p.default,{name:M,value:s,onChange:function(t,n){return e.handleFieldChange(n,M)},type:p.default.Types.INVERTED,className:O.default.defaultSection},void 0,N(v.default,{className:O.default.defaultCheckboxLabel,color:v.default.Colors.PRIMARY},void 0,T.default.Messages.PAYMENT_SOURCE_MAKE_DEFAULT)),P,this.renderActions()))},r}(a.PureComponent);b.displayName="EditPaymentSourceForm",b.defaultProps={onDelete:function(){},onSubmit:function(){},onCancel:function(){}};var R=i.default.connectStores([d.default],function(){return{updateError:d.default.editSourceError,removeError:d.default.removeSourceError}})(b);t.default=R,e.exports=t.default},7544:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=k(n(2)),o=U(n(17)),i=U(n(304)),l=U(n(439)),s=U(n(3)),u=U(n(333)),d=U(n(77)),c=U(n(452)),f=U(n(155)),p=(U(n(958)),U(n(468))),h=U(n(6211)),v=U(n(28)),m=U(n(307)),y=U(n(35)),_=U(n(305)),g=k(n(124)),E=U(n(444)),S=U(n(219)),T=k(n(6002)),O=U(n(6019)),I=U(n(438)),C=U(n(5998)),N=n(823),A=U(n(9)),M=U(n(6037)),P=k(n(6676)),b=U(n(454)),R=n(0),L=U(n(13)),D=U(n(5357)),w=U(n(5774));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=s.default.connectStores([y.default],function(){return{theme:y.default.theme}})(T.default),x=(0,i.default)({displayName:"Integration",mixins:[l.default,s.default.LazyStoreListenerMixin(v.default,p.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props.integration;return{isJoining:p.default.isJoining(e.id),isMember:v.default.getGuild(e.guild.id)}},render:function(){var e,t,n,r=this.state,a=r.isMember,o=r.isJoining,i=this.props.integration;switch(a||(e=F(g.default,{size:g.ButtonSizes.SMALL,look:g.ButtonLooks.GHOST,color:g.ButtonColors.WHITE,onClick:this.handleJoinGuild,disabled:o},void 0,F("span",{},void 0,o?L.default.Messages.JOINING_SERVER:L.default.Messages.JOIN_SERVER))),i.type){case"youtube":t=i.account.name,n="gaming.youtube.com/channel/"+i.account.id;break;case"twitch":default:t=n="twitch.tv/"+i.account.name}return F("div",{className:w.default.integration},void 0,F("div",{},void 0,F(O.default,{size:O.default.Sizes.SMALL,guild:i.guild,className:w.default.guildIcon}),F("div",{className:w.default.integrationInner},void 0,F(N.FormText,{className:w.default.integrationName},void 0,i.guild.toString()),F(_.default,{className:w.default.channelLink,href:"//"+n},void 0,t))),e)},handleJoinGuild:function(){u.default.joinServer(this.props.integration.id)}}),B=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleReconnect=function(){(0,P.authorize)(n.props.account.type,"User Settings")},n.handleDisconnect=function(){if(R.UNSAFE_PLATFORM_TYPES.has(n.props.account.type))n.props.onDisconnect();else{var e=f.default.get(n.props.account.type);d.default.push(function(t){return a.createElement(b.default,G({title:L.default.Messages.DISCONNECT_ACCOUNT_TITLE.format({name:e.name}),body:L.default.Messages.DISCONNECT_ACCOUNT_BODY,confirmText:L.default.Messages.DISCONNECT_ACCOUNT,cancelText:L.default.Messages.CANCEL,onConfirm:n.props.onDisconnect},t))})}},n.handleVisibilityChange=function(e){var t=n.props.account,r=e.currentTarget.checked?1:0;if(R.SAFE_PLATFORM_TYPES.has(t.type)&&!n.state.verified)return n._inProgressVisibility=r,void(0,P.authorize)(t.type);n.setState({visibility:r}),u.default.setVisibility(t.type,t.id,r)},n.handleInProgressVisibilityChange=function(){if(null!=n._inProgressVisibility){var e=n.props.account;u.default.setVisibility(e.type,e.id,n._inProgressVisibility),n._inProgressVisibility=null}},n.handleFriendSyncChange=function(e){var t=n.props.account,r=e.currentTarget.checked;n.setState({friendSync:r}),u.default.setFriendSync(t.type,t.id,r)},n.handleShowActivityChange=function(e){var t=n.props.account,r=e.currentTarget.checked;n.setState({showActivity:r}),u.default.setShowActivity(t.type,t.id,r)};var r=t.account,o=r.friendSync,i=r.visibility,l=r.verified,s=r.showActivity;return n.state={friendSync:o,visibility:i,verified:l,showActivity:s},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){var t=e.account,n=t.friendSync,r=t.visibility,a=t.verified,o=t.showActivity;!this.state.verified&&a&&this.handleInProgressVisibilityChange(),this.setState({friendSync:n,visibility:r,verified:a,showActivity:o})},o.renderHeader=function(e){var t=this.props.account;return F("div",{className:w.default.connectionHeader},void 0,F("img",{alt:"",className:w.default.connectionIcon,src:e.icon.white}),F("div",{},void 0,F(N.FormText,{className:w.default.connectionAccountValue},void 0,t.name),F(N.FormText,{className:w.default.connectionAccountLabel,type:N.FormTextTypes.DESCRIPTION,style:{color:R.Colors.WHITE}},void 0,L.default.Messages.ACCOUNT_NAME)),F(S.default,{className:w.default.connectionDelete,onClick:this.handleDisconnect},void 0,F("span",{},void 0,L.default.Messages.SERVICE_CONNECTIONS_DISCONNECT)))},o.renderConnectionOptions=function(e){var t,n,r=this.state,a=r.visibility,o=r.friendSync,i=r.showActivity,l=this.props.account;return R.FRIEND_SYNC_PLATFORM_TYPES.has(l.type)&&(t=F(C.default,{className:w.default.connectionOptionSwitch,theme:C.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:o,onChange:this.handleFriendSyncChange},void 0,L.default.Messages.SYNC_FRIENDS)),R.ACTIVITY_PLATFORM_TYPES.has(l.type)&&(n=F(C.default,{className:w.default.connectionOptionSwitch,theme:C.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:i,onChange:this.handleShowActivityChange},void 0,L.default.Messages.DISPLAY_ACTIVITY.format({platform:e.name}))),F("div",{className:w.default.connectionOptionsWrapper},void 0,F("div",{className:w.default.connectionOptions},void 0,F(C.default,{className:w.default.connectionOptionSwitch,theme:C.default.Themes.CLEAR,hideBorder:!0,fill:"rgba(255,255,255,0.3)",value:1===a,onChange:this.handleVisibilityChange},void 0,L.default.Messages.DISPLAY_ON_PROFILE),n,t))},o.renderIntegrations=function(e){var t=this.props.account,n=e.name.toUpperCase().replace(/\./g,"");return t.revoked?F(N.FormItem,{className:w.default.integrationsWrapper},void 0,F(N.FormTitle,{tag:N.FormTitleTags.H5},void 0,F("span",{style:{color:R.Colors[n+"_200"]}},void 0,L.default.Messages.SUB_ENABLED_SERVERS)),F(N.FormText,{},void 0,L.default.Messages.CONNECTED_ACCOUNT_REVOKED.format({onReconnect:this.handleReconnect}))):t.integrations.length>0?F(N.FormItem,{className:w.default.integrationsWrapper},void 0,F(N.FormTitle,{tag:N.FormTitleTags.H5},void 0,F("span",{style:{color:R.Colors[n+"_200"]}},void 0,L.default.Messages.SUB_ENABLED_SERVERS)),F("div",{},void 0,t.integrations.map(function(t){return F(x,{integration:t,color:e.color},t.id)}))):void 0},o.renderDivider=function(){var e=this.props.account,t=e.revoked,n=e.integrations;if(t||n.length>0)return F(N.FormDivider,{className:w.default.connectedAccountSeparator})},o.render=function(){var e=this.props.account,t=f.default.get(e.type);return F("div",{className:w.default.connection,style:{borderColor:t.color,backgroundColor:t.color}},void 0,this.renderHeader(t),this.renderConnectionOptions(t),this.renderDivider(),this.renderIntegrations(t))},r}(a.PureComponent);B.displayName="ConnectedAccount";var H=F(M.default,{}),V=(0,i.default)({displayName:"UserSettingsConnections",mixins:[l.default,s.default.LazyStoreListenerMixin(p.default,h.default,y.default,m.default)],getInitialState:function(){return G({descriptionWarning:!1},this.getStateFromStores())},getStateFromStores:function(){return{hide:m.default.hidePersonalInformation,fetching:p.default.isFetching(),accounts:p.default.getAccounts(),notDetectedPlatformTypes:h.default.getNotDetectedPlatformTypes(),detectPlatformAccounts:y.default.detectPlatformAccounts}},componentDidUpdate:function(e,t){var n=this.state.notDetectedPlatformTypes;t.notDetectedPlatformTypes!==n&&this.setState({descriptionWarning:!0})},componentDidMount:function(){u.default.fetch()},handleDisconnect:function(e){var t=e.type,n=e.id;u.default.disconnect(t,n)},handleDetectPlatformAccounts:function(e){c.default.updateRemoteSettings({detectPlatformAccounts:e.currentTarget.checked})},renderConnectCard:function(){var e,t=this.state.descriptionWarning,n=L.default.Messages.CONNECT_ACCOUNT_DESCRIPTION;return t&&(n=F("div",{className:w.default.warning},void 0,L.default.Messages.CONNECT_ACCOUNT_NONE_DETECTED)),F(E.default,{className:(0,o.default)(w.default.accountList,(e={},e[D.default.marginBottom20]=!A.default.embedded,e))},void 0,F(N.FormTitle,{faded:!0,className:D.default.marginBottom4},void 0,L.default.Messages.CONNECT_ACCOUNT_TITLE),F(N.FormText,{className:D.default.marginBottom8},void 0,n),F("div",{className:w.default.connectedAccounts},void 0,f.default.filter(function(e){return e.enabled}).map(function(e){return F(P.default,{type:e.type,location:"User Settings",className:w.default.accountBtn,innerClassName:w.default.accountBtnInner},e.type)})))},renderDetectPlatformAccounts:function(){var e=this.state.detectPlatformAccounts;if(A.default.embedded)return F(C.default,{value:e,onChange:this.handleDetectPlatformAccounts,className:(0,o.default)(D.default.marginTop20,D.default.marginBottom20)},void 0,L.default.Messages.DETECT_PLATFORM_ACCOUNTS)},renderConnectionList:function(){var e,t=this,r=this.state,a=r.fetching,o=r.accounts;return e=a?F(I.default,{className:D.default.marginTop20,type:I.default.Type.SPINNING_CIRCLE}):0===o.length?F(j,{className:D.default.marginTop40},void 0,F(T.EmptyStateImage,{darkSrc:n(7545),lightSrc:n(7546),width:230,height:220}),F(T.EmptyStateText,{note:L.default.Messages.CONNECTED_ACCOUNTS_NONE},void 0,L.default.Messages.CONNECTED_ACCOUNTS_NONE_TITLE)):o.map(function(e,n){return F(B,{account:e,onDisconnect:t.handleDisconnect.bind(t,e)},n)}),F(N.FormItem,{},void 0,e)},render:function(){return this.state.hide?H:F(N.FormSection,{className:w.default.connections,tag:N.FormTitleTags.H2,title:L.default.Messages.CONNECTIONS},void 0,this.renderConnectCard(),this.renderDetectPlatformAccounts(),this.renderConnectionList())}});t.default=V,e.exports=t.default},7545:function(e,t,n){e.exports=n.p+"e9aaf1824f17126a7992e5ad98752389.svg"},7546:function(e,t,n){e.exports=n.p+"fffa18d6d66a76c08c500c56afe68a62.svg"},7547:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=L(n(929)),l=L(n(6)),s=L(n(3)),u=n(7548),d=L(n(77)),c=L(n(244)),f=L(n(35)),p=D(n(124)),h=L(n(444)),v=D(n(6002)),m=L(n(148)),y=L(n(220)),_=L(n(6004)),g=L(n(438)),E=L(n(5998)),S=L(n(125)),T=L(n(822)),O=n(823),I=L(n(7147)),C=L(n(6310)),N=n(0),A=L(n(5363)),M=L(n(5362)),P=L(n(5357)),b=L(n(899)),R=L(n(5775));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){U(o,r,a,i,l,"next",e)}function l(e){U(o,r,a,i,l,"throw",e)}i(void 0)})}}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function F(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var j=["discord_web","discord_marketing"],x=[{value:"branch",label:"Branch Name"},{value:"id",label:"Build ID"}];function B(e){var t=this;return new Promise(function(n){d.default.push(function(r){var o=function(e){r.onClose(),n(e)};return a.createElement(y.default,r,F(y.default.Header,{},void 0,F(O.FormTitle,{tag:O.FormTitle.Tags.H4},void 0,"Choose A Project to Override")),F(y.default.Content,{},void 0,F(m.default,{},void 0,e.map(function(e){return F(m.default.Child,{grow:0},e,F(p.default,{value:e,look:p.default.Looks.GHOST,color:p.default.Colors.GREEN,onClick:o.bind(t,e)},void 0,e))}))),F(y.default.Footer,{},void 0,F(p.default,{color:p.default.Colors.PRIMARY,look:p.default.Looks.LINK,onClick:o.bind(t,null)},void 0,"Nevermind")))})})}var H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRemoveBuildOverride=function(){t.props.onBuildOverrideRemoved(t.props.project)},t.handleOverrideIdChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{id:e})},t.handleOverrideTypeChanged=function(e){t.props.onBuildOverrideUpdated(t.props.project,{type:e.value,id:""})},t}return G(t,e),t.prototype.render=function(){var e,t=this.props,n=t.project,r=t.overrideType,a=t.overrideId,i=t.disabled,l=t.error,s="branch"===r?"Branch Name":"Build ID";return F(m.default,{direction:m.default.Direction.VERTICAL,className:(0,o.default)(R.default.buildOverrideGroup,P.default.marginBottom20,M.default.card,R.default.row)},void 0,F("button",{className:(0,o.default)(A.default.button,R.default.removeBuildOverride,(e={},e[R.default.removeBuildOverrideDisabled]=i,e)),onClick:i?null:this.handleRemoveBuildOverride},void 0,"Remove Build Override"),F(m.default,{className:P.default.marginBottom8},void 0,F(m.default.Child,{basis:"50%"},void 0,F(O.FormItem,{title:"Override Type",className:R.default.item},void 0,F(_.default,{options:x,onChange:this.handleOverrideTypeChanged,value:r,disabled:i,clearable:!1,searchable:!1}))),F(m.default.Child,{basis:"50%"},void 0,F(O.FormItem,{title:s,className:R.default.item},void 0,F(T.default,{value:a,onChange:this.handleOverrideIdChanged,disabled:i})))),F(m.default.Child,{},void 0,l&&F(O.FormText,{className:R.default.item,style:{color:N.Colors.STATUS_RED},type:O.FormText.Types.DESCRIPTION},void 0,l),F(O.FormText,{className:R.default.item,type:O.FormText.Types.DESCRIPTION},void 0,"This controls the build that will be served for the ",F("code",{},void 0,n)," project.")))},t}(a.Component);H.displayName="BuildOverride";var V=F(v.EmptyStateText,{},void 0,"You have no build overrides configured."),Y=F(O.FormDivider,{}),W=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={loading:!0,buildOverrides:{},loadedBuildOverrides:{},errors:{},saving:!1,didSave:!1},t.handleAddBuildOverride=k(regeneratorRuntime.mark(function e(){var n,r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t.getAvailableProjects());case 2:if(null!=(r=e.sent)){e.next=5;break}return e.abrupt("return");case 5:a=w({},t.state.buildOverrides,((n={})[r]={type:"branch",id:""},n)),t.setState({buildOverrides:a});case 7:case"end":return e.stop()}},e)})),t.handleBuildOverrideUpdated=function(e,n){var r,a=w({},t.state.buildOverrides[e]||{},n),o=w({},t.state.buildOverrides,((r={})[e]=a,r));t.setState({buildOverrides:o})},t.handleBuildOverrideRemoved=function(e){var n=w({},t.state.buildOverrides);delete n[e],t.setState({buildOverrides:n})},t.handleDiscardChanges=function(){t.setState({buildOverrides:l.default.cloneDeep(t.state.loadedBuildOverrides),errors:{},didSave:!1})},t.handleSaveChanges=k(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({saving:!0}),e.next=3,I.default.put(t.state.buildOverrides);case 3:200===(n=e.sent).status?t.setState({buildOverrides:n.body,loadedBuildOverrides:l.default.cloneDeep(n.body),errors:{},didSave:!0,saving:!1}):400===n.status?t.setState({errors:n.body,saving:!1,didSave:!1}):t.setState({saving:!1,didSave:!1});case 5:case"end":return e.stop()}},e)})),t.handleLinkGeneration=function(){var e=t.state.buildOverrides;d.default.push(function(t){return a.createElement(K,w({},t,{buildOverrides:e}))})},t}G(t,e);var r=t.prototype;return r.refreshBuildOverrides=function(){var e=k(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,I.default.get();case 3:t=e.sent,this.setState({loading:!1,buildOverrides:t,loadedBuildOverrides:l.default.cloneDeep(t),errors:{}});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),r.isDirty=function(){var e=this.state,t=e.buildOverrides,n=e.loadedBuildOverrides;return!l.default.isEqual(t,n)},r.componentDidMount=function(){this.refreshBuildOverrides()},r.getAvailableProjects=function(){var e=Object.keys(this.state.buildOverrides);return l.default.without.apply(l.default,[j].concat(e))},r.renderEmpty=function(){return F(v.default,{theme:f.default.theme,className:(0,o.default)(P.default.marginTop40,P.default.marginBottom20)},void 0,F(v.EmptyStateImage,{darkSrc:n(6692),lightSrc:n(6693),width:294,height:192}),V)},r.renderItems=function(){var e=this,t=this.state,n=t.buildOverrides,r=t.saving,a=t.errors;return l.default.map(n,function(t,n){return F(H,{project:n,overrideType:t.type,overrideId:t.id,disabled:r,error:a[n],onBuildOverrideUpdated:e.handleBuildOverrideUpdated,onBuildOverrideRemoved:e.handleBuildOverrideRemoved},n)})},r.renderRefreshButton=function(){return!this.state.didSave||this.isDirty()?null:F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:function(){return location.reload()},look:p.default.Looks.GHOST,color:p.default.Colors.PRIMARY},void 0,"Reload App")))},r.renderLinkButton=function(){var e=this.state.buildOverrides;return 0===Object.keys(e).length?null:F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:this.handleLinkGeneration,look:p.default.Looks.GHOST,color:p.default.Colors.BRAND},void 0,"Generate Public Link")))},r.renderSaveButton=function(){if(!this.isDirty())return null;var e=this.state.saving;return F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:this.handleSaveChanges,submitting:e,look:p.default.Looks.GHOST,color:p.default.Colors.GREEN},void 0,"Save Build Overrides")),F(m.default.Child,{grow:0},void 0,F(p.default,{onClick:this.handleDiscardChanges,disabled:e,look:p.default.Looks.GHOST,color:p.default.Colors.RED},void 0,"Discard Changes")))},r.render=function(){var e,t=this.state,n=t.loading,r=t.saving,a=t.buildOverrides;e=n?F(g.default,{className:P.default.marginTop20}):0===Object.keys(a).length?this.renderEmpty():this.renderItems();var o=!r&&!n&&this.getAvailableProjects().length>0;return F(O.FormSection,{className:P.default.marginTop60},void 0,F(m.default,{className:P.default.marginBottom20},void 0,F(m.default.Child,{},void 0,F(O.FormTitle,{tag:O.FormTitleTags.H2},void 0,"Build Overrides")),F(m.default.Child,{grow:0},void 0,F(p.default,{size:p.ButtonSizes.SMALL,onClick:this.handleAddBuildOverride,disabled:!o},void 0,"Add Build Override"))),Y,F(m.default,{direction:m.default.Direction.VERTICAL},void 0,e,F(m.default,{grow:0,direction:m.default.Direction.HORIZONTAL_REVERSE},void 0,this.renderRefreshButton(),this.renderSaveButton(),this.renderLinkButton())))},t}(a.Component);W.displayName="BuildOverrides";var K=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={ttlSeconds:3600,userIds:[],userIdEntry:"",removeUserIdEntry:"",publicLink:" ",userIdEntryError:null,statusText:null,statusTextColor:S.default.Colors.RED},t.setUserEntryError=function(e){t.setState({userIdEntryError:e})},t.setStatusMessage=function(e,n){t.setState({statusText:e,statusTextColor:n||S.default.Colors.RED})},t.handleUserIDEntry=function(e){if(e=e.trim(),!/^\d+$/.test(e))return t.setUserEntryError("User IDs are numbers!");t.setState({userIdEntry:e})},t.handleRemoveUserIDEntry=function(e){t.setState({removeUserIdEntry:e})},t.handleUserEnter=function(e){e.charCode===N.KeyboardKeys.ENTER&&t.handleAddUser()},t.handleAddUser=function(){var e=t.state,n=e.userIds,r=e.userIdEntry;return 0===r.length?t.setUserEntryError("Enter a valid user ID!"):n.indexOf(r)>=0?t.setUserEntryError("You already added that user!"):void t.setState({userIds:[].concat(n,[r]),userIdEntry:""})},t.handleRemoveUser=function(e){var n=t.state.userIds;n=n.filter(function(t){return t!==e.value}),t.setState({userIds:n})},t.handleExpirationChange=function(e){t.setState({ttlSeconds:e.value})},t.generatePayload=function(){return{overrides:t.props.buildOverrides,meta:{release_channel:window.GLOBAL_ENV.RELEASE_CHANNEL,ttl_seconds:t.state.ttlSeconds,user_ids:t.state.userIds}}},t.handleGenerateLink=k(regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setStatusMessage(null),n=t.generatePayload(),e.next=4,I.default.getPublicLink(n);case 4:!1!==(r=e.sent).error?t.setStatusMessage(r.error.toString(),S.default.Colors.RED):(t.setState({publicLink:r.url.toString()}),0===n.meta.user_ids.length&&t.setStatusMessage("Warning! No users added to the whitelist! This link could be used by anyone to override their build.",S.default.Colors.YELLOW));case 6:case"end":return e.stop()}},e)})),t}G(t,e);var n=t.prototype;return n.renderSettingsForm=function(){var e=this,t=this.state,n=t.ttlSeconds,r=t.userIdEntry,a=t.userIdEntryError,o=t.userIds,i=I.default.EXPIRATION_OPTIONS.find(function(e){return e.value===n}),l=o.map(function(e){return{label:e,value:e}});return F(m.default,{direction:m.default.Direction.VERTICAL},void 0,F(O.FormItem,{title:"Expire After",className:P.default.marginBottom20},void 0,F(_.default,{value:i,clearable:!1,searchable:!1,options:I.default.EXPIRATION_OPTIONS,onChange:this.handleExpirationChange})),F(O.FormItem,{title:"Add User ID (optional)",className:P.default.marginBottom20},void 0,F(m.default,{direction:m.default.Direction.HORIZONTAL},void 0,F(m.default.Child,{wrap:!0,basis:"90%"},void 0,F(T.default,{autoFocus:!0,value:r,onKeyPress:this.handleUserEnter,error:a,onBlur:function(){return e.setUserEntryError("")},onChange:this.handleUserIDEntry})),F(p.default,{className:p.ButtonLooks.GHOST,onClick:this.handleAddUser},void 0,"Add"))),F(O.FormItem,{title:"Remove User ID",className:P.default.marginBottom20},void 0,F(_.default,{options:l,onChange:this.handleRemoveUser,disabled:0===o.length})))},n.renderPayloadBlock=function(){var e=this.generatePayload(),t=i.default.highlight("json",JSON.stringify(e,null,2),!0);return F(h.default,{},void 0,F("pre",{},void 0,F("code",{className:"hljs scroller "+t.language+" "+b.default.scrollbarGhost+" "+R.default.codebox,dangerouslySetInnerHTML:{__html:t.value}})))},n.renderLinkForm=function(){var e=this.state,t=e.statusTextColor,n=e.statusText,r=e.publicLink;return F("div",{},void 0,F(O.FormItem,{title:"Signed Link"},void 0,F(m.default,{},void 0,F(m.default.Child,{wrap:!0,basis:"75%"},void 0,F(C.default,{value:r})),F(p.default,{onClick:this.handleGenerateLink},void 0,"Generate Link"))),F(S.default,{color:t,className:P.default.marginBottom8+" "+P.default.marginTop8},void 0,!1!==n?n:""))},n.render=function(){return F(y.default,{size:y.default.Sizes.LARGE},void 0,F(y.default.Header,{},void 0,F(O.FormTitle,{tag:O.FormTitle.Tags.H4},void 0,"Generate Public Build Override Link"),F(y.default.CloseButton,{onClick:this.props.onClose})),F(y.default.Content,{},void 0,F(m.default,{},void 0,this.renderSettingsForm(),this.renderPayloadBlock()),this.renderLinkForm()))},t}(a.Component);K.displayName="BuildOverrideLinkModal";var z=s.default.connectStores([c.default],function(){return{isTracingRequests:c.default.isTracingRequests,isForcedCanary:c.default.isForcedCanary,isLoggingGatewayEvents:c.default.isLoggingGatewayEvents,isLoggingOverlayEvents:c.default.isLoggingOverlayEvents,isValidatingAnalyticsTrack:c.default.isValidatingAnalyticsTrack}})(function(e){var t=e.isTracingRequests,n=e.isForcedCanary,r=e.isLoggingGatewayEvents,a=e.isLoggingOverlayEvents,o=e.isValidatingAnalyticsTrack;return F(O.FormSection,{title:"Developer Flags",tag:O.FormTitleTags.H2},void 0,F(E.default,{value:t,note:"Force trace all client requests with APM",onChange:function(e){var t=e.currentTarget;return(0,u.setDeveloperOptionSettings)({trace:t.checked})}},void 0,"Enable Tracing Requests"),F(E.default,{value:n,note:"Force all API requests to canary instances",onChange:function(e){var t=e.currentTarget;return(0,u.setDeveloperOptionSettings)({canary:t.checked})}},void 0,"Enable Forced Canary"),F(E.default,{value:r,note:"Logs all incoming and outgoing gateway events to the developer console",onChange:function(e){var t=e.currentTarget;return(0,u.setDeveloperOptionSettings)({logGatewayEvents:t.checked})}},void 0,"Enable Logging of Gateway Events to Console"),F(E.default,{value:a,note:"Logs all overlay related RPC events. Super noisy if an overlay is connected",onChange:function(e){var t=e.currentTarget;return(0,u.setDeveloperOptionSettings)({logOverlayEvents:t.checked})}},void 0,"Enable Logging of Overlay RPC Events & Commands"),F(E.default,{value:o,note:"Validates analytics track calls",onChange:function(e){var t=e.currentTarget;return(0,u.setDeveloperOptionSettings)({validateAnalyticsTrack:t.checked})}},void 0,"Enable Validation of Analytics.track calls"))}),$=F(a.Fragment,{},void 0,F(z,{}),F(W,{})),q=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype.render=function(){return $},t}(a.PureComponent);q.displayName="UserSettingsModalDeveloperOptions";var X=q;t.default=X,e.exports=t.default},7548:function(e,t,n){"use strict";t.__esModule=!0,t.setDeveloperOptionSettings=function(e){a.default.dispatch({type:o.ActionTypes.DEVELOPER_OPTIONS_UPDATE_SETTINGS,settings:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},7549:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(3)),i=h(n(131)),l=h(n(57)),s=h(n(148)),u=h(n(6004)),d=n(823),c=h(n(6085)),f=h(n(5357)),p=h(n(5776));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={open:t.props.open},t.handleToggleVisibility=function(){t.setState({open:!t.state.open})},t}return m(t,e),t.prototype.render=function(){var e=this.state.open,t=this.props,n=t.title,r=t.children;return v("div",{className:p.default.group},void 0,v(d.FormSection,{},void 0,v(d.FormTitle,{tag:d.FormTitleTags.H3,className:p.default.title,onClick:this.handleToggleVisibility},void 0,n),e?r:null),v(d.FormDivider,{className:f.default.marginTop20}))},t}(a.Component);y.displayName="ExperimentGroup";var _=v(d.FormSection,{},void 0,v(d.FormText,{},void 0,"No Experiments are currently running")),g=function(e){function t(){return e.apply(this,arguments)||this}m(t,e);var n=t.prototype;return n.renderExperimentGroup=function(e,t){var n=this.props.experiments[e];if(null==n)return null;var r=n.description;return Array.isArray(r)||(r=[r]),r=r.map(function(e,t){return v(d.FormText,{type:d.FormTextTypes.DESCRIPTION},t,e)}),v(y,{title:n.title,open:null!=this.props.overrides[e]},t,v("div",{},void 0,this.renderExperimentTypes(e,n.experiments),v("div",{className:f.default.marginTop4},void 0,r)))},n.renderExperimentTypes=function(e,t){var n=Object.keys(t),r=this.props.overrides[e];return v(s.default,{},void 0,v(s.default.Child,{},void 0,v(d.FormItem,{title:"Type Override"},void 0,v(u.default,{value:r?r.type:"",clearable:!0,searchable:!1,options:this.getExperimentTypes(n),onChange:function(t){return i.default.overrideType(e,t&&t.value)}}))),v(s.default.Child,{},void 0,v(d.FormItem,{title:"Bucket Override"},void 0,v(u.default,{value:r?r.bucket:"",disabled:!r||!r.type,clearable:!0,searchable:!1,options:this.getExperimentBuckets(t[r?r.type:""]),onChange:function(t){return i.default.overrideBucket(e,t&&t.value)}}))))},n.getExperimentTypes=function(e){return e.map(function(e){return{label:e.charAt(0).toUpperCase()+e.slice(1),value:e}})},n.getExperimentBuckets=function(e){return void 0===e&&(e=[]),e.map(function(e){return{label:c.default.getExperimentBucketName(e),value:e}})},n.renderEmpty=function(){return _},n.render=function(){var e,t=Object.keys(this.props.experiments);return e=t.length?t.map(this.renderExperimentGroup,this):this.renderEmpty(),v(d.FormSection,{tag:d.FormTitleTags.H2,title:"Experiments"},void 0,e)},t}(a.Component);g.displayName="UserSettingsExperiments";var E=o.default.connectStores([l.default],function(){return{experiments:l.default.getRegisteredExperiments(),overrides:l.default.getExperimentOverrides()}})(g);t.default=E,e.exports=t.default},7550:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=b(n(2)),o=P(n(17)),i=P(n(3)),l=P(n(179)),s=P(n(452)),u=P(n(64)),d=P(n(35)),c=b(n(124)),f=P(n(219)),p=b(n(6002)),h=P(n(7161)),v=P(n(301)),m=P(n(821)),y=P(n(6004)),_=P(n(5998)),g=P(n(437)),E=n(823),S=P(n(9)),T=P(n(13)),O=P(n(5363)),I=P(n(5364)),C=P(n(312)),N=P(n(5362)),A=P(n(5357)),M=P(n(5778));function P(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var D=i.default.connectStores([d.default],function(){return{theme:d.default.theme}})(p.default),w=S.default.isWindows(),U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedValue:null},t.handleGameChange=function(e){t.setState({selectedValue:e})},t.handleAdd=function(){var e=t.state.selectedValue;null!=e&&(l.default.addGame(e.value),(0,t.props.onClose)())},t.handleClose=function(){(0,t.props.onClose)()},t}return L(t,e),t.prototype.render=function(){var e=this.props.candidates,t=this.state.selectedValue,n=e.map(function(e){return{value:e.pid,label:e.name}});return R("div",{className:(0,o.default)(M.default.addGamePopout,I.default.elevationBorderHigh)},void 0,R(y.default,{clearable:!1,options:n,onChange:this.handleGameChange,value:t}),R(E.FormDivider,{className:(0,o.default)(A.default.marginTop8,A.default.marginBottom8)}),R("div",{className:(0,o.default)(M.default.actions,C.default.horizontal)},void 0,R(c.default,{className:M.default.cancelButton,look:c.ButtonLooks.LINK,color:c.ButtonColors.GREY,onClick:this.handleClose},void 0,T.default.Messages.CANCEL),R(c.default,{disabled:null==t,onClick:this.handleAdd},void 0,T.default.Messages.SETTINGS_GAMES_ADD_NEW_GAME)))},t}(a.PureComponent);U.displayName="AddGamePopout";var k=i.default.connectStores([u.default],function(){return{candidates:u.default.getCandidateGames()}})(U),G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={editingName:null!=t.props.game&&t.props.game.name||""},t.handleRemoveClick=function(){var e=t.props.game;null!=e&&l.default.deleteEntry(e)},t.handleNameEdit=function(){var e=t.props.game,n=t.state.editingName;null!=e&&e.name!==n&&l.default.editName(e,n)},t.handleNameChange=function(e){t.setState({editingName:e.target.value})},t.handleOverlayToggle=function(){var e=t.props.game;null!=e&&l.default.toggleOverlay(e)},t}L(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){this.props.nowPlaying&&e.game&&e.game.name!==this.state.editingName&&this.setState({editingName:e.game.name})},n.renderName=function(){var e=this.props.game;return null==e?R("div",{className:M.default.gameName},void 0,T.default.Messages.SETTINGS_GAMES_NO_GAME_DETECTED):e.verified?R("div",{className:C.default.horizontal},void 0,R("div",{className:M.default.gameName},void 0,e.name),R(g.default,{text:T.default.Messages.SETTINGS_GAMES_VERIFIED_ICON},void 0,R("i",{className:M.default.gameVerifiedIcon}))):R("input",{className:(0,o.default)(M.default.gameName,M.default.gameNameInput),type:"text",maxLength:128,value:this.state.editingName,onBlur:this.handleNameEdit,onKeyDown:this.handleEnterKey,onChange:this.handleNameChange})},n.renderLastPlayed=function(){var e=this.props,t=e.game,n=e.nowPlaying;if(null==t)return R("div",{className:M.default.lastPlayed},void 0,T.default.Messages.SETTINGS_GAMES_NOT_PLAYING);var r,a=t.played,o=t.exePath;return n?r=T.default.Messages.SETTINGS_GAMES_NOW_PLAYING_STATE:a&&(r=T.default.Messages.SETTINGS_GAMES_LAST_PLAYED.format({when:a})),R("div",{className:M.default.lastPlayed},void 0,R(h.default,{hoverText:o?o.toUpperCase():""},void 0,r))},n.renderOverlayToggle=function(){var e=this.props.game;if(!w||null==e)return null;var t=e.overlay,n=e.overlayWarn,r=t?T.default.Messages.SETTINGS_GAMES_OVERLAY_ON:T.default.Messages.SETTINGS_GAMES_OVERLAY_OFF,a=R(v.default,t?{name:v.default.Names.OVERLAY_ON,className:M.default.overlayToggleIconOn,foreground:M.default.fill}:{name:v.default.Names.OVERLAY_OFF,className:M.default.overlayToggleIconOff,foreground:M.default.fill}),i=n?R(g.default,{text:T.default.Messages.SETTINGS_GAMES_OVERLAY_WARNING},void 0,R("i",{className:M.default.overlayWarningIcon})):null;return R("div",{className:(0,o.default)(C.default.flexCenter,C.default.noWrap,C.default.justifyBetween)},void 0,i,R("div",{className:M.default.overlayStatusText},void 0,r),R(g.default,{text:T.default.Messages.SETTINGS_GAMES_TOGGLE_OVERLAY},void 0,R(f.default,{className:M.default.overlayToggleIcon,onClick:this.handleOverlayToggle},void 0,a)))},n.renderRemove=function(){return R(f.default,{className:(0,o.default)(O.default.button,M.default.removeGame),onClick:this.handleRemoveClick},void 0,T.default.Messages.REMOVE_KEYBIND)},n.render=function(){var e,t=this.props,n=t.nowPlaying,r=null!=t.game;return R("div",{className:(0,o.default)(C.default.flexCenter,((e={})[M.default.game]=!n,e[N.default.card]=!n,e[M.default.nowPlaying]=r&&n,e[M.default.notDetected]=!r&&n,e))},void 0,R("div",{className:(0,o.default)(M.default.gameNameLastPlayed,C.default.vertical)},void 0,this.renderName(),this.renderLastPlayed()),this.renderOverlayToggle(),!n&&r?this.renderRemove():null)},n.handleEnterKey=function(e){13===e.keyCode&&(e.target.blur(),e.preventDefault())},t}(a.PureComponent);G.displayName="Game",G.defaultProps={nowPlaying:!1};var F=function(e){function t(){return e.apply(this,arguments)||this}L(t,e);var r=t.prototype;return r.componentDidMount=function(){u.default.watchCandidateGames(!0)},r.componentWillUnmount=function(){u.default.watchCandidateGames(!1)},r.handleToggleShowCurrentGame=function(e){s.default.updateRemoteSettings({showCurrentGame:e.currentTarget.checked})},r.renderPopout=function(e){return a.createElement(k,e)},r.renderGameList=function(){var e=this.props.gameHistory;return e.length?R(E.FormSection,{className:A.default.marginTop40},void 0,R(E.FormTitle,{className:A.default.marginBottom4},void 0,T.default.Messages.SETTINGS_GAMES_ADDED_GAMES_LABEL),e.map(function(e){return R(G,{game:e},e.exePath)})):R(D,{className:A.default.marginTop40},void 0,R(p.EmptyStateImage,{darkSrc:n(7551),lightSrc:n(7552),width:430,height:250}),R(p.EmptyStateText,{},void 0,T.default.Messages.SETTINGS_GAMES_NO_GAMES_HEADER))},r.render=function(){var e=this.props,t=e.runningGame,n=e.showCurrentGame;return R(a.Fragment,{},void 0,R(E.FormSection,{tag:E.FormTitle.Tags.H2,title:T.default.Messages.USER_SETTINGS_GAME_ACTIVITY},void 0,R(G,{game:t,nowPlaying:!0}),R("div",{className:(0,o.default)(M.default.nowPlayingAdd,A.default.marginReset,A.default.marginTop8,A.default.marginBottom20)},void 0,R("span",{},void 0,T.default.Messages.SETTINGS_GAMES_NOT_SEEING_GAME),R(m.default,{closeOnScroll:!1,render:this.renderPopout,shadow:!1,position:m.default.Positions.BOTTOM},void 0,R(c.default,{look:c.ButtonLooks.LINK,size:c.ButtonSizes.MIN,color:c.ButtonColors.LINK},void 0,T.default.Messages.SETTINGS_GAMES_ADD_GAME))),R(_.default,{value:n,onChange:this.handleToggleShowCurrentGame},void 0,T.default.Messages.SHOW_CURRENT_GAME),this.renderGameList()))},t}(a.PureComponent);F.displayName="UserSettingsGameActivity";var j=i.default.connectStores([d.default,u.default],function(){return{showCurrentGame:d.default.showCurrentGame,gameHistory:u.default.getGamesSeen(!0),runningGame:u.default.getSettingsGame()}})(F);t.default=j,e.exports=t.default},7551:function(e,t,n){e.exports=n.p+"d01c53acda73318e5b39676ef8242eb7.svg"},7552:function(e,t,n){e.exports=n.p+"bb8e02d970950bdadb649d765f3b8488.svg"},7553:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(2)),o=I(n(3)),i=C(n(327)),l=C(n(875)),s=I(n(452)),u=n(186),d=I(n(35)),c=I(n(6130)),f=I(n(219)),p=I(n(148)),h=I(n(301)),v=I(n(5998)),m=n(823),y=I(n(18)),_=C(n(159)),g=I(n(9)),E=I(n(7554)),S=n(0),T=I(n(13)),O=I(n(5781));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e){var t=e.applicationViewItems,n=e.restoreApplication;if(0===t.length)return null;var r=t.map(function(e){var t=e.libraryApplication.getDistributor();return A("div",{className:O.default.hiddenLibraryApplication},e.key,A(p.default,{direction:p.default.Direction.VERTICAL,className:O.default.hiddenLibraryApplicationContent},void 0,A("div",{className:O.default.applicationName},void 0,e.libraryApplication.getBranchedName(e.application)),null!=t?A("div",{className:O.default.applicationSubText},void 0,S.DistributorNames[t]):null),A(f.default,{className:O.default.restoreButton,onClick:function(){return n(e.libraryApplication)}},void 0,A(h.default,{name:h.default.Names.CLOSE,className:O.default.restoreIcon})))});return A(m.FormSection,{className:O.default.hiddenLibraryApplications},void 0,A(m.FormTitle,{className:O.default.hiddenLibraryApplicationsTitle},void 0,T.default.Messages.SETTINGS_GAMES_HIDDEN_LIBRARY_APPLICATIONS_LABEL),r)}M.displayName="HiddenLibraryApplications";var P=A(E.default,{}),b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleRestoreHiddenLibraryApplication=function(e){var n=_.toggleFlag(e.getFlags(),S.LibraryApplicationFlags.HIDDEN);e instanceof u.LocalApplicationRecord?l.updateFlags(e.id,n):i.updateFlags(e.id,e.branchId,n),t.trackRestoreApplication(e,_.hasFlag(n,S.LibraryApplicationFlags.HIDDEN))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.handleToggleImportGames=function(e){var t=e.currentTarget.checked;s.default.updateLocalSettings({importGamesEnabled:t}),y.default.track(S.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:t})},o.handleToggleShortcutDesktop=function(e){var t=e.currentTarget.checked;s.default.updateLocalSettings({installShortcutDesktop:t})},o.handleToggleShortcutStartMenu=function(e){var t=e.currentTarget.checked;s.default.updateLocalSettings({installShortcutStartMenu:t})},o.trackRestoreApplication=function(e,t){y.default.track(S.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,N({hidden_enabled:t},e.getAnalyticsData()))},o.render=function(){var e=this.props,t=e.importGamesEnabled,n=e.hiddenLibraryApplicationViewItems,r=e.installShortcutDesktop,o=e.installShortcutStartMenu,i=g.default.isWindows();return A(a.Fragment,{},void 0,A(m.FormSection,{tag:m.FormTitleTags.H2,title:T.default.Messages.USER_SETTINGS_GAME_LIBRARY},void 0,i?A(a.Fragment,{},void 0,A(v.default,{value:!0===t,onChange:this.handleToggleImportGames,note:T.default.Messages.SETTINGS_GAMES_IMPORT_EXPLANATION},void 0,T.default.Messages.SETTINGS_GAMES_IMPORT_LABEL),A(v.default,{value:r,onChange:this.handleToggleShortcutDesktop,note:T.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP_NOTE},void 0,T.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_DESKTOP),A(v.default,{value:o,onChange:this.handleToggleShortcutStartMenu,note:T.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU_NOTE},void 0,T.default.Messages.USER_SETTINGS_GAMES_SHORTCUTS_START_MENU),P):null,A(M,{restoreApplication:this.handleRestoreHiddenLibraryApplication,applicationViewItems:n})))},r}(a.PureComponent);b.displayName="UserSettingsGameLibrary";var R=o.default.connectStores([d.default,c.default],function(){return{importGamesEnabled:d.default.importGamesEnabled,hiddenLibraryApplicationViewItems:c.default.hiddenLibraryApplicationViewItems,installShortcutDesktop:d.default.installShortcutDesktop,installShortcutStartMenu:d.default.installShortcutStartMenu}})(b);t.default=R,e.exports=t.default},7554:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(3)),i=n(7136),l=I(n(77)),s=I(n(329)),u=I(n(124)),d=I(n(444)),c=I(n(6006)),f=I(n(7555)),p=I(n(148)),h=I(n(7161)),v=I(n(125)),m=I(n(822)),y=n(823),_=n(882),g=I(n(9)),E=I(n(445)),S=I(n(13)),T=I(n(5357)),O=I(n(5780));function I(e){return e&&e.__esModule?e:{default:e}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var M=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={label:null,isDefault:null},t.handleStartEditing=function(){var e=t.props,n=e.path,r=e.label,a=e.isDefault;(0,e.onToggleEditing)(n),t.setState({label:r,isDefault:a})},t.handleStopEditing=function(){(0,t.props.onToggleEditing)(null),t.setState({label:null,isDefault:null})},t.handleRemoveLocation=function(){l.default.push(function(e){return a.createElement(E.default,C({},e,{header:S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,confirmText:S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE,cancelText:S.default.Messages.CANCEL,onConfirm:function(){t.handleStopEditing(),(0,i.removeInstallLocation)(t.props.path)}}),N(v.default,{size:v.default.Sizes.MEDIUM,color:v.default.Colors.PRIMARY},void 0,S.default.Messages.USER_SETTINGS_GAMES_REMOVE_LOCATION_BODY))})},t.handleSaveChanges=function(){(0,i.updateInstallLocation)(t.props.path,{label:null!=t.state.label?t.state.label:t.props.label,isDefault:null!=t.state.isDefault?t.state.isDefault:t.props.isDefault}),t.handleStopEditing()},t.handleLabelChange=function(e){t.setState({label:e})},t.handleToggleDefault=function(){t.setState({isDefault:!t.state.isDefault})},t}A(t,e);var n=t.prototype;return n.renderDiskUsageCircle=function(){var e=this.props.metadata;return null!=e&&null!=e.availableKB&&null!=e.totalKB?N(f.default,{total:e.totalKB,used:e.totalKB-e.availableKB}):null},n.renderViewing=function(){var e,t,n=this.props,r=n.path,a=n.label,o=n.editingPath,i=n.isDefault,l=n.metadata;return null!=l&&(e=null!=l.availableKB?(0,_.formatSize)(l.availableKB,{useKibibytes:!0}):null,t=null!=l.totalKB?(0,_.formatSize)(l.totalKB,{useKibibytes:!0}):null),N(p.default,{className:O.default.installationPath,align:p.default.Align.CENTER},void 0,this.renderDiskUsageCircle(),N(p.default,{direction:p.default.Direction.VERTICAL,className:O.default.descriptionWrapper},void 0,N(p.default,{align:p.default.Align.CENTER},void 0,N(v.default,{className:O.default.rowTitle,size:v.default.Sizes.MEDIUM},void 0,null!=a?a:s.default.getLabelFromPath(r)),i?N("span",{className:O.default.defaultIndicator},void 0,S.default.Messages.DEFAULT):null),null!=l&&null!=e&&null!=t?N(h.default,{className:O.default.rowBody,hoverText:S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_SPACE.format({available:e,total:t})},void 0,r):N(v.default,{className:O.default.rowBody,size:v.default.Sizes.SMALL},void 0,r)),N(u.default,{size:u.default.Sizes.SMALL,disabled:null!=o,color:u.default.Colors.PRIMARY,onClick:this.handleStartEditing},void 0,S.default.Messages.EDIT))},n.renderEditing=function(){var e=this.props,t=e.path,n=e.hasGamesInstalledInPath,r=this.state,a=r.label,o=r.isDefault;return N(d.default,{editable:!0,className:O.default.installationPathEditing},void 0,N(p.default,{},void 0,this.renderDiskUsageCircle(),N(p.default.Child,{},void 0,N(y.FormItem,{title:S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_NAME},void 0,N(m.default,{value:a,placeholder:s.default.getLabelFromPath(t),onChange:this.handleLabelChange})),N(y.FormItem,{title:S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION,className:T.default.marginTop20},void 0,N(m.default,{disabled:!0,value:t})),N(c.default,{type:c.default.Types.INVERTED,value:null!=o?o:this.props.isDefault,disabled:this.props.isDefault,className:O.default.defaultLocationCheckbox,onChange:this.handleToggleDefault},void 0,S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_MAKE_DEFAULT),N("hr",{className:O.default.separator}),N(p.default,{},void 0,N(u.default,{disabled:n||this.props.isDefault,size:u.default.Sizes.SMALL,color:u.default.Colors.RED,look:u.default.Looks.OUTLINED,onClick:this.handleRemoveLocation},void 0,S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_REMOVE),N(p.default,{justify:p.default.Justify.END},void 0,N(u.default,{size:u.default.Sizes.SMALL,color:u.default.Colors.PRIMARY,look:u.default.Looks.LINK,onClick:this.handleStopEditing},void 0,S.default.Messages.CANCEL),N(u.default,{disabled:t===this.props.path&&a===this.props.label&&o===this.props.isDefault,size:u.default.Sizes.SMALL,color:u.default.Colors.GREEN,onClick:this.handleSaveChanges},void 0,S.default.Messages.SAVE))))))},n.render=function(){return this.props.editingPath===this.props.path?this.renderEditing():this.renderViewing()},t}(a.PureComponent);M.displayName="PathItem";var P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={editingPath:null},t.handleAddInstallationLocation=function(){g.default.showOpenDialog(["openDirectory"]).then(function(e){null!=e&&0!==e.length&&null!=e[0]&&"undefined"!==e[0]&&(0,i.addInstallLocation)(e[0])})},t.handleToggleEditing=function(e){t.setState({editingPath:e})},t}A(t,e);var n=t.prototype;return n.componentDidMount=function(){(0,i.fetchMetadata)(this.props.installationPaths.map(function(e){return e.path}))},n.render=function(){var e=this,t=this.props,n=t.installationPaths,r=t.installationPathsMetadata,a=t.defaultInstallationPath,o=this.state.editingPath;return N(y.FormSection,{className:O.default.wrapper,title:S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATIONS},void 0,n.map(function(t){var n=t.path,i=t.label;return N(M,{path:n,label:i,metadata:r[n],isDefault:a===n,editingPath:o,hasGamesInstalledInPath:s.default.hasGamesInstalledInPath(n),onToggleEditing:e.handleToggleEditing},n)}),N("div",{className:O.default.buttonRowWrapper},void 0,N(u.default,{disabled:!g.default.embedded,onClick:this.handleAddInstallationLocation,size:u.default.Sizes.SMALL},void 0,S.default.Messages.USER_SETTINGS_GAMES_INSTALL_LOCATION_ADD)))},t}(a.PureComponent);P.displayName="GameInstallLocations";var b=o.default.connectStores([s.default],function(){return{installationPaths:s.default.installationPaths,installationPathsMetadata:s.default.installationPathsMetadata,defaultInstallationPath:s.default.defaultInstallationPath}})(P);t.default=b,e.exports=t.default},7555:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(437)),o=l(n(13)),i=l(n(5779));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=Math.ceil(2*Math.PI*20);var d=function(e){var t=e.total,n=e.used,r=Math.max(0,Math.min(1,n/t)),l=Math.floor(100*r)+"%";return s(a.default,{text:o.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},void 0,s("div",{className:i.default.wrapper,role:"progressbar","aria-label":o.default.Messages.APPLICATION_INSTALLATION_SPACE_USED.format({used:l})},void 0,s("svg",{viewBox:"25 25 50 50",className:i.default.svg,"aria-hidden":!0},void 0,s("circle",{className:i.default.background,cx:"50",cy:"50",r:20}),s("circle",{className:i.default.foreground,cx:"50",cy:"50",r:20,stroke:function(e){return"rgb("+Math.round(-85*e+199)+", "+Math.round(-71*e+208)+", "+Math.round(-22*e+240)+")"}(r),strokeDasharray:function(e){return Math.floor(u*e)+", "+u}(r)})),s("aside",{className:i.default.usageInfo,"aria-hidden":!0},void 0,l)))};d.displayName="DiskSpaceCircle";var c=d;t.default=c,e.exports=t.default},7556:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(3)),i=y(n(7557)),l=y(n(35)),s=y(n(14)),u=y(n(444)),d=y(n(7558)),c=y(n(7561)),f=y(n(7572)),p=y(n(7573)),h=n(0),v=y(n(13)),m=y(n(5791));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=_(d.default,{}),E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderIntroHeader=function(){return null==this.props.houseMembership?v.default.Messages.HYPESQUAD_HEADING:v.default.Messages.HYPESQUAD_HEADING_EXISTING_MEMBER},o.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;return _(a.Fragment,{},void 0,_("div",{className:m.default.intro},void 0,_("div",{className:m.default.introHeader},void 0,this.renderIntroHeader()),_("div",{className:m.default.introBlurb},void 0,v.default.Messages.HYPESQUAD_SUBHEADING)),_(p.default,{className:m.default.verificationNotice,unclaimedNotice:v.default.Messages.HYPESQUAD_UNCLAIMED_ACCOUNT_NOTICE,unverifiedNotice:v.default.Messages.HYPESQUAD_UNVERIFIED_EMAIL_NOTICE}),_(c.default,{houseMembership:t,isClaimed:n,isVerified:r}),g,_(f.default,{isHypeSquadOnlineMember:null!=t}),_(u.default,{className:m.default.attendeeCTA},void 0,v.default.Messages.HYPESQUAD_ATTENDEE_CTA.format({url:h.MarketingURLs.HYPESQUAD})))},r}(a.PureComponent);E.displayName="UserSettingsHypeSquad";var S=o.default.connectStores([i.default,l.default,s.default],function(){var e=s.default.getCurrentUser();return{houseMembership:i.default.getHouseMembership(),isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(E);t.default=S,e.exports=t.default},7557:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(14)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=null;var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getHouseMembership=function(){return s},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t;(t=o.default.getCurrentUser()).hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_1)?s=i.HypeSquadHouses.HOUSE_1:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_2)?s=i.HypeSquadHouses.HOUSE_2:t.hasFlag(i.UserFlags.HYPESQUAD_ONLINE_HOUSE_3)&&(s=i.HypeSquadHouses.HOUSE_3)},HYPESQUAD_ONLINE_MEMBERSHIP_LEAVE_SUCCESS:function(e){s=null},HYPESQUAD_ONLINE_MEMBERSHIP_JOIN_SUCCESS:function(e){s=e.houseID}});t.default=u,e.exports=t.default},7558:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(125)),i=d(n(7559)),l=d(n(7560)),s=d(n(13)),u=d(n(5784));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return c("div",{className:u.default.features},void 0,c(l.default,{className:u.default.video,videoID:"SWzB1mx2o5k"}),c(o.default,{className:u.default.perksHeading,color:o.default.Colors.PRIMARY,weight:o.default.Weights.BOLD},void 0,s.default.Messages.HYPESQUAD_PERKS_HEADING),c(i.default,{features:[{icon:u.default.perkNewsletter,title:s.default.Messages.HYPESQUAD_PERK_TITLE_NEWSLETTER,description:s.default.Messages.HYPESQUAD_PERK_DESCRIPTION_NEWSLETTER},{icon:u.default.perkBadge,title:s.default.Messages.HYPESQUAD_PERK_TITLE_PROFILE_BADGE,description:s.default.Messages.HYPESQUAD_PERK_DESCRIPTION_PROFILE_BADGE},{icon:u.default.perkChallenges,title:s.default.Messages.HYPESQUAD_PERK_TITLE_SQUAD_CHALLENGES,description:s.default.Messages.HYPESQUAD_PERK_DESCRIPTION_SQUAD_CHALLENGES}]}))},r}(a.Component);f.displayName="HypeSquadPerks";var p=f;t.default=p,e.exports=t.default},7559:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(148)),l=u(n(5357)),s=u(n(5782));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.features,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["features"]);return t.map(function(e,t){var r;return null==e.predicate||e.predicate(n)?d(i.default,{align:i.default.Align.CENTER,className:(0,o.default)(l.default.marginTop20,s.default.feature,(r={},r[s.default.featureBorder]=0!==t,r))},t,null!=e.icon?d("div",{className:(0,o.default)(s.default.icon,e.icon)}):null,d("div",{},void 0,null!=e.title?d("div",{className:(0,o.default)(l.default.marginBottom8,s.default.title)},void 0,e.title):null,d("div",{className:s.default.description},void 0,e.description))):null})},r}(a.Component);t.default=c,c.displayName="FeatureList",e.exports=t.default},7560:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5783));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.className,n=e.videoID;return s("div",{className:(0,o.default)(t,i.default.videoWrapper)},void 0,s("iframe",{type:"text/html",className:i.default.video,src:"https://www.youtube.com/embed/"+n+"?rel=0&showinfo=0&controls=1&origin=https://discordapp.com"}))},r}(a.Component);t.default=u,u.displayName="PromoVideo",e.exports=t.default},7561:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),s=_(n(17)),u=_(n(77)),d=_(n(124)),c=_(n(219)),f=_(n(148)),p=_(n(125)),h=_(n(7562)),v=n(0),m=_(n(13)),y=_(n(5788));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=((r={})[v.HypeSquadHouses.HOUSE_1]=y.default.membershipDialogHouse1,r[v.HypeSquadHouses.HOUSE_2]=y.default.membershipDialogHouse2,r[v.HypeSquadHouses.HOUSE_3]=y.default.membershipDialogHouse3,r),S=((a={})[v.HypeSquadHouses.HOUSE_1]=y.default.houseLogoHouse1,a[v.HypeSquadHouses.HOUSE_2]=y.default.houseLogoHouse2,a[v.HypeSquadHouses.HOUSE_3]=y.default.houseLogoHouse3,a),T=((o={})[v.HypeSquadHouses.HOUSE_1]=n(7569),o[v.HypeSquadHouses.HOUSE_2]=n(7570),o[v.HypeSquadHouses.HOUSE_3]=n(7571),o),O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJoinHypeSquadClick=function(){u.default.push(function(e){return l.createElement(h.default,e)})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.houseMembership,n=e.isClaimed,r=e.isVerified;if(!n||!r)return null;if(null!=t){var a=m.default.Messages.HYPESQUAD_MEMBERSHIP_HEADING.format({houseName:m.default.Messages["HYPESQUAD_"+t]});return g("div",{className:(0,s.default)(y.default.membershipDialog,E[t])},void 0,g("div",{className:y.default.membershipDialogContent},void 0,g(f.default,{},void 0,g(f.default.Child,{grow:1,shrink:1},void 0,g(p.default,{className:y.default.membershipDialogHeading,color:p.default.Colors.WHITE,size:p.default.Sizes.SMALL},void 0,m.default.Messages.HYPESQUAD_YOUR_HOUSE),g(p.default,{className:y.default.membershipDialogHouseName,color:p.default.Colors.WHITE,weight:p.default.Weights.SEMIBOLD},void 0,a),g(p.default,{className:y.default.membershipDialogHouseDescription,color:p.default.Colors.WHITE,size:p.default.Sizes.MEDIUM},void 0,m.default.Messages["HYPESQUAD_DESCRIPTION_"+t])),g(f.default.Child,{className:y.default.houseLogoWrapper,grow:0,shrink:0,wrap:!0},void 0,g("img",{className:(0,s.default)(y.default.houseLogo,S[t]),src:T[t],alt:a}))),g(p.default,{className:y.default.membershipDialogSwitchHouses,color:p.default.Colors.WHITE,size:p.default.Sizes.MEDIUM},void 0,m.default.Messages.HYPESQUAD_SWITCH_HOUSES_PROMPT,g(c.default,{className:y.default.membershipDialogSwitchHousesAction,onClick:this.handleJoinHypeSquadClick,tag:"span"},void 0,m.default.Messages.HYPESQUAD_SWITCH_HOUSES_ACTION))))}return g("div",{className:y.default.joinCTAWrapper},void 0,g(f.default,{className:y.default.joinCTA,align:f.default.Align.CENTER,justify:f.default.Justify.CENTER,direction:f.default.Direction.HORIZONTAL},void 0,g(f.default.Child,{grow:0,shrink:0},void 0,g(p.default,{color:p.default.Colors.PRIMARY},void 0,m.default.Messages.HYPESQUAD_READY_TO_REP)),g(f.default.Child,{grow:0,shrink:0},void 0,g(d.default,{onClick:this.handleJoinHypeSquadClick},void 0,m.default.Messages.HYPESQUAD_JOIN))),g(p.default,{className:y.default.newsletterWarning,color:p.default.Colors.PRIMARY},void 0,m.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},r}(l.Component);t.default=O,O.displayName="JoinHypeSquadCTA",e.exports=t.default},7562:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=S(n(17)),s=S(n(826)),u=S(n(7162)),d=S(n(124)),c=S(n(220)),f=S(n(125)),p=S(n(107)),h=n(7563),v=S(n(7564)),m=S(n(7565)),y=n(0),_=S(n(13)),g=S(n(5357)),E=S(n(5787));function S(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var I=function(e){return O("div",{className:E.default.innerContentWrapper},void 0,e.children)};I.displayName="innerContentWrapper";var C=((r={})[y.HypeSquadHouses.HOUSE_1]=n(7566),r[y.HypeSquadHouses.HOUSE_2]=n(7567),r[y.HypeSquadHouses.HOUSE_3]=n(7568),r),N=((a={})[y.HypeSquadHouses.HOUSE_1]=E.default.quizResultLogoWrapperHouse1,a[y.HypeSquadHouses.HOUSE_2]=E.default.quizResultLogoWrapperHouse2,a[y.HypeSquadHouses.HOUSE_3]=E.default.quizResultLogoWrapperHouse3,a),A=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={currentStep:0,hasSubmittedHouse:!1,hasUnknownError:!1,isRequestPending:!1,questions:(0,h.getQuestions)(),responses:{},selectedHouse:null},t.handleQuestionSelect=function(e){t.setState(function(t){var n;return{responses:T({},t.responses,(n={},n[t.currentStep]=e,n))}})},t.handleSubmitButtonClick=function(){var e=t.getSelectedHouseID();t.setState({isRequestPending:!0},function(){u.default.joinHypeSquadOnline({houseID:e}).then(function(){t.setState({hasUnknownError:!1,hasSubmittedHouse:!0,isRequestPending:!1,selectedHouse:e})}).catch(function(){t.setState({hasUnknownError:!0,hasSubmittedHouse:!1,isRequestPending:!1})})})},t.handleKeyDown=function(e){e.keyCode===y.KeyboardKeys.ENTER&&t.handleSubmitButtonClick()},t.handleNextQuestionButtonClick=function(){t.setState(function(e){return{currentStep:e.currentStep+1}})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getSelectedHouseID=function(){var e,t=this.state.responses,n={},r=0;return Object.keys(t).forEach(function(a){var o=t[a];null==n[o]&&(n[o]=0),n[o]++,n[o]>r&&(e=o,r=n[o])}),null==e||e===y.RANDOM_HYPESQUAD_HOUSE?(0,h.getRandomHouse)():e},a.renderUnknownErrorMessage=function(){return O(v.default,{},"error",O(i.Fragment,{},void 0,O(f.default,{className:E.default.quizResultHeading,color:f.default.Colors.PRIMARY,size:f.default.Sizes.LARGE,weight:f.default.Weights.SEMIBOLD},void 0,_.default.Messages.HYPESQUAD_ERROR_HEADING),O(f.default,{color:f.default.Colors.PRIMARY},void 0,_.default.Messages.HYPESQUAD_ERROR_BODY.format({emailAddress:"hypesquad@discordapp.com",emailAddressLink:"mailto:hypesquad@discordapp.com"}))))},a.renderQuizResult=function(){var e=this.state.selectedHouse;if(null==e)return null;var t,n,r=_.default.Messages.HYPESQUAD_QUIZ_TITLE.format({house:_.default.Messages["HYPESQUAD_"+e]});return O(v.default,{},"submit-step",O(i.Fragment,{},void 0,O("div",{className:(0,l.default)(E.default.quizResultLogoWrapper,N[e],g.default.marginBottom20)},void 0,O("img",{alt:r,className:E.default.quizResultLogo,src:C[e]})),O(f.default,{className:E.default.quizResultHeading,color:f.default.Colors.PRIMARY,size:f.default.Sizes.LARGE,weight:f.default.Weights.SEMIBOLD},void 0,r),O(f.default,{className:E.default.quizResultBody,color:f.default.Colors.PRIMARY},void 0,(t=e,((n={})[y.HypeSquadHouses.HOUSE_1]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_1,n[y.HypeSquadHouses.HOUSE_2]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_2,n[y.HypeSquadHouses.HOUSE_3]=_.default.Messages.HYPESQUAD_QUIZ_BODY_HOUSE_3,n)[t]))))},a.renderContent=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,r=e.hasSubmittedHouse,a=e.questions;if(n)return this.renderUnknownErrorMessage();if(r)return this.renderQuizResult();var o=a[t];return O(v.default,{},t,O(m.default,{onSelect:this.handleQuestionSelect,options:o.options,prompt:o.prompt},t))},a.renderHeaderCopy=function(){var e=this.state,t=e.currentStep,n=e.hasUnknownError,r=e.hasSubmittedHouse,a=e.questions;return n?_.default.Messages.HYPESQUAD_QUIZ_ERROR_MODAL_TITLE:r?_.default.Messages.HYPESQUAD_QUIZ_COMPLETED_MODAL_TITLE:_.default.Messages.HYPESQUAD_QUIZ_ONGOING_MODAL_TITLE.format({currentQuestion:t+1,questionCount:a.length})},a.renderNewsletterWarning=function(){return O(v.default,{},void 0,O(f.default,{className:E.default.nameFormPreface,color:f.default.Colors.PRIMARY,size:f.default.Sizes.MEDIUM},void 0,_.default.Messages.HYPESQUAD_NEWSLETTER_WARNING))},a.renderPrimaryAction=function(){var e=this.state,t=e.currentStep,n=e.responses,r=e.hasUnknownError,a=e.hasSubmittedHouse,o=e.isRequestPending,i=e.questions,l=null==n[t];return r?O(d.default,{type:"submit",color:d.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:o},void 0,_.default.Messages.HYPESQUAD_QUIZ_RETRY):a?O(d.default,{type:"submit",color:d.default.Colors.BRAND,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CLOSE):t===i.length-1?O(d.default,{disabled:l,type:"submit",color:d.default.Colors.BRAND,onClick:this.handleSubmitButtonClick,submitting:o},void 0,_.default.Messages.HYPESQUAD_QUIZ_SHOW_MY_HOUSE):O(d.default,{disabled:l,type:"submit",color:d.default.Colors.BRAND,onClick:this.handleNextQuestionButtonClick},void 0,_.default.Messages.HYPESQUAD_QUIZ_NEXT_QUESTION)},a.renderSecondaryAction=function(){return this.state.hasSubmittedHouse?null:O(d.default,{type:"button",look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:this.props.onClose},void 0,_.default.Messages.HYPESQUAD_QUIZ_CANCEL)},a.render=function(){var e=this.state.selectedHouse;return O(c.default,{size:null==e?c.default.Sizes.MEDIUM:c.default.Sizes.SMALL},void 0,O(c.default.Header,{separator:!1},void 0,O(p.default,{tag:p.default.Tags.H4},void 0,this.renderHeaderCopy())),O("div",{className:E.default.outerContentWrapper},void 0,O(s.default,{component:I},void 0,this.renderContent())),O(c.default.Footer,{},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))},r}(i.Component);A.displayName="HouseSelectionModal";var M=A;t.default=M,e.exports=t.default},7563:function(e,t,n){"use strict";t.__esModule=!0,t.getQuestions=t.getRandomHouse=void 0;var r,a=n(0),o=(r=n(13))&&r.__esModule?r:{default:r};t.getRandomHouse=function(){var e=Object.keys(a.HypeSquadHouses);return e[Math.floor(Math.random()*e.length)]};t.getQuestions=function(){return function(){for(var e=[];e.length<5;){var t=Math.floor(15*Math.random());e.includes(t)||e.push(t)}return e}().map(function(e){return{prompt:o.default.Messages["HYPESQUAD_QUESTION_"+e+"_PROMPT"],options:[{copy:o.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_A"],house:a.HypeSquadHouses.HOUSE_1},{copy:o.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_B"],house:a.HypeSquadHouses.HOUSE_2},{copy:o.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_C"],house:a.HypeSquadHouses.HOUSE_3},{copy:o.default.Messages["HYPESQUAD_QUESTION_"+e+"_RESPONSE_D"],house:a.RANDOM_HYPESQUAD_HOUSE}]}})}},7564:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(303)),i=s(n(220)),l=s(n(5785));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isExiting:!1,offset:new o.default.Value(0),selectedValue:null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentWillEnter=function(e){var t=this.state.offset;t.setValue(1),o.default.spring(t,{toValue:0,duration:75}).start(e)},a.componentWillLeave=function(e){var t=this.state.offset;t.setValue(0),this.setState({isExiting:!0},function(){o.default.spring(t,{toValue:-1,duration:75}).start(e)})},a.render=function(){var e=this.state,t=e.isExiting,n=e.offset;return u(o.default.div,{className:l.default.wrapper,style:{left:0,position:t?"absolute":"relative",top:0,transform:[{translateX:n.interpolate({inputRange:[-1,1],outputRange:["-100%","100%"]})}]}},void 0,u(i.default.Content,{className:l.default.contentWrapper},void 0,this.props.children))},r}(a.Component);t.default=d,d.displayName="HouseSelectionContent",e.exports=t.default},7565:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(6015)),i=u(n(125)),l=u(n(13)),s=u(n(5786));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={selectedValue:null},t.handleOptionChange=function(e){var n=t.props.onSelect;t.setState({selectedValue:e.value}),n(e.value)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.getQuestionOptions=function(){return this.props.options.map(function(e){return{name:e.copy,value:e.house}})},u.render=function(){var e=this.state.selectedValue;return d(a.Fragment,{},void 0,d(i.default,{className:s.default.prompt,size:i.default.Sizes.MEDIUM,weight:i.default.Weights.SEMIBOLD},void 0,this.props.prompt),d("hr",{className:s.default.separator}),d(i.default,{className:s.default.selectYourAnswer,size:i.default.Sizes.SMALL},void 0,l.default.Messages.HYPESQUAD_QUIZ_SELECT_ANSWER),d(o.default,{options:this.getQuestionOptions(),onChange:this.handleOptionChange,value:e}))},r}(a.Component);t.default=c,c.displayName="QuestionGroup",e.exports=t.default},7566:function(e,t,n){e.exports=n.p+"a359371246d6353de6bc32715e092eba.svg"},7567:function(e,t,n){e.exports=n.p+"8c59bddd746488fe8acf23d8d36c1a60.svg"},7568:function(e,t,n){e.exports=n.p+"07ed671b6c823a6cae5be39860ac8bf0.svg"},7569:function(e,t,n){e.exports=n.p+"59419b0683ef50f5e8ecd8748ecbcfeb.svg"},7570:function(e,t,n){e.exports=n.p+"0f1eadc1ec3616e0b1c9ce515ee5683a.svg"},7571:function(e,t,n){e.exports=n.p+"ac89ab7dd6f700d02b0ac958b98a3309.svg"},7572:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(7162)),i=d(n(124)),l=d(n(125)),s=d(n(13)),u=d(n(5789));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isRequestPending:!1,hasError:!1},t.handleLeaveHypeSquadError=function(){t.setState({hasError:!0})},t.handleLeaveHypeSquadClick=function(){t.setState({isRequestPending:!0},function(){o.default.leaveHypeSquadOnline().then(function(){t.setState({isRequestPending:!1})}).catch(function(){t.setState({hasError:!0,isRequestPending:!1})})})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderErrorMessage=function(){return this.state.hasError?c("div",{className:u.default.error},void 0,s.default.Messages.HYPESQUAD_LEAVE_ERROR):null},a.render=function(){var e=this.state.isRequestPending;return this.props.isHypeSquadOnlineMember?c("div",{className:u.default.leaveActionWrapper},void 0,this.renderErrorMessage(),c(l.default,{className:u.default.leaveActionCopy,color:l.default.Colors.PRIMARY},void 0,s.default.Messages.HYPESQUAD_LEAVE_PROMPT,c(i.default,{className:u.default.leaveButton,color:i.default.Colors.LINK,look:i.default.Looks.LINK,onClick:this.handleLeaveHypeSquadClick,size:i.default.Sizes.NONE,submitting:e},void 0,s.default.Messages.HYPESQUAD_LEAVE_ACTION))):null},r}(a.PureComponent);t.default=f,f.displayName="UserSettingsHypeSquad",e.exports=t.default},7573:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(3)),l=n(864),s=_(n(824)),u=_(n(14)),d=_(n(124)),c=_(n(444)),f=_(n(148)),p=_(n(125)),h=_(n(6795)),v=n(0),m=_(n(13)),y=_(n(5790));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=g(f.default.Child,{grow:0,shrink:0},void 0,g(h.default,{})),S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderNotice=function(){var e=this.props,t=e.isClaimed,n=e.unclaimedNotice,r=e.unverifiedNotice;return t?r:n},a.renderPrimaryAction=function(){return this.props.isClaimed?E:g(f.default.Child,{grow:0,shrink:0},void 0,g(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.BRAND,onClick:this.routeToEmailSettings},void 0,m.default.Messages.CLAIM_ACCOUNT))},a.renderSecondaryAction=function(){return this.props.isClaimed?g(f.default.Child,{grow:0,shrink:0},void 0,g(d.default,{color:d.default.Colors.GREY,look:d.default.Looks.LINK,onClick:this.routeToEmailSettings},void 0,m.default.Messages.CHANGE_EMAIL_SHORT)):null},a.routeToEmailSettings=function(){s.default.setSection(v.UserSettingsSections.ACCOUNT),(0,l.toggleEditingProfile)(!0)},a.render=function(){var e=this.props,t=e.className,n=e.isClaimed,r=e.isVerified;return n&&r?null:g(c.default,{className:(0,o.default)(y.default.wrapper,t)},void 0,g(f.default,{align:f.default.Align.CENTER},void 0,g(f.default.Child,{className:y.default.image,grow:0,shrink:0}),g(f.default.Child,{},void 0,g(p.default,{color:p.default.Colors.PRIMARY},void 0,this.renderNotice()),g(f.default,{justify:f.default.Justify.CENTER,className:y.default.content},void 0,this.renderPrimaryAction(),this.renderSecondaryAction()))))},r}(a.Component);S.displayName="EmailNotice",S.defaultProps={unclaimedNotice:m.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,unverifiedNotice:m.default.Messages.NOTICE_UNVERIFIED_ACCOUNT};var T=i.default.connectStores([u.default],function(){var e=u.default.getCurrentUser();return{isClaimed:null!=e.email&&""!==e.email,isVerified:e.verified}})(S);t.default=T,e.exports=t.default},7574:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=R(n(2)),i=b(n(17)),l=b(n(6)),s=b(n(3)),u=b(n(7163)),d=b(n(6022)),c=b(n(6092)),f=b(n(464)),p=b(n(35)),h=R(n(124)),v=b(n(219)),m=R(n(6002)),y=b(n(148)),_=b(n(6004)),g=n(823),E=R(n(440)),S=R(n(236)),T=b(n(6311)),O=n(0),I=b(n(13)),C=b(n(5363)),N=b(n(5362)),A=b(n(5357)),M=b(n(5370)),P=b(n(5792));function b(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var U=s.default.connectStores([p.default],function(){return{theme:p.default.theme}})(m.default),k=((r={})[O.KeybindCustomActions.UNASSIGNED]=I.default.Messages.KEYBIND_DESCRIPTION_UNASSIGNED,r[O.KeybindCustomActions.PUSH_TO_MUTE]=I.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_MUTE,r[O.KeybindCustomActions.PUSH_TO_TALK]=I.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK,r[O.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]=I.default.Messages.KEYBIND_DESCRIPTION_PUSH_TO_TALK_PRIORITY,r[O.KeybindCustomActions.TOGGLE_MUTE]=I.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_MUTE,r[O.KeybindCustomActions.TOGGLE_DEAFEN]=I.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_DEAFEN,r[O.KeybindCustomActions.TOGGLE_VOICE_MODE]=I.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_VOICE_MODE,r[O.KeybindCustomActions.TOGGLE_STREAMER_MODE]=I.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_STREAMER_MODE,r),G=[{value:O.KeybindCustomActions.UNASSIGNED,label:I.default.Messages.KEYBIND_UNASSIGNED},{value:O.KeybindCustomActions.PUSH_TO_TALK,label:I.default.Messages.KEYBIND_PUSH_TO_TALK},{value:O.KeybindCustomActions.PUSH_TO_TALK_PRIORITY,label:I.default.Messages.KEYBIND_PUSH_TO_TALK_PRIORITY},{value:O.KeybindCustomActions.PUSH_TO_MUTE,label:I.default.Messages.KEYBIND_PUSH_TO_MUTE},{value:O.KeybindCustomActions.TOGGLE_MUTE,label:I.default.Messages.KEYBIND_TOGGLE_MUTE},{value:O.KeybindCustomActions.TOGGLE_DEAFEN,label:I.default.Messages.KEYBIND_TOGGLE_DEAFEN},{value:O.KeybindCustomActions.TOGGLE_VOICE_MODE,label:I.default.Messages.KEYBIND_TOGGLE_VOICE_MODE},{value:O.KeybindCustomActions.TOGGLE_STREAMER_MODE,label:I.default.Messages.KEYBIND_TOGGLE_STREAM_MODE}],F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleActionChanged=function(e){u.default.setKeybind(D({},t.props.keybind,{action:e.value}))},t.handleShortcutChange=function(e){u.default.setKeybind(D({},t.props.keybind,{shortcut:e}))},t.handleDeleteKeybind=function(){u.default.deleteKeybind(t.props.keybind.id)},t}w(t,e);var n=t.prototype;return n.renderMessage=function(){var e=this.props.keybind;return d.default.hasBind(S.toString(e.shortcut))?L(E.default,{className:P.default.keybindMessage,type:E.Types.DESCRIPTION,style:{color:O.Colors.STATUS_RED}},void 0,I.default.Messages.KEYBIND_CONFLICT):L(E.default,{className:P.default.keybindMessage,type:E.Types.DESCRIPTION},void 0,this.props.keybindDescriptions[e.action])},n.render=function(){var e=this.props.keybind.managed;return L(y.default,{direction:y.default.Direction.VERTICAL,className:(0,i.default)(P.default.keybindGroup,N.default.card)},void 0,!e&&L(v.default,{className:(0,i.default)(C.default.button,P.default.removeKeybind),onClick:this.handleDeleteKeybind},void 0,I.default.Messages.REMOVE_KEYBIND),L(y.default,{className:A.default.marginBottom8},void 0,L(y.default.Child,{basis:"50%"},void 0,L(g.FormItem,{title:I.default.Messages.USER_SETTINGS_KEYBINDS_ACTION,className:P.default.item},void 0,L(_.default,{options:this.props.keybindActionTypes,onChange:this.handleActionChanged,value:this.props.keybind.action,clearable:!1,searchable:!1,disabled:e}))),L(y.default.Child,{basis:"50%"},void 0,L(g.FormItem,{title:I.default.Messages.USER_SETTINGS_KEYBINDS_KEYBIND,className:P.default.item},void 0,L(T.default,{defaultValue:this.props.keybind.shortcut,onChange:this.handleShortcutChange})))),L(y.default.Child,{},void 0,this.renderMessage()))},t}(o.PureComponent);F.displayName="KeybindEntry";var j=L(g.FormDivider,{}),x=function(e){function t(t){var n;(n=e.call(this,t)||this).handleAddKeybind=function(){u.default.addKeybind()};var r=D({},k),a=[].concat(G);return f.default.isSupported()&&(r[O.KeybindCustomActions.TOGGLE_OVERLAY]=I.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY,a.push({value:O.KeybindCustomActions.TOGGLE_OVERLAY,label:I.default.Messages.KEYBIND_TOGGLE_OVERLAY}),r[O.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]=I.default.Messages.KEYBIND_DESCRIPTION_TOGGLE_OVERLAY_INPUT_LOCK,a.push({value:O.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,label:I.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK}),a.push({value:O.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,label:I.default.Messages.KEYBIND_ACTIVATE_OVERLAY_CHAT})),n.state={keybindDescriptions:r,keybindActionTypes:a},n}w(t,e);var r=t.prototype;return r.renderKeybinds=function(e){var t=this;return e.map(function(e){return L("div",{className:P.default.row},e.id,L(F,{keybind:e,keybindDescriptions:t.state.keybindDescriptions,keybindActionTypes:t.state.keybindActionTypes},e.id))})},r.renderEmpty=function(e){if(0===e.length)return L(U,{className:A.default.marginTop60},void 0,L(m.EmptyStateImage,{darkSrc:n(7575),lightSrc:n(7576),width:320,height:170}))},r.render=function(){var e=(0,l.default)(this.props.keybinds).reject(function(e){return e.managed&&e.action!==O.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET}).sortBy(function(e){return e.id}).sortBy(function(e){return!0===e.managed?-1:0}).value();return L(g.FormSection,{tag:g.FormTitleTags.H2,title:I.default.Messages.KEYBINDS},void 0,L(y.default,{justify:y.default.Justify.BETWEEN,className:A.default.marginBottom20},void 0,L(y.default.Child,{grow:0},void 0,L("div",{className:(0,i.default)(P.default.ghostPill,M.default.cursorDefault)},void 0,I.default.Messages.ADD_KEYBIND_WARNING)),L(y.default.Child,{wrap:!0,grow:0},void 0,L(h.default,{size:h.ButtonSizes.SMALL,onClick:this.handleAddKeybind},void 0,I.default.Messages.ADD_KEYBIND))),j,L(g.FormSection,{},void 0,this.renderKeybinds(e),this.renderEmpty(e)))},t}(o.PureComponent);x.displayName="UserSettingsKeybinds";var B=s.default.connectStores([c.default],function(){return{keybinds:c.default.getState()}})(x);t.default=B,e.exports=t.default},7575:function(e,t,n){e.exports=n.p+"f3bb89a27e9d102f748da035cd7e5df7.svg"},7576:function(e,t,n){e.exports=n.p+"21b610d45d1f2175431413ad53258aa6.svg"},7577:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=p(n(3)),l=p(n(452)),s=p(n(35)),u=p(n(7578)),d=n(823),c=p(n(13)),f=p(n(5357));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t,a;function o(t){var a;return(a=e.call(this,t)||this).handleLocaleChange=function(e){var t=e.value;a.setState({currentLocale:t},function(){return r.nextTick(function(){return l.default.updateRemoteSettings({locale:t})})})},a.state={currentLocale:t.currentLocale,locales:c.default.getAvailableLocales().map(function(e){var t;try{t=n(6808)("./"+e.value+".png")}catch(e){t=n(7579)}return v({},e,{image:t})})},a}return a=e,(t=o).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,o.prototype.render=function(){var e=this.state,t=e.currentLocale,n=e.locales;return h(d.FormSection,{tag:d.FormTitleTags.H2,title:c.default.Messages.LANGUAGE},void 0,h(d.FormSection,{},void 0,h(d.FormTitle,{className:f.default.marginReset},void 0,c.default.Messages.LANGUAGE_SELECT),h(u.default,{options:n,value:t,onChange:this.handleLocaleChange})))},o}(o.Component);m.displayName="UserSettingsLocale";var y=i.default.connectStores([s.default],function(){return{currentLocale:s.default.locale}})(m);t.default=y,e.exports=t.default}).call(this,n(58))},7578:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(6006)),l=c(n(148)),s=n(823),u=n(0),d=c(n(5793));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){return t.props.onClick(t.props.option)},t}return p(t,e),t.prototype.render=function(){var e,t=this.props,n=t.isChecked,r=t.option;return f(l.default,{className:(0,o.default)(d.default.item,(e={},e[d.default.selected]=n,e)),justify:l.default.Justify.BETWEEN,align:l.default.Align.CENTER,onClick:this.handleClick},void 0,f(l.default,{grow:0,className:d.default.label,justify:l.default.Justify.START},void 0,f(l.default.Child,{},void 0,f(i.default,{readOnly:!0,value:n,shape:i.default.Shapes.ROUND,color:u.Colors.STATUS_GREEN,type:i.default.Types.INVERTED,className:d.default.checkbox})),f(l.default.Child,{className:d.default.marginReset},void 0,f(s.FormTitle,{className:d.default.labelText,tag:s.FormTitleTags.H3},void 0,r.name))),f(l.default,{grow:0},void 0,f(l.default.Child,{className:d.default.marginReset},void 0,f(s.FormText,{type:s.FormText.Types.DESCRIPTION},void 0,r.localizedName)),r.image?f(l.default.Child,{},void 0,f("img",{alt:"",src:r.image,className:d.default.image})):null))},t}(a.PureComponent);h.displayName="RadioItem";var v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderRadio=function(e,n){var r=t.props.value===e.value;return f(h,{isChecked:r,option:e,onClick:t.props.onChange},n)},t}return p(t,e),t.prototype.render=function(){return f("div",{},void 0,this.props.options.map(this.renderRadio))},t}(a.PureComponent);v.displayName="RadioList",v.defaultProps={options:[],onChange:u.NOOP,value:null};var m=v;t.default=m,e.exports=t.default},7579:function(e,t,n){e.exports=n.p+"1a7544e1a27a25e87075c01e3fa130e3.png"},7580:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(2)),o=M(n(17)),i=M(n(6)),l=n(869),s=M(n(3)),u=M(n(473)),d=M(n(452)),c=M(n(896)),f=M(n(859)),p=M(n(35)),h=M(n(927)),v=M(n(148)),m=M(n(6015)),y=M(n(6004)),_=M(n(6161)),g=M(n(5998)),E=M(n(125)),S=n(823),T=M(n(9)),O=P(n(462)),I=n(0),C=M(n(13)),N=M(n(5357)),A=M(n(5794));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=b("i",{}),L=b(S.FormDivider,{}),D=function(e){var t,n;function r(t){var n;return n=e.call(this,t)||this,i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handlePreviewSound","handleSoundChange","handleToggleShowUnreadBadge","handleToggleShowFlash","renderSounds","renderTTS","handleAFKTimeoutChange"]),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handlePreviewSound=function(e,t){t.stopPropagation(),null!=this._currentPlayingSound&&this._currentPlayingSound.stop(),this._currentPlayingSound=O.playSound(e)},a.handleSoundChange=function(e,t){var n=this.props.disabledSounds.filter(function(t){return t!==e});t.currentTarget.checked||n.push(e),u.default.setDisabledSounds(n)},a.handleDesktopChange=function(e){var t=e.currentTarget.checked?I.DesktopNotificationTypes.ALL:I.DesktopNotificationTypes.NEVER;t!==I.DesktopNotificationTypes.NEVER?u.default.requestPermission("UserSettingsModal"):u.default.setDesktopType(t)},a.handleTTSChange=function(e){var t=e.value;u.default.setTTSType(t)},a.handleAFKTimeoutChange=function(e){var t=e.value;d.default.updateRemoteSettings({afkTimeout:t})},a.handleToggleShowUnreadBadge=function(){u.default.setDisableUnreadBadge(!this.props.disableUnreadBadge)},a.handleToggleShowFlash=function(){u.default.setTaskbarFlash(!this.props.taskbarFlash)},a.renderSounds=function(){var e=this,t=[{label:C.default.Messages.SOUND_MESSAGE,sound:"message1"},{label:C.default.Messages.SOUND_DEAFEN,sound:"deafen"},{label:C.default.Messages.SOUND_UNDEAFEN,sound:"undeafen"},{label:C.default.Messages.MUTE,sound:"mute"},{label:C.default.Messages.UNMUTE,sound:"unmute"},{label:C.default.Messages.SOUND_VOICE_DISCONNECTED,sound:"disconnect"},{label:C.default.Messages.SOUND_PTT_ACTIVATE,sound:"ptt_start"},{label:C.default.Messages.SOUND_PTT_DEACTIVATE,sound:"ptt_stop"},{label:C.default.Messages.SOUND_USER_JOIN,sound:"user_join"},{label:C.default.Messages.SOUND_USER_LEAVE,sound:"user_leave"},{label:C.default.Messages.SOUND_USER_MOVED,sound:"user_moved"},{label:C.default.Messages.SOUND_OUTGOING_RING,sound:"call_calling"},{label:C.default.Messages.SOUND_INCOMING_RING,sound:"call_ringing"}];this.props.goLiveEnabled&&(t.push({label:C.default.Messages.SOUND_STREAM_STARTED,sound:"user_join"}),t.push({label:C.default.Messages.SOUND_STREAM_STOPPED,sound:"user_leave"}));var n=t.map(function(t){var n=t.label,r=t.sound;return b(l.SmartUID,{},r,function(t){return b(v.default,{className:A.default.notificationsSound,justify:v.default.Justify.BETWEEN,align:v.default.Align.CENTER,onClick:e.handlePreviewSound.bind(e,r)},void 0,b(v.default,{className:A.default.notificationsSoundLabel,grow:0},void 0,b(v.default.Child,{className:A.default.notificationsSoundIcon},void 0,R),b(v.default.Child,{},void 0,b(E.default,{tag:"label",htmlFor:t,className:A.default.sound,size:E.default.Sizes.MEDIUM},void 0,n))),b(v.default.Child,{wrap:!0,grow:0},void 0,b(_.default,{id:t,value:-1===e.props.disabledSounds.indexOf(r),onChange:e.handleSoundChange.bind(e,r)})))})});return b(S.FormSection,{title:C.default.Messages.SOUNDS},void 0,n)},a.renderTTS=function(){if(!c.default.supported)return null;var e=[{name:C.default.Messages.TTS_ALLS,value:I.TTSNotificationTypes.ALL_CHANNELS},{name:C.default.Messages.TTS_CURRENT,value:I.TTSNotificationTypes.SELECTED_CHANNEL},{name:C.default.Messages.TTS_NEVER,value:I.TTSNotificationTypes.NEVER}];return b(S.FormItem,{title:C.default.Messages.FORM_LABEL_TTS_NOTIFICATIONS},void 0,b(S.FormText,{type:S.FormTextTypes.DESCRIPTION,className:N.default.marginBottom8},void 0,C.default.Messages.FORM_DESCRIPTION_TTS),b(m.default,{options:e,onChange:this.handleTTSChange,value:this.props.ttsType}))},a.render=function(){var e=this.props,t=e.desktopType,n=e.afkTimeout,r=e.disableUnreadBadge,a=e.taskbarFlash,l=T.default.embedded&&T.default.isWindows(),s=i.default.range(1,11).map(function(e){return{value:60*e,label:C.default.Messages.DURATION_MINUTES.format({minutes:e})}});return b(S.FormSection,{tag:S.FormTitleTags.H2,title:C.default.Messages.NOTIFICATIONS},void 0,b(g.default,{className:N.default.marginBottom20,value:t!==I.DesktopNotificationTypes.NEVER,onChange:this.handleDesktopChange,note:C.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE_BODY},void 0,C.default.Messages.DESKTOP_NOTIFICATIONS_ENABLE),b(g.default,{className:l?N.default.marginBottom20:N.default.marginBottom40,value:!r,note:C.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_BODY,onChange:this.handleToggleShowUnreadBadge},void 0,C.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_BADGE_LABEL),l?b(g.default,{className:N.default.marginBottom40,value:a,note:C.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_BODY,onChange:this.handleToggleShowFlash},void 0,C.default.Messages.USER_SETTINGS_NOTIFICATIONS_SHOW_FLASH_LABEL):null,b(S.FormItem,{title:C.default.Messages.FORM_LABEL_PUSH_AFK_TIMEOUT},void 0,b(y.default,{value:n,clearable:!1,searchable:!1,onChange:this.handleAFKTimeoutChange,options:s}),b(S.FormText,{type:S.FormTextTypes.DESCRIPTION,className:N.default.marginTop8},void 0,C.default.Messages.FORM_DESCRIPTION_PUSH_AFK_TIMEOUT),b(S.FormDivider,{className:(0,o.default)(N.default.marginTop40,N.default.marginBottom40)})),this.renderTTS(),b(S.FormDivider,{className:(0,o.default)(N.default.marginTop40,N.default.marginBottom40)}),b(S.FormItem,{},void 0,this.renderSounds()),L)},r}(a.PureComponent);D.displayName="UserSettingsNotifications";var w=s.default.connectStores([f.default,p.default,h.default],function(){return{disableUnreadBadge:f.default.getDisableUnreadBadge(),taskbarFlash:f.default.taskbarFlash,disabledSounds:f.default.getDisabledSounds(),desktopType:f.default.getDesktopType(),ttsType:f.default.getTTSType(),afkTimeout:p.default.afkTimeout,goLiveEnabled:h.default.inExperiment()}})(D);t.default=w,e.exports=t.default},7581:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=I(n(3)),i=I(n(7163)),l=I(n(317)),s=I(n(6092)),u=I(n(464)),d=I(n(182)),c=I(n(148)),f=I(n(6015)),p=I(n(5998)),h=n(823),v=I(n(442)),m=I(n(6838)),y=I(n(18)),_=(I(n(309)),n(236)),g=I(n(6311)),E=n(0),S=I(n(13)),T=I(n(5357)),O=I(n(5795));function I(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(){var e=d.default.getNotificationPositionMode(),t=e!==E.OverlayNotificationPositions.DISABLED,n=s.default.getOverlayKeybind(),r=s.default.getOverlayChatKeybind();y.default.track(E.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{enabled:u.default.enabled,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:d.default.getTextChatNotificationMode(),hotkey:null!=n?(0,_.toString)(n.shortcut):null,text_activation_hotkey:null!=r?(0,_.toString)(r.shortcut):null,text_opacity_slider:d.default.getTextWidgetOpacity()})}var M=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChangeEnabled=function(e){l.default.setEnabled(e.currentTarget.checked),A(),y.default.track(E.AnalyticEvents.OVERLAY_TOGGLED,{enabled:e.currentTarget.checked,setting_type:"overlay toggled - global"})},t.handleChangeDisplayNameMode=function(e){var t=e.value;l.default.setDisplayNameMode(t)},t.handleChangeAvatarSizeMode=function(e){var t=e.value;l.default.setAvatarSizeMode(t)},t.handleChangeDisplayUserMode=function(e){var t=e.value;l.default.setDisplayUserMode(t)},t.handleChangeTextNotificationMode=function(){var e=E.OverlayNotificationTextChatTypes.ENABLED,n=E.OverlayNotificationTextChatTypes.DISABLED,r=t.props.textChatNotificationMode===e?n:e;l.default.setTextChatNotificationMode(r),A()},t.handleChangeNotificationPositionMode=function(e,t){l.default.setNotificationPositionMode(t),A()},t.handleInputLockShortcutChange=function(e){i.default.setKeybind(N({},t.props.inputLockKeybind,{shortcut:e})),A()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderExplanation=function(){return null},o.renderOverlayToggle=function(){var e=this.props,t=e.enabled,n=e.inputLockKeybind;return C(c.default,{className:T.default.marginBottom20},void 0,C(c.default.Child,{basis:"50%"},void 0,C(v.default,{},void 0,C(h.FormTitle,{tag:h.FormTitleTags.H5},void 0,S.default.Messages.SETTINGS_GAMES_ENABLE_OVERLAY_LABEL),C(p.default,{className:T.default.marginBottom20,style:{marginTop:16},value:t,hideBorder:!0,onChange:this.handleChangeEnabled},void 0,S.default.Messages.ENABLE_INGAME_OVERLAY))),C(c.default.Child,{basis:"50%"},void 0,C(v.default,{title:S.default.Messages.KEYBIND_TOGGLE_OVERLAY_INPUT_LOCK},void 0,C(g.default,{disabled:!t,defaultValue:null!=n?n.shortcut:[],onChange:this.handleInputLockShortcutChange}))))},o.renderAvatarSize=function(){return C(c.default,{className:T.default.marginBottom20},void 0,C(c.default.Child,{},void 0,C(v.default,{title:S.default.Messages.FORM_LABEL_AVATAR_SIZE},void 0,C(f.default,{options:[{name:S.default.Messages.AVATAR_SIZE_OPTION_LARGE,value:E.OverlayAvatarSizes.LARGE},{name:S.default.Messages.AVATAR_SIZE_OPTION_SMALL,value:E.OverlayAvatarSizes.SMALL}],onChange:this.handleChangeAvatarSizeMode,value:this.props.avatarSizeMode}))))},o.renderDisplayNames=function(){return C(c.default,{className:T.default.marginBottom20},void 0,C(c.default.Child,{},void 0,C(v.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_NAMES},void 0,C(f.default,{options:[{name:S.default.Messages.DISPLAY_OPTION_ALWAYS,value:E.OverlayDisplayNames.ALWAYS},{name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:E.OverlayDisplayNames.ONLY_WHILE_SPEAKING},{name:S.default.Messages.DISPLAY_OPTION_NEVER,value:E.OverlayDisplayNames.NEVER}],onChange:this.handleChangeDisplayNameMode,value:this.props.displayNameMode}))))},o.renderDisplayUsers=function(){return C(c.default,{className:T.default.marginBottom20},void 0,C(c.default.Child,{},void 0,C(v.default,{title:S.default.Messages.FORM_LABEL_DISPLAY_USERS},void 0,C(f.default,{options:[{name:S.default.Messages.DISPLAY_OPTION_ALWAYS,value:E.OverlayDisplayUsers.ALWAYS},{name:S.default.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING,value:E.OverlayDisplayUsers.ONLY_WHILE_SPEAKING}],onChange:this.handleChangeDisplayUserMode,value:this.props.displayUserMode}))))},o.renderTextNotificationMode=function(){var e=this.props.notificationPositionMode!==E.OverlayNotificationPositions.DISABLED,t=e&&this.props.textChatNotificationMode===E.OverlayNotificationTextChatTypes.ENABLED;return C(c.default,{className:T.default.marginBottom20},void 0,C(c.default.Child,{},void 0,C(v.default,{},void 0,C(p.default,{value:t,disabled:!e,onChange:this.handleChangeTextNotificationMode,hideBorder:!0},void 0,S.default.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS))))},o.renderNotificationPosition=function(){return C(c.default,{className:T.default.marginBottom20},void 0,C(c.default.Child,{},void 0,C(v.default,{title:S.default.Messages.FORM_LABEL_NOTIFICATION_POSITION},void 0,C("div",{className:O.default.notificationSettings},void 0,C(m.default,{position:this.props.notificationPositionMode,onChange:this.handleChangeNotificationPositionMode})))))},o.render=function(){return C(a.Fragment,{},void 0,C(h.FormSection,{tag:h.FormTitleTags.H2,title:S.default.Messages.OVERLAY},void 0,this.renderExplanation(),this.renderOverlayToggle(),this.renderAvatarSize(),this.renderDisplayNames(),this.renderDisplayUsers()),C(h.FormSection,{tag:h.FormTitleTags.H2,title:S.default.Messages.OVERLAY_NOTIFICATIONS_SETTINGS,className:T.default.marginTop40},void 0,this.renderNotificationPosition(),this.renderTextNotificationMode()))},r}(a.PureComponent);M.displayName="UserSettingsOverlay";var P=o.default.connectStores([u.default,d.default,s.default],function(){return{enabled:u.default.enabled,avatarSizeMode:d.default.getAvatarSizeMode(),displayNameMode:d.default.getDisplayNameMode(),displayUserMode:d.default.getDisplayUserMode(),notificationPositionMode:d.default.getNotificationPositionMode(),textChatNotificationMode:d.default.getTextChatNotificationMode(),inputLockKeybind:s.default.getOverlayKeybind()}})(M);t.default=P,e.exports=t.default},7582:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=Y(n(2)),l=V(n(17)),s=V(n(3)),u=V(n(1)),d=Y(n(228)),c=V(n(77)),f=Y(n(851)),p=Y(n(918)),h=Y(n(7583)),v=(V(n(885)),V(n(307))),m=V(n(35)),y=V(n(14)),_=V(n(6084)),g=V(n(232)),E=V(n(6686)),S=V(n(457)),T=V(n(7584)),O=V(n(840)),I=V(n(124)),C=V(n(301)),N=V(n(6052)),A=V(n(438)),M=V(n(437)),P=n(823),b=V(n(222)),R=n(836),L=V(n(6037)),D=V(n(6040)),w=V(n(7164)),U=V(n(7585)),k=V(n(7590)),G=V(n(7594)),F=V(n(7595)),j=n(0),x=V(n(13)),B=V(n(5357)),H=V(n(5804));function V(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function z(e){return void 0===e&&(e=null),{page:j.AnalyticsPages.USER_SETTINGS,section:j.AnalyticsSections.SETTINGS_PREMIUM,object:j.AnalyticsObjects.BUTTON_CTA,objectType:e}}var $=function(e){var t=e.handlePremiumTrial,n=e.handleGift;return K("div",{className:H.default.tier2TrialButtons},void 0,K(N.default,{color:I.default.Colors.GREEN,size:I.default.Sizes.LARGE,onClick:t,className:H.default.trialButton,innerClassName:H.default.trialButtonInner},void 0,K(C.default,{name:C.default.Names.NITRO_WHEEL,className:H.default.trialButtonIcon}),x.default.Messages.PREMIUM_TRIAL_BUTTON),K(I.default,{look:I.default.Looks.LINK,color:I.default.Colors.PRIMARY,size:I.default.Sizes.MEDIUM,className:H.default.giftButton,onClick:n},void 0,x.default.Messages.BILLING_PREMIUM_GIFT_FRIEND))};$.displayName="PremiumTier2ButtonsWithTrial";var q=function(e){var t=e.renderPlanOption;return K("div",{className:H.default.horizontalButtons},void 0,K("div",{className:H.default.horizontalButton},void 0,t(j.SubscriptionPlans.PREMIUM_YEAR_TIER_2,I.default.Sizes.LARGE)),K("div",{className:H.default.horizontalButton},void 0,t(j.SubscriptionPlans.PREMIUM_MONTH_TIER_2,I.default.Sizes.LARGE)))};q.displayName="PremiumTier2ButtonsWithoutTrial";var X=(0,D.default)((0,O.default)(j.Experiments.PREMIUM_TRIAL,"Premium Trial Experiment",["Premium subscription trial","Control: No trial","Treatment 1: With trial"]),((a={})[j.ExperimentTypes.NONE]=function(e){return i.createElement(q,e)},a[j.ExperimentTypes.USER]=((r={})[j.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return i.createElement(q,e)},r[j.ExperimentBuckets.CONTROL]=function(e){return i.createElement(q,e)},r[j.ExperimentBuckets.TREATMENT_1]=function(e){return i.createElement($,W({},e,{withPremiumTrial:!0}))},r),a)),Q=K(L.default,{}),J=K(A.default,{}),Z=K(U.default,{}),ee=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPlanOption=function(e,n){var r,a=t.props,o=a.premiumSubscription,i=a.upgradeEligibilities,s=b.default.getInterval(e),u=b.default.getPrice(e),d=null!=o&&o.isPurchasedViaApple?e===o.plan:!i.has(e)||null!=o&&null!=o.trialEndsAt,c=null!=o&&!d,f=s===j.SubscriptionIntervalTypes.MONTH?t.renderMonthly(e,u,d,c,o,n):t.renderYearly(e,u,d,c,o,n);return K("div",{className:(0,l.default)(H.default.planOption,(r={},r[H.default.newSubscriptionButton]=!c,r[H.default.upgradeSubscriptionButton]=c,r))},void 0,f)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){d.fetchSubscriptions(),u.default.wait(function(){return d.fetchPaymentSources()}),null==this.props.isUserEligibleForPremiumTrial&&h.fetchUserTrialEligibility(j.PREMIUM_SUBSCRIPTION_TRIAL_ID)},a.handleUpgrade=function(e){var t=this,n=this.props,r=n.premiumSubscription,a=n.paymentSource,o=n.isClaimed,l=n.isVerified;o?l?null!=r&&r.isPurchasedViaApple?window.open(j.AppleBillingUrls.SUBSCRIPTION_MANAGEMENT):null!=a&&null!=r?null!=r.plan&&b.default.isGrandfathered(r.plan)?c.default.push(function(n){return i.createElement(w.default,W({},n,{onConfirm:function(){return t.showUpgradeModal(e)}}))}):this.showUpgradeModal(e):f.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:j.SubscriptionPlanInfo[e].skuId,plan:e,analyticsLocation:z(j.AnalyticsObjectTypes.BUY)}).catch(j.NOOP_NULL):c.default.push(function(e){return i.createElement(F.default,e)}):c.default.push(function(e){return i.createElement(G.default,e)})},a.handlePremiumTrial=function(){f.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:j.PremiumSubscriptionSKUs.TIER_2,trialId:j.PREMIUM_SUBSCRIPTION_TRIAL_ID,analyticsLocation:z()}).catch(j.NOOP_NULL)},a.handleGiftWithPlan=function(e){f.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:j.SubscriptionPlanInfo[e].skuId,plan:e,isGift:!0,analyticsLocation:z(j.AnalyticsObjectTypes.GIFT)}).catch(j.NOOP_NULL)},a.handleGiftWithSku=function(e){f.openModal({mode:j.PremiumPaymentSubscriptionModes.NEW,skuId:e,isGift:!0,analyticsLocation:z(j.AnalyticsObjectTypes.GIFT)}).catch(j.NOOP_NULL)},a.showUpgradeModal=function(e){var t=this.props,n=t.premiumSubscription,r=t.paymentSource;p.openModal({selectedPlan:e,paymentSource:r,currentSubscription:n})},a.renderMonthly=function(e,t,n,r,a,o){var l=this;return K(i.Fragment,{},void 0,this.renderButtonTooltip(K(I.default,{look:I.default.Looks.FILLED,color:I.default.Colors.PRIMARY,size:o,className:H.default.subscribeButton,onClick:function(){return l.handleUpgrade(e)},disabled:n},void 0,r?x.default.Messages.BILLING_PRICE_PER_MONTH_UPGRADE.format({price:(0,R.formatPrice)(t.amount,t.currency)}):x.default.Messages.BILLING_PRICE_PER_MONTH.format({price:(0,R.formatPrice)(t.amount,t.currency)})),e,a,n),K(I.default,{look:I.default.Looks.LINK,color:I.default.Colors.PRIMARY,size:o,className:H.default.giftButton,onClick:function(){return l.handleGiftWithPlan(e)}},void 0,x.default.Messages.BILLING_PREMIUM_GIFT_MONTH))},a.renderYearly=function(e,t,n,r,a,o){var l=this;return K(i.Fragment,{},void 0,this.renderButtonTooltip(K(I.default,{look:I.default.Looks.FILLED,color:I.default.Colors.GREEN,size:o,onClick:function(){return l.handleUpgrade(e)},className:H.default.subscribeButton,innerClassName:H.default.yearlyButtonInner,disabled:n},void 0,r?x.default.Messages.BILLING_PRICE_PER_YEAR_UPGRADE.format({price:(0,R.formatPrice)(t.amount,t.currency)}):x.default.Messages.BILLING_PRICE_PER_YEAR.format({price:(0,R.formatPrice)(t.amount,t.currency)}),K("div",{className:H.default.yearlyButtonDiscount},void 0,"-16%")),e,a,n),K(I.default,{look:I.default.Looks.LINK,color:I.default.Colors.PRIMARY,size:o,className:H.default.giftButton,onClick:function(){return l.handleGiftWithPlan(e)}},void 0,x.default.Messages.BILLING_PREMIUM_GIFT_YEAR))},a.renderButtonTooltip=function(e,t,n,r){var a;return r&&(a=null!=n?n.plan===t||n.plan===j.SubscriptionPlans.PREMIUM_MONTH_LEGACY&&t===j.SubscriptionPlans.PREMIUM_MONTH_TIER_2||n.plan===j.SubscriptionPlans.PREMIUM_YEAR_LEGACY&&t===j.SubscriptionPlans.PREMIUM_YEAR_TIER_2?x.default.Messages.PREMIUM_UPGRADE_DISABLED_CURRENT_TOOLTIP:t===j.SubscriptionPlans.PREMIUM_YEAR_TIER_2&&null!=n.trialEndsAt?x.default.Messages.PREMIUM_UPGRADE_DISABLED_IN_TRIAL:x.default.Messages.PREMIUM_UPGRADE_DISABLED_LOWER_TIER_TOOLTIP:x.default.Messages.PREMIUM_UPGRADE_DISABLED_ALREADY_PREMIUM),null!=a?K("div",{className:H.default.disabledButtonWrapper},void 0,e,K(M.default,{text:a},void 0,K("div",{className:H.default.disabledButtonOverlay}))):e},a.renderTier2Subscription=function(){var e=this,t=this.props,n=t.premiumSubscription,r=t.isUserEligibleForPremiumTrial;return K("section",{className:H.default.sectionTier2},void 0,K("div",{className:H.default.title},void 0,x.default.Messages.PREMIUM_APPLICATIONS_TITLE),K("div",{className:H.default.subtitle},void 0,x.default.Messages.PREMIUM_APPLICATIONS_SUBTITLE),null!=n||!0!==r?K(q,{renderPlanOption:this.renderPlanOption}):K(X,{handlePremiumTrial:function(){return e.handlePremiumTrial()},handleGift:function(){return e.handleGiftWithSku(j.PremiumSubscriptionSKUs.TIER_2)},renderPlanOption:this.renderPlanOption}))},a.renderTier1Subscription=function(){return K("section",{className:H.default.sectionTier1},void 0,K("h3",{className:H.default.sectionHeader},void 0,x.default.Messages.PREMIUM_CHAT_PERKS_ONLY_TITLE),K("div",{className:H.default.tier1Banner},void 0,K("div",{className:H.default.tier1Image}),K("div",{className:H.default.planInfo},void 0,K(C.default,{name:C.default.Names.NITRO_CLASSIC,className:H.default.headerIcon}),K("div",{className:H.default.planDescription},void 0,x.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION,K("div",{className:H.default.planFeatures},void 0,K("div",{className:(0,l.default)(H.default.planFeature,H.default.featureNotIncluded)},void 0,K(C.default,{name:C.default.Names.CLOSE,className:(0,l.default)(H.default.planFeatureIcon)}),x.default.Messages.PREMIUM_FEATURES_PREMIUM_APPLICATIONS),K("div",{className:(0,l.default)(H.default.planFeature)},void 0,K(C.default,{name:C.default.Names.CHECKMARK,className:(0,l.default)(H.default.planFeatureIcon,H.default.iconIncluded)}),x.default.Messages.PREMIUM_FEATURES_CHAT_PERKS)))),K("div",{className:H.default.verticalButtons},void 0,this.renderPlanOption(j.SubscriptionPlans.PREMIUM_YEAR_TIER_1,I.default.Sizes.SMALL),this.renderPlanOption(j.SubscriptionPlans.PREMIUM_MONTH_TIER_1,I.default.Sizes.SMALL))))},a.render=function(){var e=this.props,t=e.hide,n=e.syncing,r=e.premiumSubscription,a=e.busy,o=e.paymentSource;return t?Q:n?K("div",{className:(0,l.default)(H.default.container,H.default.loading)},void 0,J):K("div",{className:H.default.container},void 0,K("div",{className:H.default.background}),K("div",{className:H.default.content},void 0,null!=r?K(i.Fragment,{},void 0,K(k.default,{subscription:r,paymentSource:o,busy:a}),K(P.FormDivider,{className:(0,l.default)(B.default.marginBottom20,B.default.marginTop20)})):null,this.renderTier2Subscription(),Z,this.renderTier1Subscription()))},r}(i.PureComponent);ee.displayName="UserSettingsPremium";var te=s.default.connectStores([S.default,_.default,E.default,g.default,y.default,v.default,m.default,T.default],function(){var e=S.default.getPremiumSubscription(),t=y.default.getCurrentUser(),n=null!=e?new Set(b.default.getUpgradeEligibilities(e.plan)):new Set(b.default.getUpgradeEligibilities(null));return{locale:m.default.locale,hide:v.default.enabled,isClaimed:null!=t.email&&""!==t.email,isVerified:t.verified,syncing:_.default.isSyncing,busy:_.default.isBusy,premiumSubscription:e,paymentSource:null!=e&&null!=e.paymentSourceId?g.default.getPaymentSource(e.paymentSourceId):null,upgradeEligibilities:n,isUserEligibleForPremiumTrial:T.default.isUserEligible(j.PREMIUM_SUBSCRIPTION_TRIAL_ID)}})(ee);t.default=te,e.exports=t.default},7583:function(e,t,n){"use strict";t.__esModule=!0,t.fetchUserTrialEligibility=function(e){return s.apply(this,arguments)};var r=i(n(8)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function s(){var e;return e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.default.get(o.Endpoints.USER_TRIAL_ELIGIBILITY(t));case 3:a.default.dispatch({type:o.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),404===e.t0.status&&a.default.dispatch({type:o.ActionTypes.BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS,trialId:t,eligible:!1});case 9:case"end":return e.stop()}},e,null,[[0,6]])}),(s=function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){l(o,r,a,i,s,"next",e)}function s(e){l(o,r,a,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}},7584:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i={};var l=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isUserEligible=function(e){return i[e]},r}(r.default.Store))(a.default,{BILLING_USER_TRIAL_ELIGIBILITY_FETCH_SUCCESS:function(e){var t=e.trialId,n=e.eligible;i[t]=n},LOGOUT:function(e){i={}}});t.default=l,e.exports=t.default},7585:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=y(n(3)),i=_(n(841)),l=y(n(41)),s=y(n(6197)),u=y(n(176)),d=y(n(831)),c=n(127),f=y(n(7586)),p=y(n(7587)),h=y(n(7588)),v=y(n(13)),m=y(n(5800));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=["363414030188150801","425777385103949834","425442388270645248","467979045179752448","451541581778911262","360541292578471937","363412675650125825","425470408322449418"],S=g(h.default,{}),T=g(p.default,{}),O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.applicationIds;i.fetchStoreListingsForApplications(e)},a.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,r=e.skuMap,a=e.storeListingMap;return g("section",{className:m.default.section},void 0,S,g("div",{className:m.default.subsection},void 0,g(f.default,{isFetching:t,applicationIds:n,skuMap:r,storeListingMap:a})),g("div",{className:m.default.subsection},void 0,g("h4",{className:m.default.subsectionHeader},void 0,v.default.Messages.PREMIUM_FEATURE_NEW_CHAT_PERKS_HEADER),T))},r}(a.PureComponent);O.displayName="PremiumFeatures";var I=o.default.connectStores([s.default,l.default,u.default,d.default],function(){for(var e=!0,t={},n={},r=0,a=E;r<a.length;r++){var o=a[r],i=(0,c.getPrimarySKUForApplication)(o,l.default,u.default);if(null==i){e=!1;break}var s=d.default.getForSKU(i.id);if(null==s){e=!1;break}t[o]=i,n[o]=s}return{skuMap:t,storeListingMap:n,applicationIds:E,isFetching:!e}})(O);t.default=I,e.exports=t.default},7586:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(17)),i=n(221),l=n(830),s=y(n(5993)),u=y(n(124)),d=y(n(301)),c=y(n(438)),f=y(n(853)),p=n(127),h=n(0),v=y(n(13)),m=y(n(5796));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.isFetching,n=e.applicationIds,r=e.skuMap,s=e.storeListingMap,y=e.analyticsContext.location;return _(a.Fragment,{},void 0,_("div",{className:m.default.applications},void 0,t?_(c.default,{className:m.default.loading}):null,t?Array.from(Array(n.length)).map(function(e,t){return _("div",{className:(0,o.default)(m.default.thumbnailContainer,m.default.loadingThumbnail)},t)}):n.map(function(e){var t=s[e],n=r[e];return null==t.thumbnail?null:_(i.Link,{to:{pathname:h.Routes.APPLICATION_STORE_LISTING_SKU(n.id),state:{analyticsSource:y}},onClick:l.popLayer,className:m.default.thumbnailContainer},e,_("img",{src:(0,p.getAssetURL)(e,t.thumbnail,200),alt:n.name,className:m.default.thumbnail}))})),_("div",{className:m.default.viewAllButton},void 0,_(u.default.Link,{look:u.default.Looks.OUTLINED,color:u.default.Colors.TRANSPARENT,innerClassName:m.default.viewAllButtonInner,to:{pathname:h.Routes.APPLICATION_STORE_BROWSE,state:{analyticsSource:y}},onClick:l.popLayer},void 0,_("div",{},void 0,v.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS),_(d.default,{name:d.default.Names.CARET,className:m.default.viewAllIcon,direction:f.default.Directions.RIGHT}))))},r}(a.PureComponent);g.displayName="PremiumApplicationsPerk";var E=(0,s.default)(g);t.default=E,e.exports=t.default},7587:function(e,t,n){"use strict";t.__esModule=!0,t.default=f;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(17)),o=u(n(148)),i=n(823),l=u(n(13)),s=u(n(5797));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=[{icon:s.default.discriminatorIcon,title:l.default.Messages.PREMIUM_CHAT_PERKS_TITLE_DISCRIMINATOR,description:l.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_DISCRIMINATOR},{icon:s.default.animatedIcon,title:l.default.Messages.PREMIUM_CHAT_PERKS_TITLE_ANIMATED_AVATAR_AND_EMOJI,description:l.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_ANIMATED_AVATAR_AND_EMOJI},{icon:s.default.screenshareIcon,title:l.default.Messages.PREMIUM_CHAT_PERKS_TITLE_SCREENSHARE,description:l.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_SCREENSHARE},{icon:s.default.emojiIcon,title:l.default.Messages.PREMIUM_CHAT_PERKS_TITLE_CUSTOM_EMOJI,description:l.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_CUSTOM_EMOJI},{icon:s.default.uploadIcon,title:l.default.Messages.PREMIUM_CHAT_PERKS_TITLE_UPLOAD_LIMIT,description:l.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_UPLOAD_LIMIT.format({maxUploadStandard:l.default.Messages.FILE_UPLOAD_LIMIT_STANDARD,maxUploadPremium:l.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM})},{icon:s.default.badgeIcon,title:l.default.Messages.PREMIUM_CHAT_PERKS_TITLE_BADGE,description:l.default.Messages.PREMIUM_CHAT_PERKS_DESCRIPTION_BADGE}];function f(){return d("div",{className:s.default.container},void 0,c.map(function(e,t){return d(o.default,{align:o.default.Align.CENTER,className:s.default.feature},t,d("div",{className:(0,a.default)(e.icon)}),d("div",{},void 0,d(i.FormTitle,{className:s.default.title},void 0,e.title),d("div",{className:s.default.description},void 0,e.description)))}))}f.displayName="PremiumFeatureList",e.exports=t.default},7588:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(17)),o=c(n(301)),i=c(n(7589)),l=n(836),s=n(0),u=c(n(13)),d=c(n(5799));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t=e.className;return f("div",{className:(0,a.default)(d.default.premiumFeaturesHeader,t)},void 0,f("h4",{className:d.default.sectionHeader},void 0,f(o.default,{name:o.default.Names.DISCORD_NITRO,className:d.default.premiumPlanName})),f("h4",{className:d.default.subsectionHeader},void 0,u.default.Messages.PREMIUM_FEATURE_NEW_PREMIUM_APPLICATIONS_HEADER.format({gamesPrice:(0,l.formatPrice)(1e5,s.CurrencyCodes.USD,{minimumFractionDigits:0,maximumFractionDigits:0})})),f(i.default,{className:d.default.mechaWumpus}))};p.displayName="PremiumFeaturesHeader";var h=p;t.default=h,e.exports=t.default},7589:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5798));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(o.default.mechaWumpus,t)})};l.displayName="MechaWumpus";var s=l;t.default=s,e.exports=t.default},7590:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(885),i=m(n(301)),l=m(n(125)),s=n(823),u=m(n(222)),d=n(836),c=m(n(7591)),f=m(n(7593)),p=n(0),h=m(n(13)),v=m(n(5803));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderGrandfathered=function(){var e=this.props.subscription.plan;if(null==e)return null;var t=u.default.getGrandfatheredEndDate(e),n=h.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_YEARLY.format({date:t}),r=h.default.Messages.PREMIUM_APPLICATIONS_GRANDFATHERED_MONTHLY.format({date:t});return y("div",{className:v.default.grandfatheredMessage},void 0,y(i.default,{name:i.default.Names.NITRO_WHEEL,className:v.default.grandfatheredIcon}),y("span",{},void 0,u.default.getInterval(e)===p.SubscriptionIntervalTypes.YEAR?n:r))},a.renderPremiumCodeSub=function(){var e=this.props.subscription;return y("div",{className:v.default.headerOnlySection},void 0,y("div",{className:v.default.details},void 0,y(c.default,{subscription:e,paymentSource:null,busy:!1})))},a.renderFinePrint=function(){var e=this.props.subscription,t=e.plan;if(null==t||e.status===p.SubscriptionStatusTypes.CANCELED||e.isPurchasedViaApple)return null;var n=u.default.getInterval(t)===p.SubscriptionIntervalTypes.YEAR,r=u.default.getPrice(t),a=(0,d.formatPrice)(r.amount,r.currency),o=u.default.getDisplayPremiumType(t);return y(l.default,{className:v.default.finePrint,size:l.default.Sizes.SMALL},void 0,n?h.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_YEARLY.format({price:a,url:p.MarketingURLs.TERMS,planPremiumType:o}):h.default.Messages.BILLING_PAYMENT_PREMIUM_LEGALESE_MONTHLY.format({price:a,url:p.MarketingURLs.TERMS,planPremiumType:o}))},a.render=function(){var e=this.props,t=e.subscription,n=e.paymentSource,r=e.busy,a=t.plan;if(t.id===o.PREMIUM_CODE_SUBSCRIPTION_ID)return this.renderPremiumCodeSub();if(null==a)return null;var i=u.default.isGrandfathered(a);return y("div",{className:v.default.section},void 0,y(s.FormTitle,{tag:s.FormTitle.Tags.H2},void 0,h.default.Messages.BILLING_PAYMENT_PREMIUM),i?this.renderGrandfathered():null,y("div",{className:v.default.details},void 0,y(c.default,{subscription:t,paymentSource:n,busy:r}),y(f.default,{subscription:t})),this.renderFinePrint())},r}(a.Component);_.displayName="SubscriptionDetails";var g=_;t.default=g,e.exports=t.default},7591:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=T(n(2)),o=S(n(17)),i=S(n(4)),l=S(n(77)),s=T(n(851)),u=n(885),d=S(n(305)),c=T(n(124)),f=S(n(301)),p=n(6001),h=S(n(222)),v=n(836),m=S(n(7592)),y=S(n(7164)),_=n(0),g=S(n(13)),E=S(n(5801));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function O(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).unsubscribe=function(){var e=t.props.subscription,n=null!=e.plan&&h.default.isGrandfathered(e.plan);e.status===_.SubscriptionStatusTypes.ACTIVE&&(n?l.default.push(function(e){return a.createElement(y.default,I({},e,{onConfirm:t.showCancelModal}))}):t.showCancelModal())},t.showCancelModal=function(){var e=t.props.subscription;l.default.push(function(t){return a.createElement(m.default,I({},t,{subscription:e}))})},t.resubscribe=function(){var e=t.props,n=e.paymentSource,r=e.subscription;if(null!=r){if(null==n){if(null==r.plan)throw new Error("Unexpected missing plan");return s.openModal({mode:_.PremiumPaymentSubscriptionModes.RESUBSCRIBE,skuId:_.SubscriptionPlanInfo[r.plan].skuId,plan:r.plan,analyticsLocation:{page:_.AnalyticsPages.USER_SETTINGS,section:_.AnalyticsSections.SETTINGS_PREMIUM,object:_.AnalyticsObjects.BUTTON_CTA}})}s.resubscribe(r,n)}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var S=r.prototype;return S.renderSubscriptionInfo=function(){var e=this.props.subscription,t=e.plan,n=e.currentPeriodStart,r=e.currentPeriodEnd,a=e.status;if(null==t)return null;if(a===_.SubscriptionStatusTypes.PAST_DUE)return g.default.Messages.PREMIUM_PAST_DUE.format({date:(0,i.default)(n).add(3,"days")});if(a===_.SubscriptionStatusTypes.CANCELED||null==e.paymentSourceId)return g.default.Messages.PREMIUM_CANCELED.format({date:r});var o=h.default.getPrice(t),l=(0,v.formatPrice)(o.amount,o.currency);return h.default.getInterval(t)===_.SubscriptionIntervalTypes.YEAR?g.default.Messages.PREMIUM_INFO_YEARLY.format({price:l,date:r}):g.default.Messages.PREMIUM_INFO_MONTHLY.format({price:l,date:r})},S.renderButtons=function(){var e=this.props,t=e.busy,n=e.subscription,r=n.status;return n.isPurchasedViaApple&&_.SubscriptionStatusTypes.ACTIVE?O(d.default,{href:_.AppleBillingUrls.SUBSCRIPTION_MANAGEMENT,useDefaultUnderlineStyles:!1},void 0,O(c.default,{className:(0,o.default)(E.default.toolsButton,E.default.appleButton),size:c.default.Sizes.SMALL,look:c.ButtonLooks.OUTLINED,color:c.ButtonColors.WHITE,submitting:t},void 0,g.default.Messages.BILLING_MANAGE_SUBSCRIPTION)):r===_.SubscriptionStatusTypes.CANCELED?O(c.default,{className:E.default.toolsButton,size:c.default.Sizes.SMALL,look:c.ButtonLooks.INVERTED,color:c.ButtonColors.YELLOW,submitting:t,onClick:this.resubscribe},void 0,g.default.Messages.RESUBSCRIBE):r===_.SubscriptionStatusTypes.ACTIVE?O(c.default,{className:E.default.toolsButton,size:c.default.Sizes.SMALL,look:c.ButtonLooks.OUTLINED,color:c.ButtonColors.WHITE,submitting:t,onClick:this.unsubscribe},void 0,g.default.Messages.CANCEL):void 0},S.renderPremiumCodeSub=function(){var e=this.props.subscription,t=g.default.Messages.PREMIUM_CODE_ACTIVE_UNTIL.format({date:(0,p.dateFormat)((0,i.default)(e.currentPeriodEnd),"LL")});return O("div",{className:(0,o.default)(E.default.banner,E.default.premiumCodeBanner,E.default.tier2)},void 0,O("div",{className:(0,o.default)(E.default.image,E.default.tier2)}),O("div",{className:E.default.details},void 0,O(f.default,{name:f.default.Names.NITRO,className:(0,o.default)(E.default.planName,E.default.tier2)}),O("div",{className:E.default.periodInfo},void 0,t)))},S.render=function(){var e,t=this.props.subscription,n=t.status,r=t.plan;if(t.id===u.PREMIUM_CODE_SUBSCRIPTION_ID)return this.renderPremiumCodeSub();if(null==r)return null;var a=n===_.SubscriptionStatusTypes.UNPAID||n===_.SubscriptionStatusTypes.ACTIVE,i=h.default.getPremiumType(r),l=h.default.isGrandfathered(r),s=((e={})[E.default.tierGrandfathered]=a&&l,e[E.default.tier1]=a&&!l&&i===_.PremiumTypes.TIER_1,e[E.default.tier2]=a&&!l&&i===_.PremiumTypes.TIER_2,e[E.default.canceled]=n===_.SubscriptionStatusTypes.CANCELED,e[E.default.pastDue]=n===_.SubscriptionStatusTypes.PAST_DUE,e);return O("div",{className:(0,o.default)(E.default.banner,s)},void 0,O("div",{className:(0,o.default)(E.default.image,s)}),O("div",{className:E.default.details},void 0,i===_.PremiumTypes.TIER_2||l?O(f.default,{name:f.default.Names.NITRO,className:(0,o.default)(E.default.planName,s)}):O(f.default,{name:f.default.Names.NITRO_CLASSIC,className:(0,o.default)(E.default.planName,s)}),O("div",{className:E.default.periodInfo},void 0,this.renderSubscriptionInfo())),O("div",{className:E.default.buttons},void 0,this.renderButtons()))},r}(a.Component);C.displayName="SubscriptionHeader";var N=C;t.default=N,e.exports=t.default},7592:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=c(n(2)),o=c(n(851)),i=d(n(222)),l=d(n(6196)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).abort=function(){var e=t.props.onClose;e&&e()},t.continue=function(){var e=t.props,n=e.subscription,r=e.onClose;o.cancel(n.id),r&&r()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.subscription,t=e.plan;if(null==t)return null;var n=i.default.getDisplayPremiumType(t),r=i.default.getPremiumType(t);return f(l.default,{},void 0,f(l.default.Header,{},void 0,u.default.Messages.PREMIUM_CANCEL_CONFIRM_TITLE.format({planPremiumType:n})),f(l.default.Content,{type:l.default.Types.CANCEL},void 0,r===s.PremiumTypes.TIER_1?u.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_1.format({date:e.currentPeriodEnd}):u.default.Messages.PREMIUM_CANCEL_CONFIRM_BODY_TIER_2.format({date:e.currentPeriodEnd})),f(l.default.Footer,{secondary:{onClick:this.abort,label:u.default.Messages.NEVERMIND},primary:{onClick:this.continue,label:u.default.Messages.PREMIUM_CANCEL_CONFIRM_NEW.format({planPremiumType:n})}}))},r}(a.Component);p.displayName="CancelConfirmModal";var h=p;t.default=h,e.exports=t.default},7593:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=g(n(3)),i=g(n(77)),l=E(n(851)),s=(g(n(834)),g(n(885)),g(n(307))),u=g(n(232)),d=g(n(457)),c=g(n(305)),f=g(n(124)),p=n(823),h=g(n(6687)),v=g(n(6312)),m=n(0),y=g(n(13)),_=g(n(5802));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).setSubscriptionPaymentSource=function(e){var n=t.props,r=n.subscription,a=n.paymentSources;if(null!=r){var o=a.find(function(t){return t.id===e});null!=o&&l.changePaymentSource(r,o)}},t.handlePaymentSourceChange=function(e,n){var r=e.value;n?i.default.push(function(e){return a.createElement(h.default,T({},e,{onAddPaymentSource:t.handlePaymentSourceAdded}))}):t.setSubscriptionPaymentSource(r)},t.handlePaymentSourceAdded=function(e){var n=e.id;t.setSubscriptionPaymentSource(n)},t.handleAddPaymentSource=function(){i.default.push(function(e){return a.createElement(h.default,e)})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderDropdown=function(){var e=this.props,t=e.paymentSources,n=e.hidePersonalInformation,r=e.defaultPaymentSourceId,o=e.premiumSubscriptionPaymentSourceId;return S(a.Fragment,{},void 0,S(p.FormTitle,{},void 0,y.default.Messages.BILLING_PAY_FOR_IT_WITH),S("div",{className:_.default.dropdown},void 0,S(v.default,{showEmptyPromptOption:!0,paymentSources:t,hidePersonalInformation:n,selectedPaymentSourceId:o,defaultPaymentSourceId:r,onChange:this.handlePaymentSourceChange})))},o.renderAddButton=function(){return S(f.default,{look:f.default.Looks.FILLED,color:f.default.Colors.PRIMARY,onClick:this.handleAddPaymentSource},void 0,y.default.Messages.BILLING_ADD_PAYMENT_METHOD)},o.renderManagedByApple=function(){return S("div",{className:_.default.appleContainer},void 0,S("div",{className:_.default.appleHeader},void 0,y.default.Messages.BILLING_MANAGED_BY_APPLE),S(c.default,{href:m.AppleBillingUrls.BILLING_MANAGEMENT,useDefaultUnderlineStyles:!1},void 0,S(f.default,{look:f.default.Looks.FILLED,color:f.default.Colors.PRIMARY},void 0,y.default.Messages.BILLING_MANAGE_BILLING)))},o.render=function(){var e=this.props,t=e.paymentSources,n=e.subscription;return S("div",{className:_.default.container},void 0,n.isPurchasedViaApple?this.renderManagedByApple():t.length>0?this.renderDropdown():this.renderAddButton())},r}(a.Component);O.displayName="SubscriptionPaymentSource";var I=o.default.connectStores([s.default,u.default,d.default],function(){var e=d.default.getPremiumSubscription(),t=null!=e?e.paymentSourceId:null;return{paymentSources:Object.values(u.default.paymentSources).filter(function(e){return!e.invalid}),hidePersonalInformation:s.default.hidePersonalInformation,premiumSubscriptionPaymentSourceId:t,defaultPaymentSourceId:u.default.defaultPaymentSourceId}})(O);t.default=I,e.exports=t.default},7594:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(864),i=d(n(824)),l=d(n(6196)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).cancel=function(){var e=t.props.onClose;e&&e()},t.claimAccount=function(){var e=t.props.onClose;e&&e(),i.default.setSection(s.UserSettingsSections.ACCOUNT),(0,o.toggleEditingProfile)(!0)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return c(l.default,{},void 0,c(l.default.Header,{},void 0,u.default.Messages.PREMIUM_NOT_CLAIMED),c(l.default.Content,{type:l.default.Types.UNCLAIMED},void 0,u.default.Messages.PREMIUM_NOT_CLAIMED_BODY),c(l.default.Footer,{secondary:{onClick:this.cancel,label:u.default.Messages.NEVERMIND},primary:{onClick:this.claimAccount,label:u.default.Messages.CLAIM_ACCOUNT}}))},r}(a.Component);f.displayName="UnclaimedAccountModal";var p=f;t.default=p,e.exports=t.default},7595:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(864),i=f(n(824)),l=f(n(124)),s=f(n(6795)),u=f(n(6196)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).changeEmail=function(){var e=t.props.onClose;e&&e(),i.default.setSection(d.UserSettingsSections.ACCOUNT),(0,o.toggleEditingProfile)(!0)},t.closeModal=function(){var e=t.props.onClose;e&&e()},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return p(u.default,{},void 0,p(u.default.Header,{},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED),p(u.default.Content,{type:u.default.Types.UNVERIFIED},void 0,c.default.Messages.PREMIUM_NOT_VERIFIED_BODY),p(u.default.Footer,{secondary:{onClick:this.changeEmail,label:c.default.Messages.CHANGE_EMAIL_SHORT},primaryRenderer:p(s.default,{color:l.default.Colors.BRAND,onClick:this.closeModal})}))},r}(a.Component);h.displayName="UnverifiedEmailModal";var v=h;t.default=v,e.exports=t.default},7596:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=j(n(2)),o=F(n(17)),i=F(n(4)),l=F(n(3)),s=F(n(180)),u=n(6685),d=F(n(77)),c=n(864),f=F(n(452)),p=F(n(824)),h=F(n(481)),v=F(n(28)),m=F(n(35)),y=F(n(14)),_=F(n(124)),g=F(n(444)),E=F(n(148)),S=F(n(6015)),T=F(n(5998)),O=F(n(125)),I=F(n(437)),C=F(n(832)),N=F(n(936)),A=F(n(829)),M=j(n(440)),P=j(n(107)),b=F(n(309)),R=n(6694),L=n(7165),D=F(n(445)),w=n(0),U=F(n(13)),k=F(n(5357)),G=F(n(5805));function F(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function V(e){var t=e.body,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["body"]);d.default.push(function(e){return a.createElement(D.default,B({},e,n),H(O.default,{size:O.default.Sizes.MEDIUM,color:O.default.Colors.PRIMARY},void 0,t))})}function Y(e){var t=e.message;V({header:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,confirmText:U.default.Messages.OKAY,red:!0,body:t})}var W=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleUsageStatisticsChange=function(){!n.props.usageStatistics?(0,u.setConsents)([w.Consents.USAGE_STATISTICS],[]).catch(Y):V({header:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_TITLE,body:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_BODY,confirmText:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CONFIRM,cancelText:U.default.Messages.USAGE_STATISTICS_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,u.setConsents)([],[w.Consents.USAGE_STATISTICS]).catch(Y)}})},n.handlePersonalizationChange=function(){!n.props.personalization?(0,u.setConsents)([w.Consents.PERSONALIZATION],[]).catch(Y):V({header:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_TITLE,confirmText:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_CONFIRM,cancelText:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_CANCEL,onConfirm:function(){return(0,u.setConsents)([],[w.Consents.PERSONALIZATION]).catch(Y)},body:U.default.Messages.PERSONALIZATION_DISABLE_MODAL_BODY})},n.handleDataDownloadRequest=function(){V({header:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_NOTE,confirmText:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CONFIRM,cancelText:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_CANCEL,onConfirm:function(){n.setState({requestingHarvest:!0},function(){(0,c.requestHarvest)().then(function(e){null!=e&&null!=e.body?(n.setState({currentHarvestRequest:e.body}),s.default.show({body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_MODAL_SUCCESS})):s.default.show({title:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})},function(){return s.default.show({title:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_TITLE,body:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_FAILURE_BODY})}).finally(function(){return n.setState({requestingHarvest:!1})})})}})},x(n).handleChangeDefaultGuildsRestricted=n.handleChangeDefaultGuildsRestricted.bind(x(n));var r=t.defaultGuildsRestricted;return n.state={defaultGuildsRestricted:r,currentHarvestRequest:null,requestingHarvest:!0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.componentDidMount=function(){var e=this;(0,u.fetchConsents)(),(0,c.getHarvestStatus)().then(function(t){console.log("getHarvestStatus",t);var n={requestingHarvest:!1,currentHarvestRequest:t.body};e.setState(n)},function(t){console.log("getHarvestStatus error",t),e.setState({requestingHarvest:!1})})},l.UNSAFE_componentWillReceiveProps=function(e){var t=e.defaultGuildsRestricted;t!==this.props.defaultGuildsRestricted&&this.setState({defaultGuildsRestricted:t})},l.hasPermittedSourceFlag=function(e){var t=this.props.friendSourceFlags,n=function(e){return!0===t[e]};return!!n(w.FriendSourceFlagKeys.ALL)||n(e)},l.onFieldChange=function(e,t){var n,r,a,o=this.props.friendSourceFlags;if(e===w.FriendSourceFlagKeys.ALL)t?((r={})[w.FriendSourceFlagKeys.ALL]=!0,r[w.FriendSourceFlagKeys.FRIENDS]=!0,r[w.FriendSourceFlagKeys.GUILDS]=!0,n=r):((a={})[w.FriendSourceFlagKeys.ALL]=!1,a[w.FriendSourceFlagKeys.FRIENDS]=!0,a[w.FriendSourceFlagKeys.GUILDS]=!0,n=a);else if(t){var i,l=!1;switch(e){case w.FriendSourceFlagKeys.FRIENDS:l=!0===o[w.FriendSourceFlagKeys.GUILDS];break;default:l=!0===o[w.FriendSourceFlagKeys.FRIENDS]}n=B({},o,((i={})[w.FriendSourceFlagKeys.ALL]=l,i[e]=!0,i))}else{var s;n=B({},o,((s={})[w.FriendSourceFlagKeys.ALL]=!1,s[e]=!1,s))}this.updatePermittedFriendSourceFlags(n)},l.updatePermittedFriendSourceFlags=function(e){f.default.updateRemoteSettings({friendSourceFlags:e})},l.handleExplicitContentFilterChange=function(e){var t=e.value;f.default.updateRemoteSettings({explicitContentFilter:t})},l.handleChangeDefaultGuildsRestricted=function(e){var t=this,n=e.currentTarget.checked;n=!n,this.setState({defaultGuildsRestricted:n},function(){return t.showGuildRestrictionModal(n)})},l.showGuildRestrictionModal=function(e){V({header:U.default.Messages.USER_DM_SETTINGS,body:U.default.Messages.USER_DM_SETTINGS_QUESTION,confirmText:U.default.Messages.YES_TEXT,cancelText:U.default.Messages.NO_TEXT,onConfirm:function(){f.default.updateRemoteSettings({defaultGuildsRestricted:e,restrictedGuilds:e?Object.keys(v.default.getGuilds()):[]})},onCancel:function(){f.default.updateRemoteSettings({defaultGuildsRestricted:e})}})},l.renderFriendSettings=function(){var e=this;return H(A.default,{title:U.default.Messages.FRIEND_PERMITTED_SOURCE,className:k.default.marginBottom40},void 0,H(T.default,{className:(0,o.default)(k.default.marginTop8,k.default.marginBottom20),value:this.hasPermittedSourceFlag(w.FriendSourceFlagKeys.ALL),onChange:function(t){return e.onFieldChange(w.FriendSourceFlagKeys.ALL,t.currentTarget.checked)}},void 0,U.default.Messages.FRIEND_PERMITTED_SOURCE_ALL),H(T.default,{value:this.hasPermittedSourceFlag(w.FriendSourceFlagKeys.FRIENDS),onChange:function(t){return e.onFieldChange(w.FriendSourceFlagKeys.FRIENDS,t.currentTarget.checked)}},void 0,U.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_FRIENDS),H(T.default,{className:k.default.marginReset,value:this.hasPermittedSourceFlag(w.FriendSourceFlagKeys.GUILDS),onChange:function(t){return e.onFieldChange(w.FriendSourceFlagKeys.GUILDS,t.currentTarget.checked)}},void 0,U.default.Messages.FRIEND_PERMITTED_SOURCE_MUTUAL_GUILDS))},l.renderDMSafety=function(){return H(A.default,{className:k.default.marginBottom40},void 0,H(P.default,{tag:P.Tags.H5,className:k.default.marginBottom4},void 0,U.default.Messages.USER_EXPLICIT_CONTENT_FILTER),H(M.default,{type:M.Types.DESCRIPTION,className:k.default.marginBottom8},void 0,U.default.Messages.USER_EXPLICIT_CONTENT_FILTER_HELP),H(S.default,{value:this.props.explicitContentFilter,options:(0,R.generateDMSafetyOptions)(),onChange:this.handleExplicitContentFilterChange}))},l.renderServerPrivacy=function(){return H(A.default,{className:k.default.marginBottom40},void 0,H(P.default,{tag:P.Tags.H5,className:k.default.marginBottom8},void 0,U.default.Messages.USER_DM_SETTINGS),H(T.default,{className:k.default.marginReset,value:!this.state.defaultGuildsRestricted,note:U.default.Messages.USER_DM_SETTINGS_HELP,onChange:this.handleChangeDefaultGuildsRestricted},void 0,U.default.Messages.NEW_GUILDS_DM_ALLOWED))},l.renderDataPrivacy=function(){var e=this.props,t=e.usageStatistics,n=e.personalization;return H(A.default,{className:k.default.marginBottom40},void 0,H(P.default,{tag:P.Tags.H5,className:k.default.marginBottom8},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS),H(T.default,{value:t,note:U.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_NOTE,onChange:this.handleUsageStatisticsChange},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_USAGE_STATISTICS_TITLE),H(T.default,{value:n,note:U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_NOTE_LEARN_MORE.format({helpdeskArticle:b.default.getArticleURL(w.HelpdeskArticles.DATA_PRIVACY_CONTROLS)}),onChange:this.handlePersonalizationChange},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONALIZATION_TITLE),H(P.default,{tag:P.Tags.H3,className:(0,o.default)(k.default.marginTop20,k.default.marginBottom8)},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_TITLE),H(M.default,{type:M.Types.DESCRIPTION,className:k.default.marginBottom20},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_BASIC_SERVICE_NOTE.format({onClick:function(){p.default.setSection(w.UserSettingsSections.ACCOUNT),(0,c.toggleEditingProfile)(!0)}})),this.renderHarvestRequest())},l.renderHarvestRequest=function(){var e,t=this.props.currentUser,n=this.state,r=n.requestingHarvest,o=n.currentHarvestRequest,l=(0,L.harvestDisabled)(o,t),s=H(_.default,{disabled:l,onClick:this.handleDataDownloadRequest,look:_.default.Looks.OUTLINED,color:_.default.Colors.BRAND,submitting:r},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_DOWNLOAD);return t.verified||(s=H(I.default,{text:U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_TOOLTIP},void 0,s)),l&&null!=o&&(e=H(g.default,{className:G.default.card},void 0,H(O.default,{size:O.default.Sizes.MEDIUM,color:O.default.Colors.PRIMARY},void 0,U.default.Messages.DATA_DOWNLOAD_REQUESTED_STATUS_NOTE.format({date:(0,i.default)(o.created_at).add(w.REQUEST_DATA_LIMIT_DAYS,"days").format("MMMM Do YYYY")}))),s=null),null!=s&&(s=H(E.default,{},void 0,s)),H(a.Fragment,{},void 0,H(C.default,{className:k.default.marginBottom20}),H(P.default,{tag:P.Tags.H3},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_PERSONAL_DATA_TITLE),H(M.default,{type:M.Types.DESCRIPTION,className:k.default.marginBottom20},void 0,U.default.Messages.DATA_PRIVACY_CONTROLS_REQUEST_DATA_NOTE.format({helpdeskArticle:b.default.getArticleURL(w.HelpdeskArticles.GDPR_REQUEST_DATA)})),e,s)},l.renderPrivacyAndTermsNote=function(){return H(A.default,{className:k.default.marginBottom40},void 0,H(N.default,{type:N.default.Types.PRIMARY,body:U.default.Messages.USER_SETTINGS_PRIVACY_TERMS.format({termsLink:w.MarketingURLs.TERMS,privacyLink:w.MarketingURLs.PRIVACY})}))},l.render=function(){var e=this.props.fetchedConsents;return H(A.default,{tag:P.Tags.H2,title:U.default.Messages.PRIVACY_AND_SAFETY},void 0,this.renderDMSafety(),this.renderServerPrivacy(),this.renderFriendSettings(),e?this.renderDataPrivacy():null,this.renderPrivacyAndTermsNote())},r}(a.PureComponent);W.displayName="UserSettingsPrivacySafety";var K=l.default.connectStores([m.default,y.default,h.default],function(){return{currentUser:y.default.getCurrentUser(),friendSourceFlags:(0,L.computeFlags)(),explicitContentFilter:m.default.explicitContentFilter,defaultGuildsRestricted:m.default.defaultGuildsRestricted,fetchedConsents:h.default.fetchedConsents,usageStatistics:h.default.hasConsented(w.Consents.USAGE_STATISTICS),personalization:h.default.hasConsented(w.Consents.PERSONALIZATION)}})(W);t.default=K,e.exports=t.default},7597:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(3)),l=_(n(6168)),s=_(n(824)),u=_(n(307)),d=_(n(35)),c=_(n(5998)),f=n(823),p=_(n(9)),h=n(0),v=_(n(13)),m=_(n(5357)),y=_(n(5806));function _(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;return i.renderNotice=function(){return E(f.FormNotice,{className:m.default.marginBottom40,iconClassName:y.default.noticeIcon,type:f.FormNoticeTypes.PRIMARY,imageData:{src:n(7598),width:184,height:110,position:f.FormNoticeImagePositions.RIGHT},title:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_TITLE,body:v.default.Messages.USER_SETTINGS_STREAMER_NOTICE_BODY.format({streamkitURL:"https://discordapp.com/streamkit"})})},i.renderAutoToggle=function(){if(p.default.embedded)return E(c.default,{value:this.props.autoToggle,onChange:this.handleChange.bind(this,"autoToggle"),note:v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_DESCRIPTION},void 0,v.default.Messages.AUTO_TOGGLE_STREAMER_MODE_LABEL)},i.render=function(){return E(f.FormSection,{className:y.default.container,tag:f.FormTitleTags.H2,title:v.default.Messages.STREAMER_MODE},void 0,this.renderNotice(),E(c.default,{value:this.props.enabled,onChange:this.handleChange.bind(this,"enabled"),note:v.default.Messages.ENABLE_STREAMER_MODE_DESCRIPTION.format({onClick:this.handleGotoKeybinds})},void 0,v.default.Messages.ENABLE_STREAMER_MODE_LABEL),this.renderAutoToggle(),E(f.FormTitle,{className:(0,o.default)(m.default.marginTop40,m.default.marginBottom8)},void 0,v.default.Messages.OPTIONS),E(c.default,{value:this.props.hidePersonalInformation,onChange:this.handleChange.bind(this,"hidePersonalInformation"),note:v.default.Messages.HIDE_PERSONAL_INFORMATION_DESCRIPTION},void 0,v.default.Messages.HIDE_PERSONAL_INFORMATION_LABEL),E(c.default,{value:this.props.hideInstantInvites,onChange:this.handleChange.bind(this,"hideInstantInvites"),note:v.default.Messages.HIDE_INSTANT_INVITES_DESCRIPTION},void 0,v.default.Messages.HIDE_INSTANT_INVITES_LABEL),E(c.default,{value:this.props.disableSounds,onChange:this.handleChange.bind(this,"disableSounds"),note:v.default.Messages.DISABLE_SOUNDS_DESCRIPTION},void 0,v.default.Messages.DISABLE_SOUNDS_LABEL),E(c.default,{value:this.props.disableNotifications,onChange:this.handleChange.bind(this,"disableNotifications"),note:v.default.Messages.DISABLE_NOTIFICATIONS_DESCRIPTION},void 0,v.default.Messages.DISABLE_NOTIFICATIONS_LABEL))},i.handleChange=function(e,t){var n;l.default.update(((n={})[e]=t.currentTarget.checked,n))},i.handleGotoKeybinds=function(){s.default.setSection(h.UserSettingsSections.KEYBINDS)},a}(a.PureComponent);S.displayName="UserSettingsModalStreamerMode";var T=i.default.connectStores([d.default,u.default],function(){return g({},u.default.getSettings(),{theme:d.default.theme})})(S);t.default=T,e.exports=t.default},7598:function(e,t,n){e.exports=n.p+"616e078b351d0df460971441949c53a3.svg"},7599:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(17)),i=E(n(3)),l=E(n(452)),s=E(n(896)),u=E(n(35)),d=E(n(6015)),c=E(n(5998)),f=E(n(442)),p=E(n(829)),h=E(n(440)),v=S(n(107)),m=E(n(240)),y=n(0),_=E(n(13)),g=E(n(5357));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.onFieldChange=function(e,t){var n;l.default.updateRemoteSettings(((n={})[e]=t,n))},a.onLocalFieldChanged=function(e,t){var n;l.default.updateLocalSettings(((n={})[e]=t,n))},a.renderTTSControl=function(){var e=this;if(s.default.supported)return T(p.default,{className:g.default.marginBottom40},void 0,T(v.default,{className:g.default.marginBottom8},void 0,_.default.Messages.FORM_LABEL_TTS),T(c.default,{className:g.default.marginTop8,value:this.props.enableTTSCommand,onChange:function(t){return e.onFieldChange("enableTTSCommand",t.currentTarget.checked)}},void 0,_.default.Messages.ALLOW_TTS_COMMAND))},a.renderSpoilerSettings=function(){var e=this;return T(f.default,{title:_.default.Messages.SHOW_SPOILER_CONTENT},void 0,T(h.default,{type:h.default.Types.DESCRIPTION,className:g.default.marginBottom8},void 0,_.default.Messages.SHOW_SPOILER_CONTENT_HELP),T(d.default,{options:[{name:_.default.Messages.SHOW_SPOILER_ON_CLICK,value:y.SpoilerRenderSetting.ON_CLICK},{name:_.default.Messages.SHOW_SPOILER_ON_SERVERS_I_MOD,value:y.SpoilerRenderSetting.IF_MODERATOR},{name:_.default.Messages.SHOW_SPOILER_ALWAYS,value:y.SpoilerRenderSetting.ALWAYS}],onChange:function(t){return e.onLocalFieldChanged("renderSpoilers",t.value)},value:this.props.renderSpoilers}))},a.render=function(){var e=this,t=this.props,n=t.inlineEmbedMedia,r=t.inlineAttachmentMedia,a=t.gifAutoPlay,i=t.renderEmbeds,l=t.renderReactions,s=t.animateEmoji,u=t.convertEmoticons;return T(p.default,{tag:v.Tags.H2,title:_.default.Messages.TEXT_AND_IMAGES},void 0,T(v.default,{className:g.default.marginBottom8},void 0,_.default.Messages.INLINE_MEDIA_LABEL),T(c.default,{className:(0,o.default)(g.default.marginTop8,g.default.marginBottom20),value:n,onChange:function(t){return e.onFieldChange("inlineEmbedMedia",t.currentTarget.checked)}},void 0,_.default.Messages.INLINE_EMBED_MEDIA),T(c.default,{className:(0,o.default)(g.default.marginTop8,g.default.marginBottom20),value:r,note:_.default.Messages.INLINE_ATTACHMENT_MEDIA_HELP.format({maxSize:10}),onChange:function(t){return e.onFieldChange("inlineAttachmentMedia",t.currentTarget.checked)}},void 0,_.default.Messages.INLINE_ATTACHMENT_MEDIA),T(c.default,{className:g.default.marginBottom40,value:a,onChange:function(t){return e.onFieldChange("gifAutoPlay",t.currentTarget.checked)}},void 0,_.default.Messages.GIF_AUTO_PLAY_LABEL),T(v.default,{className:g.default.marginBottom8},void 0,_.default.Messages.RENDER_EMBEDS_LABEL),T(c.default,{className:(0,o.default)(g.default.marginTop8,g.default.marginBottom40),value:i,onChange:function(t){return e.onFieldChange("renderEmbeds",t.currentTarget.checked)}},void 0,_.default.Messages.RENDER_EMBEDS),T(v.default,{className:g.default.marginBottom8},void 0,_.default.Messages.EMOJI),T(c.default,{className:(0,o.default)(g.default.marginTop8,g.default.marginBottom20),value:l,onChange:function(t){return e.onFieldChange("renderReactions",t.currentTarget.checked)}},void 0,_.default.Messages.RENDER_REACTIONS),T(c.default,{className:(0,o.default)(g.default.marginTop8,g.default.marginBottom20),value:s,note:_.default.Messages.ANIMATE_EMOJI_NOTE,onChange:function(t){return e.onFieldChange("animateEmoji",t.currentTarget.checked)}},void 0,_.default.Messages.ANIMATE_EMOJI),T(c.default,{className:g.default.marginBottom40,value:u,note:m.default.parse(_.default.Messages.CONVERT_EMOTICONS_HELP),onChange:function(t){return e.onFieldChange("convertEmoticons",t.currentTarget.checked)}},void 0,_.default.Messages.CONVERT_EMOTICONS),this.renderTTSControl(),this.renderSpoilerSettings())},r}(a.PureComponent);O.displayName="UserSettingsTextImages";var I=i.default.connectStores([u.default],function(){return{inlineAttachmentMedia:u.default.inlineAttachmentMedia,inlineEmbedMedia:u.default.inlineEmbedMedia,gifAutoPlay:u.default.gifAutoPlay,renderEmbeds:u.default.renderEmbeds,renderReactions:u.default.renderReactions,animateEmoji:u.default.animateEmoji,enableTTSCommand:u.default.enableTTSCommand,convertEmoticons:u.default.convertEmoticons,renderSpoilers:u.default.renderSpoilers}})(O);t.default=I,e.exports=t.default},7600:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=K(n(2)),o=W(n(17)),i=W(n(6)),l=n(869),s=W(n(3)),u=n(56),d=n(78),c=W(n(446)),f=W(n(77)),p=W(n(824)),h=W(n(474)),v=W(n(46)),m=W(n(463)),y=W(n(35)),_=K(n(124)),g=n(444),E=W(n(148)),S=W(n(6015)),T=W(n(6004)),O=W(n(6212)),I=W(n(6161)),C=W(n(5998)),N=W(n(125)),A=W(n(832)),M=W(n(442)),P=K(n(936)),b=W(n(829)),R=W(n(440)),L=K(n(107)),D=W(n(9)),w=W(n(450)),U=W(n(6311)),k=W(n(454)),G=W(n(445)),F=W(n(7601)),j=n(0),x=W(n(13)),B=W(n(312)),H=W(n(5357)),V=W(n(5489)),Y=W(n(5809));function W(e){return e&&e.__esModule?e:{default:e}}function K(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var X=$("div",{className:"grow"}),Q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._timeout=new d.Timeout,t.state={volume:-100,speaking:!1},t.setupVoiceActivity=function(){v.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity),t._timeout.stop()},t.handleVoiceActivity=function(e,n){t.setState({volume:e,speaking:(n&u.SpeakingFlags.VOICE)===u.SpeakingFlags.VOICE})},t.handleAutoThresholdChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.threshold;r&&r(a,e.currentTarget.checked)},t.handleSensitivityChange=function(e){var n=t.props,r=n.onThresholdChange,a=n.auto;r&&r(-1*(100-e),a)},t}q(t,e);var n=t.prototype;return n.componentDidMount=function(){this._timeout.start(1e3,this.setupVoiceActivity)},n.componentWillUnmount=function(){v.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity),this._timeout.stop()},n.handleValueRender=function(e){return(-1*(100-e)).toFixed(0)+"dB"},n.renderAutomaticVADToggle=function(){var e=this,t=this.props.auto;if(v.default.supports(u.Features.AUTOMATIC_VAD))return $(l.SmartUID,{},void 0,function(n){return $("div",{className:(0,o.default)(B.default.horizontal,H.default.marginBottom4)},void 0,$(L.default,{tag:L.Tags.H3,className:H.default.marginReset},void 0,$("label",{htmlFor:n},void 0,x.default.Messages.FORM_LABEL_AUTOMATIC_VAD)),$(I.default,{id:n,value:t,onChange:e.handleAutoThresholdChange}))})},n.renderSlider=function(){var e,t=this.props,n=t.auto,r=t.threshold,a=this.state.speaking;return n?$("section",{className:Y.default.inputSensitivityToggle},void 0,$("div",{className:V.default.slider},void 0,$("div",{className:(0,o.default)(V.default.bar,Y.default.sliderBar,(e={},e[Y.default.speaking]=a||this.state.speaking,e))})),$(R.default,{type:R.default.Types.DESCRIPTION,className:H.default.marginBottom8},void 0,x.default.Messages.FORM_HELP_AUTOMATIC_VAD)):$("section",{className:(0,o.default)(Y.default.inputSensitivityToggle,Y.default.manual)},void 0,$(O.default,{defaultValue:r+100,onValueRender:this.handleValueRender,onValueChange:this.handleSensitivityChange,barStyles:{background:j.Colors.STATUS_GREEN_400},fillStyles:{background:j.Colors.STATUS_YELLOW_400}},void 0,$("div",{className:(0,o.default)(Y.default.sliderBar,Y.default.microphone,V.default.bar)},void 0,$("div",{className:(0,o.default)(Y.default.fill,V.default.barFill),style:{width:this.state.volume+100+"%"}}),X)))},n.renderInputDisabledWarning=function(){if(!v.default.isEnabled())return $(R.default,{type:R.default.Types.DESCRIPTION,className:(0,o.default)(Y.default.inputDisabledWarning,H.default.marginBottom8)},void 0,x.default.Messages.FORM_WARNING_INPUT_SENSITIVTY.format({onEnableClick:c.default.enable}))},n.render=function(){return $(M.default,{className:Y.default.sensitivity},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_INPUT_SENSITIVTY),$("div",{},void 0,this.renderAutomaticVADToggle(),this.renderSlider()),this.renderInputDisabledWarning())},t}(a.PureComponent);Q.displayName="VoiceSensitivity";var J=s.default.connectStores([m.default],function(){return{speaking:m.default.isCurrentUserSpeaking()}})(Q),Z=$(F.default,{}),ee=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).state={showCamera:!1},t.handleInputModeChange=function(e){var r=e.value;r===j.InputModes.PUSH_TO_TALK&&t.props.usePTTLimited&&f.default.push(function(e){return a.createElement(k.default,z({title:x.default.Messages.PTT_LIMITED_TITLE,confirmText:x.default.Messages.DOWNLOAD,cancelText:x.default.Messages.OKAY,onConfirm:t.handleDownload.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"PTT Limited Modal"),body:x.default.Messages.PTT_LIMITED_BODY,iconUrl:n(7603)},e))}),c.default.setMode(r)},t.handleDelayChange=function(e){c.default.setMode(t.props.inputMode,{delay:e})},t.handleThresholdChange=function(e,n){c.default.setMode(t.props.inputMode,{threshold:e,autoThreshold:n})},t.handleDebugLoggingChange=function(e){var t=e.currentTarget.checked;f.default.push(function(e){return a.createElement(G.default,z({header:x.default.Messages.SET_DEBUG_LOGGING,confirmText:x.default.Messages.OKAY,cancelText:x.default.Messages.CANCEL,onConfirm:function(){return c.default.setDebugLogging(t)},red:!0},e),$(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,x.default.Messages.SET_DEBUG_LOGGING_BODY))})},t.handleAttenuationChange=function(e){c.default.setAttenuation(e,t.props.attenuateWhileSpeakingSelf,t.props.attenuateWhileSpeakingOthers)},t.handleAttenuateSelfChanged=function(e){var n=e.currentTarget.checked;c.default.setAttenuation(t.props.attenuation,n,t.props.attenuateWhileSpeakingOthers)},t.handleAttenuateOthersChanged=function(e){var n=e.currentTarget.checked,r=t.props,a=r.attenuation,o=r.attenuateWhileSpeakingSelf;c.default.setAttenuation(a,o,n)},t.handleShortcutChange=function(e){c.default.setMode(t.props.inputMode,{shortcut:e})},t.handleShowCamera=function(){t.setState({showCamera:!0})},t.renderDevice=function(e){var r,a=e.label,o=e.value;h.default.isCertified(o)&&(r=$("img",{src:t.props.theme===j.ThemeTypes.LIGHT?n(7604):n(7605),alt:"Certified",className:Y.default.deviceOptionCertified}));return $("span",{className:Y.default.deviceOption},o,$("span",{className:Y.default.deviceOptionLabel},void 0,h.default.getCertifiedDeviceName(o,a)),r)},t}q(t,e);var r=t.prototype;return r.handleInputDeviceChange=function(e){var t=e.value;c.default.setInputDevice(t,"Settings")},r.handleOutputDeviceChange=function(e){var t=e.value;c.default.setOutputDevice(t,"Settings")},r.handleDownload=function(e){f.default.push(w.default,{source:e})},r.handleInputVolumeChange=function(e){c.default.setInputVolume(e)},r.handleOutputVolumeChange=function(e){var t=2*e;c.default.setOutputVolume(t)},r.handleOutputRender=function(e){return(2*e).toFixed(0)+"%"},r.handleDelayValueRender=function(e){return e>=1e3?(e/=1e3).toFixed(2)+"s":e.toFixed(0)+" ms"},r.handleVideoDeviceChange=function(e){var t=e.value;c.default.setVideoDevice(t,"Settings")},r.handleEchoCancellationChange=function(e){var t=e.currentTarget.checked;c.default.setEchoCancellation(t)},r.handleNoiseSuppressionChange=function(e){var t=e.currentTarget.checked;c.default.setNoiseSuppression(t)},r.handleAutomaticGainControlChange=function(e){var t=e.currentTarget.checked;c.default.setAutomaticGainControl(t)},r.handleLoopbackChange=function(e){var t=e.currentTarget.checked;c.default.setLoopback(t)},r.handleSilenceWarningChange=function(e){var t=e.currentTarget.checked;c.default.setSilenceWarning(t)},r.handleVideoHookChange=function(e){var t=e.currentTarget.checked;c.default.setVideoHook(t)},r.handleQoSChanged=function(e){var t=e.currentTarget.checked;c.default.setQoS(t)},r.handleVoiceReset=function(){f.default.push(function(e){return a.createElement(G.default,z({header:x.default.Messages.RESET_VOICE_SETTINGS,confirmText:x.default.Messages.OKAY,cancelText:x.default.Messages.CANCEL,onConfirm:c.default.reset,red:!0},e),$(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,x.default.Messages.RESET_VOICE_SETTINGS_BODY))})},r.handleAudioSubsystemChanged=function(e){var t=e.value;f.default.push(function(e){return a.createElement(G.default,z({header:x.default.Messages.SWITCH_SUBSYSTEM,confirmText:x.default.Messages.OKAY,cancelText:x.default.Messages.CANCEL,onConfirm:function(){return c.default.setAudioSubsystem(t)},red:!0},e),$(N.default,{size:N.default.Sizes.MEDIUM,color:N.default.Colors.PRIMARY},void 0,x.default.Messages.SWITCH_SUBSYSTEM_BODY))})},r.renderDevices=function(){var e,t,n=this.props,r=n.inputDevices,a=n.inputDeviceId,o=n.outputDeviceId,l=n.outputDevices,s=n.canSetInputDevice,u=n.canSetOutputDevice;s||(e=$(R.default,{type:R.default.Types.DESCRIPTION,className:H.default.marginTop8},void 0,x.default.Messages.BROWSER_INPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Input Devices")}))),u||(t=$(R.default,{type:R.default.Types.DESCRIPTION,className:H.default.marginTop8},void 0,x.default.Messages.BROWSER_OUTPUT_DEVICE_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text Output Devices")})));var d=(0,i.default)(r).values().first(),c=null!=d?d.disabled:null!=e,f=(0,i.default)(l).values().first(),p=null!=f?f.disabled:null!=t;return $(E.default,{className:H.default.marginBottom20},void 0,$(E.default.Child,{basis:"50%"},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_INPUT_DEVICE),$(T.default,{value:a,clearable:!1,searchable:!1,onChange:this.handleInputDeviceChange,options:i.default.map(r,function(e){return{value:e.id,label:e.name}}),disabled:c,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),e),$(E.default.Child,{basis:"50%"},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_OUTPUT_DEVICE),$(T.default,{value:o,clearable:!1,searchable:!1,onChange:this.handleOutputDeviceChange,options:i.default.map(l,function(e){return{value:e.id,label:e.name}}),disabled:p,valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),t))},r.renderVolumeControls=function(){var e=this.props,t=e.inputVolume,n=e.outputVolume;return $(E.default,{className:"volume"},void 0,$(E.default.Child,{basis:"50%"},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom4},void 0,x.default.Messages.FORM_LABEL_INPUT_VOLUME),$(O.default,{defaultValue:t,asValueChanges:this.handleInputVolumeChange})),$(E.default.Child,{basis:"50%"},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom4},void 0,x.default.Messages.FORM_LABEL_OUTPUT_VOLUME),$(O.default,{defaultValue:n/2,onValueRender:this.handleOutputRender,asValueChanges:this.handleOutputVolumeChange})))},r.renderMicTest=function(){return v.default.supports(u.Features.LOOPBACK)?Z:null},r.renderInputMode=function(){var e=this.props,t=e.usePTTLimited,n=e.inputMode,r=[{value:j.InputModes.VOICE_ACTIVITY,name:x.default.Messages.INPUT_MODE_VAD},{value:j.InputModes.PUSH_TO_TALK,name:t?x.default.Messages.INPUT_MODE_PTT_LIMITED:x.default.Messages.INPUT_MODE_PTT}];return $(M.default,{title:x.default.Messages.FORM_LABEL_INPUT_MODE,className:H.default.marginBottom20},void 0,$(S.default,{onChange:this.handleInputModeChange,options:r,value:n}))},r.renderPTTTools=function(){var e,t=this.props,n=t.inputMode,r=t.delay,a=t.shortcut;return n!==j.InputModes.PUSH_TO_TALK?null:(e=D.default.embedded||n!==j.InputModes.PUSH_TO_TALK?$(R.default,{type:R.default.Types.DESCRIPTION,className:(0,o.default)(Y.default.pttToolsMessage,H.default.marginBottom8)},void 0,x.default.Messages.USER_SETTINGS_VOICE_ADD_MULTIPLE.format({onClick:function(){return p.default.setSection(j.UserSettingsSections.KEYBINDS)}})):$(R.default,{type:R.default.Types.DESCRIPTION,className:(0,o.default)(Y.default.pttToolsMessage,Y.default.pttToolsWarning,H.default.marginBottom8)},void 0,x.default.Messages.PTT_LIMITED_WARNING.format({onDownloadClick:this.handleDownload.bind(this,"Help Text PTT")})),$("div",{className:Y.default.pttTools},void 0,$(E.default,{},void 0,$(E.default.Child,{basis:"50%"},void 0,$(M.default,{title:x.default.Messages.FORM_LABEL_SHORTCUT},void 0,$(U.default,{defaultValue:a,onChange:this.handleShortcutChange}))),$(E.default.Child,{basis:"50%"},void 0,$(M.default,{title:x.default.Messages.INPUT_MODE_PTT_RELEASE_DELAY},void 0,$(O.default,{defaultValue:r,onValueChange:this.handleDelayChange,onValueRender:this.handleDelayValueRender,maxValue:j.MAX_PTT_RELEASE_DELAY})))),e))},r.renderVoiceSensitivityTools=function(){var e=this.props,t=e.inputMode,n=e.vadThreshold,r=e.vadAutoThreshold;return t!==j.InputModes.VOICE_ACTIVITY?null:$(J,{inputMode:t,threshold:n,auto:r,onThresholdChange:this.handleThresholdChange})},r.renderVideoDevices=function(){var e,t,r,a=this.props,l=a.videoDevices,s=a.videoDeviceId,u=a.theme;v.default.isEnabled()||(r=$(R.default,{type:R.default.Types.DESCRIPTION,className:H.default.marginTop8},void 0,x.default.Messages.FORM_WARNING_VIDEO_PREVIEW.format({onEnableClick:c.default.enable})));var d=(0,i.default)(l).values().first(),f=null!=d?d.disabled:null!=r,p=v.default.getMediaEngine().Camera,h=u===j.ThemeTypes.LIGHT?n(7606):n(7607);return $(E.default,{},void 0,$(E.default.Child,{basis:"50%"},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_VIDEO_DEVICE),$(T.default,{value:s,clearable:!1,searchable:!1,disabled:f,onChange:this.handleVideoDeviceChange,options:i.default.map(l,function(e){return{value:e.id,label:e.name}}),valueRenderer:this.renderDevice,optionRenderer:this.renderDevice}),r),$(E.default.Child,{basis:"50%"},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_VIDEO_PREVIEW),$("div",{className:Y.default.previewContainer},void 0,$(p,{deviceId:s,disabled:!this.state.showCamera||f}),$(E.default,{className:(0,o.default)(Y.default.previewOverlay,(e={},e[Y.default.dismiss]=this.state.showCamera,e))},void 0,$(E.default,{className:(0,o.default)(Y.default.previewOverlayInner,(t={},t[Y.default.dismiss]=this.state.showCamera,t)),direction:E.default.Direction.VERTICAL,justify:E.default.Justify.CENTER,align:E.default.Align.CENTER},void 0,$("img",{className:H.default.marginBottom20,alt:"",src:h}),$(_.default,{onClick:this.handleShowCamera,disabled:f},void 0,x.default.Messages.TEST_VIDEO))))))},r.renderVideoWarnings=function(){return $(P.default,{type:g.Types.PRIMARY,title:x.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,body:x.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,button:$(_.default,{size:_.default.Sizes.SMALL,className:H.default.marginTop20,onClick:this.handleDownload.bind(this,"Video unsupported browser")},void 0,x.default.Messages.DOWNLOAD_APP)})},r.renderCodec=function(){var e;return e=this.props.theme===j.ThemeTypes.LIGHT?n(7608):n(7609),$(P.default,{className:H.default.marginBottom40,type:P.Types.PRIMARY,imageData:{src:e,width:70,height:40},title:x.default.Messages.USER_SETTINGS_VOICE_CODEC_TITLE,body:x.default.Messages.USER_SETTINGS_VOICE_CODEC_DESCRIPTION})},r.renderVoiceProcessing=function(){if(!v.default.supports(u.Features.VOICE_PROCESSING))return null;var e,t=this.props,n=t.noiseSuppression,r=t.echoCancellation,a=t.automaticGainControl,i=t.inputDeviceId,l=h.default.hasEchoCancellation(i),s=h.default.hasNoiseSuppression(i),d=h.default.hasAutomaticGainControl(i);return(l||l||d)&&(e=$(R.default,{className:H.default.marginBottom20,type:R.default.Types.DESCRIPTION},void 0,x.default.Messages.FORM_HELP_CERTIFIED_VOICE_PROCESSING)),$(b.default,{className:H.default.marginBottom40,title:x.default.Messages.FORM_LABEL_VOICE_PROCESSING},void 0,e,$(C.default,{className:(0,o.default)(H.default.marginTop8,H.default.marginBottom20),value:r,onChange:this.handleEchoCancellationChange,disabled:l},void 0,x.default.Messages.ECHO_CANCELLATION),$(C.default,{value:n,onChange:this.handleNoiseSuppressionChange,disabled:s},void 0,x.default.Messages.NOISE_SUPPRESSION),$(C.default,{className:"",value:a,onChange:this.handleAutomaticGainControlChange,disabled:d},void 0,x.default.Messages.AUTOMATIC_GAIN_CONTROL))},r.renderQoS=function(){if(!v.default.supports(u.Features.QOS))return null;var e=this.props.qosEnabled;return $(b.default,{className:H.default.marginBottom40,title:x.default.Messages.FORM_LABEL_QOS},void 0,$(C.default,{className:"",value:e,onChange:this.handleQoSChanged,note:x.default.Messages.FORM_HELP_QOS},void 0,x.default.Messages.FORM_CHECKBOX_QOS))},r.renderAttenutation=function(){if(!v.default.supports(u.Features.ATTENUATION))return null;var e=this.props,t=e.attenuation,n=e.attenuateWhileSpeakingSelf,r=e.attenuateWhileSpeakingOthers;return $(b.default,{className:H.default.marginBottom40,title:x.default.Messages.FORM_LABEL_ATTENUATION},void 0,$(O.default,{defaultValue:t,onValueRender:this.handleOutputRender,onValueChange:this.handleAttenuationChange}),$(R.default,{className:H.default.marginBottom20,type:R.default.Types.DESCRIPTION},void 0,x.default.Messages.FORM_HELP_ATTENUATION),$(A.default,{lineOnly:!0,className:H.default.marginBottom20}),$(C.default,{value:n,onChange:this.handleAttenuateSelfChanged},void 0,x.default.Messages.ATTENUATE_WHILE_SPEAKING_SELF),$(C.default,{className:"",value:r,onChange:this.handleAttenuateOthersChanged},void 0,x.default.Messages.ATTENUATE_WHILE_SPEAKING_OTHERS))},r.renderAudioSubsystem=function(){if(!v.default.supports(u.Features.LEGACY_AUDIO_SUBSYSTEM)&&!v.default.supports(u.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM))return null;var e=[{value:u.AudioSubsystems.STANDARD,label:"Standard"}];v.default.supports(u.Features.LEGACY_AUDIO_SUBSYSTEM)&&e.push({value:u.AudioSubsystems.LEGACY,label:"Legacy"}),v.default.supports(u.Features.EXPERIMENTAL_AUDIO_SUBSYSTEM)&&e.push({value:u.AudioSubsystems.EXPERIMENTAL,label:"Experimental"});var t=this.props,n=t.audioSubsystem,r=t.disableAudioSubsystem;return $(E.default,{className:H.default.marginBottom20},void 0,$(E.default.Child,{},void 0,$(L.default,{tag:L.Tags.H5,className:H.default.marginBottom8},void 0,x.default.Messages.FORM_LABEL_SUBSYSTEM),$(T.default,{value:n,disabled:r,clearable:!1,searchable:!1,options:e,onChange:this.handleAudioSubsystemChanged})))},r.renderDiagnostics=function(){if(!D.default.embedded)return null;var e,t,n=this.props,r=n.silenceWarning,o=n.debugLogging,i=n.videoHook;return v.default.supports(u.Features.DEBUG_LOGGING)&&(e=$(a.Fragment,{},void 0,$(A.default,{lineOnly:!0,className:H.default.marginBottom20}),$(C.default,{value:o,onChange:this.handleDebugLoggingChange,note:x.default.Messages.FORM_HELP_DEBUG_LOGGING},void 0,x.default.Messages.FORM_CHECKBOX_DEBUG_LOGGING))),v.default.supports(u.Features.VIDEO_HOOK)&&(t=$(C.default,{value:i,onChange:this.handleVideoHookChange},void 0,x.default.Messages.USER_SETTINGS_VOICE_VIDEO_HOOK_LABEL)),$(b.default,{className:H.default.marginBottom40,title:x.default.Messages.FORM_LABEL_VOICE_DIAGNOSTICS},void 0,$(C.default,{className:"",value:r,onChange:this.handleSilenceWarningChange},void 0,x.default.Messages.DISPLAY_SILENCE_WARNING),e,t)},r.renderResetVoiceSettings=function(){return $(M.default,{},void 0,$(_.default,{look:_.ButtonLooks.OUTLINED,color:_.ButtonColors.RED,onClick:this.handleVoiceReset,size:_.ButtonSizes.SMALL},void 0,x.default.Messages.RESET_VOICE_SETTINGS))},r.renderVideoSettings=function(){var e=v.default.supports(u.Features.VIDEO);return $("div",{},void 0,$(L.default,{tag:L.Tags.H2,className:H.default.marginBottom20},void 0,x.default.Messages.VIDEO_SETTINGS),e?this.renderVideoDevices():this.renderVideoWarnings(),$(A.default,{className:(0,o.default)(H.default.marginBottom40,H.default.marginTop40)}))},r.render=function(){return $(b.default,{className:Y.default.userSettingsVoice,tag:L.Tags.H2,title:x.default.Messages.VOICE_SETTINGS},void 0,this.renderDevices(),this.renderVolumeControls(),this.renderMicTest(),$(A.default,{className:(0,o.default)(H.default.marginTop8,H.default.marginBottom40)}),this.renderInputMode(),this.renderPTTTools(),this.renderVoiceSensitivityTools(),$(A.default,{className:H.default.marginBottom40}),this.renderVideoSettings(),$(L.default,{tag:L.Tags.H2,className:H.default.marginBottom20},void 0,x.default.Messages.SETTINGS_ADVANCED),this.renderCodec(),this.renderVoiceProcessing(),this.renderQoS(),this.renderAttenutation(),this.renderAudioSubsystem(),this.renderDiagnostics(),this.renderResetVoiceSettings())},t}(a.PureComponent);ee.displayName="UserSettingsVoice";var te=s.default.connectStores([y.default,v.default,h.default],function(){return{theme:y.default.theme,canSetInputDevice:v.default.supports(u.Features.AUDIO_INPUT_DEVICE),canSetOutputDevice:v.default.supports(u.Features.AUDIO_OUTPUT_DEVICE),inputVolume:v.default.getInputVolume(),outputVolume:v.default.getOutputVolume(),inputDeviceId:v.default.getInputDeviceId(),inputDevices:v.default.getInputDevices(),outputDevices:v.default.getOutputDevices(),outputDeviceId:v.default.getOutputDeviceId(),videoDevices:v.default.getVideoDevices(),videoDeviceId:v.default.getVideoDeviceId(),echoCancellation:v.default.getEchoCancellation(),loopback:v.default.getLoopback(),noiseSuppression:v.default.getNoiseSuppression(),automaticGainControl:v.default.getAutomaticGainControl(),inputMode:v.default.getMode(),shortcut:v.default.getModeOptions().shortcut,vadThreshold:v.default.getModeOptions().threshold,vadAutoThreshold:v.default.getModeOptions().autoThreshold,delay:v.default.getModeOptions().delay,usePTTLimited:!D.default.embedded,attenuation:v.default.getAttenuation(),attenuateWhileSpeakingSelf:v.default.getAttenuateWhileSpeakingSelf(),attenuateWhileSpeakingOthers:v.default.getAttenuateWhileSpeakingOthers(),silenceWarning:v.default.getEnableSilenceWarning(),debugLogging:v.default.getDebugLogging(),qosEnabled:v.default.getQoS(),audioSubsystem:v.default.getAudioSubsystem(),disableAudioSubsystem:v.default.getDisableAudioSubsystem(),certifiedDeviceRevision:h.default.getRevision(),videoHook:v.default.getVideoHook()}})(ee);t.default=te,e.exports=t.default},7601:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=D(n(2)),l=L(n(17)),s=L(n(6)),u=L(n(3)),d=n(56),c=n(78),f=L(n(446)),p=L(n(46)),h=L(n(181)),v=L(n(7166)),m=L(n(7167)),y=L(n(305)),_=L(n(124)),g=L(n(148)),E=L(n(7602)),S=L(n(437)),T=L(n(440)),O=D(n(107)),I=L(n(18)),C=L(n(309)),N=L(n(9)),A=L(n(6040)),M=n(0),P=L(n(13)),b=L(n(5357)),R=L(n(5808));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var U=2e3,k=-100,G=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._initTimeout=new c.Timeout,t._silenceTimeout=new c.Timeout,t._messageTimeout=new c.Timeout,t.state={volume:k,isMicTesting:!1,isDetectingInput:!0,didDeafenUser:!1},t.setupVoiceActivity=function(){p.default.getMediaEngine().on("voiceactivity",t.handleVoiceActivity)},t.handleVoiceActivity=function(e){if(t.state.isMicTesting&&e<=k)return t._silenceTimeout.isStarted()||t._silenceTimeout.start(U,function(){t.setState({isDetectingInput:!1})}),void t.setState({volume:k});t._silenceTimeout.stop(),t.setState({volume:e,isDetectingInput:!0})},t.handleToggleMicTest=function(){t.state.isMicTesting?t._micTestStop():t._micTestStart()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this._initTimeout.start(1e3,this.setupVoiceActivity)},a.componentWillUnmount=function(){this._initTimeout.stop(),this._micTestStop(),p.default.getMediaEngine().removeListener("voiceactivity",this.handleVoiceActivity)},a._micTestStart=function(){var e=this.props,t=e.isDeafened,n=e.isVoiceConnected,r=e.inputDeviceName,a=e.inputVolume,o=e.outputDeviceName,i=e.outputVolume,l=e.inputMode,s=e.vadAutoThreshold,u=e.vadThreshold;p.default.isEnabled()||f.default.enable();var c=!1;n&&!t&&(f.default.toggleSelfDeaf(d.MediaEngineContextTypes.DEFAULT),c=!0),f.default.setLoopback(!0),this._micTestStartTime=Date.now(),this.setState({isMicTesting:!0,isDetectingInput:!0,didDeafenUser:c}),I.default.track(M.AnalyticEvents.MIC_TESTING_STARTED,{input_device_name:r,input_device_volume:a,output_device_name:o,output_device_volume:i,input_mode:l,input_sensitivity_is_automatic:s,input_sensitivity_threshold:Math.round(u)})},a._micTestStop=function(){var e=this.state,t=e.didDeafenUser,n=e.isMicTesting,r=this.props,a=r.isDeafened,o=r.isVoiceConnected;n&&(o&&a&&t&&f.default.toggleSelfDeaf(d.MediaEngineContextTypes.DEFAULT),f.default.setLoopback(!1),this.setState({isMicTesting:!1,didDeafenUser:!1}),I.default.track(M.AnalyticEvents.MIC_TESTING_STOPPED,{testing_duration:Math.round((Date.now()-this._micTestStartTime)/1e3)}))},a.renderCaption=function(){var e,t=this.state,n=t.isMicTesting,r=t.isDetectingInput;return n&&(e=r?P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CAPTION:w(i.Fragment,{},void 0,P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_NO_INPUT_NOTICE,w(y.default,{className:R.default.micTestHelpLink,href:C.default.getArticleURL(M.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,P.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))),w(T.default,{className:R.default.micTestCaption,type:T.default.Types.DESCRIPTION},void 0,e)},a.render=function(){var e=this.props.isVoiceConnected,t=this.state,n=t.isMicTesting,r=t.volume,a=e&&!n?P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_VOICE_CHANNEL_WARNING:"";return w(g.default,{direction:g.default.Direction.VERTICAL},void 0,w(O.default,{tag:O.Tags.H5,className:(0,l.default)(b.default.marginBottom4,b.default.marginTop8)},void 0,P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_TITLE),w(T.default,{type:T.default.Types.DESCRIPTION,className:b.default.marginBottom8},void 0,P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_DESCRIPTION),w(g.default,{className:R.default.micTest,align:g.default.Align.CENTER},void 0,w(S.default,{text:a},void 0,w(_.default,{grow:!1,onClick:this.handleToggleMicTest,size:_.default.Sizes.SMALL,className:R.default.micTestButton,color:_.default.Colors.BRAND},void 0,n?P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_ACTIVE:P.default.Messages.USER_SETTINGS_VOICE_MIC_TEST_BUTTON_INACTIVE)),w(E.default,{progress:n?r+100:0}),this.renderCaption()))},r}(i.PureComponent);G.displayName="MicTester";var F=w(u.default.connectStores([h.default],function(){var e=p.default.getInputDeviceId(),t=p.default.getInputDevices(),n=s.default.find(t,function(t){return t.id===e}),r=p.default.getOutputDeviceId(),a=p.default.getOutputDevices(),o=s.default.find(a,function(e){return e.id===r}),i=p.default.getModeOptions();return{isVoiceConnected:h.default.isConnected(),isDeafened:p.default.isSelfDeaf(),inputVolume:p.default.getInputVolume(),outputVolume:p.default.getOutputVolume(),inputMode:p.default.getMode(),vadThreshold:i.threshold,vadAutoThreshold:i.autoThreshold,inputDeviceName:null!=n?n.name:null,outputDeviceName:null!=o?o.name:null}})(G),{}),j=(0,A.default)(N.default.embedded?v.default:m.default,((a={})[M.ExperimentTypes.NONE]=M.NOOP_NULL,a[M.ExperimentTypes.USER]=((r={})[M.ExperimentBuckets.NOT_ELIGIBLE]=M.NOOP_NULL,r[M.ExperimentBuckets.CONTROL]=M.NOOP_NULL,r[M.ExperimentBuckets.TREATMENT_1]=function(){return F},r),a));t.default=j,e.exports=t.default},7602:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=n(316),l=n(0),s=u(n(5807));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=(0,i.cssValueToNumber)(s.default.notchWidth),f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={barWidth:0},t.sizerRef=a.createRef(),t.computeBars=function(){var e=t.sizerRef.current;t.setState({barWidth:null!=e?t.roundToNearestStep(e.clientWidth):0})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.computeBars(),window.addEventListener("resize",this.computeBars)},i.componentWillUnmount=function(){window.removeEventListener("resize",this.computeBars)},i.roundToNearestStep=function(e){return Math.round(e/c)*c},i.getProgressStyles=function(){var e=this.props.progress,t=100-Math.max(0,Math.min(100,e)),n=this.state.barWidth,r=n*t/100,a=this.roundToNearestStep(r);return{transform:"translateX("+Math.abs(a-n)+"px)"}},i.getGradientStyles=function(){var e=this.props,t=e.gradientEnd,n=e.gradientStart,r=e.progress;return{width:this.state.barWidth+"px",background:r<=0?"none":"linear-gradient(to right, "+n+", "+t+")"}},i.render=function(){var e=this.props.className;return a.createElement("div",{className:s.default.wrapper,ref:this.sizerRef},d("div",{className:(0,o.default)(s.default.container,e),style:this.getGradientStyles()},void 0,d("div",{className:s.default.progress,style:this.getProgressStyles()}),d("div",{className:s.default.notches})))},r}(a.Component);f.displayName="GradientProgress",f.defaultProps={gradientStart:l.Colors.STATUS_YELLOW_400,gradientEnd:l.Colors.STATUS_GREEN};var p=f;t.default=p,e.exports=t.default},7603:function(e,t,n){e.exports=n.p+"d630d71d5d2a19c1a81607b7b77f8717.svg"},7604:function(e,t,n){e.exports=n.p+"799da7cb8e1aa0bf9588a2d789c03926.svg"},7605:function(e,t,n){e.exports=n.p+"f98fe1aef65b144ddb4dbc7eedfac860.svg"},7606:function(e,t,n){e.exports=n.p+"baf6cccc846651d5ca897296163227f5.svg"},7607:function(e,t,n){e.exports=n.p+"aba3ec7874f7f01fe9a8275a3e5c21a0.svg"},7608:function(e,t,n){e.exports=n.p+"8c49c7d4a59675bb6ceaee1bb80b5803.png"},7609:function(e,t,n){e.exports=n.p+"e8b66317ab0dc9ba3bf8d41a4f3ec914.png"},7610:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(17)),i=f(n(5998)),l=f(n(829)),s=p(n(107)),u=f(n(9)),d=f(n(13)),c=f(n(5357));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleToggleOpenOnStartup=function(){var e=!n.state.openOnStartup;n.setState({openOnStartup:e}),u.default.send("TOGGLE_OPEN_ON_STARTUP",e)},n.handleToggleStartMinimized=function(){var e=!n.state.startMinimized;n.setState({startMinimized:e}),u.default.send("TOGGLE_START_MINIMIZED",e)},n.handleToggleMinimizeToTray=function(){var e=!n.state.minimizeToTray;n.setState({minimizeToTray:e}),u.default.send("TOGGLE_MINIMIZE_TO_TRAY",e)};var r=u.default.getGlobal("appSettings");return n.state={openOnStartup:r.get("OPEN_ON_STARTUP",!0),startMinimized:r.get("START_MINIMIZED",!1),minimizeToTray:r.get("MINIMIZE_TO_TRAY",!0)},n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.state,t=e.openOnStartup,n=e.startMinimized,r=e.minimizeToTray,a=u.default.isLinux()?d.default.Messages.USER_SETTINGS_LINUX_SETTINGS:d.default.Messages.USER_SETTINGS_WINDOWS_SETTINGS;return h(l.default,{tag:s.Tags.H2,title:a},void 0,h(s.default,{},void 0,d.default.Messages.USER_SETTINGS_STARTUP_BEHAVIOR),h(i.default,{className:c.default.marginBottom20,value:t,note:d.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_BODY,onChange:this.handleToggleOpenOnStartup},void 0,d.default.Messages.USER_SETTINGS_OPEN_ON_STARTUP_LABEL),u.default.isWindows()?h(i.default,{disabled:!t,className:(0,o.default)(c.default.marginTop8,c.default.marginBottom20),value:!!t&&n,note:d.default.Messages.USER_SETTINGS_START_MINIMIZED_BODY,onChange:this.handleToggleStartMinimized},void 0,d.default.Messages.USER_SETTINGS_START_MINIMIZED_LABEL):null,h(s.default,{className:(0,o.default)(c.default.marginTop20,c.default.marginBottom8)},void 0,d.default.Messages.USER_SETTINGS_CLOSE_BUTTON),h(i.default,{className:c.default.marginBottom20,value:r,note:d.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_BODY,onChange:this.handleToggleMinimizeToTray},void 0,d.default.Messages.USER_SETTINGS_MINIMIZE_TO_TRAY_LABEL))},r}(a.PureComponent);v.displayName="UserSettingsWindows";var m=v;t.default=m,e.exports=t.default},7611:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(304)),o=c(n(439)),i=c(n(3)),l=c(n(452)),s=c(n(35)),u=c(n(5991)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"AppearanceMessageDisplayMenuItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isCompact:s.default.messageDisplayCompact}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:this.state.isCompact?d.default.Messages.SWITCH_TO_COZY_MODE:d.default.Messages.SWITCH_TO_COMPACT_MODE,action:this.handleAction})},handleAction:function(){l.default.updateRemoteSettings({messageDisplayCompact:!this.state.isCompact})}});t.default=f,e.exports=t.default},7612:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(304)),o=f(n(439)),i=f(n(3)),l=f(n(452)),s=f(n(35)),u=f(n(5991)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)({displayName:"AppearanceThemeMenuItem",mixins:[i.default.StoreListenerMixin(s.default),o.default],getStateFromStores:function(){return{theme:s.default.theme}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:this.state.theme===d.ThemeTypes.LIGHT?c.default.Messages.SWITCH_TO_DARK_THEME:c.default.Messages.SWITCH_TO_LIGHT_THEME,action:this.handleAction})},handleAction:function(){l.default.updateRemoteSettings({theme:this.state.theme===d.ThemeTypes.LIGHT?d.ThemeTypes.DARK:d.ThemeTypes.LIGHT})}});t.default=p,e.exports=t.default},7613:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(3)),i=c(n(131)),l=c(n(57)),s=c(n(6085)),u=c(n(6087)),d=c(n(6012));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderBuckets=function(e,n){var r=t.props,a=r.currentBucket,o=r.currentType;return n.map(function(n){var r=s.default.getExperimentBucketName(n);return f(d.default,{label:r,action:function(){return t.handleOverrideSelect(e,n)},active:e===o&&n===a},n)})},t.renderOverrideTypes=function(){var e=t.props.experiment;return Object.keys(e.experiments).map(function(n){var r=e.experiments[n];return f(u.default,{invertChildY:!0,label:n,render:function(){return t.renderBuckets(n,r)}},n)})},t.handleOverrideSelect=function(e,n){var r=t.props.id;i.default.overrideType(r,e),i.default.overrideBucket(r,n)},t.handleResetOverride=function(){var e=t.props.id;i.default.overrideType(e,null),i.default.overrideBucket(e,null)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.experiment;return f(u.default,{invertChildY:!0,label:e.title,render:this.renderOverrideTypes,action:this.handleResetOverride})},r}(a.PureComponent);p.displayName="ExperimentSettingsItem";var h=o.default.connectStores([l.default],function(e){var t=e.id,n=l.default.getExperimentOverrides()[t],r=-1,a="";return n&&(r=n.bucket,a=n.type),{experiment:l.default.getRegisteredExperiments()[t],bucket:l.default.getExperimentBucket(t),currentBucket:r,currentType:a}})(p);t.default=h,e.exports=t.default},7614:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(304)),o=c(n(439)),i=c(n(3)),l=c(n(6168)),s=c(n(307)),u=c(n(6012)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"StreamerModeToggleItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{enabled:s.default.enabled}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.ENABLE_STREAMER_MODE_LABEL,action:this.handleToggle,active:this.state.enabled})},handleToggle:function(){l.default.setEnabled(!this.state.enabled)}});t.default=f,e.exports=t.default},7615:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(304)),o=f(n(439)),i=f(n(3)),l=f(n(446)),s=f(n(46)),u=f(n(5991)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,a.default)({displayName:"VoiceSettingsInputModeItem",mixins:[i.default.StoreListenerMixin(s.default),o.default],getStateFromStores:function(){return{inputMode:s.default.getMode()}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:this.state.inputMode===d.InputModes.PUSH_TO_TALK?c.default.Messages.SWITCH_TO_VOICE_ACTIVITY:c.default.Messages.SWITCH_TO_PUSH_TO_TALK,action:this.handleAction})},handleAction:function(){l.default.setMode(this.state.inputMode===d.InputModes.PUSH_TO_TALK?d.InputModes.VOICE_ACTIVITY:d.InputModes.PUSH_TO_TALK)}});t.default=p,e.exports=t.default},7616:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(304)),o=(c(n(306)),c(n(439))),i=c(n(3)),l=c(n(446)),s=c(n(46)),u=c(n(6770)),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"VoiceSettingsVolumeItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getVolume:function(){switch(this.props.type){case"input":return s.default.getInputVolume();case"output":return s.default.getOutputVolume()/2;default:return 0}},setVolume:function(e){switch(this.props.type){case"input":l.default.setInputVolume(e);break;case"output":l.default.setOutputVolume(2*e)}},renderVolume:function(e){switch(this.props.type){case"input":return e.toFixed(0)+"%";case"output":return(2*e).toFixed(0)+"%";default:return""}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{volume:this.getVolume()}},render:function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{label:"input"===this.props.type?d.default.Messages.FORM_LABEL_INPUT_VOLUME:d.default.Messages.FORM_LABEL_OUTPUT_VOLUME,defaultValue:this.state.volume,onValueChange:this.setVolume,onValueRender:this.renderVolume})}});t.default=f,e.exports=t.default},7617:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=k(n(2)),o=U(n(39)),i=U(n(3)),l=U(n(131)),s=U(n(77)),u=U(n(5360)),d=U(n(12)),c=U(n(20)),f=U(n(41)),p=U(n(108)),h=U(n(149)),v=U(n(129)),m=U(n(181)),y=U(n(64)),_=U(n(7168)),g=U(n(927)),E=U(n(124)),S=U(n(148)),T=U(n(6005)),O=U(n(301)),I=U(n(125)),C=U(n(437)),N=n(223),A=U(n(18)),M=U(n(9)),P=k(n(871)),b=U(n(7618)),R=U(n(7619)),L=n(0),D=U(n(13)),w=U(n(5813));function U(e){return e&&e.__esModule?e:{default:e}}function k(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClickGoLiveButton=function(){var e=t.props.guildId;t.modalKey=s.default.push(function(){return G(b.default,{guildId:e,onClose:t.handleCloseModal})})},t.handleClickStopStreamingButton=function(){var e=t.props.stream;P.stopStreaming(e)},t.handleClickInviteButton=function(){var e=t.props.activity;(0,o.default)(null!=e,"Received null activity"),A.default.track(L.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id,location:L.AnalyticsSections.ACTIVITY_PANEL}),t.modalKey=s.default.push(function(){return G(R.default,{activity:e,onClose:t.handleCloseModal})})},t.handleCloseModal=function(){null!=t.modalKey?s.default.popWithKey(t.modalKey):s.default.pop()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.triggerExperiment()},a.componentDidUpdate=function(){this.triggerExperiment()},a.triggerExperiment=function(){if(this.isJoinableActivity()){var e=_.default.getExperimentDescriptor();if(null==e||e.override)return null;l.default.trigger(e)}},a.isJoinableActivity=function(){var e=this.props,t=e.application,n=e.activity;return null!=t&&null!=n&&n.application_id===t.id&&n.type===L.ActivityTypes.PLAYING&&(0,N.hasFlag)(n,L.ActivityFlags.JOIN)},a.renderGoLiveButton=function(){var e,t,n,r,a=this.props,o=a.inGoLiveExperiment,i=a.guildId,l=a.isStreaming,s=a.inVoiceChannel,u=a.canStream;return o&&M.default.embedded?(l?(e=!1,t=this.handleClickStopStreamingButton,n=O.default.Names.STOP_STREAM,r=D.default.Messages.STOP_STREAMING):u?(e=!1,t=this.handleClickGoLiveButton,n=O.default.Names.LIVE_STREAM,r=D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP):(e=!0,t=null,n=O.default.Names.LIVE_STREAM,r=s?D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE:null!=i?D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD:D.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD),G(C.default,{text:r},void 0,G(E.default,{"aria-label":r,disabled:e,onClick:t,look:E.default.Looks.BLANK,size:E.default.Sizes.NONE,className:w.default.iconButton,innerClassName:w.default.buttonInner},void 0,G(O.default,{name:n,color:L.Colors.WHITE,className:w.default.actionIcon})))):null},a.renderInviteButton=function(){return this.isJoinableActivity()?G(C.default,{text:D.default.Messages.INVITE_EMBED_INVITE_TO_JOIN},void 0,G(E.default,{"aria-label":D.default.Messages.INVITE_EMBED_INVITE_TO_JOIN,look:E.default.Looks.BLANK,size:E.default.Sizes.NONE,className:w.default.iconButton,innerClassName:w.default.buttonInner,onClick:this.handleClickInviteButton},void 0,G(O.default,{name:O.default.Names.INVITE,color:L.Colors.WHITE,className:w.default.actionIcon}))):null},a.renderActions=function(){var e=this.renderGoLiveButton(),t=this.renderInviteButton();return null==e&&null==t?null:G(S.default,{grow:0,align:S.default.Align.STRETCH,direction:S.default.Direction.HORIZONTAL,className:w.default.actions},void 0,e,t)},a.render=function(){var e=this.props,t=e.inActivityPanelExperiment,n=e.inGoLiveExperiment,r=e.settingsGame,a=e.application;if(!(t&&this.isJoinableActivity()||n))return null;if(null==r)return null;var o=r.name;return G("div",{className:w.default.panel},void 0,G("div",{className:w.default.body},void 0,G(T.default,{className:w.default.gameIcon,game:a}),G("div",{className:w.default.gameNameWrapper},void 0,G(I.default,{title:o,weight:I.default.Weights.MEDIUM,className:w.default.gameName},void 0,o)),this.renderActions()))},r}(a.PureComponent);F.displayName="ActivityPanelGameCard";var j=i.default.connectStores([_.default,u.default,d.default,f.default,g.default,p.default,h.default,v.default,m.default,y.default],function(e){var t=e.guildId,n=d.default.getId(),r=y.default.getSettingsGame(),a=c.default.getChannel(m.default.getChannelId()),o=u.default.getActiveStream(),i=!1;if(null!=a)i=P.canStreamInChannel(n,a,!1);else if(null!=t){i=P.getStreamEligibleChannels(n,p.default.getChannels(t)).length>0}return{inActivityPanelExperiment:_.default.inExperiment,inGoLiveExperiment:g.default.inExperiment(t),settingsGame:r,application:null!=r?f.default.getGameBySettingGame(r):null,activity:null!=n?v.default.getPrimaryActivity(n):null,isStreaming:null!=o&&o.ownerId===n,inVoiceChannel:null!=a,canStream:i,stream:o}})(F);t.default=j,e.exports=t.default},7618:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=j(n(2)),o=F(n(17)),i=F(n(39)),l=F(n(6)),s=F(n(3)),u=n(56),d=F(n(446)),c=F(n(132)),f=n(482),p=F(n(20)),h=F(n(41)),v=F(n(108)),m=F(n(181)),y=F(n(64)),_=F(n(14)),g=F(n(130)),E=n(5992),S=j(n(124)),T=F(n(444)),O=F(n(148)),I=F(n(6005)),C=F(n(301)),N=F(n(220)),A=F(n(6015)),M=F(n(308)),P=F(n(125)),b=F(n(6080)),R=n(823),L=n(868),D=F(n(9)),w=n(871),U=F(n(13)),k=F(n(879)),G=F(n(5810));function F(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var B=(0,L.cachedFunction)(function(e,t){var n={};return(0,l.default)(e).forEach(function(e){var r=e.channelId,a=e.userId;if(null!=r){var o=n[r];null==o?n[r]=[a]:a===t?o.unshift(a):o.push(a)}}),n});function H(e){var t=e.children;return x(T.default,{editable:!0,className:G.default.card},void 0,t)}function V(e){var t,n=e.channel,r=e.users,a=e.selected,i=void 0!==a&&a,l=null!=r&&r.length>0?x(b.default,{users:r.map(function(e){return _.default.getUser(e)}),max:5,size:E.AvatarSizes.ACTIVITY_FEED_24,className:G.default.voiceUserList}):null;return x("div",{className:(0,o.default)(G.default.channelInfo,(t={},t[G.default.selected]=i,t))},void 0,x(C.default,{name:n.getTitleIcon(),className:G.default.channelIcon}),x("div",{className:G.default.channelName},void 0,n.name),l)}H.displayName="RowCard",V.displayName="RadioItem";var Y=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).close=function(){(0,n.props.onClose)()},n.handleScroll=function(e){n.setState({topSeparator:e.getScrollbarOffset()>0,bottomSeparator:!e.isScrolledToBottom()})},n.handleSelectChannel=function(e){var t=e.value;n.setState({selectedChannelId:t})},n.handleGoLive=function(){var e=n.props,t=e.settingsGame,r=e.guildId,a=e.currentVoiceChannel;(0,i.default)(null!=t,"Received null settingsGame");var o=n.getTargetChannelID();(0,i.default)(null!=o,"Received null target channel ID");var l=r;if(null==l){var s=p.default.getChannel(o);null!=s&&(l=s.getGuildId())}(0,i.default)(null!=l,"Could not find guild ID for channel"),null==a&&c.default.selectVoiceChannel(l,o);var h=D.default.getDesktopSourceFromPid(t.pid);d.default.setDesktopSource(h,720,30,!0,u.MediaEngineContextTypes.STREAM),(0,f.startGuildStream)(l,o),n.close()};var r=t.voiceChannels;return n.state={selectedChannelId:r.length>0?r[0].id:null,topSeparator:!1,bottomSeparator:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.getTargetChannelID=function(){var e=this.props.currentVoiceChannel,t=this.state.selectedChannelId;return null!=e?e.id:t},l.renderGame=function(){var e=this.props,t=e.settingsGame,n=e.application;return null==t?null:x(R.FormItem,{title:U.default.Messages.GO_LIVE_MODAL_APPLICATION_FORM_TITLE,className:G.default.modalContent,titleClassName:G.default.formItemTitle},void 0,x(H,{},void 0,x(I.default,{game:n,size:I.default.Sizes.XSMALL,className:G.default.gameIcon}),t.name))},l.renderCurrentChannel=function(e){var t=this.props,n=t.currentUserId,r=t.voiceStates,a=B(r,n)[e.id];return x(R.FormItem,{title:U.default.Messages.GO_LIVE_MODAL_CURRENT_CHANNEL_FORM_TITLE,className:G.default.modalContent,titleClassName:G.default.formItemTitle},void 0,x(H,{},void 0,x(V,{channel:e,users:a})))},l.renderChannelSelect=function(){var e,t=this.props,n=t.currentUserId,r=t.voiceChannels,i=t.voiceStates,l=this.state,s=l.selectedChannelId,u=l.topSeparator,d=l.bottomSeparator,c=B(i,n),f=r.map(function(e){return{name:x(V,{channel:e,users:c[e.id],selected:e.id===s}),value:e.id}});return x(a.Fragment,{},void 0,x("div",{className:(0,o.default)(G.default.channelSelectFormTitle,(e={},e[k.default.separator]=u,e))},void 0,x(R.FormTitle,{className:G.default.formItemTitle},void 0,U.default.Messages.GO_LIVE_MODAL_SELECT_CHANNEL_FORM_TITLE)),x(M.default,{fade:!0,theme:M.default.Themes.GHOST_HAIRLINE,outerClassName:G.default.searchScroller,className:G.default.searchScrollerInner,onScroll:this.handleScroll,onUpdate:this.handleScroll},void 0,x(A.default,{options:f,value:s,itemInfoClassName:G.default.channelInfoWrapper,onChange:this.handleSelectChannel})),d?x("div",{className:G.default.scrollerBottomSeparator}):null)},l.renderHeader=function(){return x(N.default.Header,{separator:!1},void 0,x(O.default,{},void 0,x(R.FormTitle,{tag:R.FormTitle.Tags.H4},void 0,U.default.Messages.GO_LIVE_MODAL_TITLE),x(N.default.CloseButton,{onClick:this.close,className:G.default.modalCloseButton})))},l.renderBody=function(){var e=this.props.currentVoiceChannel;return x("div",{className:G.default.modalBody},void 0,x(P.default,{color:P.default.Colors.PRIMARY,size:P.default.Sizes.MEDIUM,weight:P.default.Weights.MEDIUM,className:G.default.modalContent},void 0,U.default.Messages.GO_LIVE_MODAL_DESCRIPTION),this.renderGame(),null!=e?this.renderCurrentChannel(e):this.renderChannelSelect())},l.renderFooter=function(){var e=null==this.props.settingsGame||null==this.getTargetChannelID();return x(N.default.Footer,{justify:O.default.Justify.BETWEEN},void 0,x(S.default,{disabled:e,onClick:this.handleGoLive},void 0,U.default.Messages.GO_LIVE_MODAL_CTA),x(S.default,{color:S.ButtonColors.PRIMARY,onClick:this.close},void 0,U.default.Messages.CANCEL))},l.render=function(){return x(N.default,{size:G.default.modalSize},void 0,this.renderHeader(),this.renderBody(),this.renderFooter())},r}(a.PureComponent);Y.displayName="GoLiveModal";var W=(0,L.cachedFunction)(w.getStreamEligibleChannels),K=s.default.connectStores([p.default,h.default,v.default,m.default,y.default,_.default,g.default],function(e){var t=e.guildId,n=y.default.getSettingsGame(),r=_.default.getCurrentUser(),a=m.default.getChannelId();return{settingsGame:n,application:null!=n?h.default.getGameBySettingGame(n):null,currentUserId:r.id,currentVoiceChannel:p.default.getChannel(a),voiceChannels:W(r,v.default.getChannels(t)),voiceStates:g.default.getVoiceStates(t)}})(Y);t.default=K,e.exports=t.default},7619:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(873)),i=h(n(443)),l=h(n(20)),s=h(n(14)),u=h(n(44)),d=h(n(7169)),c=n(0),f=h(n(13)),p=h(n(5812));function h(e){return e&&e.__esModule?e:{default:e}}var v=200,m=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){var e=t.props.onClose;null!=e&&e()},t.sendToChannel=function(e){var n=t.props,r=n.activity,a=n.onClose,i=e.record.id,s=l.default.getChannel(i);if(null!=s){switch(s.type){case c.ChannelTypes.DM:case c.ChannelTypes.GROUP_DM:u.default.transitionTo(c.Routes.CHANNEL(c.ME,s.id));break;case c.ChannelTypes.GUILD_TEXT:u.default.transitionTo(c.Routes.CHANNEL(s.guild_id,s.id))}setTimeout(function(){return o.default.sendActivityInvite({channelId:i,type:c.ActivityActionTypes.JOIN,activity:r,location:"Activity Panel- Invite to Join"}).then(a,a)},v)}},t.sendToUser=function(e){var n=t.props,r=n.activity,a=n.onClose,l=e.record.id;i.default.openPrivateChannel(s.default.getCurrentUser().id,l).then(function(){o.default.sendActivityInviteUser({userId:l,type:c.ActivityActionTypes.JOIN,activity:r,location:"Activity Panel- Invite to Join"}).then(a,a)})},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){var e=this.props.activity;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{title:f.default.Messages.USER_ACTIVITY_INVITE_TO_JOIN.format({name:e.name}),sendToChannel:this.sendToChannel,sendToUser:this.sendToUser,onClose:this.close,className:p.default.modal})},a}(a.PureComponent);t.default=m,m.displayName="UserActivityInviteModal",e.exports=t.default},7620:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=Ee(n(2)),o=ge(n(17)),i=ge(n(453)),l=ge(n(3)),s=ge(n(6678)),u=n(466),d=n(302),c=ge(n(6090)),f=ge(n(827)),p=ge(n(152)),h=ge(n(865)),v=ge(n(5360)),m=ge(n(12)),y=ge(n(842)),_=ge(n(6198)),g=ge(n(20)),E=ge(n(6113)),S=ge(n(6307)),T=ge(n(41)),O=ge(n(230)),I=ge(n(6101)),C=ge(n(28)),N=ge(n(6252)),A=ge(n(225)),M=ge(n(838)),P=ge(n(149)),b=ge(n(129)),R=ge(n(6031)),L=ge(n(49)),D=ge(n(150)),w=ge(n(35)),U=ge(n(14)),k=ge(n(6313)),G=ge(n(130)),F=ge(n(7621)),j=Ee(n(6002)),x=ge(n(438)),B=n(6071),H=n(106),V=ge(n(314)),Y=ge(n(44)),W=ge(n(6127)),K=n(461),z=ge(n(7622)),$=ge(n(6065)),q=ge(n(6842)),X=ge(n(6843)),Q=ge(n(6848)),J=ge(n(7624)),Z=ge(n(7626)),ee=ge(n(6853)),te=ge(n(7628)),ne=ge(n(5996)),re=Ee(n(6044)),ae=ge(n(6049)),oe=ge(n(5358)),ie=ge(n(7660)),le=ge(n(7661)),se=ge(n(7662)),ue=ge(n(6029)),de=n(6897),ce=ge(n(7746)),fe=ge(n(7198)),pe=ge(n(7749)),he=ge(n(6903)),ve=n(0),me=ge(n(13)),ye=ge(n(312)),_e=ge(n(5471));function ge(e){return e&&e.__esModule?e:{default:e}}function Ee(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Te(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Oe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ie(e){e.preventDefault()}var Ce=/^\+(?!\w+):?(?!:)(\w+)?:?$/,Ne=function(e){function t(t){var n;return(n=e.call(this,t)||this).channelTextAreaRef=a.createRef(),n.draftDidChange=function(e){void 0===e&&(e=n.props);var t=n.state.textValue,r=E.default.getDraft(e.channel.id);t!==r&&n.setState({textValue:r},function(){if(t!==r){var e=n.props.onFocus;e&&e()}})},n.handleKeyDown=function(e){if(!(e.which!==ve.KeyboardKeys.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===n.state.textValue.length){e.preventDefault();var t=n.props.channel,r=A.default.getLastEditableMessage(t.id);r&&p.default.startEditMessage(t.id,r.id,r.content)}},n.handleTextareaChange=function(e,t){var r=n.props.channel.id;c.default.changeDraft(r,n.state.value),""===t||Ce.test(t)?W.default.clear(r):W.default.typing(r),y.default.getLayout(r)===ve.ChannelLayouts.NO_CHAT&&s.default.updateLayout(r,ve.ChannelLayouts.NORMAL),n.setState({textValue:t})},n.handleSendMessage=function(e){if(0===e.length)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var t=n.props,r=t.allowUnclaimed,a=t.channel;return r?((0,u.open)(!0),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):null!=n.channelTextAreaRef.current?(0,B.applyChatRestrictions)(n.channelTextAreaRef.current,e,a).then(function(t){var r=t.valid,o=t.failureReason;return r?(W.default.clear(a.id),p.default.sendMessage(a.id,V.default.parse(a,e)),n.setState({textValue:""}),{shouldClear:!0,shouldRefocus:!0}):o===ve.MessageRestrictionTypes.SLOWMODE_COOLDOWN?(H.ComponentDispatch.dispatch(ve.ComponentActions.SHAKE_APP,{duration:200,intensity:2}),H.ComponentDispatch.dispatch(ve.ComponentActions.EMPHASIZE_SLOWMODE_COOLDOWN),{shouldClear:!1,shouldRefocus:!0}):{shouldClear:!1,shouldRefocus:!1}}):Promise.resolve({shouldClear:!1,shouldRefocus:!1})},n.state={textValue:E.default.getDraft(t.channel.id),value:""},n}Oe(t,e);var n=t.prototype;return n.componentDidMount=function(){E.default.addChangeListener(this.draftDidChange)},n.componentWillUnmount=function(){E.default.removeChangeListener(this.draftDidChange)},n.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props)},n.render=function(){var e=this.props,t=e.channel,n=e.focused,r=e.onResize,o=e.onBlur,i=e.onFocus,l=e.allowUnclaimed,s=me.default.Messages.TEXTAREA_PLACEHOLDER.format({channel:t.toString(!0)});return Te("form",{onSubmit:Ie},void 0,Te(t.isPrivate()?q.default:X.default,{channel:t,allowUnclaimed:l},t.id,Te(re.default,{tutorialId:"writing-messages",position:re.TutorialIndicatorPositions.LEFT,offsetY:-50,offsetX:90},void 0,a.createElement($.default,{ref:this.channelTextAreaRef,value:this.state.textValue,focused:n,className:_e.default.channelTextArea,channel:t,placeholder:s,onChange:this.handleTextareaChange,onSubmit:this.handleSendMessage,onResize:r,onFocus:i,onBlur:o,onKeyDown:this.handleKeyDown,disableAttachments:l,disableActivity:l,disableInvites:l,shouldRenderPremiumGiftButton:!0}))),Te(ee.default,{channel:t}))},t}(a.PureComponent);Ne.displayName="ChannelTextAreaForm";var Ae=l.default.connectStores([F.default,N.default,P.default],function(e){var t=e.guild,n=e.channel,r=!1;if(null!=t&&t.verificationLevel===ve.VerificationLevels.LOW){var a=N.default.getCheck(t.id);null!=a&&a.notClaimed&&P.default.can(ve.Permissions.SEND_MESSAGES,n)&&(r=F.default.shouldAllowUnclaimedChat())}return{allowUnclaimed:r}})(Ne),Me=Te(ie.default,{},"members"),Pe=Te(ie.default,{},"members"),be=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).state={topicExpanded:!1,textAreaFocused:!1},t.getAnalyticsPage=function(){var e=t.props.channel;if(null==e)return null;switch(e.type){case ve.ChannelTypes.GUILD_NEWS:case ve.ChannelTypes.GUILD_TEXT:return ne.default.Pages.GUILD_CHANNEL;case ve.ChannelTypes.GROUP_DM:case ve.ChannelTypes.DM:return ne.default.Pages.DM_CHANNEL;default:return null}},t.resizeChat=function(){H.ComponentDispatch.dispatch(ve.ComponentActions.CHAT_RESIZE)},t.handleInputFocus=function(){(0,K.isFullScreen)()||t.setState({textAreaFocused:!0})},t.handleInputBlur=function(){(document.hasFocus()||t.props.hasModalOpen)&&t.setState({textAreaFocused:!1})},t.handleTitleClick=function(){switch(t.props.channel.type){case ve.ChannelTypes.DM:t.openUserProfile()}},t.handleContextMenu=function(e){switch(t.props.channel.type){case ve.ChannelTypes.GUILD_VOICE:case ve.ChannelTypes.GUILD_NEWS:case ve.ChannelTypes.GUILD_TEXT:t.openChannelContextMenu(e);break;case ve.ChannelTypes.DM:t.openUserContextMenu(e)}},t.handleJumpToPresent=function(){A.default.getMessages(t.props.channel.id).hasMoreAfter&&H.ComponentDispatch.dispatch(ve.ComponentActions.SCROLLTO_PRESENT)},t.renderHeaderToolbar=function(){var e=t.props,n=e.channel,r=e.isLurking,a=[];switch(n.type){case ve.ChannelTypes.DM:a.push(Te(ce.default,{channel:n},"calls")),a.push(Te(se.default,{channel:n},"pins")),a.push(Te(fe.default,{channel:n,tooltip:me.default.Messages.GROUP_DM_ADD_FRIENDS},"invite"));break;case ve.ChannelTypes.GROUP_DM:if(a.push(Te(ce.default,{channel:n},"calls")),a.push(Te(se.default,{channel:n},"pins")),!n.isManaged()){var o=me.default.Messages.GROUP_DM_ADD_FRIENDS;a.push(Te(fe.default,{channel:n,tooltip:o},"invite"))}a.push(Me);break;case ve.ChannelTypes.GUILD_NEWS:case ve.ChannelTypes.GUILD_TEXT:r||a.push(Te(le.default,{channel:n},"mute")),a.push(Te(se.default,{channel:n},"pins")),a.push(Pe)}return a},t.renderHeaderBar=function(){var e=t.props,n=e.appTheme,r=e.channel,a=e.guild,o=e.guildId,i=e.isGuest,l=e.hasCall,s=e.hasVideo,u=e.showMobileIndicator;return Te(ue.default,{guildId:o,channelId:r.id,renderToolbar:t.renderHeaderToolbar,className:_e.default.title,isGuest:i,transparent:!(n===ve.ThemeTypes.LIGHT&&l&&!s)&&l},void 0,(0,de.renderTitle)({channel:r,hasVideo:s,showMobileIndicator:u,handleContextMenu:t.handleContextMenu,handleClick:t.handleTitleClick}),(0,de.renderTopic)(r,a))},t.renderCall=function(){var e=t.props.channel;switch(e.type){case ve.ChannelTypes.GUILD_VOICE:case ve.ChannelTypes.DM:case ve.ChannelTypes.GROUP_DM:return Te(te.default,{channel:e,onResize:t.resizeChat},e.id);default:return null}},t.renderChat=function(){var e=t.props,n=e.channel,r=e.nsfwAgree,a=e.guild,i=t.state.textAreaFocused;return n.type===ve.ChannelTypes.GUILD_VOICE?null:!r&&n.isNSFW()?Te(he.default,{guild:a}):Te(ne.default,{page:t.getAnalyticsPage()},void 0,Te("div",{className:(0,o.default)(ye.default.spacer,ye.default.vertical),style:{position:"relative"}},void 0,Te(Q.default,{channel:n},n.id),Te(Ae,{focused:i,channel:n,guild:a,onResize:t.resizeChat,handleJumpToPresent:t.handleJumpToPresent,onFocus:t.handleInputFocus,onBlur:t.handleInputBlur})))},t.renderSidebar=function(){var e=t.props,n=e.searchId,r=e.channel,a=e.section,o=e.appTheme;if(a===ve.ChannelSections.MEMBERS)switch(r.type){case ve.ChannelTypes.GROUP_DM:return Te(J.default,{channel:r,theme:o});case ve.ChannelTypes.GUILD_NEWS:case ve.ChannelTypes.GUILD_TEXT:return Te(z.default,{channel:r,theme:o})}else if(a===ve.ChannelSections.SEARCH)return Te(Z.default,{searchId:n});return null},t.renderEmptyChannel=function(){var e;return e=null!=t.props.channelId?Te(j.EmptyStateText,{},void 0,Te(x.default,{type:x.default.Type.SPINNING_CIRCLE})):Te(j.EmptyStateText,{note:me.default.Messages.CHANNELS_UNAVAILABLE_BODY},void 0,me.default.Messages.CHANNELS_UNAVAILABLE_TITLE),Te("div",{className:_e.default.noChannel},void 0,Te(j.default,{theme:t.props.theme},void 0,Te(j.EmptyStateImage,{darkSrc:n(7758),lightSrc:n(7759),width:272,height:222}),e))},t}Oe(t,e);var r=t.prototype;return r.componentDidMount=function(){H.ComponentDispatch.subscribe(ve.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),H.ComponentDispatch.subscribe(ve.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur),this.getApplicationsForGuild()},r.componentDidUpdate=function(e){this.props.isEditing===e.isEditing&&this.props.hasModalOpen===e.hasModalOpen||(this.props.isEditing||this.props.hasModalOpen?this.handleInputBlur():this.handleInputFocus()),this.props.channel&&e.channel&&this.props.channel.id!==e.channel.id&&this.state.topicExpanded&&this.setState({topicExpanded:!1}),this.props.section!==e.section&&this.resizeChat(),null==this.props.channel||null!=e.channel&&e.channel.id===this.props.channel.id||this.getApplicationsForGuild();var t=this.props,n=t.channel,r=t.hasCall;null!=n&&n.type===ve.ChannelTypes.GUILD_VOICE&&!r&&e.hasCall&&Y.default.replaceWith(ve.Routes.CHANNEL(n.guild_id))},r.componentWillUnmount=function(){H.ComponentDispatch.unsubscribe(ve.ComponentActions.TEXTAREA_FOCUS,this.handleInputFocus),H.ComponentDispatch.unsubscribe(ve.ComponentActions.TEXTAREA_BLUR,this.handleInputBlur)},r.getApplicationsForGuild=function(){var e=this.props.channel;if(null!=e&&e.type===ve.ChannelTypes.GUILD_NEWS&&P.default.can(ve.Permissions.SEND_MESSAGES,e)){var t=e.getGuildId();null!=t&&null==T.default.getApplicationsForGuild(t)&&f.default.fetchApplications(t,e.id)}},r.openUserProfile=function(){h.default.open(this.props.channel.getRecipientId(),this.props.channel.guild_id)},r.openChannelContextMenu=function(e){var t=this.props,n=t.guild,r=t.channel;(0,d.openContextMenu)(e,function(e){return a.createElement(ae.default,Se({},e,{type:ve.ContextMenuTypes.CHANNEL_TITLE,channel:r,guild:n}))})},r.openUserContextMenu=function(e){var t=this.props.channel;(0,d.openContextMenu)(e,function(e){return a.createElement(oe.default,Se({},e,{type:ve.ContextMenuTypes.USER_CHANNEL_TITLE,user:U.default.getUser(t.getRecipientId()),selected:!0,channelId:t.id}))})},r.render=function(){var e,t=this.props,n=t.channel,r=t.hasCall,a=t.stream;return null!=a?Te(pe.default,{channel:n,stream:a}):!n||n.type===ve.ChannelTypes.GUILD_VOICE&&!r?this.renderEmptyChannel():Te("div",{className:(0,o.default)(_e.default.chat,(e={},e[_e.default.inCall]=r,e))},void 0,Te(i.default,{title:n.toString(!0)}),this.renderHeaderBar(),this.renderCall(),Te("div",{className:_e.default.content},void 0,this.renderChat(),this.renderSidebar()))},t}(a.PureComponent);be.displayName="Channel";var Re=l.default.connectStores([g.default,C.default,L.default,D.default,S.default,M.default,_.default,R.default,y.default,I.default,k.default,G.default,b.default,w.default,O.default,m.default,v.default],function(){var e=L.default.getChannelId(),t=S.default.getEditingMessageId(),n=D.default.getGuildId(),r=y.default.getParticipants(e),a=g.default.getChannel(e),o=null!=a&&a.type===ve.ChannelTypes.DM&&b.default.isMobileOnline(a.getRecipientId()),i=v.default.getActiveStream();return{appTheme:w.default.theme,guildId:n,channelId:e,channel:a,isEditing:null!=t,hasModalOpen:M.default.hasModalOpen(),section:_.default.getSection(),guild:C.default.getGuild(n),searchId:R.default.getCurrentSearchId(),hasCall:r&&r.length>0,nsfwAgree:I.default.didAgree(n),theme:k.default.theme,hasVideo:null!=a&&G.default.hasVideo(n,a.id),showMobileIndicator:o,isLurking:null!=n&&O.default.isLurking(n),isGuest:m.default.isGuest(),stream:null!=i&&i.channelId===e?i:null}})(be);t.default=Re,e.exports=t.default},7621:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=d(n(3)),i=d(n(1)),l=d(n(131)),s=d(n(57)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return!0}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([s.default],c)},a.getExperimentId=function(){return u.Experiments.CHAT_CLAIM_MODAL},a.getMetaData=function(){return{title:"Chat Claim Experiment",description:["Control: Off","Treatment 1: On"]}},a.getExperimentDescriptor=function(){return s.default.getEligibleExperiment(this.getExperimentId())},a.shouldAllowUnclaimedChat=function(){var e=this.getExperimentDescriptor();return null!=e&&(e.override||l.default.trigger(e),e.bucket===u.ExperimentBuckets.TREATMENT_1)},r}(o.default.Store))(i.default);l.default.register(f,((a={})[u.ExperimentTypes.USER]=((r={})[u.ExperimentBuckets.CONTROL]=function(){return null},r[u.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var p=f;t.default=p,e.exports=t.default},7622:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=C(n(2)),o=I(n(304)),i=I(n(6)),l=(I(n(306)),I(n(3))),s=I(n(320)),u=n(302),d=n(7118),c=C(n(6466)),f=I(n(129)),p=I(n(6207)),h=I(n(151)),v=I(n(7170)),m=I(n(821)),y=I(n(177)),_=I(n(6699)),g=C(n(6044)),E=I(n(5358)),S=I(n(5359)),T=n(0),O=I(n(5514));function I(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function N(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=(0,o.default)({displayName:"ChannelMember",mixins:[l.default.StoreListenerMixin(p.default,h.default,f.default)],shouldComponentUpdate:function(e,t){return!(0,s.default)(this.props,e,["channelId"])||!(0,s.default)(this.state,t)},getStateFromStores:function(){return{isTyping:p.default.isTyping(this.props.channelId,this.props.user.id),isFocused:h.default.isFocused(),showMobileIndicator:f.default.isMobileOnline(this.props.user.id)}},renderUserContextMenu:function(e){var t=this;(0,u.openContextMenu)(e,function(e){return a.createElement(E.default,A({},e,{type:T.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channelId}))})},renderUserPopout:function(e){return a.createElement(S.default,A({},e,{user:this.props.user,guildId:this.props.guildId,channelId:this.props.channelId}))},render:function(){var e=this.state,t=e.isFocused,n=e.isTyping,r=e.showMobileIndicator,a=this.props,o=a.colorString,i=a.isOwner,l=a.nick,s=a.user,u=a.activity,d=a.status;return N(m.default,{closeOnScroll:!1,render:this.renderUserPopout,position:m.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,N(v.default,{onContextMenu:this.renderUserContextMenu,shouldAnimateTypingIndicator:t,user:s,nick:l,status:d,activity:u,isOwner:i,colorString:o,darkenColor:d===T.StatusTypes.OFFLINE,isTyping:n,showMobileIndicator:r}))}}),P=function(e){var t=e.id,n=e.title,r=e.count;return t===T.StatusTypes.UNKNOWN?N("div",{className:O.default.membersGroup},void 0,N("div",{className:O.default.memberGroupsPlaceholder})):N("div",{className:O.default.membersGroup},void 0,n,"—",r)},b=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).setList=function(e){t._list=e},t.renderSection=function(e){var n=t.props.groups[e];return a.createElement(P,A({},n,{key:e}))},t.getRowProps=function(e,n){var r=t.props,a=r.groups;return r.rows[a[e].index+1+n]},t.renderRow=function(e,n){var r=t.props.channel,o=t.getRowProps(e,n);return null!=o&&o.type===c.MemberListRowTypes.MEMBER?a.createElement(M,A({key:o.user.id},o,{channelId:r.id,guildId:r.guild_id})):N(v.default,{},e+":"+n)},t.handleScroll=function(){return t.updateSubscription()},t.getDimensions=function(){var e=t._list;if(null==e)return{};var n=e.props.rowHeight,r=e.getContainerHeight();return{height:r,rowHeight:n,rowsVisible:Math.floor(r/n),y:e.getScrollTop()}},t.updateSubscription=i.default.debounce(function(){if(null!=t._list){var e=t.props.channel,n=t.getDimensions(),r=n.rowHeight,a=n.y,o=n.height;(0,d.subscribeChannelDimensions)(e.guild_id,e.id,a,o,r)}},50),t.handleScrollerStateUpdate=function(e){var n=e.items;if(t.lastReportedAnalyticsChannel!==t.props.channel.id){var r=t.getDimensions().rowsVisible;if(0!==r){var a=n.map(function(e){var n=e.section,r=e.row;return t.getRowProps(n,r)}).slice(0,r+1).filter(Boolean);if(0!==a.length){var o=a.reduce(function(e,t){return t.type!==c.MemberListRowTypes.MEMBER?e:(e.num_users_visible++,f.default.isMobileOnline(t.userId)&&e.num_users_visible_with_mobile_indicator++,e)},{num_users_visible:0,num_users_visible_with_mobile_indicator:0});t.lastReportedAnalyticsChannel=t.props.channel.id,y.default.trackWithMetadata(T.AnalyticEvents.MEMBER_LIST_VIEWED,A({},o))}}}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.shouldComponentUpdate=function(e){return e.channel.id!==this.props.channel.id||e.version!==this.props.version},o.componentDidMount=function(){this.updateSubscription()},o.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.updateSubscription()},o.render=function(){var e=this.props,t=e.groups,n=e.listId,r=e.theme;return N(g.default,{tutorialId:"whos-online",position:g.TutorialIndicatorPositions.LEFT,offsetYPercent:-50,offsetX:16,offsetY:16},void 0,N("div",{className:O.default.membersWrap},void 0,a.createElement(_.default,{key:n,ref:this.setList,className:O.default.members,fade:!0,paddingTop:0,theme:_.default.Themes.GHOST_HAIRLINE,sectionHeight:40,rowHeight:40,renderSection:this.renderSection,renderRow:this.renderRow,sections:t.map(function(e){return e.count}),onScroll:this.handleScroll,onScrollerStateUpdate:this.handleScrollerStateUpdate,outerClassName:O.default.scrollerWrap,backgroundColor:r===T.ThemeTypes.LIGHT?"#f3f3f3":T.Colors.PRIMARY_DARK_630})))},r}(a.Component);b.displayName="ChannelMembers";var R=l.default.connectStores([c.default],function(e){var t=e.channel;return c.default.getProps(t.guild_id,t.id)})(b);t.default=R,e.exports=t.default},7623:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=d(n(17)),l=n(5992),s=d(n(148)),u=d(n(5814));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=Object.freeze({SINGLE_AVATAR:"1",MULTIPLE_AVATAR:"2"}),p=((r={})[l.AvatarSizes.SMALL]=u.default.avatarSmall,r[l.AvatarSizes.LARGE]=u.default.avatarLarge,r),h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).placeholderMaxWidth=Math.floor(40*Math.random())+40+"%",t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.type,n=e.avatarSize,r=e.className;return t===f.MULTIPLE_AVATAR?c("div",{className:(0,i.default)(u.default.multiplePlaceholder,r)},void 0,c(s.default,{},void 0,c("div",{className:(0,i.default)(u.default.placeholderAvatar,p[n],u.default.avatarMasked)}),c("div",{className:(0,i.default)(u.default.placeholderAvatar,p[n],u.default.avatarMasked)}),c("div",{className:(0,i.default)(u.default.placeholderAvatar,p[n])})),c(s.default,{grow:1,className:u.default.mulitplePlaceholderUsername,style:{maxWidth:this.placeholderMaxWidth}})):c(s.default,{className:(0,i.default)(u.default.placeholder,r)},void 0,c("div",{className:(0,i.default)(u.default.placeholderAvatar,p[n])}),c(s.default,{grow:1,className:u.default.placeholderUsername,style:{maxWidth:this.placeholderMaxWidth}}))},r}(o.Component);h.displayName="PlaceholderAvatarWithMessage",h.defaultProps={type:f.SINGLE_AVATAR},h.Types=f;var v=h;t.default=v,e.exports=t.default},7624:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(304)),i=(O(n(306)),O(n(439))),l=O(n(3)),s=n(302),u=(O(n(126)),O(n(129))),d=O(n(85)),c=O(n(6207)),f=O(n(14)),p=O(n(151)),h=O(n(7170)),v=O(n(821)),m=O(n(308)),y=n(7625),_=O(n(5358)),g=O(n(5359)),E=n(0),S=O(n(13)),T=O(n(5514));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=(0,o.default)({displayName:"PrivateChannelRecipient",mixins:[l.default.LazyStoreListenerMixin(u.default,d.default,c.default,p.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e,t,n=this.props,r=n.user,a=n.channel;return(d.default.isFriend(r.id)||r===f.default.getCurrentUser())&&(e=u.default.getStatus(r.id),t=u.default.getPrimaryActivity(r.id)),{typing:null!=c.default.getTypingUsers(a.id)[r.id],isFocused:p.default.isFocused(),status:e,activity:t,showMobileIndicator:u.default.isMobileOnline(r.id)}},handleContextMenu:function(e){var t=this.props,n=t.user,r=t.channel;(0,s.openContextMenu)(e,function(e){return a.createElement(_.default,C({},e,{type:E.ContextMenuTypes.USER_GROUP_DM,user:n,channelId:r.id}))})},renderUserPopout:function(e){var t=this.props,n=t.user,r=t.channel;return a.createElement(g.default,C({},e,{user:n,channelId:r.id}))},render:function(){var e=this.props,t=e.user,n=e.channel,r=this.state,a=r.status,o=r.activity,i=r.typing,l=r.isFocused,s=r.showMobileIndicator;return I(v.default,{closeOnScroll:!1,render:this.renderUserPopout,position:v.default.Positions.LEFT,offsetX:15,shadow:!1},void 0,I(h.default,{user:t,isOwner:t.id===n.ownerId,ownerTooltipText:S.default.Messages.GROUP_OWNER,shouldAnimateTypingIndicator:l,isTyping:i,status:a,activity:o,onContextMenu:this.handleContextMenu,showMobileIndicator:s},t.id))}}),A=(0,o.default)({displayName:"PrivateChannelRecipients",mixins:[l.default.LazyStoreListenerMixin(f.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{recipients:(0,y.getRecipients)(this.props.channel.recipients)}},UNSAFE_componentWillReceiveProps:function(e){var t=e.channel;this.setState({recipients:(0,y.getRecipients)(t.recipients)})},renderMembers:function(){var e=this.props.channel;return this.state.recipients.map(function(t){return a.createElement(N,C({},t,{channel:e}))})},render:function(){var e=this.state.recipients,t=this.props.theme;return I("div",{className:T.default.membersWrap},void 0,I(m.default,{className:T.default.members,fade:!0,theme:m.default.Themes.GHOST_HAIRLINE,backgroundColor:t===E.ThemeTypes.LIGHT?"#f3f3f3":E.Colors.PRIMARY_DARK_630,outerClassName:T.default.scrollerWrap},void 0,I("h2",{className:T.default.membersGroup},void 0,S.default.Messages.MEMBERS,"—",e.length),this.renderMembers()))}});t.default=A,e.exports=t.default},7625:function(e,t,n){"use strict";t.__esModule=!0,t.getRecipients=function(e){return(0,r.default)(e).map(a.default.getUser).filter(function(e){return null!=e}).unshift(a.default.getCurrentUser()).sortBy(function(e){return e.username.toLowerCase()}).map(function(e){return{key:e.id,user:e}}).value()};var r=o(n(6)),a=o(n(14));function o(e){return e&&e.__esModule?e:{default:e}}},7626:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=w(n(2)),o=D(n(17)),i=D(n(304)),l=D(n(6)),s=(D(n(306)),D(n(439))),u=D(n(3)),d=D(n(180)),c=D(n(311)),f=D(n(152)),p=w(n(6144)),h=D(n(20)),v=D(n(85)),m=D(n(6031)),y=D(n(49)),_=D(n(35)),g=D(n(305)),E=D(n(219)),S=D(n(821)),T=D(n(308)),O=D(n(7627)),I=D(n(438)),C=D(n(437)),N=D(n(177)),A=D(n(309)),M=D(n(44)),P=D(n(6078)),b=n(0),R=D(n(13)),L=D(n(5817));function D(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function G(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var F="HIT_REF",j=function(e){var t,n,r=e.searchNext,a=e.searchPrevious,i=e.offset,l=e.totalResults,s=e.pageLength,u=Math.ceil(l/s),d=i/s+1,c=d.toLocaleString(),f=u.toLocaleString();if(1===u)return null;var p=d>1,h=d<u;return G("div",{className:L.default.pagination},void 0,G(E.default,{onClick:p?a:null,className:(0,o.default)(L.default.paginationPrevious,(t={},t[L.default.disabled]=!p,t)),"aria-label":R.default.Messages.PAGINATION_PREVIOUS}),R.default.Messages.PAGINATION_PAGE_OF.format({page:c,totalPages:f}),G(E.default,{onClick:h?r:null,className:(0,o.default)(L.default.paginationNext,(n={},n[L.default.disabled]=!h,n)),"aria-label":R.default.Messages.PAGINATION_NEXT}))};j.displayName="Pagination";var x=function(e){var t,n,r=e.searchMode,a=e.searchByMode,i=e.totalResults,s=e.isSearching,u=e.isIndexing,d=e.documentsIndexed,c=(0,l.default)(b.SearchModes).values().map(function(e){var t,n;switch(e){case b.SearchModes.RECENT:n=R.default.Messages.SEARCH_RECENT;break;case b.SearchModes.RELEVANT:n=R.default.Messages.SEARCH_RELEVANT;break;default:n=null}return G(E.default,{className:(0,o.default)(L.default.tab,(t={},t[L.default.selected]=r===e,t)),onClick:a.bind(null,e)},e,n)}).value();if(s)t=R.default.Messages.SEARCHING;else if(u)t=G(g.default,{href:A.default.getArticleURL(b.HelpdeskArticles.SEARCH_INDEXING)},void 0,R.default.Messages.STILL_INDEXING);else{var f=i.toLocaleString();t=R.default.Messages.TOTAL_RESULTS.format({count:f})}return(u||s)&&(n=G("div",{className:L.default.spinnerWrapper},void 0,G(I.default,{type:I.default.Type.SPINNING_CIRCLE,className:L.default.spinner,itemClassName:L.default.spinnerPath}))),u&&!s&&(t=G(C.default,{text:R.default.Messages.SEARCH_STILL_INDEXING_HINT.format({count:d})},void 0,G("div",{className:L.default.totalResultsWrapper},void 0,t,n)),n=null),G("div",{className:L.default.searchHeader},void 0,G("div",{className:L.default.totalResults},void 0,t,n),c)};x.displayName="SearchHeader";var B=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).autoAnalytics=function(e){if(void 0===e&&(e=null),null!=t.props.searchAnalyticsId){var n=0,r=0,a=0,o=0;t.props.searchResults&&(0,l.default)(t.props.searchResults).flatten().filter(function(e){return e.hit}).forEach(function(e){var t=e.message;t.content&&(n++,/https?:\/\/[^\s]+/.test(t.content)&&o++),t.embeds&&t.embeds.length&&a++,t.attachments&&t.attachments.length&&r++}),N.default.trackWithMetadata(b.AnalyticEvents.SEARCH_RESULT_VIEWED,{search_type:t.props.searchType,search_id:t.props.searchAnalyticsId,prev_search_id:e!==t.props.searchAnalyticsId?e:null,is_error:t.props.searchHasError,limit:t.props.searchLimit,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/t.props.searchLimit)+1,total_results:t.props.searchTotalResults,page_results:t.props.searchResults?t.props.searchResults.length:null,is_indexing:t.props.searchIsIndexing,page_num_messages:n,page_num_links:o,page_num_embeds:a,page_num_attach:r})}},t}k(t,e);var n=t.prototype;return n.componentDidMount=function(){this.autoAnalytics()},n.componentDidUpdate=function(e){this.props.searchAnalyticsId===e.searchAnalyticsId&&this.props.searchOffset===e.searchOffset||this.autoAnalytics(e.searchAnalyticsId)},n.render=function(){return null},t}(a.Component);B.displayName="SearchResultsViewedAutoAnalytics";var H=function(e){var t=e.children;return G("div",{className:L.default.emptyResultsWrap},void 0,G("div",{className:L.default.emptyResultsContent},void 0,t))};H.displayName="EmptyResults";var V=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={expanded:!1},t.getDOMRect=function(e){return e.getClientRects()[0]},t.fixScroll=function(){t.state.expanded;var e=t._height;t._height=t.getDOMRect(t.refs[F]).top;var n=t.props.scrollTo;n(e-t._height)},t.renderControlButtons=function(e){var n=e.messages[0];return G("div",{className:L.default.actionButtons},void 0,G(E.default,{className:L.default.jumpButton,onClick:t.props.onJump.bind(null,n)},void 0,R.default.Messages.JUMP))},t.expand=function(){t.setState(function(e){var n=!e.expanded;return n&&N.default.trackWithMetadata(b.AnalyticEvents.SEARCH_RESULT_EXPANDED,{message_id:t.props.result.filter(function(e){return e.hit})[0].message.id,search_id:m.default.getAnalyticsId(t.props.searchId),limit:b.SEARCH_PAGE_SIZE,offset:t.props.searchOffset,page:Math.floor(t.props.searchOffset/b.SEARCH_PAGE_SIZE)+1,page_results:t.props.pageResultsLength,result_index:t.props.index}),{expanded:n}})},t}k(t,e);var n=t.prototype;return n.UNSAFE_componentWillUpdate=function(e,t){this.state.expanded!==t.expanded&&(this._height=this.getDOMRect(this.refs[F]).top)},n.componentDidUpdate=function(e,t){this.state.expanded!==t.expanded&&this.fixScroll()},n.render=function(){var e,t=this,n=this.state.expanded,r=this.props,i=r.result,l=r.developerMode,s=r.renderEmbeds,u=!0,d=i.map(function(e,n){var r,d,c=e.message,f=e.hit,p=h.default.getChannel(c.channel_id),v=!(u=u&&!f)&&!f;return!f&&u&&i[n+1].hit?d=!0:f||u||!i[n-1].hit||(d=!0),null==p?null:a.createElement("div",{ref:f?F:null,className:(0,o.default)(L.default.searchResultMessage,(r={},r[L.default.hit]=f,r[L.default.sibling]=d,r[L.default.before]=u,r[L.default.after]=v,r)),key:c.id},G(P.default,{className:L.default.messageGroupCozy,messages:[c],channel:p,inlineAttachmentMedia:!0,inlineEmbedMedia:!0,renderEmbeds:s,renderEmbedsSmall:!0,developerMode:l,popoutPosition:S.default.Positions.LEFT,groupOption:f?t.renderControlButtons:null,onClickAnywhere:t.expand,disableInteractionLabel:R.default.Messages.VIEW_SURROUNDING_MESSAGES,canEdit:!1}))});return a.createElement("div",{ref:"MESSAGE_REF",className:(0,o.default)(L.default.searchResult,(e={},e[L.default.expanded]=n,e))},d)},t}(a.PureComponent);V.displayName="SearchResult";var Y=G(O.default,{}),W=(0,i.default)({displayName:"SearchResults",mixins:[s.default,u.default.LazyStoreListenerMixin(m.default,_.default)],getInitialState:function(){return U({searchMode:b.SearchModes.RECENT},this.getStateFromStores())},getStateFromStores:function(){var e=this.props.searchId;return this.getStateForSearchId(e)},UNSAFE_componentWillReceiveProps:function(e){var t=this.props.searchId;e.searchId!==t&&this.setState(this.getStateForSearchId(e.searchId))},componentDidUpdate:function(e,t){var n=t.showBlockedResults;if(this.state.showBlockedResults!==n){var r=this.refs.SCROLLER_REF;if(!r)return;r.scrollToBottom()}},getStateForSearchId:function(e){return U({searchId:e,theme:_.default.theme,renderEmbeds:_.default.renderEmbeds,developerMode:_.default.developerMode,searchAnalyticsId:m.default.getAnalyticsId(e),searchType:m.default.getSearchType()},m.default.getResultsState(e))},jumpToMessage:function(e){if(e.blocked)d.default.show({title:R.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:R.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:e.author.username}),confirmText:R.default.Messages.OKAY});else{var t=h.default.getChannel(e.channel_id),n=t?t.getGuildId():null;f.default.trackJump(e.channel_id,e.id,"Search Results",{search_id:m.default.getAnalyticsId(this.state.searchId)}),M.default.transitionTo(b.Routes.CHANNEL(n,e.channel_id,e.id))}},selectChannel:function(e){e!==y.default.getChannelId()&&c.default.transitionToInviteChannelSync(e)},searchPrevious:function(){var e=this.props.searchId;this.state.isSearching||p.searchPreviousPage(e)},searchNext:function(){var e=this.props.searchId;this.state.isSearching||p.searchNextPage(e)},searchByMode:function(e){var t=this.props.searchId,n=this.state,r=n.searchMode,a=n.isSearching;e===r||a||(N.default.trackWithMetadata(b.AnalyticEvents.SEARCH_RESULT_SORT_CHANGED,{search_id:m.default.getAnalyticsId(this.props.searchId),new_sort_type:e}),p.searchByMode(t,e),this.setState({searchMode:e}))},toggleShowBlockedMessages:function(){var e=this.state,t=e.searchId,n=e.showBlockedResults;p.setShowBlockedResults(t,!n)},renderHeader:function(){var e=this.state,t=e.searchMode,n=e.totalResults,r=e.isSearching,a=e.isHistoricalIndexing,o=e.documentsIndexed;return G(x,{searchMode:t,searchByMode:this.searchByMode,totalResults:n,isSearching:r,isIndexing:a,documentsIndexed:o})},renderResults:function(){var e=this,t=this.state,n=t.results,r=t.offset,a=t.renderEmbeds,o=t.developerMode,i=t.totalResults,l=t.isSearching,s=t.showBlockedResults;if(!n)return null;var u,d,c=[],f=n.length;return n.forEach(function(t,n){var r=t.find(function(e){return e.hit});if(s||!r||!v.default.isBlocked(r.message.author.id)){var i,l=h.default.getChannel(t[0].message.channel_id);!l||u&&u.id===l.id||(i=G("div",{className:L.default.channelSeparator},"channel-separator-"+n,G(E.default,{tag:"span",className:L.default.channelName,onClick:e.selectChannel.bind(null,l.id)},void 0,l?l.toString(!0):"???")));var d=G(V,{scrollTo:e.scrollTo,searchId:e.props.searchId,renderEmbeds:a,developerMode:o,searchOffset:e.state.offset,pageResultsLength:f,result:t,index:n,onJump:e.jumpToMessage},"search-result-"+n);c.push(i,d),u=l}}),l||(d=G(j,{searchPrevious:this.searchPrevious,searchNext:this.searchNext,offset:r,totalResults:i,pageLength:b.SEARCH_PAGE_SIZE})),G("div",{className:L.default.resultsWrapper},void 0,G("div",{className:L.default.searchResults},void 0,c,this.renderResultsBlocked()),d)},renderResultsBlocked:function(){var e=this.state,t=e.resultsBlocked,n=e.showBlockedResults;if(!t)return null;var r=n?R.default.Messages.SEARCH_HIDE_BLOCKED_MESSAGES.format({count:t}):R.default.Messages.SEARCH_NUM_RESULTS_BLOCKED_NOT_SHOWN.format({count:t});return G("button",{className:L.default.resultsBlocked,onClick:this.toggleShowBlockedMessages},void 0,G("div",{className:L.default.resultsBlockedImage}),G("div",{className:L.default.resultsBlockedText},void 0,r))},renderIndexing:function(){var e=m.default.getSearchType(this.props.searchId)===b.SearchTypes.GUILD?R.default.Messages.SEARCH_GUILD_STILL_INDEXING:R.default.Messages.SEARCH_DM_STILL_INDEXING;return G(H,{},void 0,Y,G("div",{className:(L.default.emptyResultsText,L.default.stillIndexing)},void 0,e))},renderNoResults:function(){var e,t,n=this.state.showNoResultsAlt,r=n?R.default.Messages.SEARCH_NO_RESULTS_ALT:R.default.Messages.SEARCH_NO_RESULTS;return G(H,{},void 0,G("div",{className:(0,o.default)(L.default.noResultsImage,(e={},e[L.default.alt]=n,e))}),G("div",{className:(0,o.default)(L.default.emptyResultsText,L.default.noResults,(t={},t[L.default.alt]=n,t))},void 0,r))},renderError:function(){return G(H,{},void 0,G("div",{className:L.default.errorImage}),G("div",{className:(0,o.default)(L.default.emptyResultsText,L.default.errorMessage)},void 0,R.default.Messages.SEARCH_ERROR))},renderContent:function(){var e=this.state,t=e.totalResults,n=e.isSearching,r=e.isIndexing;return e.hasError?this.renderError():r?this.renderIndexing():n?null:t?this.renderResults():this.renderNoResults()},render:function(){return G("div",{className:L.default.searchResultsWrap},void 0,this.renderHeader(),a.createElement(T.default,{ref:"SCROLLER_REF",theme:T.default.Themes.GHOST,backgroundColor:this.state.theme===b.ThemeTypes.LIGHT?b.Colors.PRIMARY_DARK_100:b.Colors.PRIMARY_DARK_630,track:!0},this.renderContent()),G(B,{searchType:this.state.searchType,searchAnalyticsId:this.state.searchAnalyticsId,searchResults:this.state.results,searchOffset:this.state.offset,searchLimit:b.SEARCH_PAGE_SIZE,searchHasError:this.state.hasError,searchTotalResults:this.state.totalResults,searchIsIndexing:this.state.isHistoricalIndexing}))},scrollTo:function(e){var t=this.refs.SCROLLER_REF;if(t){var n=t.getScrollData().scrollTop-e;t.scrollTo(n)}}});t.default=W,e.exports=t.default},7627:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(32)),i=s(n(303)),l=s(n(5816));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=function(e){return e.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})};return{transform:[{translateX:t(e.x)},{translateY:t(e.y)}]}}var c=u("defs",{},void 0,u("rect",{id:"search-index-foreground-mask-a",width:"80",height:"80",rx:"40"})),f=u("g",{mask:"url(#search-index-foreground-mask-b)"},void 0,u("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),u("path",{fill:"#FFF",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),u("path",{fill:"#FFD773",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-7.1156 170.8361c0 10.68-8.658 19.338-19.339 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.681 0 19.339 8.658 19.339 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-15.0267 170.8361c0 6.311-5.116 11.427-11.428 11.427-6.31 0-11.426-5.116-11.426-11.427s5.116-11.427 11.426-11.427c6.312 0 11.428 5.116 11.428 11.427z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),u("path",{fill:"#FFF",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),u("path",{fill:"#FFD773",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M6.9479 154.135c0 10.68-8.658 19.338-19.338 19.338-10.68 0-19.338-8.658-19.338-19.338 0-10.68 8.658-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-12.39 165.5622c-6.311 0-11.427-5.116-11.427-11.427s5.116-11.427 11.427-11.427 11.427 5.116 11.427 11.427c0 2.727-.955 5.231-2.55 7.196",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),u("path",{fill:"#FFF",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),u("path",{fill:"#FFD773",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-4.4789 140.9499c0 10.68-8.658 19.338-19.338 19.338-10.681 0-19.338-8.658-19.338-19.338 0-10.68 8.657-19.338 19.338-19.338 10.68 0 19.338 8.658 19.338 19.338z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-23.8168 129.5232c6.311 0 11.427 5.116 11.427 11.427s-5.116 11.427-11.427 11.427c-6.312 0-11.427-5.116-11.427-11.427",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),u("path",{fill:"#FFF",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),u("path",{fill:"#FFD773",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.5348-15.3089c-10.639.941-20.026-6.919-20.968-17.558-.941-10.638 6.92-20.026 17.559-20.967 10.638-.942 20.025 6.919 20.967 17.558.941 10.638-6.919 20.026-17.558 20.967z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M110.2125-35.5789c.556 6.286-4.089 11.833-10.375 12.39-6.287.556-11.834-4.089-12.391-10.375-.555-6.286 4.089-11.834 10.376-12.39",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#C2FFF9",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-76.4877 122.3928l14.704 5.777-8.133 24.358-25.269-4.57 1.997-15.671zm-18.6982 25.5654l33.402-19.788",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-93.1889 132.2868l23.272 20.241-6.571-30.135",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#C2FFF9",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M151.5172-63.3406l4.276 12.99-20.723 8.042-10.921-19.362 11.546-7.33z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M135.6949-69.0003l-.625 26.692 16.447-21.032m-27.3679 1.6701l31.645 11.319",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#E4E9F8",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532"}),u("path",{fill:"#7687B2",d:"M45.3502-64.8382c-.602-2.453-3.078-3.954-5.532-3.353l-102.171 25.056c-2.454.601-3.954 3.078-3.353 5.531l3.489 14.228 111.056-27.234-3.489-14.228z"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M59.7897 13.2502l-102.171 25.055c-2.453.602-4.93-.899-5.531-3.352l-17.794-72.557c-.602-2.454.9-4.93 3.353-5.532l102.171-25.055c2.454-.601 4.931.899 5.533 3.353l17.793 72.556c.601 2.454-.9 4.93-3.354 5.532zM-62.2172-23.3763l111.057-27.234m-95.9164 3.7287l-8.367 21.844m30.0096-27.1517l-8.366 21.844m30.0096-27.1516l-8.366 21.844M17.8522-62.804L9.4862-40.96m30.0095-27.1516l-8.366 21.844",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FF7B78",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M28.693-19.9388c3.986 16.254-5.959 32.661-22.213 36.647-16.254 3.986-32.661-5.959-36.646-22.213-3.987-16.253 5.959-32.661 22.213-36.646 16.252-3.986 32.661 5.959 36.646 22.212z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-16.3051-26.1936l7.999 32.618 26.541-23.798z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z"}),u("path",{fill:"#E4E9F8",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M134.7262 59.3127l-3.195 92.059c-.089 2.585-2.258 4.608-4.843 4.519l-93.619-3.249c-2.586-.09-4.609-2.258-4.519-4.844l4.223-121.705c.09-2.585 2.259-4.608 4.844-4.518l63.972 2.22",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M101.5895 23.7946l33.137 35.518-29.647-1.029c-2.585-.09-4.608-2.258-4.518-4.843l1.028-29.646z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z"}),u("path",{fill:"#E4E9F8",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M143.9596 34.2692l16.058 90.704c.45 2.547-1.249 4.978-3.796 5.429l-92.242 16.329c-2.546.452-4.977-1.248-5.428-3.795l-21.229-119.914c-.451-2.547 1.248-4.978 3.796-5.428l63.031-11.159",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M104.15 6.4353l39.81 27.834-29.21 5.171c-2.547.451-4.978-1.248-5.429-3.796l-5.171-29.209z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#5871B7",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M10.7613-26.0428h117.831c2.829 0 5.123 2.294 5.123 5.123v7.341c0 1.565.716 3.045 1.943 4.016l7 5.542c.659.522.646 1.525-.026 2.029l-6.867 5.151c-1.29.967-2.05 2.485-2.05 4.098v7.685c0 2.829-2.294 5.123-5.123 5.123H10.7613c-2.83 0-5.124-2.294-5.124-5.123v-35.862c0-2.829 2.294-5.123 5.124-5.123zM64.1588 1.2805h-43.147m21.5738-8.1114h-21.574m91.3894 0H49.816m33.9815-8.1118h-62.786",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055"}),u("path",{fill:"#E4E9F8",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M166.0641 58.8137l-21.664 89.53c-.608 2.514-3.14 4.06-5.654 3.451l-91.048-22.031c-2.515-.608-4.06-3.14-3.451-5.654l28.64-118.362c.609-2.515 3.14-4.059 5.655-3.451l62.215 15.055",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M140.7574 17.3513l25.307 41.462-28.832-6.976c-2.515-.609-4.06-3.14-3.452-5.654l6.977-28.832z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#7289DA",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M84.6422 57.6999h-117.832c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.045-1.943-4.017l-7-5.542c-.659-.521-.646-1.525.027-2.029l6.867-5.151c1.29-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h117.832c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-26.3637 22.2653h48.67M6.0826 30.3767h68.309m-100.7553 0h22.799m53.1942 8.1118h14.942m-24.3346 0h4.534m-71.1346 0h54.093m-54.093 8.1113h63.186",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#98AFED",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M63.191 113.1003h-130.64c-2.829 0-5.123-2.293-5.123-5.123v-7.34c0-1.566-.716-3.046-1.943-4.017l-7-5.542c-.658-.521-.646-1.525.026-2.029l6.868-5.151c1.291-.967 2.049-2.485 2.049-4.098v-7.685c0-2.829 2.294-5.123 5.123-5.123h130.64c2.829 0 5.123 2.294 5.123 5.123v35.862c0 2.83-2.294 5.123-5.123 5.123zM-60.6225 77.6657h99.433m-23.4398 8.1114h7.949m-19.6892 0h-64.253m0 8.1118h47.398m-47.398 8.1113h116.122",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#E4E9F8",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574"}),u("path",{fill:"#7687B2",d:"M42.4547-33.7181v-14.743c0-2.527-2.048-4.574-4.574-4.574h-105.198c-2.527 0-4.575 2.047-4.575 4.574v14.743h114.347z"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M37.8805 30.8191h-105.198c-2.527 0-4.574-2.048-4.574-4.574v-74.706c0-2.527 2.047-4.574 4.574-4.574h105.198c2.526 0 4.574 2.047 4.574 4.574v74.706c0 2.526-2.048 4.574-4.574 4.574zM-71.892-33.8123H42.455m-94.0442-19.2231l-13.328 19.223m35.6121-19.223l-13.328 19.223m35.6132-19.223l-13.328 19.223m35.6122-19.223l-13.328 19.223m35.6121-19.223l-13.328 19.223",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FF7B78",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M15.5836-8.8211c0 16.735-13.566 30.302-30.302 30.302-16.735 0-30.302-13.567-30.302-30.302s13.567-30.302 30.302-30.302c16.736 0 30.302 13.567 30.302 30.302z",strokeLinecap:"round",strokeLinejoin:"round"}),u("path",{fill:"#FFF",d:"M-26.6293-25.6136v33.584l31.445-16.792"}),u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M-26.6293-25.6136v33.584l31.445-16.792zM184.3375 8.3772v6.43m3.2149-3.2152h-6.43m-292.9079 79.082v6.43m3.2148-3.2151h-6.43M195.901-43.6692l-1.516 1.515m-6.0611 6.0621l-1.516 1.516m9.0931-.0004l-1.516-1.516m-6.0611-6.0616l-1.516-1.515M-88.642 168.9265l-1.516 1.516m-6.0621 6.0616l-1.516 1.515m9.0941.0001l-1.516-1.515m-6.0621-6.0621l-1.516-1.516M174.3463-8.8211c0 1.775-1.439 3.215-3.215 3.215-1.776 0-3.215-1.44-3.215-3.215s1.439-3.215 3.215-3.215c1.776 0 3.215 1.44 3.215 3.215z",strokeLinecap:"round",strokeLinejoin:"round"})),p=u("path",{fill:"#C9D2F0",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0"}),h=u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M89.8311 190.9259c-2.441-2.441-2.441-6.4 0-8.841l36.771-36.771 8.841 8.841-36.771 36.771c-2.441 2.441-6.4 2.441-8.841 0z",strokeLinecap:"round",strokeLinejoin:"round"}),v=u("path",{fill:"#9F7373",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0"}),m=u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M100.1458 189.4524l-8.841-8.841c-1.628-1.628-1.628-4.267 0-5.894l17.437-17.437c1.627-1.628 4.266-1.628 5.894 0l8.841 8.841c1.628 1.628 1.628 4.267 0 5.894l-17.437 17.437c-1.627 1.628-4.266 1.628-5.894 0z",strokeLinecap:"round",strokeLinejoin:"round"}),y=u("path",{fill:"#F3F9FF",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0m63.895-63.895c-19.667-19.667-51.554-19.667-71.221 0s-19.667 51.554 0 71.221 51.554 19.667 71.221 0 19.667-51.554 0-71.221"}),_=u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M196.0069 155.9708c-19.667 19.667-51.554 19.667-71.221 0s-19.667-51.554 0-71.221 51.554-19.667 71.221 0 19.667 51.554 0 71.221z",strokeLinecap:"round",strokeLinejoin:"round"}),g=u("path",{stroke:"#1E2126",strokeWidth:"2",d:"M132.1122 148.6448c-15.621-15.621-15.621-40.948 0-56.569 15.621-15.621 40.948-15.621 56.569 0 15.621 15.621 15.621 40.948 0 56.569-15.621 15.621-40.948 15.621-56.569 0z",strokeLinecap:"round",strokeLinejoin:"round"}),E=u("path",{d:"M84 66h130v130H84z"}),S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={x:new i.default.Value(0),y:new i.default.Value(0)},t._isMounted=!1,t.shouldLoop=function(){return t._isMounted},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this._isMounted=!0;var e=this.state,t=e.x,n=e.y;"Firefox"!==o.default.name&&(i.default.animate(t,{loop:!0,toValueMin:-74,toValueMax:95,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}),i.default.animate(n,{loop:!0,toValueMin:-59,toValueMax:75,overshootClamping:!0,friction:5,tension:1,shouldLoop:this.shouldLoop}))},a.componentWillUnmount=function(){this._isMounted=!1},a.render=function(){return u("div",{className:l.default.searchIndexAnimation},void 0,u("div",{className:l.default.searchIndexBackground}),u("svg",{className:l.default.searchIndexForeground,width:"320",height:"280"},void 0,c,u("g",{fill:"none",fillRule:"evenodd"},void 0,u("g",{transform:"translate(120 80)"},void 0,u("mask",{id:"search-index-foreground-mask-b",fill:"#fff"},void 0,u(i.default.use,{style:d(this.state),className:l.default.mask,xlinkHref:"#search-index-foreground-mask-a"})),f),u(i.default.g,{className:l.default.magnifyingGlass,style:d(this.state)},void 0,p,h,v,m,y,_,g,E))))},r}(a.Component);S.displayName="SearchIndexForeground";var T=S;t.default=T,e.exports=t.default},7628:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=le(n(2)),i=ie(n(17)),l=ie(n(6)),s=n(96),u=ie(n(3)),d=n(56),c=n(78),f=ie(n(446)),p=ie(n(6678)),h=n(302),v=ie(n(77)),m=ie(n(132)),y=ie(n(824)),_=ie(n(942)),g=ie(n(6597)),E=ie(n(12)),S=ie(n(328)),T=ie(n(842)),O=ie(n(46)),I=ie(n(859)),C=ie(n(833)),N=ie(n(310)),A=ie(n(64)),M=ie(n(307)),P=ie(n(35)),b=ie(n(14)),R=ie(n(130)),L=ie(n(151)),D=ie(n(6698)),w=le(n(124)),U=ie(n(219)),k=ie(n(148)),G=ie(n(301)),F=ie(n(6115)),j=ie(n(7629)),x=ie(n(6856)),B=ie(n(6681)),H=ie(n(7171)),V=ie(n(6857)),Y=ie(n(7632)),W=ie(n(6700)),K=ie(n(7633)),z=ie(n(437)),$=n(106),q=n(462),X=n(461),Q=ie(n(450)),J=le(n(7634)),Z=ie(n(6874)),ee=ie(n(5358)),te=ie(n(7636)),ne=ie(n(6875)),re=n(0),ae=ie(n(13)),oe=ie(n(5830));function ie(e){return e&&e.__esModule?e:{default:e}}function le(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ce(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var fe=((r={})[re.ChannelLayouts.NORMAL]=oe.default.normal,r[re.ChannelLayouts.MINIMUM]=oe.default.minimum,r[re.ChannelLayouts.NO_CHAT]=oe.default.noChat,r[re.ChannelLayouts.FULL_SCREEN]=oe.default.fullScreen,r),pe={grey:{screenshare:n(7642),camera:n(7643),cameraOff:n(7644),cameraOffHover:n(7645),fullScreen:n(7646),fullScreenOff:n(7647),mute:n(7648),muteHover:n(7649),muteOff:n(7650),settings:n(7651)},white:{screenshare:n(7652),camera:n(7653),cameraOff:n(7654),cameraOffHover:n(7655),fullScreen:n(7656),fullScreenOff:n(7657),mute:n(7658),muteHover:n(6696),muteOff:n(6695),settings:n(7659)}},he=function(e){var t=e.value,n=e.activeTooltip,r=e.inactiveTooltip,a=e.activeSrc,o=e.inactiveSrc,i=e.activeSrcHover,l=e.inactiveSrcHover,s=e.onChange;return ce(z.default,{text:t?n:r},void 0,ce(B.default,{className:oe.default.toggleButton,value:t,activeSrc:a,inactiveSrc:o,activeSrcHover:i,inactiveSrcHover:l,onChange:s}))};he.displayName="ToggleButton";var ve=function(e){function t(){return e.apply(this,arguments)||this}return de(t,e),t.prototype.render=function(){var e=this.props,t=e.color,n=e.muted,r=e.onChange;return ce(he,{value:n,activeTooltip:ae.default.Messages.UNMUTE,inactiveTooltip:ae.default.Messages.MUTE,activeSrc:pe[t].mute,activeSrcHover:pe[t].muteHover,inactiveSrc:pe[t].muteOff,onChange:r})},t}(o.PureComponent);ve.displayName="MuteButton";var me=u.default.connectStores([O.default],function(){return{muted:O.default.isSelfMute()||O.default.isSelfMutedTemporarily()}})(ve),ye=function(e){var t=e.color,n=e.onClick;return ce(z.default,{text:ae.default.Messages.USER_SETTINGS},void 0,ce(F.default,{className:oe.default.actionButton,src:pe[t].settings,onClick:n}))};ye.displayName="SettingsButton";var _e=function(e){function t(t){var n;return ue(n=e.call(this,t)||this).handleDoubleClick=n.handleDoubleClick.bind(ue(n)),ue(n).handleContextMenu=n.handleContextMenu.bind(ue(n)),n}de(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.className,n=e.children;return ce("div",{className:t,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,n)},n.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,r=t.id;n&&n(e,r)},n.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,r=t.id;n&&n(e,r)},t}(o.PureComponent);_e.displayName="VideoWrapper";var ge=ce(x.default,{}),Ee=ce(x.default,{}),Se=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ringingSound=(0,q.createSound)("call_calling"),n._prevLayout=re.ChannelLayouts.MINIMUM,n._callRef=null,n._timeout=new c.Timeout,l.default.bindAll(ue(n),["handleToggleCamera","handleStartVideo","handleStartScreenShare","handleToggleSelfMute","handleConnect","handleDisconnect","handleOpenSettings","handleChangeLayout","handleToggleLayout","handleFullScreen","handleDoubleClick","handleOpenUserContextMenu","handleCameraUnavailable","handleScreenshareUnavailable","setCallRef","handleFullScreenChange"]),n}de(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener(X.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},n.componentWillUnmount=function(){this.stopRinging(),this._timeout.stop(),document.removeEventListener(X.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenChange)},n.componentDidUpdate=function(e){var t=this.props,n=t.onResize,r=t.call,a=t.participants,o=t.inCall,i=t.mode,l=t.layout;if(e.mode===re.ChannelModes.VIDEO&&i===re.ChannelModes.VOICE&&(0,X.isFullScreen)()){var u=(0,s.findDOMNode)(this._callRef);(0,X.exitFullScreen)(u,_.default.resized)}null!=n&&e.participants!==a&&n(),null!=n&&e.layout!==l&&(this._timeout.stop(),this._timeout.start(350,n)),null!=r&&r.ringing.length>0&&o&&1===a.filter(function(e){return!e.ringing}).length?this.startRinging():this.stopRinging()},n.handleFullScreenChange=function(){(0,X.isFullScreen)()||this.props.layout!==re.ChannelLayouts.FULL_SCREEN||this.handleFullScreen()},n.handleFullScreen=function(){var e=(0,s.findDOMNode)(this._callRef);this.props.layout!==re.ChannelLayouts.FULL_SCREEN?(this._prevLayout=this.props.layout,this.handleChangeLayout(re.ChannelLayouts.FULL_SCREEN),(0,X.requestFullScreen)(e,_.default.resized)):(this.handleChangeLayout(this._prevLayout),(0,X.exitFullScreen)(e,_.default.resized))},n.handleStartVideo=function(){f.default.setVideoEnabled(!0)},n.handleToggleCamera=function(e){e!==this.props.videoEnabled&&(f.default.setVideoEnabled(e),this.handleStartScreenShare(!1))},n.handleStartScreenShare=function(e,t){if(e!==this.props.screenSharingEnabled){var n=this.props.channel,r=A.default.getCurrentGame();e&&null==r?g.default.open(n):t?(0,h.openContextMenu)(t,function(e){return o.createElement(Z.default,se({},e,{channel:n,game:r}))}):f.default.setDesktopSource(null)}},n.handleToggleLayout=function(){this.handleChangeLayout(this.props.layout===re.ChannelLayouts.NORMAL?re.ChannelLayouts.NO_CHAT:re.ChannelLayouts.NORMAL)},n.handleChangeLayout=function(e){this.props.layout!==e&&(p.default.updateLayout(this.props.channel.id,e),e===re.ChannelLayouts.FULL_SCREEN&&$.ComponentDispatch.dispatch(re.ComponentActions.TEXTAREA_BLUR))},n.handleToggleSelfMute=function(){f.default.toggleSelfMute()},n.handleDisconnect=function(){this.props.layout===re.ChannelLayouts.FULL_SCREEN&&this.handleFullScreen(),m.default.selectVoiceChannel(null,null)},n.handleConnect=function(e){var t=this.props.channel;m.default.selectVoiceChannel(t.getGuildId(),t.id,e===j.default.Type.VIDEO)},n.handleOpenSettings=function(){y.default.open(re.UserSettingsSections.VOICE)},n.handleOpenUserContextMenu=function(e,t){var n=this;(0,h.openContextMenu)(e,function(e){return o.createElement(ee.default,se({},e,{type:re.ContextMenuTypes.USER_GROUP_DM,user:b.default.getUser(t),channelId:n.props.channel.id}))})},n.handleDoubleClick=function(e,t){var n=this.props,r=n.channel,a=n.selectedParticipantId;null==a?p.default.selectParticipant(r.id,t):a===t&&p.default.selectParticipant(r.id,null)},n.handleCameraUnavailable=function(){var e=this,t=this.props.cameraGranted;v.default.push(function(n){return o.createElement(ne.default,se({},n,{title:ae.default.Messages.CAMERA_UNAVAILABLE,description:t?ae.default.Messages.CAMERA_NO_DEVICE:ae.default.Messages.CAMERA_NO_ACCESS,confirmText:t?ae.default.Messages.OKAY:ae.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:t?v.default.pop:e.handleStartVideo}))})},n.handleScreenshareUnavailable=function(){function e(){v.default.push(Q.default,{source:"Screenshare Unavailable"})}v.default.push(function(t){return o.createElement(ne.default,se({},t,{title:ae.default.Messages.SCREENSHARE_UNAVAILABLE,description:ae.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:ae.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},n.renderRegionSelect=function(){var e,t=this.props,n=t.call,r=t.channel;return t.layout===re.ChannelLayouts.FULL_SCREEN||null==n||r.isManaged()||(e=ce(J.default,{call:n})),ce(k.default,{justify:k.default.Justify.END,className:oe.default.info},void 0,e)},n.renderParticipants=function(){var e=this.props,t=e.selectedParticipantId,n=e.participants,r=e.mode,a=e.layout,o=e.channel,i=e.inCall,l=e.videoEnabled;return a!==re.ChannelLayouts.MINIMUM&&null==t?null:ce(te.default,{channelId:o.id,participants:n,mode:r,layout:a,inCall:i,videoEnabled:l,onContextMenu:this.handleOpenUserContextMenu})},n.renderLeftButtonGroups=function(){var e,t=this,n=this.props,r=n.channel,a=n.mode,o=n.layout,l=n.mentionCount;if(a===re.ChannelModes.VOICE||!r.isPrivate())return null;if(o!==re.ChannelLayouts.FULL_SCREEN&&o!==re.ChannelLayouts.NO_CHAT||(e=ce(D.default,{className:oe.default.badge,value:l})),o===re.ChannelLayouts.FULL_SCREEN){return ce(k.default,{className:(0,i.default)(oe.default.iconsWrapper,oe.default.side),align:k.default.Align.CENTER,grow:0},void 0,ce(U.default,{onClick:function(){t._prevLayout=re.ChannelLayouts.NORMAL,t.handleFullScreen()}},void 0,ce(G.default,{className:oe.default.iconButton,color:re.Colors.WHITE,name:G.default.Names.ARROW_UP})),e)}return ce(k.default,{className:(0,i.default)(oe.default.iconsWrapper,oe.default.side),align:k.default.Align.CENTER,grow:0},void 0,ce(U.default,{onClick:this.handleToggleLayout},void 0,ce(G.default,{className:oe.default.iconButton,color:re.Colors.WHITE,name:o===re.ChannelLayouts.NO_CHAT?G.default.Names.ARROW_UP:G.default.Names.ARROW_DOWN})),e)},n.renderRightButtonGroups=function(e){var t=this.props,n=t.mode,r=t.layout;return n===re.ChannelModes.VOICE?null:ce(k.default,{className:(0,i.default)(oe.default.iconsWrapper,oe.default.side),align:k.default.Align.CENTER,grow:0},void 0,ce(F.default,{className:oe.default.actionButton,src:r===re.ChannelLayouts.FULL_SCREEN?pe[e].fullScreenOff:pe[e].fullScreen,onClick:this.handleFullScreen}))},n.renderVideoButton=function(e){var t=this.props,n=t.videoEnabled,r=t.cameraGranted,a=t.cameraDisabled;return!1===r||!0===a?ce(z.default,{text:r?ae.default.Messages.CAMERA_UNAVAILABLE:ae.default.Messages.CAMERA_NOT_ENABLED},void 0,ce(F.default,{className:(0,i.default)(oe.default.actionButton,oe.default.unavailable),src:pe[e].camera,onClick:this.handleCameraUnavailable})):ce(he,{value:n,activeTooltip:ae.default.Messages.CAMERA_OFF,inactiveTooltip:ae.default.Messages.CAMERA_ON,activeSrc:pe[e].camera,inactiveSrc:pe[e].cameraOff,inactiveSrcHover:pe[e].cameraOffHover,onChange:this.handleToggleCamera})},n.renderScreenshareButton=function(e){var t=this.props,n=t.cameraGranted,r=t.screenSharingEnabled,a=t.screenshareUnavailable;return t.layout===re.ChannelLayouts.FULL_SCREEN?null:a?ce(z.default,{text:ae.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,ce(F.default,{className:(0,i.default)(oe.default.actionButton,oe.default.unavailable),src:pe[e].screenshare,onClick:this.handleScreenshareUnavailable})):!1===n?ce(z.default,{text:ae.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,ce(F.default,{className:(0,i.default)(oe.default.actionButton,oe.default.unavailable),src:pe[e].screenshare})):ce(he,{value:r,activeTooltip:ae.default.Messages.SCREEN_SHARE_OPTIONS,inactiveTooltip:ae.default.Messages.SCREEN_SHARE_ON,activeSrc:pe[e].screenshare,inactiveSrc:pe[e].screenshare,onChange:this.handleStartScreenShare})},n.renderSettingsButton=function(e){return this.props.layout!==re.ChannelLayouts.FULL_SCREEN?ce(ye,{color:e,onClick:this.handleOpenSettings}):null},n.renderActionButtonGroups=function(){var e=this.props,t=e.channel,n=e.mode,r=e.layout,a=e.inCall,o=e.theme,l=e.cameraGranted,s=e.cameraDisabled,u=e.video,d=t.isManaged()||!t.isPrivate();if(!a){var c=n===re.ChannelModes.VIDEO&&l&&!s?j.default.Type.VIDEO:j.default.Type.VOICE;return ce(k.default,{className:oe.default.actions,justify:k.default.Justify.CENTER},void 0,ce(j.default,{type:c,onClick:this.handleConnect,text:d?ae.default.Messages.CONNECT:ae.default.Messages.JOIN_CALL}))}var f=o===re.ThemeTypes.LIGHT&&r===re.ChannelLayouts.MINIMUM?"grey":"white";return u?ce(k.default,{className:oe.default.actions,justify:k.default.Justify.BETWEEN},void 0,ce(k.default,{basis:"50%"},void 0,this.renderLeftButtonGroups()),ce(k.default,{className:(0,i.default)(oe.default.iconsWrapper,oe.default.center),align:k.default.Align.CENTER,justify:k.default.Justify.CENTER,grow:0},void 0,this.renderScreenshareButton(f),this.renderVideoButton(f),ce(w.default,{className:oe.default.exitButton,color:w.ButtonColors.RED,size:w.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,d?ae.default.Messages.DISCONNECT:ae.default.Messages.LEAVE_CALL),ce(me,{color:f,onChange:this.handleToggleSelfMute}),this.renderSettingsButton(f)),ce(k.default,{justify:k.default.Justify.END,basis:"50%"},void 0,this.renderRightButtonGroups(f))):ce(k.default,{className:oe.default.actions,justify:k.default.Justify.CENTER},void 0,ce(k.default,{className:(0,i.default)(oe.default.iconsWrapper,oe.default.center),align:k.default.Align.CENTER,justify:k.default.Justify.CENTER,grow:0},void 0,ce(me,{color:f,onChange:this.handleToggleSelfMute}),ce(w.default,{className:(0,i.default)(oe.default.exitButton,oe.default.voice),color:w.ButtonColors.RED,size:w.ButtonSizes.SMALL,onClick:this.handleDisconnect},void 0,d?ae.default.Messages.DISCONNECT:ae.default.Messages.LEAVE_CALL),this.renderSettingsButton(f)))},n.calculateGridSize=function(e){var t=this.props,n=t.windowSize,r=t.layout,a=n.width,o=n.height;switch(r){case re.ChannelLayouts.NORMAL:a-=re.LEFT_PANEL_WIDTH,o/=2;break;case re.ChannelLayouts.NO_CHAT:a-=re.LEFT_PANEL_WIDTH}o=Math.max(o,275),o-=120;var i=e<4?1:2,l=Math.floor(e/i)+(i>1&&e%2!=0?2:0),s=a>o?Y.default.Mode.LANDSCAPE:Y.default.Mode.PORTRAIT;if(s===Y.default.Mode.PORTRAIT){var u=i;i=l,l=u}var d=1*l/i,c=o*(16/9*l/i);return c<a?{mode:s,style:{width:c/a*100+"%",height:"100%"}}:(c=o*d)<a?{mode:s,style:{width:"100%",height:"100%"}}:{mode:s,style:{width:"100%",height:a/d/o*100+"%"}}},n.renderBackground=function(){var e=this,t=this.props,n=t.layout,r=t.selectedParticipantId,a=t.videoEnabled,i=t.participants,l=O.default.getMediaEngine().Video,s=E.default.getId();if(n===re.ChannelLayouts.MINIMUM)return null;if(null==r){if(1===i.length&&i[0].quality===re.RTCReceivedVideoQuality.OFF)return ge;var u=i.map(function(t){var n=t.user,r=t.voiceState,o=t.streamId,i=t.quality,u=n.id===s&&a;return ce(K.default,{user:n,mirror:u,streamId:o,videoComponent:l,muted:r&&(r.mute||r.selfMute)||!1,deafen:r&&(r.deaf||r.selfDeaf)||!1,hasVideo:r&&r.selfVideo||!1,onDoubleClick:e.handleDoubleClick,onContextMenu:e.handleOpenUserContextMenu,poorConnection:i===re.RTCReceivedVideoQuality.OFF},n.id)});return ce(k.default,{justify:k.default.Justify.CENTER,align:k.default.Align.CENTER,className:oe.default.videoBackgroundWrapper},void 0,o.createElement(Y.default,se({className:oe.default.videoBackground},this.calculateGridSize(u.length)),u))}var d=i.find(function(e){return e.user.id===r});if(null==d)return null;var c,f=d.voiceState,p=d.user,h=d.streamId,v=d.quality;return c=f&&f.selfVideo&&null!=l?v===re.RTCReceivedVideoQuality.OFF?Ee:ce(W.default,{streamId:h,mirror:r===s&&a,videoComponent:l}):ce(V.default,{user:p,avatarSize:V.default.AvatarSizes.PROFILE}),ce(_e,{className:oe.default.videoBackground,id:r,onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleOpenUserContextMenu},void 0,c)},n.render=function(){var e=this.props,t=e.participants,n=e.layout,r=e.selectedParticipantId,a=e.inCall,l=e.focused;return t&&t.length?o.createElement(H.default,{ref:this.setCallRef,className:(0,i.default)(oe.default.wrapper,fe[n]),animated:a,layout:n,focused:l,backgroundKey:r,background:this.renderBackground(),top:this.renderRegionSelect(),center:this.renderParticipants(),bottom:this.renderActionButtonGroups()}):null},n.setCallRef=function(e){this._callRef=e},n.startRinging=function(){this.props.disableSounds||I.default.isSoundDisabled("call_calling")||this._ringingSound.loop()},n.stopRinging=function(){this._ringingSound.stop()},t}(o.PureComponent);Se.displayName="PrivateChannelCall";var Te=u.default.connectStores([T.default,M.default,S.default,O.default,R.default,P.default,C.default,N.default,L.default],function(e){var t=e.channel,n=O.default.supports(d.Features.VIDEO),r=T.default.getParticipants(t.id),a=R.default.isInChannel(t.getGuildId(),t.id),o=n?T.default.getMode(t.id):re.ChannelModes.VOICE,i=(0,l.default)(O.default.getVideoDevices()).values().first(),s=null==i||i.disabled,u=a&&o===re.ChannelModes.VIDEO?T.default.getLayout(t.id):re.ChannelLayouts.MINIMUM;return u!==re.ChannelLayouts.FULL_SCREEN&&t.type===re.ChannelTypes.GUILD_VOICE&&(u=re.ChannelLayouts.NO_CHAT),u===re.ChannelLayouts.NO_CHAT&&(o=re.ChannelModes.VIDEO),{channel:t,video:n,mode:o,participants:r,selectedParticipantId:T.default.getSelectedParticipantId(t.id),call:S.default.getCall(t.id),inCall:a,layout:u,disableSounds:M.default.disableSounds,videoEnabled:O.default.isVideoEnabled(),screenSharingEnabled:O.default.isScreenSharing(),theme:P.default.theme,cameraGranted:O.default.isEnabled(),cameraDisabled:s||!O.default.isEnabled(),screenshareUnavailable:!O.default.supports(d.Features.DESKTOP_CAPTURE),focused:C.default.isOpen(J.QUICK_REGION_SELECT_KEY),mentionCount:N.default.getMentionCount(t.id),windowSize:L.default.windowSize()}})(Se);t.default=Te,e.exports=t.default},7629:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(6)),i=n(96),l=f(n(303)),s=p(n(124)),u=f(n(148)),d=f(n(13)),c=f(n(5818));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _={VOICE:"voice",VIDEO:"video"},g={friction:16,tension:400},E=function(e){function t(t){var n;return m(n=e.call(this,t)||this).handleClick=n.handleClick.bind(m(n)),n}y(t,e);var n=t.prototype;return n.render=function(){return v(u.default,{className:c.default.callButton,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER,onClick:this.handleClick},void 0,this.props.children)},n.handleClick=function(){var e=this.props,t=e.type,n=e.onClick;n&&n(t)},t}(a.PureComponent);E.displayName="CallButton";var S=function(e){function t(t){var n;return(n=e.call(this,t)||this)._width=0,n._left=0,n.state={hovered:!1,offsetX:new l.default.Value(0)},o.default.bindAll(m(n),["handleMouseMove","handleMouseLeave","handleVoiceButtonClick"]),n}y(t,e);var r=t.prototype;return r.renderVoiceButton=function(){return v(s.default,{className:c.default.joinVoiceCallButton,size:s.ButtonSizes.SMALL,color:s.ButtonColors.GREEN,onClick:this.handleVoiceButtonClick},void 0,this.props.text)},r.renderUnderlay=function(){var e=this.state,t=e.hovered,n={transform:[{translateX:e.offsetX.interpolate({inputRange:[0,1],outputRange:["0px","1px"]})}],opacity:t?1:0};return v(l.default.div,{className:c.default.underlay,style:n})},r.renderVideoButton=function(){return v("div",{className:c.default.joinVideoCallButton,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnderlay(),v(u.default,{className:c.default.inner,align:u.default.Align.CENTER,justify:u.default.Justify.CENTER},void 0,v(E,{type:_.VIDEO,onClick:this.props.onClick},void 0,v("img",{alt:"",className:c.default.icon,src:n(7630)}),v("div",{className:c.default.buttonText},void 0,d.default.Messages.VIDEO)),v("div",{className:c.default.callDivider}),v(E,{type:_.VOICE,onClick:this.props.onClick},void 0,v("div",{className:c.default.buttonText},void 0,d.default.Messages.VOICE),v("img",{alt:"",className:c.default.icon,src:n(7631)}))))},r.render=function(){return this.props.type===_.VOICE?this.renderVoiceButton():this.renderVideoButton()},r.handleVoiceButtonClick=function(){var e=this.props.onClick;e&&e(_.VOICE)},r.handleMouseMove=function(e){var t=e.clientX;if(0===this._width){var n=(0,i.findDOMNode)(this);if(null==n||n instanceof Text)throw new Error("[UIKit]JoinCallButton.handleMouseOver(): assert failed: domNode instanceof Element");this._left=n.getBoundingClientRect().left,this._width=n.getBoundingClientRect().width}var r=Math.min(this._width/2-4,Math.max(0,t-this._left-this._width/4));l.default.spring(this.state.offsetX,h({toValue:r},g)).start(),this.state.hovered||this.setState({hovered:!0})},r.handleMouseLeave=function(){this.setState({hovered:!1})},t}(a.PureComponent);S.displayName="JoinCallButton",S.defaultProps={type:_.VOICE,text:d.default.Messages.JOIN_CALL},S.Type=_;var T=S;t.default=T,e.exports=t.default},7630:function(e,t,n){e.exports=n.p+"0682cf612d4fed39efb57e0a1bcc8544.svg"},7631:function(e,t,n){e.exports=n.p+"8b47456a037cc496c55ae8f871274018.svg"},7632:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=s(n(5357)),l=s(n(5822));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var d={LANDSCAPE:"landscape",PORTRAIT:"portrait"},c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderContent=function(){var e=this.props,t=e.mode,n=e.children;if(null==n)return null;for(var r=t===d.LANDSCAPE?l.default.horizontal:l.default.vertical,a=t===d.LANDSCAPE?l.default.vertical:l.default.horizontal,s=n.length,c=s>3&&s%2>0?Math.floor(s/2):-1,f=[],p=[],h=s>3?2:1,v=0;v<s;v++)v===c?f.push(u("div",{style:{flex:2},className:l.default.flex},v,n[v])):p.push(n[v]),p.length===h&&(f.push(u("div",{style:{flex:1},className:(0,o.default)(a,i.default.marginReset)},v,p)),p=[]);return u("div",{className:(0,o.default)(r,l.default.content)},void 0,f)},a.render=function(){var e=this.props,t=e.style,n=e.className;return u("div",{className:(0,o.default)(l.default.wrapper,n),style:t},void 0,this.renderContent())},r}(a.PureComponent);c.displayName="VideoGrid",c.Mode=d,c.defaultProps={mode:d.LANDSCAPE};var f=c;t.default=f,e.exports=t.default},7633:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=f(n(301)),l=f(n(6856)),s=f(n(6857)),u=f(n(6700)),d=n(0),c=f(n(5824));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=p(l.default,{isCondensed:!0}),v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleDoubleClick=function(e){var n=t.props,r=n.onDoubleClick,a=n.user;r&&r(e,a.id)},t.handleContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.user;r&&r(e,a.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderContent=function(){var e=this.props,t=e.streamId,n=e.videoComponent,r=e.mirror,a=e.user;return e.hasVideo&&null!=n?p(u.default,{className:(0,o.default)(c.default.content,c.default.video),mirror:r,streamId:t,videoComponent:n,fit:u.default.Fit.COVER}):null!=a?p("div",{className:c.default.content},void 0,p(s.default,{user:a,avatarSize:s.default.AvatarSizes.XXLARGE})):null},a.renderOverlay=function(){var e=this.props,t=e.muted,n=e.deafen;return e.poorConnection?h:n||t?p(i.default,{className:c.default.status,width:20,height:20,color:d.Colors.WHITE,name:n?i.default.Names.DEAFENED:i.default.Names.MUTED}):null},a.render=function(){return p("div",{style:this.props.style,className:(0,o.default)(c.default.wrapper,this.props.className),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderContent(),this.renderOverlay())},r}(a.PureComponent);v.displayName="VideoTile",v.defaultProps={ringing:!1,muted:!1,deafen:!1,hasVideo:!1,mirror:!1,poorConnection:!1};var m=v;t.default=m,e.exports=t.default},7634:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.QUICK_REGION_SELECT_KEY=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(3)),l=v(n(6199)),s=v(n(6054)),u=v(n(148)),d=n(821),c=v(n(7635)),f=n(6315),p=v(n(13)),h=v(n(5825));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var _={position:d.Positions.BOTTOM,preventInvert:!0};t.QUICK_REGION_SELECT_KEY="quick-region-select";var g=function(e){function t(){return e.apply(this,arguments)||this}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.region,n=e.selected;return m(u.default,{align:u.default.Align.CENTER,className:(0,o.default)({selected:n})},void 0,m(f.RegionFlag,{region:t,className:h.default.regionSelectFlag}),m(f.RegionName,{region:t,className:h.default.regionSelectName}),n?m("i",{className:h.default.check}):null)},t}(a.PureComponent);g.displayName="RegionItem";var E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderOption=function(e,t){return m(g,{region:e.value,selected:t},e.value.id)},t.handleChangeVoiceRegion=function(e){var n=e.value,r=t.props.call.channelId;l.default.changeCallRegion(r,n.id)},t}y(t,e);var n=t.prototype;return n.componentDidMount=function(){null==this.props.regions&&l.default.fetchRegions(null)},n.render=function(){var e=this.props,t=e.regions,n=e.call;if(null==t)return null;var r=t.find(function(e){return e.id===n.region})||{id:"unknown",name:p.default.Messages.UNKNOWN_REGION,vip:!1,deprecated:!1},a={label:r.name,value:r},o=t.filter(function(e){return!e.deprecated}).map(function(e){return{label:e.name,value:e,key:e.id}});return m(c.default,{label:p.default.Messages.REGION,options:o,value:a,onChange:this.handleChangeVoiceRegion,renderOption:this.renderOption,popoutProps:_,popoutId:"quick-region-select",popoutClassName:h.default.regionSelectPopout})},t}(a.PureComponent);E.displayName="QuickRegionSelect";var S=i.default.connectStores([s.default],function(){return{regions:s.default.getRegions(null)}})(E);t.default=S},7635:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=u(n(2)),o=s(n(825)),i=s(n(821)),l=u(n(6701));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){var n=t.props,r=n.options,o=n.value,i=n.renderOption,s=n.popoutClassName,u=n.scroller;return a.createElement(l.QuickSelectPopout,c({},e,{scroller:u,className:s,options:r,value:o,renderOption:i,onChange:t.handleChange}))},t.handleChange=function(e){var n=t.props,r=n.popoutId,a=n.onChange;o.default.close(r),a&&a(e)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.label,n=e.value,r=e.renderValue,o=e.className,s=e.popoutId,u=e.popoutProps;return a.createElement(i.default,c({},u,{uniqueId:s,render:this.renderPopout}),d("div",{className:o},void 0,d(l.default,{label:t,value:n,renderValue:r})))},r}(a.PureComponent);f.displayName="QuickSelectWrapper";var p=f;t.default=p,e.exports=t.default},7636:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(2)),o=O(n(17)),i=O(n(303)),l=O(n(3)),s=n(78),u=O(n(826)),d=O(n(6678)),c=O(n(12)),f=O(n(842)),p=O(n(46)),h=O(n(35)),v=O(n(151)),m=I(n(7172)),y=O(n(7637)),_=O(n(6002)),g=n(0),E=O(n(312)),S=O(n(5524)),T=O(n(5828));function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var P=23,b=17,R=26,L={SCALE_MIN:.7,SCALE_MAX:1,DURATION_IN:300,DURATION_OUT:170,EASING_IN:i.default.Easing.inOut(i.default.Easing.back()),EASING_OUT:i.default.Easing.quad},D=200,w=125,U=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={scaleAnimation:new i.default.Value(0),spriteAnimation:new i.default.Value(0),spriteOpacity:new i.default.Value(0),widthAnimation:new i.default.Value(0)},n}M(t,e);var n=t.prototype;return n.componentDidMount=function(){this.componentDidAppear()},n.componentDidAppear=function(){var e=this.state,t=e.scaleAnimation,n=e.widthAnimation;t.setValue(1),n.setValue(1)},n.componentWillEnter=function(e){var t=this.state,n=t.scaleAnimation,r=t.widthAnimation;n.setValue(0),r.setValue(0),i.default.parallel([i.default.timing(n,{toValue:1,duration:L.DURATION_IN,easing:L.EASING_IN}),i.default.timing(r,{toValue:1,duration:D})]).start(e)},n.componentWillLeave=function(e){var t=this.state,n=t.scaleAnimation,r=t.spriteAnimation,a=t.spriteOpacity,o=t.widthAnimation;a.setValue(1),r.setValue(0);for(var l=[],s=0;s<P;s++)l.push(i.default.timing(r,{toValue:-R*s,duration:b}));i.default.sequence([i.default.timing(n,{toValue:0,duration:L.DURATION_OUT,easing:L.EASING_OUT}),i.default.sequence(l),i.default.timing(o,{toValue:0,duration:w})]).start(e)},n.getScaleStyle=function(){var e=this.state.scaleAnimation;return i.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:[L.SCALE_MIN,L.SCALE_MAX]})}],opacity:e})},n.getSpriteStyle=function(){var e=this.state;return{backgroundPosition:e.spriteAnimation,opacity:e.spriteOpacity}},n.getWidthStyle=function(){return{width:this.state.widthAnimation.interpolate({inputRange:[0,1],outputRange:["0px",this.props.width+"px"]})}},n.render=function(){var e,t=this.props,n=t.theme,r=t.children,a=t.className,l=n===g.ThemeTypes.DARK,s=(0,o.default)(T.default.sprite,((e={})[S.default.crossWhite]=l,e[S.default.crossGrey]=!l,e));return A(i.default.div,{className:(0,o.default)(T.default.transition,a),style:this.getWidthStyle()},void 0,A("div",{className:(0,o.default)(T.default.spriteWrapper,E.default.horizontal,E.default.justifyCenter,E.default.alignCenter)},void 0,A(i.default.div,{className:s,style:this.getSpriteStyle()})),A(i.default.div,{style:this.getScaleStyle()},void 0,r))},t}(a.PureComponent);U.displayName="AvatarTransition";var k={friction:10,tension:200},G=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={opacity:new i.default.Value(0),scale:new i.default.Value(0)},n}M(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this.state,t=e.opacity,n=e.scale;t.setValue(1),n.setValue(1)},r.animateTo=function(e,t){var n=this.state,r=n.opacity,a=n.scale;i.default.parallel([i.default.spring(r,N({toValue:e},k)),i.default.spring(a,N({toValue:e},k))]).start(t)},r.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity,a=n.scale;r.setValue(0),a.setValue(0),clearTimeout(this._timer),this._timer=setTimeout(function(){return t.animateTo(1,e)},400)},r.componentWillLeave=function(e){var t=this.state,n=t.opacity,r=t.scale;n.setValue(1),r.setValue(1),this.animateTo(0,e)},r.componentWillUnmount=function(){clearTimeout(this._timer)},r.render=function(){var e=this.props.theme,t=this.state,r=t.opacity,a=t.scale;return A(i.default.div,{className:T.default.emptyContainer,style:{opacity:r,transform:[{scale:a},{translateZ:0}]}},void 0,A(_.default,{theme:e},void 0,A(_.default.Image,{style:{margin:0},width:210,height:92,lightSrc:n(7638),darkSrc:n(7639)})))},t}(a.Component);G.displayName="CallEmpty";var F=function(e){function t(t){var n;return(n=e.call(this,t)||this)._timeout=new s.Timeout,C(n).setRef=n.setRef.bind(C(n)),n}M(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.windowHeight,r=t.layout;n===e.windowHeight&&r===e.layout||this.delayResize()},n.componentDidMount=function(){this.delayResize()},n.componentWillUnmount=function(){this._timeout.stop()},n.render=function(){return a.createElement(y.default,N({ref:this.setRef},this.props))},n.setRef=function(e){this._ref=e},n.delayResize=function(){var e=this;this._timeout.start(400,function(){e._ref&&e._ref.resize()})},t}(a.PureComponent);F.displayName="CardStackContainer";var j=l.default.connectStores([v.default,f.default],function(){return{windowHeight:v.default.windowSize().height}})(F),x=function(e){function t(t){var n;return C(n=e.call(this,t)||this).handleSelectParticipant=n.handleSelectParticipant.bind(C(n)),n}M(t,e);var n=t.prototype;return n.handleSelectParticipant=function(e){var t=this.props,n=t.mode,r=t.layout,a=t.selectedParticipantId,o=t.channelId;t.inCall&&n===g.ChannelModes.VIDEO&&(d.default.selectParticipant(o,a===e?null:e),r===g.ChannelLayouts.MINIMUM&&d.default.updateLayout(o,g.ChannelLayouts.NORMAL))},n.calculateAvatarSize=function(){var e=this.props,t=e.layout,n=e.windowWidth,r=e.participants,a=e.mode;if(null!=e.selectedParticipantId&&a===g.ChannelModes.VIDEO&&t!==g.ChannelLayouts.MINIMUM)return m.CallAvatarSizes.XLARGE;for(var o=t===g.ChannelLayouts.FULL_SCREEN||t===g.ChannelLayouts.NORMAL?m.CallAvatarSizes.XLARGE:m.CallAvatarSizes.XXLARGE,i=n-g.LEFT_PANEL_WIDTH,l=r?r.length:0,s=Object.keys(m.CallAvatarPixelSizes),u=0;u<s.length;u++){var d=m.CallAvatarPixelSizes[s[u]];if(!(d>m.CallAvatarPixelSizes[o])&&(a===g.ChannelModes.VIDEO&&(d*=m.CALL_AVATAR_VIDEO_RATIO),i>l*(d+=16)))return s[u]}return m.CallAvatarSizes.SMALL},n.render=function(){var e=this,t=this.props,n=t.participants,r=t.selectedParticipantId,a=t.theme,i=t.mode,l=t.inCall,s=t.layout,d=t.videoEnabled,f=t.onContextMenu,h=this.calculateAvatarSize(),v=n.find(function(e){return e.user.id===c.default.getId()}),y=null==v||v.ringing,_=i===g.ChannelModes.VIDEO&&y?m.CallAvatarPixelSizes[h]*m.CALL_AVATAR_VIDEO_RATIO:m.CallAvatarPixelSizes[h],S=n.map(function(t){var n,u=t.speaking,v=t.soundsharing,E=t.user,S=t.streamId,O=t.voiceState,I=t.ringing,C=E.id===c.default.getId()&&d,N=p.default.getMediaEngine().Video;return A(U,{width:_,theme:a,className:(0,o.default)((n={},n[T.default.avatarMargin]=i===g.ChannelModes.VOICE||y,n))},E.id,A(m.default,{id:E.id,name:E.username,selected:s!==g.ChannelLayouts.MINIMUM&&r===E.id,speaking:u,soundsharing:v,mode:i,muted:O&&(O.mute||O.selfMute),deafen:O&&(O.deaf||O.selfDeaf),ringing:I,src:E.getAvatarURL(),hasVideo:O&&O.selfVideo,streamId:l&&S,mirror:C,size:h,onClick:e.handleSelectParticipant,onContextMenu:f,videoComponent:N,disabled:y}))});if(0===S.length&&S.push(A(G,{theme:a},"empty")),i===g.ChannelModes.VIDEO&&!y){var O=_+8;return A(u.default,{component:j,layout:s,style:{width:O},cardWidth:O,cardHeight:O,className:(0,o.default)(T.default.wrapper,E.default.vertical,E.default.alignEnd,E.default.spacer)},void 0,S)}return A(u.default,{component:"div",className:(0,o.default)(T.default.wrapper,E.default.alignEnd,E.default.spacer,s===g.ChannelLayouts.MINIMUM?E.default.horizontal+" "+E.default.justifyCenter:E.default.vertical)},void 0,S)},t}(a.PureComponent);x.displayName="PrivateChannelCallParticipants";var B=l.default.connectStores([v.default,f.default,h.default],function(e){return N({windowWidth:v.default.windowSize().width,selectedParticipantId:f.default.getSelectedParticipantId(e.channelId),theme:h.default.theme},e)})(x);t.default=B,e.exports=t.default},7637:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=s(n(17)),i=n(96),l=s(n(5827));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(t){var n;return c(n=e.call(this,t)||this).handleMouseEnter=n.handleMouseEnter.bind(c(n)),c(n).handleMouseLeave=n.handleMouseLeave.bind(c(n)),n}f(t,e);var n=t.prototype;return n.render=function(){var e=this.props,t=e.style,n=e.children,r=d({},t,{transform:"translate3d(0, "+e.offset+"px, 0)"});return u("div",{className:l.default.card,style:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,n)},n.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},n.handleMouseLeave=function(){var e=this.props.onHover;e&&e(null)},t}(a.PureComponent);p.displayName="Card";var h=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hoverIndex:null,width:0,height:0},c(n).handleHover=n.handleHover.bind(c(n)),c(n).setRef=n.setRef.bind(c(n)),c(n).resize=n.resize.bind(c(n)),n}f(t,e);var n=t.prototype;return n.renderCards=function(){var e=this,t=this.props,n=t.cardWidth,r=t.cardHeight,a=t.children,o=this.state.height,i=a.length,l=this.state.hoverIndex,s=i-1,d=i>1?(o-r)/(i-1):r,c=r*i;return a.map(function(t,a){var i=o>c?r*a:o-r-function(e){if(null==l||e===l)return d*(s-e);var t=d*(s-l);if(e>l){var n=Math.max(t-r,20);return(s-l-1>0?n/(s-l-1):0)*(s-e)}var a=o-t-2*r,i=Math.max(a,20);return o-(l>1?i/(l-1):0)*e-r-(a<20?Math.min(a,-20):0)}(a);return u(p,{index:a,offset:i,style:{width:n,height:r},onHover:e.handleHover},a,t)}).reverse()},n.render=function(){var e=this.props,t=e.className,n=e.style,r=this.state,i=r.width,s=r.height;return 0===i||0===s?a.createElement("div",{ref:this.setRef,className:t,style:n}):a.createElement("div",{ref:this.setRef,className:(0,o.default)(l.default.wrapper,t),style:n},this.renderCards())},n.handleHover=function(e){this.setState({hoverIndex:e})},n.setRef=function(e){this._ref=e,this.resize()},n.resize=function(){if(null!=this._ref){var e=(0,i.findDOMNode)(this._ref);null!=e&&e instanceof HTMLElement&&this.setState({width:e.clientWidth,height:e.clientHeight})}},t}(a.PureComponent);h.displayName="CardStack";var v=h;t.default=v,e.exports=t.default},7638:function(e,t,n){e.exports=n.p+"7d12b6a6565c106a587c1d1f06690ca9.svg"},7639:function(e,t,n){e.exports=n.p+"a8fd82cc52f43902aa1113fdda7c1ef7.svg"},7640:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=u(n(2)),o=u(n(124)),i=s(n(220)),l=s(n(5829));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(e){var t,r;function a(){return e.apply(this,arguments)||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.title,r=e.description,a=e.confirmText,s=e.onConfirm;return d(i.default,{size:l.default.size},void 0,d("div",{className:l.default.container},void 0,d("img",{className:l.default.image,src:n(7641),alt:""}),d("div",{className:l.default.title},void 0,t),d("div",{className:l.default.description},void 0,r)),d("div",{className:l.default.footer},void 0,d(o.default,{className:l.default.button,size:o.ButtonSizes.LARGE,onClick:s},void 0,a)))},a}(a.PureComponent);c.displayName="VideoDevicesWarningModal";var f=c;t.default=f,e.exports=t.default},7641:function(e,t,n){e.exports=n.p+"261873897d8899d4e2e724efdfa21ee3.svg"},7642:function(e,t,n){e.exports=n.p+"3a773ef164b13d6a5bf37083bc1bc7f6.svg"},7643:function(e,t,n){e.exports=n.p+"894d33a7990cc82c6c470285c45f1e70.svg"},7644:function(e,t,n){e.exports=n.p+"da80b49568f5b282cd97f54f2f813441.svg"},7645:function(e,t,n){e.exports=n.p+"9f1cc64606c82356a646c04d46b0f4b4.svg"},7646:function(e,t,n){e.exports=n.p+"1c1683551c9d43dd700b1d650f30c6f6.svg"},7647:function(e,t,n){e.exports=n.p+"89f266ed023aab0906a402fe580f862a.svg"},7648:function(e,t,n){e.exports=n.p+"7a2984b632f742b95882d387736c7bd0.svg"},7649:function(e,t,n){e.exports=n.p+"9bef291f60e3cd3531073c12a365a87d.svg"},7650:function(e,t,n){e.exports=n.p+"39aa9582008741a5582b87b2336f746d.svg"},7651:function(e,t,n){e.exports=n.p+"e58c46a89a6d0e207363ed2c26fef144.svg"},7652:function(e,t,n){e.exports=n.p+"b0aeca4d2129dcbf73f05feb6bb6e61f.svg"},7653:function(e,t,n){e.exports=n.p+"f67374a8fd6b116362596d65cc516747.svg"},7654:function(e,t,n){e.exports=n.p+"ea5bf2e8b48cfe21ea60588e1568aad6.svg"},7655:function(e,t,n){e.exports=n.p+"18e22cc758cd6dd220ac88b554519482.svg"},7656:function(e,t,n){e.exports=n.p+"37d23346ca73770fda04fbdcc54336e5.svg"},7657:function(e,t,n){e.exports=n.p+"24d0c1e0be789c08a641e29b113c3d61.svg"},7658:function(e,t,n){e.exports=n.p+"990826f372c3d1d1792e3f1df06609bb.svg"},7659:function(e,t,n){e.exports=n.p+"d47d2c5ce2dd7d5bdaee2ebd8fde61f2.svg"},7660:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(3)),i=c(n(6300)),l=c(n(6198)),s=n(6025),u=n(0),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.handleClick=function(){i.default.toggleSection(u.ChannelSections.MEMBERS)},o.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.Icon,{tooltip:d.default.Messages.MEMBER_LIST,name:s.Icon.Names.NOVA_PEOPLE,onClick:this.handleClick,selected:this.props.section===u.ChannelSections.MEMBERS})},a}(a.Component);f.displayName="ChannelMembersButton";var p=o.default.connectStores([l.default],function(){return{section:l.default.getSection()}})(f);t.default=p,e.exports=t.default},7661:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(3)),i=p(n(6158)),l=p(n(226)),s=p(n(301)),u=p(n(437)),d=p(n(6025)),c=p(n(13)),f=p(n(5831));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props,n=e.channel,r=e.isMuted;i.default.updateChannelOverrideSettings(n.getGuildId(),n.id,{muted:!r})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.isMuted;return h(u.default,{text:c.default.Messages.CHANNEL_MUTE_TOOLTIP,position:u.default.Positions.BOTTOM},void 0,h(d.default.Icon,{name:e?s.default.Names.NOVA_BELL_OFF:s.default.Names.NOVA_BELL,foreground:e?f.default.strikethrough:null,onClick:this.handleClick}))},r}(a.Component);v.displayName="ChannelMuteButton";var m=o.default.connectStores([l.default],function(e){var t=e.channel;return{isMuted:l.default.isChannelMuted(t.getGuildId(),t.id)}})(v);t.default=m,e.exports=t.default},7662:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(3)),i=y(n(825)),l=y(n(20)),s=y(n(6101)),u=y(n(833)),d=y(n(310)),c=y(n(49)),f=y(n(821)),p=n(6025),h=y(n(7663)),v=n(0),m=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E="CHANNEL_PINS_POPOUT",S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).onJump=function(e){e.shiftKey||i.default.close(E)},t.renderChannelPinsPopout=function(e){var n=t.props.channel;return a.createElement(h.default,g({},e,{onJump:t.onJump,channel:n}))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.disabled,n=e.hasUnread,r=e.open,a=_(p.Icon,{tooltip:m.default.Messages.PINNED_MESSAGES,name:p.Icon.Names.NOVA_PIN,disabled:t,showBadge:n,selected:r});return t?a:_(f.default,{animationType:f.default.Animations.NONE,uniqueId:E,position:f.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderChannelPinsPopout,subscribeTo:v.ComponentActions.TOGGLE_CHANNEL_PINS,closeOnScroll:!1,zIndexBoost:-1},void 0,a)},r}(a.Component);S.displayName="ChannelPinsButton";var T=o.default.connectStores([u.default,l.default,d.default,c.default,s.default],function(e){var t=e.channel;return{disabled:t.isNSFW()&&!s.default.didAgree(t.getGuildId()),open:u.default.isOpen(E),hasUnread:d.default.hasUnreadPins(t.id)}})(S);t.default=T,e.exports=t.default},7663:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=v(n(304)),o=(v(n(306)),v(n(439))),i=v(n(3)),l=v(n(6079)),s=v(n(6306)),u=v(n(310)),d=v(n(14)),c=v(n(6317)),f=v(n(6083)),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=(0,a.default)({displayName:"ChannelPins",mixins:[i.default.StoreListenerMixin(s.default,u.default),o.default],fetchPins:function(e){l.default.ackPins(e.id),l.default.fetchPins(e.id)},UNSAFE_componentWillUpdate:function(e,t){t.hasUnreadPins&&!this.state.hasUnreadPins&&l.default.ackPins(this.props.channel.id)},getStateFromStores:function(){var e=s.default.getPinnedMessages(this.props.channel.id),t=u.default.hasUnreadPins(this.props.channel.id);return{messages:e&&e.messages,loading:!e||!e.messages||e.loading,hasUnreadPins:t}},handleUnpin:function(e,t){null!=e&&(t.shiftKey?l.default.unpinMessage(this.props.channel,e.id):f.default.confirmUnpin(this.props.channel,e))},getProTip:function(){var e=this.props.channel,t=h.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_CHANNEL;if(e.isPrivate())if(e.type===p.ChannelTypes.DM){var n=d.default.getUser(e.getRecipientId()).username;t=h.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_DM.format({other:n})}else t=h.default.Messages.PINNED_MESSAGES_PRO_TIP_BODY_GROUP_DM;return t},renderEmptyState:function(e){var t=h.default.Messages.NO_PINS_IN_CHANNEL;this.props.channel.isPrivate()&&(t=h.default.Messages.NO_PINS_IN_DM);var r=e===p.ThemeTypes.LIGHT?n(7664):n(7665);return m(c.default.EmptyStateCenter,{msg:t,image:r})},renderHeader:function(){return m(c.default.Header,{title:h.default.Messages.PINNED_MESSAGES})},render:function(){var e=this.state,t=e.messages,n=e.loading;return m(c.default,{onFetch:this.fetchPins,channel:this.props.channel,messages:t,loading:n,analyticsName:"Channel Pins",onCloseMessage:this.handleUnpin,onJump:this.props.onJump,getProTip:this.getProTip,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})}});t.default=y,e.exports=t.default},7664:function(e,t,n){e.exports=n.p+"03c7541028afafafd1a9f6a81cb7f149.svg"},7665:function(e,t,n){e.exports=n.p+"6793e022dc1b065b21f12d6df02f91bd.svg"},7746:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=O(n(3)),i=n(56),l=O(n(331)),s=O(n(77)),u=O(n(132)),d=O(n(6138)),c=O(n(328)),f=O(n(842)),p=O(n(46)),h=O(n(85)),v=O(n(130)),m=O(n(301)),y=O(n(437)),_=O(n(6025)),g=O(n(450)),E=O(n(6875)),S=n(0),T=O(n(13));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleStartCall=function(e,n){var r=t.props,a=r.channel,o=r.notFriend,i=o?a.getRecipientId():null;l.default.call(a.id,n,!o&&!a.isManaged()&&e&&!e.shiftKey,i)},t.handleJoinCall=function(e){u.default.selectVoiceChannel(null,t.props.channel.id,e)},t.handleVoiceClick=function(e){var n=t.props,r=n.callUnavailable,a=n.callActive;if(!r)return a?t.handleJoinCall(!1):t.handleStartCall(e,!1)},t.handleStartVideoCall=function(e){t.handleStartCall(e,!0)},t.handleJoinVideoCall=function(){t.handleJoinCall(!0)},t.handleBrowserNotSupported=function(){s.default.push(function(e){return a.createElement(E.default,C({},e,{title:T.default.Messages.VIDEO_UNSUPPORTED_BROWSER_TITLE,description:T.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,confirmText:T.default.Messages.DOWNLOAD_APP,onConfirm:t.handleDownloadApps}))})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.renderVideoCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel,o=e.mode;if(t||n&&o===S.ChannelModes.VOICE)return null;var l,s,u=a.isManaged(),d=!1;return p.default.supports(i.Features.VIDEO)?n&&o===S.ChannelModes.VIDEO?(s=this.handleJoinVideoCall,l=u?T.default.Messages.CONNECT:T.default.Messages.JOIN_VIDEO_CALL):(s=this.handleStartVideoCall,l=u?T.default.Messages.CONNECT:T.default.Messages.START_VIDEO_CALL):(d=!0,s=this.handleBrowserNotSupported,l=T.default.Messages.BROWSER_NOT_SUPPORTED),I(y.default,{text:l,position:y.default.Positions.BOTTOM},void 0,I(_.default.Icon,{name:m.default.Names.NOVA_CALL_VIDEO,onClick:s,disabled:d||r}))},o.renderVoiceCallButton=function(){var e=this.props,t=e.inCall,n=e.callActive,r=e.callUnavailable,a=e.channel;if(t)return null;var o,i,l=a.isManaged(),s=!1;return r?(o=l?T.default.Messages.VOICE_UNAVAILABLE:T.default.Messages.CALL_UNAVAILABLE,i=y.default.Colors.RED,s=!0):o=n?l?T.default.Messages.CONNECT:T.default.Messages.JOIN_VOICE_CALL:l?T.default.Messages.CONNECT:T.default.Messages.START_VOICE_CALL,I(y.default,{text:o,color:i,position:y.default.Positions.BOTTOM},void 0,I(_.default.Icon,{name:m.default.Names.NOVA_CALL_JOIN,onClick:this.handleVoiceClick,disabled:s}))},o.render=function(){return I(a.Fragment,{},void 0,this.renderVoiceCallButton(),this.renderVideoCallButton())},o.handleDownloadApps=function(){s.default.push(g.default,{source:"Video unsupported browser"})},r}(a.PureComponent);N.displayName="PrivateChannelCallButton";var A=(0,d.default)(function(e,t){var n;return(n={})[S.ComponentActions.CALL_START]=t.handleVoiceClick.bind(t),n})(N),M=o.default.connectStores([c.default,v.default,h.default,f.default],function(e){var t=e.channel,n=v.default.isInChannel(t.getGuildId(),t.id),r=t.getRecipientId();return{channel:t,mode:f.default.getMode(t.id),inCall:n,callActive:c.default.isCallActive(t.id),callUnavailable:c.default.isCallUnavailable(t.id),notFriend:t.type===S.ChannelTypes.DM&&null!=r&&!h.default.isFriend(r)}})(A);t.default=M,e.exports=t.default},7747:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={search:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:e})},clear:function(){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY,query:""})},select:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT,row:e})},addUser:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_ADD_USER,userId:e})},removeUser:function(e){a.default.dispatch({type:o.ActionTypes.PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER,userId:e})}};t.default=i,e.exports=t.default},7748:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(3)),o=h(n(1)),i=h(n(126)),l=h(n(6299)),s=h(n(20)),u=h(n(85)),d=h(n(49)),c=h(n(6134)),f=h(n(14)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var v,m=1e3,y=!1,_="",g=0,E=[],S=!1,T=new Set;function O(){_="",g=0,E=[],T=new Set,y=!1}function I(e){_=e,g=0,N()}function C(){var e=d.default.getChannelId();return null!=e?s.default.getChannel(e):null}function N(){if(!y)return!1;if(0===_.trim().length)return null!=v&&v.clearQuery(),E=function(){var e=u.default.getFriendIDs(),t=C();null!=t&&(e=e.filter(function(e){return!t.recipients.includes(e)}));return e=e.reduce(function(e,t){var n=f.default.getUser(t);return null==n?e:(e.push({user:n}),e)},[]).sort(M)}(),!0;var e,t,n,r=C(),a=null!=r?r.recipients:[];return null!=v&&v.setQuery(_,{friends:!0},a,null,(e=l.default.getFrequently().filter(function(e){return e instanceof i.default&&e.type===p.ChannelTypes.DM}),t=Math.max.apply(Math,e.map(function(e){var t=e.id;return l.default.getScore(t)})),n={},e.forEach(function(e){var r=l.default.getScore(e.id),a=e.getRecipientId(),o=u.default.isFriend(a)?.2:0,i=s.default.getDMFromUserId(a)?.1:0;n[a]=1+r/t+o+i}),n)),!1}function A(){if(!y)return!1;var e=S;return(S=r.default.some(u.default.getRelationships(),function(e){return e===p.RelationshipTypes.FRIEND}))!==e}function M(e,t){return e.user.usernameLowerCase.localeCompare(t.user.usernameLowerCase)}function P(e){var t=e.results;y&&""!==_&&(E=t.map(function(e){var t=e.user,n=e.id,r=e.score,a=e.comparator;return{user:null!=t?t:f.default.getUser(n),score:r,comparator:a}}),L.emitChange())}function b(e){if((e.type===p.ActionTypes.POPOUT_OPEN?e.popout.key:e.key)!==p.NEW_GROUP_DM_POPOUT_ID)return!1;y=!0,A(),v=c.default.getSearchContext(P,m),I("")}function R(e){if(e.key!==p.NEW_GROUP_DM_POPOUT_ID)return!1;null!=v&&(v.destroy(),v=null),O()}var L=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(f.default,s.default,u.default),this.syncWith([f.default,s.default],N),this.syncWith([u.default],A)},a.getState=function(){return{query:_,selectedRow:g,selectedUsers:T,results:E,hasFriends:S}},r}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){O()},CHANNEL_SELECT:function(e){if(null!=e.guildId)return!1;var t=y;O(),y=t,N()},POPOUT_OPEN:b,MODAL_PUSH:b,POPOUT_CLOSE:R,MODAL_POP:R,PRIVATE_CHANNEL_RECIPIENTS_INVITE_QUERY:function(e){I(e.query)},PRIVATE_CHANNEL_RECIPIENTS_INVITE_SELECT:function(e){g=e.row},PRIVATE_CHANNEL_RECIPIENTS_ADD_USER:function(e){var t=e.userId;T.add(t),T=new Set(T)},PRIVATE_CHANNEL_RECIPIENTS_REMOVE_USER:function(e){var t=e.userId;T.delete(t),T=new Set(T)}}),D=L;t.default=D,e.exports=t.default},7749:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(3)),i=(y(n(126)),y(n(313)),y(n(128)),y(n(5360))),l=y(n(41)),s=y(n(28)),u=y(n(893)),d=y(n(129)),c=y(n(14)),f=y(n(130)),p=y(n(9)),h=y(n(7199)),v=n(0),m=y(n(5839));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(e){var t,n,r,a,o;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleFocusPopout=function(){var e=t.props.popoutWindow;t.popoutWindowActive&&(p.default.embedded?p.default.focus(v.PopoutWindowKeys.STREAM_POPOUT):e.focus())},t}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props.channel;return _("div",{className:m.default.container},void 0,_(h.default,{channel:e}))},r=i,(a=[{key:"popoutWindowActive",get:function(){var e=this.props.popoutWindow;return null!=e&&!e.closed}}])&&g(r.prototype,a),o&&g(r,o),i}(a.PureComponent);E.displayName="Stream";var S=o.default.connectStores([i.default,s.default,c.default,f.default,d.default,l.default,u.default],function(e){var t=e.channel,n=e.stream;return{guild:s.default.getGuild(t.guild_id),stream:n,streamer:c.default.getUser(n.ownerId),popoutWindow:u.default.getWindow(v.PopoutWindowKeys.STREAM_POPOUT)}})(E);t.default=S,e.exports=t.default},7750:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(39)),l=_(n(3)),s=n(891),u=_(n(856)),d=_(n(893)),c=_(n(35)),f=n(498),p=_(n(9)),h=_(n(892)),v=_(n(512)),m=n(0),y=_(n(5834));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={focused:!1},t.handleFocus=function(){t.setState({focused:!0})},t.handleBlur=function(){t.setState({focused:!1})},t.handleKeyboardUsage=function(e){var n=t.props.guestWindow;if(null==n)throw new Error("");!0===e.ctrlKey||!0===e.altKey||!0===e.metaKey||e.keyCode!==m.KeyboardKeys.TAB||((0,s.enableKeyboardMode)(),n.addEventListener("mousedown",t.handleMouseUsage),n.removeEventListener("keydown",t.handleKeyboardUsage))},t.handleMouseUsage=function(){var e=t.props.guestWindow;(0,i.default)(e),(0,s.disableKeyboardMode)(),e.addEventListener("keydown",t.handleKeyboardUsage),e.removeEventListener("mousedown",t.handleMouseUsage)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.guestWindow,n=e.keyboardModeEnabled;t.addEventListener("focus",this.handleFocus),t.addEventListener("blur",this.handleBlur);var r=t.document;null==r.querySelector("title")&&null!=r.head&&r.head.appendChild(r.createElement("title")),this.updateTitle(),this.updateFontScale(),this.updateLocale(),n?t.addEventListener("mousedown",this.handleMouseUsage):t.addEventListener("keydown",this.handleKeyboardUsage)},a.componentDidUpdate=function(e){var t=this.props,n=t.title,r=t.fontScale,a=t.locale;e.title!==n&&this.updateTitle(),e.fontScale!==r&&this.updateFontScale(),e.locale!==a&&this.updateLocale()},a.componentWillUnmount=function(){var e=this.props.guestWindow;e.removeEventListener("focus",this.handleFocus),e.removeEventListener("blur",this.handleBlur),e.removeEventListener("keydown",this.handleKeyboardUsage),e.removeEventListener("mousedown",this.handleMouseUsage)},a.updateLocale=function(){var e=this.props,t=e.locale,n=e.guestWindow.document.documentElement;(0,i.default)(null!=n,"Window document element was null"),n.lang=t},a.updateTitle=function(){var e=this.props,t=e.title,n=e.guestWindow.document.querySelector("title");null!=n&&(n.innerHTML=t)},a.updateFontScale=function(){var e=this.props,t=e.fontScale,n=e.guestWindow.document.documentElement;(0,i.default)(null!=n,"Window document element was null"),n.style.fontSize=t+"%"},a.render=function(){var e=this.props,t=e.theme,n=e.children,r=e.windowKey,a=e.keyboardModeEnabled,i=e.colorblindMode,l=e.fontScaleClass,s=this.state.focused,u=p.default.getPlatform(),d=(0,o.default)(l,{"colorblind-mode":i,"keyboard-mode":m.EnableAccessibility&&a});return g(h.default,{theme:t},void 0,g(f.LayerProvider,{},void 0,g("div",{className:(0,o.default)(y.default.popout,p.default.isWindows()?"platform-win":p.default.isOSX()?"platform-osx":p.default.isLinux()?"platform-linux":p.default.isWeb()?"platform-web":"","theme-"+t,d)},void 0,null!=u?g(v.default,{focused:s,type:u,windowKey:r,macOSFrame:!0}):null,g("div",{className:y.default.content},void 0,n)),g(f.LayerContainer,{theme:t})))},r}(a.Component);E.displayName="PopoutWindow";var S=l.default.connectStores([c.default,u.default,d.default],function(e){var t=e.windowKey,n=d.default.getWindow(t);return(0,i.default)(null!=n,"Guest window was null when popup was rendered."),{locale:c.default.locale,theme:c.default.theme,guestWindow:n,fontScale:u.default.fontScale,keyboardModeEnabled:u.default.keyboardModeEnabled,colorblindMode:u.default.colorblindMode,fontScaleClass:u.default.fontScaleClass}})(E);t.default=S,e.exports=t.default},7751:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(3)),o=p(n(942)),i=p(n(893)),l=p(n(151)),s=p(n(124)),u=p(n(301)),d=n(867),c=n(461),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e){var t=e.enabled,n=e.onBeforeChange,r=e.className,a=e.node,i=e.guestWindow;return h(d.TooltipContainer,{text:t?f.default.Messages.EXIT_FULL_SCREEN:f.default.Messages.FULL_SCREEN},void 0,h(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,onClick:function(){return function(e,t,n,r){null!=n&&(t&&t(e),e?(0,c.requestFullScreen)(n,o.default.resized):(0,c.exitFullScreen)(n,o.default.resized,null!=r?r.document:null))}(!t,n,a,i)}},void 0,h(u.default,{className:r,name:u.default.Names.FULL_SCREEN})))}v.displayName="FullscreenButton";var m=a.default.connectStores([l.default,i.default],function(e){var t=e.node,n=e.guestWindow;return{enabled:(0,c.isFullScreen)(t,null!=n?n.document:null)}})(v);t.default=m,e.exports=t.default},7752:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=v(n(3)),o=v(n(77)),i=(v(n(126)),v(n(313)),v(n(20))),l=v(n(28)),s=v(n(149)),u=v(n(124)),d=v(n(301)),c=n(867),f=v(n(6027)),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){var t=e.stream,n=e.guild,r=e.channel,a=e.className;return function(e,t){return null!=e&&null!=t&&s.default.can(p.Permissions.CREATE_INSTANT_INVITE,t)}(n,r)?m(c.TooltipContainer,{text:h.default.Messages.ACTIVITY_INVITE_MODAL_INVITE},void 0,m(u.default,{look:u.default.Looks.BLANK,size:u.default.Sizes.NONE,onClick:function(){return function(e,t,n){o.default.push(f.default,{guild:e,channel:t,streamUserId:n})}(n,r,t.ownerId)}},void 0,m(d.default,{className:a,name:d.default.Names.INVITE}))):null}y.displayName="InviteButton";var _=a.default.connectStores([s.default],function(e){var t=e.stream;return{guild:l.default.getGuild(t.guildId),channel:i.default.getChannel(t.channelId)}})(y);t.default=_,e.exports=t.default},7753:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.LiveIndicatorLooks=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=l(n(17)),o=l(n(13)),i=l(n(5835));function l(e){return e&&e.__esModule?e:{default:e}}var s={RED:i.default.liveRed,GRAY:i.default.liveGray};function u(e){var t=e.className,n=e.look,i=void 0===n?s.RED:n;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,a.default)(t,i)},void 0,o.default.Messages.LIVE)}t.LiveIndicatorLooks=s,u.displayName="LiveIndicator",u.Looks=s;var d=u;t.default=d},7754:function(e,t,n){"use strict";t.__esModule=!0,t.default=p;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=d(n(824)),o=d(n(124)),i=d(n(301)),l=n(867),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){a.default.open(s.UserSettingsSections.VOICE)}function p(e){var t=e.className;return c(l.TooltipContainer,{text:u.default.Messages.USER_SETTINGS},void 0,c(o.default,{look:o.default.Looks.BLANK,size:o.default.Sizes.NONE,onClick:f},void 0,c(i.default,{className:t,name:i.default.Names.GEAR})))}p.displayName="SettingsButton",e.exports=t.default},7755:function(e,t,n){"use strict";t.__esModule=!0,t.default=d;(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e})(n(2)),n(56);var r,a=s(n(446)),o=n(867),i=s(n(7756)),l=s(n(13));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e){var t=e.iconClassName,n=e.sliderClassName,r=e.userId,s=e.mediaEngineContext,d=e.currentWindow;return u(o.TooltipContainer,{text:l.default.Messages.STREAMING_VOLUME,position:o.TooltipPositions.LEFT},void 0,u(i.default,{currentWindow:d,iconClassName:t,sliderClassName:n,onValueChange:function(e){return function(e,t,n){a.default.setLocalVolume(t,e,n)}(e,r,s)}}))}d.displayName="VolumeButton",e.exports=t.default},7756:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(124)),l=d(n(301)),s=d(n(7757)),u=d(n(5837));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={value:t.props.defaultValue,mute:!1},t.handleValueChange=function(e){e!==t.state.value&&t.setState({value:e})},t.handleClick=function(){var e=t.props,n=e.onValueChange,r=e.minValue,a=t.state,o=a.mute,i=a.value,l=!o;t.setState({mute:l}),n&&n(l?r:i)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=r.prototype;return d.componentDidUpdate=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:this.props.defaultValue})},d.render=function(){var e=this.state,t=e.value,n=e.mute,r=this.props,d=r.iconClassName,p=r.sliderClassName,h=r.minValue,v=r.maxValue,m=l.default.Names.SPEAKER;return n||t===h?m=l.default.Names.SPEAKER_OFF:t<v/2&&(m=l.default.Names.SPEAKER_QUIET),c("div",{className:u.default.volumeButton},void 0,c("div",{className:(0,o.default)(u.default.volumeButtonSlider,p)},void 0,a.createElement(s.default,f({},this.props,{asValueChanges:this.handleValueChange,defaultValue:n?h:t}))),c(i.default,{size:i.default.Sizes.NONE,look:i.default.Looks.BLANK,onClick:this.handleClick},void 0,c(l.default,{className:d,name:m})))},r}(a.PureComponent);p.displayName="VolumeButton",p.defaultProps={defaultValue:50,minValue:0,maxValue:100,handleSize:16};var h=p;t.default=h,e.exports=t.default},7757:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=n(96),l=(r=n(5836))&&r.__esModule?r:{default:r};function s(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleMouseDown=function(e){var t=n.props.currentWindow;t.document.addEventListener("mousemove",n.handleMouseMove,!0),t.document.addEventListener("mouseup",n.handleMouseUp,!0);var r=(0,i.findDOMNode)(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n));if(null==r||!(r instanceof t.Element))throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");n.setState({y:e.clientY,boundingRect:r.getBoundingClientRect()})},n.handleMouseUp=function(){n.reset();var e=n.props.onValueChange;e&&e(n.state.value)},n.handleMouseMove=function(e){e.preventDefault();var t=n.state,r=t.value,a=t.y,o=t.boundingRect,i=n.props,l=i.minValue,s=i.maxValue,u=i.handleSize,d=o.top,c=o.bottom,f=a-e.clientY,p=(r-l)/(s-l);if(!(e.clientY<=d&&f<0||e.clientY>=c&&f>0)){var h=c-d-u,v=h*p;p=Math.min(Math.max(v+f,0),h)/h}var m=l+p*(s-l),y=n.props.asValueChanges;y&&y(m),n.setState({value:m,y:e.clientY})},n.state={value:t.defaultValue},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){this.props.defaultValue!==e.defaultValue&&this.setState({value:e.defaultValue})},a.componentWillUnmount=function(){this.reset()},a.render=function(){var e=this.state.value,t=this.props,n=t.minValue,r=t.maxValue,a=t.onValueRender,o=(100*(e-n)/(r-n)).toFixed(0)+"%";return s("div",{className:l.default.slider},void 0,s("div",{className:l.default.bar},void 0,s("div",{className:l.default.barFill,style:{height:o}})),s("div",{className:l.default.track},void 0,s("div",{className:l.default.handle,style:{bottom:o},onMouseDown:this.handleMouseDown},void 0,s("span",{className:l.default.bubble},void 0,a?a(e):o))))},a.reset=function(){var e=this.props.currentWindow;e.document.removeEventListener("mousemove",this.handleMouseMove,!0),e.document.removeEventListener("mouseup",this.handleMouseUp,!0)},r}(o.PureComponent);u.displayName="VerticalSlider",u.defaultProps={defaultValue:25,minValue:0,maxValue:100,handleSize:16,currentWindow:window};var d=u;t.default=d,e.exports=t.default},7758:function(e,t,n){e.exports=n.p+"94b5558353f1d01035a874f6eddf6d70.svg"},7759:function(e,t,n){e.exports=n.p+"25613a647083f6b2b196f40f58732de6.svg"},7760:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(3)),i=v(n(443)),l=v(n(6011)),s=v(n(20)),u=v(n(831)),d=v(n(5996)),c=n(5473),f=v(n(6714)),p=n(0),h=v(n(5387));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).fetchStoreListing=function(e){var n=t.props,r=n.channel,a=n.inputSkuId;return null!=e?i.default.fetchChannelStoreListing(r.id,e):null!=a?i.default.fetchChannelStoreListing(r.id,a):i.default.fetchChannelStoreListing(r.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.fetchStoreListing()},a.render=function(){var e=this.props,t=e.channel,n=e.skuId,r=e.location,a=e.width;return null==n?null:m(d.default,{page:p.AnalyticsPages.CHANNEL_STORE_LISTING,root:!0},void 0,m("div",{className:h.default.applicationStore},void 0,m(f.default,{channel:t,inputSkuId:n,fetchStoreListing:this.fetchStoreListing,location:r,pageSize:(0,c.getPageSize)(a)})))},r}(a.Component);y.displayName="ChannelStoreListing";var _=(0,l.default)(o.default.connectStores([s.default,u.default],function(e){var t=e.channel,n=e.inputSkuId;return{skuId:null!=n?n:s.default.getSkuIdForChannel(t.id)}})(y));t.default=_,e.exports=t.default},7761:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=he(n(2)),o=pe(n(17)),i=pe(n(304)),l=pe(n(6)),s=pe(n(439)),u=pe(n(453)),d=n(221),c=pe(n(303)),f=pe(n(3)),p=n(56),h=pe(n(826)),v=he(n(6636)),m=pe(n(446)),y=pe(n(443)),_=n(302),g=pe(n(6680)),E=pe(n(900)),S=pe(n(77)),T=pe(n(858)),O=pe(n(865)),I=pe(n(824)),C=pe(n(155)),N=pe(n(20)),A=pe(n(468)),M=pe(n(6211)),P=pe(n(6232)),b=pe(n(46)),R=pe(n(85)),L=pe(n(307)),D=pe(n(35)),w=pe(n(14)),U=pe(n(7201)),k=n(5992),G=pe(n(124)),F=pe(n(219)),j=pe(n(6002)),x=pe(n(148)),B=pe(n(6019)),H=pe(n(301)),V=pe(n(308)),Y=he(n(6036)),W=pe(n(125)),K=pe(n(437)),z=n(6050),$=n(223),q=pe(n(9)),X=pe(n(44)),Q=n(6464),J=pe(n(7762)),Z=pe(n(450)),ee=pe(n(6490)),te=pe(n(6021)),ne=pe(n(6676)),re=pe(n(6070)),ae=pe(n(845)),oe=pe(n(5358)),ie=pe(n(6029)),le=pe(n(7198)),se=pe(n(445)),ue=n(0),de=pe(n(13)),ce=pe(n(5357)),fe=pe(n(5841));function pe(e){return e&&e.__esModule?e:{default:e}}function he(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function ve(){return(ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ye(e){switch(e){case"separator":return fe.default.friendsColumnSeparator;case"name":return fe.default.friendsColumnName;case"status":return fe.default.friendsColumnStatus;case"guilds":return fe.default.friendsColumnGuilds;case"actions":return fe.default.friendsColumnActions;case"actions-visible":return fe.default.friendsColumnActionsVisible;default:return null}}var _e={NO_SUGGESTIONS:{lightSrc:n(7764),darkSrc:n(7765),width:403,height:157},NO_CONNECTED_ACCOUNTS:{lightSrc:n(7766),darkSrc:n(7767),width:402,height:201},SECTION_ALL:{lightSrc:n(7768),darkSrc:n(7769),width:376,height:162},SECTION_ONLINE:{lightSrc:n(7770),darkSrc:n(7771),width:421,height:218},SECTION_BLOCKED:{lightSrc:n(7772),darkSrc:n(7773),width:433,height:232},SECTION_PENDING:{lightSrc:n(7774),darkSrc:n(7775),width:415,height:200}},ge=me(u.default,{title:"Discord"}),Ee=function(e){var t,n,r,a=e.style,o=e.hasAccounts,i=e.onDownloadApp,l=e.onConnectAccounts,s=e.theme;return o||q.default.embedded?!o&&q.default.embedded?(r=_e.NO_CONNECTED_ACCOUNTS,t=de.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_ACCOUNTS,n=me(G.default,{className:ce.default.marginTop20,onClick:l},void 0,de.default.Messages.CONNECT_ACCOUNTS)):(r=_e.NO_SUGGESTIONS,t=de.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_NO_SUGGESTION):(r=_e.NO_CONNECTED_ACCOUNTS,t=de.default.Messages.FRIENDS_EMPTY_STATE_ADD_FRIEND_DOWNLOAD,n=me(G.default,{className:ce.default.marginTop20,onClick:i},void 0,de.default.Messages.DOWNLOAD)),me(c.default.div,{className:fe.default.friendsEmpty,style:a},void 0,ge,me(j.default,{theme:s},void 0,me(j.default.Image,{width:r.width,height:r.height,lightSrc:r.lightSrc,darkSrc:r.darkSrc,theme:s}),me(j.default.Text,{note:t}),n))};Ee.displayName="AddFriendEmpty";var Se=me(u.default,{title:"Discord"}),Te=me(u.default,{title:"Discord"}),Oe=me(u.default,{title:"Discord"}),Ie=me(u.default,{title:"Discord"}),Ce=(0,i.default)({displayName:"FriendsEmptyState",mixins:[s.default,f.default.StoreListenerMixin(D.default,A.default)],getInitialState:function(){return{opacity:new c.default.Value(1)}},getStateFromStores:function(){return{hasAccounts:A.default.getUnsafeAccounts().length>0,accounts:A.default.getAccounts(),theme:D.default.theme}},componentWillEnter:function(e){this.state.opacity.setValue(0),c.default.timing(this.state.opacity,{toValue:1,duration:250}).start(e)},componentWillLeave:function(e){c.default.timing(this.state.opacity,{toValue:0,duration:250}).start(e)},handleDownloadApp:function(){S.default.push(Z.default,{source:"Suggestions"})},handleConnectAccounts:function(){I.default.open(ue.UserSettingsSections.CONNECTIONS)},render:function(){var e=this.props,t=e.type,n=e.onClick,r=this.state,a=r.theme,o=r.hasAccounts,i=r.accounts,l={opacity:this.state.opacity};switch(t){case ue.FriendsSections.ADD_FRIEND:return me(Ee,{hasAccounts:o,accounts:i,style:l,onDownloadApp:this.handleDownloadApp,onConnectAccounts:this.handleConnectAccounts,theme:a});case ue.FriendsSections.ALL:return me(c.default.div,{className:fe.default.friendsEmpty,style:l},void 0,Se,me(j.default,{theme:a},void 0,me(j.default.Image,{width:_e.SECTION_ALL.width,height:_e.SECTION_ALL.height,lightSrc:_e.SECTION_ALL.lightSrc,darkSrc:_e.SECTION_ALL.darkSrc,theme:a}),me(j.default.Text,{note:de.default.Messages.FRIENDS_EMPTY_STATE_ALL}),me(G.default,{className:ce.default.marginTop20,onClick:n},void 0,de.default.Messages.ADD_FRIEND)));case ue.FriendsSections.ONLINE:return me(c.default.div,{className:fe.default.friendsEmpty,style:l},void 0,Te,me(j.default,{theme:a},void 0,me(j.default.Image,{width:_e.SECTION_ONLINE.width,height:_e.SECTION_ONLINE.height,lightSrc:_e.SECTION_ONLINE.lightSrc,darkSrc:_e.SECTION_ONLINE.darkSrc,theme:a}),me(j.default.Text,{note:de.default.Messages.FRIENDS_EMPTY_STATE_ONLINE})));case ue.FriendsSections.PENDING:return me(c.default.div,{className:fe.default.friendsEmpty,style:l},void 0,Oe,me(j.default,{theme:a},void 0,me(j.default.Image,{width:_e.SECTION_PENDING.width,height:_e.SECTION_PENDING.height,lightSrc:_e.SECTION_PENDING.lightSrc,darkSrc:_e.SECTION_PENDING.darkSrc,theme:a}),me(j.default.Text,{note:de.default.Messages.FRIENDS_EMPTY_STATE_PENDING})));case ue.FriendsSections.BLOCKED:return me(c.default.div,{className:fe.default.friendsEmpty,style:l},void 0,Ie,me(j.default,{theme:a},void 0,me(j.default.Image,{width:_e.SECTION_BLOCKED.width,height:_e.SECTION_BLOCKED.height,lightSrc:_e.SECTION_BLOCKED.lightSrc,darkSrc:_e.SECTION_BLOCKED.darkSrc,theme:a}),me(j.default.Text,{note:de.default.Messages.FRIENDS_EMPTY_STATE_BLOCKED})));default:return null}}}),Ne=function(e){var t=e.guild;return me(K.default,{text:t.toString()},void 0,me(d.Link,{to:ue.Routes.GUILD(t.id),onClick:function(e){return e.stopPropagation()}},void 0,me(B.default,{guild:t,textScale:.8,size:B.default.Sizes.SMALL})))};Ne.displayName="MutualGuild";var Ae=function(e){var t=e.num,n=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["num"]);return a.createElement("div",ve({className:fe.default.moreMutualGuildsBtn},n),"+",t)};Ae.displayName="MoreMutualGuildsButton";var Me=function(e){return me("div",{className:(0,o.default)(fe.default.friendsColumn,ye(e.column))},void 0,e.children)};Me.displayName="FriendsColumn";var Pe=function(){return me("div",{className:ye("separator")})};Pe.displayName="FriendsColumnSeparator";var be={getInitialState:function(){return{height:new c.default.Value(62),opacity:new c.default.Value(1)}},componentWillEnter:function(e){this.state.opacity.setValue(0),this.state.height.setValue(0),c.default.parallel([c.default.timing(this.state.opacity,{toValue:1,duration:200}),c.default.timing(this.state.height,{toValue:62,duration:200})]).start(e)},componentWillLeave:function(e){c.default.parallel([c.default.timing(this.state.opacity,{toValue:0,duration:200}),c.default.timing(this.state.height,{toValue:0,duration:200})]).start(e)}};function Re(e){var t=e.type,n=e.tooltip,r=e.onClick,a=me(F.default,{onClick:r,className:(0,o.default)(fe.default.friendsAction,function(e){switch(e){case"add":return fe.default.friendsActionAdd;case"remove":return fe.default.friendsActionRemove;case"voice-call":return fe.default.friendsActionVoiceCall;case"video-call":return fe.default.friendsActionVideoCall;case"accept":return fe.default.friendsActionAccept;case"ignore":return fe.default.friendsActionIgnore;case"cancel":return fe.default.friendsActionCancel;default:return null}}(t),null==r?fe.default.disabled:null)});return me(K.default,{text:n},void 0,a)}Re.displayName="Action";var Le=(0,i.default)({displayName:"FriendSuggestionRow",mixins:[be,s.default,f.default.StoreListenerMixin(D.default,L.default)],getStateFromStores:function(){return{theme:D.default.theme,hide:L.default.hidePersonalInformation}},handleOpenProfile:function(e){e.stopPropagation();var t=this.props.user;O.default.open(t.id)},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;T.default.addRelationship(t.id,{location:"Friend Suggestion"})},handleIgnoreFriendSuggestion:function(e){e.stopPropagation();var t=this.props.user;g.default.ignore(t.id)},render:function(){var e,t=this.props,n=t.user,r=t.reasons,a=this.state,i=a.hide,l=a.theme;return i||(e=r.map(function(e,t){var n=e.name,r=e.platform_type,a=C.default.get(r);return me("div",{className:fe.default.friendsSuggestionPlatform},t,me("img",{alt:de.default.Messages.IMG_ALT_LOGO.format({name:a.icon}),className:fe.default.friendsSuggestionPlatformIcon,src:l===ue.ThemeTypes.DARK?a.icon.white:a.icon.grey}),me("span",{className:fe.default.friendsSuggestionPlatformName},void 0,n))})),me(c.default.div,{className:fe.default.friendsRow,onClick:this.handleOpenProfile,style:{height:this.state.height,opacity:this.state.opacity}},void 0,me("div",{className:fe.default.friendsSuggestionInner},void 0,me(te.default,{user:n,size:k.AvatarSizes.LARGE,outerClassName:fe.default.avatarLarge}),me("div",{className:fe.default.friendsSuggestionInfo},void 0,me(re.default,{user:n}),me("div",{className:fe.default.friendsSuggestionPlatforms},void 0,e))),me("div",{className:(0,o.default)(fe.default.friendsColumn,ye("actions"),ye("actions-visible"))},void 0,me(Re,{type:"add",tooltip:de.default.Messages.SEND_FRIEND_REQUEST,onClick:this.handleAddRelationship}),me(Re,{type:"ignore",tooltip:de.default.Messages.FRIEND_REQUEST_IGNORE,onClick:this.handleIgnoreFriendSuggestion})))}}),De=(0,i.default)({displayName:"FriendRow",mixins:[be,s.default],handleOpenProfile:function(e){e.stopPropagation(),O.default.open(this.props.user.id)},handleOpenPrivateChannel:function(e){e.stopPropagation();var t=this.props.user,n=l.default.find(N.default.getChannels(),function(e){return e.type===ue.ChannelTypes.DM&&e.getRecipientId()===t.id});null!=n?X.default.transitionTo(ue.Routes.CHANNEL(ue.ME,n.id)):y.default.openPrivateChannel(w.default.getCurrentUser().id,t.id)},handleRemoveFriend:function(e){var t=this;e.stopPropagation(),S.default.push(function(e){return a.createElement(se.default,ve({header:de.default.Messages.REMOVE_FRIEND_TITLE.format({name:t.props.user.toString()}),confirmText:de.default.Messages.REMOVE_FRIEND,cancelText:de.default.Messages.CANCEL,onConfirm:t.handleRemoveRelationship},e),me(W.default,{size:W.default.Sizes.MEDIUM,color:W.default.Colors.PRIMARY},void 0,de.default.Messages.REMOVE_FRIEND_BODY.format({name:t.props.user.toString()})))})},handleAddRelationship:function(e){e.stopPropagation();var t=this.props.user;T.default.addRelationship(t.id,{location:"Friends"})},handleRemoveRelationship:function(e){e&&e.stopPropagation(),T.default.removeRelationship(this.props.user.id,{location:"Friends"})},handleContextMenu:function(e,t){(0,_.openContextMenu)(e,function(e){return a.createElement(oe.default,ve({},e,{type:ue.ContextMenuTypes.USER_FRIEND_LIST,user:t}))})},handleVideoCall:function(e){m.default.setVideoEnabled(!0),this.handleVoiceCall(e)},handleVoiceCall:function(e){e.stopPropagation(),y.default.openPrivateChannel(w.default.getCurrentUser().id,this.props.user.id,!0)},renderActivity:function(e){return me(x.default,{align:x.default.Align.CENTER},void 0,me("div",{className:fe.default.friendActivityText},void 0,(0,$.renderActivity)(e)),(0,$.hasRichActivity)(e)&&me(H.default,{name:H.default.Names.RICH_ACTIVITY,className:fe.default.friendActivityIcon,foreground:fe.default.friendActivityIconForeground}))},render:function(){var e,t,n=this,r=this.props,a=r.user,i=r.type,l=r.mutualGuilds,s=r.mutualGuildsLength,u=r.activity,d=r.video,f=[],p=function(e,t,n){void 0===n&&(n=null),f.push(me(Re,{type:e,tooltip:t,onClick:n},f.length))},h=this.props.status,v=null!=u?this.renderActivity(u):(0,Q.humanizeStatus)(this.props.status),m=!0;switch(i){case ue.RelationshipTypes.FRIEND:m=!1,d&&p("video-call",de.default.Messages.START_VIDEO_CALL,this.handleVideoCall),p("voice-call",de.default.Messages.START_VOICE_CALL,this.handleVoiceCall),p("remove",de.default.Messages.REMOVE_FRIEND,this.handleRemoveFriend);break;case ue.RelationshipTypes.BLOCKED:h=ue.StatusTypes.UNKNOWN,v=de.default.Messages.BLOCKED,p("remove",de.default.Messages.UNBLOCK,this.handleRemoveRelationship);break;case ue.RelationshipTypes.PENDING_INCOMING:h=h===ue.StatusTypes.OFFLINE?ue.StatusTypes.UNKNOWN:h,v=de.default.Messages.INCOMING_FRIEND_REQUEST,p("accept",de.default.Messages.FRIEND_REQUEST_ACCEPT,this.handleAddRelationship),p("ignore",de.default.Messages.FRIEND_REQUEST_IGNORE,this.handleRemoveRelationship);break;case ue.RelationshipTypes.PENDING_OUTGOING:m=!1,h=h===ue.StatusTypes.OFFLINE?ue.StatusTypes.UNKNOWN:h,v=de.default.Messages.OUTGOING_FRIEND_REQUEST,p("cancel",de.default.Messages.FRIEND_REQUEST_CANCEL,this.handleRemoveRelationship)}return s>ue.MAX_MUTUAL_GUILDS&&(t=me(Ae,{num:s-ue.MAX_MUTUAL_GUILDS,onClick:this.handleOpenProfile})),me(c.default.div,{className:fe.default.friendsRow,onClick:this.handleOpenPrivateChannel,onContextMenu:function(e){return n.handleContextMenu(e,a)},style:{height:this.state.height,opacity:this.state.opacity}},void 0,me("div",{className:(0,o.default)(fe.default.friendsColumn,ye("name"))},void 0,me(te.default,{user:a,outerClassName:fe.default.avatarSmall}),me(re.default,{user:a})),me("div",{className:(0,o.default)(fe.default.friendsColumn,ye("status"))},void 0,me(ee.default,{className:fe.default.status,defaultStatus:(0,$.isStreaming)(this.props.activity)?ue.StatusTypes.STREAMING:h}),me("span",{className:fe.default.statusText},void 0,v)),me("div",{className:(0,o.default)(fe.default.friendsColumn,ye("guilds"))},void 0,l.map(function(e){return me(Ne,{guild:e},e.id)}),t),me("div",{className:(0,o.default)(fe.default.friendsColumn,ye("actions"),(e={},e[ye("actions-visible")]=m,e))},void 0,f))}}),we=me(Pe,{}),Ue=me(Pe,{}),ke=me(Pe,{}),Ge=me(Me,{column:"actions"}),Fe=function(){return me("div",{className:fe.default.friendsTableHeader},void 0,me(Me,{column:"name"},void 0,de.default.Messages.FRIENDS_COLUMN_NAME),we,me(Me,{column:"status"},void 0,de.default.Messages.FRIENDS_COLUMN_STATUS),Ue,me(Me,{column:"guilds"},void 0,de.default.Messages.MUTUAL_GUILDS),ke,Ge)};Fe.displayName="FriendsTableHeader";var je=(0,i.default)({displayName:"AddFriendHeader",mixins:[f.default.StoreListenerMixin(M.default)],getInitialState:function(){return{addFriendError:null,addFriendSuccess:null}},getStateFromStores:function(){return{availablePlatformTypes:M.default.getAvailablePlatformTypes().filter(function(e){return e!==ue.PlatformTypes.FACEBOOK})}},handleAddFriendSubmit:function(e,t){this.setState({addFriendError:e,addFriendSuccess:t})},render:function(){var e,t,n=this.state,r=n.availablePlatformTypes,a=n.addFriendSuccess,i=n.addFriendError;r.length>0&&(t=me("div",{className:fe.default.connectAccounts},void 0,me("h2",{className:fe.default.oldH2},void 0,de.default.Messages.CONNECT_ACCOUNTS_TITLE),me("h3",{},void 0,de.default.Messages.CONNECT_ACCOUNTS_DESCRIPTION),me("div",{className:fe.default.connectAccountBtnGroup},void 0,r.slice(0,4).map(function(e){return me(ne.default,{type:e,location:"Friends"},e)}))));var l=!1,s=!1,u=de.default.Messages.ADD_FRIEND_DESCRIPTION;return null!=a?(l=!0,u=a):null!=i&&(s=!0,u=i),me("div",{className:fe.default.friendTableAddWrapper},void 0,me("div",{className:fe.default.friendTableAddHeader},void 0,me("div",{className:fe.default.friendsTableAdd},void 0,me("h2",{className:fe.default.oldH2},void 0,de.default.Messages.ADD_FRIEND),me("div",{className:(0,o.default)(fe.default.friendTableAddDescription,(e={},e[fe.default.success]=l,e[fe.default.error]=s,e))},void 0,u),me(J.default,{onSubmit:this.handleAddFriendSubmit})),t),me("div",{className:fe.default.friendTableSuggestionsHeader},void 0,me("h2",{className:fe.default.oldH2},void 0,de.default.Messages.FRIEND_SUGGESTIONS)))}}),xe=me(ie.default.Divider,{}),Be=me(je,{}),He=me(Fe,{}),Ve=me(ie.default.Divider,{}),Ye=(0,i.default)({displayName:"Friends",mixins:[s.default,f.default.StoreListenerMixin(U.default,P.default,R.default)],getStateFromStores:function(){return ve({suggestionCount:P.default.getSuggestionCount(),relationshipCount:R.default.getRelationshipCount(),suggestions:P.default.getSuggestions(),video:b.default.supports(p.Features.VIDEO)},U.default.getState())},componentDidMount:function(){v.setHomeLink(ue.Routes.FRIENDS)},handleItemSelect:function(e){E.default.setSection(e)},handleAddFriend:function(){E.default.setSection(ue.FriendsSections.ADD_FRIEND)},renderHeaderToolbar:function(){return me(a.Fragment,{},void 0,me(le.default,{tooltip:de.default.Messages.NEW_GROUP_DM}),xe)},render:function(){var e,t,n,r=this.state,i=r.section,l=r.suggestions,s=r.rows,u=r.video,d=r.suggestionCount,c=r.pendingCount,f=r.relationshipCount;i===ue.FriendsSections.ADD_FRIEND?(t=l.map(function(e){return a.createElement(Le,e)}),n=Be):(t=s.filter(i).map(function(e){return a.createElement(De,ve({},e.toJS(),{video:u}))}),n=He);var p=0===t.length?[me(Ce,{type:i,onClick:this.handleAddFriend},i)]:t;return p=f>=64?me(ae.default,{className:fe.default.friendsTableBody,elementHeight:62,theme:V.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,p):me(V.default,{className:fe.default.friendsTableBody,theme:V.default.Themes.MESSAGES_THEMED_WITH_TRACK},void 0,me(h.default,{transitionAppear:!1,component:"div"},void 0,p)),me("div",{className:fe.default.container},void 0,me(ie.default,{renderToolbar:this.renderHeaderToolbar},void 0,me(ie.default.Icon,{name:H.default.Names.PERSON_WAVING}),me(ie.default.Title,{},void 0,de.default.Messages.FRIENDS),Ve,me(Y.default,{selectedItem:i,type:Y.Types.TOP_PILL,onItemSelect:this.handleItemSelect,className:fe.default.tabBar},void 0,me(Y.Item,{id:ue.FriendsSections.ONLINE,className:fe.default.item},void 0,de.default.Messages.FRIENDS_SECTION_ONLINE),me(Y.Item,{id:ue.FriendsSections.ALL,className:fe.default.item},void 0,de.default.Messages.FRIENDS_SECTION_ALL),me(Y.Item,{id:ue.FriendsSections.PENDING,className:fe.default.item},void 0,de.default.Messages.FRIENDS_SECTION_PENDING,c>0?me(z.NumberBadge,{count:c,className:fe.default.badge,style:{paddingRight:0}}):null),me(Y.Item,{id:ue.FriendsSections.BLOCKED,className:fe.default.item},void 0,de.default.Messages.BLOCKED),me(Y.Item,{className:(0,o.default)(fe.default.item,(e={},e[fe.default.primary]=i!==ue.FriendsSections.ADD_FRIEND,e[fe.default.primarySelected]=i===ue.FriendsSections.ADD_FRIEND,e)),id:ue.FriendsSections.ADD_FRIEND},void 0,de.default.Messages.FRIENDS_SECTION_ADD_FRIEND,d>0?me(z.NumberBadge,{count:d,className:fe.default.badge,color:i!==ue.FriendsSections.ADD_FRIEND?ue.Colors.WHITE:ue.Colors.STATUS_RED,style:{paddingRight:0,color:i!==ue.FriendsSections.ADD_FRIEND?ue.Colors.STATUS_GREEN:ue.Colors.WHITE}}):null))),me("div",{className:fe.default.friendsTable},void 0,n,p))}});t.default=Ye,e.exports=t.default},7762:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(304)),i=p(n(439)),l=p(n(858)),s=p(n(124)),u=n(7763),d=n(0),c=p(n(13)),f=p(n(5840));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,o.default)({displayName:"AddFriendInput",mixins:[i.default],getInitialState:function(){return{canSend:!1,hint:""}},handleSubmit:function(e){var t=this;e.preventDefault();var n=this.props.onSubmit,r=this.refs.INPUT_REF.value.trim(),a=(0,u.validateDiscordTag)(r);null!=a?n(a):(this.setState({canSend:!1}),l.default.sendRequest(r,{location:"Add Friend"}).then(function(){n(null,c.default.Messages.ADD_FRIEND_SUCCESS.format({discordTag:r})),t.refs.INPUT_REF.value="",t.setState(t.getInitialState(),t.focus)},function(e){n((0,u.humanizeAbortCode)(e.body.code,r)),t.setState({canSend:!0})}))},handleChange:function(e){var t=e.currentTarget.value;if(t.length>0){var n=t.split("#")[1];this.setState({hint:t+d.PLACEHOLDER_TAG.slice(null!=n?n.length+1:0),canSend:!0})}else this.setState({hint:"",canSend:!1});this.props.onError&&this.props.onError(null)},handleKeyPress:function(e){var t=e.currentTarget.value;if(13!==e.which){var n=t.indexOf("#");if(n>-1){var r=this.refs.INPUT_REF.selectionStart,a=8===e.which||37===e.which||39===e.which,o=e.which>=48&&e.which<=57;r>n&&/^(.+?#\d{4})$/.test(t)&&!a?e.preventDefault():r>n&&!o&&!a&&e.preventDefault()}}},focus:function(){this.refs.INPUT_REF.focus()},renderHint:function(){return h("div",{className:f.default.addFriendHint,onClick:this.focus},void 0,this.state.hint)},render:function(){var e=this.state.canSend;return h("form",{className:f.default.wrapper,onSubmit:this.handleSubmit},void 0,a.createElement("input",{ref:"INPUT_REF",className:f.default.addFriendInput,placeholder:c.default.Messages.ADD_FRIEND_PLACEHOLDER,onKeyPress:this.handleKeyPress,onChange:this.handleChange,autoFocus:!0,maxLength:37}),this.renderHint(),h(s.default,{size:s.default.Sizes.SMALL,disabled:!e,type:"submit"},void 0,c.default.Messages.ADD_FRIEND_BUTTON))}});t.default=v,e.exports=t.default},7763:function(e,t,n){"use strict";t.__esModule=!0,t.validateDiscordTag=function(e){if(/^(.+?@.+?\..+?|.+?#\d{4})$/.test(e))return null;if(/^DiscordTag/i.test(e))return o.default.Messages.ADD_FRIEND_ERROR_DISCORD_TAG_USERNAME;if(/^\d+$/.test(e))return o.default.Messages.ADD_FRIEND_ERROR_NUMBERS_ONLY;if(e.length>0&&-1===e.indexOf("#"))return o.default.Messages.ADD_FRIEND_ERROR_USERNAME_ONLY.format({username:e});return o.default.Messages.ADD_FRIEND_ERROR_OTHER},t.humanizeAbortCode=function(e,t){switch(e){case a.AbortCodes.RELATIONSHIP_INCOMING_DISABLED:return o.default.Messages.ADD_FRIEND_ERROR_INVALID_DISCORD_TAG.format({discordTag:t});case a.AbortCodes.RELATIONSHIP_INCOMING_BLOCKED:case a.AbortCodes.RELATIONSHIP_INVALID_SELF:case a.AbortCodes.RELATIONSHIP_INVALUD_USER_BOT:case a.AbortCodes.RELATIONSHIP_INVALID_DISCORD_TAG:default:return o.default.Messages.ADD_FRIEND_ERROR_OTHER}};var r,a=n(0),o=(r=n(13))&&r.__esModule?r:{default:r}},7764:function(e,t,n){e.exports=n.p+"c7e67cd728f25433eb5b7c1f9dba225e.svg"},7765:function(e,t,n){e.exports=n.p+"88ae294007700a195d8ff49d8f5a01ac.svg"},7766:function(e,t,n){e.exports=n.p+"77abb58874a4aa3b9a6b6efa852430cf.svg"},7767:function(e,t,n){e.exports=n.p+"dd9f22c9e2365062db9d5f75c870e5d7.svg"},7768:function(e,t,n){e.exports=n.p+"6b7098de4cc16f7e431ad8f9aae7f6db.svg"},7769:function(e,t,n){e.exports=n.p+"b5eb2f7d6b3f8cc9b60be4a5dcf28015.svg"},7770:function(e,t,n){e.exports=n.p+"d834d700306f3838c0facef39e7d8a38.svg"},7771:function(e,t,n){e.exports=n.p+"a12ff54c4c5c03b41006fd96a4709c29.svg"},7772:function(e,t,n){e.exports=n.p+"645df33d735507f39c78ce0cac7437f0.svg"},7773:function(e,t,n){e.exports=n.p+"8c998f8fb62016fcfb4901e424ff378b.svg"},7774:function(e,t,n){e.exports=n.p+"c84361b810ca7c10d6e8ddb6ea722ebe.svg"},7775:function(e,t,n){e.exports=n.p+"b669713872b43ca42333264abf9c858e.svg"},7776:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(6)),i=E(n(3)),l=n(302),s=S(n(477)),u=E(n(5369)),d=E(n(85)),c=E(n(235)),f=E(n(14)),p=E(n(7777)),h=n(106),v=E(n(5358)),m=E(n(6953)),y=E(n(5359)),_=n(0),g=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleUserContextMenu=function(e,t){(0,l.openContextMenu)(e,function(e){return a.createElement(v.default,O({},e,{type:_.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.renderOverflowPopout=function(){var e=t.props.party;return t.hasParty(e)?T(m.default,{party:e,header:g.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:e.length})}):null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidUpdate=function(e){this.hasParty(this.props.party)!==this.hasParty(e.party)&&h.ComponentDispatch.dispatch(_.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE)},o.hasParty=function(e){return e.length>1},o.handleStopListening=function(){s.stopSyncing()},o.renderUserPopout=function(e,t){return a.createElement(y.default,O({},e,{user:t}))},o.render=function(){var e=this.props,t=e.currentUser,n=e.host,r=e.party;return this.hasParty(r)?T(p.default,{currentUser:t,host:n,party:r,renderUserPopout:this.renderUserPopout,renderOverflowPopout:this.renderOverflowPopout,onStopListening:this.handleStopListening,onUserContextMenu:this.handleUserContextMenu}):null},r}(a.PureComponent);I.displayName="ListeningAlong";var C=i.default.connectStores([c.default,f.default,u.default],function(){var e,t,n=c.default.getSyncingWith(),r=c.default.getActivity(),a=f.default.getCurrentUser(),i=[];return null!=n?(e=f.default.getUser(n.userId),t=n.partyId):null!=r&&null!=r.party&&null!=r.party.id&&(e=a,t=r.party.id),null!=t&&(i=(0,o.default)(Array.from(u.default.getParty(t)||[])).map(function(e){return f.default.getUser(e)}).filter(function(e){return null!=e}).orderBy([function(t){return null==e||e.id===t.id},function(e){return d.default.isFriend(e.id)}],["desc","desc"]).value()),{currentUser:a,host:e,party:i}})(I);t.default=C,e.exports=t.default},7777:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(309)),l=_(n(305)),s=_(n(5992)),u=_(n(219)),d=_(n(148)),c=_(n(301)),f=_(n(821)),p=_(n(6080)),h=_(n(437)),v=n(0),m=_(n(13)),y=_(n(5842));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=5,S=4,T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPartyMember=function(e,n){if(null==e)return null;var r,a=t.props,i=a.host,l=a.renderUserPopout,u=a.onUserContextMenu;r=i.id===e.id?m.default.Messages.SPOTIFY_LISTEN_ALONG_HOST:m.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENER;var d=g(s.default,{src:e.getAvatarURL("png"),size:s.default.Sizes.XSMALL,className:(0,o.default)(y.default.clickable,n),onContextMenu:function(t){return null!=u&&null!=e&&u(t,e)}},e.id);return r&&(d=g(h.default,{text:r},void 0,d)),d=g(f.default,{render:function(t){return null!=e&&l(t,e)}},e.id,d)},t.renderPartyMemberOverflow=function(e,n,r){var a=t.props.renderOverflowPopout;return g(f.default,{render:a},r,g(h.default,{text:m.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENERS},void 0,g("div",{className:(0,o.default)(n,y.default.clickable)},void 0,e)))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isHost=function(){var e=this.props,t=e.currentUser,n=e.host;return t.id===n.id},a.renderTitle=function(){return g("div",{className:y.default.textWrap},void 0,g("div",{className:y.default.title},void 0,this.isHost()?m.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_HOST.format({count:this.props.party.length}):m.default.Messages.SPOTIFY_LISTEN_ALONG_TITLE_LISTENER),g("div",{className:y.default.subtitle},void 0,m.default.Messages.SPOTIFY_LISTEN_ALONG_SUBTITLE_LISTENER))},a.renderStopListeningButton=function(){var e=this.props.onStopListening;return this.isHost()?null:g(h.default,{text:m.default.Messages.SPOTIFY_LISTEN_ALONG_STOP},void 0,g(u.default,{onClick:e},void 0,g(c.default,{name:c.default.Names.CLOSE,className:y.default.actionIcon})))},a.renderHelpIcon=function(){return this.isHost()?g(h.default,{text:m.default.Messages.SPOTIFY_LISTEN_ALONG_INFO},void 0,g(l.default,{href:i.default.getArticleURL(v.HelpdeskArticles.SPOTIFY_CONNECTION),className:y.default.iconLink},void 0,g(c.default,{name:c.default.Names.INFO,className:y.default.actionIcon}))):null},a.render=function(){return g("div",{className:y.default.listeningAlong},void 0,this.renderTitle(),g(d.default,{justify:d.default.Justify.END,className:y.default.party},void 0,g(p.default,{users:this.props.party,max:this.isHost()?E:S,renderUser:this.renderPartyMember,renderMoreUsers:this.renderPartyMemberOverflow})),g("div",{className:y.default.icons},void 0,this.renderHelpIcon(),this.renderStopListeningButton()))},r}(a.PureComponent);T.displayName="ListeningAlong";var O=T;t.default=O,e.exports=t.default},7778:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=le(n(2)),l=ie(n(6)),s=n(221),u=ie(n(3)),d=n(56),c=ie(n(826)),f=ie(n(180)),p=ie(n(839)),h=n(466),v=le(n(7779)),m=ie(n(131)),y=n(830),_=ie(n(77)),g=ie(n(502)),E=ie(n(6677)),S=le(n(906)),T=ie(n(132)),O=ie(n(6254)),I=le(n(841)),C=ie(n(6168)),N=n(7780),A=le(n(903)),M=ie(n(824)),P=ie(n(155)),b=ie(n(12)),R=ie(n(20)),L=ie(n(57)),D=ie(n(41)),w=ie(n(46)),U=ie(n(6318)),k=ie(n(49)),G=ie(n(14)),F=ie(n(7166)),j=ie(n(7167)),x=ie(n(176)),B=ie(n(305)),H=ie(n(219)),V=ie(n(148)),Y=ie(n(301)),W=ie(n(438)),K=ie(n(18)),z=ie(n(309)),$=ie(n(9)),q=ie(n(222)),X=ie(n(7781)),Q=ie(n(450)),J=n(6676),Z=ie(n(6040)),ee=ie(n(7783)),te=le(n(7784)),ne=ie(n(7785)),re=n(0),ae=ie(n(13)),oe=ie(n(5847));function ie(e){return e&&e.__esModule?e:{default:e}}function le(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function se(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ue=function(){return se("div",{className:oe.default.noticeDanger},void 0,se(H.default,{className:oe.default.dismiss,onClick:function(){g.default.dismiss(),_.default.push(ne.default)},"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.NOTICE_NO_INPUT_DETECTED,se(B.default,{className:oe.default.button,href:z.default.getArticleURL(re.HelpdeskArticles.NO_INPUT_DETECTED)},void 0,ae.default.Messages.NOTICE_NO_INPUT_DETECTED_HELP_LINK_TEXT))};ue.displayName="AudioIssueNoticeHelpdesk";var de=function(){return se("div",{className:oe.default.noticeDanger},void 0,se(H.default,{className:oe.default.dismiss,onClick:function(){g.default.dismiss(),_.default.push(ne.default)},"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS,se(B.default,{className:oe.default.button,onClick:function(){(0,y.pushLayer)(re.Layers.USER_SETTINGS),M.default.setSection(re.UserSettingsSections.VOICE)}},void 0,ae.default.Messages.NOTICE_NO_INPUT_DETECTED_SETTINGS_LINK_TEXT))};de.displayName="AudioIssueNoticeMicTester";var ce=(0,Z.default)($.default.embedded?F.default:j.default,((a={})[re.ExperimentTypes.NONE]=ue,a[re.ExperimentTypes.USER]=((r={})[re.ExperimentBuckets.NOT_ELIGIBLE]=ue,r[re.ExperimentBuckets.CONTROL]=ue,r[re.ExperimentBuckets.TREATMENT_1]=de,r),a)),fe=se(ue,{}),pe=se(ce,{}),he=u.default.connectStores([U.default,G.default,b.default],function(){return{currentUser:G.default.getCurrentUser(),notice:U.default.getNotice(),isGuest:b.default.isGuest()}})(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.notice;null!=e&&this.trackNoticeDisplayed(e.type)},a.componentDidUpdate=function(e){var t=e.notice,n=this.props.notice;if(null==n||null!=t&&t.type===n.type||this.trackNoticeDisplayed(n.type),null!=n&&null!=t&&n.type===re.NoticeTypes.SURVEY&&t.type===re.NoticeTypes.SURVEY){var r=n.metadata;if(null!=r&&null!=t.metadata&&r.id!==t.metadata.id){var a=L.default.getEligibleExperiment(r.id);null!=a&&m.default.trigger(a)}}},a.trackNoticeDisplayed=function(e){K.default.track(re.AnalyticEvents.APP_NOTICE_VIEWED,{notice_type:e})},a.dismiss=function(){g.default.dismiss()},a.renderNotice=function(){var e=this,t=this.props,n=t.notice,r=t.isGuest;if(null==n)return null;if(r)return null;switch(n.type){case re.NoticeTypes.GENERIC:return se("div",{className:oe.default.noticeDefault},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),n.message,null!=n.buttonText?se("button",{className:oe.default.button,onClick:n.callback},void 0,n.buttonText):null);case re.NoticeTypes.VOICE_DISABLED:return se("div",{className:oe.default.noticeDefault},void 0,se(H.default,{className:oe.default.dismiss,onClick:function(){null!=k.default.getVoiceChannelId()&&T.default.clearVoiceChannel(),e.dismiss()},"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.NOTICE_CONNECTION_CONFLICT,se("button",{className:oe.default.button,onClick:function(){var e=k.default.getVoiceChannelId();if(null!=e){var t=R.default.getChannel(e);null!=t&&T.default.selectVoiceChannel(t.getGuildId(),e)}}},void 0,ae.default.Messages.RECONNECT));case re.NoticeTypes.SPOTIFY_AUTO_PAUSED:var a=P.default.get(re.PlatformTypes.SPOTIFY);return se("div",{className:oe.default.noticeDanger},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),se("img",{alt:"",className:oe.default.platformIcon,src:a.icon.white}),ae.default.Messages.NOTICE_SPOTIFY_AUTO_PAUSED,se("button",{className:oe.default.button,onClick:function(){return M.default.open(re.UserSettingsSections.VOICE)}},void 0,ae.default.Messages.VOICE_SETTINGS),se(B.default,{className:oe.default.textLinkSmall,href:z.default.getArticleURL(re.HelpdeskArticles.SPOTIFY_AUTO_PAUSED),target:"_blank"},void 0,ae.default.Messages.NOTICE_WHATS_THIS));case re.NoticeTypes.UNCLAIMED_ACCOUNT:return se("div",{className:oe.default.noticeDefault},void 0,ae.default.Messages.NOTICE_UNCLAIMED_ACCOUNT,se("button",{className:oe.default.button,onClick:function(){return(0,h.open)()}},void 0,ae.default.Messages.CLAIM_ACCOUNT));case re.NoticeTypes.UNVERIFIED_ACCOUNT:return se("div",{className:oe.default.noticeDefault},void 0,ae.default.Messages.NOTICE_UNVERIFIED_ACCOUNT,se("button",{className:oe.default.button,onClick:function(){var t=e.props.currentUser;p.default.verifyResend(),f.default.show({title:ae.default.Messages.VERIFICATION_EMAIL_TITLE,body:ae.default.Messages.VERIFICATION_EMAIL_BODY.format({email:t.email}),minorText:ae.default.Messages.CHANGE_EMAIL,onConfirmSecondary:h.open})}},void 0,ae.default.Messages.RESEND));case re.NoticeTypes.DOWNLOAD_NAG:return se("div",{className:oe.default.noticeDefault},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.NOTICE_NATIVE_APPS,se("i",{className:oe.default.iconApple}),se("i",{className:oe.default.iconAndroid}),se("i",{className:oe.default.iconWindows}),se("button",{className:oe.default.button,onClick:function(){return _.default.push(Q.default,{source:"Top Bar Nag"})}},void 0,ae.default.Messages.DOWNLOAD));case re.NoticeTypes.SCHEDULED_MAINTENANCE:return null==n.metadata?null:se("div",{className:oe.default.noticeInfo},void 0,se(H.default,{className:oe.default.dismiss,onClick:function(){return O.default.ackScheduledMaintenance()},"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.NOTICE_SCHEDULED_MAINTENANCE.format(n.metadata),se(B.default,{className:oe.default.button,href:re.STATUS_PAGE_ENDPOINT+"/incidents/"+n.metadata.id},void 0,ae.default.Messages.LEARN_MORE));case re.NoticeTypes.NO_INPUT_DETECTED:return w.default.supports(d.Features.LOOPBACK)?pe:fe;case re.NoticeTypes.HARDWARE_MUTE:if(null==n.metadata)return null;var o=n.metadata,i=o.vendor,u=o.model;return se("div",{className:oe.default.noticeDanger},void 0,ae.default.Messages.NOTICE_HARDWARE_MUTE.format({vendorName:i.name,modelName:u.name}),se(B.default,{className:oe.default.button,href:u.url,target:"_blank",rel:"noreferrer noopener"},void 0,ae.default.Messages.SUPPORT));case re.NoticeTypes.STREAMER_MODE:return se("div",{className:oe.default.noticeStreamerMode},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.NOTICE_STREAMER_MODE_TEXT,se("button",{className:oe.default.button,onClick:function(){return C.default.setEnabled(!1)}},void 0,ae.default.Messages.DISABLE));case re.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS:if(!Array.isArray(n.metadata))return null;var c,m=l.default.uniq(n.metadata.map(function(e){return P.default.get(e.type)})),y=m.map(function(e){return e.name}),g=y[0],b=y[1],L=y[2];return c=1===y.length?ae.default.Messages.NOTICE_ONE_PLATFORM_ACCOUNT.format({a:g}):2===y.length?ae.default.Messages.NOTICE_TWO_PLATFORM_ACCOUNTS.format({a:g,b:b}):3===y.length?ae.default.Messages.NOTICE_THREE_PLATFORM_ACCOUNTS.format({a:g,b:b,c:L}):ae.default.Messages.NOTICE_FOUR_OR_MORE_PLATFORM_ACCOUNTS.format({a:g,b:b,c:L}),se("div",{className:oe.default.noticeBrand},void 0,se(H.default,{className:oe.default.dismiss,onClick:function(){e.dismiss(),E.default.ignore()},"aria-label":ae.default.Messages.DISMISS}),m.map(function(e){return se("img",{alt:e.name,className:oe.default.platformIcon,src:e.icon.color},e.type)}),c,se("button",{className:oe.default.button,onClick:function(){return E.default.changeDisplayType(re.DetectedPlatformAccountsDisplayTypes.MODAL)}},void 0,ae.default.Messages.SETUP));case re.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK:if(null==n.metadata)return null;var U=n.metadata,G=U.skuId,F=U.applicationId,j=x.default.get(G),$=D.default.getGame(F);return null==j||null==$?null:se("div",{className:oe.default.noticePremiumGrandfathered},void 0,se(H.default,{className:oe.default.dismiss,onClick:function(){return v.dismiss(j.id)},"aria-label":ae.default.Messages.DISMISS}),se(Y.default,{name:Y.default.Names.NITRO_WHEEL,className:oe.default.premiumIcon}),ae.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_MESSAGE.format({applicationName:$.name,skuName:j.name}),se("button",{className:oe.default.button,onClick:function(){return S.openIAPPurchaseModal($.id,j.id,{page:re.AnalyticsPages.IN_APP}).then(function(){return v.dismiss(j.id)})}},void 0,ae.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_PREMIUM_PERK_BUTTON));case re.NoticeTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL:if(null==n.metadata)return null;var Z=n.metadata,ne=Z.skuId,ie=Z.applicationId,le=x.default.get(ne),ue=D.default.getGame(ie);return null==le||null==ue?null:se("div",{className:oe.default.noticePremiumGrandfathered},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),se(Y.default,{name:Y.default.Names.NITRO_WHEEL,className:oe.default.premiumIcon}),ae.default.Messages.NOTICE_DETECTED_OFF_PLATFORM_NO_PREMIUM_PERK_MESSAGE.format({applicationName:ue.name,skuName:le.name}),se(s.Link,{className:oe.default.button,onClick:this.dismiss,to:{pathname:re.Routes.APPLICATION_STORE_LISTING_SKU(le.id),state:{scrollRestoration:!1}}},void 0,ae.default.Messages.LEARN_MORE));case re.NoticeTypes.SURVEY:var de=n.metadata;return null==de?null:se("div",{className:oe.default.noticeSurvey,style:null!=de.noticeColor?{backgroundColor:de.noticeColor}:null},void 0,se(H.default,{className:oe.default.dismiss,onClick:function(){(0,N.surveyHide)(de.id,!0)},"aria-label":ae.default.Messages.DISMISS}),de.noticeContent,se("button",{className:oe.default.button,onClick:function(){var e="function"==typeof de.url?de.url():de.url;window.open(e,"_blank"),(0,N.surveyHide)(de.id,!1)}},void 0,de.noticeButton));case re.NoticeTypes.CORRUPT_INSTALLATION:return se("div",{className:oe.default.noticeDanger},void 0,ae.default.Messages.NOTICE_CORRUPT_INSTALLATION,se(B.default,{className:oe.default.button,href:z.default.getArticleURL(re.HelpdeskArticles.CORRUPT_INSTALLATION),target:"_blank"},void 0,ae.default.Messages.NOTICE_CORRUPT_INSTALLATION_HELP_LINK_TEXT));case re.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER:return se("div",{className:oe.default.noticeDefault},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.VIDEO_UNSUPPORTED_BROWSER_BODY,se("button",{className:oe.default.button,onClick:function(){return _.default.push(Q.default,{source:"Video unsupported browser"})}},void 0,ae.default.Messages.DOWNLOAD));case re.NoticeTypes.ACTIVITY_JOIN_REQUEST:return se(X.default,{},n.type);case re.NoticeTypes.CONNECT_SPOTIFY:return se("div",{className:oe.default.noticeSpotify},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),se(Y.default,{name:Y.default.Names.PLATFORM_SPOTIFY,className:oe.default.platformIcon}),ae.default.Messages.NOTICE_CONNECT_SPOTIFY,se("button",{className:oe.default.button,onClick:function(){return(0,J.authorize)(re.PlatformTypes.SPOTIFY,"Notice Bar")}},void 0,ae.default.Messages.CONNECT));case re.NoticeTypes.PREMIUM_PROMO:return se("div",{className:oe.default.noticePremium},void 0,se("span",{className:oe.default.premiumLogo}),se("span",{className:oe.default.premiumText},void 0,ae.default.Messages.NOTICE_PREMIUM_PROMO_MESSAGE),se("button",{className:oe.default.premiumAction,onClick:function(){K.default.track(re.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:re.AnalyticsSections.NOTIFICATION_BAR,location_object:re.AnalyticsObjects.BUTTON_CTA}),M.default.open(re.UserSettingsSections.PREMIUM)}},void 0,ae.default.Messages.NOTICE_PREMIUM_PROMO_ACTION),se(H.default,{tag:"span",className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}));case re.NoticeTypes.MFA_SMS_BACKUP:return se("div",{className:oe.default.noticeInfo},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),ae.default.Messages.NOTICE_MFA_SMS_BACKUP,se("button",{className:oe.default.button,onClick:function(){return M.default.open(re.UserSettingsSections.ACCOUNT)}},void 0,ae.default.Messages.NOTICE_MFA_SMS_BACKUP_BUTTON));case re.NoticeTypes.DISPATCH_ERROR:if(null==n.metadata)return null;var ce=n.metadata.error;return se("div",{className:oe.default.noticeDanger},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),ce.displayMessage,se("button",{className:oe.default.button,onClick:function(){return _.default.push(ee.default)}},void 0,ae.default.Messages.LEARN_MORE));case re.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS:if(null==n.metadata)return null;var he=n.metadata,ve=he.progress,me=he.total,ye=he.name;return se("div",{className:oe.default.noticeInfo},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),se(V.default,{justify:V.default.Justify.CENTER},void 0,null!=ye?ae.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS_WITH_NAME.format({name:""+ye,progress:""+ve,total:""+me}):ae.default.Messages.NOTICE_DISPATCH_INSTALL_SCRIPT_PROGRESS.format({progress:""+ve,total:""+me}),se(W.default,{type:W.default.Type.PULSING_ELLIPSIS,className:oe.default.ellipsis})));case re.NoticeTypes.APPLICATION_TEST_MODE:return null==n.metadata?null:se("div",{className:oe.default.noticeDefault},void 0,se(V.default,{justify:V.default.Justify.CENTER,align:V.default.Align.CENTER},void 0,se("div",{},void 0,ae.default.Messages.NOTICE_APPLICATION_TEST_MODE.format({applicationName:n.metadata.applicationName})),se(te.default,{dropdownSize:te.TestModeSKUButtonEnums.DropdownSizes.SMALL,className:oe.default.testModeSKUSelector,color:te.TestModeSKUButtonEnums.Colors.WHITE,look:te.TestModeSKUButtonEnums.Looks.OUTLINED,size:te.TestModeSKUButtonEnums.Sizes.MIN,onSKUSelect:function(e){return I.goToSKUStoreListing(e.id,{analyticsSource:{page:null,section:re.AnalyticsSections.NOTIFICATION_BAR,object:re.AnalyticsObjects.NAVIGATION_LINK}})},applicationId:n.metadata.applicationId},void 0,ae.default.Messages.NOTICE_APPLICATION_TEST_MODE_GO_TO_LISTING),se(H.default,{className:oe.default.dismiss,onClick:A.reset,"aria-label":ae.default.Messages.DISMISS})));case re.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED:var _e=n.metadata.plan;return se("div",{className:oe.default.noticePremiumGrandfathered},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),se(Y.default,{name:Y.default.Names.NITRO_WHEEL,className:oe.default.premiumIcon}),ae.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED.format({date:q.default.getGrandfatheredEndDate(_e)}),se(s.Link,{className:oe.default.button,to:{pathname:re.Routes.APPLICATION_STORE,state:{scrollRestoration:!1}}},void 0,ae.default.Messages.PREMIUM_FEATURE_VIEW_APPLICATIONS));case re.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING:var ge=n.metadata.plan,Ee=q.default.getGrandfatheredEndDate(ge),Se=q.default.getDaysToGrandfatheredEnd(ge);return se("div",{className:oe.default.noticePremiumGrandfathered},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),se(Y.default,{name:Y.default.Names.NITRO_WHEEL,className:oe.default.premiumIcon}),ae.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING.format({numDays:Se,date:Ee}));case re.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED:return se("div",{className:oe.default.noticePremiumGrandfathered},void 0,se(H.default,{className:oe.default.dismiss,onClick:this.dismiss,"aria-label":ae.default.Messages.DISMISS}),se(Y.default,{name:Y.default.Names.NITRO_WHEEL,className:oe.default.premiumIcon}),ae.default.Messages.NOTICE_PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED,se("button",{className:oe.default.button,onClick:function(){K.default.track(re.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_section:re.AnalyticsSections.NOTIFICATION_BAR,location_object:re.AnalyticsObjects.BUTTON_CTA}),M.default.open(re.UserSettingsSections.PREMIUM)}},void 0,ae.default.Messages.LEARN_MORE));default:return null}},a.render=function(){return se(c.default,{component:"div"},void 0,this.renderNotice())},r}(i.PureComponent));t.default=he,e.exports=t.default},7779:function(e,t,n){"use strict";t.__esModule=!0,t.dismiss=function(e){a.default.dispatch({type:o.ActionTypes.DETECTED_OFF_PLATFORM_PREMIUM_PERKS_DISMISS,skuId:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},7780:function(e,t,n){"use strict";t.__esModule=!0,t.surveyHide=function(e,t){r.default.dispatch({type:o.ActionTypes.SURVEY_HIDE,id:e}),a.default.track(o.AnalyticEvents.APP_NOTICE_CLOSED,{notice_type:o.NoticeTypes.SURVEY,survey_id:e,dismissed:t})};var r=i(n(1)),a=i(n(18)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},7781:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=S(n(303)),i=S(n(3)),l=S(n(320)),s=n(901),u=S(n(179)),d=S(n(884)),c=S(n(41)),f=S(n(129)),p=S(n(319)),h=S(n(124)),v=S(n(7782)),m=S(n(148)),y=S(n(6052)),_=n(0),g=S(n(13)),E=S(n(5845));function S(e){return e&&e.__esModule?e:{default:e}}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function I(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var N=40,A=[_.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED,_.ActivityJoinRequestStates.RECEIVER_INVITE_SENT];var M=function(e){function t(){return e.apply(this,arguments)||this}return C(t,e),t.prototype.render=function(){return a.createElement(h.default,O({color:h.default.Colors.WHITE,look:h.default.Looks.OUTLINED,size:h.default.Sizes.MIN,className:E.default.button},this.props))},t}(a.PureComponent);M.displayName="DismissButton";var P=function(e){function t(){return e.apply(this,arguments)||this}return C(t,e),t.prototype.render=function(){var e=this.props.game;if(null==e||null==e.splash)return null;var t=Math.min(window.innerWidth/2,800),n=e.getIconURL(t);return null==n?null:I("div",{className:E.default.gameBackground,style:{backgroundImage:"url("+n+")"}},void 0,I("div",{className:E.default.gameBackgroundOverlay}))},t}(a.PureComponent);P.displayName="GameSplashBackground";var b=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={animateIn:new o.default.Value(0)},T(n).handleSendInvite=n.handleSendInvite.bind(T(n)),T(n).handleJoin=n.handleJoin.bind(T(n)),T(n).handleClose=n.handleClose.bind(T(n)),n}C(t,e);var n=t.prototype;return n.componentDidMount=function(){o.default.timing(this.state.animateIn,{toValue:1,delay:50,duration:150,easing:o.default.Easing.out(o.default.Easing.ease)}).start()},n.renderGameBackground=function(){var e=this.props.game;return null!=e?I(P,{game:e}):null},n.renderGameIcon=function(){var e=this.props.game;if(null==e||null==e.icon)return null;var t=e.getIconURL(20);return null==t?null:I("div",{className:E.default.gameIcon,style:{backgroundImage:"url("+t+")"}})},n.renderMessage=function(){var e=this.props,t=e.joinRequest,n=t.state,r=t.user.username,a=e.activity;if(null==a)return null;var o,i=a.name;switch(n){case _.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:o=g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:i,username:r});break;case _.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:o=g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:i,username:r});break;case _.ActivityJoinRequestStates.SENDER_INVITE_WAITING:o=g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:r});break;case _.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:o=g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:r});break;case _.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:o=g.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:r})}return I("div",{className:E.default.message},void 0,o)},n.renderButtons=function(){switch(this.props.joinRequest.state){case _.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return I("div",{className:E.default.buttonContainer},void 0,I(h.default,{color:h.default.Colors.GREEN,size:h.default.Sizes.MIN,className:E.default.button,onClick:this.handleSendInvite},void 0,g.default.Messages.USER_ACTIVITY_RESPOND_YEAH),I(M,{onClick:this.handleClose},void 0,g.default.Messages.USER_ACTIVITY_RESPOND_NOPE));case _.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return I("div",{className:E.default.buttonContainer},void 0,I(v.default,{className:E.default.button,onClick:this.handleClose},void 0,g.default.Messages.USER_ACTIVITY_NEVER_MIND));case _.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return I("div",{className:E.default.buttonContainer},void 0,I(y.default,{color:h.default.Colors.GREEN,size:h.default.Sizes.MIN,className:E.default.button,onClick:this.handleJoin},void 0,g.default.Messages.USER_ACTIVITY_ACCEPT_INVITE),I(M,{onClick:this.handleClose},void 0,g.default.Messages.USER_ACTIVITY_NEVER_MIND));case _.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return I("div",{className:E.default.buttonContainer},void 0,I(M,{onClick:this.handleClose},void 0,g.default.Messages.OKAY));default:return null}},n.render=function(){return null==this.props.activity?null:I(m.default,{className:E.default.notice},void 0,this.renderGameBackground(),I(o.default.div,{style:{transform:[{translateY:this.state.animateIn.interpolate({inputRange:[0,1],outputRange:["-15px","0px"]})}]},className:E.default.noticeBody},void 0,this.renderGameIcon(),this.renderMessage(),this.renderButtons()))},n.handleSendInvite=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.user.id;(0,s.invite)(n,t)},n.handleJoin=function(){var e=this.props.joinRequest,t=e.applicationId,n=e.secret,r=e.user.id;null!=n&&u.default.joinWithSecret(t,n),(0,s.close)(r)},n.handleClose=function(){(0,s.close)(this.props.joinRequest.user.id)},t}(a.Component);b.displayName="ActivityJoinRequestNotice";var R,L=(R=i.default.connectStores([d.default,c.default],function(){var e,t=d.default.getRequest();return null!=t&&(e=A.includes(t.state)?p.default.getApplicationActivity(t.applicationId):f.default.getApplicationActivity(t.user.id,t.applicationId)),{joinRequest:t,game:t&&c.default.getGame(t.applicationId),activity:e}})(b),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={show:new o.default.Value(0),hiding:!1},t}C(t,e);var n=t.prototype;return n.componentDidAppear=function(){this.state.show.setValue(1)},n.componentWillEnter=function(e){this.animateTo(1,e)},n.componentWillLeave=function(e){this.setState({hiding:!0}),this.animateTo(0,e)},n.animateTo=function(e,t){o.default.timing(this.state.show,{toValue:e,duration:100,easing:o.default.Easing.out(o.default.Easing.ease)}).start(t)},n.shouldComponentUpdate=function(e){return!this.state.hiding&&(0,l.default)(this.props,e)},n.render=function(){return I(o.default.div,{style:{height:this.state.show.interpolate({inputRange:[0,1],outputRange:[0,N]})},className:E.default.animationWrapper},void 0,a.createElement(R,this.props))},t}(a.Component));t.default=L,e.exports=t.default},7782:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(148)),l=u(n(952)),s=u(n(5844));function u(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={width:null},f(n).buttonRef=n.buttonRef.bind(f(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=r.prototype;return u.buttonRef=function(e){null!=e&&this.setState({width:e.offsetWidth})},u.getButtonBorderStyles=function(){var e=this.state.width;if(null==e)return null;var t=1.5*e;return{height:t,marginLeft:-t/2,marginTop:-t/2,width:t}},u.render=function(){var e=this.props,t=e.children,n=e.className,r=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","className"]);return a.createElement("button",d({className:(0,o.default)(l.default.buttonWhiteOutlinedDefault,s.default.button,n),ref:this.buttonRef},r),c("div",{className:l.default.contentsOutlined},void 0,t),c("div",{className:s.default.buttonContents},void 0,c("div",{className:s.default.buttonBorder,style:this.getButtonBorderStyles()}),c(i.default,{align:i.default.Align.CENTER,justify:i.default.Justify.CENTER,className:s.default.buttonInner},void 0,t)))},r}(a.PureComponent);p.displayName="ButtonWithSpinningBorder";var h=p;t.default=h,e.exports=t.default},7783:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(3)),i=m(n(77)),l=m(n(6319)),s=m(n(41)),u=m(n(124)),d=m(n(148)),c=m(n(220)),f=m(n(107)),p=m(n(309)),h=m(n(13)),v=m(n(5846));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.openSupportTicket=function(){window.open(p.default.getSubmitRequestURL())},a.close=function(){i.default.pop()},a.render=function(){var e=this.props,t=e.error,n=e.applicationName;return y(c.default,{size:c.default.Sizes.SMALL},void 0,y(c.default.Header,{},void 0,y(d.default.Child,{grow:1},void 0,y(f.default,{tag:f.default.Tags.H4},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_HEADER)),y(d.default.Child,{grow:0},void 0,y(c.default.CloseButton,{onClick:this.close}))),y(c.default.Content,{},void 0,y("div",{className:v.default.body},void 0,y("div",{},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_DESCRIPTION.format({link:"https://dis.gd/dispatch-error"})),y("div",{className:v.default.supportCallToAction},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_BODY),y("div",{className:v.default.errorLabel},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_ERROR_LABEL),y("div",{className:v.default.errorDetails},void 0,y("div",{},void 0,null!=n?"Game: "+n+"\n":null,null!=t.applicationId?"Game ID: "+t.applicationId+"\n":null,null!=t.branchId&&t.applicationId!==t.branchId?"Branch ID: "+t.branchId+"\n":null,null!=t.code?"Error Code: "+t.code+"\n":null,null!=t.uuid?"Unique Case ID: "+t.uuid:null)))),y(c.default.Footer,{},void 0,y(u.default,{onClick:this.openSupportTicket},void 0,h.default.Messages.DISPATCH_ERROR_MODAL_OPEN_TICKET),y(u.default,{look:u.default.Looks.LINK,onClick:this.close,color:v.default.closeLink},void 0,h.default.Messages.CLOSE)))},r}(a.Component);_.displayName="DispatchErrorModal";var g=o.default.connectStores([l.default,s.default],function(){var e=l.default.getLastError(),t=null;if(null!=e&&null!=e.applicationId){var n=s.default.getGame(e.applicationId);null!=n&&(t=n.name)}return{error:e,applicationName:t}})(_);t.default=g,e.exports=t.default},7784:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.TestModeSKUButtonEnums=void 0;var r,a=h(n(2)),o=p(n(3)),i=h(n(302)),l=p(n(41)),s=p(n(86)),u=p(n(176)),d=n(127),c=p(n(5991)),f=p(n(6715));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y={DropdownSizes:f.default.DropdownSizes,Sizes:f.default.Sizes,Colors:f.default.Colors,Looks:f.default.Looks};t.TestModeSKUButtonEnums=y;var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderContextMenu=function(e){var n=e.className,r=e.style,a=t.props,o=a.skus,l=a.onSKUSelect;return m("div",{className:n,style:r},void 0,o.map(function(e){return m(c.default,{label:e.name,action:function(){i.closeContextMenu(),l&&l(e)}},e.id)}))},t.handleContextMenu=function(e){e.stopPropagation(),i.openContextMenu(e,t.renderContextMenu)},t.handleClick=function(){var e=t.props,n=e.onSKUSelect,r=e.primarySKU;n&&null!=r&&n(r)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.skus,n=e.children,r=(e.applicationId,e.primarySKU,e.onSKUSelect,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["skus","children","applicationId","primarySKU","onSKUSelect"]));return a.createElement(f.default,v({onClick:this.handleClick,onDropdownClick:t.length>0?this.handleContextMenu:null,onContextMenu:t.length>0?this.handleContextMenu:null},r),n)},r}(a.PureComponent);_.displayName="TestModeSKUButton";var g=o.default.connectStores([u.default,s.default,l.default],function(e){var t=e.applicationId,n=(0,d.getPrimarySKUForApplication)(t,l.default,u.default);return{skus:(u.default.getForApplication(t)||[]).sort(function(e,t){return null!=n&&e.id===n.id?-1:null!=n&&t.id===n.id?1:e.name>=t.name?-1:1}),primarySKU:n}})(_);t.default=g},7785:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(446)),i=u(n(77)),l=u(n(454)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,a;function u(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).dontShowAgain=function(){o.default.setSilenceWarning(!1),t.okay()},t.okay=function(){i.default.pop()},t}return a=e,(t=u).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,u.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{title:s.default.Messages.CONFIRM_DISABLE_SILENCE_TITLE,body:s.default.Messages.CONFIRM_DISABLE_SILENCE_BODY,minorText:s.default.Messages.CONFIRM_DISABLE_SILENCE_DONT_SHOW,onConfirmSecondary:this.dontShowAgain,onConfirm:this.okay,confirmText:s.default.Messages.OKAY,iconUrl:n(920)})},u}(a.Component);d.displayName="DisableSilence";var c=d;t.default=c,e.exports=t.default},7786:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=D(n(2)),o=L(n(17)),i=L(n(3)),l=n(6075),s=L(n(20)),u=L(n(837)),d=L(n(6232)),c=L(n(86)),f=L(n(129)),p=L(n(85)),h=L(n(6207)),v=L(n(35)),m=L(n(14)),y=L(n(6297)),_=L(n(176)),g=L(n(6053)),E=L(n(448)),S=L(n(301)),T=n(6050),O=n(6047),I=D(n(6954)),C=L(n(6957)),N=L(n(6035)),A=D(n(6044)),M=L(n(6449)),P=n(0),b=L(n(13)),R=L(n(5848));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var k=i.default.connectStores([p.default,d.default],function(){return{badge:p.default.getPendingCount()+d.default.getSuggestionCount()}})(function(e){var t=e.selected,n=e.badge;return U(I.LinkButton,{selected:t,route:P.Routes.FRIENDS,iconName:S.default.Names.PERSON_WAVING,text:b.default.Messages.FRIENDS},void 0,n>0?U(T.NumberBadge,{count:n}):null)}),G=i.default.connectStores([s.default,m.default,f.default,h.default],function(e){var t=e.channel,n=m.default.getUser(t.getRecipientId());return{user:n,status:null!=n?f.default.getStatus(n.id):null,activity:null!=n?f.default.getPrimaryActivity(n.id):null,typing:null!=n?h.default.isTyping(t.id,t.getRecipientId()):null,showMobileIndicator:null!=n&&f.default.isMobileOnline(n.id)}})(I.default);function F(e,t){return U(e.type===P.ChannelTypes.GROUP_DM?I.default:G,{channel:e,selected:t},e.id)}F.displayName="renderChannel";var j=i.default.connectStores([v.default,y.default,g.default,c.default,u.default,E.default,s.default],function(){return{shouldShowPremiumTab:!v.default.disableGamesTab,hasLibraryApplication:c.default.hasLibraryApplication(),storeLink:y.default.getCurrentPath(),homeLink:g.default.getHomeLink(),selectedChannelId:u.default.getChannelId(P.ME),privateChannelIds:E.default.getPrivateChannelIds(),channels:s.default.getChannels(),version:s.default.getPrivateChannelsVersion()}})(C.default),x=function(){return(0,l.show)("DM_SEARCH","@")};var B=i.default.connectStores([v.default,y.default,g.default,c.default,_.default],function(){var e=g.default.getHomeLink(),t=e.startsWith(P.Routes.APPLICATION_STORE_BROWSE)||e===P.Routes.APPLICATION_STORE;if(!t){var n=(0,O.getSKUIdFromURL)(e);if(null!=n){var r=_.default.get(n);t=null!=r&&r.premium}}return{shouldShowPremiumTab:!v.default.disableGamesTab,hasLibraryApplication:c.default.hasLibraryApplication(),storeLink:y.default.getCurrentPath(),homeLink:e,premiumTabSelected:t}})(function(e){var t,n=e.shouldShowPremiumTab,r=e.hasLibraryApplication,i=e.homeLink,l=e.storeLink,s=e.premiumTabSelected,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["shouldShowPremiumTab","hasLibraryApplication","homeLink","storeLink","premiumTabSelected"]);return U("div",{className:R.default.privateChannels},void 0,U(A.default,{tutorialId:"direct-messages",position:A.TutorialIndicatorPositions.RIGHT,offsetY:-18,offsetX:-52},void 0,U("div",{className:R.default.searchBar},void 0,U(N.default,{themeMode:N.default.ThemeModes.DARK,onFocus:x,size:N.default.Sizes.SMALL,onActivate:x,className:R.default.searchBarComponent}))),a.createElement(j,w({},u,{renderChannel:F}),n?U(I.LinkButton,{selected:i===P.Routes.ACTIVITY,route:P.Routes.ACTIVITY,iconName:S.default.Names.ACTIVITY,text:b.default.Messages.ACTIVITY}):null,r||n?U(I.LinkButton,{selected:null!=i&&i.startsWith(P.Routes.APPLICATION_LIBRARY),route:P.Routes.APPLICATION_LIBRARY,iconName:S.default.Names.LIBRARY,text:b.default.Messages.LIBRARY},void 0,U(M.default,{className:(0,o.default)(R.default.downloadProgressCircle,(t={},t[R.default.hideGameUpdateProgressIndicator]=i===P.Routes.APPLICATION_LIBRARY,t))})):null,n?U(I.LinkButton,{selected:s,route:null==l||location.pathname.startsWith(P.Routes.APPLICATION_STORE)?P.Routes.APPLICATION_STORE:l,locationState:{analyticsSource:{page:function(e){switch(e){case P.Routes.ACTIVITY:return P.AnalyticsPages.ACTIVITY_FEED;case P.Routes.APPLICATION_LIBRARY:return P.AnalyticsPages.LIBRARY;case P.Routes.APPLICATION_LIBRARY_INVENTORY:return P.AnalyticsPages.LIBRARY_INVENTORY;case P.Routes.FRIENDS:return P.AnalyticsPages.FRIENDS_LIST}return e.startsWith(P.Routes.APPLICATION_STORE)?e===P.Routes.APPLICATION_STORE?P.AnalyticsPages.STORE_DIRECTORY_HOME:e.startsWith(P.Routes.APPLICATION_STORE_BROWSE)?P.AnalyticsPages.STORE_DIRECTORY_BROWSE:P.AnalyticsPages.STORE_LISTING:P.AnalyticsPages.DM_CHANNEL}(i),section:P.AnalyticsSections.NAVIGATION,object:P.AnalyticsObjects.NAVIGATION_LINK}},iconName:S.default.Names.NITRO_WHEEL,text:b.default.Messages.PREMIUM}):null,U(k,{selected:i===P.Routes.FRIENDS}),U("header",{},void 0,b.default.Messages.DIRECT_MESSAGES)))});t.default=B,e.exports=t.default},7787:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=n(221),s=U(n(3)),u=n(56),d=n(302),c=U(n(6013)),f=U(n(132)),p=U(n(6597)),h=U(n(20)),v=U(n(28)),m=U(n(46)),y=U(n(181)),_=U(n(64)),g=U(n(49)),E=U(n(130)),S=U(n(7168)),T=U(n(6640)),O=U(n(840)),I=U(n(219)),C=U(n(148)),N=U(n(821)),A=U(n(437)),M=U(n(6959)),P=U(n(6961)),b=U(n(6874)),R=U(n(6040)),L=n(0),D=U(n(13)),w=U(n(5388));function U(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(0,R.default)((0,O.default)(L.Experiments.EXPERIMENTAL_ADM,"Experimental Audio Subsystem","Enable experimental audio subsystem."),((a={})[L.ExperimentTypes.USER]=((r={})[L.ExperimentBuckets.CONTROL]=function(e){return null},r[L.ExperimentBuckets.TREATMENT_1]=function(e){return null},r),a));var F=s.default.connectStores([y.default],function(){return{connectionState:y.default.getState(),hostname:y.default.getHostname(),pings:y.default.getPings(),averagePing:y.default.getAveragePing(),lastPing:y.default.getLastPing(),outboundLossRate:y.default.getOutboundLossRate()}})(P.default),j=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){return i.createElement(F,e)},t.handleDisconnect=function(){f.default.selectVoiceChannel(null,null)},t.handleScreenShare=function(e){var n=t.props,r=n.isScreenSharing,a=n.channel,o=_.default.getCurrentGame();r||null!=o?e&&(0,d.openContextMenu)(e,function(e){return i.createElement(b.default,G({},e,{channel:a,game:o}))}):p.default.open(a)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.guild,n=e.channel,r=e.rtcConnectionQuality,a=e.rtcConnectionState,o=e.rtcConnectionLastPing,i=e.hasVideo,s=e.hasGuildVideo,u=e.selectedChannelId,d=e.isScreenSharing,f=e.isCameraGranted,p=e.redesignedActivityPanel;if(null==n)return null;var h,v=n.toString(!0);null!=t?(h=L.Routes.CHANNEL(t.id,s?n.id:u),v=v+" / "+t.name):h=L.Routes.CHANNEL(L.ME,n.id);var m,y,_=k(M.default,{className:s?w.default.status:"",quality:r,state:a,lastPing:o,redesignedActivityPanel:p,hasVideo:i},void 0,p?k(l.Link,{to:h,className:w.default.channel,onClick:function(){return c.default.channelListScrollTo(t?t.id:L.ME,n.id)}},void 0,v):null);return s?(_=k(N.default,{closeOnScroll:!1,render:this.renderPopout,position:N.default.Positions.TOP,showArrow:!0,containerClass:w.default.popout},void 0,k("div",{},void 0,_)),y=f?k(A.default,{text:d?D.default.Messages.SCREEN_SHARE_OPTIONS:D.default.Messages.SCREEN_SHARE_ON},void 0,k(I.default,{onClick:this.handleScreenShare},void 0,k("div",{className:w.default.buttonScreenShare}))):k(A.default,{text:D.default.Messages.SCREENSHARE_UNAVAILABLE},void 0,k("div",{className:w.default.buttonScreenShareDisabled}))):m=k(N.default,{closeOnScroll:!1,render:this.renderPopout,position:N.default.Positions.TOP,showArrow:!0,containerClass:w.default.popout},void 0,k(A.default,{text:D.default.Messages.RTC_CONNECTION_INFO},void 0,k("div",{className:w.default.buttonInfo}))),k("div",{className:w.default.container},void 0,k("div",{className:w.default.inner},void 0,_,p?null:k(l.Link,{to:h,className:w.default.channel,onClick:function(){return c.default.channelListScrollTo(t?t.id:L.ME,n.id)}},void 0,v)),k(C.default,{grow:0,shrink:0},void 0,m,y,k(A.default,{text:D.default.Messages.DISCONNECT},void 0,k(I.default,{onClick:this.handleDisconnect},void 0,k("div",{className:w.default.buttonDisconnect})))))},r}(i.PureComponent);j.displayName="RTCConnection";var x=s.default.connectStores([y.default,m.default,v.default,h.default,g.default,E.default,T.default,S.default],function(){var e=y.default.getGuildId(),t=y.default.getChannelId();return{rtcConnectionQuality:y.default.getQuality(),rtcConnectionState:y.default.getState(),rtcConnectionLastPing:y.default.getLastPing(),hasVideo:null!=t&&E.default.hasVideo(e,t),isScreenSharing:m.default.isScreenSharing(),isCameraGranted:m.default.isEnabled(),guild:v.default.getGuild(e),channel:h.default.getChannel(t),hasGuildVideo:T.default.isAvailable(e)&&m.default.supports(u.Features.DESKTOP_CAPTURE),selectedChannelId:g.default.getChannelId(e),redesignedActivityPanel:S.default.inExperiment}})(j);t.default=x,e.exports=t.default},7788:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(2)),o=m(n(453)),i=m(n(3)),l=y(n(6159)),s=y(n(6636)),u=m(n(35)),d=m(n(892)),c=m(n(5996)),f=m(n(7789)),p=n(0),h=m(n(13)),v=m(n(5864));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=_(o.default,{title:"Discord"}),E=_(f.default,{}),S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){l.mount(),s.setHomeLink(p.Routes.ACTIVITY)},a.componentWillUnmount=function(){l.unmount()},a.renderCustomMessage=function(){return _("div",{},void 0,_("p",{},void 0,h.default.Messages.ERRORS_ACTIVITY_FEED_CRASH),_("p",{},void 0,h.default.Messages.ERRORS_ACTION_TO_TAKE))},a.render=function(){return _(d.default,{theme:this.props.theme,renderCustomMessage:this.renderCustomMessage},void 0,_(c.default,{page:p.AnalyticsPages.ACTIVITY_FEED,root:!0},void 0,_("div",{className:v.default.activityFeed},void 0,g,E)))},r}(a.PureComponent);S.displayName="ActivityFeed";var T=i.default.connectStores([u.default],function(){return{theme:u.default.theme}})(S);t.default=T,e.exports=t.default},7789:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=V(n(2)),o=H(n(6)),i=H(n(96)),l=H(n(3)),s=n(78),u=H(n(1)),d=n(6245),c=n(6717),f=V(n(875)),p=H(n(5996)),h=H(n(460)),v=H(n(6011)),m=H(n(41)),y=H(n(455)),_=H(n(35)),g=H(n(151)),E=H(n(6130)),S=H(n(6766)),T=V(n(6108)),O=H(n(7790)),I=H(n(148)),C=H(n(6718)),N=H(n(308)),A=n(223),M=H(n(18)),P=V(n(159)),b=n(868),R=H(n(9)),L=H(n(6029)),D=H(n(7791)),w=H(n(7794)),U=V(n(7203)),k=H(n(8042)),G=H(n(8044)),F=H(n(8046)),j=n(0),x=H(n(13)),B=H(n(5863));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var K=1e3;function z(){return window.innerHeight<680||window.innerWidth<1200}var $=(0,v.default)(C.default),q=W(O.default,{}),X=W(w.default,{}),Q=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).updateDimensions=function(){n.setState({shouldUseSmallCarousel:z()})},n.trackLoaded=function(){if(!n.tracked){n.tracked=!0,n.updateViewedCards();var e=n.props,t=e.news,r=e.loadId,a=e.quickLauncherApplications,o=new Set,i={load_id:r,num_cards:Object.keys(n.nowPlayingCardRefs).length+Object.keys(n.gameFeedCardRefs).length,num_cards_game_playable:0,game_ids:[],num_cards_visible:n.viewedCards.size,num_game_parties:0,num_game_parties_voice:0,num_game_parties_solo:0,num_game_parties_recently_played:0,num_game_parties_rich_presence:0,num_game_parties_collapsed:0,num_cards_game_news:t.length,num_users_subscribed:y.default.feedUserIDs.size,num_launcher_applications:a.length,window_width:window.innerWidth,window_height:window.innerHeight};for(var l in n.nowPlayingCardRefs){n.nowPlayingCardRefs[l].parties.forEach(function(e){var t=e.showPlayingMembers,n=e.voiceChannels,r=e.currentActivities;i.num_game_parties_voice+=n.length;var a=r,l=Array.isArray(a),s=0;for(a=l?a:a[Symbol.iterator]();;){var u;if(l){if(s>=a.length)break;u=a[s++]}else{if((s=a.next()).done)break;u=s.value}var d=u,c=d.game,f=d.activity,p=d.playingMembers;i.num_game_parties+=1,(0,T.isRealGameId)(c.id)&&o.add(c.id),(0,A.hasRichActivity)(f)&&(i.num_game_parties_rich_presence+=1),1===p.length&&(i.num_game_parties_solo+=1),t||(i.num_game_parties_collapsed+=1)}})}for(var s in n.gameFeedCardRefs){var u=n.gameFeedCardRefs[s],d=u.gameId,c=u.numPlayers;i.num_game_parties_recently_played+=c,o.add(d)}i.game_ids=Array.from(o),M.default.track(j.AnalyticEvents.ACTIVITY_FEED_LOADED,i)}},n.trackExited=function(){var e=Math.floor((Date.now()-n.openedTimestamp)/1e3),t=new Set,r=new Set;Array.from(n.viewedGames).forEach(function(e){var n=m.default.getGame(e);if(null!=n){var a=n.primarySkuId;null!=a&&(t.add(e),r.add(a))}});var a={load_id:n.props.loadId,game_ids_viewed:Array.from(n.viewedGames),store_application_ids_viewed:Array.from(t),store_sku_ids_viewed:Array.from(r),num_games_viewed:n.viewedGames.size,num_cards_viewed:n.viewedCards.size,num_cards_total:Object.keys(n.nowPlayingCardRefs).length+Object.keys(n.gameFeedCardRefs).length,seconds_spent:e};M.default.track(j.AnalyticEvents.ACTIVITY_FEED_EXITED,a)},n.renderItem=function(e,t,r){switch(e.type){case j.ActivityCardTypes.USER:var a=e.party;return W(G.default,{setRef:function(e){return n.setNowPlayingCardRef(e,a.id,[a])},party:a,index:r,loadId:n.props.loadId},a.id);case j.ActivityCardTypes.GAME:var o=e.game,i=e.parties;return W(U.default,{type:U.GameCardTypes.NOW_PLAYING,setActivityFeedCardRef:function(e){return n.setNowPlayingCardRef(e,o.id,i)},game:o,players:i.map(function(e){var t=e.priorityMembers,n=e.currentActivities;return{user:t[0].user,startedPlaying:n[0].startedPlayingTime}}),width:t,index:r,loadId:n.props.loadId},"game-"+o.id)}throw new Error("unknown type of NowPlayingCard")},n.getItemId=function(e){switch(e.type){case j.ActivityCardTypes.USER:return e.party.id;case j.ActivityCardTypes.GAME:return e.game.id}throw new Error("unknown type of NowPlayingCard")},n.hasScrolledPassedCard=function(e){if(null==e)return!1;var t=i.default.findDOMNode(e);return t instanceof HTMLElement&&t.getBoundingClientRect().top<n.scrollerBottom},n.updateViewedCards=function(){if(n.tracked){for(var e in n.nowPlayingCardRefs){var t=n.nowPlayingCardRefs[e],r=t.ref,a=t.parties;n.hasScrolledPassedCard(r)&&(n.viewedCards.add(e),a.forEach(function(e){var t=e.currentActivities,r=Array.isArray(t),a=0;for(t=r?t:t[Symbol.iterator]();;){var o;if(r){if(a>=t.length)break;o=t[a++]}else{if((a=t.next()).done)break;o=a.value}var i=o.game.id;(0,T.isRealGameId)(i)&&n.viewedGames.add(i)}}))}for(var o in n.gameFeedCardRefs){var i=n.gameFeedCardRefs[o],l=(r=i.ref,i.gameId);n.hasScrolledPassedCard(r)&&(n.viewedCards.add(o),n.viewedGames.add(l))}}},n.renderNowPlayingEmpty=function(){return q},n.renderNowPlayingHeader=function(){return W(I.default,{className:B.default.header,align:I.default.Align.CENTER},void 0,W("div",{className:B.default.headerText},void 0,x.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE))},n.handleCarouselItemViewed=function(e,t){e.type!==j.FeedCarouselItemTypes.PROMOTION||n.ackedPromotions.has(e.promotion.id)||(n.trackPromotion(e.promotion,t),(0,c.ackPromotion)(e.promotion.ackKey,j.PromotionAckTypes.IMPRESSION),n.ackedPromotions.add(e.promotion.id))},n.renderNewsCarousel=function(){var e=n.props,t=e.news,r=e.promotions,a=e.isFocused,o=e.loadId,i=r.map(function(e){var t=e.destination.type===j.PromotionTypes.GAME?m.default.getGame(e.destination.sku.applicationId):null;return{type:j.FeedCarouselItemTypes.PROMOTION,promotion:e,application:t}}),l=t,s=Array.isArray(l),u=0;for(l=s?l:l[Symbol.iterator]();;){var d;if(s){if(u>=l.length)break;d=l[u++]}else{if((u=l.next()).done)break;d=u.value}var c=d,f=c.news,p=c.application;P.hasFlag(f.flags,j.GameNewsFlags.PROMOTION)||i.push({type:j.FeedCarouselItemTypes.APPLICATION_NEWS,news:f,application:p})}return 0===i.length?null:W(D.default,{useSmallCarousel:n.state.shouldUseSmallCarousel,cardMetadata:{loadId:o},items:i.slice(0,4),isWindowFocused:a,className:B.default.carousel,onItemViewed:n.handleCarouselItemViewed})},n.setNowPlayingCardRef=function(e,t,r){null==e?delete n.nowPlayingCardRefs[t]:(n.nowPlayingCardRefs[t]={ref:e,parties:r},!n.tracked&&n.props.loaded&&n.loadingTimeout.start(K,n.trackLoaded))},n.handleNowPlayingColumnChange=function(){n.updateViewedCards()},n.handleWhatsNewFeedColumnChange=function(){n.updateViewedCards()},n.handleWhatsNewEmptyChange=function(e){n.setState({isWhatsNewEmpty:e})},n.setWhatsNewFeedCardRef=function(e,t,r){null==e?delete n.gameFeedCardRefs[t]:(n.gameFeedCardRefs[t]={ref:e,gameId:t,numPlayers:r},!n.tracked&&n.props.loaded&&n.loadingTimeout.start(K,n.trackLoaded))},n.handleScroll=o.default.throttle(function(e){var t=e.getScrollerNode();if(null!=t){var r=t.getBoundingClientRect(),a=r.top,o=r.bottom;n.scrollerTop=a,n.scrollerBottom=o}n.updateViewedCards()},500,{leading:!1}),n.tracked=!1,n.openedTimestamp=Date.now(),n.loadingTimeout=new s.Timeout,n.viewedGames=new Set,n.viewedCards=new Set,n.ackedPromotions=new Set,n.scrollerTop=0,n.scrollerBottom=0,n.nowPlayingCardRefs={},n.gameFeedCardRefs={},n.state={currentActivityColumnCount:0,gameFeedColumnCount:0,isWhatsNewEmpty:null,shouldUseSmallCarousel:z()},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){window.addEventListener("resize",this.updateDimensions),M.default.track(j.AnalyticEvents.ACTIVITY_FEED_VIEWED);var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched;t&&null!=n&&u.default.wait(function(){return f.scanForLocalApplications()}),S.default.shouldFetch()&&u.default.wait(function(){return(0,c.fetchPromotions)()}),(0,d.fetchActivityStatistics)()},a.componentWillUnmount=function(){window.removeEventListener("resize",this.updateDimensions),this.trackExited(),this.loadingTimeout.stop(),this.handleScroll.cancel()},a.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||u.default.wait(function(){return f.scanForLocalApplications()}),this.tracked||!this.props.loaded||e.loaded||this.loadingTimeout.start(K,this.trackLoaded)},a.trackPromotion=function(e,t){M.default.track(j.AnalyticEvents.PROMOTION_VIEWED,Y({load_id:this.props.loadId,promotion_id:""+e.id,promotion_type:e.destination.type,promotion_url:e.destination.type===j.PromotionTypes.GENERAL?e.destination.linkUrl:null,list_index:t,location_page:j.AnalyticsPages.ACTIVITY_FEED,location_section:j.AnalyticsSections.HERO,location_object:j.AnalyticsObjects.CAROUSEL},e.destination.type===j.PromotionTypes.GAME?e.destination.sku.getAnalyticsData():null))},a.renderNowPlayingSection=function(){var e=this,t=this.props,n=t.isExperiencedFeedUser,r=t.nowPlayingCards,a=this.state.isWhatsNewEmpty;return n&&!0!==a&&0===r.length?null:W($,{items:r,gutterWidth:20,renderEmpty:this.renderNowPlayingEmpty,renderItem:this.renderItem,renderHeader:function(){return e.renderNowPlayingHeader()},maxColumns:2,getItemId:this.getItemId,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleNowPlayingColumnChange})},a.renderBody=function(){var e=this.props,t=e.nowPlayingCards,n=e.quickLauncherApplications,r=R.default.isWindows()?W(k.default,{applicationItems:n,className:B.default.quickLauncher}):null,a=this.renderNowPlayingSection(),o=W(F.default,{hasNowPlayingSection:null!=a,hasNowPlayingItem:t.length>0,gutterWidth:20,maxColumns:2,desiredItemWidth:370,maxItemWidth:740,onColumnChange:this.handleWhatsNewFeedColumnChange,onEmptyChange:this.handleWhatsNewEmptyChange,onCardRef:this.setWhatsNewFeedCardRef});return W("div",{className:B.default.body},void 0,X,W(p.default,{section:j.AnalyticsSections.HERO},void 0,this.renderNewsCarousel()),W(p.default,{section:j.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,r),W(p.default,{section:j.AnalyticsSections.ACTIVITY_FEED_FEED,object:j.AnalyticsObjects.CARD},void 0,a,o))},a.render=function(){return this.props.loaded?W(I.default,{direction:I.default.Direction.VERTICAL,className:B.default.feedWrapper},void 0,W(L.default,{},void 0,W(L.default.Icon,{name:h.default.ACTIVITY}),W(L.default.Title,{},void 0,x.default.Messages.ACTIVITY)),W(N.default,{track:!0,className:B.default.feed,onScroll:this.handleScroll,onUpdate:this.handleScroll,onResize:this.handleScroll},void 0,this.renderBody())):null},r}(a.Component);Q.displayName="Feed";var J=(0,b.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,r=e.isLaunching,a=e.isRunning,o=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:o,libraryApplication:t,iconSrc:n.getIconURL(60),splashSrc:n.getSplashURL(300),disabled:r||a,distributor:null!=t?t.getDistributor():null}})}),Z=l.default.connectStores([T.default,S.default,g.default,y.default,m.default,E.default],function(){return{nowPlayingCards:T.default.nowPlayingCards,news:T.default.newsAF1,promotions:S.default.promotions,importGamesEnabled:_.default.importGamesEnabled,gamesDBLastFetched:m.default.lastFetched,quickLauncherApplications:J(E.default.launchableApplicationViewItems),isExperiencedFeedUser:y.default.isExperiencedFeedUser,isFocused:g.default.isFocused(),loaded:T.default.loaded,loadId:T.default.loadId}})(Q);t.default=Z,e.exports=t.default},7790:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(13)),i=l(n(5849));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return s("div",{className:i.default.emptyState},void 0,s("div",{className:i.default.title},void 0,o.default.Messages.GAME_FEED_EMPTY_STATE_TITLE),s("div",{className:i.default.subtitle},void 0,o.default.Messages.GAME_FEED_EMPTY_STATE_SUBTITLE))},r}(a.PureComponent);u.displayName="ActivityFeedEmptyState";var d=u;t.default=d,e.exports=t.default},7791:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=m(n(2)),o=n(109),i=n(6717),l=n(841),s=v(n(824)),u=v(n(5993)),d=m(n(6107)),c=v(n(44)),f=v(n(7792)),p=v(n(7793)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g="premium",E=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isGamePopoutOpen:!1,visibleIndex:0,direction:1},t.numIntentionalNewsChange=0,t.nextItem=function(){var e=t.props.items;t.changeItem(e,1)},t.prevItem=function(){var e=t.props.items;t.changeItem(e,-1)},t.setItem=function(e){var n=t.state.visibleIndex,r=t.props.items;t.changeItem(r,e-n),t.numIntentionalNewsChange++},t.getCurrentDirection=function(){return t.state.direction},t.handleGamePopoutOpen=function(){t.setState({isGamePopoutOpen:!0})},t.handleGamePopoutClose=function(){t.setState({isGamePopoutOpen:!1})},t.handleItemClick=function(e,n,r){e.type===h.FeedCarouselItemTypes.APPLICATION_NEWS?t.handleNewsClick(e.application,e.news,n):t.handlePromotionClick(e.promotion,r)},t.handleNewsClick=function(e,n,r){null!=n&&d.trackGameNewsOpened(h.AnalyticsLocations.ACTIVITY_FEED,n,r,e,t.props.cardMetadata)},t.handlePromotionClick=function(e,n){var r=t.analyticsLocation;if(null!=e){if(e.destination.type===h.PromotionTypes.GENERAL){var a=e.destination.linkUrl;if(a.startsWith("/")){var u=(0,o.parse)(a);u.pathname===h.Routes.SETTINGS(g)?s.default.open(h.UserSettingsSections.PREMIUM):c.default.transitionTo(u.pathname,{hash:u.hash,search:u.search,state:{analyticsLocation:r,analyticsSource:y({},t.analyticsLocation,{promotionId:e.id})}}),n.preventDefault()}}else if(e.destination.type===h.PromotionTypes.GAME){var d=e.destination.sku;(0,l.goToSKUStoreListing)(d.id,{slug:d.slug,analyticsSource:r,analyticsProperties:{source_promotion_id:e.id}}),n.preventDefault()}(0,i.ackPromotion)(e.ackKey,h.PromotionAckTypes.CLICK)}},t.handlePromotionBuyClick=function(e){if(e.type!==h.FeedCarouselItemTypes.PROMOTION)throw new Error("Unexpected item type");(0,i.ackPromotion)(e.promotion.ackKey,h.PromotionAckTypes.CLICK)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u,v,m,E=a.prototype;return E.componentDidMount=function(){this.handleChangeVisibleIndex(this.state.visibleIndex)},E.componentWillUnmount=function(){this.numIntentionalNewsChange>0&&d.trackGameNewsChanged(h.AnalyticsLocations.ACTIVITY_FEED,null,this.numIntentionalNewsChange,this.props.cardMetadata)},E.componentDidUpdate=function(e,t){this.state.visibleIndex!==t.visibleIndex&&this.handleChangeVisibleIndex(this.state.visibleIndex)},E.changeItem=function(e,t){var n=this.state.visibleIndex+t;n<0?n=e.length-1:n>e.length-1&&(n=0),this.setState({visibleIndex:n,direction:t>0?1:-1})},E.handleChangeVisibleIndex=function(e){var t=this.props,n=t.onItemViewed,r=t.items;null!=r[e]&&n&&n(r[e],e)},E.render=function(){var e=this.props,t=e.useSmallCarousel,n=e.items,a=e.isWindowFocused,o=e.className,i=e.cardMetadata,l=this.state,s=l.visibleIndex,u=l.isGamePopoutOpen;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(t?f.default:p.default,{items:n,visibleIndex:s,isGamePopoutOpen:u,isWindowFocused:a,className:o,cardMetadata:i,getCurrentDirection:this.getCurrentDirection,onItemClick:this.handleItemClick,onPromotionBuyClick:this.handlePromotionBuyClick,onGamePopoutOpen:this.handleGamePopoutOpen,onGamePopoutClose:this.handleGamePopoutClose,nextItem:this.nextItem,prevItem:this.prevItem,setItem:this.setItem})},u=a,(v=[{key:"analyticsLocation",get:function(){return y({},this.props.analyticsContext.location,{object:h.AnalyticsObjects.CAROUSEL})}}])&&_(u.prototype,v),m&&_(u,m),a}(a.PureComponent);E.displayName="FeedCarousel",E.defaultProps={paused:!1};var S=(0,u.default)(E);t.default=S,e.exports=t.default},7792:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(17)),i=f(n(826)),l=f(n(7202)),s=p(n(6147)),u=f(n(6142)),d=n(316),c=f(n(5852));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=(0,d.cssValueToNumber)(c.default.carouselHeight),m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderItem=function(e,n){if(null==e)return null;var r=t.props,a=r.visibleIndex,o=r.getCurrentDirection,i=r.onGamePopoutOpen,s=r.onGamePopoutClose,u=r.onItemClick,d=r.onPromotionBuyClick,f=r.items,p=r.isWindowFocused;return h(l.default,{item:e,type:e.type,itemHeight:v,application:e.application,onOpen:function(t){return u(e,n,t)},onPromotionBuyClick:function(){return d(e)},onGamePopoutOpen:i,onGamePopoutClose:s,className:1===f.length?c.default.headerAlone:c.default.headerNormal,getDirection:o,index:a,forcePauseVideo:!p,simple:!0,horizontal:!0},a)},t.renderPaginationItem=function(e,n){return h("div",{className:n===t.props.visibleIndex?c.default.dotSelected:c.default.dotNormal},n)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.items,n=e.isWindowFocused,r=e.className,a=e.visibleIndex,l=e.isGamePopoutOpen,d=e.nextItem,f=e.prevItem,p=e.setItem;return t.length<1?null:1===t.length?h("div",{className:(0,o.default)(c.default.feedCarousel,r)},void 0,h("div",{className:c.default.smallCarousel},void 0,this.renderItem(t[0],0))):h(u.default,{onInterval:d,interval:8e3,disable:!n||l,pauseOnHover:!0},void 0,h("div",{className:(0,o.default)(c.default.feedCarousel,r)},void 0,h(i.default,{className:c.default.smallCarousel},void 0,this.renderItem(t[a],a)),h("div",{className:c.default.pagination},void 0,h(s.CarouselPrevious,{onClick:f,className:c.default.arrow}),h(s.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:a,onSetItem:p}),h(s.CarouselNext,{onClick:d,className:c.default.arrow}))))},r}(a.PureComponent);m.displayName="HorizontalFeedCarousel";var y=m;t.default=y,e.exports=t.default},7793:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=h(n(826)),l=h(n(7202)),s=h(n(6147)),u=h(n(6142)),d=n(233),c=n(0),f=h(n(13)),p=h(n(5853));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=300,y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderItem=function(e,n){if(null==e)return null;var r=t.props,a=r.visibleIndex,o=r.onItemClick,i=r.onPromotionBuyClick,s=r.onGamePopoutOpen,u=r.onGamePopoutClose,d=r.getCurrentDirection,c=r.isWindowFocused;return v(l.default,{item:e,application:e.application,onOpen:function(t){return o(e,n,t)},onPromotionBuyClick:function(){return i(e)},onGamePopoutOpen:s,onGamePopoutClose:u,className:p.default.article,getDirection:d,index:a,forcePauseVideo:!c},a)},t.renderPaginationItem=function(e,n){var r,a,i,l,s=t.props.visibleIndex;if(e.type===c.FeedCarouselItemTypes.APPLICATION_NEWS){var u=e.news,h=e.application;r=u.thumbnail,a=u.title,i=null!=h?h.getSplashURL(m):null,l=null!=h?h.name:""}else{var y=e.promotion;a=y.title,l=f.default.Messages.APPLICATION_STORE_ACTIVITY_FEED_PROMOTION_SUBTITLE,i=y.imageUrl}if(null!=r){var _=r.height/r.width*m;i=(0,d.getSizedImageSrc)(r.proxy_url||r.url,m,_,"png")}return v("div",{className:(0,o.default)(p.default.paginationItem,n===s?p.default.selectedPage:null)},n,v("div",{className:null!=i?p.default.splashArt:p.default.splashBackup,style:null!=i?{backgroundImage:"url("+i+")"}:null}),v("div",{className:p.default.paginationText},void 0,v("h2",{className:p.default.paginationTitle},void 0,a),v("h4",{className:p.default.paginationSubtitle},void 0,l)))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.items,n=e.isWindowFocused,r=e.className,a=e.visibleIndex,l=e.isGamePopoutOpen,d=e.nextItem,c=e.setItem;return t.length<1?null:1===t.length?v("div",{className:(0,o.default)(p.default.feedCarousel,r)},void 0,v("div",{className:p.default.carousel},void 0,this.renderItem(t[0],0))):v(u.default,{onInterval:d,interval:8e3,disable:!n||l,pauseOnHover:!0},void 0,v("div",{className:(0,o.default)(p.default.feedCarousel,r)},void 0,v(i.default,{className:p.default.carousel},void 0,this.renderItem(t[a],a)),v("div",{className:p.default.pagination},void 0,v(s.default,{renderItem:this.renderPaginationItem,items:t,selectedIndex:a,onSetItem:c,vertical:!0}))))},r}(a.PureComponent);y.displayName="VerticalFeedCarousel";var _=y;t.default=_,e.exports=t.default},7794:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=S(n(17)),s=S(n(3)),u=n(6685),d=n(6467),c=S(n(824)),f=S(n(481)),p=S(n(455)),h=S(n(840)),v=S(n(124)),m=S(n(301)),y=S(n(6040)),_=n(0),g=S(n(13)),E=S(n(5854));function S(e){return e&&e.__esModule?e:{default:e}}function T(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=Object.freeze({DEFAULT:g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE,VARIANT_1:g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ALT_1,VARIANT_2:g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ALT_2}),I=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleAcceptClick=function(){(0,u.setConsents)([_.Consents.PERSONALIZATION],[]),(0,d.dismissPersonalizationNotice)()},a.handleDismissClick=function(){(0,d.dismissPersonalizationNotice)()},a.handleOpenPrivacySettings=function(){c.default.open(_.UserSettingsSections.PRIVACY_AND_SAFETY)},a.render=function(){var e=this.props,t=e.noticeText,n=e.isBlurple,r=e.hasDismissedPersonalizationNotice,a=e.hasFetchedPersonalizationConsent;return e.personalizationEnabled||!a||r?null:T("div",{className:n?E.default.personalizationNoticeBlurple:E.default.personalizationNotice},void 0,T(m.default,{name:m.default.Names.INFO,className:E.default.personalizationNoticeIcon}),T("div",{className:E.default.personalizationContent},void 0,T("div",{className:E.default.personalizationNoticeBody},void 0,T("div",{className:E.default.personalizationNoticeText},void 0,t.format({onClickPrivacy:this.handleOpenPrivacySettings}))),T("div",{className:E.default.personalizationNoticeButtons},void 0,T(v.default,{color:n?v.default.Colors.WHITE:v.default.Colors.BRAND,size:n?v.default.Sizes.SMALL:v.default.Sizes.MEDIUM,className:(0,l.default)(E.default.personalizationNoticeButton,E.default.brandText),onClick:this.handleAcceptClick},void 0,g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_ACCEPT),T(v.default,{look:n?v.default.Looks.LINK:v.default.Looks.FILLED,color:n?v.default.Colors.WHITE:v.default.Colors.TRANSPARENT,size:n?v.default.Sizes.SMALL:v.default.Sizes.MEDIUM,className:E.default.personalizationNoticeButton,onClick:this.handleDismissClick},void 0,g.default.Messages.GAME_FEED_PERSONALIZATION_NOTICE_DISMISS))))},r}(i.Component);I.displayName="FeedPersonalizationConsentNotice",I.defaultProps={isBlurple:!1};var C=s.default.connectStores([p.default,f.default],function(){return{hasDismissedPersonalizationNotice:p.default.hasDismissedPersonalizationNotice,hasFetchedPersonalizationConsent:f.default.receivedConsentsInConnectionOpen||f.default.fetchedConsents,personalizationEnabled:f.default.hasConsented(_.Consents.PERSONALIZATION)}})(I),N=(0,y.default)((0,h.default)(_.Experiments.PERSONALIZED_CONTENT_NOTICE,"AF - Personalized Content Notice",["Treatment 1: Old design + text variant 1","Treatment 2: Old design + text variant 2","Treatment 3: New design + old text","Treatment 4: New design + text variant 1","Treatment 5: New design + text variant 2"]),((a={})[_.ExperimentTypes.NONE]=function(){return T(C,{noticeText:O.DEFAULT})},a[_.ExperimentTypes.USER]=((r={})[_.ExperimentBuckets.CONTROL]=function(){return T(C,{noticeText:O.DEFAULT})},r[_.ExperimentBuckets.TREATMENT_1]=function(){return T(C,{noticeText:O.VARIANT_1})},r[_.ExperimentBuckets.TREATMENT_2]=function(){return T(C,{noticeText:O.VARIANT_2})},r[_.ExperimentBuckets.TREATMENT_3]=function(){return T(C,{noticeText:O.DEFAULT,isBlurple:!0})},r[_.ExperimentBuckets.TREATMENT_4]=function(){return T(C,{noticeText:O.VARIANT_1,isBlurple:!0})},r[_.ExperimentBuckets.TREATMENT_5]=function(){return T(C,{noticeText:O.VARIANT_2,isBlurple:!0})},r),a));t.default=N,e.exports=t.default},8042:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=n(302),i=g(n(5993)),l=(g(n(110)),g(n(41))),s=g(n(8043)),u=g(n(148)),d=E(n(301)),c=E(n(821)),f=E(n(6107)),p=E(n(6046)),h=g(n(6289)),v=g(n(6131)),m=n(0),y=g(n(13)),_=g(n(5859));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(e){var t,n,r,i,g;function E(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleApplicationPlay=function(e){p.playApplication(e.id,e.libraryApplication,{analyticsParams:{location:t.analyticsLocation,num_launcher_applications:t.props.applicationItems.length}})},t.handleApplicationClick=function(e,n){var r=l.default.getGame(n.id);if(null!=r){var a=e.currentTarget;a=a instanceof Element?a:function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),f.trackGamePopoutOpened(r,m.AnalyticsLocations.QUICK_LAUNCHER,t.analyticsLocation),(0,c.openPopout)(a,{render:function(){return t.renderGamePopout(r)},position:c.default.Positions.BOTTOM_LEFT,closeOnScroll:!1})}},t.handleApplicationContextMenu=function(e,n){var r=l.default.getGame(n.id),i=t.props.analyticsContext;null!=r&&(0,o.openContextMenu)(e,function(e){return a.createElement(v.default,T({},e,{type:m.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER,applicationId:r.id,analyticsContext:i}))})},t.renderGamePopout=function(e){return S(h.default,{popoutKey:"popout:"+e.id,game:e,source:m.AnalyticsLocations.QUICK_LAUNCHER,analyticsContext:t.props.analyticsContext})},t}return n=e,(t=E).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,E.prototype.render=function(){var e=this.props,t=e.applicationItems,n=e.className,r=0===t.length;return S("div",{className:n},void 0,S(u.default,{align:u.default.Align.CENTER,justify:u.default.Justify.BETWEEN},void 0,S("div",{className:_.default.header},void 0,y.default.Messages.QUICK_LAUNCHER_HEADER)),r?S(u.default,{align:u.default.Align.CENTER,className:_.default.emptyState},void 0,S(d.default,{className:_.default.emptyIcon,name:d.IconNames.OPEN_EXTERNAL}),S("div",{},void 0,y.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT)):S(s.default,{onApplicationPlay:this.handleApplicationPlay,onApplicationClick:this.handleApplicationClick,onApplicationContextMenu:this.handleApplicationContextMenu,applications:t,className:_.default.dock}))},r=E,(i=[{key:"analyticsLocation",get:function(){return T({},this.props.analyticsContext.location,{object:m.AnalyticsObjects.CARD})}}])&&O(r.prototype,i),g&&O(r,g),E}(a.PureComponent);I.displayName="QuickLauncher";var C=(0,i.default)(I);t.default=C,e.exports=t.default},8043:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=f(n(6011)),l=f(n(124)),s=f(n(148)),u=f(n(125)),d=(n(0),f(n(13))),c=f(n(5858));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=n(7133),v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleApplicationClick=function(e,n){var r=t.props.onApplicationClick;null==r||n.disabled||r(e,n)},t.handlePlayClick=function(e,n){e.stopPropagation();var r=t.props.onApplicationPlay;null==r||n.disabled||r(n)},t.handleApplicationContextMenu=function(e,n){var r=t.props.onApplicationContextMenu;null==r||n.disabled||r(e,n)},t.renderIcon=function(e){var n,r=t.props.dockItemClassName,a=null!=e.iconSrc?e.iconSrc:h;return p(s.default,{direction:s.default.Direction.VERTICAL,shrink:0,grow:0,align:s.default.Align.CENTER,className:(0,o.default)(c.default.dockItem,r),onContextMenu:function(n){return t.handleApplicationContextMenu(n,e)},onClick:function(n){return n.shiftKey?t.handlePlayClick(n,e):t.handleApplicationClick(n,e)}},e.id,p("div",{className:(0,o.default)(c.default.dockIcon,(n={},n[c.default.dockIconDisabled]=e.disabled,n)),style:{backgroundImage:"url('"+a+"')"}}),p(u.default,{className:c.default.dockItemText,size:u.default.Sizes.SMALL},void 0,e.name),p(l.default,{color:l.default.Colors.GREEN,size:l.default.Sizes.SMALL,onClick:function(n){return t.handlePlayClick(n,e)},disabled:e.disabled,className:c.default.dockItemPlay,fullWidth:!0},void 0,d.default.Messages.GAME_FEED_ACTIVITY_ACTION_PLAY))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.applications,n=e.className,r=e.width,a=Math.floor(r/90),i=t.slice(0,a).map(this.renderIcon);return p("div",{className:(0,o.default)(c.default.dock,n)},void 0,i)},r}(a.PureComponent);v.displayName="ApplicationDock",v.defaultProps={disabled:!1};var m=(0,i.default)(v);t.default=m,e.exports=t.default},8044:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=j(n(2)),o=F(n(17)),i=F(n(6013)),l=F(n(49)),s=F(n(6964)),u=F(n(8045)),d=F(n(305)),c=F(n(5992)),f=F(n(124)),p=F(n(219)),h=F(n(148)),v=F(n(6005)),m=F(n(6019)),y=F(n(301)),_=F(n(6072)),g=F(n(821)),E=n(223),S=F(n(18)),T=F(n(177)),O=n(79),I=j(n(6107)),C=F(n(44)),N=F(n(6070)),A=F(n(6674)),M=F(n(7140)),P=F(n(6963)),b=F(n(5359)),R=F(n(7204)),L=F(n(6262)),D=n(0),w=F(n(13)),U=F(n(5474)),k=F(n(5381)),G=F(n(5861));function F(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function x(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var V=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={isHovered:!1,isOverflowOpen:!1},t.renderUserPopout=function(e,t){return a.createElement(b.default,B({},t,{user:e}))},t.setRef=function(e){var n=t.props.setRef;null!=n&&n(e)},t.handleMouseEnter=function(){t.setState({isHovered:!0})},t.handleMouseLeave=function(){t.setState({isHovered:!1})},t.handleOverflowOpen=function(e,n){t.setState({isOverflowOpen:!0}),t.props.onUserContextMenu(e,n,D.ContextMenuTypes.USER_ACTIVITY_FEED,t.handleOverflowClose)},t.handleOverflowClose=function(){t.setState({isOverflowOpen:!1})},t.handleMessageUser=function(e,n){var r=t.props,a=r.index,o=r.loadId,i=r.party,l=r.onMessageUser,s=i.currentActivities.length>0?i.currentActivities[0].game:null;l(e,n).then(function(e){I.trackUserMessaged(n,e,s,i,{loadId:o,index:a,type:D.ActivityCardTypes.USER})})},t.handleChannelClick=function(e,n,r){if(null!=n&&null!=r){var a=B({},t.getGamePlatformData(),t.analyticsMetadata,{af_voice_chat:!0,af_people_count:e.length,af_recently_played:!1,af_rich_presence:!1,guild_id:n.id,channel_id:r.id});T.default.trackWithMetadata(D.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,a);var o=l.default.getChannelId(n.id),s=null!=o?D.Routes.CHANNEL(n.id,o):D.Routes.GUILD(n.id);C.default.transitionTo(s),i.default.channelListScrollTo(n.id,r.id)}},t.handleGuildClick=function(e,n,r){void 0===r&&(r=!1);var a=B({},t.getGamePlatformData(),t.analyticsMetadata,{af_voice_chat:r,af_people_count:n.length,guild_id:e.id});T.default.trackWithMetadata(D.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,a)},t.handleUserPopoutOpen=function(e,n,r,a,o,i){void 0===n&&(n=[]),void 0===r&&(r=1),void 0===o&&(o=!1),void 0===i&&(i=!1);var l=B({},t.getGamePlatformData(),t.analyticsMetadata,{popout_user_id:e.id,avatar_position:r,af_voice_chat:o,af_people_count:n.length,af_rich_presence:i});null!=a&&(l.game_id=a.id,l.game_name=a.name),S.default.track(D.AnalyticEvents.ACTIVITY_FEED_USER_POPOUT_OPENED,l)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var L,F,j,V=r.prototype;return V.getSplashArtURL=function(){var e=this.props.party.currentActivities;return e.length>0?e[0].game.getSplashURL(740):null},V.getPartyActivitySize=function(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0),n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}},V.getGamePlatformData=function(){var e=this.props.party;return null!=e?{game_platform:e.currentActivities.length>0?(0,E.getGamePlatform)(e.currentActivities[0].activity):null}:null},V.renderSoloCardHeader=function(e){var t,n=this,r=this.state,a=r.isHovered,i=r.isOverflowOpen,l=this.props.onUserContextMenu,s=e.user,u=e.status;return x("div",{className:(0,o.default)(G.default.header,(t={},t[G.default.headerOverflowOpen]=i,t))},void 0,x(g.default,{render:function(e){return n.renderUserPopout(s,e)},position:g.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(s)},closeOnScroll:!1},void 0,x(c.default,{className:G.default.avatar,src:s.getAvatarURL(a&&(0,O.hasAnimatedAvatar)(s)?"gif":"png"),status:u,size:c.default.Sizes.LARGE,onContextMenu:function(e){return l(e,s)}})),x(g.default,{render:function(e){return n.renderUserPopout(s,e)},position:g.default.Positions.RIGHT,onOpen:function(){return n.handleUserPopoutOpen(s)},closeOnScroll:!1},void 0,x(N.default,{user:s,usernameClass:G.default.username,discriminatorClass:G.default.discriminator,onContextMenu:function(e){return l(e,s)}})),x(h.default,{className:G.default.headerActions,align:h.default.Align.CENTER,justify:h.default.Justify.END},void 0,x(f.default,{color:U.default.headerButtonColor,hover:f.default.Hovers.BRAND,size:f.default.Sizes.SMALL,onClick:function(e){return n.handleMessageUser(e,s)}},void 0,w.default.Messages.GAME_FEED_ACTION_MESSAGE),x(f.default,{look:f.default.Looks.BLANK,size:f.default.Sizes.NONE,onClick:function(e){return n.handleOverflowOpen(e,s)}},void 0,x(y.default,{name:y.default.Names.OVERFLOW_MENU,className:G.default.overflowMenu}))))},V.renderPartiedCardHeader=function(e){var t=this,n=this.props.party,r=n.guildContext,a=n.isSpotifyActivity,i=e.map(function(n,r){var a,i=r===e.length-1;return x(g.default,{render:function(e){return t.renderUserPopout(n.user,e)},position:g.default.Positions.RIGHT,onOpen:function(){return t.handleUserPopoutOpen(n.user,e,r+1)},closeOnScroll:!1},n.user.id,x("span",{className:(0,o.default)(G.default.usernamePartied,(a={},a[G.default.usernameSpacing]=i,a)),onContextMenu:function(e){return t.props.onUserContextMenu(e,n.user)}},void 0,n.user.username+(i?"":", ")))});return x("div",{className:G.default.header},void 0,null!=r?x(m.default,{size:m.default.Sizes.MEDIUM,guild:r,className:G.default.guildIcon,to:D.Routes.GUILD(r.id),onContextMenu:function(e){return t.props.onGuildContextMenu(e,r)},onClick:function(){return t.handleGuildClick(r,e,!1)}}):x("div",{className:G.default.headerGroupIconBackground},void 0,x(y.default,{name:y.default.Names.PEOPLE,className:G.default.headerGroupIcon})),x("div",{className:G.default.headerText},void 0,x("div",{className:G.default.headerTitle},void 0,null!=r?w.default.Messages.GAME_FEED_CARD_HEADER_GROUP_GUILD.format({count:e.length,guild:r}):a?w.default.Messages.GAME_FEED_CARD_HEADER_SPOTIFY_GROUP:w.default.Messages.GAME_FEED_CARD_HEADER_GROUP.format({count:e.length})),x("div",{className:G.default.headerSubtitle},void 0,i)))},V.renderHeader=function(){var e=this.props.party.priorityMembers;return 1===e.length?this.renderSoloCardHeader(e[0]):this.renderPartiedCardHeader(e)},V.renderVoiceChannel=function(e,t,n){var r,a=this,i=this.props,l=i.party,s=i.onUserContextMenu,d=i.onGuildContextMenu,c=i.onChannelContextMenu;return x(h.default,{align:h.default.Align.CENTER,className:(0,o.default)(G.default.voiceChannel,(r={},r[G.default.bottomSeparator]=l.currentActivities.length>0,r))},n.id+"-"+t.id,null!=l.guildContext?x("div",{className:G.default.guildIconEmptyBackground},void 0,x(y.default,{className:G.default.guildIconEmptyIcon,name:y.default.Names.SPEAKER})):x("div",{className:G.default.guildIconWrapper},void 0,x(m.default,{className:G.default.voiceGuildIcon,showTooltip:!0,showVerified:!0,guild:n,size:m.default.Sizes.MEDIUM,to:D.Routes.GUILD(n.id),onContextMenu:function(e){return d(e,n)},onClick:function(){return a.handleGuildClick(n,e,!0)}}),x(y.default,{name:y.default.Names.SPEAKER,className:G.default.voiceChannelIcon})),x(p.default,{className:G.default.channelName,onClick:function(){return a.handleChannelClick(e,n,t)},onContextMenu:function(e){return c(e,t)}},void 0,t.name),x("div",{className:G.default.partyAvatars},void 0,x(u.default,{renderUserPopout:this.renderUserPopout,onUserContextMenu:s,onUserPopoutOpen:function(e,t,n){return a.handleUserPopoutOpen(t,e,n,null,!0,!1)},overflowPopoutHeader:w.default.Messages.GAME_FEED_VOICE_OVERFLOW_COUNT.format({count:e.length}),overflowTooltip:w.default.Messages.GAME_FEED_VOICE_OVERFLOW,members:e,partySize:this.getPartyActivitySize(e),minInOrderToRender:0})))},V.renderActivity=function(e,t){var n,r=this,a=e.game,i=e.activity,l=e.playingMembers,s=this.props,c=s.party,p=c.showPlayingMembers,m=c.isSpotifyActivity,y=s.onUserContextMenu,g=s.onApplicationContextMenu,S=(0,E.hasRichActivity)(i),T=null!=i&&S,O=this.getPartyActivitySize(l,i),I=(0,E.isStreaming)(i)?(0,E.getStreamURL)(i):null,C=null==I&&(p||T&&O.totalSize>1)?x("div",{className:G.default.partyAvatars},void 0,x(u.default,{justify:h.default.Justify.END,renderUserPopout:this.renderUserPopout,onUserContextMenu:y,onUserPopoutOpen:function(e,t,n){return r.handleUserPopoutOpen(t,e,n,a,!1,S)},overflowPopoutHeader:m?w.default.Messages.SPOTIFY_LISTEN_ALONG_LISTENING_ALONG_COUNT.format({count:l.length}):w.default.Messages.GAME_FEED_USER_OVERFLOW_COUNT.format({count:l.length}),overflowTooltip:m?w.default.Messages.GAME_FEED_SPOTIFY_OVERFLOW:w.default.Messages.GAME_FEED_USER_OVERFLOW,members:l,partySize:O,minInOrderToRender:0})):null;return x("div",{className:(0,o.default)(G.default.game,(n={},n[G.default.bottomSeparator]=!t,n))},a.id,x(h.default,{align:h.default.Align.CENTER},void 0,x(P.default,{game:a,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:k.default.iconHover},void 0,x(v.default,{game:a,onContextMenu:function(e){return g(e,a)}})),x("div",{className:S?G.default.gameInfoRich:G.default.gameInfo},void 0,null!=I?x("div",{className:G.default.streamInfo},void 0,x("div",{className:G.default.gameName},void 0,a.name),x(d.default,{className:G.default.playTime,href:I},void 0,(0,E.getSimpleStreamURL)(I))):x("div",{className:G.default.gameNameWrapper},void 0,x(P.default,{game:a,source:D.AnalyticsLocations.ACTIVITY_FEED,interactiveClassName:k.default.textHover},void 0,x("div",{className:G.default.gameName,onContextMenu:function(e){return g(e,a)}},void 0,a.name))),S?null:(0,E.isOnXbox)(i)?x("span",{className:G.default.playTime},void 0,w.default.Messages.GAME_FEED_ACTIVITY_PLAYING_XBOX):x(_.default,{className:G.default.playTime,start:e.startedPlayingTime,end:e.stoppedPlayingTime,location:_.default.Locations.ACTIVITY_FEED}),null!=i&&S?x(M.default,{reverse:!0,showPrimaryActionOnly:!this.state.isHovered,color:f.default.Colors.PRIMARY,hover:f.default.Hovers.BRAND,look:f.default.Looks.FILLED,type:A.default.Types.ACTIVITY_FEED,source:"Activity Feed Flipped",activity:i,user:e.activityUser}):null),p&&!T?C:null),T?x(h.default,{className:G.default.richActivity},void 0,x(A.default,{hideHeader:!0,hideName:!m,showActions:!1,type:A.default.Types.ACTIVITY_FEED,user:e.activityUser,activity:i,source:"Activity Feed Flipped",className:G.default.activity}),C):null)},V.renderActivities=function(e,t,n){var r=this;return 0===e.length?null:x(R.default,{title:t,className:n},void 0,e.map(function(t,n){return r.renderActivity(t,n===e.length-1)}))},V.renderVoiceChannels=function(){var e=this,t=this.props.party.voiceChannels;return 0===t.length?null:x(R.default,{},void 0,t.map(function(t){var n=t.members,r=t.channel,a=t.guild;return e.renderVoiceChannel(n,r,a)}))},V.render=function(){return a.createElement(s.default,{ref:this.setRef,className:G.default.card,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},x(s.default.Header,{className:G.default.cardHeader,splashArtURL:this.getSplashArtURL()},void 0,this.renderHeader()),x(s.default.Body,{className:G.default.cardBody},void 0,this.renderVoiceChannels(),this.renderActivities(this.props.party.currentActivities)))},L=r,(F=[{key:"analyticsMetadata",get:function(){var e=this.props;return{card_index:e.index,load_id:e.loadId,card_type:e.party.partiedMembers.length>1?D.ActivityCardTypes.GROUP:D.ActivityCardTypes.USER}}}])&&H(L.prototype,F),j&&H(L,j),r}(a.PureComponent);V.displayName="UserCard";var Y=(0,L.default)(V);t.default=Y,e.exports=t.default},8045:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(6)),l=_(n(96)),s=_(n(6953)),u=_(n(6011)),d=n(5992),c=_(n(148)),f=_(n(301)),p=n(6718),h=_(n(821)),v=_(n(437)),m=_(n(13)),y=_(n(5860));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPopout=function(e){var n=t.props,r=n.renderPopout,a=n.member;return null!=a&&null!=r?r(a,e):null},t.handleUserPopoutOpen=function(){var e=t.props,n=e.onUserPopoutOpen,r=e.member,a=e.position,o=e.members;null!=r&&null!=n&&n(o,r,a)},t.handleClick=function(){var e=t.props,n=e.onClick,r=e.member;null!=r&&null!=n&&n(r)},t.handleUserContextMenu=function(e){var n=t.props,r=n.onContextMenu,a=n.member;null!=a&&null!=r&&r(e,a)},t}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.member;return e.empty?g("div",{className:y.default.partyMemberEmpty}):null!=t?g(h.default,{render:this.renderPopout,position:h.default.Positions.LEFT,closeOnScroll:!1,onOpen:this.handleUserPopoutOpen},void 0,g(v.default,{text:t.username},void 0,g(d.AvatarImage,{src:t.getAvatarURL(),size:d.AvatarSizes.SMALL,onContextMenu:this.handleUserContextMenu,onClick:this.handleClick,className:(0,o.default)(y.default.partyMember,y.default.clickable)}))):g(v.default,{text:m.default.Messages.GAME_FEED_UNKNOWN_PLAYER},void 0,g("div",{className:y.default.partyMemberUnknown},void 0,g(f.default,{name:f.default.Names.DISCORD,className:y.default.partyMemberUnknownIcon})))},t}(a.PureComponent);S.displayName="PartyMember";var T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleMasonryNodeInserted=function(e){var n=e.node,r=l.default.findDOMNode(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t));r instanceof Element&&n.contains(r)&&t.props.triggerResize()},t}E(t,e);var n=t.prototype;return n.componentDidMount=function(){p.MasonryNodeInsertedEmitter.addListener("change",this.handleMasonryNodeInserted)},n.componentWillUnmount=function(){p.MasonryNodeInsertedEmitter.removeListener("change",this.handleMasonryNodeInserted)},n.render=function(){var e=this.props,t=e.className,n=e.justify,r=void 0===n?c.default.Justify.END:n,a=e.renderUserPopout,o=e.onUserContextMenu,l=e.onUserPopoutOpen,u=e.partySize,d=e.minInOrderToRender,f=e.members,p=e.width,m=e.overflowPopoutHeader,_=e.overflowTooltip,E=u.unknownSize,T=u.totalSize,O=u.knownSize;if(T<=d)return null;for(var I=Math.floor(p/38),C=(0,i.default)(f).filter(function(e){return null!=e}).map(function(e,t){return g(S,{position:t+1,member:e,members:f,renderPopout:a,onContextMenu:o,onUserPopoutOpen:l},e.id)}).take(I).value(),N=C.length,A=0;A<E&&C.length<I;A++)C.push(g(S,{position:N+A},"unknown-member-"+A));N=C.length;for(var M=0;M<T-O-E&&C.length<I;M++)C.push(g(S,{position:N+M,empty:!0},"empty-member-"+M));var P=g(s.default,{party:f,header:m});if(C.length<T){C.pop();var b=Math.min(T-C.length,99);C.push(g(h.default,{render:function(){return P}},"overflow",g(v.default,{text:_.format({overflow:b})},void 0,g("div",{className:y.default.partyMemberOverflow},void 0,"+",b))))}return g(c.default,{justify:r,className:t},void 0,C)},t}(a.PureComponent);T.displayName="ActivityFeedPartyAvatars";var O=(0,u.default)(T);t.default=O,e.exports=t.default},8046:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(2)),o=_(n(3)),i=_(n(6011)),l=_(n(852)),s=_(n(41)),u=_(n(6290)),d=_(n(6129)),c=_(n(455)),f=_(n(14)),p=_(n(6108)),h=_(n(6718)),v=g(n(7203)),m=_(n(13)),y=_(n(5862));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=(0,i.default)(h.default),I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).isEmpty=null,t.renderEmptyState=function(){return t.props.hasNowPlayingItem?null:T("div",{className:y.default.emptyImage})},t.renderHeader=function(){var e=t.props,n=e.items,r=e.hasNowPlayingSection;return 0===n.length?null:T("div",{className:r?y.default.headerWithNowPlaying:y.default.headerWithoutNowPlaying},void 0,m.default.Messages.GAME_FEED_WHAT_IS_NEW_HEADER_TITLE)},t.getItemId=function(e){return e.gameId},t.setCardRef=function(e,n,r){t.props.onCardRef(e,n,r.length)},t.renderCard=function(e,n,r){var a=e.gameId,o=e.game,i=e.players,l=e.news;return T(v.default,{type:v.GameCardTypes.RECENTLY_PLAYED,setActivityFeedCardRef:function(e){return t.setCardRef(e,a,i)},game:o,news:l,onVideoPlay:t.handleVideoPlay,players:i,width:n,index:r,loadId:t.props.loadId},a)},t.handleVideoPlay=function(){t.videoStartPlayingTime=Date.now()},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){this.updateIsEmpty()},o.shouldComponentUpdate=function(){var e=this.videoStartPlayingTime;return null==e||Date.now()-e>3e5},o.componentDidUpdate=function(){this.updateIsEmpty()},o.updateIsEmpty=function(){var e=this.props,t=e.items,n=e.onEmptyChange,r=0===t.length;this.isEmpty!==r&&(this.isEmpty=r,n(r))},o.render=function(){var e=this.props,t=e.items,n=e.maxColumns,r=e.desiredItemWidth,o=e.maxItemWidth,i=S(e,["items","maxColumns","desiredItemWidth","maxItemWidth"]),l=(i.hasNowPlayingItem,i.hasNowPlayingSection,i.loadId,i.onCardRef,i.onEmptyChange,S(i,["hasNowPlayingItem","hasNowPlayingSection","loadId","onCardRef","onEmptyChange"]));return a.createElement(O,E({},l,{items:t,renderEmpty:this.renderEmptyState,renderHeader:this.renderHeader,renderItem:this.renderCard,maxColumns:n,getItemId:this.getItemId,desiredItemWidth:r,maxItemWidth:o,className:y.default.root}))},r}(a.Component);I.displayName="WhatsNewFeed";var C=o.default.connectStores([d.default,u.default,p.default,s.default,l.default,c.default,f.default],function(){var e=function(e){var t={};for(var n in e)if(c.default.isOnFeed(n))for(var r in e[n]){var a=s.default.getGame(r);if(null!=a&&!c.default.isUnsubscribedToGame(a.id)){var o=u.default.getUserGame(n);if(null==o||o.gameId!==r){var i=d.default.gamesByUser[n][r].date;null==t[r]?t[r]={players:[{userId:n,stoppedPlaying:i}],mostRecentStoppedPlaying:i}:(t[r].players.push({userId:n,stoppedPlaying:i}),t[r].mostRecentStoppedPlaying<i&&(t[r].mostRecentStoppedPlaying=i))}}}return t}(d.default.gamesByUser);return e=function(e,t){var n=E({},e),r=t,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var u=i;if(null==n[u]&&null!=s.default.getGame(u)){var d=l.default.getRecentByGameId(u)[0];if(null!=d){var c=d.timestamp;null!=c&&(n[u]={players:[],mostRecentStoppedPlaying:Date.parse(c)})}}}return n}(e,c.default.gameIDsToShow),{items:Object.keys(e).sort(function(t,n){return e[n].mostRecentStoppedPlaying-e[t].mostRecentStoppedPlaying}).reduce(function(t,n){var r=s.default.getGame(n);return null==r?t:(t.push({gameId:n,game:r,news:1!==p.default.newsAF1.length||p.default.newsAF1[0].news.application_id!==n?l.default.getRecentByGameId(n)[0]:null,players:e[n].players.reduce(function(e,t){var n=t.userId,r=t.stoppedPlaying,a=f.default.getUser(n);return a&&e.push({user:a,stoppedPlaying:r}),e},[]).sort(function(e,t){return(t.stoppedPlaying||0)-(e.stoppedPlaying||0)})}),t)},[]).filter(function(e){var t=e.players,n=e.news,r=e.gameId;return t.length>0||c.default.gameIDsToShow.has(r)&&null!=n}),loadId:p.default.loadId}})(I);t.default=C,e.exports=t.default},8047:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=g(n(453)),i=g(n(3)),l=E(n(6159)),s=E(n(6636)),u=g(n(460)),d=g(n(35)),c=g(n(6108)),f=g(n(892)),p=g(n(5996)),h=g(n(6029)),v=g(n(8048)),m=n(0),y=g(n(13)),_=g(n(5883));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=S(v.default,{}),O=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){l.mount(),s.setHomeLink(m.Routes.ACTIVITY)},a.componentWillUnmount=function(){l.unmount()},a.renderCustomMessage=function(){return S("div",{},void 0,S("p",{},void 0,y.default.Messages.ERRORS_ACTIVITY_FEED_CRASH),S("p",{},void 0,y.default.Messages.ERRORS_ACTION_TO_TAKE))},a.render=function(){var e=this.props,t=e.theme,n=e.loadId;return S(f.default,{theme:t,renderCustomMessage:this.renderCustomMessage},void 0,S(p.default,{page:m.AnalyticsPages.ACTIVITY_FEED,loadId:n,root:!0},void 0,S("div",{className:_.default.activityFeed},void 0,S(o.default,{title:y.default.Messages.ACTIVITY}),S(h.default,{},void 0,S(h.default.Icon,{name:u.default.ACTIVITY}),S(h.default.Title,{},void 0,y.default.Messages.ACTIVITY)),T)))},r}(a.PureComponent);O.displayName="ActivityFeed";var I=i.default.connectStores([d.default,c.default],function(){return{theme:d.default.theme,loadId:c.default.loadId}})(O);t.default=I,e.exports=t.default},8048:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=F(n(6)),s=F(n(3)),u=n(78),d=n(6081),c=F(n(1)),f=n(6245),p=n(6717),h=n(875),v=F(n(5996)),m=F(n(6040)),y=F(n(41)),_=F(n(6129)),g=F(n(455)),E=F(n(35)),S=F(n(151)),T=F(n(881)),O=F(n(7134)),I=F(n(6766)),C=F(n(6108)),N=F(n(148)),A=F(n(6718)),M=F(n(308)),P=F(n(438)),b=F(n(18)),R=n(316),L=n(461),D=n(8049),w=n(8086),U=n(7258),k=n(0),G=F(n(5611));function F(e){return e&&e.__esModule?e:{default:e}}function j(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=(0,R.cssValueToNumber)(G.default.feedBreakpointNormal),H=(0,R.cssValueToNumber)(G.default.guildFriendListWidth),V=(0,R.cssValueToNumber)(G.default.gutterWidthSmall),Y=1e3;function W(e){return e<B?k.FeedLayouts.TWO_COL:k.FeedLayouts.THREE_COL}function K(e){return e.key}var z=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this).handleNewsVisibilityChange=function(e,t){e&&!n.viewedNewsIds.has(t.id)&&(n.viewedNewsIds.add(t.id),n.tracked||n.loadingTimeout.start(Y,n.trackLoaded))},n.sharedMetaData=function(){var e=n.props,t=e.loadId,r=e.gameIDsToShow;return{load_id:t,feed_layout:n.state.layout,subscribed_games:Array.from(r),window_width:window.innerWidth,window_height:window.innerHeight}},n.trackLoaded=function(){if(!n.tracked){n.tracked=!0;var e=n.props.news,t=(0,U.getDataFromRecentlyPlayed)(_.default.gamesByUser),r=(0,U.getSortedApplicationIds)(t),a=(0,U.getSortedItemsFromData)(r,t).length,o=x({},n.sharedMetaData(),{num_cards_game_news:e.length,num_users_subscribed:g.default.feedUserIDs.size,num_items_now_playing:C.default.nowPlayingCardsAF2.length,num_items_recently_played:a,news_ids_viewed:n.viewedNewsIds});b.default.track(k.AnalyticEvents.ACTIVITY_FEED_LOADED,o)}},n.trackExited=function(){var e=Math.floor((Date.now()-n.openedTimestamp)/1e3),t=n.state,r=t.sidebarContent,a=t.feedContent,o=x({},n.sharedMetaData(),{seconds_spent:e,num_cards_total:a.length+r.length,news_ids_viewed:n.viewedNewsIds});b.default.track(k.AnalyticEvents.ACTIVITY_FEED_EXITED,o)},n.renderCardContext=function(e){return j(w.FeedLayoutContext.Consumer,{},K(e),function(t){return n.renderCard(e,t)})},n.renderGuilds=function(){var e=n.props.guildsCard;return null!=e?n.renderCardContext(e):null};var r=W(t.width);return n.state={calculatedWidth:t.width,layout:r,feedContent:C.default.getFeed(r),sidebarContent:C.default.getSidebar(r),isFullScreen:S.default.isElementFullScreen()},n.openedTimestamp=Date.now(),n.loadingTimeout=new u.Timeout,n.viewedNewsIds=new Set,b.default.track(k.AnalyticEvents.ACTIVITY_FEED_VIEWED),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.tracked=!1,this.fullscreenTimeout=new u.Timeout;var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,r=e.loaded;t&&null!=n&&c.default.wait(function(){return(0,h.scanForLocalApplications)()}),I.default.shouldFetch()&&c.default.wait(function(){return(0,p.fetchPromotions)()}),(0,f.fetchActivityStatistics)(),r&&this.loadingTimeout.start(1500,this.trackLoaded)},r.getDerivedStateFromProps=function(e,t){if((0,L.isFullScreen)()&&!t.isFullScreen)return{isFullScreen:!0};if(t.isFullScreen)return null;var n=W(e.width);return{calculatedWidth:e.width,layout:n,feedContent:C.default.getFeed(n),sidebarContent:C.default.getSidebar(n)}},a.componentWillUnmount=function(){this.trackExited(),this.loadingTimeout.stop(),this.fullscreenTimeout.stop()},a.componentDidUpdate=function(e,t){var n=this,r=this.props,a=r.news,o=r.currentActivityParties,i=r.loaded,s=o.map(function(e){return e.id}),u=e.currentActivityParties.map(function(e){return e.id});a.length===e.news.length&&0===l.default.difference(s,u).length&&i===e.loaded||this.tracked||this.loadingTimeout.start(Y,this.trackLoaded),!this.state.isFullScreen&&t.isFullScreen&&this.fullscreenTimeout.start(100,function(){return n.setState({isFullScreen:!1})})},a.renderCard=function(e,t){var n=this;switch(e.type){case k.FeedCardTypes.NEWS:var r=e.data.news;return j(d.VisibilitySensor,{onChange:function(e){return n.handleNewsVisibilityChange(e,r)}},void 0,(0,D.renderNewsCard)(e,t));case k.FeedCardTypes.PROMOTION:return(0,D.renderPromotionCard)(e,t);case k.FeedCardTypes.GDPR:return(0,D.renderGDPRCard)(e,t);case k.FeedCardTypes.GDPR_SIDE_BAR:return(0,D.renderGDPRSidebarCard)(e,t);case k.FeedCardTypes.NO_GAMES:return(0,D.renderNoGamesCard)(e,t);case k.FeedCardTypes.FIRST_TIME_USER:return(0,D.renderFirstTimeUserCard)(e,t);case k.FeedCardTypes.SIDE_BAR:return(0,D.renderSidebarCard)(e,t);case k.FeedCardTypes.PLACEHOLDER:return(0,D.renderPlaceholderCard)(e,t);case k.FeedCardTypes.NO_NEWS:return(0,D.renderNoNewsCard)(e,t);case k.FeedCardTypes.GUILDS:return(0,D.renderGuildsCard)(e,t);default:return null}},a.renderLatestNews=function(){var e=this.state,t=e.calculatedWidth,n=e.feedContent;return j(A.default,{width:t,items:n,gutterWidth:V,renderItem:this.renderCardContext,renderHeader:this.renderGuilds,maxColumns:2,getItemId:K,desiredItemWidth:200,maxItemWidth:320})},a.render=function(){var e=this.props.loaded,t=this.state,n=t.layout,r=t.sidebarContent;if(!e)return j(N.default,{align:N.default.Align.CENTER,justify:N.default.Justify.CENTER},void 0,j(P.default,{className:G.default.spinner}));var a=null;return n===k.FeedLayouts.THREE_COL&&(a=j(v.default,{section:k.AnalyticsSections.ACTIVITY_FEED_2_SIDE_BAR},void 0,j("aside",{className:G.default.sidebar},void 0,r.map(this.renderCardContext)))),j(w.FeedLayoutContext.Provider,{value:n},void 0,j(M.default,{className:G.default.layout},void 0,j(v.default,{section:k.AnalyticsSections.ACTIVITY_FEED_2_FEED},void 0,this.renderLatestNews()),a))},r}(i.PureComponent);z.displayName="Feed";var $=s.default.connectStores([C.default,E.default,y.default,S.default,I.default,T.default],function(){return{width:S.default.windowSize().width-H,importGamesEnabled:E.default.importGamesEnabled,gamesDBLastFetched:y.default.lastFetched,gameIDsToShow:g.default.gameIDsToShow,news:C.default.news,currentActivityParties:C.default.currentActivityParties,loadId:C.default.loadId,loaded:C.default.loaded,guildsCard:T.default.getGuildsCardAndTrigger()}})(z),q=(0,m.default)(O.default,((a={})[k.ExperimentTypes.NONE]=function(e){return i.createElement($,e)},a[k.ExperimentTypes.USER]=((r={})[k.ExperimentBuckets.CONTROL]=function(e){return i.createElement($,e)},r[k.ExperimentBuckets.TREATMENT_1]=function(e){return i.createElement($,e)},r),a));t.default=q,e.exports=t.default},8049:function(e,t,n){"use strict";t.__esModule=!0,t.renderGuildsCard=t.renderSidebarCard=t.renderNoNewsCard=t.renderPlaceholderCard=t.renderFirstTimeUserCard=t.renderNoGamesCard=t.renderGDPRSidebarCard=t.renderGDPRCard=t.renderPromotionCard=t.AnalyticsConnectedPromotionCard=t.renderNewsCard=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(109),i=Y(n(3)),l=Y(n(179)),s=Y(n(77)),u=n(6717),d=n(841),c=Y(n(824)),f=Y(n(8050)),p=Y(n(5993)),h=Y(n(41)),v=Y(n(230)),m=Y(n(35)),y=Y(n(151)),_=Y(n(881)),g=Y(n(6108)),E=Y(n(124)),S=Y(n(6239)),T=Y(n(8052)),O=n(6744),I=Y(n(18)),C=Y(n(9)),N=Y(n(44)),A=Y(n(5996)),M=Y(n(6262)),P=Y(n(6110)),b=Y(n(8053)),R=Y(n(7258)),L=Y(n(8070)),D=Y(n(8071)),w=Y(n(8073)),U=Y(n(8074)),k=Y(n(8080)),G=Y(n(8081)),F=Y(n(8083)),j=Y(n(8084)),x=n(6186),B=n(0),H=Y(n(13)),V=Y(n(5611));function Y(e){return e&&e.__esModule?e:{default:e}}function W(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var $="premium",q=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePostShare=function(e,n){var r=t.props,o=r.loadId,i=r.analyticsContext;s.default.push(function(e){return a.createElement(f.default,K({},e,{news:n,loadId:o,analyticsContext:i}))})},t.handlePostClick=function(e,n){var r=t.props,a=r.analyticsContext,o=r.application,i=r.loadId;I.default.track(B.AnalyticEvents.GAME_NEWS_OPENED,{location:a.location,load_id:i,game_id:null!=o?o.id:null,game_name:null!=o?o.name:null,news_url:n.url,news_id:n.id}),e.stopPropagation(),window.open(n.url)},t}return z(t,e),t.prototype.render=function(){var e=this.props,t=e.news,n=e.application,r=e.onApplicationContextMenu,a=e.analyticsContext,o=e.gifAutoPlay,i=e.isFocused,l=a.location;return W(S.default,{className:V.default.card,news:t,application:n,onApplicationClick:function(e){return(0,x.toggleGamePopout)(e,n,K({},l,{object:B.AnalyticsObjects.CARD}))},onClick:this.handlePostClick,onShare:null!=n?this.handlePostShare:null,onApplicationContextMenu:null!=n?function(e){return r(e,n)}:null,autoPlay:o,shouldAnimate:i})},t}(a.Component);q.displayName="NewsCardWrapper";var X=(0,M.default)(i.default.connectStores([g.default,y.default,h.default,m.default],function(e){var t=e.applicationId;return{loadId:g.default.loadId,application:h.default.getGame(t),isFocused:y.default.isFocused(),gifAutoPlay:m.default.gifAutoPlay}})(q)),Q=function(e,t){var n=e.data,r=n.news,a=n.applicationId;return W(X,{news:r,applicationId:a})};t.renderNewsCard=Q,Q.displayName="renderNewsCard";var J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderPromotionButtons=function(e,t){return e.destination.type===B.PromotionTypes.GENERAL?e.destination.linkUrl.startsWith(B.Routes.APPLICATION_STORE)||null!=e.ctaButtonLabel?W(E.default,{size:E.default.Sizes.SMALL,color:E.default.Colors.WHITE,innerClassName:V.default.whiteButton},void 0,e.ctaButtonLabel||H.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK):null:null==t?null:W(P.default,{application:t,size:E.default.Sizes.SMALL,onClick:function(t){(0,u.ackPromotion)(e.ackKey,B.PromotionAckTypes.CLICK),t.stopPropagation()},color:E.default.Colors.WHITE,hover:E.default.Colors.WHITE,innerClassName:V.default.whiteButton,source:B.AnalyticsLocations.PROMOTION_CARD,storeListingAnalyticsProperties:{promotionId:e.id}})},t.handlePromoClick=function(e){var n=t.props,r=n.promotion,a=n.analyticsContext,i=B.AnalyticsLocations.PROMOTION_CARD;if(r.destination.type===B.PromotionTypes.GENERAL){var l=r.destination.linkUrl;if(l.startsWith("/")){var s=(0,o.parse)(l);s.pathname===B.Routes.SETTINGS($)?(c.default.open(B.UserSettingsSections.PREMIUM),I.default.track(B.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:K({},a.location,{object:B.AnalyticsObjects.CARD,location_promotion_id:r.id})})):N.default.transitionTo(s.pathname,{hash:s.hash,search:s.search,state:{analyticsLocation:i,analyticsSource:K({},a.location,{promotionId:r.id})}}),e.preventDefault()}else window.open(l,"_blank")}else if(r.destination.type===B.PromotionTypes.GAME){var f=r.destination.sku;(0,d.goToSKUStoreListing)(f.id,{slug:f.slug,analyticsSource:K({},a.location),analyticsProperties:{source_promotion_id:r.id}}),e.preventDefault()}(0,u.ackPromotion)(r.ackKey,B.PromotionAckTypes.CLICK)},t}z(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.promotion,n=e.loadId;null==e.application&&t.destination.type===B.PromotionTypes.GAME&&l.default.fetchApplication(t.destination.sku.applicationId),I.default.track(B.AnalyticEvents.PROMOTION_VIEWED,K({load_id:n,promotion_id:""+t.id,promotion_type:t.destination.type,promotion_url:t.destination.type===B.PromotionTypes.GENERAL?t.destination.linkUrl:null,location_page:B.AnalyticsPages.ACTIVITY_FEED},t.destination.type===B.PromotionTypes.GAME?t.destination.sku.getAnalyticsData():null)),(0,u.ackPromotion)(t.ackKey,B.PromotionAckTypes.IMPRESSION)},n.render=function(){var e=this.props,t=e.promotion,n=e.disablePlay,r=e.gifAutoPlay,a=e.application;return null==a&&t.destination.type===B.PromotionTypes.GAME?null:W(T.default,{className:V.default.card,promotion:t,disablePlay:n,autoPlay:r,application:a,renderButtons:this.renderPromotionButtons,onClick:this.handlePromoClick,shouldAnimate:!n})},t}(a.PureComponent);J.displayName="ConnectedPromotionCard";var Z=i.default.connectStores([y.default,m.default,h.default],function(e){var t=function(e){var t=e.destination;if(t.type!==B.PromotionTypes.GAME)return null;var n=t.sku;return h.default.getGame(n.applicationId)}(e.promotion);return{disablePlay:!y.default.isFocused(),loadId:g.default.loadId,gifAutoPlay:m.default.gifAutoPlay,application:t}})((0,p.default)(J));t.AnalyticsConnectedPromotionCard=Z;var ee=function(e,t){var n=e.data;return W(Z,{promotion:n})};t.renderPromotionCard=ee,ee.displayName="renderPromotionCard";var te=W(D.default,{}),ne=function(e,t){return te};t.renderGDPRCard=ne,ne.displayName="renderGDPRCard";var re=W(w.default,{}),ae=function(e,t){return re};t.renderGDPRSidebarCard=ae,ae.displayName="renderGDPRSidebarCard";var oe=W(k.default,{}),ie=function(e,t){return oe};t.renderNoGamesCard=ie,ie.displayName="renderNoGamesCard";var le=W(L.default,{}),se=function(e,t){return le};t.renderFirstTimeUserCard=se,se.displayName="renderFirstTimeUserCard";var ue=W(F.default,{}),de=function(e,t){return ue};t.renderPlaceholderCard=de,de.displayName="renderPlaceholderCard";var ce=W(G.default,{}),fe=function(e,t){return ce};t.renderNoNewsCard=fe,fe.displayName="renderNoNewsCard";var pe=function(e,t){return W(a.Fragment,{},void 0,C.default.isWindows()?W(A.default,{section:B.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER},void 0,W(j.default,{className:V.default.card,layout:t})):null,W(A.default,{section:B.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING},void 0,W(b.default,{className:V.default.card,isWrapped:(0,O.isTwoColumnLayout)(t),layout:t})),W(A.default,{section:B.AnalyticsSections.ACTIVITY_FEED_RECENTLY_PLAYED},void 0,W(R.default,{className:V.default.card,isWrapped:(0,O.isTwoColumnLayout)(t),layout:t})))};t.renderSidebarCard=pe,pe.displayName="renderSidebarCard";var he=function(e){var t=e.guilds,n=e.title;return W(A.default,{section:B.AnalyticsSections.BODY,object:B.AnalyticsObjects.BUTTON_CTA},void 0,W(U.default,{className:V.default.card,guilds:t,title:n}))};he.displayName="ConnectedGuildsCard";var ve=W(i.default.connectStores([v.default,_.default],function(){var e=v.default.getFeaturedGuilds();return{guilds:null!=e?e.slice(0,5):null,title:_.default.getSectionTitle()}})(he),{}),me=function(e,t){return ve};t.renderGuildsCard=me,me.displayName="renderGuildsCard"},8050:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(8051),i=E(n(41)),l=E(n(124)),s=E(n(148)),u=E(n(220)),d=E(n(822)),c=E(n(107)),f=E(n(18)),p=E(n(177)),h=n(6010),v=E(n(7169)),m=n(0),y=E(n(13)),_=E(n(5357)),g=E(n(5865));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=1e3,I=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={copied:!1},t.close=function(){var e=t.props.onClose;null!=e&&e()},t.sendToChannel=function(e){var n=t.props,r=n.news,a=n.onClose,i=n.analyticsContext,l=e.record.id;(0,o.sendToChannel)(l,r.url).then(a,a),p.default.trackWithMetadata(m.AnalyticEvents.NEWS_LINK_SHARED,T({source:T({},i.location,{section:m.AnalyticsLocations.SHARE_NEWS_MODAL}),news_url:r.url,news_id:r.id,guild_id:e.record.guild_id,channel_id:l},t.getApplicationMetadata()))},t.sendToUser=function(e){var n=t.props,r=n.news,a=n.onClose,i=n.analyticsContext,l=e.record.id;(0,o.sendToUser)(l,r.url).then(a,a),f.default.track(m.AnalyticEvents.NEWS_LINK_SHARED,T({source:T({},i.location,{section:m.AnalyticsLocations.SHARE_NEWS_MODAL}),news_url:r.url,news_id:r.id},t.getApplicationMetadata(),{recipient_id:l}))},t.handleCopy=function(){var e=t.props,n=e.news,r=e.analyticsContext;(0,h.copy)(n.url),t.setState({copied:!0}),clearTimeout(t.timeout),t.timeout=setTimeout(function(){return t.setState({copied:!1})},O),f.default.track(m.AnalyticEvents.NEWS_LINK_COPIED,T({location:T({},r.location,{section:m.AnalyticsLocations.SHARE_NEWS_MODAL,object:m.AnalyticsObjects.BUTTON_CTA}),news_url:n.url,news_id:n.id},t.getApplicationMetadata()))},t.renderFooter=function(){var e=t.props.news,n=t.state.copied;return S(u.default.Footer,{direction:s.default.Direction.VERTICAL},void 0,S(c.default,{tag:c.default.Tags.H5,className:_.default.marginBottom8},void 0,y.default.Messages.ACTIVITY_FEED_SHARE_MODAL_FOOTER_TITLE),S("div",{className:g.default.buttonInput},void 0,S(d.default,{className:g.default.copyInput,inputClassName:n?g.default.emphasizeInput:null,name:"url",value:e.url,editable:!1,spellCheck:"false",onClick:function(e){return e.currentTarget.select()}}),h.SUPPORTS_COPY?S("div",{className:g.default.copyButton},void 0,S(l.default,{size:l.default.Sizes.SMALL,color:n?l.default.Colors.GREEN:l.default.Colors.BRAND,onClick:t.handleCopy},void 0,n?y.default.Messages.COPIED:y.default.Messages.COPY)):null))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.analyticsContext,n=e.loadId;f.default.track(m.AnalyticEvents.OPEN_MODAL,{location:t.location,type:m.AnalyticsLocations.SHARE_NEWS_MODAL,load_id:n})},a.componentWillUnmount=function(){clearTimeout(this.timeout)},a.getApplicationMetadata=function(){var e=this.props.news,t=null!=e.application_id?i.default.getGame(e.application_id):null;return null!=t?{application_id:t.id,application_name:t.name}:null},a.render=function(){return S(v.default,{title:y.default.Messages.ACTIVITY_FEED_SHARE_MODAL_HEADER,renderFooter:this.renderFooter,sendToChannel:this.sendToChannel,sendToUser:this.sendToUser,onClose:this.close})},r}(a.PureComponent);t.default=I,I.displayName="ActivityFeedShareModal",e.exports=t.default},8051:function(e,t,n){"use strict";t.__esModule=!0,t.sendToChannel=function(e,t){return new Promise(function(n,a){var l=r.default.getChannel(e);if(null!=l){switch(l.type){case u.ChannelTypes.DM:case u.ChannelTypes.GROUP_DM:i.default.transitionTo(u.Routes.CHANNEL(u.ME,l.id));break;case u.ChannelTypes.GUILD_TEXT:i.default.transitionTo(u.Routes.CHANNEL(l.guild_id,l.id));break;case u.ChannelTypes.GUILD_VOICE:case u.ChannelTypes.GUILD_CATEGORY:default:return a(new Error("ActivityFeedShareModalActionCreators.sendToChannel: Invalid channel type"))}setTimeout(function(){return n(s.default.sendMessage(l.id,o.default.parse(l,t)))},c)}})},t.sendToUser=function(e,t){return new Promise(function(n,i){l.default.openPrivateChannel(a.default.getCurrentUser().id,e).then(function(e){var a=r.default.getChannel(e);if(null==a)return i(new Error("ActivityFeedShareModalActionCreators.sendToUser: Invalid channel"));n(s.default.sendMessage(a.id,o.default.parse(a,t)))})})};var r=d(n(20)),a=d(n(14)),o=d(n(314)),i=d(n(44)),l=d(n(443)),s=d(n(152)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=200},8052:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(6033)),l=c(n(6026)),s=c(n(6309)),u=c(n(6095)),d=c(n(5866));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={play:!1},t.handleClick=function(e){var n=t.props;(0,n.onClick)(e,n.promotion,n.application)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this;this.playTimeout=setTimeout(function(){return e.setState({play:!0})},this.props.playDelay)},a.componentWillUnmount=function(){clearTimeout(this.playTimeout)},a.renderAsset=function(){var e=this.props,t=e.promotion,n=e.disablePlay,r=e.autoPlay,a=e.shouldAnimate,o=this.state.play;return f(s.default,{url:t.imageUrl,width:1280,height:720,videoUrl:t.videoUrl,play:!n&&o,className:d.default.cardAsset,autoPlay:r,shouldAnimate:a})},a.renderContent=function(){var e=this.props,t=e.promotion,n=e.renderButtons,r=e.application;return f("div",{className:(0,o.default)(d.default.padded,d.default.coloredBackground)},void 0,f(i.default,{size:i.default.Sizes.SIZE_16,className:(0,o.default)(d.default.title,d.default.coloredText)},void 0,t.title),f(l.default,{size:l.default.Sizes.SIZE_14,className:(0,o.default)(d.default.contentBottomMargin,d.default.coloredText)},void 0,t.description),null!=n?f("div",{className:d.default.ctaButtons},void 0,n(t,r)):null)},a.render=function(){var e=this.props.className;return f(u.default,{padded:!1,className:(0,o.default)(e,d.default.card),onClick:this.handleClick},void 0,this.renderAsset(),this.renderContent())},r}(a.Component);p.displayName="PromotionCard",p.defaultProps={disablePlay:!1,playDelay:500};var h=p;t.default=h,e.exports=t.default},8053:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=A(n(3)),i=n(78),l=A(n(6007)),s=A(n(881)),u=A(n(6108)),d=A(n(6072)),c=A(n(6095)),f=A(n(107)),p=A(n(6033)),h=n(223),v=A(n(18)),m=n(242),y=A(n(5996)),_=A(n(6262)),g=A(n(6745)),E=A(n(8055)),S=A(n(8068)),T=n(6186),O=n(0),I=A(n(13)),C=A(n(5610)),N=A(n(5873));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var R=500,L=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={popoutStaysOpen:!1},n.keepPopoutOpen=function(){n.setState({popoutStaysOpen:!0})},n.closePopout=function(){n.setState({popoutStaysOpen:!1})},n.trackHover=function(){var e=n.props,t=e.loadId,r=e.analyticsContext,a=n.props.party.partiedMembers;v.default.track(O.AnalyticEvents.HOVER_MENU_OPENED,{location:P({},r.location,{object:O.AnalyticsObjects.HOVER_MENU}),load_id:t,num_users:a.length})},n.handleMouseEnter=function(){n.hoverTimeout.start(R,n.trackHover)},n.handleMouseLeave=function(){n.hoverTimeout.stop()},n.hoverTimeout=new i.Timeout,n}b(t,e);var r=t.prototype;return r.componentWillUnmount=function(){this.hoverTimeout.stop()},r.getNumberOfGameActivities=function(e){return e.reduce(function(e,t){var n=t.activity;return null!=n&&(0,h.isGameActivity)(n)?e+1:e},0)},r.getPartyActivitySize=function(e,t){var n,r=e.length,a=0;if(null!=t&&null!=t.party&&null!=t.party.size&&t.party.size.length>=2){var o=t.party.size;a=Math.max(o[0]-e.length,0),n=o[1]}else n=r+a;return{knownSize:r,unknownSize:a,totalSize:n}},r.getHeaderTitle=function(e){var t=e.priorityMembers,n=e.partiedMembers,r=new Set(t.map(function(e){return e.user.id})),a=n.filter(function(e){return!r.has(e.id)}),o=t[0].user.toString(),i=null!=t[1]?t[1].user.toString():null!=a[0]?a[0].toString():null;switch(n.length){case 1:return o;case 2:return I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN_ONLY.format({user1:o,user2:i});default:return I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_HEADER_TWO_KNOWN.format({user1:o,user2:i,extras:n.length-2})}},r.getHeaderDetails=function(e){var t=e.priorityMembers,r=e.partiedMembers,a=e.voiceChannels,o=e.currentActivities,i=this.props.onApplicationContextMenu,l=this.props.analyticsContext.location,s=t.length,u=s+(r.length-s)===1,c=o[0];if(u&&null!=c){var f=c.activity,p=c.game,v=c.startedPlayingTime;if(null==f)return{subtitle:null,icon:null};switch(f.type){case O.ActivityTypes.PLAYING:return(0,h.isOnXbox)(f)?{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_XBOX,icon:M(g.default.Header.Icon,{src:g.default.Header.Icon.Src.XBOX})}:{subtitle:M(d.default,{start:v,location:d.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:f.name}}),icon:null!=p?M(g.default.Header.Icon,{src:null!=p.getIconURL(64)?p.getIconURL(64):n(6240),onClick:function(e){return(0,T.toggleGamePopout)(e,p,l)},onContextMenu:function(e){return i(e,p)}}):null};case O.ActivityTypes.STREAMING:return{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_STREAMING_TWITCH,icon:null!=p&&null!=p.getIconURL(64)?M(g.default.Header.Icon,{src:p.getIconURL(64)}):null};case O.ActivityTypes.LISTENING:return{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:M(g.default.Header.Icon,{src:g.default.Header.Icon.Src.SPOTIFY})};case O.ActivityTypes.WATCHING:return{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_WATCHING,icon:null!=p&&null!=p.getIconURL(64)?M(g.default.Header.Icon,{src:p.getIconURL(64),onClick:function(e){return(0,T.toggleGamePopout)(e,p,l)},onContextMenu:function(e){return i(e,p)}}):null};default:return{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null}}}var m=this.getNumberOfGameActivities(o);if(0===m){if(a.length>0)return{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_IN_A_VOICE_CHANNEL,icon:null};if(o.length>0){if(null==c)throw new Error("Invalid Activity State - AF 2.0: numGameActivities is 0 and voiceChannels is 0, unknown case.");var y=c.activity;if(null!=y&&y.type===O.ActivityTypes.LISTENING)return{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_SPOTIFY,icon:M(g.default.Header.Icon,{src:g.default.Header.Icon.Src.SPOTIFY})}}}else if(1===m&&null!=c){var _=c.activity,E=c.game,S=c.startedPlayingTime;if(null==_)throw new Error("Invalid Activity State - AF 2.0: No activity");return{subtitle:M(d.default,{start:S,location:d.default.Locations.ACTIVITY_FEED_NEW,messageProps:{name:_.name}}),icon:null!=E&&null!=E.getIconURL(64)?M(g.default.Header.Icon,{src:E.getIconURL(64),onClick:_.type===O.ActivityTypes.PLAYING?function(e){return(0,T.toggleGamePopout)(e,E,l)}:null,onContextMenu:function(e){return i(e,E)}}):null}}return{subtitle:I.default.Messages.ACTIVITY_FEED_NOW_PLAYING_MULTIPLE_GAMES,icon:M(g.default.Header.Icon,{src:g.default.Header.Icon.Src.MULTIPLE})}},r.renderHeader=function(){var e=this.props,t=e.party,n=e.onUserContextMenu,r=e.analyticsContext,a=t.priorityMembers[0],o=this.getHeaderTitle(t),i=this.getHeaderDetails(t),l=i.subtitle,s=i.icon;return M(g.default.Header,{priorityUser:a,title:o,subtitle:l,icon:s,onContextMenu:function(e){return n(e,a.user)},analyticsContext:r})},r.renderBody=function(){var e=this,t=this.props,n=t.onChannelContextMenu,r=t.onApplicationContextMenu,a=this.props.party,o=a.voiceChannels,i=a.currentActivities,s=a.isSpotifyActivity,u=a.partiedMembers,d=[],c=function(e){var t=d.length;if(0!==t){var n=d[t-1],r=""+(e.key||""),a=(""+(n.key||"")).startsWith("game")&&r.startsWith("rich-presence");d.push(M(g.default.Separator,{inset:a},"sep-"+r)),d.push(e)}else d.push(e)};o.length>0&&o.forEach(function(t){var r=t.members,a=t.channel,o=t.guild;c(M(g.default.VoiceSection,{guild:o,channel:a,members:r,partySize:e.getPartyActivitySize(r),onChannelContextMenu:n,onGuildClick:function(){l.default.selectGuild(o.id),l.default.flushSelection(!0)}},"voice-"+a.id))});var f=this.getNumberOfGameActivities(i);return i.forEach(function(e,t){var n=e.activity,a=e.game,i=e.playingMembers,l=e.activityUser;if(null==n||null==n.type)return null;if(f>1&&null!=a&&c(M(g.default.GameSection,{icon:a.getIconURL(64),name:a.name,partySize:{knownSize:i.length,unknownSize:0,totalSize:i.length},members:i,onIconClick:function(e){return(0,T.toggleGamePopout)(e,a,location)},onIconContextMenu:function(e){return r(e,a)}},"game-"+(n.session_id||t)+"-"+(n.application_id||t))),!s&&(0,h.hasRichActivity)(n)&&n.type===O.ActivityTypes.PLAYING&&c(M(g.default.RichPresenceSection,{activity:n,getAssetImage:m.getAssetImage},"rich-presence-"+(n.session_id||t)+"-"+l.id)),(0,h.isStreaming)(n)){var d=o.length>0&&o[0].members.length>1,p=i.length>1;c(M(g.default.TwitchSection,{activity:n,user:d||p?l:null,getAssetImage:m.getAssetImage},"streaming-"+(n.session_id||t)))}else s?c(M(g.default.SpotifySection,{activity:n,partySize:{knownSize:u.length,unknownSize:0,totalSize:u.length},getAssetImage:m.getAssetImage,members:u},"spotify-"+(n.session_id||t)+"-"+l.id)):(0,h.isOnXbox)(n)&&c(M(g.default.XboxSection,{title:a.name},"xbox-"+(n.session_id||t)))}),d.length>0?M(g.default.Body,{},void 0,d):null},r.render=function(){var e=this.state.popoutStaysOpen,t=this.renderHeader(),n=this.renderBody();return null!=t||null!=n?M("div",{className:C.default.popoutContainer,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,t,n,M(y.default,{section:O.AnalyticsSections.ACTIVITY_FEED_NOW_PLAYING_HOVER_POPOUT},void 0,M(E.default,{party:this.props.party,className:C.default.popout,keepOpen:this.keepPopoutOpen,visibleOnMouseLeave:e,closeOnLeave:this.closePopout}))):null},t}(a.PureComponent);L.displayName="ItemCard";var D=(0,_.default)(L),w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderNowPlayingCard=function(e,n){var r=t.props,o=r.layout,i=r.loadId;if(e.type===O.ActivityCardTypes.GAME)return null;var l=e.party;return M(a.Fragment,{},l.id,n>0?M(g.default.Separator,{className:N.default.itemSeparator}):null,M(D,{party:l,layout:o,loadId:i}))},t}return b(t,e),t.prototype.render=function(){var e=this.props,t=e.nowPlayingCards,n=e.className,r=e.isWrapped,o=null;return o=t.length>0?r?M(g.default,{className:n},void 0,M(p.default,{size:p.default.Sizes.SIZE_16,className:N.default.formTitleInCard},void 0,I.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),t.map(this.renderNowPlayingCard)):M(g.default,{className:n},void 0,t.map(this.renderNowPlayingCard)):M(S.default,{className:n}),r?M(c.default,{padded:!1},void 0,o):M(a.Fragment,{},void 0,M(f.default,{},void 0,I.default.Messages.GAME_FEED_CURRENT_HEADER_TITLE),o)},t}(a.PureComponent);w.displayName="NowPlaying";var U=o.default.connectStores([u.default,s.default],function(e){var t=e.isWrapped;return{nowPlayingCards:u.default.nowPlayingCardsAF2,loadId:u.default.loadId,isWrapped:t||s.default.canJoinGuilds()}})(w);t.default=U,e.exports=t.default},8054:function(e,t,n){e.exports=n.p+"1747132724e5e5d09278618b69f79233.svg"},8055:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(17)),i=f(n(6262)),l=f(n(6745)),s=f(n(8056)),u=f(n(8066)),d=n(0),c=f(n(5871));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=p(l.default.Separator,{inset:!1}),v=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleUserContextMenu=function(e,n){var r=t.props,a=r.onUserContextMenu,o=r.closeOnLeave;(0,r.keepOpen)(),a(e,n,d.ContextMenuTypes.USER_GENERIC_LIST,o)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.renderActions=function(){var e=this.props.party,t=p(s.default,{party:e});return p(a.Fragment,{},void 0,p("div",{className:c.default.actionsContainer},void 0,t),h)},i.render=function(){var e=this.props,t=e.className,n=e.keepOpen,r=e.closeOnLeave,a=e.visibleOnMouseLeave,i=this.props.party,l=i.currentActivities,s=i.priorityMembers,d=i.partiedMembers;return p("div",{className:(0,o.default)(t,a?c.default.keepOpen:c.default.hideOnMouseLeave)},void 0,this.renderActions(),p(u.default,{currentActivities:l,priorityMembers:s,partiedMembers:d,onPopoutOpen:n,onSubMenuClose:r,onUserContextMenu:this.handleUserContextMenu}))},r}(a.PureComponent);v.displayName="NowPlayingPopout";var m=(0,i.default)(v);t.default=m,e.exports=t.default},8056:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(223),i=m(n(8057)),l=m(n(8058)),s=m(n(8059)),u=m(n(8060)),d=m(n(8061)),c=m(n(8062)),f=m(n(8063)),p=m(n(8064)),h=m(n(8065)),v=n(0);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=e.call.apply(e,[this].concat(r))||this).renderActivityActions=function(e,t,n,r){var l=e.activityUser,s=e.activity,u=e.game;if(n&&null!=s){var m=e.activityUser;return y(a.Fragment,{},r,y(f.default,{user:m,activity:s}),y(p.default,{user:m,activity:s}))}if((0,o.isOnXbox)(s))return y(h.default,{},r);if(null==s||null==s.type)return null;var _=s.type===v.ActivityTypes.PLAYING;return y(a.Fragment,{},r,(0,o.hasFlag)(s,v.ActivityFlags.JOIN)&&_&&y(i.default,{user:l,activity:s,showContext:t}),(0,o.hasFlag)(s,v.ActivityFlags.SPECTATE)&&_&&y(c.default,{user:l,activity:s,showContext:t}),y(d.default,{application:u,showContext:t}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var m=r.prototype;return m.renderSocialActions=function(){var e=this.props.party,t=this.props.party,n=t.voiceChannels,r=t.partiedMembers,o=t.priorityMembers,i=n[0],d=1===r.length&&1===o.length,c=null;if(null!=i){var f=i.guild,p=i.channel;c=y(a.Fragment,{},void 0,y(s.default,{guildId:f.id,channelId:p.id,party:e}),y(l.default,{guildId:f.id,party:e}))}return y(a.Fragment,{},void 0,d&&y(u.default,{party:e,recipientIds:o.map(function(e){return e.user.id}),hasUnknownRecipients:r.length-o.length>0},"message-"+o[0].user.id),c)},m.render=function(){var e=this,t=this.props.party,n=t.currentActivities,r=t.isSpotifyActivity,o=n.length>1,i=n.map(function(t,n){return e.renderActivityActions(t,o,r,n)});return y(a.Fragment,{},void 0,this.renderSocialActions(),i)},r}(a.PureComponent);t.default=_,_.displayName="NowPlayingPopoutActions",e.exports=t.default},8057:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(3)),i=n(901),l=(g(n(110)),g(n(884))),s=g(n(322)),u=g(n(154)),d=g(n(41)),c=g(n(86)),f=g(n(85)),p=g(n(437)),h=n(323),v=g(n(9)),m=g(n(6268)),y=n(0),_=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.isFriend,n=e.game,r=e.user,a=e.request,o=e.showContext,l=e.activity,s=e.launchable,u=r.toString(),d=function(e,t,n,r){if(null==e)return r?_.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN_USER.format({name:n}):_.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN;switch(e.state){case y.ActivityJoinRequestStates.RECEIVER_INVITE_REQUESTED:return _.default.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({game:t,username:n});case y.ActivityJoinRequestStates.RECEIVER_INVITE_SENT:return _.default.Messages.USER_ACTIVITY_INVITE_REQUEST_SENT.format({game:t,username:n});case y.ActivityJoinRequestStates.SENDER_INVITE_WAITING:return _.default.Messages.USER_ACTIVITY_INVITE_REQUEST_WAITING.format({username:n});case y.ActivityJoinRequestStates.SENDER_INVITE_RECEIVED:return _.default.Messages.USER_ACTIVITY_INVITE_REQUEST_RECEIVED.format({username:n});case y.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED:return _.default.Messages.USER_ACTIVITY_INVITE_REQUEST_EXPIRED.format({username:n});default:return null}}(a,n,u,o),c=null;t?v.default.embedded?s||(c=_.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:l.name})):c=_.default.Messages.ACTIVITY_FEED_POPOUT_DESKTOP_APP_REQUIRED:c=_.default.Messages.ACTIVITY_FEED_POPOUT_NOT_FRIENDS_TOOLTIP.format({name:u});var f=null!=a&&a.state!==y.ActivityJoinRequestStates.SENDER_INVITE_EXPIRED;return E(p.default,{text:c,position:p.default.Positions.LEFT},void 0,E(m.default,{disabled:null!=c||f,onClick:function(){return(0,i.request)(r,l)}},void 0,d))},r}(a.PureComponent);S.displayName="AskToJoinAction",S.defaultProps={showContext:!1};var T=o.default.connectStores([f.default,l.default,c.default,d.default,u.default,s.default],function(e){var t=e.user,n=e.activity;return{request:l.default.getRequest(t.id),isFriend:f.default.isFriend(t.id),launchable:null!=n.application_id&&(0,h.isLaunchable)(c.default,d.default,u.default,s.default,n.application_id)}})(S);t.default=T,e.exports=t.default},8058:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=c(n(6007)),o=c(n(5993)),i=n(6744),l=c(n(177)),s=c(n(6268)),u=n(0),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=(0,o.default)(function(e){var t=e.guildId,n=e.analyticsContext,o=e.party;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{onClick:function(){a.default.selectGuild(t),a.default.flushSelection(!0),l.default.trackWithMetadata(u.AnalyticEvents.ACTIVITY_FEED_GUILD_VISITED,f({source:f({},n.location,{object:u.AnalyticsObjects.LIST_ITEM}),guild_id:t,af_recently_played:!1},(0,i.getPartyMetadata)(o)))}},void 0,d.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_GO_TO_SERVER)});t.default=p,e.exports=t.default},8059:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(6007)),o=f(n(132)),i=f(n(5993)),l=n(6744),s=f(n(177)),u=f(n(6268)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=(0,i.default)(function(e){var t=e.guildId,n=e.channelId,i=e.analyticsContext,f=e.party;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{onClick:function(){a.default.selectGuild(t),a.default.flushSelection(!0),o.default.selectVoiceChannel(t,n),s.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_VOICE_CHANNEL_VISITED,p({source:p({},i.location,{object:d.AnalyticsObjects.LIST_ITEM}),guild_id:t,channel_id:n},(0,l.getPartyMetadata)(f)))}},void 0,c.default.Messages.ACTIVITY_FEED_NOW_PLAYING_ACTION_JOIN_CHANNEL)});t.default=h,e.exports=t.default},8060:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(443)),o=f(n(5993)),i=f(n(12)),l=n(6744),s=f(n(177)),u=f(n(6268)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=(0,o.default)(function(e){var t=e.recipientIds,n=e.hasUnknownRecipients,o=e.analyticsContext,f=e.party;return n?null:function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{onClick:function(){a.default.openPrivateChannel(i.default.getId(),t).then(function(e){return s.default.trackWithMetadata(d.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,p({source:p({},o.location,{object:d.AnalyticsObjects.LIST_ITEM}),channel_id:e,recipient_id:"string"==typeof t?t:t[0],af_recently_played:!1},(0,l.getPartyMetadata)(f)))})}},void 0,c.default.Messages.SEND_DM)});t.default=h,e.exports=t.default},8061:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=y(n(3)),o=y(n(5993)),i=y(n(322)),l=y(n(154)),s=y(n(41)),u=y(n(86)),d=y(n(64)),c=y(n(437)),f=n(323),p=n(6046),h=y(n(6268)),v=n(0),m=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){var t,n=e.application,r=e.libraryApplication,a=e.canPlay,o=e.isRunning,i=e.isLaunching,l=e.showContext,s=void 0!==l&&l,u=e.analyticsContext;return a?(o?t=m.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_RUNNING.format({name:n.name}):i&&(t=m.default.Messages.ACTIVITY_FEED_POPOUT_APPLICATION_LAUNCHING.format({name:n.name})),_(c.default,{text:t,position:c.default.Positions.LEFT},void 0,_(h.default,{onClick:function(){(0,p.playApplication)(n.id,r,{analyticsParams:{location:g({},u.location,{object:v.AnalyticsObjects.LIST_ITEM})}})},disabled:null!=t},void 0,s?m.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH_APPLICATION_NAME.format({name:n.name}):m.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH))):null};E.displayName="PlayGameAction";var S=a.default.connectStores([d.default,u.default,s.default,l.default,i.default],function(e){var t=e.application,n=u.default.getActiveLibraryApplication(t.id);return{canPlay:(0,f.isLaunchable)(u.default,s.default,l.default,i.default,t.id,null!=n?n.branchId:null),isLaunching:s.default.launchingGames.has(t.id),isRunning:d.default.getRunningVerifiedApplicationIds().includes(t.id),libraryApplication:n}})(E),T=(0,o.default)(S);t.default=T,e.exports=t.default},8062:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=g(n(3)),o=g(n(179)),i=g(n(322)),l=g(n(154)),s=g(n(41)),u=g(n(86)),d=g(n(14)),c=g(n(5368)),f=g(n(437)),p=n(223),h=n(323),v=g(n(9)),m=g(n(6268)),y=n(0),_=g(n(13));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=a.default.connectStores([d.default,c.default],function(e){var t=e.activity,n=e.user;return{spectateState:null!=t.application_id?c.default.getState(t.application_id,y.ActivityActionTypes.SPECTATE):null,currentUser:d.default.getCurrentUser(),isLaunchable:null!=t.application_id&&(0,h.isLaunchable)(u.default,s.default,l.default,i.default,t.application_id),canSpectate:null!=n.id&&null!=t&&null!=t.session_id&&null!=t.application_id&&(0,p.hasFlag)(t,y.ActivityFlags.SPECTATE)}})(function(e){var t=e.user,n=e.activity,r=e.isLaunchable,a=e.currentUser,i=e.spectateState,l=e.canSpectate,s=e.showContext,u=void 0!==s&&s,d=!v.default.embedded,c=i===y.ActivityActionStates.FAILED,p=a.id===t.id,h=u?_.default.Messages.USER_ACTIVITY_ACTION_SPECTATE_USER.format({name:t.toString()}):_.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,g=null;return c?g=_.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH:p?g=_.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:d?g=_.default.Messages.ACTIVITY_FEED_POPOUT_DESKTOP_APP_REQUIRED:r||(g=_.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:n.name})),l?E(f.default,{text:g},void 0,E(m.default,{onClick:function(){null!=n.session_id&&null!=n.application_id&&o.default.spectate(t.id,n.session_id,n.application_id)},disabled:null!=g||i===y.ActivityActionStates.LOADING||c},void 0,c?_.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH:h)):null});t.default=S,e.exports=t.default},8063:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;c(n(2));var r,a=d(n(3)),o=d(n(235)),i=d(n(124)),l=n(324),s=c(n(6292)),u=d(n(5475));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=a.default.connectStores([o.default],function(){return{playable:o.default.hasConnectedAccount()&&(0,l.isSpotifyPlayable)(o.default)}})(function(e){var t=e.activity,n=e.user;return e.playable?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{look:i.default.Looks.FILLED,color:i.default.Colors.PRIMARY,size:i.default.Sizes.SMALL,wrapperClassName:u.default.wrapper,type:s.SpotifyButtonTypes.USER_ACTIVITY_PLAY,activity:t,user:n}):null});t.default=f,e.exports=t.default},8064:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;c(n(2));var r,a=d(n(3)),o=d(n(235)),i=d(n(124)),l=n(324),s=c(n(6292)),u=d(n(5475));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var f=a.default.connectStores([o.default],function(){return{syncable:o.default.hasConnectedAccount()&&(0,l.isSpotifyPlayable)(o.default)}})(function(e){var t=e.activity,n=e.user;return e.syncable?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{look:i.default.Looks.FILLED,color:i.default.Colors.PRIMARY,size:i.default.Sizes.SMALL,wrapperClassName:u.default.wrapper,type:s.SpotifyButtonTypes.USER_ACTIVITY_SYNC,activity:t,user:n}):null});t.default=f,e.exports=t.default},8065:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(3)),i=f(n(824)),l=f(n(155)),s=f(n(468)),u=f(n(6268)),d=n(0),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=l.default.get(d.PlatformTypes.XBOX).name,h=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){i.default.open(d.UserSettingsSections.CONNECTIONS)},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return this.props.notConnected?function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(u.default,{onClick:this.handleClick},void 0,c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:p})):null},a}(a.Component);h.displayName="XboxConnectAction";var v=o.default.connectStores([s.default],function(){return{notConnected:!s.default.getAccounts().some(function(e){return e.type===l.default.get(d.PlatformTypes.XBOX).type})}})(h);t.default=v,e.exports=t.default},8066:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(6)),i=(f(n(128)),f(n(6033))),l=f(n(6902)),s=f(n(6745)),u=f(n(8067)),d=f(n(13)),c=f(n(5870));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){return p(i.default,{size:i.default.Sizes.SIZE_12,className:c.default.memberListHeader},void 0,e)}function v(e,t){return p("div",{className:c.default.memberListContainer},void 0,e,t)}h.displayName="renderMemberListHeader",v.displayName="renderMemberList";var m=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).createMemberList=function(e,n,r,a){var o=t.props,i=o.onUserContextMenu,s=o.onPopoutOpen,d=o.onSubMenuClose,c=[];if(e.map(function(e){var t=e.user,n=e.status;return c.push(p(l.default,{user:t,status:n,onPopoutClose:d,onPopoutOpen:s,onContextMenu:function(e){return i(e,t)}},t.id))}),n.map(function(e){return c.push(p(l.default,{user:e,onPopoutClose:d,onPopoutOpen:s,onContextMenu:function(t){return i(t,e)}},e.id))}),null!=r&&null!=r.party&&null!=r.party.size)for(var f=r.party.size[0]-a,h=0;h<f;h++)c.push(p(u.default,{},"unknown-"+h));return c},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getExtraMembers=function(){var e=this.props,t=e.currentActivities,n=e.partiedMembers,r=(0,o.default)(t).flatMap(function(e){return e.playingMembers}).map(function(e){return e.id}).value();return n.filter(function(e){return!r.includes(e.id)})},i.renderSingleActivityMemberList=function(){var e=this.props,t=e.partiedMembers,n=e.priorityMembers,r=new Set(n.map(function(e){return e.user.id})),a=t.filter(function(e){return!r.has(e.id)}),o=this.props.currentActivities[0],i=null;return null!=o&&(i=o.activity),v(t.length>1?h(d.default.Messages.ACTIVITY_FEED_SINGLE_MEMBER_LIST_HEADER.format({memberCount:t.length})):null,this.createMemberList(n,a,i,t.length))},i.renderMultiActivityMemberList=function(){var e=this,t=this.props,n=t.priorityMembers,r=t.currentActivities,a=new Set(n.map(function(e){return e.user.id}));return r.map(function(t){var r=t.playingMembers,o=t.game,i=t.activity,l=new Set(r.map(function(e){return e.id})),s=h(o.name+" - "+r.length),u=n.filter(function(e){var t=e.user;return l.has(t.id)}),d=r.filter(function(e){return!a.has(e.id)});return v(s,e.createMemberList(u,d,i,r.length))})},i.renderExtraMemberList=function(){var e=this.props.priorityMembers,t=this.getExtraMembers(),n=e.map(function(e){return e.user.id}),r=t.map(function(e){return e.id}),a=e.filter(function(e){var t=e.user;return r.includes(t.id)}),o=t.filter(function(e){return!n.includes(e.id)}),i=this.createMemberList(a,o,null,t.length);return v(h(d.default.Messages.ACTIVITY_FEED_OTHER_MEMBER_LIST_HEADER+" - "+t.length),i)},i.render=function(){var e=this.props.currentActivities,t=this.getExtraMembers();if(e.length<=1&&0===t.length)return this.renderSingleActivityMemberList();var n=this.renderMultiActivityMemberList(),r=n.map(function(e,r){return p(a.Fragment,{},r,e,r!==n.length-1||t.length>0?p(s.default.Separator,{className:c.default.separator}):null)}),o=this.renderExtraMemberList();return p(a.Fragment,{},void 0,r,t.length>0?o:null)},r}(a.PureComponent);m.displayName="MemberList";var y=m;t.default=y,e.exports=t.default},8067:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(148)),o=s(n(6026)),i=s(n(13)),l=s(n(5869));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){return u(a.default,{align:a.default.Align.CENTER,className:l.default.item},void 0,u("div",{className:l.default.partyMemberUnknown}),u(o.default,{className:l.default.tag},void 0,i.default.Messages.GAME_FEED_UNKNOWN_PLAYER))},e.exports=t.default},8068:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6269)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:t,imgSrc:n(7257),header:o.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER,body:o.default.Messages.ACTIVITY_FEED_NONE_PLAYING_BODY})},e.exports=t.default},8069:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=(c(n(128)),c(n(6033))),l=c(n(6902)),s=c(n(6262)),u=n(0),d=c(n(5874));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleUserContextMenu=function(e,n){var r=t.props,a=r.onUserContextMenu,o=r.closeOnLeave;(0,r.keepOpen)(),a(e,n,u.ContextMenuTypes.USER_GENERIC_LIST,o)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this,t=this.props,n=t.title,r=t.className,a=t.members,s=t.keepOpen,u=t.closeOnLeave,c=t.visibleOnMouseLeave;return f("div",{className:(0,o.default)(r,c?d.default.keepOpen:d.default.hideOnMouseLeave)},void 0,f(i.default,{size:i.default.Sizes.SIZE_12,className:d.default.memberListHeader},void 0,n),f("div",{},void 0,a.map(function(t){return f(l.default,{user:t,onContextMenu:function(n){return e.handleUserContextMenu(n,t)},onPopoutOpen:s,onPopoutClose:u},t.id)})))},r}(a.PureComponent);p.displayName="RecentlyPlayedPopout";var h=(0,s.default)(p);t.default=h,e.exports=t.default},8070:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(824)),i=d(n(124)),l=d(n(6269)),s=n(0),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClose=function(){},t.renderButtons=function(){return c(i.default,{size:i.default.Sizes.SMALL,onClick:t.handleFollowGames},void 0,u.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=a.prototype;return d.handleFollowGames=function(){o.default.open(s.UserSettingsSections.GAME_ACTIVITY)},d.render=function(){return c(l.default,{imgSrc:n(6489),header:u.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_HEADER,body:u.default.Messages.ACTIVITY_FEED_CARD_FIRST_TIME_USER_BODY,renderButtons:this.renderButtons,onClose:this.handleClose})},a}(a.Component);f.displayName="FirstTimeUserCard";var p=f;t.default=p,e.exports=t.default},8071:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(6685),i=n(6467),l=p(n(824)),s=p(n(124)),u=p(n(6269)),d=n(0),c=p(n(13)),f=p(n(5876));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).renderButtons=function(){return h(a.Fragment,{},void 0,h(s.default,{size:s.default.Sizes.SMALL,onClick:t.handleAllowPersonalization,look:s.default.Looks.INVERTED},void 0,c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_YES),h(s.default,{className:f.default.noButton,size:s.default.Sizes.MIN,look:s.default.Looks.LINK,color:s.default.Colors.WHITE,onClick:t.handleDismiss},void 0,c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BUTTON_NO))},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var v=p.prototype;return v.handleClickPrivacy=function(){l.default.open(d.UserSettingsSections.PRIVACY_AND_SAFETY)},v.handleAllowPersonalization=function(){(0,o.setConsents)([d.Consents.PERSONALIZATION],[])},v.handleDismiss=function(){(0,i.dismissPersonalizationNotice)()},v.render=function(){return h(u.default,{className:f.default.gdprWrapper,imgSrc:n(8072),header:c.default.Messages.ACTIVITY_FEED_CARD_GDPR_HEADER,body:c.default.Messages.ACTIVITY_FEED_CARD_GDPR_BODY.format({onClickPrivacy:this.handleClickPrivacy}),renderButtons:this.renderButtons})},p}(a.Component);v.displayName="GDPRCard";var m=v;t.default=m,e.exports=t.default},8072:function(e,t,n){e.exports=n.p+"de14fab6de78b0fc2f679eb74b735151.svg"},8073:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6269)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:t,imgSrc:n(7257),header:o.default.Messages.ACTIVITY_FEED_NONE_PLAYING_HEADER,body:o.default.Messages.ACTIVITY_FEED_CARD_GDPR_NONE_PLAYING_BODY})},e.exports=t.default},8074:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(5993)),i=n(5992),l=E(n(124)),s=E(n(148)),u=E(n(301)),d=E(n(6095)),c=E(n(437)),f=E(n(6033)),p=E(n(6026)),h=E(n(18)),v=E(n(79)),m=n(7259),y=n(0),_=E(n(13)),g=E(n(5879));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){var t=e.icon,n=e.name,r=e.description,o=e.presenceCount,d=e.id,E=e.features,O=e.analyticsContext,I=e.index,C=v.default.getGuildIconURL({id:d,icon:t}),N=E.has(y.GuildFeatures.VERIFIED);return S("div",{className:g.default.guildCard},void 0,S(i.AvatarImage,{src:C,className:g.default.avatar}),S("div",{className:g.default.header},void 0,N?S(c.default,{text:_.default.Messages.GUILD_VERIFIED},void 0,S(u.default,{className:g.default.verifiedIcon,name:u.default.Names.VERIFIED,outer:y.Colors.PRIMARY_700,inner:y.Colors.BRAND,checkmark:y.Colors.WHITE,width:16,height:16})):null,S(f.default,{size:f.default.Sizes.SIZE_16,className:g.default.title},void 0,n)),S(s.default,{justify:s.default.Justify.BETWEEN,direction:s.default.Direction.VERTICAL},void 0,S(p.default,{size:p.default.Sizes.SIZE_14,className:g.default.description},void 0,null!=r?r:null),S("div",{className:g.default.actions},void 0,S(l.default,{size:l.default.Sizes.MIN,color:l.default.Colors.GREY,className:g.default.button,onClick:function(){return function(e,t,n){(0,m.startLurking)(e,t.location),h.default.track(y.AnalyticEvents.GUILD_DISCOVERY_GUILD_SELECTED,{location:T({},t.location),guild_id:e,load_id:t.loadId,card_index:n})}(d,O,I)}},void 0,_.default.Messages.GAME_POPOUT_VIEW_SERVER),null!=o?S(a.Fragment,{},void 0,S("div",{className:g.default.dotOnline}),S(p.default,{size:p.default.Sizes.SIZE_12},void 0,_.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:o}))):null)))};O.displayName="GuildCard";var I=(0,o.default)(O),C=function(e){var t=e.guilds,n=e.title,r=e.className;return null==t||0===t.length||null==n?null:S(d.default,{className:r},void 0,S(f.default,{size:f.default.Sizes.SIZE_16},void 0,n),S("div",{className:g.default.cards},void 0,t.map(function(e,t){return S(a.Fragment,{},void 0,t%3==0&&t>0?S("div",{className:g.default.line}):null,a.createElement(I,T({key:e.id},e,{index:t})))})))};C.displayName="GuildsCard";var N=C;t.default=N,e.exports=t.default},8075:function(e,t,n){"use strict";t.__esModule=!0,t.markView=function(e){a.default.dispatch({type:o.ActionTypes.VIEW_HISTORY_MARK_VIEW,key:e})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},8076:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(6768)),l=n(5992),s=v(n(124)),u=v(n(219)),d=v(n(301)),c=v(n(437)),f=n(0),p=v(n(13)),h=v(n(5877));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={isMouseOver:!1,loaded:!1},t.onMouseEnter=function(){t.state.isMouseOver||t.setState({isMouseOver:!0})},t.onMouseLeave=function(){t.state.isMouseOver&&t.setState({isMouseOver:!1})},t.handleClickView=function(e){var n=t.props,r=n.onView,a=n.guildId;e.stopPropagation(),null!=r&&r(a)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n=this,r=this.props,a=r.name,v=r.presenceCount,y=r.avatarUrl,_=r.splashUrl,g=r.isVerified,E=r.isLoadingGuild,S=r.className,T=this.state,O=T.isMouseOver,I=T.loaded;return m(u.default,{tag:"div",onClick:this.handleClickView,className:(0,o.default)(S,(e={},e[h.default.loaded]=I,e[h.default.loading]=!I,e))},void 0,m(i.default,{aspectRatio:1.85},void 0,m("div",{className:(0,o.default)(h.default.card,(t={},t[h.default.cardHovered]=O,t)),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},void 0,m("img",{src:_,alt:"",className:h.default.splash,onLoad:function(){return n.setState({loaded:!0})}}),m("div",{className:h.default.fade}),m("div",{className:h.default.guildInfo},void 0,m("div",{className:h.default.guildIcon},void 0,m(l.AvatarImage,{src:y,className:h.default.avatar}),g?m(c.default,{text:p.default.Messages.GUILD_VERIFIED},void 0,m(d.default,{className:h.default.verifiedIcon,name:d.default.Names.VERIFIED,outer:f.Colors.PRIMARY_700,inner:f.Colors.BRAND,checkmark:f.Colors.WHITE})):null),m("div",{className:h.default.text},void 0,m("div",{className:h.default.title},void 0,a),null!=v?m("div",{className:h.default.memberInfo},void 0,m("div",{className:h.default.dotOnline}),p.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:v})):null),m(s.default,{className:O?h.default.viewButtonVisible:h.default.viewButton,color:s.default.Colors.GREEN,size:s.default.Sizes.SMALL,submitting:E,onClick:this.handleClickView},void 0,p.default.Messages.GUILD_DISCOVERY_VIEW_BUTTON)))))},r}(a.PureComponent);y.displayName="GuildDiscoveryCard",y.defaultProps={isLoadingGuild:!1};var _=y;t.default=_,e.exports=t.default},8077:function(e,t,n){"use strict";t.__esModule=!0,t.search=function(e,t){if(null==t||""===t)return e;var n=t.toLowerCase();return e.filter(function(e){return e.searchTerms.some(function(e){return(0,a.default)(n,e)})})};var r,a=(r=n(6034))&&r.__esModule?r:{default:r}},8078:function(e,t,n){e.exports=n.p+"76456a67ca3d139def36fd3ba871b230.png"},8079:function(e,t,n){e.exports=n.p+"757e956c407d352bb77320c83e3c6159.png"},8080:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(6467),i=c(n(824)),l=c(n(124)),s=c(n(6269)),u=n(0),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClose=function(){(0,o.dismissNoGamesNotice)()},t.renderButtons=function(){return f(l.default,{size:l.default.Sizes.SMALL,onClick:t.handleFollowGames},void 0,d.default.Messages.ACTIVITY_FEED_CARD_FOLLOW_GAMES)},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c=a.prototype;return c.handleFollowGames=function(){i.default.open(u.UserSettingsSections.ACTIVITY_FEED)},c.render=function(){return f(s.default,{imgSrc:n(6489),header:d.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_HEADER,body:d.default.Messages.ACTIVITY_FEED_CARD_NO_GAMES_BODY,renderButtons:this.renderButtons,onClose:this.handleClose})},a}(a.Component);p.displayName="NoGamesCard";var h=p;t.default=h,e.exports=t.default},8081:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6269)),o=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{imgSrc:n(8082),header:o.default.Messages.ACTIVITY_FEED_CARD_NO_NEWS_HEADER,body:o.default.Messages.ACTIVITY_FEED_CARD_NO_NEWS_BODY})};l.displayName="NoNewsCard";var s=l;t.default=s,e.exports=t.default},8082:function(e,t,n){e.exports=n.p+"8e33ec211b7b635dde21f789e469e7c2.svg"},8083:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(6269)),o=i(n(5880));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(a.default,{className:o.default.placeholderWrapper})};l.displayName="PlaceholderCard";var s=l;t.default=s,e.exports=t.default},8084:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(6)),i=g(n(3)),l=g(n(5993)),s=g(n(881)),u=g(n(6130)),d=g(n(8085)),c=g(n(6095)),f=g(n(107)),p=g(n(6033)),h=n(868),v=n(6046),m=n(0),y=g(n(13)),_=g(n(5882));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var T=Object.freeze({SMALL:36,NORMAL:43,LARGE:46});var O=E(f.default,{},void 0,"Quick Launcher"),I=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.launchGame=function(e){var t=this.props,n=t.applications,r=t.analyticsContext;(0,v.playApplication)(e.id,e.libraryApplication,{analyticsParams:{location:S({},r.location,{section:m.AnalyticsSections.ACTIVITY_FEED_QUICK_LAUNCHER}),num_launcher_applications:n.length}})},a.renderApps=function(){var e=this,t=this.props,n=t.layout,r=t.applications,a=n===m.FeedLayouts.TWO_COL;if(0===r.length)return E("div",{className:_.default.emptyCard},void 0,E("div",{className:_.default.emptyContent},void 0,y.default.Messages.QUICK_LAUNCHER_EMPTY_TEXT_V2));var i=T.LARGE;return E("div",{className:_.default.grid},void 0,r.map(function(t,n){return n<6?E(d.default,{size:i,icon:t.icon,alt:t.name,running:t.running,type:a?d.default.Types.WRAPPED:d.default.Types.UNWRAPPED,onClick:function(){return e.launchGame(t)}},t.name):null}),o.default.times(6-r.length,function(){return E(d.default,{size:i,type:a?d.default.Types.WRAPPED:d.default.Types.UNWRAPPED})}))},a.render=function(){return this.props.isWrapped?E(c.default,{className:_.default.wrappedCard},void 0,E(p.default,{size:p.default.Sizes.SIZE_16},void 0,"Quick Launcher"),this.renderApps()):E("div",{className:this.props.className},void 0,O,this.renderApps())},r}(a.PureComponent);I.displayName="QuickLauncher";var C=(0,h.cachedFunction)(function(e){return e.map(function(e){var t=e.libraryApplication,n=e.application,r=e.isLaunching,a=e.isRunning,o=null!=t?t.getBranchedName(n):n.name;return{id:n.id,name:o,libraryApplication:t,icon:n.getIconURL(60),running:r||a}})}),N=(0,l.default)(i.default.connectStores([u.default,s.default],function(e){var t=e.layout;return{applications:C(u.default.launchableApplicationViewItems),isWrapped:t===m.FeedLayouts.TWO_COL||s.default.canJoinGuilds()}})(I));t.default=N,e.exports=t.default},8085:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(17)),i=u(n(219)),l=u(n(301)),s=u(n(5881));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=function(){return d(l.default,{name:l.default.Names.ACTIVITY,className:s.default.running})};c.displayName="RunningIcon";var f=Object.freeze({EMPTY:s.default.empty,WRAPPED:s.default.wrapped,UNWRAPPED:s.default.unwrapped}),p=d(c,{}),h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t=this.props,n=t.size,r=t.type,a=t.icon,l=t.onClick,u=t.onContextMenu,c=t.alt,h=t.running;return d(i.default,{className:(0,o.default)(s.default.container,null==a?f.EMPTY:r,(e={},e[s.default.clickable]=null!=l&&!h,e)),style:{width:n,height:n},onClick:h?null:l,onContextMenu:u},void 0,null!=a?d("img",{src:a,className:(0,o.default)(s.default.icon,h?s.default.iconRunning:null),alt:c}):null,h&&null!=a?p:null)},r}(a.Component);h.displayName="LaunchableIcon",h.Types=f,h.defaultProps={type:f.UNWRAPPED,size:46,running:!1};var v=h;t.default=v,e.exports=t.default},8086:function(e,t,n){"use strict";t.__esModule=!0,t.FeedLayoutContext=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(0);var o=r.createContext(a.FeedLayouts.TWO_COL);t.FeedLayoutContext=o},8087:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(221),i=d(n(5996)),l=d(n(8088)),s=d(n(8092)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return c(o.Switch,{},void 0,c(o.Route,{path:u.Routes.APPLICATION_LIBRARY_INVENTORY,exact:!0,render:function(e){return c(i.default,{page:u.AnalyticsPages.LIBRARY_INVENTORY,root:!0},void 0,a.createElement(l.default,e))}}),c(o.Route,{path:u.Routes.APPLICATION_LIBRARY,render:function(e){return c(i.default,{page:u.AnalyticsPages.LIBRARY,root:!0},void 0,a.createElement(s.default,e))}}))},r}(a.Component);t.default=f,f.displayName="ApplicationLibraryPage",e.exports=t.default},8088:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=v(n(2)),o=h(n(453)),i=v(n(6636)),l=h(n(308)),s=h(n(5996)),u=h(n(7260)),d=h(n(8089)),c=h(n(8090)),f=n(0),p=h(n(5888));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=m(d.default,{}),_=m(c.default,{}),g=m(o.default,{title:"Discord"}),E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){i.setHomeLink(f.Routes.APPLICATION_LIBRARY_INVENTORY)},a.renderBody=function(){return m("div",{className:p.default.body},void 0,m(s.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_CODE_REDEMPTION},void 0,y),m(s.default,{section:f.AnalyticsSections.LIBRARY_INVENTORY_GIFTS_LIST},void 0,_))},a.render=function(){return m("div",{className:p.default.root},void 0,g,m(u.default,{currentRoute:f.Routes.APPLICATION_LIBRARY_INVENTORY}),m(l.default,{gutterStyle:l.default.GutterStyles.STORE,theme:l.default.Themes.GHOST_HAIRLINE},void 0,this.renderBody()))},r}(a.PureComponent);t.default=E,E.displayName="ApplicationLibraryInventory",e.exports=t.default},8089:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(3)),i=n(854),l=m(n(5993)),s=m(n(307)),u=m(n(124)),d=m(n(148)),c=m(n(822)),f=m(n(832)),p=n(0),h=m(n(13)),v=m(n(5885));function m(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(e,t){return Array(t).fill().map(function(){return"["+p.UNAMBIGUOUS_CHARACTERS+"]{"+e+"}"}).join("-?")},T=[S(4,4),S(4,6),S(5,3),"[a-zA-Z]{4}-?[0-9a-zA-Z]{4}-?[a-zA-Z]{4}"].join("|"),O=new RegExp("^(WUMP-?)?("+T+")$"),I=_(f.default,{}),C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={codeInput:"",submitting:!1,hasError:!1},t.inputRef=function(e){t._inputRef=e},t.handleChange=function(e){t.setState({codeInput:e,hasError:!1})},t.handleSubmit=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==(r=t.state.codeInput)){e.next=4;break}return e.abrupt("return");case 4:if(null!=(a=t.processInput(r))){e.next=8;break}return t.setState({hasError:!0}),e.abrupt("return");case 8:return t.setState({submitting:!0}),e.prev=9,e.next=12,(0,i.resolveGiftCode)(a);case 12:(0,i.openGiftCodeAcceptModal)(a,t.analyticsLocation),t.setState({codeInput:""}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),t.setState({hasError:!0});case 19:return e.prev=19,t.setState({submitting:!1}),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[9,16,19,22]])}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){g(o,r,a,i,l,"next",e)}function l(e){g(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,o,l,s=r.prototype;return s.processInput=function(e){var t=e.trim().split("/").pop().match(O);if(null==t)return null;t[0],t[1];var n=t[2];return null==n?null:n.replace(new RegExp("-","g"),"")},s.render=function(){var e=this.props.obscureInput,t=this.state,n=t.codeInput,r=t.submitting,a=t.hasError;return _("div",{className:v.default.codeRedemption},void 0,_("div",{className:v.default.header},void 0,_("h2",{},void 0,h.default.Messages.GIFT_INVENTORY_REDEEM_CODES),I),_("div",{className:v.default.inputPrompt},void 0,h.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_PROMPT),_("form",{onSubmit:this.handleSubmit},void 0,_(d.default,{className:v.default.codeRedemptionForm},void 0,_(c.default,{type:e?"password":"text",value:n,onChange:this.handleChange,placeholder:"WUMP-AAAAA-BBBBB-CCCCC",inputRef:this.inputRef,error:a?h.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_INVALID:null,className:v.default.codeRedemptionInput}),_(u.default,{type:"submit",submitting:r},void 0,h.default.Messages.APPLICATION_ENTITLEMENT_CODE_REDEMPTION_REDEEM))))},a=r,(o=[{key:"analyticsLocation",get:function(){return y({},this.props.analyticsContext.location,{object:p.AnalyticsObjects.BUTTON_CTA})}}])&&E(a.prototype,o),l&&E(a,l),r}(a.Component);C.displayName="CodeRedemption";var N=(0,l.default)(o.default.connectStores([s.default],function(){return{obscureInput:s.default.enabled}})(C));t.default=N,e.exports=t.default},8090:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(6)),i=g(n(3)),l=n(465),s=g(n(41)),u=g(n(6096)),d=g(n(850)),c=g(n(438)),f=g(n(832)),p=n(321),h=g(n(44)),v=g(n(8091)),m=n(0),y=g(n(13)),_=g(n(5887));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=E(f.default,{}),O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._loadedAt=Date.now(),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a,i,s,u=r.prototype;return u.componentDidMount=function(){(0,l.fetchGiftableEntitlements)()},u.handleTransitionToStore=function(){h.default.transitionTo(m.Routes.APPLICATION_STORE)},u.renderEmptyState=function(){return E("div",{className:_.default.emptyState},void 0,E("div",{className:_.default.emptyStateImage}),E("h2",{className:_.default.emptyStateHeader},void 0,y.default.Messages.GIFT_INVENTORY_NO_GIFTS),E("p",{className:_.default.emptyStateSubtext},void 0,y.default.Messages.GIFT_INVENTORY_NO_GIFTS_SUBTEXT.format({onStoreClick:this.handleTransitionToStore})))},u.render=function(){var e=this.props.giftEntitlements;return this.isLoaded?E("div",{className:_.default.root},void 0,E("h2",{className:_.default.header},void 0,y.default.Messages.GIFT_INVENTORY),T,0===Object.keys(e).length?this.renderEmptyState():o.default.keys(e).map(function(t){var n=(0,p.parseComboId)(t),r=n.skuId,a=n.subscriptionPlanId;return E(v.default,{className:_.default.skuCard,skuId:r,subscriptionPlanId:a,entitlements:e[t]},t)})):E(c.default,{className:_.default.loading})},a=r,(i=[{key:"isLoaded",get:function(){var e=this.props,t=e.applicationsLoaded,n=e.entitlementsLoadedAt;return t&&null!=n&&n>=this._loadedAt}}])&&S(a.prototype,i),s&&S(a,s),r}(a.Component);O.displayName="EntitlementGifts";var I=i.default.connectStores([d.default,u.default,s.default],function(){return{applicationsLoaded:Boolean(s.default.lastFetched),entitlementsLoadedAt:d.default.giftEntitlementsLoadedAt,giftEntitlements:o.default.groupBy(d.default.getGiftable(),function(e){return(0,p.makeComboId)(e.skuId,e.subscriptionPlanId)})}})(O);t.default=I,e.exports=t.default},8091:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(2)),o=b(n(4)),i=n(221),l=b(n(3)),s=n(78),u=R(n(854)),d=b(n(12)),c=b(n(41)),f=b(n(6096)),p=b(n(307)),h=b(n(6067)),v=b(n(176)),m=b(n(6964)),y=b(n(124)),_=b(n(219)),g=R(n(6195)),E=b(n(148)),S=b(n(6005)),T=b(n(301)),O=b(n(438)),I=b(n(853)),C=n(6010),N=n(321),A=n(0),M=b(n(13)),P=b(n(5886));function b(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var k=1e3,G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._copyModeTimeout=new s.Timeout,t.state={copyMode:g.CopyInputModes.DEFAULT},t.handleCopy=function(e){var n=t.props,r=n.giftCode,a=n.sku;(0,N.trackGiftCodeCopy)(r,a);try{(0,C.copy)(e),t.setState({copyMode:g.CopyInputModes.SUCCESS})}catch(e){t.setState({copyMode:g.CopyInputModes.ERROR})}t._copyModeTimeout.start(k,function(){t.setState({copyMode:g.CopyInputModes.DEFAULT})})},t}U(t,e);var n,r,i,l=t.prototype;return l.componentWillUnmount=function(){this._copyModeTimeout.stop()},l.handleRevoke=function(e){u.revokeGiftCode(e)},l.render=function(){var e=this,t=this.props,n=t.hideCode,r=t.giftCode,i=this.state.copyMode;return D(E.default,{direction:E.default.Direction.VERTICAL,className:P.default.giftCodeRow},void 0,D(g.default,{className:P.default.codeText,value:(0,N.getGiftCodeURL)(r.code),text:this.copyButtonText,mode:i,supportsCopy:C.SUPPORTS_COPY,hideMessage:n?M.default.Messages.GIFT_INVENTORY_HIDDEN:null,onCopy:this.handleCopy,buttonColor:g.default.ButtonColors.BRAND,buttonLook:g.default.ButtonLooks.FILLED}),D("div",{className:P.default.subTextRow},void 0,null!=r.expiresAt?D(a.Fragment,{},void 0,M.default.Messages.GIFT_INVENTORY_EXPIRES_IN.format({hours:r.expiresAt.diff((0,o.default)(),"h")})," ","— "):null,D(_.default,{tag:"a",onClick:function(){return e.handleRevoke(r.code)}},void 0,M.default.Messages.REVOKE)))},n=t,(r=[{key:"copyButtonText",get:function(){switch(this.state.copyMode){case g.CopyInputModes.SUCCESS:return M.default.Messages.BILLING_GIFT_COPIED;case g.CopyInputModes.ERROR:return M.default.Messages.FAILED;default:return M.default.Messages.COPY}}}])&&w(n.prototype,r),i&&w(n,i),t}(a.PureComponent);G.displayName="GiftCodeRow";var F=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._loadedAt=null,t.state={isOpen:!1,isCreating:!1},t.handleGenerateGiftCode=function(){var e,n=(e=regeneratorRuntime.mark(function e(n){var r,a,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),r=t.props,a=r.skuId,o=r.subscriptionPlanId,t.setState({isCreating:!0}),e.next=5,u.createGiftCode(a,o);case 5:t.setState({isCreating:!1,isOpen:!0});case 6:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,l,"next",e)}function l(e){L(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return n.apply(this,arguments)}}(),t.handleToggleOpen=function(){var e=t.props,n=e.skuId,r=e.subscriptionPlanId,a=e.loadedAt,o=!t.state.isOpen;(null==a||null==t._loadedAt||a<t._loadedAt)&&o&&u.fetchUserGiftCodesForSKU(n,r),t.setState({isOpen:!t.state.isOpen})},t}U(t,e);var n=t.prototype;return n.componentDidMount=function(){this._loadedAt=Date.now()},n.renderTitle=function(){var e=this.props,t=e.sku,n=e.subscriptionPlan;return null==n?D(i.Link,{className:P.default.gameNameLink,to:A.Routes.APPLICATION_STORE_LISTING_SKU(t.id)},void 0,t.name):D("div",{className:P.default.gameName},void 0,(n.interval===A.SubscriptionIntervalTypes.MONTH?M.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_MONTHS:M.default.Messages.GIFT_INVENTORY_SUBSCRIPTION_YEARS).format({skuName:t.name,intervalCount:n.intervalCount}))},n.renderGenerateGiftCodeRow=function(){return D(E.default,{justify:E.default.Justify.BETWEEN,align:E.default.Align.CENTER,className:P.default.generateCodeRow},void 0,D("div",{className:P.default.codeText},void 0,M.default.Messages.GIFT_INVENTORY_GENERATE_HELP),D(y.default,{submitting:this.state.isCreating,size:y.default.Sizes.SMALL,color:y.default.Colors.BRAND,onClick:this.handleGenerateGiftCode},void 0,M.default.Messages.GIFT_INVENTORY_GENERATE_LINK))},n.render=function(){var e=this.props,t=e.entitlements,n=e.application,r=e.giftCodes,o=e.className,i=e.sku,l=e.isFetching,s=e.hideCodes,u=this.state.isOpen;return D(m.default,{className:o},void 0,D(_.default,{onClick:this.handleToggleOpen,className:P.default.card},void 0,D(m.default.Header,{splashArtURL:n.getSplashURL(512)},void 0,D("div",{className:P.default.cardHeader},void 0,D(E.default,{align:E.default.Align.CENTER},void 0,D(S.default,{game:n,size:S.default.Sizes.MEDIUM,skuId:i.id}),D("div",{className:P.default.headerText},void 0,this.renderTitle(),D("div",{className:P.default.subTextHeader},void 0,M.default.Messages.GIFT_INVENTORY_COPIES.format({copies:t.length})))),D(T.default,{name:T.default.Names.CARET,direction:u?I.default.Directions.UP:I.default.Directions.DOWN,className:P.default.expandIcon})))),u?D(m.default.Body,{},void 0,l?D(O.default,{className:P.default.spinner}):D(a.Fragment,{},void 0,r.length<t.length?this.renderGenerateGiftCodeRow():null,r.map(function(e){return D(G,{giftCode:e,sku:i,hideCode:s},e.code)}))):null)},t}(a.PureComponent);F.displayName="EntitlementGiftGroupCard",F.defaultProps={hideCodes:!1};var j=l.default.connectStores([c.default,d.default,v.default,f.default,p.default],function(e){var t=e.skuId,n=e.subscriptionPlanId,r=v.default.get(t);if(null==r)throw new Error("SKU was unavailable while rendering gift.");return{sku:r,hideCodes:p.default.enabled,isFetching:f.default.getUserGiftCodesFetchingForSKUAndPlan(t,n),loadedAt:f.default.getUserGiftCodesLoadedAtForSKUAndPlan(t,n),application:c.default.getGame(r.applicationId),subscriptionPlan:null!=n?h.default.get(n):null,giftCodes:f.default.getForGifterSKUAndPlan(d.default.getId(),t,n).filter(function(e){return!e.isClaimed})}})(F);t.default=j,e.exports=t.default},8092:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=S(n(2)),o=E(n(17)),i=E(n(453)),l=E(n(1)),s=S(n(6636)),u=n(495),d=n(6245),c=E(n(308)),f=n(6202),p=E(n(5996)),h=E(n(8093)),v=E(n(7260)),m=E(n(8094)),y=E(n(8096)),_=n(0),g=E(n(5896));function E(e){return e&&e.__esModule?e:{default:e}}function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var O=T(h.default,{}),I=T(i.default,{title:"Discord"}),C=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._scrollerRef=a.createRef(),t._scrollToPadding=0,t.state={includeUpdatesInScroller:!1},t.handleHeightTallerThanHalfViewportChange=function(e){t.setState({includeUpdatesInScroller:e})},t.scrollToRow=function(e,n){var r=t._scrollerRef.current;null!=r?(e.focus(),r.scrollIntoView(e,!1,{top:n,bottom:n}),t._scrollToOnMount=null):(t._scrollToOnMount=e,t._scrollToPadding=n)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){s.setHomeLink(_.Routes.APPLICATION_LIBRARY),(0,f.deepLinkRouteIfLanded)(_.RPCDeepLinks.LIBRARY),l.default.wait(function(){return(0,u.fetchBranches)()}),(0,d.fetchActivityStatistics)(),null!=this._scrollToOnMount&&null!=this._scrollerRef.current&&this.scrollToRow(this._scrollToOnMount,this._scrollToPadding)},i.renderToolbar=function(){return O},i.renderBody=function(){var e,t=this.props.location,n=this.state.includeUpdatesInScroller,r=T("div",{},void 0,T(p.default,{section:_.AnalyticsSections.LIBRARY_INSTALL_MODULE},void 0,T(y.default,{onHeightTallerThanHalfViewportChange:this.handleHeightTallerThanHalfViewportChange})));return T(a.Fragment,{},void 0,n?null:r,a.createElement(c.default,{outerClassName:(0,o.default)((e={},e[g.default.stickyScroller]=!n,e)),ref:this._scrollerRef,gutterStyle:c.default.GutterStyles.STORE,theme:c.default.Themes.MESSAGES_THEMED_WITH_TRACK},n?r:null,T(p.default,{section:_.AnalyticsSections.LIBRARY_APPLICATION_LIST},void 0,T(m.default,{stickyHeader:!n,scrollToRow:this.scrollToRow,location:t}))))},i.render=function(){return T("div",{className:g.default.gameLibrary},void 0,I,T(v.default,{currentRoute:_.Routes.APPLICATION_LIBRARY,renderToolbar:this.renderToolbar}),this.renderBody())},r}(a.PureComponent);t.default=C,C.displayName="GameLibrary",e.exports=t.default},8093:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=g(n(17)),i=g(n(3)),l=g(n(1)),s=E(n(7261)),u=g(n(844)),d=g(n(838)),c=g(n(6130)),f=g(n(6765)),p=g(n(6057)),h=n(6226),v=E(n(6046)),m=n(0),y=g(n(13)),_=g(n(5889));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var S=function(e){var t,n;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).searchBarRef=null,t.state={focused:!1},t.setRef=function(e){t.searchBarRef=e},t.handleKeyDown=function(e){var n=t.props,r=n.activeRowKey,a=n.hasModalOpen,o=n.applicationViewItems,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).searchBarRef;if(!(a||e.ctrlKey||e.altKey||e.metaKey||null==i||document.activeElement!==i.inputRef.current&&(0,h.isInputLikeElement)(document.activeElement)))switch(e.which){case m.KeyboardKeys.ESCAPE:e.target!==i.inputRef.current?t.reset():null!=i.inputRef.current&&i.blur();break;case m.KeyboardKeys.ENTER:if(null!=r){e.preventDefault();var l=o.find(function(e){return e.key===r});if(null==l)return;var s=l.libraryApplication;v.performDefaultLibraryApplicationAction(s,{analyticsParams:{source:m.AnalyticsLocations.APPLICATION_LIBRARY,location:{page:m.AnalyticsPages.LIBRARY,section:m.AnalyticsSections.LIBRARY_APPLICATION_LIST,object:m.AnalyticsObjects.BUTTON_CTA}}})}break;case m.KeyboardKeys.ARROW_DOWN:case m.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),t.updateActiveRow(e.which===m.KeyboardKeys.ARROW_DOWN?1:-1);break;default:null!=i.inputRef.current&&e.target!==i.inputRef.current&&i.focus()}},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=i.prototype;return u.componentDidMount=function(){document.addEventListener("keydown",this.handleKeyDown)},u.componentWillUnmount=function(){l.default.wait(function(){return s.updateActiveRowKey(null)}),document.removeEventListener("keydown",this.handleKeyDown)},u.reset=function(){s.updateActiveRowKey(null),s.updateLibraryFilter("")},u.focusInput=function(){var e=this.searchBarRef;null!=e&&e.focus()},u.updateActiveRow=function(e){var t=this.props,n=t.applicationViewItems,r=t.activeRowKey,a=n.findIndex(function(e){return e.key===r}),o=0;a>=0&&(o=(a+e)%n.length)<0&&(o=n.length-1);var i=n[o];s.updateActiveRowKey(null!=i?i.key:null,!0)},u.render=function(){var e,t=this,n=this.props.filterQuery,i=this.state.focused;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)((e={},e[_.default.libraryFilter]=!0,e[_.default.focused]=i,e))},void 0,a.createElement(p.default,{className:_.default.searchBar,ref:this.setRef,onChange:s.updateLibraryFilter,onFocus:function(){return t.setState({focused:!0})},onBlur:function(){return t.setState({focused:!1})},name:"filter",onClear:function(){t.reset(),t.focusInput()},maxLength:100,query:n,placeholder:y.default.Messages.APPLICATION_LIBRARY_FILTER_PLACEHOLDER}))},i}(a.Component);S.displayName="ApplicationLibraryFilter";var T=i.default.connectStores([c.default,u.default,d.default,f.default],function(){return{filterQuery:c.default.applicationFilterQuery,applicationViewItems:c.default.sortedFilteredLibraryApplicationViewItems,hasModalOpen:d.default.hasModalOpen()||u.default.hasLayers(),activeRowKey:f.default.activeRowKey}})(S);t.default=T,e.exports=t.default},8094:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=H(n(2)),i=B(n(17)),l=B(n(3)),s=n(78),u=B(n(1)),d=n(302),c=H(n(7261)),f=H(n(875)),p=B(n(452)),h=B(n(5993)),v=n(186),m=B(n(41)),y=B(n(86)),_=B(n(64)),g=B(n(35)),E=B(n(6130)),S=B(n(6765)),T=B(n(124)),O=B(n(148)),I=B(n(6005)),C=B(n(301)),N=B(n(6072)),A=B(n(7262)),M=B(n(437)),P=B(n(18)),b=n(111),R=B(n(9)),L=n(316),D=B(n(6131)),w=B(n(6063)),U=B(n(6759)),k=B(n(6769)),G=B(n(8095)),F=n(0),j=B(n(13)),x=B(n(5891));function B(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var W=(0,L.cssValueToNumber)(x.default.rowMinHeight),K=(0,L.cssValueToNumber)(x.default.linkedToGlowDuration),z=Object.freeze(((r={})[F.GameTableListKeys.PLATFORM]="Platform",r[F.GameTableListKeys.LAST_PLAYED]="Last Played",r[F.GameTableListKeys.NAME]="Name",r));var $=function(e){var t,n=e.flag,r=e.name,a=e.item,o=e.tooltip,l=a.libraryApplication.hasFlag(n);return Y(M.default,{text:o},void 0,Y(C.default,{name:r,className:(0,i.default)(x.default.settingIcon,(t={},t[x.default.hidden]=!l,t))}))};$.displayName="FlagIcon";var q=[{key:F.GameTableListKeys.NAME,renderHeader:function(){return j.default.Messages.GAME_LIBRARY_LIST_HEADER_NAME},sort:!0,cellClassName:x.default.nameCell,bodyCellClassName:x.default.nameBodyCell,render:function(e){return Y(U.default,{game:e.application,source:F.AnalyticsLocations.APPLICATION_LIBRARY},void 0,Y(O.default,{align:O.default.Align.CENTER},void 0,Y(I.default,{game:e.application,size:I.default.Sizes.SMALL,className:x.default.gameIcon}),Y("div",{className:x.default.nameCellInfo},void 0,Y("div",{className:x.default.nameCellText},void 0,e.libraryApplication.getBranchedName(e.application)),e.libraryApplication.hasFlag(F.LibraryApplicationFlags.PREMIUM)?Y(C.default,{name:C.default.Names.NITRO_WHEEL,className:x.default.nitroIcon}):null)))}},{key:F.GameTableListKeys.PLATFORM,renderHeader:function(){return j.default.Messages.GAME_LIBRARY_LIST_HEADER_PLATFORM},sort:!0,cellClassName:x.default.platformCell,bodyCellClassName:x.default.textCell,render:function(e){var t=e.libraryApplication.getDistributor();return Y(U.default,{game:e.application,source:F.AnalyticsLocations.APPLICATION_LIBRARY},void 0,Y(O.default,{align:O.default.Align.CENTER},void 0,null!=t?F.DistributorNames[t]:j.default.Messages.GAME_LIBRARY_NOT_APPLICABLE))}},{key:F.GameTableListKeys.LAST_PLAYED,renderHeader:function(){return j.default.Messages.GAME_LIBRARY_LIST_HEADER_LAST_PLAYED},sort:!0,cellClassName:x.default.lastPlayedCell,bodyCellClassName:x.default.textCell,render:function(e){var t,n;return n=e.isRunning?j.default.Messages.GAME_LIBRARY_LAST_PLAYED_PLAYING_NOW:e.isNew?j.default.Messages.GAME_LIBRARY_NEW:0!==e.lastPlayed?Y(N.default,{end:e.lastPlayed,location:N.default.Locations.GAME_LIBRARY_LAST_PLAYED}):j.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE,Y(U.default,{game:e.application,source:F.AnalyticsLocations.APPLICATION_LIBRARY},void 0,Y(O.default,{align:O.default.Align.CENTER,className:(0,i.default)((t={},t[x.default.lastPlayedCellNew]=e.isNew,t))},void 0,n))}},{key:F.GameTableListKeys.ACTIONS,renderHeader:function(){return null},cellClassName:x.default.actionsCell,render:function(e,t,n){var r;if(!t)throw new Error("No cell props defined.");var a,l,s=e.key===t.activeRowKey;return Y(o.Fragment,{},void 0,Y("div",{className:x.default.settingIcons},void 0,Y($,{flag:F.LibraryApplicationFlags.PRIVATE,item:e,name:C.default.Names.EYE_HIDDEN,tooltip:j.default.Messages.GAME_LIBRARY_PRIVATE_TOOLTIP}),Y($,{flag:F.LibraryApplicationFlags.OVERLAY_DISABLED,item:e,name:C.default.Names.OVERLAY_OFF,tooltip:j.default.Messages.GAME_LIBRARY_OVERLAY_DISABLED_TOOLTIP}),Y(G.default,{className:(0,i.default)(x.default.settingIcon,(r={},r[x.default.hidden]=!e.supportsCloudSync,r)),libraryApplication:e.libraryApplication})),e.libraryApplication instanceof v.LibraryApplicationRecord&&!(0,b.isUserEntitledToLibraryApplication)(e.libraryApplication)?Y(w.default,{skuId:e.libraryApplication.sku.id,applicationId:e.application.id,color:s?T.default.Colors.GREEN:T.default.Colors.PRIMARY,customDisabledColor:T.default.Colors.PRIMARY,size:x.default.actionButtonSize}):Y(k.default,{analyticsListSort:(a=t.sortKey,l=t.sortDirection,z[a]+" "+(l===F.TableSortDirections.ASCENDING?"ASC":"DESC")),analyticsListIndex:n,source:F.AnalyticsLocations.APPLICATION_LIBRARY,libraryApplication:e.libraryApplication,color:s?T.default.Colors.GREEN:T.default.Colors.PRIMARY,isPlayShiny:s&&e.defaultAction===F.LibraryApplicationActions.PLAY,size:x.default.actionButtonSize,hideProgress:null!=e.defaultAction,onDropdownOpen:function(){return null!=t&&t.setActiveRowKey(e)},onDropdownClose:function(){return null!=t&&t.clearActiveRowKey()}}))}}],X=function(e){var t,n=e.item,r=e.activeRowKey,a=e.highlightedApplicationKey,l=e.onMouseEnter,s=e.onMouseLeave,u=e.onContextMenu,d=e.setRef,c=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["item","activeRowKey","highlightedApplicationKey","onMouseEnter","onMouseLeave","onContextMenu","setRef"]),f=n.key===r,p=n.key===a,h=f?n.application.getSplashURL(300):null;return o.createElement("div",{className:(0,i.default)((t={},t[x.default.rowWrapperActive]=f&&!p,t[x.default.rowWrapperGlow]=p,t[x.default.rowWrapper]=!f&&!p,t[x.default.rowWrapperDim]=!f&&!n.isLaunchable,t)),ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return d(e,n.key)}),onMouseEnter:function(){return l(n)},onMouseLeave:s,onContextMenu:function(e){return u(e,n)}},f?Y("div",{className:x.default.rowBackground,style:null!=h?{backgroundImage:"url("+h+")"}:null}):null,o.createElement("div",c))};X.displayName="Row";var Q=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._didUnmount=!1,t._rowRefs={},t.state={overflowMenuRowKey:null,highlightedApplicationKey:null!=t.props.location.state?t.props.location.state.applicationId:null},t.setActiveRowKey=function(e){t.setState({overflowMenuRowKey:e.key})},t.clearActiveRowKey=function(){t._didUnmount||t.setState({overflowMenuRowKey:null})},t.handleRowMouseEnter=function(e){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(e.key)},t.handleRowMouseLeave=function(){t.props.isNavigatingByKeyboard||c.updateActiveRowKey(null)},t.setRowRef=function(e,n){t._rowRefs[n]=e},t.handleApplicationContextMenu=function(e,n){t.setActiveRowKey(n);var r=t.props.analyticsContext;(0,d.openContextMenu)(e,function(e){return o.createElement(D.default,V({},e,{type:F.ContextMenuTypes.APPLICATION_GAME_LIBRARY,applicationId:n.libraryApplication.id,branchId:n.libraryApplication.branchId,analyticsContext:r}))},{onClose:t.clearActiveRowKey})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.importGamesEnabled,n=e.gamesDBLastFetched,r=e.fetched;t&&null!=n&&f.scanForLocalApplications(),r&&(this.handleHighlightedApplicationKey(),this.trackViewed())},a.componentWillUnmount=function(){this._didUnmount=!0},a.componentDidUpdate=function(e){e.importGamesEnabled&&null!=e.gamesDBLastFetched||!this.props.importGamesEnabled||null==this.props.gamesDBLastFetched||u.default.wait(function(){return f.scanForLocalApplications()}),!e.fetched&&this.props.fetched&&(this.handleHighlightedApplicationKey(),this.trackViewed());var t=this.props.activeRowKey;if(null!=t&&e.activeRowKey!==t&&this.props.isNavigatingByKeyboard){var n=this._rowRefs[t];null!=n&&(u.default.wait(d.closeContextMenu),this.props.scrollToRow(n,W))}},a.handleHighlightedApplicationKey=function(){var e=this,t=this.state.highlightedApplicationKey;null!=t&&null!=this._rowRefs[t]&&(this.props.scrollToRow(this._rowRefs[t],W),(new s.Timeout).start(K,function(){e._didUnmount||e.setState({highlightedApplicationKey:null})}))},a.trackViewed=function(){var e={num_applications_total:0,num_applications_discord:0,num_applications_steam:0,num_applications_battlenet:0,num_applications_twitch:0,num_applications_uplay:0,num_applications_origin:0,num_applications_gog:0,num_applications_epic:0},t=this.props,n=t.analyticsContext,r=t.applicationViewItems,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}switch(i.libraryApplication.getDistributor()){case F.Distributors.DISCORD:e.num_applications_discord++;break;case F.Distributors.STEAM:e.num_applications_steam++;break;case F.Distributors.BATTLENET:e.num_applications_battlenet++;break;case F.Distributors.TWITCH:e.num_applications_twitch++;break;case F.Distributors.UPLAY:e.num_applications_uplay++;break;case F.Distributors.ORIGIN:e.num_applications_origin++;break;case F.Distributors.GOG:e.num_applications_gog++;break;case F.Distributors.EPIC:e.num_applications_epic++}e.num_applications_total++}P.default.track(F.AnalyticEvents.LIBRARY_VIEWED,V({},e,{load_id:n.loadId}))},a.handleSort=function(e,t){c.sortList(e,t)},a.handleEnableImportClick=function(){p.default.updateLocalSettings({importGamesEnabled:!0}),P.default.track(F.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!0})},a.handleDenyImportClick=function(){p.default.updateLocalSettings({importGamesEnabled:!1}),P.default.track(F.AnalyticEvents.LIBRARY_SCANNING_ENABLED,{enabled:!1})},a.renderImportHelp=function(){var e,t=this.props,n=t.importGamesEnabled,r=t.applicationViewItems,a=t.filterQuery,o=r.length>0,i=null==n&&R.default.isWindows()&&!a;return o&&!i?null:(e=i?j.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT_ASK:""!==a?j.default.Messages.APPLICATION_LIBRARY_EMPTY_SEARCH_DESCRIPTION.format({query:a}):n&&R.default.isWindows()?j.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_IMPORT:j.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_DESCRIPTION_NO_IMPORT,Y("div",{className:o?x.default.emptyStateSmall:x.default.emptyStateLarge},void 0,Y("div",{className:x.default.emptyWumpus}),Y(O.default,{grow:0,shrink:o?1:0,direction:O.default.Direction.VERTICAL},void 0,Y("div",{className:x.default.emptyStateText},void 0,Y("h5",{className:x.default.emptyStateHeader},void 0,i?j.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER_IMPORT:j.default.Messages.APPLICATION_LIBRARY_EMPTY_STATE_HEADER),Y("div",{className:x.default.emptyStateDescription},void 0,e)),i?Y("div",{className:x.default.emptyStateButtons},void 0,Y(T.default,{onClick:this.handleDenyImportClick,className:x.default.emptyStateButton,color:T.default.Colors.PRIMARY,size:T.default.Sizes.MEDIUM},void 0,j.default.Messages.APPLICATION_LIBRARY_IMPORT_DENY),Y(T.default,{className:x.default.emptyStateButton,color:T.default.Colors.BRAND,size:T.default.Sizes.MEDIUM,onClick:this.handleEnableImportClick},void 0,j.default.Messages.APPLICATION_LIBRARY_IMPORT_ACCEPT)):null)))},a.render=function(){var e=this.props,t=e.sortKey,n=e.sortDirection,r=e.applicationViewItems,a=e.activeRowKey,i=e.stickyHeader,l=this.state,s=l.overflowMenuRowKey,u=l.highlightedApplicationKey;return Y(o.Fragment,{},void 0,r.length>0?Y(A.default,{columns:q,data:r,sortData:!1,rowComponent:X,className:x.default.table,headerClassName:i?x.default.stickyHeader:x.default.header,headerCellClassName:x.default.headerCell,sortedHeaderCellClassName:x.default.headerCellSorted,bodyCellClassName:x.default.bodyCell,rowClassName:x.default.row,sortKey:t,sortDirection:n,stickyHeader:i,rowProps:{activeRowKey:s||a,highlightedApplicationKey:u,onMouseEnter:this.handleRowMouseEnter,onMouseLeave:this.handleRowMouseLeave,onContextMenu:this.handleApplicationContextMenu,setRef:this.setRowRef},cellProps:{activeRowKey:s||a,onContextMenu:this.handleApplicationContextMenu,setActiveRowKey:this.setActiveRowKey,clearActiveRowKey:this.clearActiveRowKey,sortKey:t,sortDirection:n},onSort:this.handleSort}):null,this.renderImportHelp())},r}(o.PureComponent);Q.displayName="GameList",Q.defaultProps={stickyHeader:!1};var J=l.default.connectStores([m.default,y.default,S.default,g.default,_.default,E.default],function(){return{applicationViewItems:E.default.sortedFilteredLibraryApplicationViewItems,gamesDBLastFetched:m.default.lastFetched,importGamesEnabled:g.default.importGamesEnabled,filterQuery:E.default.applicationFilterQuery,sortKey:S.default.sortKey,sortDirection:S.default.sortDirection,activeRowKey:S.default.activeRowKey,isNavigatingByKeyboard:S.default.isNavigatingByKeyboard,fetched:E.default.hasFetchedApplications}})((0,h.default)(Q));t.default=J,e.exports=t.default},8095:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=p(n(3)),l=n(78),s=p(n(6762)),u=p(n(301)),d=p(n(437)),c=n(0),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=new Set([c.CloudSyncStateTypes.PUSHING,c.CloudSyncStateTypes.PULLING]),m=Object.freeze(((r={})[c.CloudSyncStateTypes.DONE]=u.default.Names.CLOUD,r[c.CloudSyncStateTypes.PLANNING]=u.default.Names.CLOUD,r[c.CloudSyncStateTypes.PREPARING]=u.default.Names.CLOUD,r[c.CloudSyncStateTypes.PUSHING]=u.default.Names.CLOUD_UPLOAD,r[c.CloudSyncStateTypes.PULLING]=u.default.Names.CLOUD_DOWNLOAD,r[c.CloudSyncStateTypes.CONFLICT]=u.default.Names.CLOUD,r[c.CloudSyncStateTypes.ERROR]=u.default.Names.CLOUD,r)),y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._doneTimer=new l.Timeout,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidMount=function(){this.getIsRecentlySynced()&&this.setRecentlySyncedTimeout()},i.componentDidUpdate=function(e){null!=this.props.cloudSyncState&&(this.props.cloudSyncState.type!==c.CloudSyncStateTypes.DONE||null==this.props.cloudSyncState.timestamp||null!=e.cloudSyncState&&null!=e.cloudSyncState.timestamp||this.setRecentlySyncedTimeout())},i.componentWillUnmount=function(){this._doneTimer.stop()},i.setRecentlySyncedTimeout=function(){var e=this;this._doneTimer.start(2e3,function(){return e.forceUpdate()})},i.getIsRecentlySynced=function(){var e=this.props.cloudSyncState;if(null!=e&&e.type===c.CloudSyncStateTypes.DONE){var t=e.timestamp;return null!=t&&Date.now()-t<=2e3}return!1},i.getStop=function(e,t){return t?1:e.type===c.CloudSyncStateTypes.PUSHING||e.type===c.CloudSyncStateTypes.PULLING?e.progress/e.total:0},i.getTooltip=function(e,t){switch(e.type){case c.CloudSyncStateTypes.DONE:return t?f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_DONE:f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.CONFLICT:case c.CloudSyncStateTypes.ERROR:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_SUPPORTED;case c.CloudSyncStateTypes.PLANNING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PLANNING;case c.CloudSyncStateTypes.PREPARING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PREPARING;case c.CloudSyncStateTypes.PUSHING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PUSHING;case c.CloudSyncStateTypes.PULLING:return f.default.Messages.CLOUD_SYNC_ICON_TOOLTIP_PULLING}},i.render=function(){var e=this.props,t=e.cloudSyncState,n=e.libraryApplication,r=e.className,i=null==t?{type:c.CloudSyncStateTypes.DONE}:t,l=this.getIsRecentlySynced(),s={};return(v.has(i.type)||l)&&(s.gradientConfig={id:n.id,startColor:"rgba(199, 208, 240, 1)",stopColor:"rgba(114, 137, 218, 1)",stop:this.getStop(i,l)}),function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{text:this.getTooltip(i,l)},void 0,o.createElement(u.default,h({className:r,name:l?u.default.Names.CLOUD_DONE:m[i.type]},s)))},r}(o.PureComponent);y.displayName="CloudSyncIcon";var _=i.default.connectStores([s.default],function(e){var t=e.libraryApplication;return{cloudSyncState:s.default.getState(t.id,t.branchId)}})(y);t.default=_,e.exports=t.default},8096:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,s=V(n(2)),u=H(n(17)),d=H(n(6)),c=H(n(3)),f=H(n(1)),p=V(n(302)),h=V(n(326)),v=H(n(5993)),m=H(n(6011)),y=H(n(154)),_=H(n(860)),g=H(n(41)),E=H(n(86)),S=H(n(35)),T=H(n(151)),O=H(n(124)),I=H(n(148)),C=H(n(6005)),N=H(n(301)),A=n(6072),M=H(n(6160)),P=H(n(8097)),b=H(n(7262)),R=H(n(437)),L=n(882),D=V(n(111)),w=H(n(6131)),U=H(n(6759)),k=H(n(6769)),G=H(n(6639)),F=H(n(8098)),j=n(0),x=H(n(13)),B=H(n(5895));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var $=function(e){var t=e.className,n=e.children,r=e.onContextMenu,a=e.item;return z("div",{className:t,onContextMenu:function(e){return r(e,a)}},void 0,n)};$.displayName="Row";var q=[j.Colors.LINK,j.Colors.PRIMARY_DARK],X=function(e){var t=e.tooltip,n=e.onClick,r=e.icon;return z(R.default,{text:t},void 0,z(O.default,{className:B.default.actionButton,innerClassName:B.default.actionButtonContents,color:O.default.Colors.PRIMARY,size:O.default.Sizes.ICON,onClick:n},void 0,z(N.default,{name:r,className:B.default.actionIcon})))};function Q(e,t){switch(t){case j.DispatchApplicationStages.POST_INSTALL_SCRIPTS:case j.DispatchApplicationStages.PLANNING:case j.DispatchApplicationStages.FINALIZING:case j.DispatchApplicationStages.ALLOCATING_DISK:return""+e;default:return(0,L.formatSize)(e,{useKibibytes:!0})}}X.displayName="ActionButton";var J=Object.freeze(((i={})[j.LocalDispatchApplicationStates.INSTALLING]=((r={})[A.TimeUnits.NONE]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},r[A.TimeUnits.SECONDS]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.MINUTES]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},r[A.TimeUnits.HOURS]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},r),i[j.LocalDispatchApplicationStates.UPDATING]=((a={})[A.TimeUnits.NONE]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_UPDATING.format({percent:e,progress:t,total:n})},a[A.TimeUnits.SECONDS]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.MINUTES]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},a[A.TimeUnits.HOURS]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_UPDATING_UPDATING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},a),i[j.LocalDispatchApplicationStates.REPAIRING]=((o={})[A.TimeUnits.NONE]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING.format({percent:e,progress:t,total:n})},o[A.TimeUnits.SECONDS]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_SECONDS.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.MINUTES]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_MINUTES.format({percent:e,progress:t,total:n,timeRemaining:r})},o[A.TimeUnits.HOURS]=function(e,t,n,r){return x.default.Messages.GAME_LIBRARY_UPDATES_INSTALLING_HOURS.format({percent:e,progress:t,total:n,timeRemaining:r})},o),i));function Z(e,t,n,r,a){var o=null!=e?e/60:null,i=J[t],l=null!=i?Object.keys(i):[],s=(0,A.getTimeAndUnit)(o,l),u=s.unit,d=s.time;if(null!=i&&null!=u){var c=i[u];return null!=c?c(n,r,a,d):null}return null}function ee(e,t,n,r,a,o){var i=Q(a,t),l=Q(r,t);switch(t){case j.DispatchApplicationStages.QUEUED:return 0===r?x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER_NO_TRANSITION:x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_WAITING_FOR_ANOTHER.format({percent:n,progress:l,total:i});case j.DispatchApplicationStages.PLANNING:return x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PLANNING.format({percent:n});case j.DispatchApplicationStages.ALLOCATING_DISK:return x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_ALLOCATING_DISK.format({percent:n});case j.DispatchApplicationStages.PATCHING:return Z(o,e,n,l,i);case j.DispatchApplicationStages.FINALIZING:return x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINALIZING.format({percent:n});case j.DispatchApplicationStages.PAUSING:return x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:n,progress:l,total:i});case j.DispatchApplicationStages.VERIFYING:return x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_VERIFYING.format({percent:n,progress:l,total:i});case j.DispatchApplicationStages.POST_INSTALL_SCRIPTS:return x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_POST_INSTALL_SCRIPTS.format({percent:n,progress:l,total:i});case j.DispatchApplicationStages.REPAIRING:return e===j.LocalDispatchApplicationStates.REPAIRING?Z(o,e,n,l,i):x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_REPAIRING.format({percent:n,progress:l,total:i})}throw new Error("Invalid Dispatch stage")}var te="name",ne="progress",re="actions",ae=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderProgressPatchingBody=function(e,n){var r=t.props.item.state;if(null==r)return null;var a=r.stage,o=r.progress,i=r.total,l=r.type,s=r.readerProgress;if(null==o||null==i||null==a)return null;var u=D.calculateProgressPercentage(o,i),d=D.calculateProgressPercentage(s||0,i),c=e[e.length-1]/n*1e3,f=i-o,p=0!==c?Math.max(1,f/c):null,h=ee(l,a,Math.floor(u),o,i,p);return t.renderStackedProgress({percents:[u,d],message:h})},t}W(t,e);var n,r,a,o=t.prototype;return o.renderBody=function(e){var t=e.percent,n=e.foregroundColor,r=e.backgroundColor,a=e.foregroundGradientColor,o=e.message;return z(I.default,{direction:I.default.Direction.VERTICAL},void 0,z(M.default,{percent:t,size:M.default.Sizes.SMALL,backgroundColor:r,foregroundColor:n,foregroundGradientColor:a,animate:this.isFocused}),z("div",{className:B.default.progressCellText},void 0,null!=o?o:""))},o.renderStackedProgress=function(e){var t=e.percents,n=e.message;return z(I.default,{direction:I.default.Direction.VERTICAL},void 0,z(P.default,{percents:t,size:M.default.Sizes.SMALL,backgroundColor:this.props.item.theme===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_200:j.Colors.PRIMARY_DARK_800,foregroundColors:q,animate:this.isFocused}),z("div",{className:B.default.progressCellText},void 0,null!=n?n:""))},o.renderFinished=function(){var e=this.props.item;return this.renderBody({message:x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_FINISHED.format({remove:function(){return h.removeFinished(e.applicationId,e.branchId)}}),foregroundColor:e.theme===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_300:j.Colors.PRIMARY_DARK,backgroundColor:e.theme===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_200:j.Colors.PRIMARY_DARK_800,percent:100})},o.renderQueued=function(){var e,t,n=this.props.item,r=n.state,a=n.theme;if(null!=r){var o=r.progress,i=r.total,l=r.stage;if(null!=o&&null!=i){var s=Q(i,l),u=Q(o,l);t=D.calculateProgressPercentage(o,i);var d=Math.floor(t);e=l===j.DispatchApplicationStages.PAUSING?x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSING.format({percent:d,progress:u,total:s}):x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED.format({percent:d,progress:u,total:s})}}return null!=t&&null!=e||(t=0,e=x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_QUEUED_NO_TRANSITION),this.renderBody({percent:t,foregroundColor:a===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_300:j.Colors.PRIMARY_DARK,backgroundColor:a===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_200:j.Colors.PRIMARY_DARK_800,message:e})},o.renderPaused=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.progress,a=t.total;if(null==r||null==a)return null;var o=D.calculateProgressPercentage(r,a),i=Math.floor(o),l=0===r&&1===a?x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED_NO_TRANSITION:x.default.Messages.GAME_LIBRARY_UPDATES_PROGRESS_PAUSED.format({percent:i,progress:(0,L.formatSize)(r),total:(0,L.formatSize)(a)});return this.renderBody({message:l,foregroundColor:n===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_300:j.Colors.PRIMARY_DARK,backgroundColor:n===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_200:j.Colors.PRIMARY_DARK_800,percent:o})},o.renderProgressPatching=function(){return z(G.default,{getHistoricalTotalBytes:y.default.getHistoricalTotalBytesWritten,updateInterval:5e3},void 0,this.renderProgressPatchingBody)},o.renderProgressDefault=function(){var e=this.props.item,t=e.state,n=e.theme;if(null==t)return null;var r=t.total,a=t.progress,o=t.stage,i=t.type;if(null==r||null==a||null==o)return null;var l=D.calculateProgressPercentage(a,r),s=Math.floor(l);return this.renderBody({percent:l,message:ee(i,o,s,a,r),foregroundColor:j.Colors.LINK,backgroundColor:n===j.ThemeTypes.LIGHT?j.Colors.PRIMARY_DARK_200:j.Colors.PRIMARY_DARK_800})},o.renderProgress=function(){var e=this.props.item.state;switch(null!=e?e.stage:null){case j.DispatchApplicationStages.PATCHING:case j.DispatchApplicationStages.REPAIRING:return this.renderProgressPatching();default:return this.renderProgressDefault()}},o.render=function(){var e=this.props,t=e.item,n=e.cellProps;return t.finished?this.renderFinished():t.index>0?this.renderQueued():null==t.state||t.state.type!==j.LocalDispatchApplicationStates.UPDATING&&t.state.type!==j.LocalDispatchApplicationStates.REPAIRING&&t.state.type!==j.LocalDispatchApplicationStates.INSTALLING?null:null!=n&&n.paused?this.renderPaused():this.renderProgress()},n=t,(r=[{key:"isFocused",get:function(){var e=this.props.cellProps;return null!=e&&e.isFocused}}])&&Y(n.prototype,r),a&&Y(n,a),t}(s.PureComponent);ae.displayName="ProgressCell";var oe=function(){return z(X,{icon:N.default.Names.PLAY,tooltip:x.default.Messages.GAME_LIBRARY_UPDATES_ACTION_RESUME,onClick:function(){return h.resume()}})};oe.displayName="ResumeButton";var ie=function(){return z(X,{icon:N.default.Names.PAUSE,tooltip:x.default.Messages.GAME_LIBRARY_UPDATES_ACTION_PAUSE,onClick:function(){return h.pause()}})};ie.displayName="PauseButton";var le=function(e){var t=e.item;return z(X,{icon:N.default.Names.ARROW_UP,tooltip:x.default.Messages.GAME_LIBRARY_UPDATES_ACTION_MOVE_UP,onClick:function(){return h.moveUp(t.applicationId,t.branchId)}})};le.displayName="MoveUpButton";var se=function(e){var t=e.item;return z(X,{icon:N.default.Names.CLOSE,tooltip:x.default.Messages.GAME_LIBRARY_UPDATES_ACTION_REMOVE,onClick:function(){return h.cancel(t.applicationId,t.branchId)}})};se.displayName="CancelButton";var ue=z(oe,{}),de=[{key:te,cellClassName:B.default.nameCell,render:function(e){return z(U.default,{game:e.application,location:j.AnalyticsLocations.APPLICATION_LIBRARY},void 0,z(I.default,{align:I.default.Align.CENTER},void 0,z(C.default,{game:e.application,className:B.default.gameIcon,size:C.default.Sizes.SMALL}),z("div",{className:B.default.nameCellText},void 0,e.application.name)))}},{key:ne,cellClassName:B.default.progressCell,headerCellClassName:B.default.progressCellHeader,bodyCellClassName:B.default.progressCellBody,render:function(e,t){return z(ae,{item:e,cellProps:t})}},{key:re,cellClassName:B.default.actionsCell,render:function(e,t){var n,r;return e.finished?n=null!=e.libraryApplication?z(k.default,{libraryApplication:e.libraryApplication,size:O.default.Sizes.SMALL,className:B.default.gameActionButton,source:j.AnalyticsLocations.APPLICATION_LIBRARY_UPDATES}):null:null!=e.state?e.state.type!==j.LocalDispatchApplicationStates.UP_TO_DATE&&(n=e.index>0?z(le,{item:e}):null!=t&&t.paused?ue:z(ie,{item:e}),r=z(se,{item:e})):r=z(se,{item:e}),z(I.default,{justify:I.default.Justify.END},void 0,n,r)}}],ce=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).isUnmounted=!1,t.isTallerThanHalfViewport=!1,t.throttledUpdateHeight=d.default.throttle(function(){if(!t.isUnmounted){var e=t.props,n=e.height,r=e.onHeightTallerThanHalfViewportChange,a=n>window.innerHeight/2;t.isTallerThanHalfViewport!==a&&(t.isTallerThanHalfViewport=a,r(a))}},1e3),t}W(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("resize",this.throttledUpdateHeight)},n.componentDidUpdate=function(e){this.props.height!==e.height&&this.throttledUpdateHeight()},n.componentWillUnmount=function(){this.props.applications.forEach(function(e){e.finished&&f.default.wait(function(){h.removeFinished(e.applicationId,e.branchId)})}),window.removeEventListener("resize",this.throttledUpdateHeight),this.isUnmounted=!0},n.render=function(){var e=this.props,t=e.applications,n=e.paused,r=e.isFocused,a=e.theme,o=e.analyticsContext;return 0===t.length?null:z("div",{className:B.default.gameUpdates},void 0,z("div",{className:B.default.headerRow},void 0,z(F.default,{className:(0,u.default)(B.default.headerCell,B.default.networkProgress),title:x.default.Messages.GAME_LIBRARY_UPDATES_HEADER_NETWORK,getHistoricalTotalBytes:y.default.getHistoricalTotalBytesDownloaded,color:j.Colors.STATUS_GREEN,animate:r,gradientStopColor:a===j.ThemeTypes.LIGHT?j.Colors.WHITE:null}),z(F.default,{className:(0,u.default)(B.default.headerCell,B.default.diskProgress),title:x.default.Messages.GAME_LIBRARY_UPDATES_HEADER_DISK,getHistoricalTotalBytes:y.default.getHistoricalTotalBytesWritten,color:j.Colors.LINK,animate:r,gradientStopColor:a===j.ThemeTypes.LIGHT?j.Colors.WHITE:null})),z(b.default,{hasHeader:!1,columns:de,data:t,className:B.default.table,rowClassName:B.default.row,rowComponent:$,cellProps:{paused:n,isFocused:r,theme:a},rowProps:{onContextMenu:function(e,t){return function(e,t,n){p.openContextMenu(e,function(e){return s.createElement(w.default,K({},e,{type:j.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES,application:t.applicationId,applicationId:t.branchId,analyticsContext:n}))})}(e,t,o)}},bodyCellClassName:B.default.cell}))},t}(s.PureComponent);function fe(e,t){return e.reduce(function(e,n,r){var a=n.applicationId,o=n.branchId,i=g.default.getGame(a),l=y.default.getState(a,o);return null!=i&&e.push({key:a+":"+o,applicationId:a,branchId:o,state:l,application:i,libraryApplication:E.default.getLibraryApplication(a,o),finished:t,index:r}),e},[])}ce.displayName="GameUpdates";var pe=(0,m.default)(c.default.connectStores([y.default,_.default,g.default,E.default,T.default,S.default],function(){var e=fe(_.default.activeItems,!1),t=fe(_.default.finishedItems,!0);return{applications:[].concat(e,t),paused:_.default.paused,isFocused:T.default.isFocused(),theme:S.default.theme}})((0,v.default)(ce)));t.default=pe,e.exports=t.default},8097:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=s(n(17)),o=s(n(6)),i=n(0),l=s(n(5892));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),f=function(e){var t=e.className,n=e.percents,r=e.size,s=void 0===r?c.SMALL:r,f=e.foregroundColors,p=void 0===f?[i.Colors.BRAND]:f,h=e.backgroundColor,v=void 0===h?"#e9e7e7":h,m=e.animate,y=void 0===m||m,_=o.default.zip(n,p).map(function(e,t){var n,r,o=e[0],i=e[1];return r=Array.isArray(i)?{background:"linear-gradient(to right, "+i[0]+", "+i[1]+")"}:{backgroundColor:i},u("div",{className:(0,a.default)(l.default.progressBar,l.default[s],(n={},n[l.default.animating]=y,n)),style:d({transform:"translate3d("+(Math.min(Math.max(0,o),100)-100)+"%, 0, 0)"},r)},t)}).reverse();return u("div",{className:(0,a.default)(t,l.default.progress,l.default[s]),style:{backgroundColor:v}},void 0,_)};f.displayName="StackedProgress",f.Sizes=c;var p=f;t.default=p,e.exports=t.default},8098:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=c(n(148)),l=c(n(8099)),s=c(n(6639)),u=c(n(13)),d=c(n(5894));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=1e3;var h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).renderBody=function(e,n,r){var a,s=t.props,c=s.title,h=s.className,v=s.color,m=s.animate,y=s.gradientStopColor;return f("div",{className:(0,o.default)(d.default.monitor,h)},void 0,f(i.default,{align:i.default.Align.CENTER},void 0,f(i.default,{className:d.default.text,direction:i.default.Direction.VERTICAL},void 0,f("div",{className:d.default.title},void 0,c),f("div",{className:d.default.rate},void 0,(a=e[e.length-1]/n*1e3)>p?u.default.Messages.FILE_RATE_MB.format({size:Math.round(a/p)}):u.default.Messages.FILE_RATE_KB.format({size:Math.round(a)}))),f("div",{className:d.default.overflowContainer},void 0,f(l.default,{data:e,maxValue:Math.max(Math.max.apply(null,e),1e3),className:d.default.sparkChart,updateInterval:n,color:v,gradientStopColor:y,numUpdatesToShow:r,animate:m,pixelWidth:600,pixelHeight:48,lineWidth:4}))))},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){return f(s.default,{getHistoricalTotalBytes:this.props.getHistoricalTotalBytes},void 0,this.renderBody)},r}(a.PureComponent);h.displayName="GameUpdateActivityMonitor";var v=h;t.default=v,e.exports=t.default},8099:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=u(n(2)),o=s(n(6)),i=u(n(6137)),l=s(n(5893));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var d=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).canvas=a.createRef(),t.updateAnimation=function(e){var n=t.canvas.current;if(null!=n){var r=t.props,a=r.data,o=r.updateInterval,i=r.color,l=r.numUpdatesToShow,s=r.lineWidth,u=r.animate,d=r.gradientStopColor;if(!(a.length<2)){var c=Math.max(Math.min((e-t.dataChangedAt)/o,1),0),f=n.getContext("2d"),p=t.maxValue;f.strokeStyle=i,f.lineWidth=s;var h=n.height-f.lineWidth,v=f.createLinearGradient(0,0,0,h);v.addColorStop(0,null!=d?d:"transparent"),v.addColorStop(1,t.fillColor),f.fillStyle=v;var m=a.length>=l?l:a.length;f.setTransform(1,0,0,-1,0,n.height),f.clearRect(0,0,n.width,n.height),f.translate(0,.5*f.lineWidth);var y,_,g=Math.floor(n.width/(m-3)),E=.5*g,S=g-g*c;f.translate(S,0),f.beginPath();var T=-g;a.forEach(function(e,t){y={x:T,y:h*e/p},0===t?f.moveTo(y.x,y.y):f.bezierCurveTo(_.x+E,_.y,y.x-E,y.y,y.x,y.y),_=y,T+=g}),f.stroke(),f.lineTo(T-g,0),f.lineTo(0,0),f.fill(),u&&c<1&&(t.animationFrameRequestId=window.requestAnimationFrame(t.updateAnimation))}}},t}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var u=s.prototype;return u.onDataUpdate=function(e,t){var n=this.props,r=n.maxValue,a=n.data,l=n.animate,s=null==e||e.data!==t.data&&!o.default.isEqual(e.data,t.data);if(s&&(this.dataChangedAt=performance.now(),this.maxValue=null!=r?r:Math.max.apply(Math,a)),s||null==e||!e.animate&&l||e.color!==this.props.color){var u=i.hexToRgb(this.props.color);this.fillColor="rgba("+u.r+", "+u.g+", "+u.b+", 0.5)",window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=window.requestAnimationFrame(this.updateAnimation)}},u.componentDidMount=function(){this.animationFrameRequestId=0,this.onDataUpdate(null,this.props)},u.componentDidUpdate=function(e){this.onDataUpdate(e,this.props)},u.componentWillUnmount=function(){window.cancelAnimationFrame(this.animationFrameRequestId),this.animationFrameRequestId=0},u.render=function(){var e=this.props,t=e.className,n=e.pixelWidth,o=e.pixelHeight;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("div",{className:t},void 0,a.createElement("canvas",{ref:this.canvas,className:l.default.canvas,width:n,height:o}))},s}(a.PureComponent);d.displayName="SparkChart",d.defaultProps={animate:!0};var c=d;t.default=c,e.exports=t.default},8100:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=R(n(303)),i=R(n(3)),l=n(302),s=R(n(6138)),u=R(n(12)),d=R(n(848)),c=R(n(7263)),f=R(n(6600)),p=R(n(837)),h=R(n(471)),v=R(n(843)),m=R(n(108)),y=R(n(6043)),_=R(n(28)),g=R(n(149)),E=R(n(181)),S=R(n(49)),T=R(n(226)),O=R(n(6284)),I=R(n(148)),C=R(n(8101)),N=R(n(6122)),A=R(n(7047)),M=R(n(8108)),P=n(0),b=R(n(5899));function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=78,U=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleContextMenu=function(e){var t=n.props.guild;(0,l.openContextMenu)(e,function(e){return a.createElement(N.default,D({},e,{type:P.ContextMenuTypes.GUILD_CHANNEL_LIST,guild:t}))})},n.pinBanner=function(e){if(null!=e){var t=e.scrollTop,r=n.props.guild.id,a=new Set(n.state.pinnedBannerGuilds);t>=w?a.has(r)||a.add(r):a.has(r)&&a.delete(r),n.state.bannerOpacity.setValue(1-t/w),n.setState({pinnedBannerGuilds:a})}},n.state={pinnedBannerGuilds:new Set,bannerOpacity:new o.default.Value(1)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.componentDidUpdate=function(e){e.guildId!==this.props.guildId&&this.state.bannerOpacity.setValue(1-this.props.scrollTop/w)},i.renderGuildHeader=function(){var e=this.props,t=e.guild,n=e.isGuest,r=this.state,a=r.pinnedBannerGuilds,o=r.bannerOpacity;return L(I.default.Child,{wrap:!0,grow:0,shrink:0},"guild-header",L(M.default,{guild:t,isGuest:n,pinnedBanner:null!=a&&a.has(t.id),bannerOpacity:o}))},i.renderNotice=function(){var e=this.props.guild;return L(C.default,{guild:e})},i.render=function(){var e=this.props.guild,t=this.props,n=(t.channelNoticeVersion,t.mentionCount,t.isGuest,function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["channelNoticeVersion","mentionCount","isGuest"]));return L(I.default,{className:b.default.container,direction:I.default.Direction.VERTICAL,align:I.default.Align.STRETCH,onContextMenu:this.handleContextMenu},void 0,null!=e&&this.renderGuildHeader(),null!=e&&this.renderNotice(),a.createElement(A.default,D({},n,{onScroll:null!=e&&null!=e.banner?this.pinBanner:null})))},r}(a.PureComponent);U.displayName="GuildSidebar";var k=(0,s.default)(function(e,t){var n;return(n={})[P.ComponentActions.GUILD_SIDEBAR_FORCE_UPDATE]=function(){return t.forceUpdate()},n})(U),G=i.default.connectStores([g.default,p.default,h.default,m.default,y.default,_.default,E.default,S.default,O.default,T.default,f.default,c.default,v.default,d.default,u.default],function(e){var t=e.guildId,n=_.default.getGuild(t),r=m.default.getChannels(t),a=v.default.getCategories(t),o=T.default.getMutedChannels(t),i=O.default.getVoiceStates(t),l=f.default.getCollapsed(),s=T.default.isGuildCollapsed(t),I=y.default.getMentionCounts()[t],C=y.default.getGuildUnreadCount(t),N=h.default.getGuildDimensions(t),A=N.scrollTo,M=N.scrollTop,P=p.default.getChannelId(t),b=E.default.isDisabled()?null:S.default.getVoiceChannelId(),R=g.default.getGuildVersion(t),L=c.default.getVersion(),D=d.default.version;return{guild:n,channels:r,categories:a,mutedChannels:o,scrollToChannel:A,selectedChannelId:P,selectedVoiceChannelId:b,voiceStates:i,collapsedChannels:l,collapseMuted:s,scrollTop:M,isGuest:u.default.isGuest(),mentionCount:I,unreadCount:C,permissionVersion:R,channelNoticeVersion:L,categoryCollapseVersion:D}})(k);t.default=G,e.exports=t.default},8101:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(6)),i=g(n(3)),l=n(6746),s=g(n(8102)),u=g(n(7263)),d=g(n(6164)),c=g(n(8103)),f=g(n(8104)),p=g(n(177)),h=g(n(8105)),v=g(n(8106)),m=g(n(8107)),y=n(0),_=g(n(5389));function g(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=S(h.default,{}),O=S(m.default,{}),I=new s.default([{type:y.ChannelNoticeTypes.MFA_WARNING,store:c.default,renderNotice:function(){return T}},{type:y.ChannelNoticeTypes.INVITE,store:f.default,renderNotice:function(e){return S(v.default,{guild:e})}},{type:y.ChannelNoticeTypes.QUICKSWITCHER,store:d.default,renderNotice:function(){return O}}]),C=o.default.debounce(p.default.trackWithMetadata,500),N=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props,t=e.guild,n=e.notice;null!=n&&((0,l.showNotice)(n.type,t),C(y.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:n.type,guild_id:t.id}))},a.componentDidUpdate=function(e){var t=this.props,n=t.guild,r=t.notice;null==r||e.guild.id===n.id&&null!=e.notice&&e.notice.type===r.type||((0,l.showNotice)(r.type,n),C(y.AnalyticEvents.CHANNEL_NOTICE_VIEWED,{notice_type:r.type,guild_id:n.id}))},a.render=function(){var e=this.props,t=e.guild,n=e.notice;return null==n||null!=t.banner&&null!=n&&n.type!==y.ChannelNoticeTypes.MFA_WARNING?null:S("div",{className:_.default.channelNotices,onContextMenu:function(e){return e.stopPropagation()}},void 0,n.renderNotice(t))},r}(a.PureComponent);N.displayName="ChannelNotices";var A=i.default.connectStores([u.default].concat(I.getStores()),function(e){var t=e.guild,n=u.default.getState(),r=n.noticeStates,a=n.lastHidden;return E({},n,{notice:I.getNotice(r,t,a)})})(N);t.default=A,e.exports=t.default},8102:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(){function e(e){this.notices=e}var t=e.prototype;return t.getStores=function(){return this.notices.map(function(e){return e.store})},t.getNotice=function(e,t,n){return this.notices.find(function(r){var a=r.store,o=r.type;return a.channelNoticePredicate(e[o],t,n)})},e}();t.default=r,e.exports=t.default},8103:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(1)),a=s(n(108)),o=s(n(14)),i=s(n(6218)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=!1;function d(){var e=o.default.getCurrentUser();if(null==e||e.mfaEnabled===u)return!1;u=e.mfaEnabled}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.initialize=function(){this.waitFor(o.default,a.default),this.syncWith([o.default,a.default],d)},i.channelNoticePredicate=function(e,t){return t.mfaLevel===l.MFALevels.ELEVATED&&!u&&a.default.hasElevatedPermissions(t.id)},r}(i.default))(r.default,function(e){switch(e){case l.ActionTypes.CONNECTION_OPEN:return d();case l.ActionTypes.GUILD_UPDATE:return!0;default:return!1}});t.default=c,e.exports=t.default},8104:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(1)),a=u(n(87)),o=u(n(149)),i=u(n(14)),l=u(n(6218)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function d(){return!0}var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.initialize=function(){this.waitFor(o.default),this.syncWith([o.default],d)},l.channelNoticePredicate=function(e,t,n){var r=Date.now()-n>=s.CHANNEL_NOTICE_SHOW_DELAY,o=i.default.getCurrentUser();return null!=o&&(e&&r&&a.default.can(s.Permissions.ADMINISTRATOR,o,t))},r}(l.default))(r.default);t.default=c,e.exports=t.default},8105:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=n(6746),l=c(n(824)),s=n(0),u=c(n(13)),d=c(n(5389));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleEnableMFA=function(){l.default.open(s.UserSettingsSections.ACCOUNT)},a.componentWillUnmount=function(){(0,i.hideNotice)(s.ChannelNoticeTypes.MFA_WARNING)},a.render=function(){return f("div",{className:(0,o.default)(d.default.channelNotice,d.default.guildMFAWarning)},void 0,f("div",{className:d.default.message},void 0,u.default.Messages.TWO_FA_GUILD_MFA_WARNING.format({onClick:this.handleEnableMFA})))},r}(a.PureComponent);p.displayName="GuildMFAWarning";var h=p;t.default=h,e.exports=t.default},8106:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=n(6746),l=v(n(152)),s=v(n(77)),u=v(n(49)),d=v(n(124)),c=v(n(6027)),f=n(0),p=v(n(13)),h=v(n(5389));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleInvite=function(){var e=t.props.guild;s.default.push(c.default,{guild:e,source:f.InstantInviteSources.INVITE_NOTICE})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleClose=function(){var e=u.default.getChannelId();(0,i.hideNotice)(f.ChannelNoticeTypes.INVITE),e&&l.default.sendBotMessage(e,p.default.Messages.HOW_TO_INVITE_OTHERS.format({invitePeople:p.default.Messages.INVITE_PEOPLE}))},a.render=function(){return m("div",{className:(0,o.default)(h.default.channelNotice,h.default.invite)},void 0,m(d.default,{look:d.default.Looks.BLANK,size:d.default.Sizes.NONE,className:h.default.close,onClick:this.handleClose}),m("div",{className:h.default.message},void 0,m("div",{},void 0,p.default.Messages.INVITE_NOTICE_MESSAGE),m("div",{},void 0,p.default.Messages.INVITE_NOTICE_MESSAGE_PART_2),m("button",{className:h.default.btn,onClick:this.handleInvite},void 0,p.default.Messages.INVITE_PEOPLE)))},r}(a.PureComponent);y.displayName="InviteNotice";var _=y;t.default=_,e.exports=t.default},8107:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=n(6746),i=n(6075),l=n(6298),s=p(n(124)),u=n(6121),d=n(0),c=p(n(13)),f=p(n(5389));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(){var e=l.QUICKSWITCHER_SHOW.binds[0].split("+").map(function(e){return u.PRETTY_KEYS[e]?u.PRETTY_KEYS[e]():e}).join(" + ");return h("div",{className:(0,a.default)(f.default.channelNotice,f.default.quickswitcher)},void 0,h(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,className:f.default.close,onClick:function(){return(0,o.hideNotice)(d.ChannelNoticeTypes.QUICKSWITCHER)}}),h("div",{className:f.default.message},void 0,h("div",{},void 0,c.default.Messages.QUICKSWITCHER_NOTICE),h("button",{className:f.default.btn,onClick:function(){return(0,i.show)("CHANNEL_NOTICE")}},void 0,e)))},e.exports=t.default},8108:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=E(n(2)),o=g(n(17)),i=g(n(303)),l=n(302),s=g(n(301)),u=g(n(821)),d=g(n(437)),c=g(n(79)),f=g(n(8109)),p=g(n(8120)),h=E(n(6044)),v=g(n(6122)),m=n(0),y=g(n(13)),_=g(n(5898));function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={open:!1},t.renderPopout=function(e){return a.createElement(f.default,T({},e,{guild:t.props.guild}))},t.handleOpen=function(){t.setState({open:!0})},t.handleClose=function(){t.setState({open:!1})},t.handleContextMenu=function(e){var n=t.props.guild;(0,l.openContextMenu)(e,function(e){return a.createElement(v.default,T({},e,{type:m.ContextMenuTypes.GUILD_HEADER,guild:n}))})},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r,l,f,v=this.props,g=v.guild,E=v.isGuest,T=v.pinnedBanner,O=v.bannerOpacity,I=this.state.open,C=g.hasFeature(m.GuildFeatures.VERIFIED);g.hasFeature(m.GuildFeatures.VERIFIED)&&(r=S(d.default,{text:y.default.Messages.GUILD_VERIFIED,position:d.default.Positions.BOTTOM},void 0,S(s.default,{className:_.default.verified,innerClassName:(0,o.default)(_.default.verifiedInner,(f={},f[_.default.banner]=null!=g.banner&&!T,f)),name:s.default.Names.VERIFIED,checkmark:m.Colors.WHITE})));var N=g.hasFeature(m.GuildFeatures.VERIFIED)&&null!=g.banner;if(N){var A=c.default.getGuildBannerURL({id:g.id,banner:g.banner});null!=A&&(l="linear-gradient(180deg, rgba(54,57,63,0) 0%, "+m.Colors.PRIMARY_DARK_630+' 100%), url("'+A+'")')}var M=S("header",{className:(0,o.default)(_.default.header,(e={},e[_.default.banner]=null!=g.banner&&!T&&C,e))},void 0,r,S("span",{className:_.default.name},void 0,g.toString()),E?null:S(h.default,{tutorialId:"server-settings",position:h.TutorialIndicatorPositions.BOTTOM,offsetY:-30,offsetX:-18},void 0,S(p.default,{open:I,className:_.default.dropdown}))),P=null!=g.banner&&C&&!T?S(i.default.div,{style:i.default.accelerate({backgroundImage:l,opacity:O}),className:(0,o.default)((t={},t[_.default.bannerImage]=null!=g.banner,t))}):null;return S("div",{className:(0,o.default)(_.default.container,(n={},n[_.default.hasDropdown]=!E&&(null==g.banner||N&&T),n)),onContextMenu:this.handleContextMenu},void 0,S(a.Fragment,{},void 0,E?M:S(u.default,{uniqueId:"guild-header",animationType:u.default.Animations.SPRING,render:this.renderPopout,position:u.default.Positions.BOTTOM,onOpen:this.handleOpen,onClose:this.handleClose},void 0,M),P))},r}(a.PureComponent);O.displayName="GuildHeader";var I=O;t.default=I,e.exports=t.default},8109:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=P(n(2)),o=M(n(6)),i=M(n(3)),l=M(n(6672)),s=M(n(6316)),u=M(n(6145)),d=P(n(911)),c=M(n(6e3)),f=M(n(77)),p=M(n(6158)),h=M(n(6641)),v=M(n(12)),m=M(n(230)),y=M(n(149)),_=M(n(226)),g=M(n(14)),E=M(n(125)),S=n(227),T=M(n(44)),O=P(n(7148)),I=M(n(445)),C=M(n(6027)),N=n(0),A=M(n(13));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var L=R(O.PopoutMenuSeparator,{}),D=R(O.PopoutMenuSeparator,{},"separator"),w=R(O.PopoutMenuSeparator,{}),U=R(O.PopoutMenuSeparator,{}),k=function(e){var t,r;function i(t){var n;return n=e.call(this,t)||this,o.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["close","handleOpenInviteModal","handleOpenGuildSettings","handleCreateChannel","handleCreateCategory","handleOpenNotificationSettings","handleOpenPrivacySettings","handleOpenChangeNickname","handleLeaveGuild","handleConfirmLeaveGuild","handleToggleMuted"]),n}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var m=i.prototype;return m.close=function(){this.props.onClose()},m.handleOpenInviteModal=function(){var e=this.props.guild;f.default.push(C.default,{guild:e,source:N.InstantInviteSources.GUILD_HEADER}),this.close()},m.handleOpenGuildSettings=function(){var e=this.props.guild;c.default.open(e.id,N.GuildSettingsSections.OVERVIEW),this.close()},m.handleCreateChannel=function(){u.default.open(null,this.props.guild.id,null,null),this.close()},m.handleCreateCategory=function(){u.default.open(N.ChannelTypes.GUILD_CATEGORY,this.props.guild.id,null,null),this.close()},m.handleOpenNotificationSettings=function(){p.default.open(this.props.guild.id),this.close()},m.handleOpenPrivacySettings=function(){h.default.open(this.props.guild.id),this.close()},m.handleOpenChangeNickname=function(){l.default.open(this.props.guild.id,v.default.getId()),this.close()},m.handleStopLurking=function(){d.stopLurking(),T.default.transitionTo(N.Routes.GUILD_DISCOVERY)},m.handleLeaveGuild=function(){var e=this;f.default.push(function(t){return a.createElement(I.default,b({header:A.default.Messages.LEAVE_SERVER_TITLE.format({name:e.props.guild.toString()}),confirmText:A.default.Messages.LEAVE_SERVER,cancelText:A.default.Messages.CANCEL,onConfirm:e.handleConfirmLeaveGuild},t),R(E.default,{size:E.default.Sizes.MEDIUM,color:E.default.Colors.PRIMARY},void 0,A.default.Messages.LEAVE_SERVER_BODY.format({name:e.props.guild.toString()})))})},m.handleConfirmLeaveGuild=function(){c.default.leaveGuild(this.props.guild.id)},m.handleToggleMuted=function(){s.default.toggleCollapseGuild(this.props.guild.id)},m.render=function(){var e,t,r,o,i,l,s,u=this.props,d=u.isCollapsed,c=u.canInvite,f=u.canAccessSettings,p=u.canManageChannels,h=u.canEditNickname,v=u.isOwner,m=u.isLurking,y=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(u,["isCollapsed","canInvite","canAccessSettings","canManageChannels","canEditNickname","isOwner","isLurking"]);return c&&(e=R(O.PopoutMenuItem,{onClick:this.handleOpenInviteModal,type:"invite"},void 0,R(O.PopoutMenuIcon,{icon:n(8110)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.INVITE_PEOPLE))),f&&(t=R(O.PopoutMenuItem,{onClick:this.handleOpenGuildSettings},void 0,R(O.PopoutMenuIcon,{icon:n(8111)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.SERVER_SETTINGS))),p&&(i=R(O.PopoutMenuItem,{onClick:this.handleCreateChannel},void 0,R(O.PopoutMenuIcon,{icon:n(8112)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.CREATE_CHANNEL)),l=R(O.PopoutMenuItem,{onClick:this.handleCreateCategory},void 0,R(O.PopoutMenuIcon,{icon:n(8113)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.CREATE_CATEGORY)),s=L),h&&(r=R(O.PopoutMenuItem,{onClick:this.handleOpenChangeNickname},"popout-item",R(O.PopoutMenuIcon,{icon:n(8114)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.CHANGE_NICKNAME))),v||(o=[m?null:D,R(O.PopoutMenuItem,{onClick:m?this.handleStopLurking:this.handleLeaveGuild,type:"leave"},"popout-item",R(O.PopoutMenuIcon,{icon:n(8115)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.LEAVE_SERVER))]),m?a.createElement(O.default,y,o):a.createElement(O.default,y,e,e?w:null,t,i,l,s,R(O.PopoutMenuItem,{onClick:this.handleOpenNotificationSettings},void 0,R(O.PopoutMenuIcon,{icon:n(8116)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.NOTIFICATION_SETTINGS)),R(O.PopoutMenuItem,{onClick:this.handleOpenPrivacySettings},void 0,R(O.PopoutMenuIcon,{icon:n(8117)}),R(O.PopoutMenuItemLabel,{},void 0,A.default.Messages.PRIVACY_SETTINGS)),U,r,R(O.PopoutMenuItem,{onClick:this.handleToggleMuted},void 0,R(O.PopoutMenuIcon,{icon:n(d?8118:8119)}),R(O.PopoutMenuItemLabel,{},void 0,d?A.default.Messages.SHOW_MUTED_CHANNELS:A.default.Messages.HIDE_MUTED_CHANNELS)),o)},i}(a.PureComponent);k.displayName="GuildHeaderPopout";var G=i.default.connectStores([y.default,g.default,_.default,m.default],function(e){var t=e.guild,n=g.default.getCurrentUser();return{user:n,isCollapsed:_.default.isGuildCollapsed(t.id),canInvite:(0,S.canViewInviteModal)(t,t),canAccessSettings:y.default.can(N.Permissions.MANAGE_GUILD,t)||y.default.can(N.Permissions.MANAGE_ROLES,t)||y.default.can(N.Permissions.BAN_MEMBERS,t)||y.default.can(N.Permissions.MANAGE_NICKNAMES,t)||y.default.can(N.Permissions.MANAGE_EMOJIS,t)||y.default.can(N.Permissions.MANAGE_WEBHOOKS,t)||y.default.can(N.Permissions.VIEW_AUDIT_LOG,t),canManageChannels:y.default.can(N.Permissions.MANAGE_CHANNELS,t),canEditNickname:y.default.can(N.Permissions.CHANGE_NICKNAME,t)||y.default.can(N.Permissions.MANAGE_NICKNAMES,t),isOwner:t.isOwner(n),isLurking:m.default.isLurking(t.id)}})(k);t.default=G,e.exports=t.default},8110:function(e,t,n){e.exports=n.p+"d4ff0d2af68cd1119f0d16ef79d1369c.svg"},8111:function(e,t,n){e.exports=n.p+"9a93097ab591379729c68f15a17b26af.svg"},8112:function(e,t,n){e.exports=n.p+"2fc862597335421b35a79aa9aaba4a86.svg"},8113:function(e,t,n){e.exports=n.p+"52bc30f8a2b1a51f808a785819ca00b5.svg"},8114:function(e,t,n){e.exports=n.p+"bc11a9099f5729962c095cb49d5042f6.svg"},8115:function(e,t,n){e.exports=n.p+"00de6b3cbb5c4dbcec817c91262f5f5b.svg"},8116:function(e,t,n){e.exports=n.p+"6a711bd91522e885413464a88a4e3c69.svg"},8117:function(e,t,n){e.exports=n.p+"6afcd5d6a8c9d467e27e1bb48755dce0.svg"},8118:function(e,t,n){e.exports=n.p+"50f8ef2cdb4e7697a4202fb9c6d0e1fc.svg"},8119:function(e,t,n){e.exports=n.p+"858df73648ac3877a22156da2e69a5fd.svg"},8120:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(5897));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s=l("g",{fill:"none",fillRule:"evenodd"},void 0,l("path",{d:"M0 0h18v18H0"}),l("path",{stroke:"#FFF",d:"M4.5 4.5l9 9",strokeLinecap:"round"}),l("path",{stroke:"#FFF",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})),u=function(e){var t,n=e.open,r=e.className;return l("svg",{width:"18",height:"18",className:(0,a.default)(o.default.button,r,(t={},t[o.default.open]=n,t))},void 0,s)};u.displayName="DropdownButton";var d=u;t.default=d,e.exports=t.default},8123:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=N(n(304)),a=N(n(6)),o=N(n(439)),i=N(n(3)),l=N(n(179)),s=N(n(12)),u=N(n(20)),d=N(n(458)),c=N(n(41)),f=N(n(46)),p=N(n(181)),h=N(n(64)),v=N(n(49)),m=N(n(150)),y=N(n(319)),_=N(n(463)),g=N(n(130)),E=N(n(6053)),S=N(n(7201)),T=n(223),O=N(n(18)),I=n(177),C=n(0);function N(e){return e&&e.__esModule?e:{default:e}}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var M=(0,r.default)({displayName:"AutoAnalytics",mixins:[i.default.StoreListenerMixin(f.default,_.default,v.default,h.default,m.default,S.default,E.default,p.default,y.default),o.default],getStateFromStores:function(){var e=v.default.getVoiceChannelId(),t=null,n=null;if(e){var r=u.default.getChannel(e);null!=r&&(t=r.getGuildId(),n=r.type)}var a=y.default.getPrimaryActivity(),o=h.default.getCurrentGame();return{selectedChannelId:v.default.getChannelId(),selectedGuildId:m.default.getGuildId(),friendsTabSection:S.default.getState().section,homeLink:E.default.getHomeLink(),connected:d.default.isConnected(),selfMute:f.default.isSelfMute(),selfDeaf:f.default.isSelfDeaf(),videoEnabled:f.default.isVideoEnabled(),isScreenSharing:f.default.isScreenSharing(),currentUserSpeaking:_.default.isCurrentUserSpeaking(),currentUserPrioritySpeaking:_.default.isCurrentUserPrioritySpeaking(),anyoneSpeaking:_.default.isAnyoneSpeaking(),anyonePrioritySpeaking:_.default.isAnyonePrioritySpeaking(),voiceChannelId:e,voiceChannelIdJoined:p.default.getChannelId(),voiceChannelGuildId:t,voiceChannelType:n,runningGame:o,runningGamePid:null!=o?o.pid:null,gamePlatform:(0,T.getGamePlatform)(a),gameName:null!=a?a.name:null,gameId:null!=a?a.application_id:null}},componentDidMount:function(){var e=this.state,t=e.selectedChannelId;e.connected&&null!=t&&(0,I.trackWithMetadata)(C.AnalyticEvents.CHANNEL_OPENED)},componentDidUpdate:function(e,t){var n=this.state,r=n.voiceChannelId,a=n.voiceChannelIdJoined,o=n.voiceChannelGuildId,i=n.voiceChannelType,s=n.videoEnabled,u=n.isScreenSharing,d=n.anyoneSpeaking,v=n.runningGame,m=n.runningGamePid,y=n.selectedChannelId,_=n.selectedGuildId,g=n.connected,E=n.homeLink,S=n.friendsTabSection,T=n.currentUserPrioritySpeaking;if(t.currentUserSpeaking!==this.state.currentUserSpeaking&&this.state.currentUserSpeaking&&(0,I.trackWithMetadata)(C.AnalyticEvents.START_SPEAKING,A({mode:f.default.getMode(),priority:T,channel:r,server:o,channel_id:r,guild_id:o},this.getGameMetadata())),t.voiceChannelId!==r&&null!=t.voiceChannelId){var N=h.default.getCurrentGame(),M=null!=N?N.name:"";O.default.track(C.AnalyticEvents.LEAVE_VOICE_CHANNEL,A({channel_id:t.voiceChannelId,channel_type:t.voiceChannelType,guild_id:t.voiceChannelGuildId,rtc_connection_id:p.default.getRTCConnectionId(),game_name:M,duration:p.default.getDuration(),game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,I.getVoiceStateMetadata)(t.voiceChannelGuildId,t.voiceChannelId,t.videoEnabled||t.isScreenSharing)))}if(t.voiceChannelIdJoined!==a&&null!=a){var P=h.default.getCurrentGame(),b=null!=P?P.name:"";null!=a&&O.default.track(C.AnalyticEvents.JOIN_VOICE_CHANNEL,A({channel_id:r,channel_type:i,guild_id:o,rtc_connection_id:p.default.getRTCConnectionId(),game_name:b,game_platform:this.state.gamePlatform,game_id:this.state.gameId},(0,I.getVoiceStateMetadata)(o,r,s||u)))}if(t.anyoneSpeaking!==d&&d&&this.trackStartListening(),t.runningGame!==v&&null!=v){var R=c.default.getGameByName(v.name);if(O.default.track(C.AnalyticEvents.LAUNCH_GAME,{game:v.name,game_id:null==R?null:R.id,verified:null!=R,game_platform:C.AnalyticsGamePlatforms.DESKTOP,distributor:v.distributor}),c.default.shouldReport(v.name)){var L=v.name,D=m;l.default.identifyGame(D,L).then(function(e){return l.default.reportUnverifiedGame(e)}).catch(function(e){return console.error(e)})}}if((t.videoEnabled!==s||t.isScreenSharing!==u)&&r){var w,U,k,G,F,j="none";if(u){j="screen";var x=f.default.getDesktopSource();null!=x&&(w=x.resolution,U=x.frameRate,k=x.soundshareSession,G=h.default.getGameNameForPID(x.sourcePid),F=h.default.getGameIdForPID(x.sourcePid))}else s&&(j="camera");O.default.track(C.AnalyticEvents.VIDEO_INPUT_TOGGLED,A({video_input_type:j,video_input_resolution:w,video_input_frame_rate:U,soundshare_session:k,share_game_name:G,share_game_id:F},this.getGameMetadata(),(0,I.collectVoiceAnalyticsMetadata)(r)))}!g||null==_||_===t.selectedGuildId&&t.connected?!g||null!=_||E!==C.Routes.FRIENDS||t.connected&&S===t.friendsTabSection&&E===t.homeLink||O.default.track(C.AnalyticEvents.FRIENDS_LIST_VIEWED,{tab_opened:S}):(0,I.trackWithMetadata)(C.AnalyticEvents.GUILD_VIEWED),!g||null==y||y===t.selectedChannelId&&t.connected||(0,I.trackWithMetadata)(C.AnalyticEvents.CHANNEL_OPENED)},trackStartListening:function(){var e=this;if(null!=this.state.voiceChannelId&&!f.default.isDeaf()){var t=g.default.getVoiceStates(p.default.getGuildId());(0,a.default)(_.default.getSpeakers()).keys().filter(function(e){return e!==s.default.getId()}).map(function(e){return t[e]}).some(function(t){return t&&t.channelId===e.state.voiceChannelId})&&(0,I.trackWithMetadata)(C.AnalyticEvents.START_LISTENING,A({mute:f.default.isMute(),anyone_priority:this.state.anyonePrioritySpeaking,channel:this.state.voiceChannelId,server:this.state.voiceChannelGuildId,channel_id:this.state.voiceChannelId,guild_id:this.state.voiceChannelGuildId},this.getGameMetadata()))}},getGameMetadata:function(){return{game_platform:this.state.gamePlatform,game_name:this.state.gameName,game_id:this.state.gameId}},render:function(){return null}});t.default=M,e.exports=t.default},8124:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=L(n(17)),i=L(n(304)),l=L(n(6)),s=L(n(439)),u=L(n(303)),d=L(n(3)),c=n(56),f=L(n(826)),p=L(n(331)),h=L(n(8125)),v=L(n(132)),m=L(n(842)),y=L(n(7146)),_=L(n(46)),g=L(n(859)),E=L(n(307)),S=L(n(35)),T=L(n(151)),O=L(n(8126)),I=n(106),C=L(n(44)),N=n(462),A=L(n(8127)),M=n(0),P=L(n(5364)),b=L(n(5631)),R=L(n(5901));function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var U=(0,i.default)({displayName:"IncomingCallModal",mixins:[d.default.LazyStoreListenerMixin(m.default),s.default],getInitialState:function(){return w({animate:new u.default.Value(0)},this.getStateFromStores())},getStateFromStores:function(){return{mode:m.default.getMode(this.props.channel.id)}},componentDidMount:function(){I.ComponentDispatch.subscribe(M.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),I.ComponentDispatch.subscribe(M.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillUnmount:function(){I.ComponentDispatch.unsubscribe(M.ComponentActions.CALL_ACCEPT,this.handleAcceptWithAudio),I.ComponentDispatch.unsubscribe(M.ComponentActions.CALL_DECLINE,this.handleDeclineCall)},componentWillEnter:function(e){u.default.timing(this.state.animate,{toValue:1,duration:170,easing:u.default.Easing.inOut(u.default.Easing.back())}).start(e)},componentDidAppear:function(){this.state.animate.setValue(1)},componentWillLeave:function(e){u.default.timing(this.state.animate,{toValue:0,duration:170,easing:u.default.Easing.quad}).start(e)},getStyle:function(){var e=this.state.animate;return this.props.shouldAnimate?u.default.accelerate({transform:[{scale:e.interpolate({inputRange:[0,1],outputRange:["0.7","1"]})}],opacity:e}):null},render:function(){var e=this.props,t=e.x,n=e.y,r=e.channel,i=e.shouldAnimate,l=r.getIconURL(),s=_.default.supports(c.Features.VIDEO);return D(A.default,{className:(0,o.default)(R.default.incomingCall,P.default.elevationHigh),selector:"."+b.default.incomingCallInner,initialPosition:{top:n,left:t},maxX:window.innerWidth,maxY:window.innerHeight,onDragEnd:this.handleStop,dragAnywhere:!0},void 0,D(a.Fragment,{},void 0,D(u.default.div,{style:this.getStyle()},void 0,D(O.default,{avatarUrl:l,channelId:r.id,channelName:r.toString(),mode:this.state.mode,shouldAnimate:i,supportsVideo:s,handleDeclineCall:this.handleDeclineCall,handleAcceptWithAudio:this.handleAcceptWithAudio,handleAcceptWithVideo:this.handleAcceptWithVideo}))))},handleStop:function(e){var t=e.top,n=e.left;null!=t&&null!=n&&h.default.move(n,t)},handleDeclineCall:function(){p.default.stopRinging(this.props.channel.id)},handleAcceptWithAudio:function(){v.default.selectVoiceChannel(null,this.props.channel.id)},handleAcceptWithVideo:function(){var e=this.props.channel;v.default.selectVoiceChannel(null,e.id,!0),C.default.transitionToGuild(M.ME,e.id)}}),k=(0,i.default)({displayName:"IncomingCalls",mixins:[d.default.LazyStoreListenerMixin(y.default,E.default,T.default,S.default),s.default],getInitialState:function(){return w({ringingSound:(0,N.createSound)(500===l.default.random(1,1e3)?"call_ringing_beat":"call_ringing")},this.getStateFromStores())},getStateFromStores:function(){return{incomingCalls:y.default.getIncomingCalls(),ringing:y.default.hasIncomingCalls(),isFocused:T.default.isFocused(),disableSounds:E.default.disableSounds,theme:S.default.theme}},UNSAFE_componentWillUpdate:function(e,t){var n=t.ringing;this.state.ringing!==n&&(n?this.startRinging():this.stopRinging())},render:function(){var e=this.state,t=e.incomingCalls,n=e.isFocused,r=e.theme;return D(f.default,{component:"div",className:(0,o.default)("theme-"+r,R.default.container)},void 0,l.default.map(t,function(e){return a.createElement(U,w({key:e.channel.id,shouldAnimate:n},e))}))},startRinging:function(){this.state.disableSounds||g.default.isSoundDisabled("call_ringing")||this.state.ringingSound.loop()},stopRinging:function(){this.state.ringingSound.stop()}});t.default=k,e.exports=t.default},8125:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0);var i={move:function(e,t){a.default.dispatch({type:o.ActionTypes.INCOMING_CALL_MOVE,x:e,y:t})}};t.default=i,e.exports=t.default},8126:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(124)),l=v(n(7172)),s=v(n(148)),u=v(n(301)),d=n(0),c=v(n(13)),f=v(n(312)),p=v(n(5357)),h=v(n(5631));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=r.prototype;return v.renderAllActions=function(){var e=this.props,t=e.handleAcceptWithAudio,n=e.handleAcceptWithVideo;return m(a.Fragment,{},void 0,m(i.default,{className:p.default.marginTop4,size:i.default.Sizes.MEDIUM,fullWidth:!0,onClick:n,color:i.default.Colors.GREEN},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,m(u.default,{name:u.default.Names.VIDEO_CAMERA,className:h.default.actionIcon}),c.default.Messages.VIDEO)),m(i.default,{className:p.default.marginTop4,size:i.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:i.default.Colors.GREEN},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,m(u.default,{name:u.default.Names.MICROPHONE,className:h.default.actionIcon}),c.default.Messages.VOICE)))},v.renderAudioOnlyActions=function(){var e=this.props.handleAcceptWithAudio;return m(i.default,{className:p.default.marginTop8,size:i.default.Sizes.MEDIUM,fullWidth:!0,onClick:e,color:i.default.Colors.GREEN},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,m(u.default,{name:u.default.Names.MICROPHONE,className:h.default.actionIcon}),c.default.Messages.JOIN_CALL))},v.renderActions=function(){var e=this.props,t=e.handleDeclineCall,n=e.supportsVideo,r=e.mode;return m("div",{className:(0,o.default)((0,o.default)(h.default.actionButtons,p.default.marginTop20))},void 0,n&&r===d.ChannelModes.VIDEO?this.renderAllActions():this.renderAudioOnlyActions(),m(i.default,{className:p.default.marginTop8,size:i.default.Sizes.MEDIUM,fullWidth:!0,onClick:t,color:i.default.Colors.TRANSPARENT},void 0,m("div",{className:(0,o.default)(f.default.horizontal,f.default.alignCenter)},void 0,c.default.Messages.DECLINE)))},v.render=function(){var e=this.props,t=e.avatarUrl,n=e.channelId,r=e.channelName,a=e.mode,i=e.shouldAnimate,u=e.className;return m("div",{className:(0,o.default)(h.default.incomingCallInner,u)},void 0,m(s.default,{direction:s.default.Direction.VERTICAL,align:s.default.Align.CENTER},void 0,m(l.default,{className:p.default.marginTop20,ringing:i,src:t||"",id:n}),m("div",{className:(0,o.default)(h.default.members,p.default.marginTop20)},void 0,r),m("div",{className:(0,o.default)(h.default.subtitle,p.default.marginTop8)},void 0,a===d.ChannelModes.VOICE?c.default.Messages.INCOMING_CALL_ELLIPSIS:c.default.Messages.INCOMING_VIDEO_CALL_ELLIPSIS),this.renderActions()))},r}(a.Component);y.displayName="IncomingCall";var _=y;t.default=_,e.exports=t.default},8127:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),a=n(0);var o=function(e,t){var n=e.x,r=e.y,a=t.x,o=t.y;return Math.pow(n-a,2)+Math.pow(r-o,2)},i=Math.pow(3,2),l=Object.freeze({DISABLED:0,DEFAULT:1,OFFSET:2}),s=Object.freeze({TOP:"TOP",BOTTOM:"BOTTOM",RIGHT:"RIGHT",LEFT:"LEFT"});function u(e,t,n,r,a){var o=e.top,i=e.bottom,l=e.left,s=e.right;if(null==o&&null==i?(o=0,i=n-a):null==o&&null!=i?o=n-(i+a):null!=o&&(i=n-(o+a)),null==l&&null==s?(l=0,s=t-r):null==l&&null!=s?l=t-(s+r):null==s&&null!=l&&(s=t-(l+r)),null==o||null==i||null==l||null==s)throw new Error("Logically this can never happen based on our if/else statements");return{top:o,left:l,bottom:i,right:s}}function d(e){return[null==e.bottom?s.TOP:s.BOTTOM,null==e.right?s.LEFT:s.RIGHT]}function c(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;return 0===t||t<=r?r=null:t=null,0===n||n<=a?a=null:n=null,{top:t,left:n,bottom:r,right:a}}function f(e){var t=e.top,n=e.left,r=e.bottom,a=e.right;return r<0&&(t+=r,r=0),t<0&&(r+=t,t=0),a<0&&(n+=a,a=0),n<0&&(a+=n,n=0),{top:t,left:n,bottom:r,right:a}}function p(e){return null!=e?e+"px":"auto"}var h=function(e){var t,n;function h(t){var n;(n=e.call(this,t)||this).draggableRef=r.createRef(),n._dragStart={x:0,y:0},n.handleMouseDown=function(e){var t=n.position,r=t.top,o=t.left,i=t.bottom,l=t.right,s=n.props,d=s.dragAnywhere,c=s.selector,f=s.maxX,p=s.maxY,h=e.target,v=n.draggableRef.current;if(null!=v&&e.button===a.MouseButtons.PRIMARY&&(d||null!=h&&c&&null!=h.closest(c))){var m=function(e){var t=e.top;return{x:e.left,y:t}}(u({top:r,left:o,bottom:i,right:l},f,p,v.clientWidth,v.clientHeight)),y=m.x,_=m.y;n._dragStart={x:e.clientX,y:e.clientY},n._offsetX=e.clientX-y,n._offsetY=e.clientY-_,window.addEventListener("mousemove",n.handleMouseMove),window.addEventListener("mouseup",n.handleMouseUp)}},n.handleMouseMove=function(e){e.preventDefault();var t=e.clientX,r=e.clientY,a=n.draggableRef.current,s=n.props,p=s.maxX,h=s.maxY,v=s.flipVertical,m=s.flipHorizontal,y=s.onDragStart,_=s.onDrag,g=s.onFlip,E=s.snapOrientation,S=n.state,T=S.dragging,O=S.dragging,I=S.verticalOrientation,C=S.horizontalOrientation,N=!1;if(!(null==a||!T&&o(n._dragStart,{x:t,y:r})<i)){T=!0;var A=a.clientWidth,M=a.clientHeight,P=f(u({top:r-n._offsetY,left:t-n._offsetX},p,h,A,M));if(E){var b=d(P=c(P));I=b[0],C=b[1]}else P={top:P.top,left:P.left};m===l.OFFSET&&C!==n.state.horizontalOrientation&&(n._offsetX=A-n._offsetX,N=!0),v===l.OFFSET&&I!==n.state.verticalOrientation&&(n._offsetY=M-n._offsetY,N=!0),n.setDOMPositions(P),O||y&&y(P,a),_&&_(P,a),N&&g&&g([I,C]),n.setState({dragging:T,verticalOrientation:I,horizontalOrientation:C,atTopEdge:0===P.top})}},n.handleMouseUp=function(){window.removeEventListener("mousemove",n.handleMouseMove),window.removeEventListener("mouseup",n.handleMouseUp),n.state.dragging&&n.setState({dragging:!1},function(){var e=n.props.onDragEnd,t=n.draggableRef.current;null!=t&&null!=e&&e(n.position,t)})},n._checkBoundsRAF=null,n.checkBounds=function(){null!=n._checkBoundsRAF&&cancelAnimationFrame(n._checkBoundsRAF),n._checkBoundsRAF=requestAnimationFrame(n._performCheckBounds)},n._performCheckBounds=function(){var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),t=e.position,r=e.state,a=e.draggableRef.current,o=e.props,i=o.maxX,l=o.maxY,s=o.onRelocated,p=o.snapOrientation,h=n.state,v=h.verticalOrientation,m=h.horizontalOrientation;if(null!=a){var y,_=a.clientHeight,g=u(t,i,l,a.clientWidth,_);if(g=f(g),p){var E=d(y=c(g));v=E[0],m=E[1]}else y={top:g.top,left:g.left,right:null,bottom:null};if(t.left!==y.left||t.right!==y.right||t.top!==y.top||t.bottom!==y.bottom){s&&s(y,a),n.setDOMPositions(y);var S=0===y.top;v===r.verticalOrientation&&m===r.horizontalOrientation&&S===r.atTopEdge||n.setState({verticalOrientation:v,horizontalOrientation:m,atTopEdge:S})}}};var s,p,h,v,m,y=d(t.initialPosition),_=y[0],g=y[1];return n.position=(s=t.initialPosition,p=s.top,h=s.left,v=s.bottom,m=s.right,null==h&&null==m&&(h=0),null!=h&&null!=m&&(m=null),null==p&&null==v&&(p=0),null!=p&&null!=v&&(v=null),{top:p,left:h,bottom:v,right:m}),n.state={dragging:!1,verticalOrientation:_,horizontalOrientation:g,atTopEdge:0===n.position.top},n}n=e,(t=h).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var v=h.prototype;return v.componentDidMount=function(){this.checkBounds(),this.setDOMPositions(this.position)},v.componentDidUpdate=function(e,t){var n=this.state,r=n.verticalOrientation,a=n.horizontalOrientation,o=n.atTopEdge,i=this.props,l=i.maxX,s=i.maxY,u=i.onRelocated,d=i.snapOrientation;(e.maxX!==l||e.maxY!==s||e.onRelocated!==u||e.snapOrientation!==d||t.verticalOrientation!==r||t.horizontalOrientation!==a||t.atTopEdge!==o)&&this.checkBounds()},v.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},v.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,a=e.right,o=this.draggableRef.current;this.position={top:t,left:n,bottom:r,right:a},null!=o&&(o.style.top=p(t),o.style.bottom=p(r),o.style.left=p(n),o.style.right=p(a))},v.render=function(){var e=this.props,t=e.children,n=e.className,a=this.state,o=a.dragging,i=a.verticalOrientation,l=a.horizontalOrientation,u=a.atTopEdge,d=this.position,c=d.top,f=d.left,p=d.right,h=d.bottom,v={pointerEvents:o?"none":"auto",position:"absolute",top:c,left:f,bottom:h,right:p};return r.createElement("div",{ref:this.draggableRef,className:n,onMouseDown:this.handleMouseDown,style:v},r.cloneElement(r.Children.only(t),{flipped:l===s.RIGHT,verticalFlipped:i===s.BOTTOM,checkBounds:this.checkBounds,atTopEdge:u}))},h}(r.PureComponent);t.default=h,h.displayName="Draggable",h.FlipTypes=l,h.defaultProps={snapOrientation:!1,maxX:0,maxY:0,flipVertical:l.DISABLED,flipHorizontal:l.DISABLED,dragAnywhere:!1},e.exports=t.default},8128:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=O(n(17)),l=O(n(1164)),s=O(n(303)),u=O(n(3)),d=O(n(826)),c=n(830),f=n(8129),p=O(n(6022)),h=O(n(844)),v=n(106),m=O(n(8130)),y=O(n(6719)),_=O(n(8142)),g=O(n(7149)),E=O(n(8149)),S=n(0),T=O(n(5906));function O(e){return e&&e.__esModule?e:{default:e}}function I(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var A=I(g.default,{}),M=I(m.default,{}),P=I(y.default,{}),b=I(E.default,{}),R=I(_.default,{}),L=((r={})[S.Layers.USER_SETTINGS]=function(){return A},r[S.Layers.CHANNEL_SETTINGS]=function(){return M},r[S.Layers.GUILD_SETTINGS]=function(){return P},r[S.Layers.VERIFICATION]=function(){return b},r[S.Layers.RTC_DEBUG]=function(){return R},r),D="HIDDEN",w=.93,U=1,k=0,G=1,F={friction:10,tension:100},j=function(e){function t(t){var n;n=e.call(this,t)||this;var r=U,a=G;return t.mode===D&&(r=w,a=k),n.state={animating:!1,scale:new s.default.Value(r),opacity:new s.default.Value(a),mode:t.mode},n}N(t,e),t.getDerivedStateFromProps=function(e,t){return e.mode!==t.mode?{animating:!0,mode:e.mode}:null};var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props.mode,n=e.mode;if(t!==n)return"SHOWN"===t&&n===D?this.animateIn():t===D&&"SHOWN"===n?this.animateUnder():void 0},n.componentWillEnter=function(e){var t=this,n=this.state,r=n.opacity;n.scale.setValue(1.1),r.setValue(k),e(),this.setState({animating:!0},function(){return t.animateIn()})},n.componentWillLeave=function(e){var t=this;this.setState({animating:!0},function(){return t.animateOut(e)})},n.animateIn=function(e){var t=this;u.default.Store.pauseEmittingChanges(500);var n=this.state,r=n.opacity,a=n.scale;s.default.parallel([s.default.spring(r,C({toValue:G},F)),s.default.spring(a,C({toValue:U},F))]).start(function(){return t.animateComplete(e)})},n.animateOut=function(e){u.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;s.default.parallel([s.default.spring(n,C({toValue:k},F)),s.default.spring(r,C({toValue:1.1},F))]).start(function(){e(),v.ComponentDispatch.dispatch(S.ComponentActions.LAYER_POP_COMPLETE)})},n.animateUnder=function(){var e=this;u.default.Store.pauseEmittingChanges(500);var t=this.state,n=t.opacity,r=t.scale;s.default.parallel([s.default.spring(n,C({toValue:k},F)),s.default.spring(r,C({toValue:w},F))]).start(function(){return e.animateComplete()})},n.animateComplete=function(e){this.setState({animating:!1},e)},n.render=function(){var e,t=this.state.animating,n=this.props,r=n.mode,a=n.children,l=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,["mode","children"]),u=t||r===D?this.getAnimatedStyle():null;return o.createElement(s.default.div,C({role:"dialog","aria-hidden":r===D,className:(0,i.default)(T.default.layer,(e={},e[T.default.animating]=t,e["stop-animations"]=r===D,e)),style:u},l),a)},n.getAnimatedStyle=function(){var e=this.state;return{opacity:e.opacity,transform:[{scale:e.scale},{translateZ:0}]}},t}(o.PureComponent);j.displayName="Layer";var x=function(e){function t(){return e.apply(this,arguments)||this}N(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.layers,t=e[e.length-1];t===S.Layers.VERIFICATION?p.default.disable():t===S.Layers.USER_SETTINGS&&(p.default.enable(),p.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT)),v.ComponentDispatch.subscribe(S.ComponentActions.LAYER_POP_ESCAPE_KEY,c.popLayer)},n.componentDidUpdate=function(e){var t=this.props.layers,n=e.layers.length>0,r=t.length>0;!n&&r||r&&t===e.layers&&t[0]===S.Layers.USER_SETTINGS?t[t.length-1]===S.Layers.VERIFICATION?p.default.disable():p.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT):n&&!r&&p.default.disableTemp()},n.componentWillUnmount=function(){v.ComponentDispatch.unsubscribe(S.ComponentActions.LAYER_POP_ESCAPE_KEY,c.popLayer)},n.renderLayers=function(){var e=this,t=this.props,n=t.children,r=t.layers,a=r.length,o=[];return o.push(I(j,{mode:0===a?"SHOWN":D},"layer-base",n)),r.forEach(function(t,n){return o.push(e.renderComponent(t,n,a))}),o},n.renderComponent=function(e,t,n){var r,a=t===n-1,o="layer";return"string"==typeof e?(o=e,r=L[e]()):r=I(e,{}),I(j,{"aria-label":o,mode:a?"SHOWN":D},"layer-"+t,I(l.default,{disabled:!a||!S.EnableAccessibility,autoFocus:!0,returnFocus:!0},void 0,r))},n.render=function(){return I(d.default,{component:"div",className:(0,i.default)(T.default.layers,this.props.className)},void 0,this.renderLayers())},t}(o.Component);x.displayName="Layers";var B=u.default.connectStores([h.default],function(){return{layers:h.default.getLayers()}})(x);t.default=B,e.exports=t.default},8129:function(e,t,n){"use strict";t.__esModule=!0,t.SETTINGS_LAYERS_LAYOUT=void 0;var r=l(n(870)),a=n(106),o=l(n(6301)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=s({POP_LAYER:{binds:["esc"],global:!0,action:function(){return a.ComponentDispatch.hasSubscribers(i.ComponentActions.CALL_DECLINE)?(a.ComponentDispatch.dispatch(i.ComponentActions.CALL_DECLINE),!1):r.default.isOpen()?(a.ComponentDispatch.dispatch(i.ComponentActions.CONTEXT_MENU_CLOSE),!1):a.ComponentDispatch.hasSubscribers(i.ComponentActions.POPOUT_CLOSE)?(a.ComponentDispatch.dispatch(i.ComponentActions.POPOUT_CLOSE),!1):a.ComponentDispatch.hasSubscribers(i.ComponentActions.MODAL_CLOSE)?(a.ComponentDispatch.dispatch(i.ComponentActions.MODAL_CLOSE),!1):void a.ComponentDispatch.dispatch(i.ComponentActions.LAYER_POP_ESCAPE_KEY)}}},o.default);t.SETTINGS_LAYERS_LAYOUT=u},8130:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=R(n(2)),o=b(n(3)),i=n(6119),l=n(830),s=b(n(77)),u=n(126),d=b(n(7265)),c=b(n(6456)),f=b(n(20)),p=b(n(149)),h=b(n(35)),v=b(n(301)),m=b(n(125)),y=n(6023),_=b(n(177)),g=n(106),E=b(n(6304)),S=n(6056),T=b(n(445)),O=b(n(8131)),I=R(n(8132)),C=R(n(8138)),N=b(n(8141)),A=n(0),M=b(n(13)),P=b(n(5904));function b(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e,t){void 0===t&&(t=null),_.default.trackWithMetadata(A.AnalyticEvents.SETTINGS_PANE_VIEWED,{settings_type:"channel",origin_pane:t,destination_pane:e})}var U=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){w(this.props.section)},o.componentWillUnmount=function(){(0,i.close)()},o.componentDidUpdate=function(e){var t=e.formState,n=e.section,r=this.props,a=r.formState,o=r.section,i=r.canManageRoles,s=r.canManageChannels,u=r.canManageWebhooks;!s&&!i&&!u||a===A.FormStates.CLOSED&&a!==t||!i&&o===A.ChannelSettingsSections.PERMISSIONS||!u&&o===A.ChannelSettingsSections.WEBHOOKS?(0,l.popLayer)():o!==n&&w(o,n)},o.render=function(){var e=this.props,t=e.theme,n=e.section,r=e.channel,o=e.category,u=e.canManageRoles,f=e.canManageChannels,p=e.canManageWebhooks;return null==r?null:D(E.default,{theme:t,section:n||A.ChannelSettingsSections.OVERVIEW,onSetSection:i.setSection,onClose:l.popLayer,sections:function(e){var t=e.channel,n=e.category,r=e.canManageRoles,o=e.canManageChannels,u=e.canManageWebhooks,f=(0,y.getIconNameForChannel)(t),p=A.ChannelTypes.GUILD_CATEGORY;return[{section:S.SectionTypes.HEADER,label:null!=t?D("span",{},void 0,null!=f?D(v.default,{name:f,width:11,height:11,className:P.default.channelIcon,background:P.default.background}):null,t.toString(),null!=n?D("span",{className:P.default.category},void 0,n.toString()):null):M.default.Messages.CHANNEL_SETTINGS},{section:A.ChannelSettingsSections.OVERVIEW,label:M.default.Messages.OVERVIEW,element:I.default,notice:{element:I.ChannelSettingsOverviewNotice,store:c.default}},{section:A.ChannelSettingsSections.PERMISSIONS,label:M.default.Messages.PERMISSIONS,element:C.default,type:S.ContentTypes.MINIMAL,notice:{element:C.ChannelSettingsPermissionsNotice,store:d.default},predicate:function(){return r}},{section:A.ChannelSettingsSections.INSTANT_INVITES,label:M.default.Messages.INVITES,element:O.default,type:S.ContentTypes.CUSTOM,predicate:function(){return t.type!==p&&o}},{section:A.ChannelSettingsSections.WEBHOOKS,label:M.default.Messages.WEBHOOKS,element:N.default,predicate:function(){return t.type!==p&&u}},{section:S.SectionTypes.DIVIDER},{section:A.ChannelSettingsSections.DELETE,onClick:function(){var e=t.toString();t.type!==A.ChannelTypes.GUILD_VOICE&&(e="#"+e),s.default.push(function(n){return a.createElement(T.default,L({},n,{header:M.default.Messages.DELETE_CHANNEL,cancelText:M.default.Messages.NO_TEXT,confirmText:M.default.Messages.YES_TEXT,onConfirm:function(){g.ComponentDispatch.subscribeOnce(A.ComponentActions.LAYER_POP_COMPLETE,function(){(0,i.deleteChannel)(t.id)}),(0,l.popLayer)()}}),D(m.default,{size:m.default.Sizes.MEDIUM,color:m.default.Colors.PRIMARY},void 0,M.default.Messages.DELETE_CHANNEL_BODY.format({channelName:e})))})},label:t.type===p?M.default.Messages.DELETE_CATEGORY:M.default.Messages.DELETE_CHANNEL,color:A.Colors.STATUS_RED,predicate:function(){return o}}]}({channel:r,category:o,canManageRoles:u,canManageChannels:f,canManageWebhooks:p})})},r}(a.PureComponent);U.displayName="ChannelSettings";var k=o.default.connectStores([c.default,h.default,p.default],function(){var e=c.default.getProps().channel;return{channel:e,category:null!=e?f.default.getChannel(e.parent_id):null,canManageRoles:null!=e&&p.default.can(A.Permissions.MANAGE_ROLES,e),canManageChannels:null!=e&&p.default.can(A.Permissions.MANAGE_CHANNELS,e),canManageWebhooks:null!=e&&((0,u.isGuildTextChannelType)(e.type)&&p.default.can(A.Permissions.MANAGE_WEBHOOKS,e)),formState:c.default.getFormState(),theme:h.default.theme,section:c.default.getSection()}})(U);t.default=k,e.exports=t.default},8131:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(6456)),o=c(n(28)),i=c(n(149)),l=c(n(307)),s=c(n(35)),u=c(n(6720)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=r.default.connectStores([a.default,l.default,i.default],function(){var e=a.default.getProps().channel;return f({guild:null!=e?o.default.getGuild(e.getGuildId()):null,theme:s.default.theme,hide:l.default.hideInstantInvites,canCreateInvites:null!=e?i.default.can(d.Permissions.CREATE_INSTANT_INVITE,e):null},a.default.getInvites())})(u.default);t.default=p,e.exports=t.default},8132:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ChannelSettingsOverviewNotice=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=A(n(17)),i=A(n(6)),l=A(n(3)),s=n(6119),u=A(n(183)),d=n(126),c=A(n(6456)),f=A(n(28)),p=A(n(149)),h=A(n(35)),v=A(n(148)),m=A(n(6212)),y=A(n(5998)),_=A(n(6286)),g=A(n(822)),E=n(823),S=n(449),T=n(8133),O=A(n(6148)),I=n(0),C=A(n(13)),N=A(n(5357));function A(e){return e&&e.__esModule?e:{default:e}}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=l.default.connectStores([c.default],function(){var e=c.default.getProps(),t=e.channel,n=e.submitting;return{channel:t,submitting:n,onReset:function(){null!=t&&(0,s.init)(t.id)},onSave:function(){if(null!=t){var e=t.name,n=t.type,r=t.topic,a=t.bitrate,o=t.userLimit,i=t.nsfw,l=t.rateLimitPerUser;(0,s.saveChannel)(t.id,{name:e,type:n,topic:r,bitrate:a,userLimit:o,nsfw:i,rateLimitPerUser:l})}}}})(O.default);t.ChannelSettingsOverviewNotice=P;var b=function(e){var t,r;function a(t){var n;return n=e.call(this,t)||this,i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleChangeName","handleChangeTopic","handleChangeBitrate","handleUserLimitChange","handleNSFWChange","handleChangeSlowmode"]),n}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=a.prototype;return l.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},l.getCooldownSliderMarker=function(e){return(0,T.getCooldownLabel)(e,!0)},l.renderChannelInfo=function(e){var t,n,r,a,i,l=this.props,s=l.canManageChannels,c=l.guild;return(0,d.isGuildTextChannelType)(e.type)&&(t=M("div",{},void 0,M(E.FormItem,{title:C.default.Messages.FORM_LABEL_CHANNEL_TOPIC,className:N.default.marginTop20},void 0,M(_.default,{placeholder:C.default.Messages.CHANNEL_TOPIC_EMPTY,value:u.default.translateSurrogatesToInlineEmoji(e.topic),onChange:this.handleChangeTopic,error:this.getError("topic"),maxLength:1024,disabled:!s})),M(E.FormDivider,{className:(0,o.default)(N.default.marginTop40,N.default.marginBottom40)})),e.type===I.ChannelTypes.GUILD_TEXT&&(a=M("div",{},void 0,M(E.FormItem,{title:C.default.Messages.FORM_LABEL_SLOWMODE},void 0,M(m.default,{className:N.default.marginTop20,defaultValue:e.rateLimitPerUser,markers:I.SLOWMODE_VALUES,stickToMarkers:!0,onValueChange:this.handleChangeSlowmode,onMarkerRender:this.getCooldownSliderMarker,equidistant:!0}),M(E.FormText,{type:E.FormText.Types.DESCRIPTION},void 0,C.default.Messages.FORM_HELP_SLOWMODE)),M(E.FormDivider,{className:(0,o.default)(N.default.marginTop40,N.default.marginBottom40)})),n=M("div",{},void 0,M(y.default,{note:C.default.Messages.FORM_HELP_NSFW,onChange:this.handleNSFWChange,value:e.isNSFW(),hideBorder:!0,disabled:!s},void 0,C.default.Messages.FORM_LABEL_NSFW_CHANNEL))),null!=c&&c.hasFeature(I.GuildFeatures.NEWS)&&(r=M("div",{},void 0,M(y.default,{note:C.default.Messages.FORM_HELP_NEWS.format({documentationLink:I.MarketingURLs.API_DOCS_NEWS_CHANNELS}),onChange:this.handleNewsChange,value:e.type===I.ChannelTypes.GUILD_NEWS,hideBorder:!0,disabled:!s},void 0,C.default.Messages.FORM_LABEL_NEWS_CHANNEL)))),i=e.type===I.ChannelTypes.GUILD_CATEGORY?C.default.Messages.CATEGORY_NAME:C.default.Messages.FORM_LABEL_CHANNEL_NAME,M("div",{},void 0,M(E.FormItem,{title:i},void 0,M(g.default,{value:e.toString(),onChange:this.handleChangeName,error:this.getError("name"),autoFocus:!0,disabled:!s})),t,a,n,r)},l.renderBitrate=function(e){return Math.round(e/1e3)+"kbps"},l.renderVoiceBitrate=function(e,t){var n=this.props.canManageChannels;if(e.type!==I.ChannelTypes.GUILD_VOICE)return null;var r=t&&t.hasFeature(I.GuildFeatures.VIP_REGIONS)?I.BITRATE_MAX_VIP:I.BITRATE_MAX;return M(v.default,{direction:v.default.Direction.VERTICAL,className:N.default.marginBottom40},void 0,M(E.FormTitle,{},void 0,C.default.Messages.FORM_LABEL_BITRATE),M(E.FormText,{type:E.FormTextTypes.DESCRIPTION,style:{color:I.Colors.STATUS_RED},className:N.default.marginBottom8},void 0,this.getError("bitrate")),M(m.default,{defaultValue:Math.min(e.bitrate,r),onValueChange:this.handleChangeBitrate,onValueRender:this.renderBitrate,onMarkerRender:this.renderBitrate,markers:[I.BITRATE_MIN,I.BITRATE_DEFAULT,r],minValue:I.BITRATE_MIN,maxValue:r,disabled:!n}),M(E.FormText,{type:E.FormTextTypes.DESCRIPTION},void 0,C.default.Messages.FORM_HELP_BITRATE.format({bitrate:I.BITRATE_DEFAULT/1e3})))},l.onRenderUserLimit=function(e){return 0===(e=Math.round(e))?C.default.Messages.NO_USER_LIMIT:C.default.Messages.NUM_USERS.format({num:e})},l.renderUserLimit=function(e){var t=this.props.canManageChannels;return e.type!==I.ChannelTypes.GUILD_VOICE?null:M(v.default,{direction:v.default.Direction.VERTICAL},void 0,M(E.FormTitle,{},void 0,C.default.Messages.FORM_LABEL_USER_LIMIT),M(E.FormText,{type:E.FormTextTypes.DESCRIPTION,style:{color:I.Colors.STATUS_RED},className:N.default.marginBottom8},void 0,this.getError("user_limit")),M(m.default,{defaultValue:Math.min(e.userLimit,I.MAX_VOICE_USER_LIMIT),onValueChange:this.handleUserLimitChange,onValueRender:this.onRenderUserLimit,onMarkerRender:function(e){return 0===Math.round(e)?"∞":e},markers:[0,I.MAX_VOICE_USER_LIMIT],minValue:0,maxValue:I.MAX_VOICE_USER_LIMIT,disabled:!t}),M(E.FormText,{type:E.FormTextTypes.DESCRIPTION},void 0,C.default.Messages.FORM_HELP_USER_LIMIT.format()))},l.renderJuiceImage=function(e){var t,r=this.props.theme;return t=e.type===I.ChannelTypes.GUILD_CATEGORY?r===I.ThemeTypes.DARK?n(8134):n(8135):r===I.ThemeTypes.DARK?n(8136):n(8137),M(v.default,{justify:v.default.Justify.CENTER,className:N.default.marginTop60},void 0,M("img",{alt:"",width:280,height:165,src:t}))},l.render=function(){var e=this.props,t=e.channel,n=e.guild;return null==t||null==n?null:M(E.FormSection,{className:"channel-settings-overview",tag:E.FormTitleTags.H2,title:C.default.Messages.OVERVIEW},void 0,this.renderChannelInfo(t),t.type===I.ChannelTypes.GUILD_VOICE?M(E.FormDivider,{className:(0,o.default)(N.default.marginTop40,N.default.marginBottom40)}):null,this.renderVoiceBitrate(t,n),this.renderUserLimit(t),this.renderJuiceImage(t))},l.handleChangeName=function(e){var t=this.props.channel;null!=t&&((0,d.isGuildTextChannelType)(t.type)&&(e=(0,S.sanitizeGuildTextChannelName)(e)),(0,s.updateChannel)({name:e}))},l.handleChangeTopic=function(e){(0,s.updateChannel)({topic:u.default.translateInlineEmojiToSurrogates(e)})},l.handleChangeBitrate=function(e){(0,s.updateChannel)({bitrate:1e3*Math.round(e/1e3)})},l.handleUserLimitChange=function(e){(0,s.updateChannel)({userLimit:Math.round(e)})},l.handleNSFWChange=function(e){(0,s.updateChannel)({nsfw:e.currentTarget.checked})},l.handleNewsChange=function(e){(0,s.updateChannel)({type:e.currentTarget.checked?I.ChannelTypes.GUILD_NEWS:I.ChannelTypes.GUILD_TEXT})},l.handleChangeSlowmode=function(e){(0,s.updateChannel)({rateLimitPerUser:e})},a}(a.PureComponent);b.displayName="ChannelSettingsOverview";var R=l.default.connectStores([c.default,h.default,p.default],function(){var e=c.default.getProps(),t=e.errors,n=e.channel;return{errors:t,channel:n,submitting:e.submitting,theme:h.default.theme,guild:null!=n?f.default.getGuild(n.getGuildId()):null,canManageChannels:null!=n&&p.default.can(I.Permissions.MANAGE_CHANNELS,n)}})(b);t.default=R},8133:function(e,t,n){"use strict";t.__esModule=!0,t.getCooldownLabel=function(e,t){void 0===t&&(t=!0);var n=r.default.duration(e,"seconds");return n.hours()>0?(t?a.default.Messages.DURATION_HOURS_SHORT:a.default.Messages.DURATION_HOURS).format({hours:n.hours()}):n.minutes()>0?(t?a.default.Messages.DURATION_MINUTES_SHORT:a.default.Messages.DURATION_MINUTES).format({minutes:n.minutes()}):e>0?(t?a.default.Messages.DURATION_SECONDS_SHORT:a.default.Messages.DURATION_SECONDS).format({seconds:n.seconds()}):t?a.default.Messages.FORM_LABEL_OFF:a.default.Messages.FORM_LABEL_SLOWMODE_OFF};var r=o(n(4)),a=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}},8134:function(e,t,n){e.exports=n.p+"58957d928db6fb9d4658eb882f33d7bc.svg"},8135:function(e,t,n){e.exports=n.p+"c2c982c416a67d43d72d182f079a8d22.svg"},8136:function(e,t,n){e.exports=n.p+"bfffd518c76d3f6bc5e96eb52e4ae2cf.svg"},8137:function(e,t,n){e.exports=n.p+"9ad4d437577c5569dc231a787a5377f6.svg"},8138:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.ChannelSettingsPermissionsNotice=void 0;var r,a=V(n(2)),o=H(n(6)),i=H(n(3)),l=H(n(180)),s=H(n(443)),u=n(6119),d=n(8139),c=H(n(77)),f=n(126),p=H(n(7265)),h=H(n(6456)),v=H(n(71)),m=H(n(28)),y=H(n(149)),_=H(n(35)),g=H(n(14)),E=H(n(305)),S=H(n(5992)),T=H(n(124)),O=H(n(148)),I=H(n(301)),C=H(n(6722)),N=H(n(821)),A=H(n(8140)),M=H(n(6036)),P=V(n(440)),b=H(n(6073)),R=H(n(309)),L=H(n(87)),D=H(n(7130)),w=H(n(6738)),U=H(n(6739)),k=H(n(6148)),G=H(n(6747)),F=n(0),j=H(n(13)),x=H(n(5357)),B=H(n(5903));function H(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function Y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var $={position:"relative",paddingTop:60,paddingBottom:80,paddingLeft:20,paddingRight:15,color:"#fff"},q={ROLE:"role",MEMBER:"member"},X=i.default.connectStores([p.default,h.default],function(){var e=h.default.getChannel();return{submitting:p.default.formState===F.FormStates.SUBMITTING,onReset:function(){(0,d.init)()},onSave:function(){if(null!=e){var t=p.default.editedPermissionIds.reduce(function(e,t){var n=p.default.getPermissionOverwrite(t);return null!=n&&e.push(n),e},[]);(0,d.savePermissionUpdates)(e.id,t)}}}})(k.default);t.ChannelSettingsPermissionsNotice=X;var Q=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.type,a=t.channel;return n.generalSpec=L.default.generateChannelGeneralPermissionSpec(r===F.ChannelTypes.GUILD_CATEGORY),n.textSpec=r===F.ChannelTypes.GUILD_NEWS?L.default.generateChannelNewsPermissionSpec(r===F.ChannelTypes.GUILD_NEWS):L.default.generateChannelTextPermissionSpec((0,f.isGuildSelectableChannelType)(r)),n.voiceSpec=L.default.generateChannelVoicePermissionSpec(r===F.ChannelTypes.GUILD_VOICE,a.getGuildId()),K(n).handlePermissionChange=n.handlePermissionChange.bind(K(n)),K(n).handleDeletePermission=n.handleDeletePermission.bind(K(n)),n}z(t,e);var r=t.prototype;return r.getOverwriteName=function(){var e=this.props,t=e.channel.guild_id,n=e.overwrite.id,r=m.default.getGuild(t);if(null==r)return"";var a=r.getRole(n),o=g.default.getUser(n),i=o?o.username:"";return a?a.name:i},r.handlePermissionChange=function(e,t){var r,a=this.props,o=a.overwrite,i=a.channel,s=o.id,u=o.allow,c=o.deny;switch(c^=c&e,u^=u&e,t){case"ALLOW":u|=e;break;case"DENY":c|=e}if(L.default.can(e,g.default.getCurrentUser(),i,((r={})[s]=W({},o,{allow:u,deny:c}),r)))(0,d.updatePermission)(s,u,c);else{var f;if("member"===o.type){var p=g.default.getUser(o.id);null!=p&&(f=p.toString())}else if("role"===o.type){var h=m.default.getGuild(i.getGuildId());if(null!=h){var v=h.getRole(o.id);null!=v&&(f=v.name)}}l.default.show({title:j.default.Messages.SELF_DENY_PERMISSION_TITLE,body:j.default.Messages.SELF_DENY_PERMISSION_BODY.format({name:f}),cancelText:j.default.Messages.HELP_DESK,onCancel:function(){window.open(R.default.getArticleURL(F.HelpdeskArticles.PERMISSIONS_LOCKOUT))},iconUrl:n(6649)})}},r.handleDeletePermission=function(){var e=this.props,t=e.channel.id,r=e.overwrite.id,a=this.getOverwriteName();l.default.show({title:j.default.Messages.SETTINGS_PERMISSIONS_DELETE_TITLE,body:j.default.Messages.SETTINGS_PERMISSIONS_DELETE_BODY.format({name:a}),cancelText:j.default.Messages.CANCEL,onConfirm:function(){return s.default.clearPermissionOverwrite(t,r)},iconUrl:n(6649)})},r.renderTextPermissions=function(){var e=this.props.type;if(!(0,f.isGuildSelectableChannelType)(e)&&e!==F.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return Y(U.default,{spec:this.textSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},r.renderVoicePermissions=function(){var e=this.props.type;if(e!==F.ChannelTypes.GUILD_VOICE&&e!==F.ChannelTypes.GUILD_CATEGORY)return null;var t=this.props.overwrite;return Y(U.default,{spec:this.voiceSpec,allow:t.allow,deny:t.deny,onChange:this.handlePermissionChange})},r.renderRemoveButton=function(){var e=this.props;return e.channel.guild_id===e.overwrite.id?null:Y(T.default,{look:T.default.Looks.OUTLINED,color:T.default.Colors.RED,onClick:this.handleDeletePermission},void 0,j.default.Messages.REMOVE_ROLE_OR_USER.format({name:this.getOverwriteName()}))},r.render=function(){var e=this.props.overwrite;return Y(C.default.Content,{style:$},void 0,Y(U.default,{spec:this.generalSpec,allow:e.allow,deny:e.deny,onChange:this.handlePermissionChange,className:x.default.marginBottom40}),this.renderTextPermissions(),this.renderVoicePermissions(),this.renderRemoveButton())},t}(a.PureComponent);Q.displayName="Content";var J=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handlerFilterResults=function(e,n){var r=t.props.permissionOverwrites;return 0===n?(0,o.default)(t.props.guild.roles).filter(function(t){return null==r[t.id]&&e(t.name)}).sortBy(function(e){return-e.position}).value():(0,o.default)(t.props.guildMemberIds).map(g.default.getUser).filter(function(e){return null!=e}).filter(function(t){return null==r[t.id]&&e(t.username.toLowerCase())}).sortBy(function(e){return e.username.toLowerCase()}).value()},t.handleCreateOverwrite=function(e,n){0===n?t.props.onSelect(e.id,q.ROLE):1===n&&t.props.onSelect(e.id,q.MEMBER)},t.handleQueryChange=function(e){b.default.requestMembers(t.props.guild.id,e,20)},t}z(t,e);var n=t.prototype;return n.renderResult=function(e,t){var n;if(0===t)return e.colorString&&(n={color:e.colorString}),Y("span",{style:n},void 0,e.name);var r=e.avatarURL||e.getAvatarURL("jpg");return Y(O.default,{align:O.default.Align.CENTER},void 0,Y(S.default,{size:S.default.Sizes.SMALL,src:r}),Y("span",{className:B.default.username},void 0,e.toString()))},n.render=function(){var e=this.props,t=e.position,n=e.onClose;return Y(D.default,{label:j.default.Messages.OVERWRITE_AUTOCOMPLETE_LABEL,placeholder:j.default.Messages.OVERWRITE_AUTOCOMPLETE_PLACEHOLDER,sections:[j.default.Messages.ROLES,j.default.Messages.MEMBERS],onRenderResult:this.renderResult,onFilterResults:this.handlerFilterResults,onQueryChange:this.handleQueryChange,onSelect:this.handleCreateOverwrite,onClose:n,position:t})},t}(a.PureComponent);J.displayName="CreateOverwritePopout";var Z=i.default.connectStores([v.default],function(e){var t=e.guild;return{guildMemberIds:v.default.getMemberIds(t.id)}})(J),ee=function(e){function t(t){var n;return n=e.call(this,t)||this,o.default.bindAll(K(n),["renderRole","renderMember","renderCreateOverwritePopout","renderHeader","handleCreatePermissionOverwrite","handleSyncPermissions"]),n}z(t,e);var r=t.prototype;return r.renderRole=function(e){var t=this.props,n=t.selectedOverwriteId,r=t.theme;return Y(w.default,{theme:r,id:e.id,color:e.colorString},n+"-"+e.id,e.name)},r.renderMember=function(e){var t=this.props,n=t.selectedOverwriteId,r=t.theme,a=e.avatarURL||e.getAvatarURL("jpg");return Y(w.default,{id:e.id,theme:r},n+"-"+e.id,Y(O.default,{align:O.default.Align.CENTER},void 0,Y(S.default,{size:S.default.Sizes.XSMALL,src:a}),Y("span",{className:B.default.username},void 0,e.toString())))},r.renderCreateOverwritePopout=function(e){return a.createElement(Z,W({},this.props,{onSelect:this.handleCreatePermissionOverwrite},e))},r.renderHeader=function(){var e=this.props.theme===F.ThemeTypes.DARK?n(6741):n(6742);return Y(N.default,{render:this.renderCreateOverwritePopout,position:N.default.Positions.BOTTOM,preventInvert:!0},void 0,Y(M.default.Header,{},void 0,Y(O.default,{className:B.default.sidebarHeaderDefault,justify:O.default.Justify.BETWEEN,align:O.default.Align.CENTER},void 0,Y("span",{},void 0,j.default.Messages.ROLES,"/",j.default.Messages.MEMBERS),Y("img",{alt:"",className:B.default.sidebarHeader,src:e}))))},r.renderHelpfulNote=function(){return Y(a.Fragment,{},void 0,Y(M.default.Separator,{style:{marginTop:20,marginBottom:14}}),Y(P.default,{type:P.Types.DESCRIPTION},void 0,Y(E.default,{href:R.default.getArticleURL(F.HelpdeskArticles.PERMISSIONS_TUTORIAL),target:"_blank"},void 0,j.default.Messages.PERMISSION_HELPDESK)))},r.renderSyncStatus=function(){var e=this.props,t=e.isLockable,n=e.locked,r=e.category,a=e.canSyncChannel;return t&&null!=r?Y(A.default,n?{iconName:I.default.Names.SYNCED,noticeText:j.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:r.name})}:{iconName:I.default.Names.UNSYNCED,noticeText:j.default.Messages.CHANNEL_LOCKED_TO_CATEGORY.format({categoryName:r.name}),buttonText:a?j.default.Messages.SYNC_NOW:null,onClick:this.handleSyncPermissions}):null},r.render=function(){var e=this.props,t=e.guild,n=e.selectedOverwriteId,r=e.theme,a=e.permissionOverwrites;null==a[t.id]&&(a[t.id]=L.default.makeEveryoneOverwrite(t.id));var i=(0,o.default)(a).filter(function(e){return e.type===q.ROLE}).map(function(e){return t.getRole(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return-e.position}).map(this.renderRole).value(),l=(0,o.default)(a).filter(function(e){return e.type===q.MEMBER}).map(function(e){return g.default.getUser(e.id)}).filter(function(e){return null!=e}).sortBy(function(e){return e.username.toLowerCase()}).map(this.renderMember).value();return Y(C.default.Sidebar,{style:W({},$,{overflow:"hidden"}),scrollable:!0,theme:r},void 0,this.renderSyncStatus(),Y(M.default,{onItemSelect:d.selectPermission,selectedItem:n},void 0,this.renderHeader(),i,l,this.renderHelpfulNote()))},r.handleCreatePermissionOverwrite=function(e,t){var n=this.props.channel;s.default.updatePermissionOverwrite(n.id,{id:e,type:t,allow:L.default.NONE,deny:L.default.NONE}).then(function(){return(0,d.selectPermission)(e)})},r.handleSyncPermissions=function(){var e=this.props,t=e.category,n=e.channel;null!=t&&c.default.push(G.default,{channel:n,category:t,onSync:function(){var e=t.guild_id,r=W({},t.permissionOverwrites);null!=e&&null==r[e]&&(r[e]=L.default.makeEveryoneOverwrite(e)),(0,u.saveChannel)(n.id,{permissionOverwrites:o.default.values(r)})}})},t}(a.PureComponent);ee.displayName="Sidebar";var te=function(e){function t(){return e.apply(this,arguments)||this}return z(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedOverwriteId,n=e.permissionOverwrites,r=e.channel,o=e.locked,i=n[t];return Y(C.default,{className:B.default.container},void 0,a.createElement(ee,this.props),Y(Q,{type:r.type,channel:r,overwrite:i,locked:o}))},t}(a.PureComponent);te.displayName="ChannelSettingsPermissions";var ne=i.default.connectStores([m.default,p.default,_.default,y.default],function(){var e=p.default.channel,t=p.default.category;return{channel:e,category:t,canSyncChannel:null!=t&&y.default.can(F.Permissions.MANAGE_ROLES,t),permissionOverwrites:p.default.permissionOverwrites,selectedOverwriteId:p.default.selectedOverwriteId,isLockable:p.default.isLockable,locked:p.default.locked,guild:null!=e&&m.default.getGuild(e.getGuildId()),theme:_.default.theme}})(te);t.default=ne},8139:function(e,t,n){"use strict";t.__esModule=!0,t.updatePermission=function(e,t,n){r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_UPDATE_PERMISSION,id:e,allow:t,deny:n})},t.selectPermission=function(e){r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SELECT_PERMISSION,id:e})},t.init=function(){r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_INIT})},t.savePermissionUpdates=function(e,t){return r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SUBMITTING}),new Promise(function(n){!function r(){if(0===t.length)return n();var o=t.pop();if(null==o)return r();a.default.updatePermissionOverwrite(e,o).then(r,r)}()}).then(function(){return r.default.dispatch({type:o.ActionTypes.CHANNEL_SETTINGS_PERMISSIONS_SAVE_SUCCESS})})};var r=i(n(1)),a=i(n(443)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}},8140:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(17)),o=f(n(124)),i=f(n(444)),l=f(n(148)),s=f(n(301)),u=f(n(125)),d=n(0),c=f(n(5902));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.iconName,n=e.noticeText,r=e.buttonText,f=e.className,h=e.submitting,v=e.onClick;return p(i.default,{className:(0,a.default)(c.default.card,f)},void 0,p(l.default,{},void 0,p(l.default.Child,{wrap:!0,grow:0,shrink:0,className:c.default.iconContainer},void 0,p(s.default,{name:t,width:18,height:18,color:d.Colors.STATUS_YELLOW,className:c.default.lockIcon})),p(l.default.Child,{wrap:!0,className:c.default.noticeText},void 0,p(u.default,{color:u.default.Colors.PRIMARY},void 0,n))),null!=r&&null!=v?p(o.default,{size:o.default.Sizes.SMALL,onClick:v,className:c.default.button,submitting:h},void 0,r):null)};h.displayName="SidebarNotice";var v=h;t.default=v,e.exports=t.default},8141:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(6456)),o=l(n(28)),i=l(n(6743));function l(e){return e&&e.__esModule?e:{default:e}}var s=r.default.connectStores([a.default],function(){var e=a.default.getChannel();return{guild:null!=e?o.default.getGuild(e.getGuildId()):null,channel:e}})(i.default);t.default=s,e.exports=t.default},8142:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=I(n(2)),o=O(n(6)),i=O(n(3)),l=n(56),s=n(6716),u=I(n(6654)),d=O(n(35)),c=O(n(14)),f=O(n(5992)),p=O(n(148)),h=O(n(6304)),v=n(6056),m=O(n(8143)),y=O(n(8146)),_=O(n(8147)),g=O(n(8148)),E=n(0),S=O(n(13)),T=O(n(5476));function O(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function C(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=function(e){return C(p.default,{align:p.default.Align.CENTER},void 0,C(p.default.Child,{},void 0,C(p.default,{align:p.default.Align.CENTER},void 0,C(f.default,{size:f.default.Sizes.XSMALL,src:e.getAvatarURL()}),C("span",{className:T.default.username},void 0,e.toString()))))};function A(e,t){var n=C(m.default,{context:e}),r=C(y.default,{context:e}),a=C(g.default,{context:e}),i=[];if(null==t)return i;var l=t.transport,d=t.rtp,f=d.inbound,p=d.outbound;return i.push({section:v.SectionTypes.HEADER,label:S.default.Messages.RTC_DEBUG_CONTEXT.format({context:e})}),null!=l&&i.push({section:(0,u.keySection)(e,E.RTCDebugSections.TRANSPORT),label:S.default.Messages.RTC_DEBUG_TRANSPORT,element:function(){return a}}),null!=p&&i.push({section:(0,u.keySection)(e,E.RTCDebugSections.OUTBOUND),label:S.default.Messages.RTC_DEBUG_RTP_OUTBOUND,element:function(){return r}}),null==f||o.default.isEmpty(f)||(i.push({section:v.SectionTypes.HEADER,label:S.default.Messages.RTC_DEBUG_RTP_INBOUND}),Object.keys(f).forEach(function(t){var r=c.default.getUser(t);if(null!=r){var a=(0,u.keySection)(e,r.id);i.push({section:a,label:N(r),onClick:function(){(0,s.setSection)(a)},element:function(){return n}})}})),i}N.displayName="UserItem";var M=i.default.connectStores([u.default,d.default],function(){var e=u.default.getStats(l.MediaEngineContextTypes.DEFAULT);return{theme:d.default.theme,section:u.default.getSection(),defaultStats:e,streamStats:u.default.getStats(l.MediaEngineContextTypes.STREAM),screenshare:null!=e?e.screenshare:void 0}})(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.theme,n=e.section,r=e.defaultStats,a=e.streamStats,o=e.screenshare;return C(h.default,{theme:t,section:n,onSetSection:s.setSection,onClose:s.close,sections:function(e,t,n){var r=A(l.MediaEngineContextTypes.DEFAULT,e),a=A(l.MediaEngineContextTypes.STREAM,t),o=[],i={section:v.SectionTypes.DIVIDER};return null!=n&&(o.push(i),o.push({section:E.RTCDebugSections.SCREENSHARE,label:S.default.Messages.RTC_DEBUG_SCREENSHARE,element:_.default})),a.length>0&&a.unshift(i),[].concat(r,a,o)}(r,a,o)})},r}(a.PureComponent));t.default=M,e.exports=t.default},8143:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=h(n(2)),o=p(n(3)),i=h(n(6654)),l=p(n(14)),s=p(n(438)),u=p(n(829)),d=n(107),c=n(6750),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.streams,n=e.userId;if(null==n||null==t||0===t.length)return v(s.default,{type:s.default.Type.SPINNING_CIRCLE});var r=l.default.getUser(n),a=null==r?f.default.Messages.RTC_DEBUG_RTP_INBOUND:f.default.Messages.RTC_DEBUG_RTP_INBOUND+" — "+r.toString();return v(u.default,{tag:d.Tags.H2,title:a},void 0,(0,c.renderStreams)(t,n))},r}(a.PureComponent);m.displayName="RTCDebugInbound";var y=o.default.connectStores([i.default],function(e){var t=e.context,n=i.default.getStats(t),r=(0,i.parseSection)(i.default.getSection()).section;if(null==r)throw new Error("Unrecognized section format");var a=null;return null!=n&&null!=n.rtp.inbound&&(a=n.rtp.inbound[r]||[]),{userId:r,streams:a}})(m);t.default=y,e.exports=t.default},8144:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(6962);function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var l=i(o.SparklinesCurve,{}),s=i(o.SparklinesReferenceLine,{type:"median"}),u=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).datapoints=[t.datapoint],n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){this.datapoints.push(e.datapoint)},a.render=function(){return i(o.Sparklines,{data:this.datapoints.slice(0),height:25,style:{marginTop:10}},void 0,l,s)},r}(a.PureComponent);t.default=u,u.displayName="RTCDebugGraph",e.exports=t.default},8145:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=p(n(2)),o=f(n(17)),i=f(n(148)),l=f(n(301)),s=f(n(832)),u=p(n(440)),d=n(0),c=f(n(5476));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=["audioLevel"],m=["firCount","nackCount"],y=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={change:0,warn:-1!==m.indexOf(t.label)},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){-1!==v.indexOf(e.label)&&(e.value>this.props.value?this.setState({change:1}):e.value<this.props.value?this.setState({change:-1}):this.setState({change:0}))},a.renderValueIcon=function(){var e=this.state,t=e.warn,n=e.change;return t?h(l.default,{name:l.default.Names.WARNING_BOX,color:d.Colors.STATUS_YELLOW,className:c.default.valueIcon}):n>0?h(l.default,{name:l.default.Names.CHANGE_UP,color:d.Colors.STATUS_GREEN,className:c.default.valueIcon}):n<0?h(l.default,{name:l.default.Names.CHANGE_DOWN,color:d.Colors.STATUS_RED,className:c.default.valueIcon}):null},a.render=function(){var e=this.props,t=e.children,n=e.className,r=e.valueRendered,a=e.section,l=e.label,d=e.renderGraph;return h(i.default,{className:(0,o.default)(c.default.item,n),direction:i.default.Direction.VERTICAL,basis:"50%"},void 0,h(i.default,{align:i.default.Align.START},void 0,h(i.default.Child,{},void 0,h("h3",{className:c.default.title},void 0,t)),h(i.default.Child,{grow:0,shrink:0},void 0,this.renderValueIcon(),h("span",{className:c.default.itemValue},void 0,r))),d&&h(i.default.Child,{className:c.default.graph},null!=a?a+"-"+l:l,h(u.default,{type:u.Types.DESCRIPTION},void 0,d())),h(s.default,{className:c.default.divider}))},r}(a.PureComponent);t.default=y,y.displayName="RTCDebugItem",e.exports=t.default},8146:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(3)),i=(n(56),f(n(6654))),l=f(n(438)),s=f(n(829)),u=n(107),d=n(6750),c=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.outbound;return null==e?p(l.default,{type:l.default.Type.SPINNING_CIRCLE}):p(s.default,{tag:u.Tags.H2,title:c.default.Messages.RTC_DEBUG_RTP_OUTBOUND},void 0,(0,d.renderStreams)(e))},r}(a.PureComponent);h.displayName="RTCDebugOutbound";var v=o.default.connectStores([i.default],function(e){var t=e.context,n=i.default.getStats(t);return{outbound:null!=n?n.rtp.outbound:null}})(h);t.default=v,e.exports=t.default},8147:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(6)),i=h(n(3)),l=h(n(6654)),s=h(n(438)),u=h(n(829)),d=n(107),c=n(6750),f=n(7063),p=h(n(13));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.screenshare;if(null==e)return v(s.default,{type:s.default.Type.SPINNING_CIRCLE});var t=o.default.map(e,function(e,t){return v(f.Item,{label:t,value:e},t)});return v(u.default,{tag:d.Tags.H2,title:p.default.Messages.RTC_DEBUG_SCREENSHARE},void 0,(0,c.renderTwoColumns)(t))},r}(a.PureComponent);m.displayName="RTCDebugScreenshare";var y=i.default.connectStores([l.default],function(){var e=l.default.getStats();return{screenshare:null!=e?e.screenshare:null}})(m);t.default=y,e.exports=t.default},8148:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=y(n(6)),i=y(n(3)),l=(n(56),y(n(181))),s=y(n(6654)),u=y(n(307)),d=y(n(438)),c=y(n(829)),f=n(107),p=n(6750),h=n(7063),v=y(n(13)),m=y(n(5476));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.transport,n=e.mediaSessionId,r=e.hidePersonalInformation;if(null==t)return _(d.default,{type:d.default.Type.SPINNING_CIRCLE});var a=o.default.map(t,function(e,t){if(!r||"localAddress"!==t)return _(h.Item,{label:t,value:e},t)});return _(c.default,{tag:f.Tags.H2,title:v.default.Messages.RTC_DEBUG_TRANSPORT+(n?" - "+n:""),className:m.default.allowSelection},void 0,(0,p.renderTwoColumns)(a))},r}(a.PureComponent);g.displayName="RTCDebugTransport";var E=i.default.connectStores([s.default,l.default,u.default],function(e){var t=e.context,n=s.default.getStats(t);return{hidePersonalInformation:u.default.hidePersonalInformation,transport:null!=n?n.transport:null,mediaSessionId:l.default.getMediaSessionId()}})(g);t.default=E,e.exports=t.default},8149:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(3)),i=E(n(8)),l=E(n(839)),s=E(n(7266)),u=n(830),d=E(n(77)),c=n(864),f=E(n(6055)),p=E(n(35)),h=E(n(125)),v=E(n(8150)),m=E(n(445)),y=E(n(6305)),_=n(0),g=E(n(13));function E(e){return e&&e.__esModule?e:{default:e}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={captchaKey:0},O(n).handleVerifyCaptcha=n.handleVerifyCaptcha.bind(O(n)),O(n).handleClick=n.handleClick.bind(O(n)),O(n).handleLogout=n.handleLogout.bind(O(n)),O(n).close=n.close.bind(O(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.render=function(){var e=this.props,t=e.type,n=e.theme;return T(v.default,{type:t,captchaKey:this.state.captchaKey,onCaptchaVerify:this.handleVerifyCaptcha,theme:n,onClick:this.handleClick,onLogout:this.handleLogout})},o.handleVerifyCaptcha=function(e){var t=this;i.default.post({url:_.Endpoints.CAPTCHA,body:{captcha_key:e}}).then(function(){t.close()},function(){t.setState({captchaKey:t.state.captchaKey+1})})},o.handleClick=function(e){e===_.VerificationTypes.EMAIL_OR_PHONE?this.handleVerifyEmail():this.handleVerifyPhone()},o.handleVerifyEmail=function(){(0,c.accountDetailsInit)(),s.default.open()},o.handleVerifyPhone=function(){d.default.push(function(e){return a.createElement(y.default,e)})},o.close=function(){(0,u.popLayer)()},o.handleLogout=function(){d.default.push(function(e){return a.createElement(m.default,S({header:g.default.Messages.LOGOUT,confirmText:g.default.Messages.LOGOUT,cancelText:g.default.Messages.CANCEL,onConfirm:function(){return l.default.logout()}},e),T(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,g.default.Messages.USER_SETTINGS_CONFIRM_LOGOUT))})},r}(a.PureComponent);I.displayName="Verification";var C=o.default.connectStores([p.default,f.default],function(){var e=f.default.getAction(),t=_.VerificationTypes.CAPTCHA;return e===_.UserRequiredActions.REQUIRE_VERIFIED_EMAIL?t=_.VerificationTypes.EMAIL_OR_PHONE:e===_.UserRequiredActions.REQUIRE_VERIFIED_PHONE&&(t=_.VerificationTypes.PHONE),{theme:p.default.theme,type:t}})(I);t.default=C,e.exports=t.default},8150:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(17)),i=p(n(309)),l=p(n(148)),s=p(n(904)),u=n(0),d=p(n(13)),c=p(n(5357)),f=p(n(5905));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(){var e=t.props;(0,e.onClick)(e.type)},t}return v(t,e),t.prototype.render=function(){var e=this.props.type,t=e===u.VerificationTypes.EMAIL_OR_PHONE?d.default.Messages.VERIFY_BY_EMAIL_FORMATTED.format():d.default.Messages.VERIFY_BY_PHONE_FORMATTED.format();return h(l.default,{className:f.default.verificationBlock,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER,onClick:this.handleClick},void 0,h("div",{className:(0,o.default)(f.default.image,f.default[e])}),h("div",{className:f.default.body},void 0,t))},t}(a.PureComponent);m.displayName="VerificationBlock";var y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e)},t}v(t,e);var n=t.prototype;return n.renderFields=function(){var e=this.props,t=e.type,n=e.captchaKey,r=e.theme,a=e.onCaptchaVerify,o=[];switch(t){case u.VerificationTypes.CAPTCHA:return h(s.default,{onVerify:a,theme:r},n);case u.VerificationTypes.EMAIL_OR_PHONE:o.push(h(m,{type:u.VerificationTypes.EMAIL_OR_PHONE,onClick:this.handleClick},u.VerificationTypes.EMAIL_OR_PHONE));case u.VerificationTypes.PHONE:o.push(h(m,{type:u.VerificationTypes.PHONE,onClick:this.handleClick},u.VerificationTypes.PHONE))}return o},n.render=function(){return h(l.default,{className:f.default.verification,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,h(l.default,{className:f.default.container,direction:l.default.Direction.VERTICAL,align:l.default.Align.CENTER,justify:l.default.Justify.CENTER},void 0,h("div",{className:f.default.image}),h("div",{className:(0,o.default)(f.default.title,c.default.marginTop20)},void 0,d.default.Messages.VERIFICATION_TITLE),h("div",{className:(0,o.default)(f.default.body,c.default.marginTop4,c.default.marginBottom20)},void 0,d.default.Messages.VERIFICATION_BODY.format()),h(l.default,{grow:0,justify:l.default.Justify.CENTER},void 0,this.renderFields())),h("div",{className:f.default.footer},void 0,d.default.Messages.VERIFICATION_FOOTER),h(l.default,{className:(0,o.default)(c.default.marginTop4,c.default.marginBottom20),grow:0},void 0,h("div",{className:(0,o.default)(f.default.footer,f.default.footerAction)},void 0,d.default.Messages.VERIFICATION_FOOTER_SUPPORT.format({supportURL:i.default.getSubmitRequestURL()})),h("div",{className:(0,o.default)(f.default.footer,f.default.footerBullet)},void 0,"•"),h("div",{className:(0,o.default)(f.default.footer,f.default.footerAction)},void 0,d.default.Messages.VERIFICATION_FOOTER_LOGOUT.format({logoutOnClick:this.props.onLogout}))))},t}(a.PureComponent);y.displayName="Verification",y.defaultProps={type:u.VerificationTypes.CAPTCHA,onCaptchaVerify:u.NOOP,onLogout:u.NOOP};var _=y;t.default=_,e.exports=t.default},8151:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=_(n(2)),i=y(n(3)),l=_(n(7064)),s=y(n(7065)),u=y(n(35)),d=y(n(151)),c=y(n(8152)),f=y(n(8153)),p=y(n(8154)),h=y(n(8156)),v=y(n(8160)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=((r={})[m.PictureInPictureComponents.VIDEO]={component:h.default,store:f.default},r[m.PictureInPictureComponents.STREAM]={component:v.default,store:c.default},r),S=function(e){var t,n;function r(t){var n;return g(n=e.call(this,t)||this).handleWindowMove=n.handleWindowMove.bind(g(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.render=function(){var e=this.props,t=e.window,n=e.maxX,r=e.maxY,o=e.theme;return function(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(p.default,{pictureInPictureComponents:E,window:t,maxX:n,maxY:r,theme:o,onWindowMove:this.handleWindowMove})},o.handleWindowMove=function(e,t){l.moveTo(e,t)},r}(o.PureComponent);S.displayName="PictureInPictureContainer";var T=i.default.connectStores([s.default,d.default,u.default],function(){var e=d.default.windowSize();return{window:s.default.window,maxX:e.width,maxY:e.height,theme:u.default.theme}})(S);t.default=T,e.exports=t.default},8152:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(3)),o=n(56),i=g(n(1)),l=_(n(7064)),s=g(n(12)),u=_(n(871)),d=g(n(5360)),c=g(n(20)),f=g(n(844)),p=g(n(46)),h=g(n(7065)),v=g(n(893)),m=g(n(49)),y=n(0);function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}function E(){var e=r;if(null==e||!h.default.isOpen(e))return!1;i.default.wait(function(){return l.close(e)}),r=null}function S(){var e=d.default.getActiveStream();if(null!=e){var t=e.channelId;return function(e){var t=m.default.getChannelId();if(!p.default.supports(o.Features.VIDEO))return!0;var n=f.default.hasLayers();return!(n&&f.default.getLayers().includes(y.Layers.RTC_DEBUG)||!n&&e!==t&&!v.default.getWindowOpen(y.PopoutWindowKeys.STREAM_POPOUT))}(t)?E():(r!==t&&E(),function(e){var t=c.default.getChannel(e);if(null==t||h.default.isOpen(e))return!1;i.default.wait(function(){return l.open(e,y.PictureInPictureComponents.STREAM,{channel:t})}),r=e}(t))}E()}var T=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(h.default),this.syncWith([m.default,d.default,f.default,v.default],S)},r}(a.default.Store))(i.default,{STREAM_STOP:function(e){var t=e.streamKey;if(u.decodeStreamKey(t).ownerId!==s.default.getId())return!1;E()}});t.default=T,e.exports=t.default},8153:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(3)),o=n(56),i=_(n(1)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7064)),s=_(n(20)),u=_(n(844)),d=_(n(46)),c=_(n(7065)),f=_(n(181)),p=_(n(49)),h=_(n(150)),v=_(n(130)),m=_(n(6640)),y=n(0);function _(e){return e&&e.__esModule?e:{default:e}}function g(){var e=r;if(null==e||!c.default.isOpen(e))return!1;i.default.wait(function(){return l.close(e)}),r=null}function E(){var e=f.default.getChannelId(),t=r===e;return function(){var e=f.default.getGuildId(),t=f.default.getChannelId(),n=p.default.getChannelId();if(!d.default.supports(o.Features.VIDEO))return!0;if(null!=e&&!m.default.isAvailable(e))return!0;if(null==t||!v.default.hasVideo(e,t))return!0;var r=u.default.hasLayers();return!(r&&u.default.getLayers().includes(y.Layers.RTC_DEBUG)||!r&&t!==n)}()?g():(t||g(),null!=e&&function(e){var t=s.default.getChannel(e);if(null==t||c.default.isOpen(e))return!1;i.default.wait(function(){return l.open(t.id,y.PictureInPictureComponents.VIDEO,{channel:t})}),r=e}(e))}var S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(c.default),this.syncWith([p.default,h.default,f.default,v.default,u.default],E)},r}(a.default.Store))(i.default,function(){return!1});t.default=S,e.exports=t.default},8154:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(17)),i=n(96),l=c(n(8155)),s=n(0),u=c(n(5364)),d=c(n(5907));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m=80,y=132,_=80,g=function(e){function t(t){var n;return h(n=e.call(this,t)||this).ensureIsInPosition=n.ensureIsInPosition.bind(h(n)),h(n).handleSetInnerDivRef=n.handleSetInnerDivRef.bind(h(n)),h(n).handleSetDraggableRef=n.handleSetDraggableRef.bind(h(n)),h(n).handleDragStart=n.handleDragStart.bind(h(n)),h(n).handleDrag=n.handleDrag.bind(h(n)),h(n).handleDragEnd=n.handleDragEnd.bind(h(n)),n}v(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setPosition(this.props.position)},n.componentDidUpdate=function(e){e.edgeOffsetTop===this.props.edgeOffsetTop&&e.edgeOffsetLeft===this.props.edgeOffsetLeft&&e.edgeOffsetBottom===this.props.edgeOffsetBottom&&e.edgeOffsetRight===this.props.edgeOffsetRight&&e.maxX===this.props.maxX&&e.maxY===this.props.maxY||this.ensureIsInPosition()},n.getPosition=function(e){var t=(0,i.findDOMNode)(this._innerDiv);if(null!=t&&t instanceof Element){var n=t.getBoundingClientRect();this._width=n.width,this._height=n.height}var r=this.props,a=r.edgeOffsetTop,o=r.edgeOffsetLeft,l=r.edgeOffsetBottom,u=r.edgeOffsetRight,d=a,c=window.innerHeight-l-this._height,f=o,p=window.innerWidth-u-this._width;switch(e){case s.PictureInPicturePositions.TOP_LEFT:return{y:d,x:f};case s.PictureInPicturePositions.BOTTOM_LEFT:return{y:c,x:f};case s.PictureInPicturePositions.TOP_RIGHT:return{y:d,x:p};default:return{y:c,x:p}}},n.setPosition=function(e){var t=this.getPosition(e),n=t.x,r=t.y;null!=this._draggable&&this._draggable.setPosition(n,r)},n.animateToPosition=function(e,t){var n=this.getPosition(e),r=n.x,a=n.y;null!=this._draggable&&this._draggable.animateToPosition(r,a,{},t)},n.ensureIsInPosition=function(){this.setPosition(this.props.position)},n.calculateDecayingPosition=function(e,t,n,r){return{x:e+200*n,y:t+200*r}},n.getXOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetLeft,r=e.edgeOffsetRight;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.BOTTOM_LEFT:return-n;default:return r}},n.getYOffset=function(){var e=this.props,t=e.position,n=e.edgeOffsetTop,r=e.edgeOffsetBottom;switch(t){case s.PictureInPicturePositions.TOP_LEFT:case s.PictureInPicturePositions.TOP_RIGHT:return-n;default:return r}},n.render=function(){var e=this.getXOffset(),t=this.getYOffset();return a.createElement(l.default,{dragAnywhere:!0,ref:this.handleSetDraggableRef,className:d.default.pictureInPictureWindow,maxX:window.innerWidth,maxY:window.innerHeight,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd},a.createElement("div",{ref:this.handleSetInnerDivRef,className:u.default.elevationHigh,style:{x:e,y:t}},this.props.children))},n.handleSetInnerDivRef=function(e){this._innerDiv=e},n.handleSetDraggableRef=function(e){this._draggable=e},n.handleDragStart=function(e,t){this._velocityX=0,this._velocityY=0,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=new Date},n.handleDrag=function(e,t){var n=new Date,r=n-this._lastMoveTime;this._velocityX=(e-this._lastMoveX)/r,this._velocityY=(t-this._lastMoveY)/r,this._lastMoveX=e,this._lastMoveY=t,this._lastMoveTime=n},n.handleDragEnd=function(e,t){var n,r=this.calculateDecayingPosition(e,t,this._velocityX,this._velocityY),a=!0,o=!0;if(r.x>window.innerWidth/2&&(o=!1),r.y>window.innerHeight/2&&(a=!1),n=a&&o?s.PictureInPicturePositions.TOP_LEFT:a&&!o?s.PictureInPicturePositions.TOP_RIGHT:!a&&o?s.PictureInPicturePositions.BOTTOM_LEFT:s.PictureInPicturePositions.BOTTOM_RIGHT,this.animateToPosition(n,this.ensureIsInPosition),n!==this.props.position){var i=this.props,l=i.id,u=i.onMove;u&&u(l,n)}},t}(a.PureComponent);g.displayName="Window";var E=function(e){function t(){return e.apply(this,arguments)||this}v(t,e);var n=t.prototype;return n.renderWindow=function(){var e=this.props,t=e.window,n=e.maxX,r=e.maxY,o=e.onWindowMove,i=e.pictureInPictureComponents;if(null==t)return null;var l=t.component;return"string"==typeof l&&i[l]&&(l=i[l].component),f(g,{position:t.position,id:t.id,onMove:o,maxX:n,maxY:r,edgeOffsetTop:m,edgeOffsetBottom:y,edgeOffsetLeft:_,edgeOffsetRight:m},void 0,a.createElement(l,p({pipId:t.id,pipPosition:t.position},t.props)))},n.render=function(){return f("div",{className:(0,o.default)(d.default.pictureInPicture,"theme-"+this.props.theme)},void 0,this.renderWindow())},t}(a.PureComponent);E.displayName="PictureInPicture";var S=E;t.default=S,e.exports=t.default},8155:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(96),i=(r=n(303))&&r.__esModule?r:{default:r},l=n(0);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Math.pow(3,2),c=function(e){var t,n;function r(t){var n;(n=e.call(this,t)||this)._height=0,n._width=0,n._dragStart={x:0,y:0},n._offsetX=0,n._offsetY=0;var r=new i.default.Value(t.initialX),a=new i.default.Value(t.initialY);return n.state={dragging:!1,position:new i.default.ValueXY({x:r,y:a})},u(n).handleSetRef=n.handleSetRef.bind(u(n)),u(n).handleMouseDown=n.handleMouseDown.bind(u(n)),u(n).handleMouseMove=n.handleMouseMove.bind(u(n)),u(n).handleMouseUp=n.handleMouseUp.bind(u(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.componentDidMount=function(){var e=this.props,t=e.initialX,n=e.initialY;this.setPosition(t,n)},c.componentWillUnmount=function(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp)},c.animateToPosition=function(e,t,n,r,a){void 0===n&&(n={}),void 0===a&&(a=!0),a&&this.grabDimensions();var o=this.translate(e,t);i.default.spring(this.state.position,s({toValue:{x:o.x,y:o.y}},n)).start(r)},c.setPosition=function(e,t,n){void 0===n&&(n=!0);var r=this.translate(e,t);n&&this.grabDimensions(),this.state.position.setValue({x:r.x,y:r.y})},c.grabDimensions=function(){var e=(0,o.findDOMNode)(this._ref);null!=e&&e instanceof Element&&(this._height=e.clientHeight,this._width=e.clientWidth)},c.translate=function(e,t){var n=this.props,r=n.maxX,a=n.maxY;return e<0?e=0:e>r-this._width&&(e=r-this._width),t<0?t=0:t>a-this._height&&(t=a-this._height),{x:e,y:t}},c.render=function(){var e=this.state,t=e.dragging,n=e.position,r=this.props,o=r.className,l=r.children,u=[0,1],d=["0px","1px"],c=i.default.accelerate(s({pointerEvents:t?"none":"auto",transform:[{translateX:n.x.interpolate({inputRange:u,outputRange:d})},{translateY:n.y.interpolate({inputRange:u,outputRange:d})}]},this.props.style));return a.createElement(i.default.div,{ref:this.handleSetRef,className:o,onMouseDown:this.handleMouseDown,style:c},l)},c.handleSetRef=function(e){this._ref=e},c.handleMouseDown=function(e){var t=this.props,n=t.dragAnywhere,r=t.selector,a=this.state.position,o=e.target;e.button===l.MouseButtons.PRIMARY&&(n||null!=r&&o.matches(r))&&(this.grabDimensions(),this._dragStart={x:e.clientX,y:e.clientY},this._offsetX=e.clientX-a.x._value,this._offsetY=e.clientY-a.y._value,window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mouseup",this.handleMouseUp))},c.handleMouseMove=function(e){e.preventDefault();var t,n,r,a,o,i,l=this.props,s=l.onDragStart,u=l.onDrag,c=this.state,f=c.dragging,p=c.dragging;!f&&(t=this._dragStart,n={x:e.clientX,y:e.clientY},r=t.x,a=t.y,o=n.x,i=n.y,Math.pow(r-o,2)+Math.pow(a-i,2)>d)&&(f=!0),f&&(this.animateToPosition(e.clientX-this._offsetX,e.clientY-this._offsetY,{tension:80,friction:8},null,!1),this.setState({dragging:f},function(){p||s&&s(e.clientX,e.clientY),u&&u(e.clientX,e.clientY)}))},c.handleMouseUp=function(e){var t=this;window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this.state.dragging&&this.setState({dragging:!1},function(){var n=t.props.onDragEnd;n&&n(e.clientX,e.clientY)})},r}(a.PureComponent);c.displayName="Draggable",c.defaultProps={maxX:0,maxY:0,initialX:0,initialY:0,dragAnywhere:!1};var f=c;t.default=f,e.exports=t.default},8156:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=b(n(6)),i=b(n(3)),l=n(56),s=b(n(446)),u=n(302),d=b(n(6013)),c=n(830),f=b(n(77)),p=b(n(6597)),h=b(n(12)),v=b(n(842)),m=b(n(46)),y=b(n(8157)),_=b(n(497)),g=b(n(8158)),E=b(n(6857)),S=b(n(18)),T=n(177),O=b(n(44)),I=b(n(450)),C=b(n(6874)),N=b(n(8159)),A=b(n(6875)),M=n(0),P=b(n(13));function b(e){return e&&e.__esModule?e:{default:e}}function R(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handleEnableVideo=function(){s.default.setVideoEnabled(!0)},t.handleEnableVideoWhenUnavailable=function(){var e=t.props.isCameraGranted;f.default.push(function(n){return a.createElement(A.default,L({},n,{title:P.default.Messages.CAMERA_UNAVAILABLE,description:e?P.default.Messages.CAMERA_NO_DEVICE:P.default.Messages.CAMERA_NO_ACCESS,confirmText:e?P.default.Messages.OKAY:P.default.Messages.CAMERA_ENABLE_ACCESS,onConfirm:e?f.default.pop:t.handleEnableVideo}))})},t.handleDisableVideo=function(){s.default.setVideoEnabled(!1)},t.handleStartScreenSharing=function(){p.default.open(t.props.channel)},t.handleStartScreenSharingWhenUnavailable=function(){function e(){f.default.push(I.default,{source:"PiP Screenshare Unavailable"})}f.default.push(function(t){return a.createElement(A.default,L({},t,{title:P.default.Messages.SCREENSHARE_UNAVAILABLE,description:P.default.Messages.SCREENSHARE_UNAVAILABLE_DOWNLOAD_APP,confirmText:P.default.Messages.DOWNLOAD_APP,onConfirm:e}))})},t.handleChangeScreenSharing=function(e){if(e.currentTarget instanceof Element){var n=t.props.channel;(0,u.openContextMenu)(e,function(e){return a.createElement(C.default,L({},e,{channel:n}))})}},t.handleJumpToChannel=function(){var e=t.props.channel;(0,c.popAllLayers)();var n=e.getGuildId()||M.ME;d.default.channelListScrollTo(n,e.id),O.default.transitionToGuild(n,e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.componentDidMount=function(){var e=this.props.channel;S.default.track(M.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,L({video_layout:"pip"},(0,T.collectVoiceAnalyticsMetadata)(e.id)))},o.componentWillUnmount=function(){var e=this.props.channel;S.default.track(M.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,L({video_layout:v.default.getLayout(e.id)},(0,T.collectVoiceAnalyticsMetadata)(e.id)))},o.render=function(){var e=this.props,t=e.channel,n=e.streamId,r=e.userOnScreen,a=e.isVideoAvailable,o=e.isVideoEnabled,i=e.isScreenShareAvailable,l=e.isScreenShareEnabled,s=e.quality,u=r.id===h.default.getId()&&o&&!l;return R(g.default,{channel:t,backgroundKey:r.id,quality:s,isVideoAvailable:a,isVideoEnabled:o,isScreenShareAvailable:i,isScreenShareEnabled:l,onEnableVideo:this.handleEnableVideo,onEnableVideoWhenUnavailable:this.handleEnableVideoWhenUnavailable,onDisableVideo:this.handleDisableVideo,onStartScreenSharing:this.handleStartScreenSharing,onStartScreenSharingWhenUnavailable:this.handleStartScreenSharingWhenUnavailable,onChangeScreenSharing:this.handleChangeScreenSharing,onJumpToChannel:this.handleJumpToChannel},void 0,R(N.default,{streamId:n,component:m.default.getMediaEngine().Video,mirror:u},void 0,R(E.default,{avatarSize:E.default.AvatarSizes.XXLARGE,user:r})))},r}(a.PureComponent);D.displayName="PictureInPictureVideoContainer";var w=i.default.connectStores([y.default,v.default,_.default],function(e){var t=e.channel,n=y.default.getSpeaker(t.id),r=(0,o.default)(m.default.getVideoDevices()).values().first(),a=null==r||r.disabled,i=m.default.isEnabled();return{channel:t,streamId:null!=n?_.default.getStreamId(n.id):null,quality:null!=n?_.default.getQuality(n.id):null,userOnScreen:n,isVideoAvailable:i||!1===a,isVideoEnabled:i&&!a&&m.default.isVideoEnabled(),isScreenShareEnabled:m.default.isScreenSharing(),isScreenShareAvailable:m.default.supports(l.Features.DESKTOP_CAPTURE),isCameraGranted:i}})(D);t.default=w,e.exports=t.default},8157:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=f(n(6)),i=f(n(3)),l=f(n(1)),s=f(n(12)),u=f(n(842)),d=f(n(463)),c=f(n(14));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t;if(void 0===e&&(e=!0),null==r)t=null;else if(null==(t=u.default.getSelectedParticipantId(r))){var n=s.default.getId();t=(0,o.default)(u.default.getParticipants(r)).filter(function(e){var t=e.user,r=e.voiceState;return null!=r&&r.selfVideo&&t.id!==n}).sortBy(function(e){var t=e.user;return-d.default.getSpeakingDuration(t.id)}).map(function(e){return e.user.id}).first()}a!==t&&(a=t,e&&m.emitChange())}var h=o.default.debounce(p,300);function v(){return h(),!1}var m=new(function(e){var t,n;function o(){return e.apply(this,arguments)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.initialize=function(){this.waitFor(u.default,c.default,d.default),this.syncWith([u.default],v)},i.getSpeaker=function(e){return r!==e&&(r=e,p(!1)),null!=a?c.default.getUser(a):c.default.getCurrentUser()},o}(i.default.Store))(l.default,function(){return!1}),y=m;t.default=y,e.exports=t.default},8158:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(826)),i=m(n(124)),l=m(n(219)),s=m(n(148)),u=m(n(301)),d=m(n(6856)),c=n(7171),f=m(n(437)),p=n(0),h=m(n(13)),v=m(n(5908));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=y(s.default,{grow:1}),g=y(d.default,{isCondensed:!0}),E=y(s.default,{grow:1}),S=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderTopLeft=function(){var e=this.props,t=e.channel,n=e.onJumpToChannel;return y(l.default,{className:v.default.channel,onClick:n},void 0,t.toString())},a.renderTopRight=function(){var e=this.props.onClose;return null!=e?y(l.default,{onClick:e,className:v.default.iconButtonWrapper},void 0,y(u.default,{name:u.default.Names.REMOVE,className:v.default.iconButton,foreground:v.default.iconButtonForeground})):null},a.renderScreenShareIcon=function(){var e,t,n,r=this.props,a=r.onStartScreenSharingWhenUnavailable,o=r.onStartScreenSharing,l=r.onChangeScreenSharing,s=r.isScreenShareAvailable,d=r.isScreenShareEnabled;return s?d?(e=l,t=v.default.iconButton,n=h.default.Messages.SCREEN_SHARE_OPTIONS):(e=o,t=v.default.iconButton,n=h.default.Messages.SCREEN_SHARE_ON):(e=a,t=v.default.iconButtonDisabled,n=h.default.Messages.SCREENSHARE_UNAVAILABLE),y(f.default,{text:n},void 0,y(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,onClick:e,className:v.default.iconButtonWrapper},void 0,y(u.default,{name:u.default.Names.SCREENSHARE,className:t,foreground:v.default.iconButtonForeground})))},a.renderVideoIcon=function(){var e,t,n,r,a=this.props,o=a.onEnableVideoWhenUnavailable,l=a.onEnableVideo,s=a.onDisableVideo,d=a.isVideoAvailable,c=a.isVideoEnabled;return d?c?(e=u.default.Names.VIDEO_CAMERA,t=s,n=v.default.iconButton,r=h.default.Messages.CAMERA_OFF):(e=u.default.Names.VIDEO_CAMERA_DISABLED,t=l,n=v.default.iconButton,r=h.default.Messages.CAMERA_ON):(e=u.default.Names.VIDEO_CAMERA,t=o,n=v.default.iconButtonDisabled,r=h.default.Messages.CAMERA_UNAVAILABLE),y(f.default,{text:r},void 0,y(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,onClick:t,className:v.default.iconButtonWrapper},void 0,y(u.default,{name:e,width:24,height:24,className:n,foreground:v.default.iconButtonForeground})))},a.renderBottomLeft=function(){return y(s.default,{align:s.default.Align.CENTER},void 0,this.renderScreenShareIcon(),this.renderVideoIcon())},a.renderOverlaySide=function(e,t,n){return y(s.default,{grow:0,className:n},void 0,y(s.default,{align:s.default.Align.CENTER,grow:0,className:v.default.overlayLeft},void 0,e),_,y(s.default,{align:s.default.Align.CENTER,grow:0,className:v.default.overlayRight},void 0,t))},a.renderOverlay=function(){return this.props.quality===p.RTCReceivedVideoQuality.OFF?g:null},a.render=function(){var e=this.props,t=e.children,n=e.backgroundKey,r=e.onJumpToChannel;return y("div",{className:v.default.pictureInPictureVideo,onDoubleClick:r},void 0,y(o.default,{},void 0,y(c.BackgroundTransition,{},n,t)),y(s.default,{direction:s.default.Direction.VERTICAL,className:v.default.overlay},void 0,this.renderOverlaySide(this.renderTopLeft(),this.renderTopRight(),v.default.overlayTop),E,this.renderOverlaySide(this.renderBottomLeft(),null,v.default.overlayBottom)),this.renderOverlay())},r}(a.PureComponent);S.displayName="PictureInPictureVideo";var T=S;t.default=T,e.exports=t.default},8159:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5909));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={aStreamId:null,aReady:!1,bStreamId:t.streamId,bReady:!0},d(n).handleReady=n.handleReady.bind(d(n)),d(n).handleDoubleClick=n.handleDoubleClick.bind(d(n)),d(n).handleContextMenu=n.handleContextMenu.bind(d(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.handleReady=function(){this.state.aReady?this.setState({bReady:!0,aStreamId:null,aReady:!1}):this.setState({aReady:!0,bStreamId:null,bReady:!1})},l.UNSAFE_componentWillReceiveProps=function(e){this.state.aReady?e.streamId!==this.state.aStreamId&&(null==e.streamId?this.setState({bStreamId:e.streamId,bReady:!0,aStreamId:null,aReady:!1}):this.setState({bStreamId:e.streamId,bReady:!1})):e.streamId!==this.state.bStreamId&&(null==e.streamId?this.setState({aStreamId:e.streamId,aReady:!0,bStreamId:null,bReady:!1}):this.setState({aStreamId:e.streamId,aReady:!1}))},l.renderVideo=function(e,t){var n=this.props,r=n.children,o=n.mirror,l=n.component;if(null==e){if(null==r)return null;var d=a.Children.only(r);return a.cloneElement(d,u({style:{display:t&&!o?void 0:"none"}},d.props))}return s(l,{className:i.default.media,streamId:e,onReady:t?null:this.handleReady})},l.render=function(){var e,t=this.props,n=t.mirror,r=t.className;return s("div",{className:(0,o.default)(i.default.video,r,(e={},e[i.default.mirror]=n,e)),onDoubleClick:this.handleDoubleClick,onContextMenu:this.handleContextMenu},void 0,this.renderVideo(this.state.aStreamId,this.state.aReady),this.renderVideo(this.state.bStreamId,this.state.bReady))},l.handleDoubleClick=function(e){var t=this.props,n=t.onDoubleClick,r=t.id;n&&n(e,r)},l.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,r=t.id;n&&n(e,r)},r}(a.PureComponent);c.displayName="BufferedVideo";var f=c;t.default=f,e.exports=t.default},8160:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(6013)),i=n(830),l=h(n(842)),s=h(n(18)),u=n(177),d=h(n(44)),c=h(n(7199)),f=n(0),p=h(n(5910));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleJumpToChannel=function(){var e=t.props.channel;(0,i.popAllLayers)();var n=e.getGuildId()||f.ME;o.default.channelListScrollTo(n,e.id),d.default.transitionToGuild(n,e.id)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){var e=this.props.channel;s.default.track(f.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,m({video_layout:"pip"},(0,u.collectVoiceAnalyticsMetadata)(e.id)))},a.componentWillUnmount=function(){var e=this.props.channel;s.default.track(f.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,m({video_layout:l.default.getLayout(e.id)},(0,u.collectVoiceAnalyticsMetadata)(e.id)))},a.render=function(){var e=this.props.channel;return v("div",{className:p.default.wrapper,onDoubleClick:this.handleJumpToChannel},void 0,v(c.default,{onTitleClick:this.handleJumpToChannel,channel:e}))},r}(a.PureComponent);y.displayName="PictureInPictureStream";var _=y;t.default=_,e.exports=t.default},8161:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=g(n(2)),a=_(n(6)),o=_(n(3)),i=_(n(5360)),l=_(n(20)),s=_(n(28)),u=_(n(46)),d=_(n(859)),c=_(n(181)),f=_(n(49)),p=_(n(463)),h=_(n(14)),v=_(n(130)),m=g(n(462)),y=n(0);function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var E=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){if(e.selfDeaf!==this.props.selfDeaf?this.playSound(this.props.selfDeaf?"deafen":"undeafen"):e.selfMute!==this.props.selfMute&&this.playSound(this.props.selfMute?"mute":"unmute"),e.voiceDisconnected||e.voiceDisconnected===this.props.voiceDisconnected||this.playSound("disconnect"),e.speaking!==this.props.speaking&&(u.default.getMode()!==y.InputModes.PUSH_TO_TALK||this.props.selfMute||this.playSound(this.props.speaking?"ptt_start":"ptt_stop")),e.tempMuted!==this.props.tempMuted&&(u.default.getMode()!==y.InputModes.VOICE_ACTIVITY||this.props.selfMute||this.playSound(this.props.tempMuted?"ptt_stop":"ptt_start")),e.voiceChannelId===this.props.voiceChannelId){var t=e.voiceChannelUserCount||0,n=this.props.voiceChannelUserCount||0;t>n?!this.isAFK()&&this.playSound("user_leave"):t<n&&!this.isAFK()&&this.playSound("user_join"),e.streaming!==this.props.streaming&&this.playSound(this.props.streaming?"user_join":"user_leave")}this.props.userHasBeenMovedVersion!==e.userHasBeenMovedVersion&&this.playSound("user_moved")},a.isAFK=function(){var e=l.default.getChannel(this.props.voiceChannelId);if(null==e)return!1;var t=e.getGuildId();if(null==t)return!1;var n=s.default.getGuild(t);return null!=n&&n.afkChannelId===e.id},a.playSound=function(e){d.default.isSoundDisabled(e)||m.playSound(e,.4)},a.render=function(){return null},r}(r.PureComponent);E.displayName="SoundPlayer";var S=o.default.connectStores([u.default,c.default,p.default,v.default,f.default,i.default],function(){var e=f.default.getVoiceChannelId(),t=0,n=!1;if(null!=e){var r=l.default.getChannel(e),o=h.default.getCurrentUser();null!=r&&null!=o&&(a.default.forEach(v.default.getVoiceStates(r.getGuildId()),function(n,r){r!==o.id&&n.channelId===e&&t++}),n=i.default.getStreamsForChannel(r).length>0)}return{userHasBeenMovedVersion:v.default.userHasBeenMovedVersion,selfMute:u.default.isSelfMute(),selfDeaf:u.default.isSelfDeaf(),voiceDisconnected:c.default.isDisconnected(),speaking:p.default.isCurrentUserSpeaking(),tempMuted:u.default.isSelfMutedTemporarily(),voiceChannelId:e,voiceChannelUserCount:t,streaming:n}})(E);t.default=S,e.exports=t.default},8162:function(e,t,n){"use strict";(function(r){t.__esModule=!0,t.default=void 0;var a,o,i,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),s=P(n(17)),u=P(n(6)),d=n(96),c=P(n(3)),f=P(n(131)),p=P(n(6682)),h=P(n(12)),v=P(n(844)),m=P(n(833)),y=P(n(6303)),_=P(n(151)),g=P(n(8163)),E=P(n(6169)),S=P(n(821)),T=P(n(7267)),O=P(n(8164)),I=P(n(6040)),C=n(8165),N=n(8170),A=n(0),M=P(n(5916));function P(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var D=(0,I.default)(g.default,((o={})[A.ExperimentTypes.NONE]=function(e){return l.createElement(S.default,L({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:A.ThemeTypes.LIGHT}),e.children)},o[A.ExperimentTypes.USER]=((a={})[A.ExperimentBuckets.CONTROL]=function(e){return l.createElement(S.default,L({},e,{backdrop:!0,onOpen:function(){return f.default.trigger(e.redesignedTTExperimentDescriptor)},ref:e.setPopoutRef,forceTheme:A.ThemeTypes.LIGHT}),e.children)},a[A.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return l.createElement(S.default,L({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:A.ThemeTypes.LIGHT}),e.children)},a[A.ExperimentBuckets.TREATMENT_1]=function(e){return l.createElement(S.default,L({},e,{backdrop:!0,ref:e.setPopoutRef,forceTheme:A.ThemeTypes.LIGHT,onOpen:function(){return f.default.trigger(e.redesignedTTExperimentDescriptor)}}),e.children)},a[A.ExperimentBuckets.TREATMENT_2]=function(e){return l.createElement(T.default,L({},e,{ref:e.setPopoutRef,forceTheme:A.ThemeTypes.LIGHT,onComplete:e.handleDismiss,onSkipAll:e.handleSkipTips,onOpen:function(){return f.default.trigger(e.redesignedTTExperimentDescriptor)}}),e.children)},a),o),function(){return!1}),w=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={offsetX:null,offsetY:null},n.handlePopoutClose=function(e){e&&n.handleDismiss()},n.handleDismiss=function(){p.default.dismiss(n.props.tutorialId)},u.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handlePopoutRef","handleSkipTips","renderTutorialPopout"]),n}R(t,e);var n=t.prototype;return n.componentDidMount=function(){this.updateCache()},n.componentDidUpdate=function(e){var t=e.tutorialId,n=e.x,r=e.y,a=e.targetWidth,o=e.targetHeight,i=e.position,l=e.offset,s=e.offsetPercent;this.props.tutorialId===t&&this.props.x===n&&this.props.y===r&&this.props.targetWidth===a&&this.props.targetHeight===o&&this.props.position===i&&this.props.offset.x===l.x&&this.props.offset.y===l.y&&this.props.offsetPercent.x===s.x&&this.props.offsetPercent.y===s.y||this.updateCache()},n.updateCache=function(){var e=(0,d.findDOMNode)(this);if(e&&e instanceof HTMLElement){var t=e.offsetWidth,n=e.offsetHeight,r={offsetX:(this.props.targetWidth-t)/2,offsetY:(this.props.targetHeight-n)/2};switch(this.props.position){case"left":r.offsetX=0,r.offsetY=this.props.targetHeight/2;break;case"right":r.offsetX=this.props.targetWidth,r.offsetY=this.props.targetHeight/2;break;case"bottom":r.offsetX=this.props.targetWidth/2,r.offsetY=this.props.targetHeight;break;case"top":default:r.offsetX=this.props.targetWidth/2,r.offsetY=0}var a=this.props.offset.x?this.props.offset.x:0,o=this.props.offset.y?this.props.offset.y:0,i=this.props.offsetPercent.x?this.props.offsetPercent.x:0,l=this.props.offsetPercent.y?this.props.offsetPercent.y:0;r.offsetX+=a+i/100*this.props.targetWidth,r.offsetY+=o+l/100*this.props.targetHeight,this.setState(r)}},n.handlePopoutRef=function(e){var t=this;this._popout=e,null!=e&&this.props.autoOpen&&r(function(){t._popout&&t._popout.open()})},n.handleSkipTips=function(){p.default.suppressAll()},n.getTutorialPopoutText=function(){var e=this.props,t=e.tutorialLogicExperimentDescriptor,n=e.redesignedTTExperimentDescriptor,r=e.tutorialId,a=null,o=null;return(null==t||t.bucket<1)&&null!=n?(a=n.name,o=n.bucket):null!=t&&(a=t.name,o=t.bucket),(0,N.getTutorialPopoutText)(r,a,o)},n.renderTutorialPopout=function(e){var t=this.getTutorialPopoutText(),n=t.title,r=t.body;return l.createElement(O.default,L({},e,{tutorialId:this.props.tutorialId,onSkipAll:this.handleSkipTips,onClose:this.handlePopoutClose,title:n,body:r}))},n.render=function(){var e,t,n,r=this.props,a=r.tutorialLogicExperimentDescriptor,o=r.tutorialId,i={};if(!(o in(i=null!=a&&a.bucket===A.ExperimentBuckets.TREATMENT_1?C.tutorialPopoutAttributesV2:C.tutorialPopoutAttributesV1)))return null;var u=i[o],d=u.background,c=u.media,f=u.textAlign,p=u.isLongText,h=u.arrowAlignment,v=u.highPriority,m=u.popoutPosition,y={left:null===this.state.offsetX?null:this.props.x+this.state.offsetX,top:null===this.state.offsetY?null:this.props.y+this.state.offsetY},_=this.props.visible,g=!0!==v?null:b("div",{},void 0,b("div",{className:(0,s.default)(M.default.top,(e={},e[M.default.animating]=_,e[M.default.notAnimating]=!_,e))}),b("div",{className:(0,s.default)(M.default.bottom,(t={},t[M.default.animating]=_,t[M.default.notAnimating]=!_,t))})),E=((n={})[M.default.animating]=_,n[M.default.notAnimating]=!_,n[M.default.highPriority]=v,n),S=this.getTutorialPopoutText();return l.createElement(D,L({render:this.renderTutorialPopout,position:m,background:d,renderMedia:c,textAlign:f,isLongText:p,arrowAlignment:h,uniqueId:o,showArrow:!0,handleSkipTips:this.handleSkipTips,handlePopoutClose:this.handlePopoutClose,handleDismiss:this.handleDismiss,redesignedTTExperimentDescriptor:this.props.redesignedTTExperimentDescriptor,setPopoutRef:this.handlePopoutRef},S),b("div",{className:M.default.indicator,style:y},void 0,b("div",{className:(0,s.default)(M.default.animationContainer,E)},void 0,g,b("div",{className:(0,s.default)(M.default.innerCircle,E)}),b("div",{className:(0,s.default)(M.default.outerCircle,E)}))))},t}(l.PureComponent);w.displayName="TutorialIndicator";var U=c.default.connectStores([y.default,v.default,_.default,m.default,E.default,h.default],function(){return{indicators:y.default.getIndicators(),tutorialData:y.default.getData(),shouldShowAny:y.default.shouldShowAnyIndicators()&&!v.default.hasLayers()&&!h.default.isGuest(),isFocused:_.default.isFocused(),tutorialLogicExperimentDescriptor:E.default.getExperimentDescriptor(),redesignedTTExperimentDescriptor:g.default.getExperimentDescriptor()}})(function(e){function t(){return e.apply(this,arguments)||this}return R(t,e),t.prototype.render=function(){var e=this.props,t=e.indicators,n=e.shouldShowAny,r=e.isFocused,a=e.tutorialData,o=e.tutorialLogicExperimentDescriptor,i=e.redesignedTTExperimentDescriptor;return n?u.default.map(t,function(e,t){var n=a[t];return null==n?null:l.createElement(w,L({key:t,tutorialId:t,tutorialDefinition:n,visible:r&&!m.default.isOpen(t),tutorialLogicExperimentDescriptor:o,redesignedTTExperimentDescriptor:i},e))}):null},t}(l.Component));t.default=U,e.exports=t.default}).call(this,n(29).setImmediate)},8163:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=d(n(3)),i=d(n(1)),l=d(n(131)),s=d(n(57)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return!0}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([s.default],c)},a.getExperimentId=function(){return u.Experiments.TUTORIAL_UI},a.getMetaData=function(){return{title:"Redesigned Tutorial Tip Experiment",description:["Control: Old Tutorial Tip Popouts","Treatment 1: Old Tutorial Tip Popouts with New Copy","Treatment 2: Redesigned Tutorial Tip Popouts (LIGHT) with New Copy"]}},a.getExperimentDescriptor=function(){return s.default.getOverrideExperimentDescriptor(this.getExperimentId())||s.default.getEligibleExperiment(this.getExperimentId())},r}(o.default.Store))(i.default);l.default.register(f,((a={})[u.ExperimentTypes.NONE]=function(){return null},a[u.ExperimentTypes.USER]=((r={})[u.ExperimentBuckets.NOT_ELIGIBLE]=function(){return null},r[u.ExperimentBuckets.CONTROL]=function(){return null},r[u.ExperimentBuckets.TREATMENT_1]=function(){return null},r[u.ExperimentBuckets.TREATMENT_2]=function(){return null},r),a));var p=f;t.default=p,e.exports=t.default},8164:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(825)),i=c(n(219)),l=c(n(18)),s=n(0),u=c(n(13)),d=c(n(5912));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={confirmed:!1},t.skipTheTips=function(){l.default.track(s.AnalyticEvents.DISMISS_ALL_TUTORIALS,{tutorial:t.props.tutorialId}),null!=t.props.onSkipAll&&t.props.onSkipAll(),o.default.close(t.props.popoutKey)},t.close=function(){t.setState({confirmed:!0},function(){return o.default.close(t.props.popoutKey)})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){l.default.track(s.AnalyticEvents.SHOW_TUTORIAL,{tutorial:this.props.tutorialId})},a.componentWillUnmount=function(){l.default.track(s.AnalyticEvents.CLOSE_TUTORIAL,{tutorial:this.props.tutorialId,acknowledged:this.state.confirmed}),null!=this.props.onClose&&this.props.onClose(this.state.confirmed)},a.render=function(){var e=this.props,t=e.title,n=e.body,r="string"==typeof n?f("p",{},void 0,n):n;return f("div",{className:d.default.tutorialPopout},void 0,f("header",{className:d.default.titleContent},void 0,f("div",{},void 0,t)),f("section",{},void 0,f("span",{className:d.default.content},void 0,r),f("div",{className:d.default.buttonArea},void 0,f("div",{className:d.default.skipTips},void 0,u.default.Messages.TUTORIAL_SKIP.format({onSkipClick:this.skipTheTips})),f(i.default,{className:d.default.button,onClick:this.close},void 0,u.default.Messages.TUTORIAL_CLOSE))))},r}(a.PureComponent);p.displayName="TutorialPopout",p.defaultProps={tutorialId:null,onClose:null,onSkipAll:null};var h=p;t.default=h,e.exports=t.default},8165:function(e,t,n){"use strict";t.__esModule=!0,t.tutorialPopoutAttributesV2=t.tutorialPopoutAttributesV1=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(7267)),o=u(n(8166)),i=u(n(8167)),l=u(n(8168)),s=u(n(8169));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d(l.default,{}),f=d(s.default,{}),p=d(o.default,{}),h=Object.freeze({"voice-conversations":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.WAVES,media:function(){return c}},"writing-messages":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.SHAPES,media:function(){return f}},"direct-messages":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-first-server":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"organize-by-topic":{popoutPosition:"right",background:a.default.Backgrounds.WAVES,media:function(){return p}},"instant-invite":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"whos-online":{popoutPosition:"left",background:a.default.Backgrounds.WAVES},"server-settings":{popoutPosition:"bottom",background:a.default.Backgrounds.SHAPES},"friends-list":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-more-servers":{popoutPosition:"right",background:a.default.Backgrounds.SHAPES}});t.tutorialPopoutAttributesV1=h;var v=d(s.default,{}),m=d(i.default,{}),y=d(l.default,{}),_=d(o.default,{}),g=Object.freeze({"direct-messages":{popoutPosition:"bottom",background:a.default.Backgrounds.WAVES},"writing-messages":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.SHAPES,media:function(){return v}},"voice-channels":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.WAVES,media:function(){return m}},"voice-conversations":{popoutPosition:"top",highPriority:!0,background:a.default.Backgrounds.SHAPES,media:function(){return y}},"organize-by-channel":{popoutPosition:"right",background:a.default.Backgrounds.WAVES,media:function(){return _}},"instant-invite":{popoutPosition:"right",highPriority:!0,background:a.default.Backgrounds.SHAPES},"whos-online":{popoutPosition:"left",background:a.default.Backgrounds.WAVES},"server-settings":{popoutPosition:"bottom",background:a.default.Backgrounds.SHAPES},"friends-list":{popoutPosition:"right",background:a.default.Backgrounds.WAVES},"create-first-server":{popoutPosition:"right",background:a.default.Backgrounds.SHAPES}});t.tutorialPopoutAttributesV2=g},8166:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));function a(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var o=a("svg",{width:"136px",height:"94px",viewBox:"0 0 136 94",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},void 0,a("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},void 0,a("g",{},void 0,a("path",{d:"M22.6507711,19.9383039 L52,9 L52,79.5700344 L23.3283853,89.5381662 C22.8067282,89.7195284 22.2368184,89.4436649 22.0554562,88.9220077 C22.0187453,88.8164152 22,88.7054144 22,88.5936224 L22,20.8753413 C22,20.4577565 22.2594785,20.0841366 22.6507711,19.9383039 Z",fill:"#ACB0FF",fillRule:"nonzero"}),a("path",{d:"M82,20.9781002 L110.615994,9.07693055 C111.125935,8.86484988 111.71125,9.10631372 111.923331,9.61625512 C111.973944,9.73795364 112,9.86845729 112,10.0002611 L112,78.3708885 C112,78.7914204 111.736901,79.1670193 111.341678,79.3107057 L82,89.9781002 L82,20.9781002 Z",fill:"#ACB0FF",fillRule:"nonzero"}),a("polygon",{fill:"#989CEA",fillRule:"nonzero",points:"52 9 82 21 82 89.7563 52 79.6829034"}),a("circle",{fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"20"}),a("circle",{stroke:"#ACB0FF",strokeWidth:"1.5",fill:"#18191C",fillRule:"nonzero",cx:"116",cy:"74",r:"16.4347826"}),a("path",{d:"M120.640409,74 L120.695652,74 L116.886449,80.3862384 C116.603533,80.8605556 115.989673,81.0157168 115.515356,80.7328005 C115.372877,80.6478156 115.253779,80.528718 115.168794,80.3862384 L111.359591,74 L111.304348,74 L115.113551,67.6137616 C115.396467,67.1394444 116.010327,66.9842832 116.484644,67.2671995 C116.627123,67.3521844 116.746221,67.471282 116.831206,67.6137616 L120.640409,74 Z",stroke:"#202225",fill:"#FFFFFF",fillRule:"nonzero"}),a("path",{d:"M0.8561,25.4295 C0.8561,23.2207 2.6465,21.4295 4.8561,21.4295 C7.0657,21.4295 8.8561,23.2207 8.8561,25.4295 C8.8561,27.6383 7.0657,29.4295 4.8561,29.4295 C2.6465,29.4295 0.8561,27.6383 0.8561,25.4295",fill:"#ACB0FF"}),a("path",{d:"M36.6003,3.7337 C36.6003,3.1817 36.1533,2.7337 35.6003,2.7337 C34.7663,2.7337 34.0903,2.0577 34.0903,1.2237 C34.0903,0.6717 33.6423,0.2237 33.0903,0.2237 C32.5383,0.2237 32.0903,0.6717 32.0903,1.2237 C32.0903,2.0577 31.4133,2.7337 30.5803,2.7337 C30.0283,2.7337 29.5803,3.1817 29.5803,3.7337 C29.5803,4.2857 30.0283,4.7337 30.5803,4.7337 C31.4133,4.7337 32.0903,5.4097 32.0903,6.2437 C32.0903,6.7967 32.5383,7.2437 33.0903,7.2437 C33.6423,7.2437 34.0903,6.7967 34.0903,6.2437 C34.0903,5.4097 34.7663,4.7337 35.6003,4.7337 C36.1533,4.7337 36.6003,4.2857 36.6003,3.7337",fill:"#D3D6ED"}),a("path",{d:"M131.51,41 C131.51,40.448 131.063,40 130.51,40 C129.957,40 129.51,40.448 129.51,41 C129.51,41.834 128.834,42.51 128,42.51 C127.448,42.51 127,42.958 127,43.51 C127,44.062 127.448,44.51 128,44.51 C128.834,44.51 129.51,45.186 129.51,46.02 C129.51,46.572 129.957,47.02 130.51,47.02 C131.063,47.02 131.51,46.572 131.51,46.02 C131.51,45.186 132.186,44.51 133.02,44.51 C133.573,44.51 134.02,44.062 134.02,43.51 C134.02,42.958 133.573,42.51 133.02,42.51 C132.186,42.51 131.51,41.834 131.51,41 Z",fill:"#ACB0FF"}),a("path",{d:"M11.1491,77.0452 C10.7581,76.6542 10.1261,76.6542 9.7351,77.0452 L8.5511,78.2282 C8.1611,78.6182 8.1611,79.2512 8.5511,79.6422 C8.7471,79.8372 9.0031,79.9352 9.2581,79.9352 C9.5141,79.9352 9.7701,79.8372 9.9651,79.6422 L11.1491,78.4592 C11.5401,78.0682 11.5401,77.4362 11.1491,77.0452",fill:"#FFFFFF"}),a("path",{d:"M3.819,82.9612 L2.635,84.1452 C2.245,84.5352 2.245,85.1682 2.635,85.5592 C2.831,85.7542 3.087,85.8522 3.342,85.8522 C3.598,85.8522 3.855,85.7542 4.049,85.5592 L5.233,84.3752 C5.624,83.9842 5.624,83.3522 5.233,82.9612 C4.842,82.5702 4.209,82.5702 3.819,82.9612",fill:"#FFFFFF"}),a("path",{d:"M9.9655,82.9612 C9.5745,82.5702 8.9425,82.5702 8.5515,82.9612 C8.1605,83.3522 8.1605,83.9842 8.5515,84.3752 L9.7355,85.5592 C9.9305,85.7542 10.1865,85.8522 10.4425,85.8522 C10.6975,85.8522 10.9535,85.7542 11.1495,85.5592 C11.5395,85.1682 11.5395,84.5352 11.1495,84.1452 L9.9655,82.9612 Z",fill:"#FFFFFF"}),a("path",{d:"M5.2331,78.2279 L4.0491,77.0449 C3.6591,76.6549 3.0251,76.6549 2.6351,77.0449 C2.2451,77.4359 2.2451,78.0689 2.6351,78.4589 L3.8191,79.6419 C4.0141,79.8369 4.2701,79.9349 4.5261,79.9349 C4.7821,79.9349 5.0381,79.8369 5.2331,79.6419 C5.6241,79.2509 5.6241,78.6189 5.2331,78.2279",fill:"#FFFFFF"}))));t.default=function(){return o},e.exports=t.default},8167:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));function a(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var o=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"211",height:"80",viewBox:"0 0 148 56"},void 0,a("g",{fill:"none",fillRule:"evenodd"},void 0,a("path",{fill:"#ACB0FF",d:"M4.51,26 C4.51,25.448 4.063,25 3.51,25 C2.957,25 2.51,25.448 2.51,26 C2.51,26.834 1.834,27.51 1,27.51 C0.448,27.51 0,27.958 0,28.51 C0,29.062 0.448,29.51 1,29.51 C1.834,29.51 2.51,30.186 2.51,31.02 C2.51,31.572 2.957,32.02 3.51,32.02 C4.063,32.02 4.51,31.572 4.51,31.02 C4.51,30.186 5.186,29.51 6.02,29.51 C6.573,29.51 7.02,29.062 7.02,28.51 C7.02,27.958 6.573,27.51 6.02,27.51 C5.186,27.51 4.51,26.834 4.51,26 Z"}),a("path",{fill:"#D3D6ED",d:"M148.02,36.51 C148.02,35.958 147.573,35.51 147.02,35.51 C146.186,35.51 145.51,34.834 145.51,34 C145.51,33.448 145.062,33 144.51,33 C143.958,33 143.51,33.448 143.51,34 C143.51,34.834 142.833,35.51 142,35.51 C141.448,35.51 141,35.958 141,36.51 C141,37.062 141.448,37.51 142,37.51 C142.833,37.51 143.51,38.186 143.51,39.02 C143.51,39.573 143.958,40.02 144.51,40.02 C145.062,40.02 145.51,39.573 145.51,39.02 C145.51,38.186 146.186,37.51 147.02,37.51 C147.573,37.51 148.02,37.062 148.02,36.51"}),a("path",{fill:"#FFF",d:"M127.7351 16.0452L126.5511 17.2282C126.1611 17.6182 126.1611 18.2512 126.5511 18.6422 126.7471 18.8372 127.0031 18.9352 127.2581 18.9352 127.5141 18.9352 127.7701 18.8372 127.9651 18.6422L129.1491 17.4592C129.5401 17.0682 129.5401 16.4362 129.1491 16.0452 128.7581 15.6542 128.1261 15.6542 127.7351 16.0452zM120.635 23.1452C120.245 23.5352 120.245 24.1682 120.635 24.5592 120.831 24.7542 121.087 24.8522 121.342 24.8522 121.598 24.8522 121.855 24.7542 122.049 24.5592L123.233 23.3752C123.624 22.9842 123.624 22.3522 123.233 21.9612 122.842 21.5702 122.209 21.5702 121.819 21.9612L120.635 23.1452zM127.9655 21.9612C127.5745 21.5702 126.9425 21.5702 126.5515 21.9612 126.1605 22.3522 126.1605 22.9842 126.5515 23.3752L127.7355 24.5592C127.9305 24.7542 128.1865 24.8522 128.4425 24.8522 128.6975 24.8522 128.9535 24.7542 129.1495 24.5592 129.5395 24.1682 129.5395 23.5352 129.1495 23.1452L127.9655 21.9612zM122.0491 16.0449C121.6591 15.6549 121.0251 15.6549 120.6351 16.0449 120.2451 16.4359 120.2451 17.0689 120.6351 17.4589L121.8191 18.6419C122.0141 18.8369 122.2701 18.9349 122.5261 18.9349 122.7821 18.9349 123.0381 18.8369 123.2331 18.6419 123.6241 18.2509 123.6241 17.6189 123.2331 17.2279L122.0491 16.0449z"}),a("circle",{cx:"114.5",cy:"42.5",r:"2.5",stroke:"#7289DA",strokeWidth:"1.5"}),a("polygon",{fill:"#FFF",points:"24 38 20 46 28 46"}),a("circle",{cx:"32.5",cy:"18.5",r:"3.5",fill:"#7289DA",fillRule:"nonzero"}),a("circle",{cx:"74",cy:"28",r:"28",fill:"#7289DA",fillRule:"nonzero"}),a("path",{fill:"#FFF",fillRule:"evenodd",d:"M77.6666667,11.5 L77.6666667,15.2766667 C82.965,16.8533333 86.8333333,21.7666667 86.8333333,27.5783333 C86.8333333,33.39 82.965,38.285 77.6666667,39.8616667 L77.6666667,43.6566667 C85,41.9883333 90.5,35.425 90.5,27.5783333 C90.5,19.7316667 85,13.1683333 77.6666667,11.5 L77.6666667,11.5 Z M82.25,27.5783333 C82.25,24.3333333 80.4166667,21.5466667 77.6666667,20.19 L77.6666667,34.9116667 C80.4166667,33.61 82.25,30.805 82.25,27.5783333 L82.25,27.5783333 Z M57.5,22.0783333 L57.5,33.0783333 L64.8333333,33.0783333 L74,42.245 L74,12.9116667 L64.8333333,22.0783333 L57.5,22.0783333 L57.5,22.0783333 Z"})));t.default=function(){return o},e.exports=t.default},8168:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=u(n(3)),o=u(n(14)),i=n(5992),l=n(79),s=u(n(5913));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var c=d("svg",{xmlns:"http://www.w3.org/2000/svg",width:"177",height:"83",viewBox:"0 0 177 83"},void 0,d("g",{fill:"none",fillRule:"evenodd"},void 0,d("path",{fill:"#F6F6F7",d:"M176.723653 37.2763685C176.355191 36.9078772 175.75962 36.9078772 175.391158 37.2763685L174.276347 38.3912668C173.907884 38.7588157 173.907884 39.3553758 174.276347 39.7238671 174.460107 39.9076416 174.701351 40 174.942595 40 175.183839 40 175.425082 39.9076416 175.608842 39.7238671L176.723653 38.6089688C177.092116 38.2404775 177.092116 37.6448598 176.723653 37.2763685M169.391158 43.2762817L168.276347 44.391772C167.907884 44.7592055 167.907884 45.3555782 168.276347 45.7239538 168.460107 45.9076706 168.701351 46 168.942595 46 169.183839 46 169.425082 45.9076706 169.608842 45.7239538L170.723653 44.6084635C171.092116 44.2400879 171.092116 43.6446573 170.723653 43.2762817 170.355191 42.9079061 169.758678 42.9079061 169.391158 43.2762817M175.608842 43.2762817C175.24038 42.9079061 174.644809 42.9079061 174.276347 43.2762817 173.907884 43.6446573 173.907884 44.2400879 174.276347 44.6084635L175.391158 45.7239538C175.574918 45.9076706 175.816161 46 176.057405 46 176.298649 46 176.539893 45.9076706 176.723653 45.7239538 177.092116 45.3555782 177.092116 44.7592055 176.723653 44.391772L175.608842 43.2762817zM170.723653 38.3908877L169.608842 37.2757266C169.24038 36.9080911 168.642924 36.9080911 168.276347 37.2757266 167.907884 37.6443048 167.907884 38.2410055 168.276347 38.608641L169.391158 39.723802C169.574918 39.9076198 169.816161 40 170.057405 40 170.298649 40 170.539893 39.9076198 170.723653 39.723802 171.092116 39.3552239 171.092116 38.7594658 170.723653 38.3908877"}),d("path",{fill:"#ACB0FF",d:"M8.72365321 17.2763685C8.35519083 16.9078772 7.75961992 16.9078772 7.39115753 17.2763685L6.27634679 18.3912668C5.9078844 18.7588157 5.9078844 19.3553758 6.27634679 19.7238671 6.4601068 19.9076416 6.70135071 20 6.94259463 20 7.18383854 20 7.42508246 19.9076416 7.60884247 19.7238671L8.72365321 18.6089688C9.0921156 18.2404775 9.0921156 17.6448598 8.72365321 17.2763685M1.39115753 23.2762817L.276346788 24.391772C-.092115596 24.7592055-.092115596 25.3555782.276346788 25.7239538.460106801 25.9076706.701350715 26 .942594629 26 1.18383854 26 1.42508246 25.9076706 1.60884247 25.7239538L2.72365321 24.6084635C3.0921156 24.2400879 3.0921156 23.6446573 2.72365321 23.2762817 2.35519083 22.9079061 1.75867756 22.9079061 1.39115753 23.2762817M7.60884247 23.2762817C7.24038008 22.9079061 6.64480917 22.9079061 6.27634679 23.2762817 5.9078844 23.6446573 5.9078844 24.2400879 6.27634679 24.6084635L7.39115753 25.7239538C7.57491754 25.9076706 7.81616146 26 8.05740537 26 8.29864929 26 8.5398932 25.9076706 8.72365321 25.7239538 9.0921156 25.3555782 9.0921156 24.7592055 8.72365321 24.391772L7.60884247 23.2762817zM2.72365321 18.3908877L1.60884247 17.2757266C1.24038008 16.9080911.642924454 16.9080911.276346788 17.2757266-.092115596 17.6443048-.092115596 18.2410055.276346788 18.608641L1.39115753 19.723802C1.57491754 19.9076198 1.81616146 20 2.05740537 20 2.29864929 20 2.5398932 19.9076198 2.72365321 19.723802 3.0921156 19.3552239 3.0921156 18.7594658 2.72365321 18.3908877"}),d("path",{fill:"#D3D6ED",d:"M63.502849,0.997150997 C63.502849,1.82877493 62.8287749,2.502849 61.997151,2.502849 C61.4467236,2.502849 61,2.9485755 61,3.5 C61,4.05042735 61.4467236,4.497151 61.997151,4.497151 C62.8287749,4.497151 63.502849,5.17122507 63.502849,6.002849 C63.502849,6.55327635 63.9495726,7 64.5,7 C65.0504274,7 65.497151,6.55327635 65.497151,6.002849 C65.497151,5.17122507 66.1712251,4.497151 67.002849,4.497151 C67.5532764,4.497151 68,4.05042735 68,3.5 C68,2.9485755 67.5532764,2.502849 67.002849,2.502849 C66.1712251,2.502849 65.497151,1.82877493 65.497151,0.997150997 C65.497151,0.445726496 65.0504274,0 64.5,0 C63.9495726,0 63.502849,0.445726496 63.502849,0.997150997"}),d("g",{transform:"translate(81 43)"},void 0,d("mask",{id:"tooltip-voice-panel-b",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-a",cx:"20",cy:"20",r:"20"})),d("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"20",cy:"20",r:"20"}),d("g",{mask:"url(#tooltip-voice-panel-b)"},void 0,d("g",{transform:"translate(-9 5)"},void 0,d("path",{fill:"#D8B39A",d:"M36.1044358,15.896 C37.5763769,17.368 40.071637,17.368 41.5442185,15.896 L45.8960441,11.544 C47.3679853,10.072 47.3679853,7.57599999 45.8960441,6.104 C44.424103,4.632 41.928203,4.632 40.4562619,6.104 L36.1044358,10.456 C34.6318547,11.928 34.6318547,14.36 36.1044358,15.896"}),d("path",{fill:"#F4D8C6",d:"M37.4090998,13.5909091 C37.9539601,14.1363636 38.9242842,14.1363636 39.4691445,13.5909091 L43.5904457,9.46969696 C44.1365181,8.92424243 44.1365181,7.95454546 43.5904457,7.40909089 C43.0455854,6.86363637 42.0752613,6.86363637 41.530401,7.40909089 L37.4090998,11.530303 C36.8636334,12.0757576 36.8636334,13.0454546 37.4090998,13.5909091"}),d("path",{fill:"#D8B39A",d:"M21.8530678,15.896 C20.3869324,17.368 17.9008764,17.368 16.434741,15.896 L12.1000796,11.544 C10.6333068,10.072 10.6333068,7.57599999 12.1000796,6.104 C13.5662151,4.632 16.0516336,4.632 17.5184064,6.104 L21.8530678,10.456 C23.3823107,11.928 23.3823107,14.36 21.8530678,15.896"}),d("path",{fill:"#F4D8C6",d:"M19.5913636,13.5909091 C19.045909,14.1363636 18.0762122,14.1363636 17.5307577,13.5909091 L13.4095454,9.46969696 C12.8634849,8.92424243 12.8634849,7.95454546 13.4095454,7.40909089 C13.955,6.86363637 14.9246968,6.86363637 15.4701514,7.40909089 L19.5913636,11.530303 C20.1362121,12.0757576 20.1362121,13.0454546 19.5913636,13.5909091"}),d("path",{fill:"#D8B39A",d:"M48.5371708,20.2892322 C47.65102,11.9234177 41.3897756,5.31932388 33.3568625,3.68465342 C34.115878,2.99279598 34.7483908,2.11225014 35.1278984,1.23107533 C35.4441548,0.41405459 34.3682503,-0.341327953 33.6731189,0.162470058 C32.7243497,0.791431376 31.8381993,1.54555599 30.8894297,2.11225013 L30.5105546,2.30093853 C30.7003086,1.98645788 30.8894297,1.67197722 31.0798162,1.42039269 C31.3960726,0.854327488 30.5731734,0.162470032 30.131047,0.665639087 C29.0557751,1.92356171 27.7907496,2.67831529 26.46184,3.37017273 C17.1012825,3.68465339 9.38399329,10.7919163 8.30935384,20.0376476 L0.0866870745,91.2360686 C-0.672328476,97.650845 3.62875889,103.625978 10.0165061,105.009692 L10.9652752,105.198381 C22.6041443,107.651959 34.5586368,107.589063 46.1336218,105.073217 C52.3322478,103.689503 56.5700836,97.9030586 55.9375709,91.5505492 L48.5371708,20.2892322 Z"}),d("path",{fill:"#4F5256",fillRule:"nonzero",d:"M39.7115026,12 C40.9752615,12 42,13.0074764 42,14.2499473 C42,15.4924181 40.9752615,16.4998945 39.7115026,16.4998945 C38.4477436,16.4998945 37.4223695,15.4924181 37.4223695,14.2499473 C37.4223695,13.0074764 38.4477436,12 39.7115026,12 M18.2884974,12 C19.5522564,12 20.5769945,13.0074764 20.5769945,14.2499473 C20.5769945,15.4924181 19.5522564,16.4998945 18.2884974,16.4998945 C17.0247381,16.4998945 16,15.4924181 16,14.2499473 C16,13.0074764 17.0247381,12 18.2884974,12 M25.4083941,20 C24.9634083,20 24.6455615,19.6875073 24.6455615,19.2500176 C24.6455615,18.8125279 24.9634083,18.5000351 25.4083941,18.5000351 C27.8240301,18.5000351 28.2048105,15.9375952 28.2048105,15.8750967 C28.2690159,15.4376069 28.650432,15.1876128 29.0318481,15.2501113 C29.4761982,15.3126099 29.7311114,15.6876011 29.6675417,16.0625923 C29.5404032,17.4375601 28.3961545,20 25.4083941,20"}),d("path",{fill:"#4F5256",d:"M32.3049914,20 C29.3354086,20 28.1981215,17.3071689 28.0079418,15.862235 C27.945391,15.4024834 28.2613041,15.0084105 28.6397678,15.0084105 C29.0820463,14.9427318 29.4617737,15.2711258 29.4617737,15.6651987 C29.5249562,15.9279139 29.9034204,18.4237086 32.2411771,18.4237086 C32.684087,18.4237086 33,18.7521027 33,19.2118543 C33,19.671606 32.7466377,20 32.3049914,20"}),d("path",{fill:"#F4D8C6",d:"M13.37646,39.9181074 L7.06217175,91.8413751 C6.49951238,96.7954065 9.81295095,101.436519 14.689332,102.43924 L15.4395442,102.627368 C24.3170584,104.508646 33.5071615,104.445936 42.3840506,102.501949 C47.1985392,101.436519 50.4494597,96.920825 49.949318,92.0301299 L44.2595816,40.1062354 C43.5725121,32.6438334 37.3207415,27 29.8186169,27 L27.8180503,27 C20.4409609,27 14.2510827,32.5811242 13.37646,39.9181074"}),d("path",{fill:"#4F5256",d:"M27.5485698,14 C27.0827688,14 26.8155495,14.516129 27.1487406,14.9032258 C27.6158747,15.483871 28.2822568,16 29.0146107,16 C29.7482977,16 30.4146799,15.483871 30.8804808,14.9032258 C31.1470338,14.5806452 30.9477857,14 30.4806516,14 L27.5485698,14 Z"})))),d("g",{transform:"translate(114 16)"},void 0,d("mask",{id:"tooltip-voice-panel-d",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-c",cx:"12",cy:"12",r:"12"})),d("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"12",cy:"12",r:"12"}),d("g",{mask:"url(#tooltip-voice-panel-d)"},void 0,d("g",{transform:"translate(2)"},void 0,d("path",{fill:"#A38069",d:"M2.719586,9.57393518 C2.50247994,9.57393518 2.32879504,9.74759964 2.32879504,9.96468008 L2.32879504,41.5286221 C2.32879504,41.7457026 2.50247994,41.9189328 2.719586,41.9189328 C2.93669206,41.9189328 3.11037696,41.7457026 3.11037696,41.5286221 L3.11037696,9.96468008 C3.11037696,9.74759964 2.93669206,9.57393518 2.719586,9.57393518"}),d("path",{fill:"#FF966C",d:"M2.3881669,11.1338325 L0.694739334,9.44060439 C0.434212116,9.18010796 -7.08988424e-13,9.35377216 -7.08988424e-13,9.70110108 L-7.08988424e-13,10.6562553 C-7.08988424e-13,10.7430876 -7.08988424e-13,10.7865038 0.0434211599,10.8299198 L0.781581913,12.1758189 L-7.01634164e-13,11.5679936 L-7.01634164e-13,12.3494834 C-7.01634164e-13,12.5665641 0.0868423197,12.7402283 0.217106058,12.9138927 L2.34474574,15.041282 L2.34474574,11.1338325 L2.3881669,11.1338325 Z"}),d("path",{fill:"#D8B39A",d:"M0.910073179,44.5285653 L7.2495708,44.5285653 C7.5969406,44.5285653 7.90088897,44.2250868 7.90088897,43.8773237 L7.90088897,15.9177869 C7.90088897,15.5700238 7.5969406,15.2665453 7.2495708,15.2665453 L0.910073179,15.2665453 C0.562703383,15.2665453 0.258755005,15.5700238 0.258755005,15.9177869 L0.258755005,43.8773237 C0.258755005,44.2250868 0.562703383,44.5285653 0.910073179,44.5285653"}),d("polyline",{fill:"#A38069",points:".259 23.451 7.901 23.451 7.901 18.372 .259 18.372"}),d("polyline",{fill:"#937260",points:".259 21.701 7.901 21.701 7.901 20.442 .259 20.442"}),d("path",{fill:"#8FD171",d:"M2.32879504,42.4918014 L20.565706,42.4918014 L19.5235969,25.2985899 C19.3933331,22.9979707 17.4827995,21.2179104 15.1814752,21.2179104 L6.88802278,21.2179104 C5.06433174,21.2179104 3.54458907,22.6506418 3.41432533,24.4741181 L2.32879504,42.4918014 Z"}),d("path",{fill:"#E5D5C7",d:"M11.6129601,23.7344273 C12.611648,23.7344273 13.3498088,22.9529375 13.3498088,21.9977832 L13.3498088,16.7444346 C13.3498088,15.7892803 12.5682269,15.0077903 11.6129601,15.0077903 L11.5695389,15.0077903 C10.6142721,15.0077903 9.83269019,15.7892803 9.83269019,16.7444346 L9.83269019,21.9977832 C9.91953251,22.9529375 10.7011144,23.7344273 11.6129601,23.7344273"}),d("path",{fill:"#F9E2CF",d:"M11.6900548,19.6952366 L12.4716367,19.6952366 C16.2058614,19.6952366 19.2453465,16.6561094 19.2453465,12.9223244 L19.2453465,5.36792234 C19.2453465,3.67469427 17.8992887,2.32879504 16.2058614,2.32879504 L7.95583016,2.32879504 C6.30582402,2.32879504 4.91634509,3.67469427 4.91634509,5.36792234 L4.91634509,12.9223244 C4.91634509,16.6561094 7.95583016,19.6952366 11.6900548,19.6952366"}),d("path",{fill:"#4F5256",d:"M17.4287445,9.83269019 C17.9081148,9.83269019 18.297169,10.2212644 18.297169,10.7010122 C18.297169,11.1803261 17.9081148,11.5693345 17.4287445,11.5693345 C16.9493745,11.5693345 16.5603203,11.1803261 16.5603203,10.7010122 C16.5603203,10.2212644 16.9493745,9.83269019 17.4287445,9.83269019"}),d("path",{fill:"#FFC44D",d:"M7.44718174,1.77635684e-15 L19.3011739,1.77635684e-15 C20.9946012,1.77635684e-15 22.3840801,1.38931534 22.3840801,3.08254341 C22.3840801,4.77577147 20.9946012,6.16508681 19.3011739,6.16508681 L8.61955461,6.16508681 C7.40376058,6.16508681 6.44849377,7.12024106 6.44849377,8.335892 L6.44849377,14.978556 C6.44849377,15.7600458 5.92743907,16.4981196 5.14585716,16.6717841 C4.06032687,16.8888645 3.10506006,16.0639585 3.10506006,15.021972 L3.10506006,4.34161043 C3.10506006,1.9537247 5.05901484,1.77635684e-15 7.44718174,1.77635684e-15"}),d("path",{fill:"#4F5256",d:"M10.9598697,9.83269019 C11.4392397,9.83269019 11.8282939,10.2212644 11.8282939,10.7010122 C11.8282939,11.1803261 11.4392397,11.5693345 10.9598697,11.5693345 C10.4804994,11.5693345 10.0914452,11.1803261 10.0914452,10.7010122 C10.0914452,10.2212644 10.4804994,9.83269019 10.9598697,9.83269019"}),d("path",{fill:"#F9E2CF",d:"M6.31950461,9.83269019 L5.7116076,9.83269019 C4.79976194,9.83269019 3.97475887,10.4839318 3.88791629,11.39567 C3.80107397,12.4376565 4.58265589,13.3059785 5.62476502,13.3059785 L6.31950461,13.3059785 C6.58003183,13.3059785 6.75371673,13.1323141 6.75371673,12.8718177 L6.75371673,10.2668513 C6.75371673,10.0497709 6.58003183,9.83269019 6.31950461,9.83269019"}),d("path",{fill:"#E5D5C7",d:"M6.95182555,10.8677102 L6.3873497,10.8677102 C5.99655874,10.8677102 5.69261011,11.1716229 5.69261011,11.5623678 C5.69261011,11.9531127 5.99655874,12.2570253 6.3873497,12.2570253 L6.95182555,12.2570253 L6.95182555,10.8677102 Z"}),d("path",{fill:"#FFC44D",fillRule:"nonzero",d:"M9.36214602,8.84979429 L11.6634703,8.84979429 C11.967419,8.84979429 12.2279462,8.58929787 12.2279462,8.28538494 L12.2279462,8.15513672 C12.2279462,7.85122405 11.967419,7.59072737 11.6634703,7.59072737 L9.36214602,7.59072737 C9.05819738,7.59072737 8.79767017,7.85122405 8.79767017,8.15513672 L8.79767017,8.24196895 C8.79767017,8.58929787 9.05819738,8.84979429 9.36214602,8.84979429 M17.4817831,8.84979429 L18.7409986,8.84979429 C19.0015258,8.84979429 19.2186318,8.63271385 19.2186318,8.37221717 L19.2186318,7.98147227 C19.2186318,7.72097558 19.0015258,7.50389514 18.7409986,7.50389514 L17.4817831,7.50389514 C17.2212559,7.50389514 17.0041498,7.72097558 17.0041498,7.98147227 L17.0041498,8.37221717 C17.047571,8.63271385 17.2212559,8.84979429 17.4817831,8.84979429"}),d("path",{fill:"#4F5256",d:"M3.28721536,36.8511912 L3.37405794,36.8511912 C16.3570016,34.1598269 16.9648986,21.2652439 16.9648986,21.1345613 C16.9648986,20.8740648 16.7912137,20.7004004 16.5306865,20.7004004 C16.3135804,20.7004004 16.0964743,20.8740648 16.0964743,21.1345613 C16.0964743,21.6555546 15.5319985,33.5085853 3.20037304,36.0267194 C2.98326698,36.0697012 2.80958209,36.2867819 2.85300325,36.5477125 C2.89642441,36.7209428 3.0701093,36.8511912 3.28721536,36.8511912"}),d("path",{fill:"#FFF",d:"M14.3688781,15.0234649 C15.0201963,15.0234649 15.541251,14.5024715 15.541251,13.8512299 C15.541251,13.1999884 15.0201963,12.6789952 14.3688781,12.6789952 C13.7175599,12.6789952 13.1965052,13.1999884 13.1965052,13.8512299 C13.1965052,14.5024715 13.7175599,15.0234649 14.3688781,15.0234649"})))),d("g",{transform:"translate(132 43)"},void 0,d("mask",{id:"tooltip-voice-panel-f",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-e",cx:"15",cy:"15",r:"15"})),d("circle",{fill:"#999CF4",fillRule:"nonzero",cx:"15",cy:"15",r:"15"}),d("g",{mask:"url(#tooltip-voice-panel-f)"},void 0,d("g",{transform:"translate(-4 -9)"},void 0,d("path",{fill:"#495672",d:"M18.8037601,4.97695346 L12.7382853,8.66539356 C11.5979688,9.36492532 10.1568106,8.91976873 9.49627954,7.77508042 L9.31553454,7.45711145 C8.6556039,6.24882934 9.0759419,4.72257829 10.1568106,4.02304654 L16.2210845,0.334606435 C17.3626019,-0.364925316 18.8037601,0.0802312735 19.4642912,1.22491958 L19.6438353,1.54288855 C20.365015,2.75117066 19.9440765,4.34101551 18.8037601,4.97695346"}),d("path",{fill:"#4F5256",d:"M19,39 C24.4999999,39 29,34.5243244 29,29.0540543 L29,23.4594595 C29,19.356757 25.6249999,16 21.5000001,16 L16.4999999,16 C12.3743751,16 9,19.356757 9,23.4594595 L9,29.0540543 C9,34.5243244 13.5000001,39 19,39"}),d("path",{fill:"#EBEFFC",fillRule:"nonzero",d:"M26.7039394,25.0000025 C27.4182921,24.9985029 27.9987038,25.6690013 27.9999978,26.4977501 C28.0012919,27.3257483 27.4228213,27.9984974 26.7084689,27.9999975 C25.9934691,28.0014976 25.4130575,27.3309987 25.4117634,26.503 C25.4104694,25.6742517 25.9895866,25.0015026 26.7039394,25.0000025 M18.2921781,25.0000025 C19.0065305,24.9985029 19.5869421,25.6690013 19.5882362,26.4977501 C19.5895302,27.3257483 19.01106,27.9984974 18.2967073,27.9999975 C17.5817075,28.0014976 17.0012962,27.3309987 17.0000022,26.5022499 C16.9987077,25.6742517 17.5778253,25.0015026 18.2921781,25.0000025"}),d("path",{fill:"#5D6989",d:"M18.9362105,0 C17.4210526,0 16.0309473,0.862170099 15.3993684,2.27859238 L7,21 L31,20.9384162 L22.5362107,2.27859238 C21.8421051,0.92375369 20.4519998,5.21582512e-15 18.9362105,5.21582512e-15"}),d("path",{fill:"#495672",fillRule:"nonzero",d:"M9.7162639,16.0601818 L7,21.9861096 L31,21.9255674 L28.2841125,16 M9.08467853,29 L11.7366836,29 C11.8004735,28.879068 11.8629999,28.8186022 11.8629999,28.6372041 L11.8629999,25.0092462 C11.8629999,24.6464507 11.6109993,24.4045868 11.2314194,24.4045868 L10.3478387,24.4045868 C9.02088905,24.4045868 7.82151834,25.3115763 7.6952021,26.5813613 C7.63141261,27.6697489 8.20046632,28.5767383 9.08467853,29"}),d("path",{fill:"#FFF24A",d:"M22.0812225,14.9629012 C21.3470286,14.1979998 20.9793194,13.3693566 20.7352001,12.4769717 C20.6128342,12.0307792 20.0615768,11.8395538 19.6950916,12.1582627 C18.1043373,13.7518073 17.4925089,16.2377368 18.4714343,18.532441 C19.5115429,21.0821123 22.2029766,22.4844314 24.7726563,21.8470135 C27.0976045,21.2733375 28.6889705,19.2973423 28.9948847,17.0026382 C29.0554557,16.4927039 28.566605,16.1102533 28.137713,16.3014786 C27.3429477,16.6201875 26.485776,16.8114128 25.4462793,16.6201875 C24.1608278,16.5564457 22.9989656,15.9190279 22.0812225,14.9629012"}),d("path",{fill:"#5D6989",fillRule:"nonzero",d:"M31.7916208,23.5208431 L5.45941283,23.5838644 C4.76913299,23.5838644 4.20549831,23.0166747 4.20549831,22.3234428 C4.20549831,21.6302106 4.76913299,21.0630209 5.45941283,21.0630209 L31.7916208,21 C32.4812741,21 33.0455357,21.5671897 33.0455357,22.2604216 C33.0455357,22.9536534 32.4812741,23.5208431 31.7916208,23.5208431 Z M35.7413266,89 C36.4936755,89 37.0579371,88.3061379 36.9952415,87.550515 L30.9137551,41.1039772 C30.4748851,38.0159444 27.8416644,35.6841644 24.7068777,35.6841644 L11.8542523,35.6841644 C8.65677001,35.6841644 6.02354891,38.0789653 5.64737463,41.2300194 L0.0047585194,87.550515 C-0.0579371321,88.3061379 0.506324479,88.9363488 1.25867342,88.9363488 L35.7413266,88.9363488 L35.7413266,89 Z"}),d("path",{fill:"#495672",d:"M27.8662395,61.7493215 C27.9911638,61.0614484 28.1801201,60.3735752 28.5567768,59.7482358 C29.0583582,58.872761 29.498419,57.9972858 30,57.121811 C17.4447739,54.5579199 15.3110134,43.1767452 15.2476096,42.6139399 C14.9971327,40.9255237 13.3643255,39.7373793 11.66937,40.0500489 C9.97504215,40.3001846 8.78229574,41.9260667 9.03340031,43.6144826 C9.97504215,49.4301379 14.9971327,59.8733037 27.5523589,63 C27.6151349,62.5622626 27.7406874,62.1245252 27.8662395,61.7493215"}),d("path",{fill:"#5D6989",d:"M28.7565605,30 L26.3684234,30 C25.7560802,30 25.2662061,30.4549333 25.1437373,31.1048373 L24.4089261,35.8491387 L22.4494287,35.8491387 L21.9595543,31.169828 C21.8983201,30.5199235 21.3472115,30 20.7348686,30 L9.22282158,30 C8.24307311,30 7.69196447,31.169828 8.18183889,32.0147035 L11.8558963,38.0588133 L19.142777,41.3083347 C19.0815427,42.3481813 20.1225254,43.2580475 21.1022743,42.9330951 C22.0207885,42.6081431 22.694366,42.0882196 23.18424,41.243344 C23.3067088,40.9833823 23.367943,40.7234209 23.367943,40.4634591 L27.9605147,38.0588133 L29.920012,31.7547418 C30.2261834,30.8448756 29.6138406,30 28.7565605,30"}),d("path",{fill:"#495672",d:"M8.62857135,35 L29.3714283,35 C29.7491999,35 30,35.2666664 30,35.6666665 L30,36.3333335 C30,36.7333336 29.7491999,37 29.3714283,37 L8.62857135,37 C8.25142862,37 8,36.7333336 8,36.3333335 L8,35.6666665 C8,35.2666664 8.31428568,35 8.62857135,35"})))),d("g",{transform:"translate(74 6)"},void 0,d("mask",{id:"tooltip-voice-panel-h",fill:"#fff"},void 0,d("circle",{id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"})),d("circle",{fill:"#4e5d94",fillRule:"nonzero",id:"tooltip-voice-panel-g",cx:"15",cy:"15",r:"15"}),d("g",{mask:"url(#tooltip-voice-panel-h)"},void 0,d("g",{transform:"translate(1)"},void 0,d("path",{fill:"#5C8F9E",d:"M10.8000001,28 L9,28 C5.70000004,28 3,30.5961539 3,33.7692307 L3,35.8461539 C3,36.4807693 3.54000001,37 4.20000021,37 L12,37 L12,29.1538461 C12,28.5192307 11.46,28 10.8000001,28"}),d("path",{fill:"#E5D5C7",d:"M15.9753085,33 C14.839506,33 14,31.9199998 14,30.5999999 L14,23.4000001 C14,22.0799999 14.888889,21 15.9753085,21 L16.0246915,21 C17.111111,21 18,22.0799999 18,23.4000001 L18,30.66 C17.9506173,31.9199998 17.0617284,33 15.9753085,33"}),d("path",{fill:"#5C8F9E",d:"M6.21666659,27 C4.99166678,27 4,26.04375 4,24.8624999 L4,9 L11,9 L8.37499991,25.1999999 C8.20000014,26.26875 7.26666662,27 6.21666659,27"}),d("path",{fill:"#F9E2CF",d:"M16.5454547,27 L15.4545456,27 C10.2424244,27 6,22.7999998 6,17.6399999 L6,9.59999997 C6,5.94000001 9.03030301,3 12.6666669,3 L19.3333335,3 C22.969697,3 26,5.94000001 26,9.59999997 L26,17.6399999 C26,22.7999998 21.7575756,27 16.5454547,27"}),d("path",{fill:"#80B1C7",d:"M29,8.21739129 L29,24.7695651 C29,26.0021739 27.9744779,27 26.7076564,27 L24.2946636,27 C23.1484917,27 22.2436194,26.1782607 22.0626451,25.1217391 L20.1322504,13.147826 C19.9512761,12.0326087 18.925754,11.1521739 17.7192576,11.1521739 L3,11.1521739 L3,8.21739129 C3,3.69782608 6.80046408,0 11.4454757,0 L20.4941996,0 C25.1995359,0 29,3.69782608 29,8.21739129"}),d("path",{fill:"#E5D5C7",d:"M14.2051284,17 L10.7948716,17 C9.7777775,17 9,16.1860465 9,15.255814 L9,13.7441861 C9,12.755814 9.7777775,12 10.7948716,12 L14.2051284,12 C15.2222221,12 16,12.755814 16,13.7441861 L16,15.255814 C16,16.244186 15.1623932,17 14.2051284,17"}),d("path",{fill:"#A2C9D6",d:"M26,16 L4.16751289,16 C3.52538072,16 3,15.4508087 3,14.7795749 L3,10.6301294 C3,8.49438551 4.05076143,6.54170531 5.74365504,5.44332271 L9.24619302,3.18553623 C9.53807116,3.00247249 9.88832485,2.94145122 10.180203,3.06349373 L21.7969543,6.54170531 C24.3071064,7.27396041 26,9.71481062 26,12.3997459 L26,16 Z"}),d("path",{fill:"#B2DBE8",d:"M25,13 C26.6565997,13 28,14.3434 28,16 C28,17.6572 26.6565997,19 25,19 C23.3428,19 22,17.6572 22,16 C22,14.3434 23.3428,13 25,13"}),d("path",{fill:"#80B1C7",d:"M25.5000002,14 C26.3279999,14 27,14.672 27,15.5 C27,16.32875 26.3279999,17 25.5000002,17 C24.6720001,17 24,16.32875 24,15.5 C24,14.672 24.6720001,14 25.5000002,14"}),d("path",{fill:"#FFF",d:"M14.0435392,21 L10.9514208,21 C10.4162465,21 10,20.5625001 10,20.0000001 C10,19.4375002 10.4162465,19 10.9514208,19 L14.0435392,19 C14.5787135,19 14.9949599,19.4375002 14.9949599,20.0000001 C15.0544237,20.5625001 14.5787135,21 14.0435392,21"}),d("path",{fill:"#80B1C7",fillRule:"nonzero",d:"M4.73758608,15 C4.34042422,15 4,14.6307692 4,14.2 L4,9.64615387 C4,9.21538461 4.34042422,8.84615387 4.73758608,8.84615387 C5.13474761,8.84615387 5.47517216,9.21538461 5.47517216,9.64615387 L5.47517216,14.2 C5.41843485,14.6307692 5.13474761,15 4.73758608,15 M7.63124956,15 C7.23408769,15 6.89366348,14.6307692 6.89366348,14.2 L6.89366348,7.8 C6.89366348,7.36923078 7.23408769,7 7.63124956,7 C8.02841109,7 8.36883564,7.36923078 8.36883564,7.8 L8.36883564,14.2 C8.36883564,14.6307692 8.02841109,15 7.63124956,15 M10.5246294,15 C10.1274675,15 9.78704328,14.6307692 9.78704328,14.2 L9.78704328,7.8 C9.78704328,7.36923078 10.1274675,7 10.5246294,7 C10.9217909,7 11.2622154,7.36923078 11.2622154,7.8 L11.2622154,14.2 C11.2622154,14.6307692 10.9217909,15 10.5246294,15 M13.4182928,15 C13.021131,15 12.6807068,14.6307692 12.6807068,14.2 L12.6807068,9.03076922 C12.6807068,8.6 13.021131,8.23076922 13.4182928,8.23076922 C13.8154544,8.23076922 14.1558789,8.6 14.1558789,9.03076922 L14.1558789,14.2 C14.1558789,14.6307692 13.8154544,15 13.4182928,15 M16.3687504,15 C15.9715886,15 15.6311644,14.6307692 15.6311644,14.2 L15.6311644,9.64615387 C15.6311644,9.21538461 15.9715886,8.84615387 16.3687504,8.84615387 C16.765912,8.84615387 17.1063365,9.21538461 17.1063365,9.64615387 L17.1063365,14.2 C17.0495989,14.6307692 16.765912,15 16.3687504,15 M19.2624139,15 C18.8652521,15 18.5248278,14.6307692 18.5248278,14.2 L18.5248278,10.8769231 C18.5248278,10.4461539 18.8652521,10.0769231 19.2624139,10.0769231 C19.6595754,10.0769231 20,10.4461539 20,10.8769231 L20,14.2 C20,14.6307692 19.6595754,15 19.2624139,15"}),d("path",{fill:"#A2C9D6",d:"M28.3999997,58.0901014 L16.0399998,64.8525333 C15.62,65.0843056 15.08,65.0259292 14.7199998,64.7953129 L5.48000009,58.0901014 C5.18000012,57.8594852 5,57.512116 5,57.1653246 L5,35.7798562 C5,32.6009354 7.70000004,30 11,30 L23,30 C26.3,30 29,32.6009354 29,35.7798562 L29,57.0497274 C29,57.512116 28.76,57.8594852 28.3999997,58.0901014"}),d("path",{fill:"#80B1C7",d:"M2.91125019,62 C2.21592543,62 1.57854406,61.7622661 0.999106569,61.2867982 C-0.217712152,60.2169959 -0.333599636,58.3151248 0.709387824,57.0670221 L23.8868874,30.0247935 C24.9298749,28.7766905 26.7840749,28.6578236 28.0008934,29.7276259 C29.2177122,30.7974286 29.3335996,32.6992994 28.2906121,33.9474023 L5.11311287,60.989631 C4.53367511,61.7028328 3.72246265,62 2.91125019,62"}),d("path",{fill:"#5C8F9E",fillRule:"nonzero",d:"M14.5420405,41.907808 L12,44.8522698 C13.4779305,46.1751438 14.8967438,47.5569193 16.2564399,49 L18.9167151,45.8746273 C17.4979018,44.5517533 16.019971,43.2294803 14.5420405,41.907808 M26.6610717,38.1211187 L20.9858181,33.5532663 C20.2172941,32.952233 20.0990598,31.8102698 20.690232,31.0289267 L21.3996385,30.0672737 C23.2322725,27.7232442 26.542837,27.302521 28.848409,29.1657239 L28.9666433,29.2859305 C31.2722152,31.1491333 31.6860356,34.5149193 29.8534019,36.8589488 L29.1439951,37.8206018 C28.5528229,38.601945 27.4295957,38.7221517 26.6610717,38.1211187"}),d("path",{fill:"#5C8F9E",d:"M21.4135821,45.8841771 L15.9520674,52.2048348 C15.0897227,53.1685849 13.6524821,53.2889781 12.6751582,52.3860273 L11.1804277,51.0009001 C10.9504691,50.7607151 10.9504691,50.3989325 11.1229382,50.1587475 L18.9415281,41.1888313 C19.1714867,40.9480443 19.5164243,40.9480443 19.7463829,41.1292364 L21.2411134,42.5131596 C22.1609474,43.3565158 22.2759268,44.9210291 21.4135821,45.8841771"})))))),f=function(e){var t=e.userAvatar;return d("div",{className:s.default.container},void 0,d("div",{className:s.default.avatar},void 0,d(i.AvatarImage,{src:t,size:i.AvatarSizes.XLARGE})),c)};f.displayName="Media";var p=d(a.default.connectStores([o.default],function(){var e=o.default.getCurrentUser();return{userAvatar:e?e.getAvatarURL():l.DEFAULT_AVATARS[0]}})(f),{});t.default=function(){return p},e.exports=t.default},8169:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(3)),o=p(n(20)),i=p(n(837)),l=p(n(28)),s=p(n(14)),u=n(5992),d=p(n(6019)),c=n(79),f=p(n(5914));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=h("g",{fill:"none",fillRule:"evenodd"},void 0,h("path",{fill:"#D3D6ED",d:"M7.6003,3.7337 C7.6003,3.1817 7.1533,2.7337 6.6003,2.7337 C5.7663,2.7337 5.0903,2.0577 5.0903,1.2237 C5.0903,0.6717 4.6423,0.2237 4.0903,0.2237 C3.5383,0.2237 3.0903,0.6717 3.0903,1.2237 C3.0903,2.0577 2.4133,2.7337 1.5803,2.7337 C1.0283,2.7337 0.5803,3.1817 0.5803,3.7337 C0.5803,4.2857 1.0283,4.7337 1.5803,4.7337 C2.4133,4.7337 3.0903,5.4097 3.0903,6.2437 C3.0903,6.7967 3.5383,7.2437 4.0903,7.2437 C4.6423,7.2437 5.0903,6.7967 5.0903,6.2437 C5.0903,5.4097 5.7663,4.7337 6.6003,4.7337 C7.1533,4.7337 7.6003,4.2857 7.6003,3.7337"}),h("path",{fill:"#ACB0FF",d:"M96.6157,5.4263 C96.6157,4.8743 96.1687,4.4263 95.6157,4.4263 C95.0627,4.4263 94.6157,4.8743 94.6157,5.4263 C94.6157,6.2603 93.9397,6.9363 93.1057,6.9363 C92.5537,6.9363 92.1057,7.3843 92.1057,7.9363 C92.1057,8.4883 92.5537,8.9363 93.1057,8.9363 C93.9397,8.9363 94.6157,9.6123 94.6157,10.4463 C94.6157,10.9983 95.0627,11.4463 95.6157,11.4463 C96.1687,11.4463 96.6157,10.9983 96.6157,10.4463 C96.6157,9.6123 97.2917,8.9363 98.1257,8.9363 C98.6787,8.9363 99.1257,8.4883 99.1257,7.9363 C99.1257,7.3843 98.6787,6.9363 98.1257,6.9363 C97.2917,6.9363 96.6157,6.2603 96.6157,5.4263 Z"}),h("path",{fill:"#FFF",d:"M120.7351 14.0452L119.5511 15.2282C119.1611 15.6182 119.1611 16.2512 119.5511 16.6422 119.7471 16.8372 120.0031 16.9352 120.2581 16.9352 120.5141 16.9352 120.7701 16.8372 120.9651 16.6422L122.1491 15.4592C122.5401 15.0682 122.5401 14.4362 122.1491 14.0452 121.7581 13.6542 121.1261 13.6542 120.7351 14.0452zM113.635 21.1452C113.245 21.5352 113.245 22.1682 113.635 22.5592 113.831 22.7542 114.087 22.8522 114.342 22.8522 114.598 22.8522 114.855 22.7542 115.049 22.5592L116.233 21.3752C116.624 20.9842 116.624 20.3522 116.233 19.9612 115.842 19.5702 115.209 19.5702 114.819 19.9612L113.635 21.1452zM120.9655 19.9612C120.5745 19.5702 119.9425 19.5702 119.5515 19.9612 119.1605 20.3522 119.1605 20.9842 119.5515 21.3752L120.7355 22.5592C120.9305 22.7542 121.1865 22.8522 121.4425 22.8522 121.6975 22.8522 121.9535 22.7542 122.1495 22.5592 122.5395 22.1682 122.5395 21.5352 122.1495 21.1452L120.9655 19.9612zM115.0491 14.0449C114.6591 13.6549 114.0251 13.6549 113.6351 14.0449 113.2451 14.4359 113.2451 15.0689 113.6351 15.4589L114.8191 16.6419C115.0141 16.8369 115.2701 16.9349 115.5261 16.9349 115.7821 16.9349 116.0381 16.8369 116.2331 16.6419 116.6241 16.2509 116.6241 15.6189 116.2331 15.2279L115.0491 14.0449z"}),h("rect",{width:"40",height:"25",x:"68",y:"22",fill:"#999CF4",fillRule:"nonzero",rx:"3"}),h("path",{fill:"#999CF4",fillRule:"nonzero",d:"M90,46 L90,53.8100983 C90,54.362383 90.4477153,54.8100983 91,54.8100983 C91.2501917,54.8100983 91.4912948,54.7163131 91.6757246,54.5472524 L101,46 L90,46 Z",transform:"matrix(-1 0 0 1 191 0)"}),h("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(78 32)"},void 0,h("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),h("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),h("circle",{cx:"18.5",cy:"2.5",r:"2.5"})),h("rect",{width:"40",height:"25",x:"13",y:"9",fill:"#7289DA",fillRule:"nonzero",rx:"3"}),h("path",{fill:"#7289DA",fillRule:"nonzero",d:"M20,33 L20,40.8100983 C20,41.362383 20.4477153,41.8100983 21,41.8100983 C21.2501917,41.8100983 21.4912948,41.7163131 21.6757246,41.5472524 L31,33 L20,33 Z"}),h("g",{fill:"#FFF",fillRule:"nonzero",opacity:".902",transform:"translate(23 19)"},void 0,h("circle",{cx:"2.5",cy:"2.5",r:"2.5"}),h("circle",{cx:"10.5",cy:"2.5",r:"2.5"}),h("circle",{cx:"18.5",cy:"2.5",r:"2.5"}))),m=function(e){var t=e.guild,n=e.channelAvatar,r=e.userAvatar,a=h(u.AvatarImage,{src:r,size:u.AvatarSizes.XLARGE}),o=null;return o=t?h(d.default,{guild:t}):n?h(u.AvatarImage,{src:n}):a,h("div",{className:f.default.container},void 0,h("div",{className:f.default.personAvatar},void 0,a),h("div",{className:f.default.guildAvatar},void 0,o),h("svg",{className:f.default.illustration,xmlns:"http://www.w3.org/2000/svg",width:"156",height:"70",viewBox:"0 0 123 55"},void 0,v))};m.displayName="Media";var y=h(a.default.connectStores([l.default,i.default,s.default],function(){var e=l.default.getGuild(i.default.getGuildId()),t=null;if(null==e){var n=i.default.getChannelId(null),r=o.default.getChannel(n);t=r&&r.getIconURL()}var a=s.default.getCurrentUser();return{guild:e,channelAvatar:t,userAvatar:a?a.getAvatarURL():c.DEFAULT_AVATARS[0]}})(m),{});t.default=function(){return y},e.exports=t.default},8170:function(e,t,n){"use strict";t.__esModule=!0,t.getTutorialPopoutText=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=f(n(3)),i=f(n(28)),l=f(n(150)),s=f(n(301)),u=n(0),d=f(n(13)),c=f(n(5915));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t=e.tutorialId,n=e.copyVersion;return d.default.Messages["TIP_"+t+"_BODY"+n].format({shareIcon:s.default.Names.INVITE,shareIconHook:function(){return p(s.default,{name:s.default.Names.INVITE,className:c.default.icon})}})},v=function(e){var t=e.tutorialId,n=e.copyVersion;return d.default.Messages["TIP_"+t+"_BODY"+n].format()},m=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.tutorialId,n=e.copyVersion,r=e.serverName;return d.default.Messages["TIP_"+t+"_BODY"+n].format({serverName:r})},r}(a.PureComponent);m.displayName="WritingMessagesBody";var y=o.default.connectStores([l.default],function(){var e=i.default.getGuild(l.default.getGuildId());return{serverName:null!=e?e.name:null}})(m);t.getTutorialPopoutText=function(e,t,n){var r=e.replace(/-/g,"_").toUpperCase(),a=null,o=null,i=!1;if(t!==u.Experiments.TUTORIAL_UI||n!==u.ExperimentBuckets.TREATMENT_1&&n!==u.ExperimentBuckets.TREATMENT_2)a=d.default.Messages["TIP_"+r+"_TITLE"],o=d.default.Messages["TIP_"+r+"_BODY"].format(),i="voice-channels"!==e;else switch(a=d.default.Messages["TIP_"+r+"_TITLE3"],e){case"writing-messages":o=p(y,{tutorialId:r,copyVersion:"3"});break;case"instant-invite":o=p(h,{tutorialId:r,copyVersion:"3"});break;case"organize-by-topic":o=p(v,{tutorialId:r,copyVersion:"3"}),i=!0;break;default:o=d.default.Messages["TIP_"+r+"_BODY3"].format()}return{title:a,body:o,isLongText:i}}},8171:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;P(n(2));var r,a=M(n(17)),o=M(n(304)),i=M(n(439)),l=M(n(96)),s=M(n(3)),u=M(n(77)),d=M(n(6093)),c=M(n(6139)),f=M(n(20)),p=M(n(6252)),h=M(n(844)),v=M(n(838)),m=M(n(149)),y=M(n(49)),_=M(n(150)),g=M(n(14)),E=P(n(6014)),S=M(n(222)),T=M(n(6308)),O=M(n(6077)),I=n(0),C=M(n(13)),N=M(n(5524)),A=M(n(5371));function M(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=(0,o.default)({displayName:"UploadArea",mixins:[s.default.StoreListenerMixin(f.default,h.default,y.default,_.default,m.default),i.default],getInitialState:function(){return{dragging:!1,requireConfirm:!0}},getStateFromStores:function(){var e=y.default.getChannelId(),t=f.default.getChannel(e);return{hasLayers:h.default.hasLayers(),channel:t,canAttachFiles:null!=t&&m.default.can(I.Permissions.ATTACH_FILES,t)}},componentDidMount:function(){document.body.addEventListener("dragover",this.handleDragOver,!1),document.body.addEventListener("drop",this.handleDragLeave,!1),l.default.findDOMNode(this).addEventListener("dragleave",this.handleDragLeave,!1),l.default.findDOMNode(this).addEventListener("drop",this.handleDrop,!1)},componentWillUnmount:function(){document.body.removeEventListener("dragover",this.handleDragOver,!1),document.body.removeEventListener("drop",this.handleDragLeave,!1),l.default.findDOMNode(this).removeEventListener("dragleave",this.handleDragLeave,!1),l.default.findDOMNode(this).removeEventListener("drop",this.handleDrop,!1),clearTimeout(this.dragOverTimeout)},render:function(){var e,t=this.state.dragging&&this.canDropFile(),n=C.default.Messages.UPLOAD_AREA_TITLE;this.state.requireConfirm||(n=C.default.Messages.UPLOAD_AREA_TITLE_NO_CONFIRMATION);var r=null;return t&&(r=b("div",{},void 0,b("div",{className:(0,a.default)(N.default.sparkleWhite,A.default.sparkleOne)}),b("div",{className:(0,a.default)(N.default.sparkleWhite,A.default.sparkleTwo)}),b("div",{className:(0,a.default)(N.default.lightWhite,A.default.lightOne)}),b("div",{className:(0,a.default)(N.default.lightWhite,A.default.lightTwo)}),b("div",{className:(0,a.default)(N.default.crossWhite,A.default.crossOne)}),b("div",{className:(0,a.default)(N.default.crossWhite,A.default.crossTwo)}),b("div",{className:(0,a.default)(N.default.popWhite,A.default.popOne)}))),b("div",{className:(0,a.default)(A.default.uploadArea,(e={},e[A.default.uploadModalIn]=t,e))},void 0,b("div",{className:A.default.uploadDropModal},void 0,r,b("div",{className:A.default.bgScale}),b("div",{className:A.default.inner},void 0,b("div",{className:A.default.icons},void 0,b("div",{className:A.default.wrapOne},void 0,b("div",{className:(0,a.default)(A.default.icon,A.default.one)})),b("div",{className:A.default.wrapThree},void 0,b("div",{className:(0,a.default)(A.default.icon,A.default.three)})),b("div",{className:A.default.wrapTwo},void 0,b("div",{className:(0,a.default)(A.default.icon,A.default.two)}))),b("div",{className:A.default.title},void 0,n),b("div",{className:A.default.instructions},void 0,b("pre",{},void 0,C.default.Messages.UPLOAD_AREA_HELP)))))},canDropFile:function(){var e=this.state,t=e.channel,n=e.hasLayers,r=e.canAttachFiles;return t&&!n&&(t.isPrivate()&&!t.isManaged()||r&&p.default.canChatInGuild(_.default.getGuildId()))},isAllDropFiles:function(e){for(var t=0;t<e.length;t++)try{var n=e[t].webkitGetAsEntry()||e[t].getAsEntry();if(n&&!n.isFile)return!1}catch(e){continue}return!0},dragOverTimeout:null,preventUnwantedDrop:function(e,t){void 0===t&&(t=!1);var n=e.dataTransfer,r=n.types instanceof Array&&-1!==n.types.indexOf("text/uri-list")&&-1===n.types.indexOf("application/json"),a=null!=n.items&&!this.isAllDropFiles(n.items);return!r&&!a||(e.stopPropagation(),e.preventDefault(),n.effectAllowed="none",n.dropEffect="none",t&&(this.setState({dragging:!1}),u.default.push(O.default,{title:C.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_TITLE,help:C.default.Messages.UPLOAD_AREA_INVALID_FILE_TYPE_HELP})),!1)},handleDragOver:function(e){var t=this;if(!this.preventUnwantedDrop(e))return!1;e.dataTransfer.dropEffect="move";var n=v.default.getModal();n&&n.modal===O.default&&u.default.pop(),e.stopPropagation(),e.preventDefault(),this.state.dragging?this.state.dragging&&e.shiftKey!==!this.state.requireConfirm&&this.setState({requireConfirm:!e.shiftKey}):(e.dataTransfer.types instanceof DOMStringList&&e.dataTransfer.types.contains("application/x-moz-file")||e.dataTransfer.types instanceof Array&&-1!==e.dataTransfer.types.indexOf("Files"))&&this.setState(function(t){return t.dragging?{}:{dragging:!0,requireConfirm:!e.shiftKey}}),clearTimeout(this.dragOverTimeout),this.dragOverTimeout=setTimeout(function(){t.setState({dragging:!1,requireConfirm:!0})},1e3)},handleDragLeave:function(e){this.state.dragging&&(e.stopPropagation(),e.preventDefault(),this.clearDragging())},clearDragging:function(){this.setState({dragging:!1,requireConfirm:!0})},handleDrop:function(e){if(!this.preventUnwantedDrop(e,!0))return!1;this.state.dragging&&(e.preventDefault(),e.stopPropagation(),this.canDropFile()&&this.promptToUpload(e.dataTransfer.files,this.state.channel.id,!0,this.state.requireConfirm),this.clearDragging())},promptToUpload:function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),E.anyFileTooLarge(e)){var a=g.default.getCurrentUser();u.default.push(O.default,{title:C.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:C.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:E.sizeString(E.maxFileSize())}),promo:!S.default.canUploadLargeFiles(a)})}else r?(c.default.pushFiles({files:e,channelId:t}),v.default.isModalOpen(T.default)||u.default.push(T.default,{backdropInstant:n})):d.default.instantBatchUpload(t,e)}});t.default=R,e.exports=t.default},8172:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=(r=n(6))&&r.__esModule?r:{default:r};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._animate=n._animate.bind(l(n)),n._animationCleanup=n._animationCleanup.bind(l(n)),n.state={shaking:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getDefaultAnimProps=function(e,t){var n=Date.now();return{duration:e||300,progress:0,last:n,intensity:t||5,lastDirection:-1,frameCount:0}},s.componentWillUnmount=function(){this._animationCleanup()},s.shake=function(e,t){this.animProps=this.getDefaultAnimProps(e,t),this.state.shaking||this.setState({shaking:!0},this._animate)},s.stop=function(){this.state.shaking&&this.setState({shaking:!1})},s._animate=function(){var e=this.animProps;if(!this.state.shaking||e.progress>e.duration||!this.refs.SHAKEABLE_ELEMENT)this._animationComplete();else{var t=Date.now();if(e.progress+=t-e.last,e.last=t,e.frameCount%2){var n=e.lastDirection*e.intensity,r=o.default.random(-e.intensity,e.intensity,!0),a=Math.max(0,Math.cbrt(e.duration-e.progress/1e3));e.intensity*=Math.min(1,a),e.lastDirection*=-1,this.refs.SHAKEABLE_ELEMENT.style.transform="translate3d("+n+"px,"+r+"px,0px)"}e.frameCount+=1,this._animationFrame=requestAnimationFrame(this._animate)}},s._animationComplete=function(){this.setState({shaking:!1},this._animationCleanup)},s._animationCleanup=function(){this.refs.SHAKEABLE_ELEMENT&&(this.refs.SHAKEABLE_ELEMENT.style.transform=""),cancelAnimationFrame(this._animationFrame)},s.render=function(){return a.createElement("div",i({},this.props,{ref:"SHAKEABLE_ELEMENT"}))},r}(a.Component);s.displayName="Shakeable";var u=s;t.default=u,e.exports=t.default},8173:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=g(n(17)),o=g(n(304)),i=g(n(439)),l=g(n(303)),s=g(n(3)),u=g(n(6254)),d=g(n(6203)),c=g(n(458)),f=g(n(6320)),p=g(n(305)),h=g(n(6204)),v=g(n(9)),m=n(0),y=g(n(13)),_=g(n(5917));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=E((0,o.default)({displayName:"ConnectingModal",mixins:[s.default.StoreListenerMixin(c.default,f.default),i.default],videoRef:null,_noProblemsTimeout:null,getInitialState:function(){var e=d.default[Math.floor(Math.random()*d.default.length)],t=e[0],n=e[1],r=e[2],a=c.default.isConnected();return{ready:a,quote:t,author:n,type:r,hide:a,problems:!1,shouldRender:!a,opacity:new l.default.Value(a?0:1)}},getStateFromStores:function(){return{connected:c.default.isConnected(),incident:f.default.getIncident()}},componentDidMount:function(){this.setProblemsTimeout()},UNSAFE_componentWillUpdate:function(e,t){var n=this,r=this.state,a=t.connected&&t.ready&&!t.hide&&!t.problems;if(r.connected!==t.connected||a)if(t.connected&&null!=this.videoRef){var o=Math.max(Math.ceil(1e3*(this.videoRef.duration-this.videoRef.currentTime)),600);clearTimeout(this._noProblemsTimeout),this._noProblemsTimeout=setTimeout(function(){n.setState(function(e){return{problems:!1,hide:e.connected}})},o)}else this.setState({problems:!1,hide:t.connected});else r.hide!==t.hide?(t.hide?this.clearProblemsTimeout():this.setProblemsTimeout(),this.setState({shouldRender:!0}),l.default.timing(t.opacity,{toValue:t.hide?0:1,duration:200}).start(function(){return n.setState({shouldRender:!n.state.hide})})):r.problems!==this.state.problems&&this.state.problems&&u.default.checkIncidents()},componentWillUnmount:function(){this.clearProblemsTimeout(),clearTimeout(this._noProblemsTimeout)},handleReady:function(){if(this.setState({ready:!0}),v.default.isDesktop()){var e=d.default.map(function(e){return e[0]});v.default.send("UPDATED_QUOTES",e)}},setVideoRef:function(e){this.videoRef=e},setProblemsTimeout:function(){var e=this;null==this._problemsTimeout&&(this._problemsTimeout=setTimeout(function(){return e.setState({problems:!0})},1e4))},clearProblemsTimeout:function(){clearTimeout(this._problemsTimeout),this._problemsTimeout=null},render:function(){if(this.state.shouldRender){var e,t,n=this.state.quote,r=this.state.connected?y.default.Messages.READY:y.default.Messages.CONNECTING;switch(null!=this.state.incident&&(n=this.state.incident.name,r=this.state.incident.incident_updates[0].body),this.state.type){case"facebook":t=y.default.Messages.QUOTE_ATTRIBUTION_FACEBOOK.format({url:"https://www.facebook.com/discordapp/"});break;case"instagram":t=y.default.Messages.QUOTE_ATTRIBUTION_INSTAGRAM.format({url:"https://www.instagram.com/"+this.state.author+"/"});break;case"twitter":t=y.default.Messages.QUOTE_ATTRIBUTION.format({name:"@"+this.state.author,url:"https://twitter.com/"+this.state.author})}return t&&(t=E("div",{className:_.default.attribution},void 0,t)),E(l.default.div,{className:_.default.container,style:{opacity:this.state.opacity}},void 0,E("div",{className:_.default.content},void 0,E(h.default,{autoPlay:!0,loop:!this.state.connected,setRef:this.setVideoRef,onReady:this.handleReady,className:this.state.ready?_.default.ready:null}),E("div",{className:_.default.quote},void 0,n),t,E("div",{className:_.default.status},void 0,r)),E("div",{className:(0,a.default)(_.default.problems,(e={},e[_.default.slideIn]=this.state.problems,e))},void 0,E("div",{className:_.default.problemsText},void 0,y.default.Messages.CONNECTING_PROBLEMS_CTA),E("div",{},void 0,E(p.default,{className:_.default.twitterLink,href:"//twitter.com/discordapp",target:"_blank"},void 0,y.default.Messages.TWEET_US),E(p.default,{className:_.default.statusLink,href:m.STATUS_PAGE_ENDPOINT,target:"_blank"},void 0,y.default.Messages.SERVER_STATUS))))}return null}}),{}),T=(0,o.default)({displayName:"Connecting",mixins:[s.default.StoreListenerMixin(c.default),i.default],getStateFromStores:function(){return{isTryingToConnect:c.default.isTryingToConnect()}},render:function(){return this.state.isTryingToConnect?S:null}});t.default=T,e.exports=t.default},8174:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=x(n(3)),a=x(n(7066)),o=x(n(7079)),i=x(n(8175)),l=x(n(7080)),s=x(n(7082)),u=x(n(7084)),d=x(n(8178)),c=x(n(7085)),f=x(n(8187)),p=x(n(8190)),h=x(n(8193)),v=x(n(8194)),m=x(n(8195)),y=x(n(8196)),_=x(n(8199)),g=x(n(7088)),E=x(n(8200)),S=x(n(7270)),T=x(n(7091)),O=x(n(8213)),I=x(n(8217)),C=x(n(8222)),N=x(n(7093)),A=x(n(8228)),M=x(n(8230)),P=x(n(8236)),b=x(n(8238)),R=x(n(6665)),L=x(n(8240)),D=x(n(8242)),w=x(n(7096)),U=x(n(8244)),k=x(n(8246)),G=x(n(8251)),F=x(n(7101)),j=x(n(7104));function x(e){return e&&e.__esModule?e:{default:e}}r.default.initialize();var B=[d.default,f.default,G.default,k.default,w.default,N.default,S.default,C.default,T.default,F.default,I.default,E.default,D.default,R.default,L.default,b.default,M.default,m.default,_.default,v.default,h.default,y.default,a.default,O.default,U.default,A.default,g.default,u.default,s.default,p.default,j.default,o.default,i.default,l.default,c.default,P.default];t.default=B,e.exports=t.default},8175:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=y(n(3)),i=_(n(228)),l=n(8176),s=y(n(824)),u=y(n(8177)),d=y(n(14)),c=y(n(457)),f=y(n(18)),p=y(n(222)),h=y(n(6196)),v=n(0),m=y(n(13));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var S="Premium Expiration without Payment Source",T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).goToSettings=function(){t.props.onClose(),s.default.open(v.UserSettingsSections.PREMIUM)},t}E(t,e);var n=t.prototype;return n.componentDidMount=function(){i.fetchSubscriptions(),f.default.track(v.AnalyticEvents.OPEN_MODAL,{type:S})},n.render=function(){var e=this.props,t=e.subscription,n=e.user,r=e.onClose;return null==t?null:null==t.plan?null:g(h.default,{},void 0,g(h.default.Header,{onClose:r},void 0,m.default.Messages.PREMIUM_EXPIRING_TITLE),g(h.default.Content,{type:h.default.Types.CANCEL},void 0,p.default.canInstallPremiumApplications(n)?m.default.Messages.PREMIUM_EXPIRING_BODY.format():m.default.Messages.PREMIUM_WITHOUT_GAMES_EXPIRING_BODY.format()),g(h.default.Footer,{primary:{onClick:this.goToSettings,label:m.default.Messages.PREMIUM_EXPIRING_GO_TO_SETTINGS}}))},t}(a.Component);T.displayName="PremiumExpirationModal";var O=o.default.connectStores([d.default,c.default],function(){return{subscription:c.default.getPremiumSubscription(),user:d.default.getCurrentUser()}})(T),I=function(e){function t(){return e.apply(this,arguments)||this}E(t,e);var n=t.prototype;return n.close=function(){(0,l.closePremiumExpirationModal)(),f.default.track(v.AnalyticEvents.MODAL_DISMISSED,{type:S})},n.render=function(){return g(O,{onClose:this.close})},t}(a.Component);I.displayName="PremiumExpirationModalWrapper",I.modalConfig={closable:!0,store:u.default};var C=I;t.default=C,e.exports=t.default},8176:function(e,t,n){"use strict";t.__esModule=!0,t.closePremiumExpirationModal=function(){a.default.dispatch({type:o.ActionTypes.PREMIUM_EXPIRATION_MODAL_CLOSE})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},8177:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i=null,l=new Set;var s=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(e){null!=e&&(l=new Set(e.dismissedSubscriptionIds))},a.isOpen=function(){return null!=i&&!l.has(i)},a.getState=function(){var e={};if(null!=l){var t=Array.from(l);t.length>0&&(e.dismissedSubscriptionIds=t)}return e},r}(r.default.PersistedStore);s.persistKey="PremiumExpirationModalStore";var u=new s(a.default,{PREMIUM_EXPIRATION_MODAL_CLOSE:function(e){null!=i&&l.add(i)},CONNECTION_OPEN:function(e){i=e.expiringSubscriptionId}});t.default=u,e.exports=t.default},8178:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=y(n(826)),i=n(7268),l=_(n(6661)),s=y(n(124)),u=y(n(220)),d=y(n(6160)),c=y(n(8179)),f=y(n(8181)),p=y(n(8183)),h=y(n(8185)),v=y(n(13)),m=y(n(5635));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){switch(null!=e?e[0]:null){case l.Pages.CLAIM:return{Component:c.default,buttonText:v.default.Messages.NUF_CLAIM_ACCOUNT_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case l.Pages.JOIN:return{Component:h.default,buttonText:v.default.Messages.NUF_JOIN_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case l.Pages.CREATE:return{Component:f.default,buttonText:v.default.Messages.NUF_CREATE_SERVER_BUTTON,buttonLook:s.default.Looks.FILLED,buttonColor:s.default.Colors.BRAND};case l.Pages.DOWNLOAD:return{Component:p.default,buttonText:v.default.Messages.DONE,buttonLook:s.default.Looks.LINK,buttonColor:s.default.Colors.PRIMARY};default:return{Component:null,buttonText:null,buttonLook:null,buttonColor:null}}}var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={submitting:!1},t.handleSubmit=function(e){e.preventDefault();var n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t).pageRef;if(null==n||"function"!=typeof n.submit)return console.warn("HomepageNUF: No valid ref");t.setState({submitting:!0},function(){n.submit().then(function(e){return void 0===e&&(e=!1),t.setState({submitting:!1},function(){return t.handlePageAdvance(!1,e||!1)})},function(){return t.setState({submitting:!1})})})},t.handleSkipClick=function(){t.handlePageAdvance(!0)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=r.prototype;return l.handlePageAdvance=function(e,t){void 0===t&&(t=!1);var n=this.props.pages,r=this.props.page;null!=r&&null!=n&&((r+=t?2:1)>=n.length?(0,i.dismiss)(e):(0,i.nextStep)(e,t))},l.renderContent=function(){var e=this,t=this.props,n=t.page,r=t.pages;if(null==n||null==r)return null;var a=E(r[n]).Component;return null==a?null:g(a,{setRef:function(t){return e.pageRef=t}},r[n][0])},l.renderFooter=function(){var e=this.props,t=e.page,n=e.pages,r=e.progress,o=this.state.submitting;if(null==t||null==n)return null;var i=n[t];if(null==i)return null;var l,u=E(i),c=u.buttonText,f=u.buttonLook,p=u.buttonColor;return null!=c&&null!=f&&null!=p&&(l=g(s.default,{type:"submit",submitting:o,look:f,color:p},void 0,c)),g(a.Fragment,{},void 0,l,i[1]?g(s.default,{look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,onClick:this.handleSkipClick},void 0,v.default.Messages.SKIP):null,g("div",{className:m.default.progressContainer},void 0,g(d.default,{size:d.default.Sizes.LARGE,percent:100*r,className:m.default.progress,foregroundColor:"#8ea1e1",backgroundColor:"rgba(153,170,181,0.3)"})))},l.render=function(){return g(u.default,{size:m.default.size,className:m.default.modal,tag:"form",onSubmit:this.handleSubmit},void 0,g(o.default,{component:"div",className:m.default.pageSize},void 0,this.renderContent()),g(u.default.Footer,{},void 0,this.renderFooter()))},r}(a.PureComponent);S.displayName="HomepageNUF",S.modalConfig={store:l.default};var T=S;t.default=T,e.exports=t.default},8179:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(17)),o=n(864),i=f(n(6661)),l=f(n(822)),s=f(n(442)),u=n(6752),d=f(n(13)),c=f(n(5357));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var h=function(e){var t,r;function f(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={email:"",password:"",errors:null,submitting:!1},t}r=e,(t=f).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=f.prototype;return h.submit=function(){var e=this;return new Promise(function(t,n){e.setState({submitting:!0,errors:null},function(){var r=e.state,a=r.email,i=r.password;(0,o.saveAccountRequest)({email:a,password:i}).then(function(){return t(!1)},function(t){null!=t&&null!=t.body||e.setState({submitting:!1,errors:{email:[d.default.Messages.NUF_CLAIM_ACCOUNT_GENERIC_ERROR]}}),e.setState({submitting:!1,errors:t.body},function(){return n(new Error("Invalid request"))})})})})},h.renderError=function(e){var t=this.state.errors;if(null==t)return null;var n=t[e];return null==n?null:Array.isArray(n)?n[0]:n},h.render=function(){var e=this,t=this.state,r=t.email,o=t.password,f=t.submitting,h=i.default.isTreatment1();return p(u.PageWrapper,{illustration:n(8180),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,p(u.Title,{className:(0,a.default)(c.default.marginBottom8,c.default.marginTop20)},void 0,d.default.Messages.NUF_CLAIM_ACCOUNT_TITLE),p(u.Text,{className:c.default.marginBottom20,tag:"div"},void 0,h?d.default.Messages.NUF_CLAIM_ACCOUNT_BODY_1:d.default.Messages.NUF_CLAIM_ACCOUNT_BODY_2),p(s.default,{title:d.default.Messages.FORM_LABEL_EMAIL,required:!0,className:c.default.marginBottom20},void 0,p(l.default,{autoFocus:!0,name:"email",disabled:f,value:r,error:this.renderError("email"),onChange:function(t){return e.setState({email:t})}})),p(s.default,{title:d.default.Messages.FORM_LABEL_PASSWORD,required:!0},void 0,p(l.default,{name:"password",type:"password",error:this.renderError("password"),value:o,disabled:f,onChange:function(t){return e.setState({password:t})}})))},f}(u.AnimatedPage);h.displayName="PageClaim";var v=h;t.default=v,e.exports=t.default},8180:function(e,t,n){e.exports=n.p+"873239c449fe63533f54170ece883300.svg"},8181:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(8)),i=p(n(822)),l=p(n(442)),s=p(n(440)),u=n(6752),d=n(0),c=p(n(13)),f=p(n(5357));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={name:"",submitting:!1,hasError:!1},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var v=p.prototype;return v.submit=function(){var e=this,t=this.state.name;return""===(t=t.trim())?(this.setState({hasError:!0}),Promise.reject(new Error("Invalid guild name"))):new Promise(function(n,r){e.setState({submitting:!0,hasError:!1},function(){return o.default.post({url:d.Endpoints.GUILDS,body:{name:t}}).then(function(){return n(!1)},function(){e.setState({submitting:!1,hasError:!0}),r(new Error("Invalid guild name"))})})})},v.render=function(){var e=this,t=this.state,r=t.name,o=t.submitting,d=t.hasError;return h(u.PageWrapper,{illustration:n(8182),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,h(u.Title,{className:(0,a.default)(f.default.marginBottom8,f.default.marginTop20)},void 0,c.default.Messages.NUF_CREATE_SERVER_TITLE),h(u.Text,{className:f.default.marginBottom20},void 0,c.default.Messages.NUF_CREATE_SERVER_BODY.format()),h(l.default,{title:c.default.Messages.FORM_LABEL_SERVER_NAME,required:!0,className:f.default.marginBottom20},void 0,h(i.default,{autoFocus:!0,name:"name",type:"text",error:d?c.default.Messages.NUF_CREATE_SERVER_ERROR:null,disabled:o,value:r,className:f.default.marginBottom8,onChange:function(t){return e.setState({name:t})}}),d?null:h(s.default,{type:s.default.Types.DESCRIPTION},void 0,c.default.Messages.NUF_CREATE_SERVER_NOTE.format())))},p}(u.AnimatedPage);v.displayName="Create";var m=v;t.default=m,e.exports=t.default},8182:function(e,t,n){e.exports=n.p+"c5a50044a5560b4796c72a1fb25bd7d4.svg"},8183:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=y(n(17)),o=y(n(32)),i=n(7268),l=y(n(502)),s=y(n(14)),u=y(n(124)),d=y(n(148)),c=y(n(18)),f=n(938),p=n(6752),h=n(0),v=y(n(13)),m=y(n(5357));function y(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g={LINUX:"linux",OSX:"osx",WINDOWS:"win"};var E=function(e){var t,r;function y(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={platform:function(){switch((o.default.os.family||"").replace(" ","").toLowerCase()){case"osx":return g.OSX;case"ubuntu":case"debian":case"fedora":case"redhat":case"suse":return g.LINUX;default:return g.WINDOWS}}()},t}r=e,(t=y).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var E=y.prototype;return E.download=function(e,t){window.location=(0,f.makeDesktopDownloadURL)(e,!1,null!=t?t:null),l.default.disable(h.NoticeTypes.DOWNLOAD_NAG);var n=s.default.getCurrentUser();c.default.track(h.AnalyticEvents.DOWNLOAD_APP,{platform:e,ptb:!1,released:!0,has_e_mail:null!=n&&n.isClaimed(),referring_location:"Homepage NUF"}),(0,i.dismiss)()},E.renderButtons=function(){var e=this,t=this.state.platform;return t!==g.LINUX?_(u.default,{color:u.default.Colors.GREEN,fullWidth:!0,onClick:function(){return e.download(t,null)}},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BUTTON_PLATFORM.format({platform:function(e){switch(e){case g.OSX:return v.default.Messages.PLATFORM_MACOS;case g.LINUX:return v.default.Messages.PLATFORM_LINUX;default:return v.default.Messages.PLATFORM_WINDOWS}}(t)})):_(d.default,{},void 0,_(d.default.Child,{},void 0,_(u.default,{color:u.default.Colors.GREEN,onClick:function(){return e.download(t,"deb")}},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:v.default.Messages.DEB}))),_(d.default.Child,{},void 0,_(u.default,{color:u.default.Colors.GREEN,onClick:function(){return e.download(t,"tar.gz")}},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BUTTON_TYPE.format({type:v.default.Messages.TAR_GZ}))))},E.render=function(){return _(p.PageWrapper,{illustration:n(8184),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,_(p.Text,{className:(0,a.default)(m.default.marginBottom20,m.default.marginTop60)},void 0,v.default.Messages.NUF_DOWNLOAD_APP_INTRO),_(p.Title,{className:m.default.marginBottom8},void 0,v.default.Messages.NUF_DOWNLOAD_APP_TITLE),_(p.Text,{className:m.default.marginBottom20},void 0,v.default.Messages.NUF_DOWNLOAD_APP_BODY),this.renderButtons())},y}(p.AnimatedPage);E.displayName="Download";var S=E;t.default=S,e.exports=t.default},8184:function(e,t,n){e.exports=n.p+"bbb28fd68faad10216c8da92d6bcca19.svg"},8185:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=p(n(17)),o=p(n(311)),i=p(n(6661)),l=p(n(822)),s=p(n(442)),u=p(n(440)),d=n(6752),c=p(n(13)),f=p(n(5357));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function p(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={code:null,invite:"",hasError:!1,submitting:!1},t}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var v=p.prototype;return v.submit=function(){var e=this,t=this.state.invite;if(""===(t=t.trim()))return this.setState({hasError:!0}),Promise.reject(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED));var n=t.split("/"),r=n[n.length-1];return new Promise(function(t,n){e.setState({code:r,submitting:!0,hasError:!1},function(){o.default.resolveInvite(r,"New Homepage NUF").then(function(r){var a=r.invite;null!=a?o.default.acceptInvite(a.code,{location:"New Homepage NUF"}).then(function(){null!=a.guild&&null!=a.channel&&(o.default.transitionToInvite(a),t(!0))},function(){return e.setState({submitting:!1,hasError:!0})}):(e.setState({submitting:!1,hasError:!0}),n(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED)))},function(){e.setState({submitting:!1,hasError:!0}),n(new Error(c.default.Messages.INSTANT_INVITE_EXPIRED))})})})},v.render=function(){var e=this,t=this.state,r=t.invite,o=t.submitting,p=t.hasError,v=i.default.isTreatment1();return h(d.PageWrapper,{illustration:n(8186),style:this.getAnimatedStyle(),illustrationStyle:this.getAnimatedStyle("160%")},void 0,h(d.Title,{className:(0,a.default)(f.default.marginBottom8,v?f.default.marginTop60:f.default.marginTop20)},void 0,v?c.default.Messages.NUF_JOIN_SERVER_TITLE_1:c.default.Messages.NUF_JOIN_SERVER_TITLE_2),h(d.Text,{className:f.default.marginBottom20},void 0,v?c.default.Messages.NUF_JOIN_SERVER_BODY_1:c.default.Messages.NUF_JOIN_SERVER_BODY_2.format()),h(s.default,{title:c.default.Messages.NUF_JOIN_SERVER_INPUT_LABEL,required:!0,className:f.default.marginBottom20},void 0,h(l.default,{autoFocus:!0,name:"invite",type:"text",error:p?c.default.Messages.INSTANT_INVITE_EXPIRED:null,disabled:o,value:r,className:f.default.marginBottom8,onChange:function(t){return e.setState({invite:t})}}),p?null:h(u.default,{type:u.default.Types.DESCRIPTION},void 0,c.default.Messages.NUF_JOIN_SERVER_INPUT_NOTE)))},p}(d.AnimatedPage);v.displayName="Join";var m=v;t.default=m,e.exports=t.default},8186:function(e,t,n){e.exports=n.p+"a01bc277d210a4b92e3900e3871f986e.svg"},8187:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=v(n(304)),o=v(n(439)),i=v(n(3)),l=v(n(839)),s=v(n(7266)),u=n(864),d=v(n(8188)),c=v(n(7150)),f=v(n(14)),p=v(n(8189)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"EmailVerificationModal",statics:{modalConfig:{store:d.default}},mixins:[i.default.LazyStoreListenerMixin(c.default,f.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=c.default.getState(),t=e.claimed,n=e.errors,r=e.formState;return{user:f.default.getCurrentUser(),claimed:t,errors:n,submitting:r===h.FormStates.SUBMITTING}},render:function(){var e=this.state,t=e.claimed,n=e.submitting,a=e.user,o=this.getError("email"),i=this.getError("password");return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(p.default,{email:a.email,emailError:o,passwordError:i,submitting:n,canResend:!n&&t&&0===o.length&&0===i.length,onVerify:this.handleVerify,onResend:this.handleResend,onClose:this.close})},getError:function(e){var t=this.state.errors;return t&&t[e]?t[e]:""},handleVerify:function(e,t){var n=this.state.user,r=n.username,a=n.avatar;(0,u.saveAccountChanges)(r,e,t,a,null)},handleResend:function(){l.default.verifyResend()},close:function(){s.default.close()}});t.default=m,e.exports=t.default},8188:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i=!1;function l(){i=!1}var s=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.isOpen=function(){return i},r}(r.default.Store))(a.default,{EMAIL_VERIFICATION_MODAL_OPEN:function(e){i=!0},EMAIL_VERIFICATION_MODAL_CLOSE:function(e){return l()},CURRENT_USER_UPDATE:function(e){e.user.verified&&l()}});t.default=s,e.exports=t.default},8189:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=g(n(2)),o=_(n(17)),i=_(n(6)),l=_(n(6209)),s=n(78),u=g(n(124)),d=_(n(220)),c=_(n(822)),f=n(823),p=n(0),h=_(n(13)),v=_(n(312)),m=_(n(5357)),y=_(n(5918));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,r;function p(t){var n;return(n=e.call(this,t)||this)._animItem=null,n._timeout=new s.Timeout,n.state={canResend:t.canResend,resent:!1,shouldClose:!1,email:"",password:""},i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["setLottieRef","handleVerify","handleResendEmail","handleChangeEmailClick","handleEmailChange","handlePasswordChange","handleKeyPress"]),n}r=e,(t=p).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var _=p.prototype;return _.componentDidMount=function(){var e=this;n.e(251).then(function(t){var r=n(8400);e._animItem=l.default.loadAnimation({container:e._lottieRef,renderer:"svg",loop:!0,autoplay:!0,animationData:r})}.bind(null,n)).catch(n.oe)},_.componentWillUnmount=function(){this._timeout.stop(),null!=this._animItem&&(this._animItem.destroy(),this._animItem=void 0)},_.UNSAFE_componentWillReceiveProps=function(e){e.canResend!==this.state.canResend&&this.setState({canResend:e.canResend})},_.renderInputs=function(){var e=this.props,t=e.emailError,n=e.passwordError,r=e.submitting,a=this.state,o=a.email,i=a.password;return E("div",{className:y.default.container},void 0,E(f.FormItem,{title:h.default.Messages.FORM_LABEL_EMAIL,className:m.default.marginBottom20},void 0,E(c.default,{value:o,error:t,onChange:this.handleEmailChange,onKeyPress:this.handleKeyPress,autoFocus:!0})),E(f.FormItem,{title:h.default.Messages.FORM_LABEL_PASSWORD,className:m.default.marginBottom40},void 0,E(c.default,{type:"password",value:i,error:n,onChange:this.handlePasswordChange,onKeyPress:this.handleKeyPress})),E(u.default,{fullWidth:!0,size:u.default.Sizes.LARGE,onClick:this.handleVerify,submitting:r,disabled:0===o.length||0===i.length},void 0,h.default.Messages.VERIFY_ACCOUNT))},_.renderActions=function(){return E("div",{className:y.default.container},void 0,E(u.default,{className:m.default.marginTop20,fullWidth:!0,size:u.default.Sizes.LARGE,look:u.ButtonLooks.INVERTED,color:u.ButtonColors.PRIMARY,onClick:this.handleResendEmail},void 0,h.default.Messages.RESEND_EMAIL),E(u.default,{className:m.default.marginTop20,fullWidth:!0,size:u.default.Sizes.MEDIUM,look:u.ButtonLooks.LINK,color:u.ButtonColors.PRIMARY,onClick:this.handleChangeEmailClick},void 0,h.default.Messages.CHANGE_EMAIL))},_.render=function(){var e,t=this.state,n=t.canResend,r=t.resent,i=this.props.email;return e=r&&null!=i?h.default.Messages.VERIFY_EMAIL_BODY_RESENT.format({email:i}):n?h.default.Messages.VERIFY_EMAIL_BODY:h.default.Messages.ENTER_EMAIL_BODY,E(d.default,{className:(0,o.default)(y.default.emailVerificationModal,v.default.vertical,v.default.alignCenter,v.default.justifyCenter,m.default.marginTop60)},void 0,a.createElement("div",{className:y.default.animationContainer,ref:this.setLottieRef}),E("div",{className:(0,o.default)(y.default.title,m.default.marginBottom8)},void 0,h.default.Messages.VERIFY_BY_EMAIL),E("div",{className:(0,o.default)(y.default.body,m.default.marginBottom20)},void 0,e),n?this.renderActions():this.renderInputs())},_.setLottieRef=function(e){this._lottieRef=e},_.handleVerify=function(){(0,this.props.onVerify)(this.state.email,this.state.password)},_.handleResendEmail=function(){var e=this,t=this.props,n=t.onResend,r=t.onClose;n(),this.state.resent||(this.setState({resent:!0,shouldClose:!0}),this._timeout.start(3e3,function(){e.state.shouldClose&&r()}))},_.handleChangeEmailClick=function(){this.setState({canResend:!1,resent:!1,shouldClose:!1})},_.handleEmailChange=function(e){this.setState({email:e})},_.handlePasswordChange=function(e){this.setState({password:e})},_.handleKeyPress=function(e){var t=this.state,n=t.email,r=t.password;13===e.which&&n.length>0&&r.length>0&&(e.preventDefault(),this.handleVerify())},p}(a.PureComponent);S.displayName="EmailVerificationModal",S.defaultProps={canResend:!1,onVerify:function(e,t){},onResend:p.NOOP,onClose:p.NOOP};var T=S;t.default=T,e.exports=t.default},8190:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=_(n(2)),o=_(n(8191)),i=y(n(8192)),l=y(n(124)),s=y(n(148)),u=y(n(220)),d=y(n(6015)),c=y(n(125)),f=y(n(107)),p=y(n(18)),h=n(0),v=y(n(13)),m=y(n(5919));function y(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var E=Object.freeze({CERTIFIED:"New Audio Device Detected - Certified",NOT_CERTIFIED:"New Audio Device Detected - Not Certified"}),S=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).confirm=function(){var e=n.props.device,t=n.state.devicePreference;null!=t&&o.setDevice(e.displayName,t,"New Audio Device Detected Modal")},n.cancel=function(){var e=n.props.device;o.ignoreDevice(e.displayName)},n.neverShow=function(){var e=n.props.certifiedDeviceMetadata;o.neverShowModal(),p.default.track(h.AnalyticEvents.MODAL_DISMISSED,{type:null!=e?E.CERTIFIED:E.NOT_CERTIFIED,dismiss_type:"permanent"})},n.handleConnectedDeviceType=function(e){var t=e.value;n.setState({devicePreference:t})},n.state={devicePreference:null!=t.device?function(e){switch(e){case h.ConnectedDeviceType.INPUT:return h.ConnectedDevicePreference.INPUT;case h.ConnectedDeviceType.OUTPUT:return h.ConnectedDevicePreference.OUTPUT;case h.ConnectedDeviceType.INPUT_AND_OUTPUT:return h.ConnectedDevicePreference.INPUT_AND_OUTPUT;default:return null}}(t.device.type):null},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.track=function(){var e=this.props,t=e.certifiedDeviceMetadata,n=e.device;p.default.track(h.AnalyticEvents.OPEN_MODAL,{type:null!=t?E.CERTIFIED:E.NOT_CERTIFIED,device_name:null!=t?t.vendor.name+" "+t.model.name:n.displayName})},i.componentDidMount=function(){this.track()},i.componentDidUpdate=function(e){this.props.device.displayName!==e.device.displayName&&this.track()},i.renderBody=function(){var e,t=this.props,n=t.device,r=t.certifiedDeviceMetadata,o=this.state.devicePreference;switch(n.type){case h.ConnectedDeviceType.INPUT:e=null!=r?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_BODY.format({vendorName:r.vendor.name,modelName:r.model.name}):v.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_BODY.format({name:n.displayName});break;case h.ConnectedDeviceType.OUTPUT:e=null!=r?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_OUTPUT_BODY.format({vendorName:r.vendor.name,modelName:r.model.name}):v.default.Messages.CONNECTED_DEVICE_DETECTED_OUTPUT_BODY.format({name:n.displayName});break;default:e=g(a.Fragment,{},void 0,null!=r?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_AUDIO_INPUT_AND_OUTPUT_BODY.format({vendorName:r.vendor.name,modelName:r.model.name}):v.default.Messages.CONNECTED_DEVICE_DETECTED_INPUT_AND_OUTPUT_BODY.format({name:n.displayName}),g(d.default,{value:o,className:m.default.options,onChange:this.handleConnectedDeviceType,options:[{name:v.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT_AND_OUTPUT,value:h.ConnectedDevicePreference.INPUT_AND_OUTPUT},{name:v.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_INPUT,value:h.ConnectedDevicePreference.INPUT},{name:v.default.Messages.CONNECTED_DEVICE_DETECTED_OPTION_OUTPUT,value:h.ConnectedDevicePreference.OUTPUT}]}))}return g(a.Fragment,{},n.displayName,e,g(l.default,{className:m.default.neverShow,look:l.default.Looks.LINK,colors:m.default.colorLink,onClick:this.neverShow},void 0,v.default.Messages.DONT_SHOW_AGAIN))},i.render=function(){var e=this.props.certifiedDeviceMetadata;return g(u.default,{},void 0,g(u.default.Header,{},void 0,g(f.default,{tag:f.default.Tags.H4},void 0,null!=e?v.default.Messages.CERTIFIED_DEVICE_RECOMMENDATION_TITLE:v.default.Messages.CONNECTED_DEVICE_DETECTED_TITLE)),g(u.default.Content,{},void 0,g(c.default,{size:c.default.Sizes.MEDIUM,color:c.default.Colors.PRIMARY},void 0,this.renderBody())),g(u.default.Footer,{},void 0,g(s.default,{justify:s.default.Justify.END},void 0,g(l.default,{color:l.default.Colors.PRIMARY,onClick:this.cancel,className:m.default.cancelButton},void 0,v.default.Messages.CONNECTED_DEVICE_DETECTED_CANCEL_BUTTON),g(l.default,{onClick:this.confirm},void 0,v.default.Messages.CONNECTED_DEVICE_DETECTED_CONFIRM_BUTTON))))},r}(a.Component);t.default=S,S.displayName="ConnectedDevice",S.modalConfig={store:i.default},e.exports=t.default},8191:function(e,t,n){"use strict";t.__esModule=!0,t.setDevice=function(e,t,n){a.default.dispatch({type:o.ActionTypes.CONNECTED_DEVICE_SET,displayName:e,connectedDevicePreference:t,location:n})},t.ignoreDevice=function(e){a.default.dispatch({type:o.ActionTypes.CONNECTED_DEVICE_IGNORE,displayName:e})},t.neverShowModal=function(){a.default.dispatch({type:o.ActionTypes.CONNECTED_DEVICE_NEVER_SHOW_MODAL})};var r,a=(r=n(1))&&r.__esModule?r:{default:r},o=n(0)},8192:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=p(n(6)),a=p(n(3)),o=n(56),i=p(n(1)),l=p(n(446)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(9)),u=p(n(474)),d=p(n(46)),c=p(n(35)),f=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h={},v=h,m=new Set(["DisplayPort"]),y=!1,_={},g={},E={},S={id:null,justChanged:!1},T={id:null,justChanged:!1},O=/\(([^)]+)\)/;function I(e){if(s.default.getPlatform()===s.PlatformTypes.WINDOWS){var t=e.name.match(O);if(null!=t)return t[1]}return e.name}function C(e,t,n){return null==e||e.displayName!==t?{displayName:t,type:n}:e.type===f.ConnectedDeviceType.INPUT&&n===f.ConnectedDeviceType.OUTPUT||e.type===f.ConnectedDeviceType.OUTPUT&&n===f.ConnectedDeviceType.INPUT?{displayName:t,type:f.ConnectedDeviceType.INPUT_AND_OUTPUT}:e}var N=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.initialize=function(e){this.waitFor(d.default,c.default),v=e||h},i.getState=function(){return v},i.isOpen=function(){var e=d.default.getInputDeviceId(),t=d.default.getOutputDeviceId();if(v.neverShowModal||r.default.isEmpty(E))return!1;var n=I(d.default.getInputDevices()[e]),a=I(d.default.getOutputDevices()[t]);if(r.default.some(E,function(e){return m.has(e.displayName)||e.displayName===n||e.displayName===a}))return!1;var i=r.default.some(E,function(e){return u.default.isCertified(_[e.displayName])||u.default.isCertified(g[e.displayName])});return!((e===o.DEFAULT_DEVICE_ID&&S.justChanged||t===o.DEFAULT_DEVICE_ID&&T.justChanged)&&!i)&&null!=this.getProps().device},i.getProps=function(){var e,t=r.default.first(Object.keys(E));return y&&null!=t&&(u.default.isCertified(_[t])?e=u.default.getCertifiedDevice(_[t]):u.default.isCertified(g[t])&&(e=u.default.getCertifiedDevice(g[t]))),{device:t?E[t]:null,certifiedDeviceMetadata:e}},a}(a.default.PersistedStore);N.persistKey="ConnectedDeviceStore";var A=new N(i.default,{MEDIA_ENGINE_DEVICES:function(e){var t=e.inputDevices,n=e.outputDevices,a={};S.justChanged=!1,t.forEach(function(e){if(a[I(e)]=e.id,e.id===o.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==S.id&&(S.justChanged=!0),S.id=t}});var i={};if(T.justChanged=!1,n.forEach(function(e){if(i[I(e)]=e.id,e.id===o.DEFAULT_DEVICE_ID){var t=e.originalId||e.originalName;t!==T.id&&(T.justChanged=!0),T.id=t}}),!y)return _=a,g=i,void(y=!0);var l=Object.keys(_),s=Object.keys(a),u=Object.keys(g),d=Object.keys(i),c=r.default.difference(l,s),p=r.default.difference(u,d);return c.length>0||p.length>0?E={}:(r.default.difference(s,l).forEach(function(e){E[e]=C(E[e],e,f.ConnectedDeviceType.INPUT)}),r.default.difference(d,u).forEach(function(e){E[e]=C(E[e],e,f.ConnectedDeviceType.OUTPUT)})),!(r.default.isEqual(l,s)&&r.default.isEqual(u,d)||(_=a,g=i,0))},CONNECTED_DEVICE_SET:function(e){var t=e.displayName;!function(e,t,n){if(t===f.ConnectedDevicePreference.INPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var r=_[e];null!=r&&i.default.wait(function(){return l.default.setInputDevice(r,n)})}if(t===f.ConnectedDevicePreference.OUTPUT||t===f.ConnectedDevicePreference.INPUT_AND_OUTPUT){var a=g[e];i.default.wait(function(){return l.default.setOutputDevice(a,n)})}}(t,e.connectedDevicePreference,e.location),delete E[t]},CONNECTED_DEVICE_IGNORE:function(e){var t=e.displayName;delete E[t]},CONNECTED_DEVICE_NEVER_SHOW_MODAL:function(e){return E={},void(v={neverShowModal:!0})}});t.default=A,e.exports=t.default},8193:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(446)),i=u(n(46)),l=u(n(454)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){o.default.interact()},t}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{title:s.default.Messages.INTERACTION_REQUIRED_TITLE,body:s.default.Messages.INTERACTION_REQUIRED_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY})},a}(a.Component);t.default=d,d.displayName="InteractionRequired",d.modalConfig={store:i.default,isOpen:function(){return i.default.isInteractionRequired()}},e.exports=t.default},8194:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),l=m(n(131)),s=m(n(132)),u=m(n(20)),d=m(n(49)),c=m(n(840)),f=m(n(6085)),p=m(n(454)),h=n(0),v=m(n(13));function m(e){return e&&e.__esModule?e:{default:e}}l.default.register((0,c.default)(h.Experiments.LAST_SELECTED_VOICE_CHANNEL,"Last Selected Voice Channel",["Encourage users to reconnect to their last selected voice channel.","Control: No suggestion","Treatment 1: With suggestion"]),((a={})[h.ExperimentTypes.NONE]=function(){return null},a[h.ExperimentTypes.USER]=((r={})[h.ExperimentBuckets.CONTROL]=function(){return null},r[h.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var y=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props.channel;return function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(p.default,{title:v.default.Messages.LAST_SELECTED_VOICE_CHANNEL_TITLE,body:v.default.Messages.LAST_SELECTED_VOICE_CHANNEL_BODY,onConfirmSecondary:function(){return s.default.clearVoiceChannel()},onConfirm:function(){return s.default.selectVoiceChannel(e.getGuildId(),e.id)},confirmText:v.default.Messages.LAST_SELECTED_VOICE_CHANNEL_YES.format({channelName:e.name}),minorText:v.default.Messages.LAST_SELECTED_VOICE_CHANNEL_NO})},r}(i.Component);t.default=y,y.displayName="LastSelectedVoiceChannel",y.modalConfig={stores:[d.default],isOpen:function(){var e=u.default.getChannel(d.default.getLastSelectedVoiceChannelId());if(null!=e&&null!=e.getGuildId()){var t=f.default.triggerFirstEligibleUserExperiment([h.Experiments.LAST_SELECTED_VOICE_CHANNEL]);return null!=t&&t.bucket===h.ExperimentBuckets.TREATMENT_1}return!1},getProps:function(){return{channel:u.default.getChannel(d.default.getLastSelectedVoiceChannelId())}}},e.exports=t.default},8195:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=p(n(7087)),i=p(n(46)),l=p(n(181)),s=p(n(64)),u=p(n(309)),d=p(n(454)),c=n(0),f=p(n(13));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t,a;function i(){return e.apply(this,arguments)||this}return a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,i.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(d.default,{title:f.default.Messages.PTT_PERMISSION_TITLE,body:f.default.Messages.PTT_PERMISSION_BODY.format({game:this.props.gameName}),minorText:f.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:function(){return o.default.clearPTTAdminWarning()},onConfirm:function(){return window.open(u.default.getArticleURL(c.HelpdeskArticles.PUSH_TO_TALK_ADMINISTRATOR_MODE),"_blank")},confirmText:f.default.Messages.HELP_DESK,iconUrl:n(920)})},i}(a.Component);h.displayName="PTTPermission",h.modalConfig={stores:[s.default,i.default],isOpen:function(){var e=s.default.getVisibleGame();return null!=e&&e.elevated&&l.default.isConnected()&&i.default.getMode()===c.InputModes.PUSH_TO_TALK&&s.default.canShowAdminWarning},getProps:function(){var e=s.default.getVisibleGame();return{gameName:null!=e?e.name:null}}};var v=h;t.default=v,e.exports=t.default},8196:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(7087)),i=u(n(8197)),l=u(n(454)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,a;function u(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){o.default.clearSuppressWarning()},t.handleCloseForever=function(){o.default.clearSuppressWarning(!0)},t}return a=e,(t=u).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,u.prototype.render=function(){var e,t;return i.default.isAFKChannel()?(e=s.default.Messages.SUPPRESSED_AFK_TITLE,t=s.default.Messages.SUPPRESSED_AFK_BODY):(e=s.default.Messages.SUPPRESSED,t=s.default.Messages.SUPPRESSED_PERMISSION_BODY),function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{title:e,body:t,onConfirm:this.close,confirmText:s.default.Messages.OKAY,minorText:s.default.Messages.DONT_SHOW_AGAIN,onConfirmSecondary:this.handleCloseForever,iconUrl:n(8198)})},u}(a.Component);d.displayName="Suppressed",d.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}};var c=d;t.default=c,e.exports=t.default},8197:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(21)),o=s(n(1)),i=s(n(20)),l=s(n(28));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u,d,c="hideSuppressWarning",f=!1,p=!0,h=!1;var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.initialize=function(){h=a.default.get(c)||h},o.isAFKChannel=function(){var e=i.default.getChannel(d);if(null==e)return!1;var t=l.default.getGuild(e.getGuildId());return null!=t&&e.id===t.afkChannelId},o.shouldShowWarning=function(){return!p},r}(r.default.Store))(o.default,{CONNECTION_OPEN:function(e){u=e.sessionId,f=!1},CONNECTION_CLOSED:function(e){return u=null,d=null,void(p=!0)},VOICE_STATE_UPDATE:function(e){if(u!==e.sessionId)return!1;f!==e.suppress&&(f=e.suppress,p=!f),d!==e.channelId&&(d=e.channelId,p=!f),(h||null==e.channelId)&&(p=!0)},PERMISSION_CLEAR_SUPPRESS_WARNING:function(e){var t=e.forever;p=!0,t&&(h=!0,a.default.set(c,h))}});t.default=v,e.exports=t.default},8198:function(e,t,n){e.exports=n.p+"cc502480f93307f651a7f920a5e0a4bd.svg"},8199:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=u(n(7087)),i=u(n(972)),l=u(n(454)),s=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,a;function i(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){o.default.clearVADWarning()},t}return a=e,(t=i).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,i.prototype.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(l.default,{title:s.default.Messages.VAD_PERMISSION_TITLE,body:s.default.Messages.VAD_PERMISSION_BODY,onConfirm:this.close,confirmText:s.default.Messages.OKAY,iconUrl:n(920)})},i}(a.Component);d.displayName="VADPermission",d.modalConfig={store:i.default,isOpen:function(){return i.default.shouldShowWarning()}};var c=d;t.default=c,e.exports=t.default},8200:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),i=_(n(153)),l=_(n(6064)),s=_(n(6199)),u=_(n(6163)),d=_(n(6054)),c=_(n(7269)),f=_(n(18)),p=_(n(8201)),h=_(n(8202)),v=_(n(8203)),m=n(0),y=_(n(5923));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=r;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(){l.default.close()}var S=(0,i.default)({SELECTION:null,GUILD_CREATE:null,GUILD_JOIN:null}),T=(0,i.default)({CREATE_GUILD:null,JOIN_GUILD:null,BACK:null}),O=((r={})[S.SELECTION]=function(e,t){return g(h.default,{nuf:null!=t&&t.nuf,onClick:function(t){t===m.CreateGuildModalScreens.CreateGuild?(f.default.track(m.AnalyticEvents.OPEN_MODAL,{Type:"Create Guild Step 2",location_section:m.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(T.CREATE_GUILD,{direction:1}),l.default.setScreen(m.CreateGuildModalScreens.CreateGuild)):t===m.CreateGuildModalScreens.JoinGuild&&(f.default.track(m.AnalyticEvents.OPEN_MODAL,{Type:"Join Guild",location_section:m.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL}),e(T.JOIN_GUILD,{direction:1}),l.default.setScreen(m.CreateGuildModalScreens.JoinGuild))}})},r[S.GUILD_JOIN]=function(e){return g(v.default,{onBack:function(){e(T.BACK,{direction:-1}),l.default.setScreen(m.CreateGuildModalScreens.Choose)},onJoin:E})},r[S.GUILD_CREATE]=function(e,t){return null==t?null:g(p.default,{onBack:function(){e(T.BACK,{direction:-1}),l.default.setScreen(m.CreateGuildModalScreens.Choose)},guild:t.guild,errors:t.errors,submitting:t.submitting})},r),I=function(e){var t,n;function r(){for(var t,n,r,a,o,i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return(o=e.call.apply(e,[this].concat(l))||this).stateChart={id:"AddGuildModal",initial:o.getInitialSlide(),states:(a={},a[S.SELECTION]={on:(t={},t[T.CREATE_GUILD]=S.GUILD_CREATE,t[T.JOIN_GUILD]=S.GUILD_JOIN,t)},a[S.GUILD_CREATE]={on:(n={},n[T.BACK]=S.SELECTION,n)},a[S.GUILD_JOIN]={on:(r={},r[T.BACK]=S.SELECTION,r)},a)},o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getInitialSlide=function(){switch(this.props.screen){case m.CreateGuildModalScreens.CreateGuild:return S.GUILD_CREATE;case m.CreateGuildModalScreens.JoinGuild:return S.GUILD_JOIN;default:return S.SELECTION}},a.componentDidMount=function(){null==d.default.getRegions(null)&&s.default.fetchDefaultRegions()},a.close=function(){E()},a.render=function(){var e=this.props,t=e.nuf,n=e.guild,r=e.errors,a=e.submitting;return g("div",{className:"theme-light"},void 0,g(c.default,{className:y.default.wrapper,stateChart:this.stateChart,slideStates:O,extState:{nuf:t,guild:n,errors:r,submitting:a}}))},r}(o.PureComponent);I.displayName="AddGuildModal",I.modalConfig={store:u.default};var C=I;t.default=C,e.exports=t.default},8201:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(17)),i=n(869),l=g(n(6064)),s=g(n(124)),u=g(n(148)),d=g(n(220)),c=g(n(822)),f=n(823),p=g(n(6646)),h=g(n(6315)),v=n(0),m=g(n(13)),y=g(n(5920)),_=g(n(5483));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var S=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){e.preventDefault();var n=t.props.guild;l.default.createGuild(n.name,n.region,n.icon)},t.getError=function(e){var n=t.props.errors;return null!=n&&null!=n[e]?n[e]:null},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.handleNameChange=function(e){l.default.updateTemporaryGuild({name:e})},a.handleRegionChange=function(e){l.default.updateTemporaryGuild({region:e})},a.handleIconChange=function(e){l.default.updateTemporaryGuild({icon:e})},a.render=function(){var e=this,t=this.props,n=t.guild,r=t.onBack,a=t.submitting,l=this.getError("name");return E(d.default,{tag:"form",onSubmit:this.handleSubmit,size:_.default.size,className:_.default.slide},void 0,E(d.default.Content,{className:_.default.slideBody,backgroundColor:v.Colors.WHITE},void 0,E("h5",{className:y.default.title},void 0,m.default.Messages.CREATE_SERVER_TITLE),E("p",{className:y.default.description},void 0,m.default.Messages.CREATE_SERVER_DESCRIPTION.format()),E(u.default,{className:y.default.formWrapper},void 0,E(u.default.Child,{grow:1.2,basis:0},void 0,E(i.SmartUID,{},void 0,function(t){var r;return E(f.FormItem,{tag:f.FormTitle.Tags.LABEL,htmlFor:t,title:m.default.Messages.FORM_LABEL_SERVER_NAME,titleClassName:(0,o.default)(y.default.label,(r={},r[y.default.error]=null!=l,r)),error:l},void 0,E(c.default,{id:t,value:n.name,inputClassName:y.default.input,onChange:e.handleNameChange,placeholder:m.default.Messages.FORM_PLACEHOLDER_SERVER_NAME,autoFocus:!0}))}),E(i.SmartUID,{},void 0,function(t){return E(f.FormItem,{tag:"label",htmlFor:t,title:m.default.Messages.FORM_LABEL_SERVER_REGION,className:y.default.regionSelectWrapper,titleClassName:y.default.label},void 0,E(h.default,{id:t,value:n.region,onChange:e.handleRegionChange}),E("div",{className:y.default.helpText},void 0,m.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:v.MarketingURLs.GUIDELINES})))})),E(u.default.Child,{wrap:!0,grow:1,basis:0},void 0,E(p.default,{name:n.name,icon:n.icon,onChange:this.handleIconChange,avatarClassName:y.default.avatar})))),E(d.default.Footer,{className:_.default.slideFooter},void 0,E(s.default,{type:"submit",onClick:this.handleSubmit,submitting:a},void 0,m.default.Messages.CREATE),E(u.default,{},void 0,E("button",{type:"button",className:_.default.cancelButton,onClick:r,disabled:a},void 0,m.default.Messages.BACK))))},r}(a.Component);S.displayName="CreateGuildSlide";var T=S;t.default=T,e.exports=t.default},8202:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(17)),i=v(n(3)),l=v(n(14)),s=v(n(219)),u=v(n(220)),d=n(106),c=n(0),f=v(n(13)),p=v(n(5921)),h=v(n(5483));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var y={CREATE:p.default.create,JOIN:p.default.join},_=function(e){var t,n,r,a=e.type,i=e.onClick;switch(a){case y.CREATE:t=f.default.Messages.CREATE,n=f.default.Messages.CREATE_SERVER_BUTTON_BODY,r=f.default.Messages.CREATE_SERVER_BUTTON_CTA;break;case y.JOIN:t=f.default.Messages.JOIN,n=f.default.Messages.JOIN_SERVER_BUTTON_BODY,r=f.default.Messages.JOIN_SERVER_BUTTON_CTA;break;default:throw new Error("[CreateOrJoinSlide]: Invalid CardType")}return m(s.default,{className:(0,o.default)(p.default.action,a),onClick:i},void 0,m("div",{className:p.default.actionHeader},void 0,t),m("div",{className:p.default.actionBody},void 0,n),m("div",{className:p.default.actionIcon}),m("button",{className:p.default.actionButton,type:"button"},void 0,r))};_.displayName="GuildActionButton";var g=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleCreate=function(){(0,t.props.onClick)(c.CreateGuildModalScreens.CreateGuild)},t.handleJoin=function(){(0,t.props.onClick)(c.CreateGuildModalScreens.JoinGuild)},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){d.ComponentDispatch.subscribe(c.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},a.componentWillUnmount=function(){d.ComponentDispatch.unsubscribe(c.ComponentActions.TRANSITION_JOIN_GUILD,this.handleJoin)},a.render=function(){var e,t=this.props,n=t.nuf,r=t.currentUser;return e=n&&null!=r?f.default.Messages.NUF_TITLE.format({username:r.toString()}):f.default.Messages.CREATE_OR_JOIN_MODAL_HEADER,m(u.default,{size:h.default.size,className:h.default.slide},void 0,m(u.default.Content,{className:(0,o.default)(h.default.slideBody,p.default.slideBody),backgroundColor:c.Colors.WHITE},void 0,m("header",{className:p.default.header},void 0,e),m("div",{className:p.default.actions},void 0,m(_,{type:y.CREATE,onClick:this.handleCreate}),m(_,{type:y.JOIN,onClick:this.handleJoin}),m("div",{className:p.default.or},void 0,"or"))))},r}(a.PureComponent);g.displayName="CreateOrJoinGuildSlide";var E=i.default.connectStores([l.default],function(){return{currentUser:l.default.getCurrentUser()}})(g);t.default=E,e.exports=t.default},8203:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(17)),i=n(869),l=m(n(311)),s=m(n(124)),u=m(n(148)),d=m(n(220)),c=m(n(822)),f=n(0),p=m(n(13)),h=m(n(5922)),v=m(n(5483));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={value:"",submitting:!1,hasError:!1},t.handleTyped=function(e){t.setState({value:e,hasError:!1})},t.handleSubmit=function(e){e.preventDefault();var n=t.state.value.trim();if(""!==n){var r=n.split("/"),a=r[r.length-1];t.setState({submitting:!0,hasError:!1}),l.default.resolveInvite(a,"Join Guild Modal").then(function(e){var n=e.invite;if(null!=n){if(t.setState({submitting:!1}),null!=n.channel){var r=t.props.onJoin,a=l.default.getInviteContext("Join a Server Modal",n);l.default.acceptInvite(n.code,a,function(){r(),l.default.transitionToInvite(n)})}}else t.setState({submitting:!1,hasError:!0})},function(){t.setState({submitting:!1,hasError:!0})})}else t.setState({hasError:!0})},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getExamplePrefix=function(){var e=window.GLOBAL_ENV.INVITE_HOST,t="";return null==e&&(e=location.host,t=f.Routes.INVITE("")),location.protocol+"//"+e+t+"/"},a.render=function(){var e=this,t=this.props.onBack,n=this.state,r=n.hasError,a=n.value,l=n.submitting,m=this.getExamplePrefix();return y(d.default,{tag:"form",onSubmit:this.handleSubmit,size:v.default.size,className:v.default.slide},void 0,y(d.default.Content,{className:(0,o.default)(v.default.slideBody,h.default.slideBody),backgroundColor:f.Colors.WHITE},void 0,y("h5",{className:h.default.title},void 0,p.default.Messages.JOIN_SERVER_TITLE),y("div",{className:h.default.instructions},void 0,y("p",{className:h.default.description},void 0,p.default.Messages.JOIN_SERVER_DESCRIPTION),y("p",{className:h.default.sampleLink},void 0,m,"qJq5C"),y("p",{className:h.default.sampleLink},void 0,m,"discord-developers"),y("p",{className:h.default.sampleLink},void 0,"qJq5C")),y(i.SmartUID,{},void 0,function(t){var n;return y("div",{className:h.default.inputWrapper},void 0,y(c.default,{id:t,value:a,inputClassName:(0,o.default)(h.default.input,(n={},n[h.default.error]=r,n)),onChange:e.handleTyped,autoFocus:!0}),y("label",{htmlFor:t,className:h.default.inputLabel},void 0,y("span",{},void 0,p.default.Messages.FORM_LABEL_INSTANT_INVITE),r?y("span",{className:h.default.errorText},void 0,"(",p.default.Messages.INSTANT_INVITE_EXPIRED,")"):null))})),y(d.default.Footer,{className:v.default.slideFooter},void 0,y(s.default,{type:"submit",color:s.default.Colors.GREEN,disabled:this.state.submitting,submitting:l},void 0,p.default.Messages.JOIN),y(u.default,{},void 0,y("button",{type:"button",className:v.default.cancelButton,onClick:t,disabled:l},void 0,p.default.Messages.BACK))))},r}(a.Component);t.default=_,_.displayName="JoinGuildSlide",e.exports=t.default},8204:function(e,t){e.exports='---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "es-es"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS A CONTINUACIÓN {added marginTop}\n======================\n\n* **PSSST. ¡Discord ya tiene etiquetas de Spoiler!** Rodea cualquier texto con estas barras verticales \\|| tal que así \\|| para esconder información relevante. Funciona con texto, imágenes, emojis, etc.\n* **El indicador Móvil ha llegado al escritorio** así podrás resaltar la pequeñez del mundo en su devenir como si fueras una estrella gigante en órbita. O, simplemente ver si tus amigos están en el baño y no pueden unirse ahora mismo a la cola.\n* **¡El selector de GIFs ya está aquí!** Puedes buscar GIFs y marcarlos como favoritos, incluso puedes marcar como favoritos los que subas a Discord. No hay nada como la propia aprobación.\n* **La estimación de ancho de banda para videollamadas ha recibido un buen empujón.** Los que tengáis una buena conexión ya no veréis como vuestra videollamada se convierte en un juego de píxeles 2D improvisado.\n* **La navegación por teclado en el selector de GIFs está lista.** Ya no hace falta que busques el ratón, lo que te permitirá ahorrar energías. Disfruta de esas 5 calorías extra.\n* **También hemos añadido la navegación por teclado a la tienda.** ¡Que sean 10 calorías!\n* **Qué está sonando en la aplicación de Spotify Mobile está disponible para los usuarios de Android.** Sí, llevo escuchando la misma canción triste en bucle durante todo este tiempo, y no, no estoy bien.\n* **Ahora puedes darle la vuelta a la lista de emojis en los ajustes del servidor.** Pon los nuevos y vibrantes emojis en la parte de arriba y deja que los viejos se deslicen al fondo, donde quedarán cubiertos de polvo... y abandonados... como yo...\n\nYa estoy bien {fixed}\n======================\n\n* **Muchos enlaces de [regalo](https://discordapp.com/nitro) ya no rompen Discord.** Ahora puedes hacer que lluevan regalos como si un huracán se abrazara con el monzón bajo una tormenta sin que Discord huya despavorido.\n* **Pulsar la barra espaciadora mientras ves una foto ya no duplica la imagen.** P p e e r r d d ó ó n n.\n\nDe nuestra casa a la tuya {progress}\n======================\n\n* **Las Casas del Valor, la Brillantez y el Equilibrio de HypeSquad buscan nuevos reclutas.** [Únete en la app](https://discordapp.com/settings/hypesquad-online), rellena un pequeño cuestionario de personalidad y podrás ser elegido. Muestra tu Casa con una insignia única en el perfil, descubre más acerca de competiciones y promociones, y en general serás una persona más molona de lo que eras (o eso nos parece a nosotros).\n* **¿Quieres representar a Discord en el mundo real?** Como participante de Eventos de HypeSquad, podrás exponer con orgullo nuestro logo en tu torso en las convenciones locales. O, darle al club de juegos de tu universidad un chorropotrón de mercaderías y beneficios para el servidor siendo un Coordinador de Eventos de HypeSquad. [Solicita aquí](http://discordapp.com/hypesquad)!\n* **[Hazte Asociado de Discord.](https://discordapp.com/partners)** Si suministras dulces contenidos sobre juegos en la página de vídeos de tu barrio, te daremos una sudadera dope, beneficios para el servidor de tu comunidad y más.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "fr"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS EN VUE {added marginTop}\n======================\n\n* **PSSST. Discord a désormais des balises Spoiler !** Entourez n\'importe quel texte de ces barrières \\|| comme ça \\|| pour cacher toute information pertinente. Ça marche sur du texte, des images, des émojis, etc.\n* **L\'indicateur mobile est désormais disponible sur l\'application de bureau** pour que vous puissiez montrer à quel point le monde est petit pendant que vous vous baladez comme une énorme étoile tournant dans l\'espace. Ou juste pour voir si vos amis sont sur le trône et pas encore prêts à débuter la partie.\n* **Le sélecteur de GIFs est arrivé !** Vous pouvez rechercher et ajouter en favoris des tonnes de GIFs, et même ajouter en favoris ceux que vous mettez vous-même sur Discord ! On n\'est jamais mieux servi que par soi-même.\n* **Les estimations de bande passante pour les appels vidéos ont été améliorées.** Ceux qui ont une bonne connexion ne verront plus leurs appels vidéo se transformer en jeu 2D pixelisé improvisé.\n* **La navigation 100% clavier est disponible pour le sélecteur de GIFs.** Arrêtez de tendre le bras pour attraper votre souris et économisez vos forces ! Profitez bien de ces 5 calories supplémentaires.\n* **La navigation 100% clavier est également disponible dans la boutique.** On en est à 10 calories.\n* **L\'écoute Spotify pour mobile est désormais disponible sur Android.** Oui, j\'écoute la même bande sonore tristounette à répétition depuis que je suis sorti de chez moi. Non, ça va pas.\n* **Vous pouvez maintenant inverser votre liste d\'émojis dans les paramètres de votre serveur.** Mettez les émojis flambant neufs tout en haut et regardez vos vieux émojis sombrer vers le bas, où ils amasseront la poussière... oubliés... comme moi...\n\nBon, ça va mieux maintenant {fixed}\n======================\n\n* **Une multitude de liens [cadeaux](https://discordapp.com/nitro) ne fait plus planter Discord.** Vous pouvez maintenant faire pleuvoir des cadeaux comme une tempête au coeur d\'un ouragan pendant la mousson sans que Discord prenne peur.\n* **Appuyer sur la barre d\'espace pendant que vous regardez une image ne duplique plus cette dernière.** P P a a r r d d o o n n.\n\nDe notre maison à la vôtre {progress}\n======================\n\n* **Les maisons HypeSquad Bravery, Brilliance et Balance cherchent toujours de nouvelles recrues.** [Engagez-vous directement depuis l\'application](https://discordapp.com/settings/hypesquad-online) en remplissant un petit quiz de personnalité qui révélera votre maison idéale. Affichez votre allégeance avec un badge de profil unique, découvrez concours et promos, et devenez encore plus cool que vous ne l\'étiez avant (à nos yeux).\n* **Vous voulez représenter Discord dans la vraie vie ?** En tant que membre HypeSquad participant à des événements, affichez fièrement notre logo sur votre torse lors de vos conventions locales. Ou alors, offrez au club de jeux vidéo de votre université un gros tas de marchandise gratuite et profitez de bonus sur votre serveur en tant que créateur d\'événements HypeSquad. [Postulez ici](http://discordapp.com/hypesquad) !\n* **[Devenez un partenaire Discord.](https://discordapp.com/partners)** Vous fournissez le fabuleux contenu gaming sur la plate-forme de partage vidéo de votre choix, et nous vous fournirons un super hoodie, des avantages exclusifs pour le serveur de votre communauté, et plus encore !\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "de"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERWARNUNG {added marginTop}\n======================\n\n* **PSSST. Discord hat jetzt Spoiler-Tags!** Setzt einfach einen Text in diese Zaunpfosten, \\|| so wie hier \\||, um die eingefassten Informationen zu verbergen. Das funktioniert mit Text, Bildern, Emojis, etc.\n* **Der Mobile-App-Indikator wird jetzt in der Desktop-App angezeigt**, damit ihr zeigen könnt, wie klein die mobile Welt ist. Ein Floh auf dem Rücken eines gigantischen Planeten ... oder um einfach zu sehen, dass sich eure Freunde im Moment nicht anmelden können, weil sie gerade auf Toilette sind.\n* **Der GIF-Picker ist jetzt live!** Ihr könnt jetzt Unmengen an GIFs durchsuchen und favorisieren, sogar die, die ihr selbst hochgeladen habt. Nichts geht über etwas Selbstbeweihräucherung.\n* **Die Bandweiteneinschätzung für Video-Anrufe wurde verbessert.** Gute Verbindungen müssen nicht länger mit ansehen, wie ihr Anruf spontan zu einem 2D-Pixel-Spiel mutiert.\n* **Es ist möglich, den GIF-Picker ausschließlich über die Tastatur zu bedienen.** Hört auf ständig nach der Maus zu greifen und spart etwas Energie. Genießt diese 5 extra Kalorien.\n* **Tastatur-Navigation gibt es jetzt auch im Shop.** Das macht dann 10 Kalorien.\n* **"Was spielt gerade in Spotify" ist jetzt auch für Android-Nutzer live.** Ja, ich höre mir die ganze Zeit über denselben traurigen Soundtrack in Dauerschleife an. Nein, ich bin nicht OK.\n* **Ihr könnt eure Emoji-Liste jetzt in den Server-Einstellungen umkehren.** Setzt die schicken neuen Emojis ganz nach oben und seht zu, wie die alten zu Boden sinken, wo sie Staub ansetzen ... vergessen ... wie ich ...\n\nOK, es geht schon wieder {fixed}\n======================\n\n* **Mehrfache [Geschenk-Links](https://discordapp.com/nitro) machen Discord nicht länger kaputt.** Ihr könnt es jetzt Geschenke regnen lassen, als ob ein Wirbelsturm mit einem Monsun im Gewitter Händchen hält, ohne dass Discord sich ängstlich versteckt.\n* **Die Leertaste dupliziert nicht länger Bilder, die man sich gerade ansieht.** U u n n s s e e r r e e S s c c h h u u l l d d\n\nAus unserem Hause für eures {progress}\n======================\n\n* **Die HypeSquad-Häuser der Tapferkeit, Brillanz und Balance suchen immer neue Rekruten.** [Meldet euch über die App an](https://discordapp.com/settings/hypesquad-online), indem ihr einen kleinen Persönlichkeitstest ausfüllt und alles einrichtet. Zeigt stolz euer Haus mit einem einzigartigen Profilabzeichen, erfahrt mehr über Wettbewerbe und Giveaways und werdet zu viel cooleren Personen, als ihr es vorher wart (unsere Meinung).\n* **Wollt ihr Discord in der echten Welt repräsentieren?** Als HypeSquad-Eventteilnehmer könnt ihr unser Logo stolz an eurem Körper tragen und auf euren lokalen Conventions zeigen. Oder ihr besorgt eurem Gaming-Verein einen ganzen Sack voller kostenloser Geschenke und Server-Perks als HypeSquad-Eventkoordinator. [Meldet euch hier an](http://discordapp.com/hypesquad)!\n* **[Werdet Discord-Partner.](https://discordapp.com/partners)** Ihr zeigt eure Gaming-Inhalte auf einer lokalen nachbarschaftlichen Video-Webseite eurer Wahl, und wir statten euch mit einem supercoolen Hoodie, einzigartigen Server-Perks für eure Community und vielem mehr aus.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "pt-br"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS À FRENTE {added marginTop}\n======================\n\n* **PSSSIU. O Discord agora tem tags de Spoiler!** Coloque qualquer texto entre estas barras \\|| tipo assim \\|| para esconder qualquer informação pertinente. Funciona com texto, imagens, emojis, etc. Ótimo pra evitar que amiguinhos vejam sem querer a sua lista de novas Keyblades.\n* **O Indicador Mobile chegou na versão Desktop** assim você pode ver quais dos seus amigos não vão conseguir clicar em "Aceitar Partida" porque estão mexendo no celular sentados no troninho.\n* **O Seletor de GIFs está disponível!** Você pode procurar e favoritar montes de GIFs, e até favoritar aqueles que você mesmo subir para o Discord. Nada como um pouco de ~~egocentrismo~~ amor próprio!\n* **A estimativa de uso de banda para chamadas de vídeos recebeu melhorias.** Boas conexões não vão ver suas ligações virarem um jogo 2D em Pixel Art do nada.\n* **Navegação via teclado para o Seletor de GIFs está aqui.** Não será mais necessário mover sua mão todo o longo caminho até seu mouse. Aproveite estas 5 calorias extras.\n* **Ah, a navegação via teclado também foi implementada na Loja.** São 10 calorias então.\n* **A função "Tocando agora" para o Spotify Mobile está disponível para os usuários Android.** Sim, eu estou ouvindo Hyrule Field. Faz com que eu sinta que escrever os registros de alteração seja uma aventura. Eu me sinto igual ao Zelda salvando a princesa. Não, pera... :thinking:\n* **Você pode reverter a lista de emojis nas configurações do servidor.** Coloque seus novos emojis lindos e cheirosos no topo e veja como as pessoas vão esquecer de seus emojis antigos, assim como do nome de heróis que usam verde (como o... Mario Verde?).\n\nTá Tudo Bem Agora {fixed}\n======================\n\n* **Muitos links de [gift](https://discordapp.com/nitro) não quebram mais o Discord.** Você pode fazer chover presentes como se fosse uma tempestade de trovões num furacão que gera um tsunami e espalha tubarões sem que o Discord trave de medo.\n* **Pressionar a barra de espaço quando estiver vendo uma imagem não vai mais duplicar a imagem..** F f o o i i  m m a a l l .\n\nDa Nossa Casa Para A Sua {progress}\n======================\n\n* **As Casas do HypeSquad, Bravery, Brilliance e Balance estão sempre procurando por novos recrutas.** [Inscreva-se via aplicativo](https://discordapp.com/settings/hypesquad-online) fazendo um curto teste de personalidade e seja escolhido. Leve o emblema de sua casa com orgulho com uma insígnia maneira no seu perfil, fique sabendo de competições e sorteios de brindes e, no geral, se torne uma pessoa muito mais maneira do que antes (ao menos pra gente <3).\n* **Quer representar o Discord no mundo real?** Como um Frequentador de Eventos do HypeSquad, exiba nosso logo em seu peito com orgulho em convenções locais. Ou então dê um monte de badulaques grátis do Discord para seu clube de jogos da sua universidade, além de umas melhorias para o servidor do clube, como um Coordenador de Eventos do HypeSquad. [Inscreva-se aqui](http://discordapp.com/hypesquad)!\n* **[Vire um Parceiro Discord.](https://discordapp.com/partners)** Você entra com o conteúdo incrível de games em sua plataforma de escolha, nós entramos com benefícios exclusivos para o servidor da sua comunidade, um casaco maneiro e mais algumas coisinhas.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "it"\nyoutube_video_id: "teCVXzKRVFc"\n---\nATTENZIONE, SPOILER! {added marginTop}\n======================\n\n* **PSSST. Adesso Discord ti avvisa se ci sono Spoiler!** Inserisci quello che vuoi tra due stanghette \\|| così \\|| per nascondere qualsiasi informazione rilevante. Puoi usarlo con testi, immagini, emoji, eccetera.\n* **L\'Indicatore Mobile è disponibile anche nella versione desktop** Così potrai puntualizzare quanto piccolo sia il mondo, come se fossi una gigantesca stella orbitante alla deriva. Oppure, potrai spiare chi tra i tuoi amici non è ancora pronto per collegarsi, impegnato in altre faccende in bagno.\n* **Il Selezionatore di GIF è qui tra noi!** Potrai ora cercare e aggiungere tra le preferite un sacco di GIF, tra cui persino quelle che TU hai caricato su Discord. Evvai con l\'autostima!\n* **Abbiamo incrementato la stima della banda larga per le video chiamate.** Chiamate con connessioni decenti non si trasformeranno più all\'improvviso in un videogioco pixellato in 2D.\n* **Navigazione esclusivamente via tastiera disponibile per i Selezionatori di GIF.** Smettila di allungare la mano verso il mouse e non sprecare le tue energie. E goditile \'ste 5 calorie risparmiate.\n* **E l\'abbiamo aggiunta anche nello store, la navigazione via tastiera.** Facciamo 10 calorie, va\'.\n* **L\'opzione Cosa stai ascoltando di Spotify da mobile è ora disponibile per gli utenti Android.** Sì, sono sempre le solite canzioni deprimenti che stavo ascoltando e l\'ho fatto in loop per tutto il viaggio. No, non sto bene.\n* **Puoi invertire la lista delle emoji nelle impostazioni del server.** Metti in cima alla lista le emoji nuove di zecca e guarda quelle vecchie andare a fondo nel dimenticatoio, tristi... sole e abbandonate... come me...\n\nTutto a posto, adesso, sto bene {fixed}\n======================\n\n* **Millemila link di [regali](https://discordapp.com/nitro) non distruggeranno più Discord.** Puoi distribuire doni come se piovesse, con la forza di un uragano a braccetto con un tornado a passeggio sotto un tifone senza che Discord si rannicchi tremante chiedendo pietà.\n* **Premere la barra spaziatrice mentre visualizzi un\'immagine non la duplicherà più.** O o o p p s s c u s a a a t e e e\n\nDa casa nostra alla tua {progress}\n======================\n\n* **Le Case HypeSquad del Coraggio, dell\'Intelligenza e dell\'Equilibrio sono sempre alla ricerca di nuove reclute.** [Iscriviti attraverso l\'app](https://discordapp.com/settings/hypesquad-online) con un breve quiz della personalità, e vai e fatti smistare. Mostra con orgoglio lo stemma della tua Casa con un badge unico sul tuo profilo, scopri le gare e i concorsi e, in generale, sii una persona molto più figa di quanto eri prima (questo è quello che pensiamo noi).\n* **Vuoi rappresentare Discord nel mondo reale?** Come Partecipante di Eventi HypeSquad, sfoggia con orgoglio il nostro logo sul tuo petto durante i tuoi raduni locali. Oppure, dona al club dei gamers della tua università una vagonata di gadget in omaggio e benefici per i server, come Coordinatore di Eventi HypeSquad. [Iscriviti qui](http://discordapp.com/hypesquad)!\n* **[Diventa un Partner Discord](https://discordapp.com/partners)** Tu fornisci i tuoi fantastici contenuti di gioco su piattaforme locali a tua scelta, noi ti forniamo una felpa strafica, benefici esclusivi per i server della tua community e molto altro.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "nl"\nyoutube_video_id: "teCVXzKRVFc"\n---\nOPGELET, SPOILERS {added marginTop}\n======================\n\n* **PSSST. Discord heeft nu Spoiler-tags!** Zet tekst tussen balkjes \\|| zoals hier \\|| om relevante informatie te verbergen. Dit werkt op tekst, afbeeldingen, emoji, etc.\n* **De mobiele app-indicator is aan de desktop-versie toegevoegd.** Nu kun je een indicatie geven van hoe klein de wereld is als je tussen de sterren zweeft. Of eigenlijk, nu weet je wanneer je vrienden op de WC zitten en niet gereed zijn om met je te spelen.\n* **De GIF-picker is nu beschikbaar!** Je kan massa\'s GIFs doorzoeken en als favoriet opslaan, en zelfs GIFs die je zelf uploadt aan je favorieten toevoegen. Wat is er mis met een beetje zelfwaardering?\n* **De schatting van de bandbreedte voor videogesprekken is verbeterd.** Als je een goede verbinding hebt, zal je videogesprek niet meer spontaan in een gepixeleerd 2D-spelletje veranderen.\n* **Navigeren met het toetsenbord in de GIF-picker.** Vermijd een muisarm: gebruik je toetsenbord en spaar vijf calorieën per GIF uit.\n* **Navigeren met het toetsenbord kan ook in de Discord Store.** Dat zijn nu al tien calorieën.\n* **Mobiele Spotify Afspeellijst is nu beschikbaar voor Androidgebruikers.** Ja, ik heb deze hele treinrit naar dezelfde emo-soundtrack zitten luisteren. Nee, ik ben niet oké.\n* **Je kan nu de volgorde van je emoji in de serverinstellingen omkeren.** Plaats je gloednieuwe emoji bovenaan en laat de oude naar onder wegzakken... eenzaam en vergeten... zoals ik...\n\nOké, het gaat weer {fixed}\n======================\n\n* **Discord heeft geen problemen meer met grote aantallen [geschenk](https://discordapp.com/nitro)-links.** Je kan het cadeautjes laten regenen alsof er een cadeautjestornado een dansje maakt met een orkaan bij het licht van een onweer \\- en Discord zal het onbevreesd doorstaan.\n* **Afbeeldingen worden niet meer verdubbeld wanneer je op de spatiebalk drukt.** O o e e p p s s.\n\nVan onze afdeling naar jou {progress}\n======================\n\n* **De HypeSquad-afdelingen Bravery, Brilliance, en Balance zijn altijd op zoek naar nieuwe rekruten.** [Neem deel](https://discordapp.com/settings/hypesquad-online) door een korte persoonlijkheidstest te voltooien. Je krijgt een afdelingsbadge op je profiel, informatie over wedstrijden en promoties, en iedereen zal je nog veel cooler vinden dan je al was (volgens ons toch).\n* **Wil je Discord vertegenwoordigen in de echte wereld?** Als HypeSquad Event Attendee kan je op evenementen trots ons logo dragen. En als HypeSquad Event Coordinator kan je de gameclub op je universiteit een hoop gratis merch en extraatjes bezorgen [Schrijf je hier in](http://discordapp.com/hypesquad)!\n* **[Word een Discord-partner.](https://discordapp.com/partners)** Jij plaatst geweldige gamingcontent op een video-sharingsite naar keuze, en wij sturen jou een coole hoodie, exclusieve servervoordelen voor je community, en nog veel meer.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "sv-se"\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS HITÅT {added marginTop}\n======================\n\n* **PSSST. Discord har nu Spoiler-tags!** Omge vilken text som helst med dessa murar \\|| såhär \\|| för att gömma all hemlig information. Fungerar på text, bilder, emejis och så vidare.\n* **Mobilindikatorn finns nu på desktopen** så att du kan visa hur liten världen är när du är på väg att kretsa runt i stjärna. Eller, så kan helt enkelt bara se när dina kompisar är på toa och därför inte redo att hoppa in i spelkön.\n* **GIF-väljaren är nu live!** Du kan söka bland och bokmärka mängder av GIF:ar, och till och med bokmärka dem du laddat in i Discord. Inget går upp mot litet självvalidering.\n* **Bandbreddsberäkning för videosamtalen fick en buff.** Med en bra uppkoppling kommer man inte längre behöva se sina videosamtal förvandlas till spontana pixelspel i 2D.\n* **Navigeringen för GIF-väljaren har fått tangentbordsorientering.** Sluta sträcka dig efter musen så mycket, och spara energi. Använd de extra 5 kalorierna till något bättre.\n* **Vi la till tangentbordsnavigation i butiken också.** Okej, 10 extra kalorier.\n* **Mobilt What\'s Playing för Spotify är nu live för Android-användare.** Ja, jag har lyssnat på samma sorgliga soundtrack på repeat hela vägen till jobbet. Nej, jag är inte ok.\n* **Du kan nu vända din emojilista i servern bak-och-fram.** Få nya skinande emojis längst upp och se de gamla dala ner till botten, där de kommer samla damm... glömda... precis som jag är...\n\nJag mår bra nu {fixed}\n======================\n\n* **Discord kraschar inte längre av många [gåvo](https://discordapp.com/nitro)-länkar.** Du kan nu skapa prisregn som en orkan som håller hand med en monsun under ett åskoväder utan att Discord ryggar tillbaka av fasa.\n* **Om man trycker mellanslag medan man tittar på en bild så dupliceras inte längre bilden.** V v å å r r t t  f f e e l l.\n\nFrån Oss Till Er {progress}\n======================\n\n* **HypeSquads Hus, Mod, Briljans och Balans letar alltid efter nya rekryter.** [Anmäl dig i appen](https://discordapp.com/settings/hypesquad-online) genom att göra ett kort personlighetstest och bli sorterad. Visa upp ditt Hus med ett unikt profilmärke, få reda på mer om tävlingar och giveaways, och vara så mycket coolare i allmänhet än du var tidigare (tycker vi).\n* **Vill du reppa Discord i den riktiga världen?** Som HypeSquad Eventdeltagare kan du stolt visa upp vår logo på ditt bröst vid lokala cons. Eller, ge din universitetsspelklubb en jättehög med gratis merch och serverfördelar om du är en HypeSquad Event-koordinator. [Ansök här](http://discordapp.com/hypesquad)!\n* **[Bli en Discord-partner.](https://discordapp.com/partners)** Du förser skönt gaming-content till en videosite du väljer själv, vi fixar en grym hoodie och unika serverfördelar för ditt community, och mer.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "ru"\nyoutube_video_id: "teCVXzKRVFc"\n---\nВНИМАНИЕ, СПОЙЛЕРЫ! {added marginTop}\n======================\n\n* **ТСССС. У Discord появился тэг для Спойлеров!** Поместите желаемый текст в тэг \\|| вот так \\|| чтобы скрыть желаемую информацию. Работает с текстом, изображениями, эмодзи и так далее.\n* **Мобильный индикатор доступен в версии для ПК**, так что вы сможете увидеть насколько мал наш мир, подобно гигантской звезде вращающейся вокруг нашего мирка. Или просто сможете узнать, что ваши друзья в туалете, и не готовы присоединиться к игре.\n* **Появился выбор GIF-ок!** Вы можете искать ваши любимые шутки в виде GIF-ок, и даже загружать свои любимые в Discord. Ничего особенного, просто что-то типа самоутверждения.\n* **Оценка пропускной способности канала для видеозвонков была улучшена.** При хорошем соединении вы больше не увидите, как видеовызов превращается в импровизированную пиксельную 2D-игру.\n* **Для выбора GIF-ок доступна клавиатурная навигация.** Прекратите тянуться за мышкой и сэкономьте немного энергии. Наслаждайтесь этими драгоценными 5 калориями.\n* **Навигация с клавиатуры также доступна для магазина.** А  это уже целых 10 калорий.\n* **Опция "Что играет" в Spotify теперь доступна для пользователей Android.** Да, я слушал один и тот же грустный саундтрек на повторе во время всей этой поездки. Нет, я не в порядке.\n* **Теперь вы можете сортировать свой список смайликов в настройках сервера.** Разместите блестящие новые эмодзи сверху и наблюдайте, как ваши старые опустятся на самое дно, где они будут собирать пыль… забытые… как и я…\n\nТеперь я в порядке {fixed}\n======================\n\n* **Многочисленные ссылки с [подарками](https://discordapp.com/nitro) больше не выводят Discord из строя.** Теперь вы можете создать дождь из подарков, подобно урагану, с муссонами и грозами, не опасаясь что Discord при виде этого всего будет дрожать от страха.\n* **Нажатие клавиши пробела при просмотре изображения больше не дублирует само изображение.** Н а а а а ш а  о ш  и и и и б о ч к а.\n\nОт нашего Дома - Вашему {progress}\n======================\n\n* **HypeSquad Дома Bravery, Brilliance и Balance всегда рады новобранцам.** [Зарегистрируйтесь в приложении](https://discordapp.com/settings/hypesquad-online), пройдя короткий тест и присоединитесь к одному из них. Похвастайтесь уникальным значком принадлежности к одному из Домов, узнайте о конкурсах и раздачах, и вообще, станьте намного круче, чем вы когда-либо были (ну, мы так думаем).\n* **Хотите представлять Discord в реальном мире?** Как участник мероприятий от HypeSquad, с гордостью носите наш логотип на теле вокруг своих локальных недостатков. Или предоставьте вашему университетскому игровому клубу кучу бесплатных вещичек и серверных привилегий будучи координатором событий HypeSquad. [Подайте заявку здесь](http://discordapp.com/hypesquad)!\n* **[Станьте партнером Discord.](https://discordapp.com/partners)** Вы предоставляете нам крутейший игровой контент на выбранном вами видео-портале, а мы снабдим вас чумовой толстовкой, уникальными перками на сервере вашего сообщества и многим другим.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "ko"\nyoutube_video_id: "teCVXzKRVFc"\n---\n스포일러 등장 {added marginTop}\n======================\n\n* **저기요! Discord에 Spoiler 태그가 새로 생겼어요!** \\||이런 식으로\\|| 태그에 텍스트를 넣으면 관련 정보를 숨깁니다. 텍스트, 이미지, 이모티콘 등에서 작동합니다.\n* **모바일 표시기가 이제 데스크탑 버전에도 표시됩니다** 어떤 친구들이 화장실에서 오랫동안 볼일을 보고있는지 또는 핸드폰을 들고 블랙홀에 빠졌는지를 확인할 수 있습니다.\n* **이제 GIF를 선택하실 수 있습니다!** 좋아하는 GIF들을 검색하고,즐겨 찾기에 추가해 보세요. 마음에 드는 GIF들은 Discord에 업로드하실 수도 있습니다. 앗싸, 가오리!\n* **화상 채팅의 대역폭 측정이 완전 좋아졌어요.** 연결 상태가 좋으면 화상 채팅의 화질 저하가 더 이상 나타나지 않습니다.\n* **키보드 전용 네비게이션은 GIF Picker 용입니다** 마우스를 너무 많이 사용하지 마시고 에너지를 절약해 보세요. 추가로 5칼로리는 절약할 수 있지요.\n* **키보드 네비게이션도 스토어에 추가되었습니다.** 앗싸! 10 칼로리.유후!\n* **모바일 Spotify에 플레이되는 음악이 이제 안드로이드 사용자들을 위해 라이브로 갑니다.** 맞아요, 출근 시간에 똑같은 슬픈 사운드 트랙을 계속 들어왔어요.ㅠㅠ 왕 짜증.\n* **이제 서버 설정에서 이모티콘 목록을 바꿀 수 있습니다.** 반짝이는 새로운 이모티콘을 맨위에 놓고 오래된 것들이 바닥으로 흘러 내리는 것을 지켜보세요. 잊혀질 때까지...T.T\n\n이제 괜찮아! {fixed}\n======================\n\n* **많은 [기프트](https://discordapp.com/nitro) 링크 문제가 해결되었습니다.** 이제 화끈하게 쭈욱~ 한 턱 쏴!\n* **이미지를 볼때 스페이스 바를 누르면 더 이상 이미지가 복제되지 않습니다.** 죄쏘옹~~~~\n\n우리 집에서 너의 집으로 {progress}\n======================\n\n* **Bravery, Brilliance 그리고 Balance의 HypeSquad Houses는 언제나 그렇듯 새로운 신참을 찾고 있습니다.** 간단한 성격 테스트로 [App에 회원 가입](https://discordapp.com/settings/hypesquad-online)해 보세요. 독특한 프로필 배지를 사용하여 당신의 하우스를 자랑질하고 경연 및 경품에 대해 알아보고 예전에 모습과는 다른 완전 멋진 킹짱맨이 되보세요.\n* **친구들 앞에서 디스코드를 대표하고 싶으세요?** HypeSquad 이벤트 참석자로서 당신의 몸에 로고를 붙이고 룰루랄라 자랑을 해보세요. 또는 대학 게임 클럽에 HypeSquad 이벤트 코디네이터로 무료 상품 및 서버 특전을 제공해 보세요. [여기에서 신청하시면 돼요.](http://discordapp.com/hypesquad)!\n* **[디스코드의 파트너가 되보세요.](https://discordapp.com/partners)** 당신이 선택한 지역의 비디오 게임 웹 사이트에 멋진 게임 콘텐츠를 제공하고 후디 티셔츠와 독특한 서버 특혜를 제공합니다. 바로 당신의 커뮤니티와 그 이상을 위해.\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nlocale: "ja"\nyoutube_video_id: "teCVXzKRVFc"\n---\nこの先、ネタバレ注意！ {added marginTop}\n======================\n\n* **注目：Discordにネタバレタグが登場！** 伏せておきたい情報を \\|| こんなふうに \\|| 囲んでみよう。テキスト、画像、絵文字などで使用可能。\n* **モバイルインジケーターがデスクトップに搭載** この世界には仲間がいるってことを巨大な衛星のようにお知らせしよう。またはトイレにいってて、まだ対戦できない友達がいるかチェックするのもアリ。\n* **GIFピッカー実装！** よりどりみどりのGIFを検索して、お気に入り登録しよう。自分でDiscordにアップしたGIFをお気に入り登録するのも可能。マイベストな逸品をあらためて見てみよう。\n* **ビデオ通話の帯域幅予測機能がさらにパワーアップ** 接続状況は悪くないのに、ビデオ通話が2Dドット絵のゲームみたいな画質に…ってことがこれでなくなるよ。\n* **GIFピッカーがキーボードだけで操作できるように** いちいちマウスを動かさなくていいので楽ちん。その5カロリー分のエネルギーはどこか別の場所で使おう！\n* **ストアがキーボードで操作可能に** これで10カロリー分かな？\n* **Spotifyの視聴音楽表示機能がAndroidで使用可能に** そうそう、通勤中ずっとこの悲しいバラードを聴いてるんだけど、結構病んでるかも…\n* **サーバーの設定で絵文字リストを入れ替えられるように** 使いたてホヤホヤの新しい絵文字は上に、古い絵文字は下にいくよ。ホコリがたまって忘れ…られてる…まるでぼくみたいに…\n\n…でも、大丈夫！ {fixed}\n======================\n\n* **[ギフト](https://discordapp.com/nitro)リンクに関する多くの問題が解決された** これで雷雨の下で手をつなぐハリケーンとモンスーンみたいにギフトを贈りまくることができるよ！恐怖におびえるDiscordなんていなかったのだ！\n* **画像を確認中にスペースバーを押しても、画像が重複することがなくなった** すすす、すまなかっっったあああ\n\nファミリーからのあいさつ {progress}\n======================\n\n* **Bravery、Brilliance、BalanceのHypeSquad三大ファミリーはいつでも新しい仲間を募集中** [ここで](https://discordapp.com/settings/hypesquad-online) ちょっとした性格診断テストを受けて登録すれば、自分にぴったりなファミリーがわかるよ。それぞれのプロフィールバッジで自らのファミリーをアピールしたり、イベントやプレゼントの情報をゲットしたりすることで、今までにないくらいクールな自分になれる（はず）。\n* **リアル世界でもDiscordをレペゼンしよう** HypeSquadメンバーとして、Discordのロゴを堂々と胸に掲げ、色んなゲームイベントに参加しよう。HypeSquadイベントコーディネーターになれば、所属する大学のゲームサークルに無料のグッズセットとサーバー特典をプレゼント。 [ご登録](http://discordapp.com/hypesquad) お待ちしてます！\n* **[Discordパートナーになろう](https://discordapp.com/partners)** 動画ウェブサイトでゲーム系コンテンツを配信すれば、超クールなパーカーや独自のサーバー特典などが君のものに。\n\n---changelog---\ndate: "2019-04-01"\nrevision: 1\nyoutube_video_id: "teCVXzKRVFc"\n---\nSPOILERS AHEAD {added marginTop}\n======================\n\n* **PSSST. Discord now has Spoiler tags!** Surround any text with these guardrails \\|| like so \\|| to hide any pertinent information. Works on text, images, emoji, etc.\n* **Mobile Indicator is now on desktop** so you can indicate the smallness of the world on the go like a giant orbiting star. Or, just see if your friends are on the toilet and not ready to queue up.\n* **GIF Picker is now live!** You can search and favorite oodles of GIFs, and even favorite the ones you upload into Discord. Nothing like a little self validation.\n* **Bandwidth estimation for video calls got a buff.** Good connections will no longer see their video call get turned into an impromptu 2D pixel game.\n* **Keyboard-only navigation is here for GIF Picker.** Stop reaching for your mouse so much and save some energy. Enjoy those extra 5 calories.\n* **Keyboard navigation was also added to the store.** Make that 10 calories.\n* **Mobile Spotify What’s Playing is now live for Android users.** Yes, I’ve been listening to the same sad soundtrack on repeat for this entire commute. No, I’m not ok.\n* **You can now reverse your emoji list in server settings.** Put shiny, new emoji at the top and watch your old ones float to the bottom, where they will collect dust....forgotten....like me...\n\nI\'m OK Now {fixed}\n======================\n\n* **Many [gift](https://discordapp.com/nitro) links no longer break Discord.** You can now make it rain gifts like a hurricane holding hands with a monsoon underneath a thunderstorm without Discord cowering in fear.\n* **Pressing space bar when viewing a picture no longer duplicates the image.** O o u u r r  b b a a d d.\n\nFrom Our House To Yours {progress}\n======================\n\n* **The HypeSquad Houses of Bravery, Brilliance, and Balance are always looking for new recruits.** [Sign up in app](https://discordapp.com/settings/hypesquad-online) by taking a short personality quiz and get sorted. Show off your House with a unique profile badge, learn about competitions and giveaways, and generally be a much cooler person than you once were (we think so).\n* **Wanna rep Discord in the real world?** As a HypeSquad Event Attendee, proudly display our logo on your torso at your local cons. Or, give your university gaming club a caboodle of free merch and server perks as a HypeSquad Event Coordinator. [Apply here](http://discordapp.com/hypesquad)!\n* **[Become a Discord Partner.](https://discordapp.com/partners)** You supply the sweet gaming content on your local neighborhood video website of choice, we’ll supply a dope hoodie, unique server perks for your community, and more.\n'},8205:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(187))&&r.__esModule?r:{default:r};function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i,l=a.default.defaultRules.lheading,s=a.default.defaultRules.link,u=a.default.defaultRules.image,d=a.default.defaultRules.list,c=/\{(.+?)}/,f=o({},(i=n(8206)).baseRules,{image:o({},u,i.customRules.image),link:o({},s,i.customRules.link),list:o({},d,i.customRules.list),lheading:o({},l,{parse:function(e,t,n){var r=c.exec(e[1]);return{className:null!=r?r[1]:null,level:"="===e[2]?1:2,content:a.default.parseInline(t,e[1].replace(c,"").toUpperCase(),n)}}},i.customRules.lheading)}),p={getDefaultRules:function(){return o({},f)}};t.default=p,e.exports=t.default},8206:function(e,t,n){"use strict";t.__esModule=!0,t.customRules=t.baseRules=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=f(n(187)),o=f(n(6788)),i=f(n(824)),l=n(7270),s=f(n(305)),u=f(n(18)),d=f(n(240)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=a.default.defaultRules.link,m=d.default.getDefaultRules();t.baseRules=m;var y={section:c.AnalyticsSections.SETTINGS_CHANGELOG};var _={link:{parse:function(e,t,n){var r,a=e[2],l=a.startsWith("https://discordapp.com/nitro"),s=a.startsWith("https://discordapp.com/hypesquad");return r=l||s?function(e){u.default.track(c.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:y}),l?i.default.open(c.UserSettingsSections.PREMIUM):s&&i.default.open(c.UserSettingsSections.HYPESQUAD_ONLINE),n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,{cta_type:"nitro"}),o.default.hideChangeLog(),e.preventDefault()}:function(){n.changeLog.track(c.AnalyticEvents.CHANGE_LOG_CTA_CLICKED,h({},u.default.getCampaignParams(a)))},h({},v.parse(e,t,n),{callToAction:r})},react:function(e,t,n){return p(s.default,{href:a.default.sanitizeUrl(e.target),title:e.title,onClick:e.callToAction,target:"_blank",className:e.callToAction?"cta":null},n.key,t(e.content,n))}},lheading:{react:function(e,t,n){return p(l.LHeading,{level:e.level,className:e.className},n.key,t(e.content,n))}},image:{react:function(e,t,r){var a=n(7090)("./"+e.target);return p("img",{alt:e.alt,src:a},r.key)}}};t.customRules=_},8207:function(e,t,n){e.exports=n.p+"dca6464b06c48b1fab5f2e8320446b32.mp4"},8208:function(e,t,n){e.exports=n.p+"7f34e6e3da7d1403bad96e20b9b3a32c.mp4"},8209:function(e,t,n){e.exports=n.p+"7c2b742b0f9040988b4bb4e351fdedb9.mp4"},8210:function(e,t,n){e.exports=n.p+"7f73b3e68d81916d67cc58a3deeca567.mp4"},8211:function(e,t,n){e.exports=n.p+"d6a1cc0cb7f729ae421d609d72839816.mp4"},8212:function(e,t,n){e.exports=n.p+"46e2829b759fbdc67b1a24ff96a415b2.jpg"},8213:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=m(n(2)),o=v(n(839)),i=m(n(466)),l=v(n(8214)),s=v(n(8215)),u=v(n(8216)),d=v(n(18)),c=n(938),f=v(n(9)),p=n(0),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getError=function(e){var t=this.props.errors;return t&&t[e]?t[e]:""},a.render=function(){var e=this.props,t=e.step,n=e.forced,r=e.openedByChatBox,a=e.submitting,o=e.email,i=h.default.Messages.CLAIM_ACCOUNT_BODY;switch(n?i=h.default.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:r&&(i=h.default.Messages.GUILD_VERIFICATION_TEXT_NOT_CLAIMED),t){case p.AccountModalSteps.FORM_SUBMIT:default:return y(s.default,{title:i,emailError:this.getError("email"),passwordError:this.getError("password"),submitting:a,onSubmit:this.handleClaim,onLogout:n?this.handleLogout:null,buttonText:h.default.Messages.CLAIM_ACCOUNT});case p.AccountModalSteps.FORM_SUCCESS:return y(u.default,{forced:n,openedByChatBox:r,email:o,onClickGetApp:this.handleClickGetApp,onClose:this.close})}},a.handleClaim=function(e,t){i.claim(e,t)},a.handleClickGetApp=function(){window.open((0,c.getCurrentPlatformDownloadURL)(),"_blank"),d.default.track(p.AnalyticEvents.DOWNLOAD_APP,{platform:(0,c.getPlatformReadableName)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal"})},a.handleLogout=function(){o.default.logout()},a.close=function(){i.close()},r}(a.PureComponent);_.displayName="ClaimAccount",_.modalConfig={store:l.default,closable:f.default.isWeb()};var g=_;t.default=g,e.exports=t.default},8214:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(1)),o=d(n(9)),i=d(n(6055)),l=d(n(14)),s=d(n(6661)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=u.FormStates.CLOSED,f=u.AccountModalSteps.FORM_SUBMIT,p=!1,h=!1,v=null,m={};function y(e){var t=l.default.getCurrentUser();if(null==t||t.isClaimed())return!1;c=u.FormStates.OPEN,m={},h=e.openedByChatBox||!1}function _(){c=u.FormStates.CLOSED,m={}}var g=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(l.default,i.default,s.default)},a.isOpen=function(){return!i.default.hasAction()&&c!==u.FormStates.CLOSED},a.getProps=function(){return{submitting:c===u.FormStates.SUBMITTING,step:f,forced:p,openedByChatBox:h,email:v,errors:m}},r}(r.default.Store))(a.default,{CONNECTION_OPEN:function(e){return t=s.default.getExperimentDescriptor(),!(l.default.getCurrentUser().isClaimed()||!o.default.embedded||null!=t&&t.bucket!==u.ExperimentBuckets.CONTROL)&&(p=!0,void y({}));var t},CLAIM_ACCOUNT_MODAL_OPEN:y,NEW_USER_FLOW_GUILD_CREATED:y,CLAIM_ACCOUNT_SUBMITTED:function(e){c=u.FormStates.SUBMITTING},CLAIM_ACCOUNT_SUCCESS:function(e){c=u.FormStates.OPEN,f=u.AccountModalSteps.FORM_SUCCESS,v=e.email},CLAIM_ACCOUNT_FAILURE:function(e){c=u.FormStates.OPEN,m=e.errors},CLAIM_ACCOUNT_MODAL_CLOSE:function(e){return _()},CONNECTION_CLOSED:function(e){return _()},NEW_USER_FLOW_SET_STEP:function(e){-1===e.step&&y({})},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=g,e.exports=t.default},8215:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(124)),i=h(n(148)),l=h(n(220)),s=h(n(125)),u=h(n(822)),d=n(823),c=n(0),f=h(n(13)),p=h(n(5925));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleEmailChange=function(e){n.setState({email:e})},n.handleUsernameChange=function(e){n.setState({username:e})},n.handlePasswordChange=function(e){n.setState({password:e})},n.handleSubmit=function(e){e.preventDefault();var t=n.props.onSubmit,r=n.state,a=r.email,o=r.password,i=r.username;t&&t(a,o,i)},n.handleLogout=function(){var e=n.props.onLogout;e&&e()},n.state={email:"",username:"",password:""},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isSubmittable=function(){var e=this.state,t=e.email,n=e.password;return t.length>0&&n.length>0},a.renderEmailInput=function(){return v(d.FormItem,{title:f.default.Messages.FORM_LABEL_EMAIL,className:p.default.formItem},void 0,v(u.default,{value:this.state.email,error:this.props.emailError,onChange:this.handleEmailChange,autoFocus:!0}))},a.renderUsernameInput=function(){return v(d.FormItem,{title:f.default.Messages.FORM_LABEL_USERNAME,className:p.default.formItem},void 0,v(u.default,{value:this.state.username,error:this.props.usernameError,onChange:this.handleUsernameChange}))},a.renderPasswordInput=function(){return v(d.FormItem,{title:f.default.Messages.FORM_LABEL_PASSWORD,className:p.default.formItem},void 0,v(u.default,{type:"password",value:this.state.password,error:this.props.passwordError,onChange:this.handlePasswordChange}))},a.renderPrimaryButton=function(){var e=this.props.buttonText;return v(o.default,{type:"submit",size:o.default.Sizes.LARGE,submitting:this.props.submitting,disabled:!this.isSubmittable(),fullWidth:!0},void 0,e)},a.renderLogout=function(){return v(s.default,{color:s.default.Colors.PRIMARY,className:p.default.logout,onClick:this.handleLogout,size:s.default.Sizes.SMALL},void 0,f.default.Messages.LOGOUT)},a.render=function(){var e=this.props,t=e.title,n=e.type,r=e.onLogout,a=e.buttonText;return v(l.default,{tag:"form",onSubmit:this.handleSubmit},void 0,v(l.default.Content,{className:p.default.content},void 0,v("div",{className:p.default.image}),v("div",{className:p.default.title},void 0,t)),v(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,this.renderEmailInput(),n===c.AccountModalTypes.REGISTER?this.renderUsernameInput():null,this.renderPasswordInput(),null!=a?this.renderPrimaryButton():null,null!=r?this.renderLogout():null))},r}(a.PureComponent);m.displayName="AccountModal";var y=m;t.default=y,e.exports=t.default},8216:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(124)),i=d(n(148)),l=d(n(220)),s=d(n(13)),u=d(n(5926));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderCloseButton=function(){var e=this.props,t=e.forced,n=e.onClose;return t?null:c(l.default.CloseButton,{className:u.default.closeButton,onClick:n})},a.renderFooter=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,r=e.onClickGetApp,a=e.onClose;return t||n?c(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,c(o.default,{size:o.default.Sizes.LARGE,onClick:a},void 0,s.default.Messages.OKAY)):c(l.default.Footer,{direction:i.default.Direction.VERTICAL},void 0,c("div",{className:u.default.appPromotion},void 0,s.default.Messages.CLAIM_ACCOUNT_PROMOTE_APP),c(o.default,{color:o.default.Colors.GREEN,size:o.default.Sizes.LARGE,onClick:r},void 0,s.default.Messages.CLAIM_ACCOUNT_GET_APP))},a.render=function(){var e=this.props,t=e.forced,n=e.openedByChatBox,r=e.email,a=t||n?s.default.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:s.default.Messages.CLAIM_ACCOUNT_EMAIL_TO;return c(l.default,{className:u.default.modal},void 0,c(l.default.Content,{className:u.default.content},void 0,this.renderCloseButton(),c("div",{className:u.default.image}),c("div",{className:u.default.title},void 0,a.format({email:r}))),this.renderFooter())},r}(a.PureComponent);f.displayName="ClaimAccountModalSuccess";var p=f;t.default=p,e.exports=t.default},8217:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=L(n(6)),i=L(n(3)),l=L(n(6145)),s=L(n(827)),u=n(126),d=L(n(20)),c=L(n(8218)),f=L(n(41)),p=L(n(28)),h=L(n(124)),v=L(n(148)),m=L(n(301)),y=L(n(220)),_=L(n(6015)),g=L(n(6109)),E=L(n(5998)),S=L(n(125)),T=L(n(822)),O=L(n(442)),I=L(n(440)),C=L(n(107)),N=n(449),A=L(n(8219)),M=L(n(8221)),P=n(0),b=L(n(13)),R=L(n(5927));function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function w(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){var t=null!=e?p.default.getGuild(e):null;return null!=t?(0,o.default)(t.roles).sortBy(function(e){return e.position}).value():[]}var G=function(e){function t(t){var n;(n=e.call(this,t)||this).handleApplicationChange=function(e){var t=e.value;n.setState({applicationId:t})},n.handleSKUChange=function(e){n.setState({skuId:e})},n.handleShowBranchesToggle=function(e){var t=e.currentTarget.checked;n.setState({showBranches:t,branchId:null})},n.handleBranchChange=function(e){n.setState({branchId:e})},n.handleHasBranchesChange=function(e){n.setState({hasBranches:e})},o.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleNameChange","handleTypeChange","handlePrivacyChange","handleSubmit","setInputRef"]);var r=t.channelType,a=t.cloneChannel;return n.state={channelType:r||P.ChannelTypes.GUILD_TEXT,name:null!=a?a.toString():"",permissionOverwrites:new Set,roles:k(t.guildId),isPrivate:!1,prevGuildId:t.guildId,applicationId:null,skuId:null,branchId:null,showBranches:!1,hasBranches:!1},n}D(t,e),t.getDerivedStateFromProps=function(e,t){var n={prevGuildId:e.guildId,roles:k(e.guildId)};return t.prevGuildId!==e.guildId&&(n.permissionOverwrites=new Set),n};var n=t.prototype;return n.componentDidMount=function(){var e=this._input;null!=e&&e.select();var t=this.props,n=t.guildId,r=t.applications;t.canCreateStoreChannel&&null==r&&s.default.fetchApplications(n)},n.componentDidUpdate=function(e,t){!t.isPrivate&&this.state.isPrivate&&this.state.channelType===P.ChannelTypes.GUILD_NEWS&&this.setState({channelType:P.ChannelTypes.GUILD_TEXT})},n.getGuildId=function(e){return void 0===e&&(e=this.props),e.guildId},n.setInputRef=function(e){this._input=e},n.handleNameChange=function(e){var t=this.state.channelType;(0,u.isGuildTextChannelType)(t)&&(e=(0,N.sanitizeGuildTextChannelName)(e)),this.setState({name:e})},n.handleTypeChange=function(e){var t=e.value,n=this.state.name;(0,u.isGuildTextChannelType)(t)&&(n=(0,N.sanitizeGuildTextChannelName)(n)),this.setState({channelType:t,name:n})},n.handleRoleChange=function(e,t){var n=new Set(this.state.permissionOverwrites);e===this.getGuildId()?n.clear():t.currentTarget.checked?n.add(e):n.delete(e),this.setState({permissionOverwrites:n})},n.handlePrivacyChange=function(e){var t=e.currentTarget.checked,n=this.state.permissionOverwrites;!1===t&&(n=new Set),this.setState({isPrivate:t,permissionOverwrites:n})},n.canSubmit=function(){var e=this.state,t=e.isPrivate,n=e.permissionOverwrites,r=e.channelType,a=e.skuId;return(!t||0!==n.size)&&(r!==P.ChannelTypes.GUILD_STORE||null!=a)},n.handleSubmit=function(e){e.preventDefault();var t,n,r,a=this.props,i=a.cloneChannel,s=a.categoryId,u=this.state,d=u.name,c=u.permissionOverwrites,f=u.channelType,p=u.skuId,h=u.branchId,v=this.getGuildId();null!=v&&(null!=i?(t=o.default.values(i.permissionOverwrites),n=i.bitrate,r=i.userLimit):t=f===P.ChannelTypes.GUILD_NEWS?(0,N.permissionOverwritesForNews)(v):(0,N.permissionOverwritesForRoles)(v,f,Array.from(c)),l.default.createChannel(v,f,d,t,n,r,f!==P.ChannelTypes.GUILD_CATEGORY?s:null,p,h))},n.renderHeader=function(){var e,t,n=this.props,r=n.cloneChannel,a=n.categoryId,o=this.state.channelType;if(e=null!=r?b.default.Messages.CLONE_CHANNEL:o===P.ChannelTypes.GUILD_CATEGORY?b.default.Messages.CREATE_CATEGORY:o===P.ChannelTypes.GUILD_TEXT?b.default.Messages.CREATE_TEXT_CHANNEL:o===P.ChannelTypes.GUILD_STORE?b.default.Messages.CREATE_STORE_CHANNEL:o===P.ChannelTypes.GUILD_NEWS?b.default.Messages.CREATE_NEWS_CHANNEL:b.default.Messages.CREATE_VOICE_CHANNEL,null!=a){var i=d.default.getChannel(a);t=w(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.PRIMARY,className:R.default.subtitle},void 0,b.default.Messages.IN_CATEGORY.format({categoryName:i?i.name:""}))}return w(y.default.Header,{},void 0,w(v.default.Child,{grow:1,shrink:1},void 0,w(C.default,{tag:C.default.Tags.H4,className:R.default.header},void 0,e),t))},n.renderName=function(){var e,t,n,r=this.props,a=r.errors,o=r.cloneChannel,i=r.channelType;return null!=a.name&&(e=w(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.RED,className:R.default.error},void 0,a.name)),null!=o&&(t=w(I.default,{className:R.default.cloneInfo,type:I.default.Types.DESCRIPTION},void 0,b.default.Messages.CLONE_CHANNEL_HELP.format({name:o.toString(!0)}))),n=i===P.ChannelTypes.GUILD_CATEGORY?b.default.Messages.CATEGORY_NAME:b.default.Messages.FORM_LABEL_CHANNEL_NAME,w(O.default,{title:n,className:R.default.name},void 0,w(T.default,{value:this.state.name,onChange:this.handleNameChange,inputRef:this.setInputRef,maxLength:100,autoFocus:!0}),e,t)},n.renderType=function(){var e=this.props,t=e.cloneChannel,n=e.applications,r=e.canCreateStoreChannel,o=e.canCreateNewsChannel,i=this.state,l=i.channelType,s=i.isPrivate;if(null==t&&l!==P.ChannelTypes.GUILD_CATEGORY){var u=null!=n&&n.length>0;return w(O.default,{title:b.default.Messages.CHANNEL_TYPE,className:R.default.type},void 0,w(_.default,{options:function(e,t,n){var r=[{icon:e?m.default.Names.CHANNEL_TEXT_LIMITED:m.default.Names.CHANNEL_TEXT,label:b.default.Messages.TEXT_CHANNEL,value:P.ChannelTypes.GUILD_TEXT},{icon:e?m.default.Names.SPEAKER_LIMITED:m.default.Names.SPEAKER,label:b.default.Messages.VOICE_CHANNEL,value:P.ChannelTypes.GUILD_VOICE}];return n&&r.push({icon:m.default.Names.NEWSPAPER,label:b.default.Messages.NEWS_CHANNEL,value:P.ChannelTypes.GUILD_NEWS}),t&&r.push({icon:m.default.Names.STORE_TAG,iconSize:16,label:b.default.Messages.STORE_CHANNEL,value:P.ChannelTypes.GUILD_STORE}),r.map(function(e){var t=e.icon,n=e.iconSize,r=e.label,o=e.value;return{name:w(v.default,{align:v.default.Align.CENTER},void 0,a.createElement(m.default,U({name:t},null!=n?{width:n,height:n}:null,{className:R.default.icon,background:R.default.background,foreground:R.default.foreground})),r),value:o}})}(s,r&&u,o),value:l,onChange:this.handleTypeChange}))}},n.renderRole=function(e,t){if(0===t)return null;var n=this.state.permissionOverwrites,r=0===n.size&&e.id===this.getGuildId(),a=n.has(e.id)||r;return w(E.default,{onChange:this.handleRoleChange.bind(this,e.id),disabled:r,value:a,fill:e.colorString},e.id,w("span",{style:{color:e.colorString}},void 0,e.name))},n.renderStoreOptions=function(){var e=this.props.applications,t=this.state,n=t.applicationId,r=t.skuId,o=t.branchId,i=t.showBranches,l=t.hasBranches;if(null==e||0===e.length)throw new Error("Unexpected empty applications");return w("div",{},void 0,w(C.default,{tag:C.default.Tags.H5},void 0,b.default.Messages.CREATE_STORE_CHANNEL_APPLICATION),w(g.default,{options:e.map(function(e){return{label:e.name,value:e.id}}),placeholder:b.default.Messages.CREATE_STORE_CHANNEL_SELECT_APPLICATION,value:n,onChange:this.handleApplicationChange,className:R.default.storeChannelOptionSelector}),null!=n?w(a.Fragment,{},void 0,w(C.default,{tag:C.default.Tags.H5},void 0,b.default.Messages.CREATE_STORE_CHANNEL_SKU),w(M.default,{applicationId:n,onChange:this.handleSKUChange,selectedSkuId:r,className:R.default.storeChannelOptionSelector},n)):null,null!=n&&l?w(E.default,{hideBorder:!0,onChange:this.handleShowBranchesToggle,value:i,note:b.default.Messages.CREATE_STORE_CHANNEL_BETA_NOTE.format({devPortalUrl:P.MarketingURLs.API_DOCS_GAME_AND_SERVER_MANAGEMENT})},void 0,w(m.default,{name:m.default.Names.KEY,className:R.default.switchIcon}),b.default.Messages.CREATE_STORE_CHANNEL_BETA_TITLE):null,null!=n?w(a.Fragment,{},void 0,i?w(C.default,{tag:C.default.Tags.H5},void 0,b.default.Messages.CREATE_STORE_CHANNEL_BRANCH):null,w(A.default,{applicationId:n,onChange:this.handleBranchChange,selectedBranchId:o,hide:!i,onHasBranchesChange:this.handleHasBranchesChange,className:R.default.storeChannelOptionSelector},n)):null)},n.renderPrivacyOptions=function(){var e,t,n=this.props.cloneChannel,r=this.state,a=r.channelType,o=r.isPrivate,i=r.roles;return null!=n||i.length<=1||a===P.ChannelTypes.GUILD_NEWS?null:(a===P.ChannelTypes.GUILD_CATEGORY?(e=b.default.Messages.PRIVATE_CATEGORY,t=b.default.Messages.PRIVATE_CATEGORY_NOTE):(e=b.default.Messages.PRIVATE_CHANNEL,t=b.default.Messages.PRIVATE_CHANNEL_NOTE),w(O.default,{},"privacy-switch",w(E.default,{hideBorder:!0,onChange:this.handlePrivacyChange,value:o,note:t},void 0,w(m.default,{name:m.default.Names.LOCK_CLOSED,className:R.default.switchIcon}),e)))},n.renderPermissions=function(){var e,t=this.props.cloneChannel,n=this.state,r=n.roles,a=n.channelType;return!1===n.isPrivate||null!=t||a===P.ChannelTypes.GUILD_NEWS?null:(e=a===P.ChannelTypes.GUILD_CATEGORY?b.default.Messages.FORM_LABEL_CATEGORY_PERMISSIONS:a===P.ChannelTypes.GUILD_VOICE?b.default.Messages.FORM_LABEL_CHANNEL_VOICE_PERMISSIONS:b.default.Messages.FORM_LABEL_CHANNEL_PERMISSIONS,w("div",{},void 0,w(C.default,{tag:C.default.Tags.H5,className:R.default.permissionsTitle},void 0,e),r.map(this.renderRole,this)))},n.renderFooter=function(){var e;return e=this.props.channelType===P.ChannelTypes.GUILD_CATEGORY?b.default.Messages.CREATE_CATEGORY:b.default.Messages.CREATE_CHANNEL,w(y.default.Footer,{},void 0,w(h.default,{type:"submit",disabled:!this.canSubmit()},void 0,e),w(h.default,{onClick:this.close,look:h.default.Looks.LINK,color:h.default.Colors.PRIMARY},void 0,b.default.Messages.CANCEL))},n.render=function(){var e=this.state.channelType;return w(y.default,{className:R.default.modal,onSubmit:this.handleSubmit,tag:"form"},void 0,this.renderHeader(),w(y.default.Content,{},void 0,this.renderType(),this.renderName(),e===P.ChannelTypes.GUILD_STORE?this.renderStoreOptions():null,this.renderPrivacyOptions(),this.renderPermissions()),this.renderFooter())},n.close=function(){l.default.close()},t}(a.PureComponent);G.displayName="CreateChannel",G.modalConfig={store:c.default};var F=i.default.connectStores([f.default,p.default],function(e){var t=e.guildId,n=p.default.getGuild(t);return{applications:f.default.getApplicationsForGuild(t),canCreateStoreChannel:null!=n&&n.hasFeature(P.GuildFeatures.COMMERCE),canCreateNewsChannel:null!=n&&n.hasFeature(P.GuildFeatures.NEWS)}})(G),j=function(e){function t(){return e.apply(this,arguments)||this}return D(t,e),t.prototype.render=function(){return a.createElement(F,this.props)},t}(a.PureComponent);t.default=j,j.displayName="CreateChannelModal",j.modalConfig={store:c.default},e.exports=t.default},8218:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(20)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s,u,d,c,f=i.FormStates.CLOSED,p={};var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return f!==i.FormStates.CLOSED},a.getProps=function(){return{submitting:f===i.FormStates.SUBMITTING,categoryId:c,errors:p,channelType:s,cloneChannel:d,guildId:u}},r}(r.default.Store))(a.default,{CREATE_CHANNEL_MODAL_OPEN:function(e){f=i.FormStates.OPEN,p={},u=e.guildId,c=e.categoryId,null!=e.cloneChannelId?null!=(d=o.default.getChannel(e.cloneChannelId))?s=d.type:f=i.FormStates.CLOSED:(d=null,s=e.channelType)},CREATE_CHANNEL_MODAL_SUBMIT:function(e){f=i.FormStates.SUBMITTING},CREATE_CHANNEL_MODAL_SUBMIT_FAILURE:function(e){f=i.FormStates.OPEN,p=e.errors||{}},CREATE_CHANNEL_MODAL_CLOSE:function(e){f=i.FormStates.CLOSED}});t.default=h,e.exports=t.default},8219:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(3)),i=n(495),l=d(n(8220)),s=d(n(6109)),u=d(n(13));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=e.value;t.props.onChange(n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.branches,r=e.onHasBranchesChange;(0,i.fetchBranchesForApplication)(t),r&&r(n.length>0)},o.componentDidUpdate=function(e){var t=this.props,n=t.onHasBranchesChange,r=t.branches.length>0;null!=n&&r!==e.branches.length>0&&n(r)},o.render=function(){var e=this.props,t=e.branches,n=e.selectedBranchId,a=e.applicationId,o=e.includeMaster,i=e.hide,l=e.className;if(0===t.length||i)return null;var d=o?t:t.filter(function(e){return e.id!==a});return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{options:d.map(function(e){return{label:e.getName(a),value:e.id}}),placeholder:u.default.Messages.CREATE_STORE_CHANNEL_SELECT_BRANCH,value:n,onChange:this.handleChange,className:l})},a}(a.Component);c.displayName="ApplicationBranchSelector",c.defaultProps={includeMaster:!1};var f=o.default.connectStores([l.default],function(e){var t=e.applicationId;return{branches:l.default.getBranches(t)}})(c);t.default=f,e.exports=t.default},8220:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=o(n(3)),a=o(n(1));n(0);function o(e){return e&&e.__esModule?e:{default:e}}var i={};var l=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getBranches=function(e){return i[e]||[]},r}(r.default.Store))(a.default,{OWNED_APPLICATION_BRANCHES_FETCH_SUCCESS:function(e){var t=e.applicationId,n=e.branches;i[t]=n},LOGOUT:function(e){i={}}});t.default=l,e.exports=t.default},8221:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=c(n(3)),i=n(315),l=c(n(176)),s=c(n(6109)),u=n(0),d=c(n(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=e.value;t.props.onChange(n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.componentDidMount=function(){var e=this.props,t=e.applicationId,n=e.skus,r=e.selectedSkuId,a=e.onChange;null==n?(0,i.fetchSKUsForApplication)(t,!1):1===n.length&&null==r&&a(n[0].id)},o.componentDidUpdate=function(){var e=this.props,t=e.skus,n=e.selectedSkuId,r=e.onChange;null!=t&&1===t.length&&null==n&&r(t[0].id)},o.render=function(){var e=this.props,t=e.skus,n=e.selectedSkuId,a=e.applicationId,o=e.className,i=null!=t&&0===t.length;return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{options:null!=t?t.map(function(e){return{label:e.name,value:e.id}}):[],placeholder:i?d.default.Messages.CREATE_STORE_CHANNEL_NO_SKUS:d.default.Messages.CREATE_STORE_CHANNEL_SELECT_SKU,value:n,onChange:this.handleChange,className:o,disabled:i,error:i?d.default.Messages.CREATE_STORE_CHANNEL_NO_SKUS_ERROR.format({devPortalUrl:u.MarketingURLs.API_DOCS_APPLICATION_SKUS_INDEX(a)}):null})},a}(a.Component);f.displayName="ApplicationSKUSelector";var p=o.default.connectStores([l.default],function(e){var t=e.applicationId;return{skus:l.default.getForApplication(t)}})(f);t.default=p,e.exports=t.default},8222:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=g(n(17)),i=g(n(6)),l=g(n(333)),s=g(n(900)),u=g(n(6677)),d=g(n(155)),c=g(n(6211)),f=g(n(475)),p=g(n(219)),h=g(n(309)),v=g(n(44)),m=n(0),y=g(n(13)),_=g(n(5928));function g(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var O=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).ref=a.createRef(),t.handleClick=function(){var e=t.ref.current;null!=e&&e.click()},t}return T(t,e),t.prototype.render=function(){return E(p.default,{className:_.default.switch,onClick:this.handleClick},void 0,a.createElement("input",S({ref:this.ref},this.props,{type:"checkbox"})),E("div",{className:_.default.slider}))},t}(a.Component);O.displayName="Switch";var I=function(e){var t=e.account,n=e.platform,r=e.connect,a=e.onToggle;return E("div",{className:_.default.detectedAccount},void 0,E("img",{alt:y.default.Messages.IMG_ALT_LOGO.format({name:n.name}),className:_.default.detectedAccountIcon,src:n.icon.color}),E("div",{className:_.default.detectedAccountDetails},void 0,E("h3",{},void 0,t.name),E("h4",{},void 0,y.default.Messages.NUM_FRIENDS.format({friendCount:t.friendIdHashes.length}))),E(O,{checked:r,onChange:function(e){return a(t.id,e.currentTarget.checked)}}))};I.displayName="DetectedPlatformAccount";var C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={noConnect:new Set},t.close=function(){u.default.ignore()},t.handleEnable=function(){var e=t.props,n=e.detectedAccounts,r=e.analyticsLocation,a=t.state.noConnect,o=new Set;n.forEach(function(e){a.has(e.id)?o.add(e.type):l.default.connect(e.type,e.id,e.name,r)}),v.default.transitionTo(m.Routes.FRIENDS),s.default.setSection(m.FriendsSections.ADD_FRIEND),u.default.ignore(Array.from(o))},t.handleToggle=function(e,n){var r=t.state.noConnect;n&&r.has(e)?(r.delete(e),t.forceUpdate()):n||r.has(e)||(r.add(e),t.forceUpdate())},t}return T(t,e),t.prototype.render=function(){var e,t=this,r=this.props.detectedAccounts,a=this.state.noConnect,l=(0,i.default)(r).map(function(e){return d.default.get(e.type)}).uniq().map(function(e){return E("img",{alt:y.default.Messages.IMG_ALT_LOGO.format({name:e.name}),className:_.default.icon,src:e.icon.color},e.type)}).value(),s=n(8223)("./img_account_sync_stars"+l.length+".svg"),u=i.default.uniq(r.map(function(e){return d.default.get(e.type).name})),c=u[0],f=u[1],p=u[2];switch(u.length){case 1:e=y.default.Messages.ONE_PLATFORM_ACCOUNT_DETECTED.format({a:c});break;case 2:e=y.default.Messages.TWO_PLATFORM_ACCOUNTS_DETECTED.format({a:c,b:f});break;case 3:e=y.default.Messages.THREE_PLATFORM_ACCOUNTS_DETECTED.format({a:c,b:f,c:p});break;default:e=y.default.Messages.FOUR_OR_MORE_PLATFORM_ACCOUNTS_DETECTED}var v=r.map(function(e){return E(I,{account:e,platform:d.default.get(e.type),connect:!a.has(e.id),onToggle:t.handleToggle},e.id)});return E("div",{className:_.default.container},void 0,E("div",{className:_.default.icons,style:{backgroundImage:"url("+s+")"}},void 0,l),E("div",{className:_.default.body},void 0,e),E("div",{className:_.default.detectedAccounts},void 0,v),E("div",{className:_.default.divider}),E("div",{className:_.default.btnGroup},void 0,E("button",{type:"button",className:(0,o.default)(_.default.btn,_.default.btnDefault),onClick:this.close},void 0,y.default.Messages.NOT_NOW),E("button",{type:"button",className:(0,o.default)(_.default.btn,_.default.btnPrimary),onClick:this.handleEnable,disabled:r.length-a.size==0},void 0,y.default.Messages.ENABLE)),E("div",{className:_.default.privacy},void 0,y.default.Messages.PLATFORM_ACCOUNT_PRIVACY.format({articleURL:h.default.getArticleURL(m.HelpdeskArticles.FRIEND_SYNC_PRIVACY)})))},t}(a.PureComponent);C.displayName="DetectedPlatformAccounts",C.modalConfig={store:c.default,backdropStyle:f.default.Styles.SOLID,closable:!1};var N=C;t.default=N,e.exports=t.default},8223:function(e,t,n){var r={"./img_account_sync_stars1.svg":8224,"./img_account_sync_stars2.svg":8225,"./img_account_sync_stars3.svg":8226,"./img_account_sync_stars4.svg":8227};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=8223},8224:function(e,t,n){e.exports=n.p+"b772c1d05a4bf0368d92668509da2cbc.svg"},8225:function(e,t,n){e.exports=n.p+"9aa8a052edc4b43d141fdc275623209c.svg"},8226:function(e,t,n){e.exports=n.p+"ba7676b3791fb371b0c67266945821f7.svg"},8227:function(e,t,n){e.exports=n.p+"045ea1ae8202098575f9b31a9faccb2c.svg"},8228:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(2)),o=m(n(1)),i=m(n(827)),l=y(n(6233)),s=m(n(8229)),u=m(n(220)),d=m(n(125)),c=m(n(44)),f=m(n(6205)),p=n(0),h=m(n(13)),v=m(n(5642));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).transitionTo=function(e){var n=t.props,r=n.guildId,a=n.guestGuildId;o.default.wait(function(){var t=[i.default.joinGuild(r,!1,"Chat Input Blocker - Lurker Mode")];null!=a&&a!==r&&t.push(i.default.joinGuild(a,!1,"Chat Input Blocker - Lurker Mode")),Promise.all(t).then(function(){c.default.transitionTo(e)})})},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.close=function(){l.close()},s.render=function(){var e=this.props,t=e.guildId,r=e.channelId;return _(u.default,{className:v.default.modal,size:u.default.Sizes.MEDIUM},void 0,_("div",{className:v.default.information},void 0,_(d.default,{size:d.default.Sizes.LARGE,color:d.default.Colors.PRIMARY},void 0,h.default.Messages.LOGIN_TITLE),_(d.default,{color:d.default.Colors.PRIMARY,className:v.default.body},void 0,h.default.Messages.AUTH_LOGIN_BODY),_("img",{alt:"",src:n(6489),className:v.default.image})),_(f.default,{transitionTo:this.transitionTo,redirectTo:p.Routes.CHANNEL(t,r),isGuest:!0,authBoxClassName:v.default.card}))},a}(a.PureComponent);g.displayName="Login",g.modalConfig={store:s.default,closable:!0};var E=g;t.default=E,e.exports=t.default},8229:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(1)),o=c(n(12)),i=c(n(339)),l=c(n(49)),s=c(n(150)),u=c(n(6055)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=d.FormStates.CLOSED;function p(){f=d.FormStates.CLOSED}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,o.default,i.default)},a.isOpen=function(){return!u.default.hasAction()&&f!==d.FormStates.CLOSED},a.getProps=function(){var e=s.default.getGuildId();return{guildId:e,channelId:l.default.getChannelId(e),guestGuildId:i.default.getGuildId()}},r}(r.default.Store))(a.default,{LOGIN_MODAL_OPEN:function(e){return function(){if(!o.default.isGuest())return!1;f=d.FormStates.OPEN}()},LOGIN_SUCCESS:function(e){f===d.FormStates.OPEN&&(f=d.FormStates.CLOSED)},LOGIN_MODAL_CLOSE:function(e){return p()},CONNECTION_CLOSED:function(e){return p()},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=h,e.exports=t.default},8230:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o,i,l,s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),u=O(n(153)),d=O(n(7272)),c=O(n(6199)),f=O(n(8231)),p=O(n(7273)),h=O(n(6054)),v=O(n(8232)),m=O(n(7269)),y=O(n(18)),_=O(n(6040)),g=O(n(8233)),E=O(n(8234)),S=n(0),T=O(n(5933));function O(e){return e&&e.__esModule?e:{default:e}}function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t,n,r){l||(l="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:l,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var N=(0,u.default)({WELCOME:null,GUILD_CREATE:null,SKIP:null,DONE:null}),A=(0,u.default)({CREATE_GUILD:null,CREATED_GUILD:null,SKIP_NUF:null}),M=(0,u.default)({MARK_WELCOME_SEEN:null,HANDLE_SKIP:null,HANDLE_DONE:null}),P=function(e){var t,n,r;return{id:"NewUserNUF",initial:1===e?N.GUILD_CREATE:N.WELCOME,states:(r={},r[N.WELCOME]={on:(t={},t[A.SKIP_NUF]={target:N.SKIP,actions:M.HANDLE_SKIP},t[A.CREATE_GUILD]=N.GUILD_CREATE,t)},r[N.GUILD_CREATE]={on:(n={},n[A.SKIP_NUF]={target:N.SKIP,actions:M.HANDLE_SKIP},n[A.CREATED_GUILD]={target:N.DONE,actions:M.HANDLE_DONE},n),onEntry:M.MARK_WELCOME_SEEN},r[N.SKIP]={type:"final",on:{}},r[N.DONE]={type:"final",on:{}},r)}},b=((r={})[N.WELCOME]=function(e){return C(E.default,{onNext:function(){return e(A.CREATE_GUILD,{direction:1})},onSkip:function(){return e(A.SKIP_NUF)}})},r[N.GUILD_CREATE]=function(e){return C(g.default,{onDone:function(){return e(A.CREATED_GUILD)},onSkip:function(){return e(A.SKIP_NUF)},createGuild:d.default.createGuildPromise,progress:100})},r[N.SKIP]=S.NOOP_NULL,r[N.DONE]=S.NOOP_NULL,r),R=((a={})[M.MARK_WELCOME_SEEN]=function(){d.default.setStep(1),y.default.track(S.AnalyticEvents.OPEN_MODAL,{type:"Create Guild Step 2",source:"New User Modal"})},a[M.HANDLE_SKIP]=function(){d.default.setStep(-1)},a[M.HANDLE_DONE]=function(){d.default.setStep(2)},a),L=(0,_.default)(v.default,((i={})[S.ExperimentTypes.NONE]=function(e){return s.createElement(f.default,e)},i[S.ExperimentTypes.USER]=((o={})[S.ExperimentBuckets.CONTROL]=function(e){return s.createElement(f.default,e)},o[S.ExperimentBuckets.NOT_ELIGIBLE]=function(e){return s.createElement(f.default,e)},o[S.ExperimentBuckets.TREATMENT_1]=function(e){return C(m.default,{className:T.default.slideContainer,stateChart:e.stateChart,slideStates:b,slideActions:R})},o),i)),D=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).stateChart=P(t.step),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){null==h.default.getRegions(null)&&c.default.fetchDefaultRegions()},a.render=function(){return s.createElement(L,I({},this.props,{stateChart:this.stateChart}))},r}(s.PureComponent);t.default=D,D.displayName="NewUser",D.modalConfig={store:p.default,center:!0,closable:!1},e.exports=t.default},8231:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=_(n(17)),i=_(n(304)),l=(_(n(306)),_(n(439))),s=_(n(303)),u=_(n(3)),d=_(n(826)),c=_(n(7272)),f=_(n(7273)),p=_(n(14)),h=_(n(6646)),v=_(n(6315)),m=_(n(13)),y=_(n(5929));function _(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function E(e){return void 0===e&&(e=!1),{getInitialState:function(){return{translateX:new s.default.Value(0)}},componentDidAppear:function(){this.state.translateX.setValue(1)},componentWillEnter:function(e){s.default.spring(this.state.translateX,{toValue:1}).start(e)},componentWillLeave:function(e){s.default.spring(this.state.translateX,{toValue:0}).start(e)},getAnimatedStyle:function(){return s.default.accelerate({transform:[{translateX:this.state.translateX.interpolate({inputRange:[0,1],outputRange:[e?"-100%":"100%","0%"]})}]})}}}var S=(0,i.default)({displayName:"Step1",mixins:[l.default,u.default.StoreListenerMixin(f.default,p.default),E(!0)],getStateFromStores:function(){return{user:p.default.getCurrentUser()}},render:function(){var e=this.state.user;return null==e?null:g(s.default.li,{className:y.default.step1,style:this.getAnimatedStyle()},void 0,g("h5",{},void 0,m.default.Messages.NUF_TITLE.format({username:e.toString()})),g("p",{},void 0,m.default.Messages.NUF_BODY.format()))}}),T=(0,i.default)({displayName:"Step2",mixins:[l.default,E()],componentDidMount:function(){0===this.props.guild.name.length&&this.refs["guild-name"].focus()},handleNameChange:function(e){this.props.onGuildChange({name:e.currentTarget.value})},handleRegionChange:function(e){this.props.onGuildChange({region:e})},handleIconChange:function(e){this.props.onGuildChange({icon:e})},render:function(){var e,t,n=this,r=function(e){return null!=n.props.errors[e]};return g(s.default.li,{className:y.default.step2,style:this.getAnimatedStyle()},void 0,g("h5",{},void 0,m.default.Messages.CREATE_SERVER_TITLE),g("p",{},void 0,m.default.Messages.CREATE_SERVER_DESCRIPTION.format()),g("ul",{className:y.default.guildForm},void 0,g("li",{},void 0,g("div",{className:(0,o.default)(y.default.controlGroup,(e={},e[y.default.error]=r("name"),e))},void 0,g("label",{htmlFor:"guild-name"},void 0,m.default.Messages.FORM_LABEL_SERVER_NAME," ",r(t="name")?g("span",{className:y.default.error},void 0,"(",n.props.errors[t],")"):null),a.createElement("input",{id:"guild-name",ref:"guild-name",type:"text",defaultValue:this.props.guild.name,onChange:this.handleNameChange,placeholder:m.default.Messages.FORM_PLACEHOLDER_SERVER_NAME})),g("div",{className:y.default.controlGroup},void 0,g("label",{htmlFor:"guild-region"},void 0,m.default.Messages.FORM_LABEL_SERVER_REGION),g(v.default,{id:"guild-region",value:this.props.guild.region,onChange:this.handleRegionChange}))),g("li",{},void 0,g(h.default,{name:this.props.guild.name,icon:this.props.guild.icon,onChange:this.handleIconChange,avatarClassName:y.default.avatar}))))}}),O=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).close=function(){c.default.setStep()},t.handleGuildChange=function(e){c.default.updateTemporaryGuild(e)},t.handleNextStep=function(e){e.preventDefault(),1===t.props.step?c.default.createGuild(t.props.guild.name,t.props.guild.region,t.props.guild.icon):c.default.setStep(t.props.step+1)},t}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r;switch(this.props.step){case 0:r=g(S,{},this.props.step),n=m.default.Messages.GET_STARTED;break;case 1:default:r=g(T,{guild:this.props.guild,onGuildChange:this.handleGuildChange,errors:this.props.errors},this.props.step),n=m.default.Messages.DONE}return g("form",{className:(0,o.default)(y.default.modalNewUser,y.default.form),onSubmit:this.handleNextStep},void 0,g(d.default,{className:y.default.steps,component:"ul"},void 0,r),g("div",{className:y.default.formActions},void 0,g("div",{className:y.default.stepsWrap},void 0,g("ul",{className:y.default.steps},void 0,g("li",{className:(0,o.default)((e={},e[y.default.active]=0===this.props.step,e[y.default.on]=this.props.step>=0,e))}),g("li",{className:y.default.divider}),g("li",{className:(0,o.default)((t={},t[y.default.active]=1===this.props.step,t[y.default.on]=this.props.step>=1,t))}))),g("button",{type:"button",className:(0,o.default)(y.default.btn,y.default.btnDefault),onClick:this.close},void 0,m.default.Messages.SKIP),g("button",{type:"submit",className:(0,o.default)(y.default.btn,y.default.btnPrimary),disabled:this.props.guildSubmitting},void 0,n)))},r}(a.PureComponent);O.displayName="NewUser",O.modalConfig={store:f.default,center:!0,closable:!1};var I=O;t.default=I,e.exports=t.default},8232:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a,o=d(n(3)),i=d(n(1)),l=d(n(131)),s=d(n(57)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return!0}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([s.default],c)},a.getExperimentId=function(){return u.Experiments.REDESIGNED_NUF},a.getMetaData=function(){return{title:"Redesigned NUF Experiment",description:["Control: Old NUF Modals","Treatment 1: Redesigned NUF Modals"]}},a.getExperimentDescriptor=function(){return s.default.getOverrideExperimentDescriptor(this.getExperimentId())||s.default.getEligibleExperiment(this.getExperimentId())},a.showRedesignedModals=function(){var e=this.getExperimentDescriptor();return null!=e&&e.bucket===u.ExperimentBuckets.TREATMENT_1},a.isOpen=function(){return!1},r}(o.default.Store))(i.default);l.default.register(f,((a={})[u.ExperimentTypes.USER]=((r={})[u.ExperimentBuckets.CONTROL]=function(){return null},r[u.ExperimentBuckets.TREATMENT_1]=function(){return null},r),a));var p=f;t.default=p,e.exports=t.default},8233:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=E(n(17)),i=E(n(3)),l=E(n(6064)),s=E(n(6054)),u=E(n(35)),d=E(n(124)),c=E(n(220)),f=E(n(6160)),p=E(n(125)),h=E(n(822)),v=n(823),m=E(n(6135)),y=n(0),_=E(n(13)),g=E(n(5930));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var T=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={name:"",icon:null,submitting:!1,error:null},t.handleNameChange=function(e){t.setState({name:e})},t.handleIconChange=function(e){t.setState({icon:e})},t.handleSubmit=function(e){e.preventDefault();var n=t.props,r=n.region,a=n.onDone,o=n.createGuild;null!=r&&(""!==t.state.name?(t.setState({submitting:!0,error:null}),o(t.state.name,r,t.state.icon).then(function(){t.setState({submitting:!1}),a()},function(e){null!=e.name&&t.setState({submitting:!1,error:e.name})})):t.setState({error:_.default.Messages.SERVER_NAME_REQUIRED}))},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.renderCloseButton=function(){var e=this.props.onClose;return null==e?null:S(c.default.CloseButton,{onClick:e})},a.renderPreviousButton=function(){var e=this.props,t=e.onSkip,n=e.onBack;return null!=t?S(d.default,{look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:t},void 0,_.default.Messages.SKIP):null!=n?S(d.default,{className:g.default.backButton,size:g.default.backButtonSize,look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:n},void 0,_.default.Messages.BACK):null},a.render=function(){var e,t=this.props,n=t.region,r=t.theme,a=t.progress;if(null==n)return null;var i=this.state,l=i.name,s=i.icon,u=i.error,E=i.submitting;return S(c.default,{tag:"form",onSubmit:this.handleSubmit,size:g.default.size,className:g.default.modal},void 0,S(c.default.Header,{},void 0,S(v.FormTitle,{tag:v.FormTitle.Tags.H4},void 0,_.default.Messages.CREATE_SERVER_TITLE),this.renderCloseButton()),S(c.default.Content,{className:g.default.content},void 0,S(p.default,{className:g.default.description,color:p.default.Colors.PRIMARY},void 0,_.default.Messages.CREATE_SERVER_DESCRIPTION.format()),S("div",{className:g.default.form},void 0,S(m.default,{showIcon:!0,name:l,avatar:s,onChange:this.handleIconChange,className:g.default.avatar,avatarClassName:g.default.avatarInner}),S("div",{className:g.default.input},void 0,S(v.FormItem,{title:_.default.Messages.FORM_LABEL_SERVER_NAME},void 0,S(h.default,{type:"text",value:l,maxLength:100,onChange:this.handleNameChange,error:u,autoFocus:!0})),S(p.default,{size:p.default.Sizes.SMALL,color:p.default.Colors.PRIMARY,className:g.default.hintText},void 0,_.default.Messages.CREATE_SERVER_GUIDELINES.format({guidelinesURL:y.MarketingURLs.GUIDELINES}))))),S(c.default.Footer,{className:g.default.footer},void 0,S("div",{className:(0,o.default)(g.default.buttonContainer,(e={},e[g.default.spaceBetween]=null==a,e))},void 0,this.renderPreviousButton(),S(d.default,{disabled:E,onClick:this.handleSubmit},void 0,_.default.Messages.CREATE)),null!=a?S(f.default,{className:g.default.progress,size:f.default.Sizes.LARGE,foregroundColor:y.Colors.Brand,backgroundColor:r===y.ThemeTypes.DARK?y.Colors.PRIMARY_DARK:y.Colors.PRIMARY_DARK_300,percent:a,animate:!0}):null))},r}(a.PureComponent);T.displayName="CreateGuildSlide",T.defaultProps={createGuild:l.default.createGuildPromise};var O=i.default.connectStores([s.default],function(){return{region:s.default.getOptimalRegionId(),theme:u.default.theme}})(T);t.default=O,e.exports=t.default},8234:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=m(n(3)),o=m(n(35)),i=m(n(14)),l=m(n(124)),s=m(n(220)),u=m(n(6160)),d=m(n(125)),c=n(823),f=m(n(8235)),p=n(0),h=m(n(13)),v=m(n(5932));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _=function(e){var t=e.username,n=e.theme,r=e.onNext,a=e.onSkip;return y(s.default,{className:v.default.modal},void 0,y(s.default.Header,{},void 0,y(c.FormTitle,{tag:c.FormTitle.Tags.H4},void 0,h.default.Messages.NUF_TITLE.format({username:t}))),y(s.default.Content,{className:v.default.content},void 0,y(d.default,{size:d.default.Sizes.MEDIUM,color:d.default.Colors.PRIMARY},void 0,h.default.Messages.NUF_BODY.format()),y(f.default,{className:v.default.welcomeImage,hovered:!0,hideBackgroundMist:!0})),y(s.default.Footer,{className:v.default.footer},void 0,y("div",{className:v.default.buttonContainer},void 0,y(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:a},void 0,h.default.Messages.SKIP),y(l.default,{onClick:r,className:v.default.button},void 0,h.default.Messages.GET_STARTED)),y(u.default,{className:v.default.progress,size:u.default.Sizes.LARGE,foregroundColor:p.Colors.Brand,backgroundColor:n===p.ThemeTypes.DARK?p.Colors.PRIMARY_DARK:p.Colors.PRIMARY_DARK_300,percent:50,animate:!0})))};_.displayName="WelcomeSlide";var g=a.default.connectStores([i.default],function(){var e=i.default.getCurrentUser();return{username:null!=e?e.toString():"",theme:o.default.theme}})(_);t.default=g,e.exports=t.default},8235:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=l(n(17)),i=l(n(5931));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var u=s("path",{fill:"#202225",d:"M70.207 207.263H53.983a1 1 0 0 0 0 2h8.76a1 1 0 0 1 1 1v3.2a1 1 0 1 0 2 0v-3.2a1 1 0 0 1 1-1h3.464a1 1 0 0 0 0-2"}),d=s("g",{transform:"translate(0 5.796)"},void 0,s("path",{fill:"#202225",d:"M191.989 79.372a5 5 0 0 1-5-5V55.875a3.998 3.998 0 0 1 7.997 0v5.497a1 1 0 0 0 1 1h9.997a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.998-3.998h6.005a3.998 3.998 0 0 1 3.999 3.998v5.497a1 1 0 0 0 1 1h9.996a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.999-3.998h8.006a3.998 3.998 0 0 1 3.999 3.998v18.497a5 5 0 0 1-5 5h-51.996zm51.002 38.032a4 4 0 0 1-4 4H217.04a3.34 3.34 0 0 1-3.34-3.34v-5.676a1 1 0 1 0-2 0v5.676a3.34 3.34 0 0 1-3.34 3.34h-6.377a1 1 0 1 0 0 2h37.008a4 4 0 0 1 4 4v50.048a4 4 0 0 1-4 4h-8.002a1 1 0 0 0 0 2h8.002a4 4 0 0 1 4 4V216a3 3 0 0 1-3 3h-44.008a3 3 0 0 1-3-3v-6.532a6 6 0 0 1 6-6h22.224a1 1 0 0 0 0-2h-22.224a6 6 0 0 1-6-6V148.42a5 5 0 0 1 5-5h3.224a1 1 0 0 0 0-2h-3.224a5 5 0 0 1-5-5v-32.032a1 1 0 0 1 1-1h5.224a1 1 0 0 0 0-2h-2.224a4 4 0 0 1-4-4V87.372a4 4 0 0 1 4-4H218.2a4 4 0 0 1 4 4v10.016a4 4 0 0 1-4 4h-9.743a1 1 0 1 0 0 2h18.534a1 1 0 0 0 0-2H225.2a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h16.79a1 1 0 0 1 1 1v33.032zM188.48 88.377h-17.436a7 7 0 0 1-7-7V77.01a4 4 0 0 1 4-4h10.945a6 6 0 0 1 6 6v.87a3.491 3.491 0 0 0 3.49 3.492 2.503 2.503 0 0 1 0 5.005zm2.503 19.016a1 1 0 0 1-1 1H178.2a4 4 0 0 1-4-4v-9.016a1 1 0 1 0-2 0v9.016a4 4 0 0 1-4 4h-12.993a1 1 0 0 0 0 2h34.776a1 1 0 0 1 1 1v53.048a4 4 0 0 1-4 4h-13.776a1 1 0 0 0 0 2h4.944a4.55 4.55 0 0 1 4.549 4.55v8.917a4.55 4.55 0 0 1-4.55 4.549h-7.407a4 4 0 0 1-4-4v-31.482a2.555 2.555 0 0 1 2.548-2.55h10.916a1 1 0 0 0 0-2h-3.833a3.34 3.34 0 0 1-3.34-3.34v-4.418a1 1 0 0 0-2 0v4.418a3.34 3.34 0 0 1-3.34 3.34h-.414a.994.994 0 0 1-.98-.845c-2.301-14.3-13.546-25.64-27.798-28.082-.028-.007-.056-.01-.084-.015a34.033 34.033 0 0 0-5.675-.483c-15.598 0-28.77 10.56-32.755 24.906-.734 2.643-3.07 4.519-5.813 4.519h-1.193a1 1 0 0 0 0 2h4.806a1 1 0 0 1 .995 1.06c-.025.502-.04 1.007-.04 1.515v.736c-3.956-1.055-7.942-1.781-11.814-2.114a.992.992 0 0 1-.913-.99l-.008-19.222a1 1 0 0 1 1-1h15.199a1 1 0 0 0 0-2 3.34 3.34 0 0 1-3.34-3.34v-2.666a1 1 0 0 0-2 0v2.666a3.34 3.34 0 0 1-3.34 3.34h-6.521c-.552 0-1-.448-1-1l-.021-50.398a4 4 0 0 1 4-4.002h11.999a4 4 0 0 1 4 4v9.013a4 4 0 0 0 4 4h9.027a4 4 0 0 0 4-4V77.01a4 4 0 0 1 4-4h14.165a3.839 3.839 0 0 1 3.839 3.839 1 1 0 0 0 2 0v-.84a3 3 0 0 1 3-3h2.008a3 3 0 0 1 3 3v9.014a3 3 0 0 1-3 3h-2.008a3 3 0 0 1-3-3V83.8a1 1 0 0 0-2 0v.737a3.839 3.839 0 0 1-3.84 3.839h-9.968a1 1 0 0 0 0 2h5.676a1 1 0 0 1 1 1v5.29a1 1 0 1 0 2 0v-5.29a1 1 0 0 1 1-1h49.1a1 1 0 0 1 1 1v16.016zm0 100.08a1 1 0 0 1-1 1H183.7a1 1 0 1 0 0 2h6.283a1 1 0 0 1 1 1V218a1 1 0 0 1-1 1h-22.24a1 1 0 0 1-1-1v-23.543a4 4 0 0 1 4-4h16.04a1 1 0 1 0 0-2H185.7a1 1 0 0 1-1-1V171.44a1 1 0 0 1 1-1h5.283v37.033zm-26.24 5.947c0 .96-1.221 1.369-1.798.602l-30.086-39.908c-4.48-5.941-11.95-11.352-20.535-15.403a.992.992 0 0 1-.572-.897V153c0-15.56 11.028-28.737 26.277-31.486.128-.023.26-.023.389 0 14.946 2.688 26.325 15.779 26.325 31.486v60.42zm-64-59.86V153c0-15.296 10.79-28.113 25.158-31.254 1.106-.241 1.713 1.27.734 1.838-10.223 5.924-16.883 16.952-16.883 29.416v3.054a.998.998 0 0 1-1.382.92 81.032 81.032 0 0 0-6.921-2.463.994.994 0 0 1-.706-.951zM162.186 219h-61.49L66.86 174.114c-3.733-4.951-4.784-9.694-2.96-13.353 2.328-4.671 9.016-7.35 18.348-7.35 17.92 0 39.909 9.828 49.015 21.907l31.723 42.08a1 1 0 0 1-.8 1.602zm-75.141 0a1 1 0 0 1-1-1l-.004-8.934c-.001-1.986 2.527-2.833 3.723-1.247l8.429 11.18H87.045zm-6.001 0H47.983a3 3 0 0 1-3-3v-31.548a1 1 0 0 1 1-1h10.224a1 1 0 0 0 0-2h-.673a1 1 0 0 1-1-1v-8.016a1 1 0 0 0-2 0v8.016a1 1 0 0 1-1 1h-2.551a4 4 0 0 1-4-4v-8.016a6 6 0 0 1 6-6h6.224a1 1 0 0 0 0-2H45.983a1 1 0 0 1-1-1V146.42a3 3 0 0 1 3-3h5.224a1 1 0 0 0 0-2h-5.224a3 3 0 0 1-3-3v-34.032a1 1 0 0 1 1-1h5.224a1 1 0 0 0 0-2h-1.224a5 5 0 0 1-5-5v-8.016a5 5 0 0 1 5-5H69.2a5 5 0 0 1 5 5v8.016a5 5 0 0 1-5 5h-8.743a1 1 0 1 0 0 2H78.99a1 1 0 0 0 0-2H77.2a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h5.788a1 1 0 0 1 1 1l.015 36.03a1 1 0 0 1-1 1.002H69.427a3.727 3.727 0 0 1-3.727-3.727v-5.29a1 1 0 1 0-2 0v5.29a3.727 3.727 0 0 1-3.726 3.727h-5.991a1 1 0 1 0 0 2h26.023a4 4 0 0 1 4 3.998v1.885c-.004.042-.024.079-.024.123 0 .043.02.08.025.123l.009 20.158c0 .963-.79 1.722-1.752 1.72h-.017c-10.12 0-17.46 3.083-20.137 8.457-2.181 4.374-1.061 9.86 3.152 15.45l18.574 24.638c.13.174.2.385.202.602l.006 15.44a2.999 2.999 0 0 1-3 3.002zM38.989 74.372V55.875a3.998 3.998 0 0 1 7.997 0v5.497a1 1 0 0 0 1 1h9.997a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.998-3.998h6.005a3.998 3.998 0 0 1 3.999 3.998v5.497a1 1 0 0 0 1 1h9.996a1 1 0 0 0 1-1v-5.497a3.998 3.998 0 0 1 3.999-3.998h8.006a3.998 3.998 0 0 1 3.999 3.998V70.01a1 1 0 0 1-1 1H84.982a1 1 0 0 0-1 1l.002 2.36a4.998 4.998 0 0 1-4.998 5.002H43.989a5 5 0 0 1-5-5zm68.995 1.638a3 3 0 0 1 3-3h1.007a3 3 0 0 1 3 3v9.013a3 3 0 0 1-3 3h-1.007a3 3 0 0 1-3-3V76.01zm-72.98 73.566l-11-9.452-11 9.452v-56.33a1 1 0 0 1 2 0v45.225a1 1 0 0 0 1.486.874l7.514-7.514 7.514 7.514a1.003 1.003 0 0 0 .993-.013.997.997 0 0 0 .493-.861V93.246a1 1 0 0 1 2 0v56.33zm-18-52.253a5.078 5.078 0 0 1 5.077-5.077h3.846a5.077 5.077 0 0 1 5.077 5.077v37.446l-7-7.228-7 7.228V97.323zM3.76 92.746a1.501 1.501 0 0 1 0-3c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5zM214.18 7.532c0-2.18 2.252-3.631 4.237-2.733l14.88 6.728c2.452 1.109 2.317 4.636-.213 5.553l-14.88 5.399c-1.956.709-4.023-.74-4.023-2.82V7.532zM248.73 219h-2.74a1 1 0 0 1-1-1V84.372a1 1 0 0 1 1-1h.995a4 4 0 0 0 4-4V53.875a3.998 3.998 0 0 0-4-3.998H234.98a3.998 3.998 0 0 0-4 3.998v5.497a1 1 0 0 1-1 1h-5.995a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-4-3.998h-3.804a1 1 0 0 1-1-1v-22.11a1 1 0 0 1 .66-.94l28.169-10.22a1 1 0 0 0 .07-1.851L213.594.422a1 1 0 0 0-1.412.91v47.545a1 1 0 0 1-1 1h-2.2a3.998 3.998 0 0 0-3.998 3.998v5.497a1 1 0 0 1-1 1h-5.997a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-3.998-3.998h-4a3.998 3.998 0 0 0-4 3.998V64.01a7 7 0 0 1-7 7h-11.944a4 4 0 0 0-4 4v11.003c0 1.11-.9 2.01-2.01 2.01h-1.001c-1.11 0-2.01-.9-2.01-2.01V75.01a4 4 0 0 0-4-4H125.01a4 4 0 0 0-4 4v10.896c0 1-.684 1.929-1.672 2.09a2.012 2.012 0 0 1-2.348-1.983V75.01a4 4 0 0 0-4-4h-9.006a1 1 0 0 1-1-1V53.875a3.998 3.998 0 0 0-4-3.998H86.98a3.998 3.998 0 0 0-4 3.998v5.497a1 1 0 0 1-1 1h-5.995a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-4-3.998h-2.804a1 1 0 0 1-1-1v-22.11a1 1 0 0 1 .66-.94l28.169-10.22a1 1 0 0 0 .07-1.851L80.107 6.533a1 1 0 1 0-.824 1.822l7.015 3.172c2.452 1.109 2.317 4.636-.213 5.553l-14.88 5.399c-1.956.71-4.023-.74-4.023-2.82V7.532c0-2.18 2.25-3.631 4.236-2.733l1.414.639a1 1 0 0 0 .825-1.822L66.593.422a1 1 0 0 0-1.412.91v47.545a1 1 0 0 1-1 1h-3.2a3.998 3.998 0 0 0-3.998 3.998v5.497a1 1 0 0 1-1 1h-5.997a1 1 0 0 1-1-1v-5.497a3.998 3.998 0 0 0-3.998-3.998h-4a3.998 3.998 0 0 0-4 3.998v25.497a4 4 0 0 0 4 4h.995a1 1 0 0 1 1 1v4.875a1 1 0 0 1-1 1l-32.791-.001a3.733 3.733 0 0 1-2.814-1.302 3.468 3.468 0 0 0-3.31-1.131C1.753 88.067.66 89.105.357 90.41a3.508 3.508 0 0 0 3.403 4.336 3.459 3.459 0 0 0 2.674-1.265c.672-.812 1.705-1.235 2.759-1.235l1.014.42c1 0 .797.39.797 1.392v57.218a1 1 0 0 0 1.486.874l11.514-9.737 11.514 9.737a1 1 0 0 0 1.486-.874V94.204c0-1.082.877-1.958 1.958-1.958h3.02a1 1 0 0 1 1 1V218a1 1 0 0 1-1 1H1a1 1 0 0 0 0 2h247.73a1 1 0 1 0 0-2z"})),c=s("path",{fill:"#202225",d:"M177.332 214.27h-4.125a1 1 0 0 0 0 2h4.125a1 1 0 0 0 0-2M96.867 116.788v3.425a1 1 0 0 0 2 0v-3.425a1 1 0 0 0-2 0"}),f=s("path",{fill:"#202225",d:"M232.207 168.232a1 1 0 0 0-1-1h-35.225a1 1 0 0 0 0 2h.001a4.55 4.55 0 0 1 4.55 4.55v7.68a1 1 0 0 0 2 0v-7.68a4.55 4.55 0 0 1 4.55-4.55h24.124a1 1 0 0 0 1-1M217.987 187.248h-4.78a1 1 0 1 0 0 2h4.78a1 1 0 0 0 0-2M226.987 187.248h-.78a1 1 0 1 0 0 2h.78a1 1 0 0 0 0-2"}),p=s("path",{fill:"#B9BBBE",d:"M3.76 95.542c-.828 0-1.5.673-1.5 1.5s.672 1.5 1.5 1.5c.826 0 1.5-.673 1.5-1.5s-.674-1.5-1.5-1.5"}),h=s("path",{fill:"#202225",d:"M25.754 206.863l-.008-.168v-3.244c0-.237.021-.474.063-.707l1.598-8.9a1.173 1.173 0 1 0-2.31-.416l-.755 4.202a.168.168 0 0 1-.277.097 4.5 4.5 0 0 0-3.257-1.016c-2.394.202-4.16 2.35-4.16 4.753v2.335c0 .746-.278 1.465-.78 2.017l-4.546 5.004a1.173 1.173 0 0 0 1.738 1.58l3.411-3.755-.257 2.665a4.073 4.073 0 0 0 .844 2.9c.163.21.258.464.237.728l-.799 10.007a1.174 1.174 0 0 0 2.341.188l.675-8.462a1 1 0 0 1 1.004-.92l1.194.008a1 1 0 0 1 .99.92l.675 8.454a1.173 1.173 0 0 0 2.34-.188l-.785-9.825a1.062 1.062 0 0 1 .272-.767 4.08 4.08 0 0 0 .977-3.055l-.425-4.435z"}),v=s("g",{transform:"translate(126 -.204)"},void 0,s("path",{fill:"#D3D6ED",d:"M3.032.497a.999.999 0 0 0-1.414 0L.435 1.68A.999.999 0 1 0 1.85 3.094l1.183-1.183a.999.999 0 0 0 0-1.414"})),m=s("path",{fill:"#D3D6ED",d:"M121.702 6.21l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.184a.999.999 0 1 0-1.414-1.414M127.85 6.21a.999.999 0 1 0-1.415 1.413l1.183 1.184a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L127.85 6.21zM123.116 1.476L121.933.293a1 1 0 0 0-1.414 1.414l1.183 1.183a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414"}),y=s("path",{fill:"#FFF",d:"M155.136 22.972a4.054 4.054 0 1 1-8.107 0 4.054 4.054 0 0 1 8.107 0"}),_=s("path",{fill:"#202225",d:"M151.083 19.919a3.057 3.057 0 0 0-3.053 3.053 3.056 3.056 0 0 0 3.053 3.052 3.056 3.056 0 0 0 3.053-3.052 3.057 3.057 0 0 0-3.053-3.053m0 8.105a5.058 5.058 0 0 1-5.053-5.052 5.06 5.06 0 0 1 5.053-5.053 5.06 5.06 0 0 1 5.053 5.053 5.058 5.058 0 0 1-5.053 5.052"}),g=s("path",{fill:"#D3D6ED",d:"M2.662 171.946a1.51 1.51 0 0 1-1.51 1.51 1 1 0 0 0 0 2c.834 0 1.51.676 1.51 1.51a1 1 0 0 0 2 0c0-.834.676-1.51 1.51-1.51a1 1 0 0 0 0-2 1.51 1.51 0 0 1-1.51-1.51 1 1 0 0 0-2 0"}),E=s("path",{d:"M0-1h251v228H0z"}),S=s("path",{d:"M-55-67h360v360H-55z"}),T=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e,t,n,r,a=this.props,l=a.className,T=a.hovered,O=a.isGreen;return s("svg",{className:l,xmlns:"http://www.w3.org/2000/svg",width:"164",height:"147",viewBox:"0 0 251 227"},void 0,s("g",{fill:"none",fillRule:"evenodd"},void 0,a.hideBackgroundMist?null:s("g",{transform:"translate(6 52.796)"},void 0,s("path",{className:i.default.background,d:"M208.52 152.196H27.37c-11.694 0-21.175-9.48-21.175-21.176 0-11.695 9.48-21.176 21.175-21.176h1.648c17.116 0 30.99-13.875 30.99-30.99 0-17.116-13.874-30.99-30.99-30.99h-5.085C10.873 47.863.287 37.276.287 24.217.288 11.14 10.902.545 23.98.573 55.478.64 126.548.498 157.416.404c12.4-.037 22.47 10.004 22.47 22.404v29.934c0 14.65.304 26.526 14.954 26.526h14.775c19.535 0 35.37 15.836 35.37 35.37v1.094c0 20.14-16.326 36.464-36.465 36.464"})),s("path",{className:i.default.body,d:"M82.985 87.168a1 1 0 0 0 1-1l-.003-8.362a.997.997 0 0 1 1-1H99.984a1 1 0 0 0 1-1V58.673a1 1 0 0 0-1-1H85.981a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1H59.982a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-5.997a1 1 0 0 0-1 1v27.495a1 1 0 0 0 1 1h42.997zM187.989 87.168h59.996a1 1 0 0 0 1-1V58.673a1 1 0 0 0-1-1H233.98a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.996a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-12.002a1 1 0 0 0-1 1v8.495a1 1 0 0 1-1 1h-9.997a1 1 0 0 1-1-1v-8.495a1 1 0 0 0-1-1h-5.997a1 1 0 0 0-1 1v27.495a1 1 0 0 0 1 1M70.207 209.263h-3.464a1 1 0 0 0-1 1v3.2a1 1 0 0 1-2 0v-3.2a1 1 0 0 0-1-1h-8.76a1 1 0 0 1 0-2h16.224a1 1 0 0 1 0 2zm13.83-2.91a.996.996 0 0 0-.202-.6l-18.572-24.639c-4.215-5.59-5.334-11.077-3.154-15.45 2.68-5.375 10.018-8.457 20.137-8.457.25 0 .5.002.75.006a.996.996 0 0 0 1.02-.993l-.01-20.892c-.005-.042-.025-.08-.025-.123 0-.044.02-.08.026-.123l-.003-4.883a1 1 0 0 0-1-1H53.982a1 1 0 0 1 0-2H62.7a1 1 0 0 0 1-1v-8.016a1 1 0 1 1 2 0v8.016a1 1 0 0 0 1 1h16.302a1 1 0 0 0 1-1l-.014-36.032c-.001-.552-.448-1-1-1H77.2a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h1.79a1 1 0 0 1 0 2H60.456a1 1 0 0 1 0-2h12.745a1 1 0 0 0 1-1V90.167a1 1 0 0 0-1-1H45.983a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.224a1 1 0 0 1 0 2h-5.224a1 1 0 0 0-1 1v36.032a1 1 0 0 0 1 1h7.224a1 1 0 0 1 0 2h-7.224a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h11.224a1 1 0 0 1 0 2H45.983a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.55a1 1 0 0 0 1-1v-8.016a1 1 0 0 1 2 0v8.016a1 1 0 0 0 1 1h.673a1 1 0 0 1 0 2H45.983a1 1 0 0 0-1 1v33.55a1 1 0 0 0 1 1h37.063a1 1 0 0 0 1-1.002l-.008-17.442z"}),s("path",{className:i.default.body,d:"M97.867 121.213a1 1 0 0 1-1-1v-3.425a1 1 0 0 1 2 0v3.425a1 1 0 0 1-1 1zm-.875-42.407h-10.01a1 1 0 0 0-1 1l.024 53.4c0 .552.448 1 1 1h8.86a1 1 0 0 0 1-1V128.2a1 1 0 0 1 2 0v5.006a1 1 0 0 0 1 1h2.34a1 1 0 1 1 0 2H87.009a1 1 0 0 0-1 1l.008 19.223c0 .518.396.945.913.988 3.873.333 7.858 1.06 11.814 2.114v-.736c0-.507.015-1.012.04-1.514a1 1 0 0 0-.995-1.06h-4.806a1 1 0 1 1 0-2h5.224c.492 0 .9-.36.979-.846 2.604-16.18 16.656-28.58 33.558-28.58 1.934 0 3.828.171 5.675.483.028.005.056.008.084.015 14.252 2.444 25.497 13.782 27.799 28.082a.994.994 0 0 0 .979.845h2.754a1 1 0 0 0 1-1v-6.757a1 1 0 0 1 2 0v6.757a1 1 0 0 0 1 1h6.173a1 1 0 0 1 0 2h-12.51a1 1 0 0 0-.994 1.06c.025.502.04 1.007.04 1.516v34.458a1 1 0 0 0 1 1H181.7a1 1 0 0 0 1-1v-16.017a1 1 0 0 0-1-1h-8.493a1 1 0 1 1 0-2h17.576c.07 0 .133.026.2.04V117.19a1 1 0 0 0-1-1h-34.776a1 1 0 0 1 0-2H171.2a1 1 0 0 0 1-1v-12.017a1 1 0 0 1 2 0v12.016a1 1 0 0 0 1 1h14.783a1 1 0 0 0 1-1V97.173a1 1 0 0 0-1-1h-49.1a1 1 0 0 0-1 1v5.29a1 1 0 0 1-2 0v-5.29a1 1 0 0 0-1-1h-5.676a1 1 0 1 1 0-2h19.808a1 1 0 0 0 1-1V79.805a1 1 0 0 0-1-1h-27.003a1 1 0 0 0-1 1v12.013a4 4 0 0 1-4 4H109.984a4 4 0 0 1-4-4V79.805a1 1 0 0 0-1-1h-7.992zM203.534 169.232a1 1 0 0 0-1 1v11.23a1 1 0 0 1-2 0v-11.23a1 1 0 0 0-1-1h-3.551a1 1 0 1 1 0-2h35.224a1 1 0 0 1 0 2h-27.673zm14.453 20.016h-4.78a1 1 0 0 1 0-2h4.78a1 1 0 0 1 0 2zm9 0h-.78a1 1 0 0 1 0-2h.78a1 1 0 0 1 0 2zm16.004 34.548v-33.548a1 1 0 0 0-1-1h-11.002a1 1 0 0 1 0-2h11.002a1 1 0 0 0 1-1V130.2a1 1 0 0 0-1-1h-40.008a1 1 0 1 1 0-2h8.718a1 1 0 0 0 1-1v-8.017a1 1 0 1 1 2 0v8.016a1 1 0 0 0 1 1h27.29a1 1 0 0 0 1-1V90.168a1 1 0 0 0-1-1H225.2a1 1 0 0 0-1 1v16.015a1 1 0 0 0 1 1h1.79a1 1 0 1 1 0 2h-18.534a1 1 0 0 1 0-2H221.2a1 1 0 0 0 1-1V90.167a1 1 0 0 0-1-1h-27.218a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h5.224a1 1 0 1 1 0 2h-5.224a1 1 0 0 0-1 1v36.032a1 1 0 0 0 1 1h7.224a1 1 0 0 1 0 2h-7.224a1 1 0 0 0-1 1v56.048a1 1 0 0 0 1 1h27.224a1 1 0 1 1 0 2h-27.224a1 1 0 0 0-1 1v13.532a1 1 0 0 0 1 1h48.008a1 1 0 0 0 1-1z"}),s("path",{className:i.default.accent,d:"M114.99 92.819V79.805a1 1 0 0 0-1-1h-5.006a1 1 0 0 0-1 1v13.014a1 1 0 0 0 1 1h5.007a1 1 0 0 0 1-1M146.015 79.805V92.82a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V79.805a1 1 0 0 0-1-1h-7a1 1 0 0 0-1 1"}),u,s("path",{className:i.default.body,d:"M97.054 224.796h1.14l-10.356-13.735c-.578-.766-1.799-.358-1.799.602l.006 12.133a1 1 0 0 0 1 1h10.009z"}),d,s("path",{className:i.default.body,d:"M164.044 82.805v4.368a7 7 0 0 0 7 7h18.938a1 1 0 0 0 1-1v-3.006a1 1 0 0 0-1-1h-.993a4 4 0 0 1-4-4v-5.362a1 1 0 0 0-1-1h-15.945a4 4 0 0 0-4 4M177.332 216.27h-4.125a1 1 0 0 1 0-2h4.125a1 1 0 0 1 0 2zm13.65 1a1 1 0 0 0-1-1h-6.281a1 1 0 1 1 0-2h6.281a1 1 0 0 0 1-1v-37.074c-.066.014-.129.041-.2.041H185.7a1 1 0 0 0-1 1v16.016a1 1 0 0 0 1 1h1.083a1 1 0 0 1 0 2h-16.04a4 4 0 0 0-4 4v21.543a3 3 0 0 0 3 3h18.24a3 3 0 0 0 3-3v-4.527z"}),c,s("path",{className:i.default.background,d:"M132.859 179.91l30.085 39.908c.578.766 1.799.358 1.799-.602v-60.42c0-15.707-11.38-28.8-26.325-31.486a1.105 1.105 0 0 0-.39 0c-15.248 2.748-26.276 15.927-26.276 31.486v4.814c0 .384.224.733.572.897 8.585 4.05 16.056 9.462 20.535 15.403"}),s("path",{className:i.default.accent,d:"M108.37 162.77a.998.998 0 0 0 1.382-.92v-3.054c0-12.464 6.66-23.492 16.883-29.416.98-.568.372-2.08-.734-1.838-14.368 3.14-25.158 15.958-25.158 31.254v.56c0 .439.287.823.707.95 2.34.716 4.657 1.54 6.92 2.464"}),s("path",{className:(0,o.default)(i.default.secondaryAccent,(e={},e[i.default.hover]=T,e[i.default.green]=O,e)),d:"M162.186 224.796a1 1 0 0 0 .799-1.602l-31.723-42.08c-9.106-12.079-31.094-21.906-49.015-21.906-9.332 0-16.02 2.678-18.348 7.348-1.824 3.66-.773 8.402 2.96 13.354l33.838 44.886h61.489z"}),f,s("path",{className:(0,o.default)(i.default.topLayer,(t={},t[i.default.hover]=T,t[i.default.green]=O,t)),d:"M215.522 29.248l22.184-8.048c.843-.306.888-1.482.071-1.851L215.593 9.318a1 1 0 0 0-1.412.91v18.08a1 1 0 0 0 1.341.94M72.831 11.233l-4.238-1.915a1 1 0 0 0-1.412.91v18.08a1 1 0 0 0 1.341.94l22.184-8.049c.843-.306.888-1.482.071-1.85L79.282 14.15a1 1 0 0 1-.499-1.322l-4.629-2.093a1 1 0 0 1-1.323.498"}),p,s("path",{className:(0,o.default)(i.default.topLayer,(n={},n[i.default.hover]=T,n[i.default.green]=O,n)),d:"M17.004 140.565l7-7.228 7 7.228v-39.523a3 3 0 0 0-3-3h-8a3 3 0 0 0-3 3v39.523z"}),s("path",{className:(0,o.default)(i.default.bottomLayer,(r={},r[i.default.hover]=T,r[i.default.green]=O,r)),d:"M34.004 98.042a1 1 0 0 0-1 1v45.225a.997.997 0 0 1-1 1c-.167 0-.334-.042-.486-.126l-7.514-7.514-7.514 7.514a1 1 0 0 1-1.486-.874V99.042a1 1 0 0 0-2 0v56.33l11-9.452 11 9.452v-56.33a1 1 0 0 0-1-1"}),h,v,m,s("path",{className:i.default.body,d:"M14.032 129.293a.999.999 0 0 0-1.414 0l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.183a.999.999 0 0 0 0-1.414M6.702 135.21l-1.183 1.183a.999.999 0 1 0 1.414 1.414l1.183-1.184a.999.999 0 1 0-1.414-1.414M12.85 135.21a.999.999 0 1 0-1.415 1.413l1.183 1.184a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-1.183-1.184zM8.116 130.476l-1.183-1.183a1 1 0 0 0-1.414 1.414l1.183 1.183a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414"}),y,_,g,E,S))},r}(a.PureComponent);t.default=T,T.displayName="JoinGuildIllustration",T.defaultProps={hovered:!1,isGreen:!1,hideBackgroundMist:!1},e.exports=t.default},8236:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=P(n(17)),i=P(n(4)),l=P(n(180)),s=n(6136),u=P(n(8237)),d=P(n(305)),c=P(n(124)),f=P(n(148)),p=P(n(301)),h=P(n(220)),v=P(n(6109)),m=P(n(6286)),y=P(n(822)),_=P(n(6239)),g=P(n(437)),E=P(n(442)),S=P(n(107)),T=P(n(177)),O=n(868),I=P(n(6076)),C=n(0),N=P(n(13)),A=P(n(5383)),M=P(n(5934));function P(e){return e&&e.__esModule?e:{default:e}}function b(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var R=Object.freeze({EDIT:1,REVIEW:2}),L=function(e){return e.replace(/^\s+/,"")},D=(0,O.cachedFunction)(function(e){return e.map(function(e){return{label:e.name,value:e.id}})}),w=(0,O.cachedFunction)(function(e,t,n,r){var a={id:"0",application_id:"0",timestamp:(0,i.default)().subtract(1,"hours").toISOString(),title:n||N.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_PLACEHOLDER_TITLE,url:t,game_id:"0",type:"article",flags:0};return null!=e&&(a.thumbnail={url:"",proxy_url:e,width:0,height:0}),r.length>0?a.description=r:0===n.length&&(a.description=N.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_PLACEHOLDER_BODY),a});function U(e){var t=e.news.thumbnail;return b("div",{className:A.default.wrapper},void 0,null==t?b("div",{className:M.default.thumbnailPlaceholder},void 0,b(p.default,{name:p.default.Names.IMAGE_PLACEHOLDER,width:64,height:64}),b("span",{className:M.default.thumbnailPlaceholderText},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_PLACEHOLDER_THUMBNAIL)):b("img",{src:t.proxy_url,className:M.default.thumbnailImage,alt:""}))}U.displayName="renderImageAsset";var k=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).handleChangeApplication=function(e){var t=e.value;n.setState({applicationId:t})},n.handleChangeThumbnail=function(e){n.setState({thumbnailOverride:e})},n.handleClickThumbnailRemove=function(){var e=n.props.originalThumbnailProxyUrl;n.handleChangeThumbnail(e)},n.handleChangeTitle=function(e){n.setState({title:L(e)})},n.handleChangeBody=function(e){n.setState({body:L(e)})},n.handleClickDelete=function(){var e=n.props,t=e.channelId,r=e.messageId,a=e.newsId;if(null==a)throw new Error("no news id to delete");l.default.show({title:N.default.Messages.APPLICATION_NEWS_EDITOR_DELETE_CONFIRMATION_TITLE,body:N.default.Messages.APPLICATION_NEWS_EDITOR_DELETE_CONFIRMATION_BODY,confirmText:N.default.Messages.YES_TEXT,cancelText:N.default.Messages.NEVERMIND,onConfirm:function(){(0,s.deleteNews)(a,t,r),(0,s.close)()}})},n.handleClickBack=function(){switch(n.state.step){case R.EDIT:n.close();break;case R.REVIEW:n.setState({step:R.EDIT})}},n.handleClickNext=function(){switch(n.state.step){case R.EDIT:n.isValid()&&n.setState({step:R.REVIEW});break;case R.REVIEW:n.setState({submitting:!0}),n.publish().then(function(){(0,s.close)()})}},n.state={applicationId:1===t.applications.length?t.applications[0].id:null,thumbnailOverride:t.originalThumbnailProxyUrl,title:t.title,body:t.body,step:R.EDIT,submitting:!1},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidMount=function(){this.trackViewed()},a.componentDidUpdate=function(e,t){t.step!==this.state.step&&this.trackViewed()},a.getApplication=function(){var e=this.props.applications,t=this.state.applicationId;return e.find(function(e){return e.id===t})},a.trackViewed=function(){var e=this.props,t=e.messageId,n=e.newsUrl,r=this.state.step,a=this.getApplication();T.default.trackWithMetadata(C.AnalyticEvents.NEWS_EDITOR_VIEWED,{application_name:null!=a?a.name:null,application_id:null!=a?a.id:null,message_id:t,news_url:n,news_card_editor_step:r===R.EDIT?"Edit":"Confirm"})},a.trackNewsUpdated=function(e,t){var n=this.props,r=n.messageId,a=n.newsUrl,o=this.state.body,i=this.getApplication();T.default.trackWithMetadata(C.AnalyticEvents.NEWS_UPDATED,{application_name:null!=i?i.name:null,application_id:null!=i?i.id:null,message_id:r,news_id:t,news_url:a,news_card_body_length:o.length,update_type:e})},a.close=function(){(0,s.close)()},a.isEditing=function(){return null!=this.props.newsId},a.isValid=function(){var e=this.state,t=e.thumbnailOverride,n=e.title;return(this.isEditing()||null!=this.getApplication())&&null!=t&&n.trim().length>0},a.publish=function(){var e=this,t=this.props,n=t.channelId,r=t.messageId,a=t.newsId,o=t.newsUrl,i=t.originalThumbnailUrl,l=this.state,u=l.applicationId,d=l.thumbnailOverride,c=l.title,f=l.body,p=null!=d&&d.startsWith("data:")?d:null;if(null!=a)return(0,s.updateNews)({channelId:n,messageId:r,newsId:a,thumbnail:p,title:c,description:f}).then(function(){return e.trackNewsUpdated("Edit",a)});if(null==u)throw new Error("no application id for news publish");return(0,s.createNews)({applicationId:u,channelId:n,messageId:r,url:o,thumbnail:i,thumbnailOverride:p,title:c,description:f}).then(function(t){return e.trackNewsUpdated("Create",t.id)})},a.renderHeader=function(e){return b(h.default.Header,{},void 0,b(f.default.Child,{},void 0,b(S.default,{tag:S.default.Tags.H4},void 0,e)),b(f.default.Child,{grow:0},void 0,b(h.default.CloseButton,{className:M.default.modalCloseButton,onClick:this.close})))},a.renderNewsUrl=function(){var e=this.props.newsUrl;return b(E.default,{title:N.default.Messages.APPLICATION_NEWS_EDITOR_NEWS_URL_LABEL,className:M.default.formItem},void 0,b("div",{className:M.default.newsUrl},void 0,b(d.default,{href:e},void 0,e)))},a.renderApplicationInput=function(){var e=this.props,t=e.applications,n=e.newsApplicationId,r=this.state.applicationId;return b(E.default,{required:!0,title:N.default.Messages.APPLICATION_NEWS_EDITOR_APPLICATION_LABEL,className:M.default.formItem},void 0,b(v.default,{options:D(t),value:this.isEditing()?n:r,disabled:this.isEditing(),placeholder:t.length>0?N.default.Messages.APPLICATION_NEWS_EDITOR_APPLICATION_PLACEHOLDER:N.default.Messages.APPLICATION_NEWS_EDITOR_APPLICATION_EMPTY_PLACEHOLDER,onChange:this.handleChangeApplication}))},a.renderThumbnailInput=function(){var e,t,n=this.props.originalThumbnailProxyUrl,r=this.state.thumbnailOverride;return e=null==r?b(c.default,{},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_UPLOAD_LABEL,b(I.default,{onChange:this.handleChangeThumbnail})):b(c.default,{color:c.default.Colors.PRIMARY},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_CHANGE_LABEL,b(I.default,{onChange:this.handleChangeThumbnail})),r!==n&&(t=b(c.default,{look:c.default.Looks.LINK,color:c.default.Colors.WHITE,onClick:this.handleClickThumbnailRemove},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_REMOVE_LABEL)),b(E.default,{required:!0,title:N.default.Messages.APPLICATION_NEWS_EDITOR_THUMBNAIL_LABEL,className:M.default.formItem},void 0,b(f.default,{},void 0,e,t))},a.renderTitleInput=function(){var e=this.state.title;return b(E.default,{required:!0,title:N.default.Messages.APPLICATION_NEWS_EDITOR_POST_TITLE_LABEL,className:M.default.formItem},void 0,b(y.default,{value:e,placeholder:N.default.Messages.APPLICATION_NEWS_EDITOR_POST_TITLE_PLACEHOLDER,onChange:this.handleChangeTitle}))},a.renderBodyInput=function(){var e=this.state.body;return b(E.default,{title:N.default.Messages.APPLICATION_NEWS_EDITOR_POST_BODY_LABEL,titleClassName:M.default.bodyTitle,className:M.default.formItemBody},void 0,b(m.default,{value:e,placeholder:N.default.Messages.APPLICATION_NEWS_EDITOR_POST_BODY_PLACEHOLDER,onChange:this.handleChangeBody,flex:!0}))},a.renderCardPreview=function(){var e,t=this.props.newsUrl,n=this.state,r=n.thumbnailOverride,a=n.title,i=n.body,l=w(r,t,a,i);return b(f.default,{direction:f.default.Direction.VERTICAL,grow:0},void 0,b(E.default,{title:N.default.Messages.APPLICATION_NEWS_EDITOR_CARD_PREVIEW_LABEL,className:M.default.formItem},void 0,b(_.default,{news:l,application:this.getApplication(),className:M.default.cardPreview,titleClassName:(0,o.default)((e={},e[M.default.titlePlaceholder]=!a,e)),renderAsset:U,autoPlay:!0,shouldAnimate:!0})))},a.renderCancelButton=function(){return b(f.default.Child,{},void 0,b(c.default,{color:M.default.cancelButtonColor,onClick:this.handleClickBack},void 0,N.default.Messages.CANCEL))},a.renderDeleteButton=function(){return this.isEditing()?b(f.default.Child,{},void 0,b(c.default,{color:c.default.Colors.RED,onClick:this.handleClickDelete},void 0,N.default.Messages.DELETE)):null},a.renderReviewButton=function(){return this.isValid()?b(c.default,{color:c.default.Colors.BRAND,onClick:this.handleClickNext},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_REVIEW):b(g.default,{text:N.default.Messages.FORM_MISSING_REQUIRED_FIELDS},void 0,b(c.default,{color:c.default.Colors.BRAND,disabled:!0},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_REVIEW))},a.renderEditFooter=function(){return b(h.default.Footer,{},void 0,b(f.default,{justify:f.default.Justify.BETWEEN},void 0,b(f.default,{grow:0},void 0,this.renderCancelButton(),this.renderDeleteButton()),this.renderReviewButton()))},a.renderReviewFooter=function(){var e=this.state.submitting;return b(h.default.Footer,{},void 0,b(f.default,{justify:f.default.Justify.BETWEEN},void 0,b(c.default,{color:M.default.cancelButtonColor,onClick:this.handleClickBack},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_BACK),b(c.default,{color:c.default.Colors.GREEN,submitting:e,onClick:this.handleClickNext},void 0,N.default.Messages.APPLICATION_NEWS_EDITOR_PUBLISH)))},a.renderEditStep=function(){return b("div",{className:M.default.editModalContainer},void 0,b(h.default,{className:M.default.editModal},R.EDIT,this.renderHeader(this.isEditing()?N.default.Messages.APPLICATION_NEWS_EDITOR_TITLE_EDITING:N.default.Messages.APPLICATION_NEWS_EDITOR_TITLE),b(h.default.Content,{},void 0,this.renderNewsUrl(),b(f.default,{},void 0,b(f.default,{direction:f.default.Direction.VERTICAL,className:M.default.form},void 0,this.renderApplicationInput(),this.renderThumbnailInput(),this.renderTitleInput(),this.renderBodyInput()),this.renderCardPreview())),this.renderEditFooter()))},a.renderReviewStep=function(){return b("div",{className:M.default.editModalContainer},void 0,b(h.default,{className:M.default.reviewModal},R.REVIEW,this.renderHeader(N.default.Messages.APPLICATION_NEWS_EDITOR_REVIEW_TITLE),b(h.default.Content,{},void 0,this.renderCardPreview()),this.renderReviewFooter()))},a.render=function(){switch(this.state.step){case R.EDIT:default:return this.renderEditStep();case R.REVIEW:return this.renderReviewStep()}},r}(a.PureComponent);k.displayName="NewsEditor",k.modalConfig={store:u.default};var G=k;t.default=G,e.exports=t.default},8237:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(3)),a=u(n(1)),o=u(n(314)),i=u(n(852)),l=u(n(41)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d=s.FormStates.CLOSED,c="",f="",p=[],h=null,v=null,m="",y=null,_=null,g="",E="";function S(e){m=e.url||"",g=e.rawTitle||e.title||"",E=e.rawDescription||e.description||"";var t=e.thumbnail||e.image;null!=t&&(y=t.url,_=t.proxyURL)}var T=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return d!==s.FormStates.CLOSED},a.getProps=function(){return{channelId:c,messageId:f,applications:p,newsId:h,newsApplicationId:v,newsUrl:m,originalThumbnailUrl:y,originalThumbnailProxyUrl:_,title:g,body:E}},r}(r.default.Store))(a.default,{NEWS_EDITOR_MODAL_OPEN:function(e){var t=e.message,n=o.default.findNewsLink(t);if(null==n)return!1;if(d=s.FormStates.OPEN,c=t.getChannelId(),f=t.id,p=l.default.getApplicationsForGuild(e.guildId)||[],h=null,v=null,y=null,_=null,g="",E="",null!=n.embed){var r=n.embed;if(r.type===s.EmbedTypes.APPLICATION_NEWS){var a=null!=(h=r.referenceId)?i.default.getByApplicationNewsId(h):null;null!=a?function(e){v=e.application_id,m=e.url,g=e.title||"",E=e.description||"";var t=e.thumbnail;null!=t&&(y=t.url,_=t.proxy_url||t.url)}(a):S(r)}else S(r)}else null!=n.url&&(m=n.url)},NEWS_EDITOR_MODAL_CLOSE:function(e){d=s.FormStates.CLOSED}});t.default=T,e.exports=t.default},8238:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=L(n(17)),i=L(n(6)),l=n(96),s=L(n(6158)),u=L(n(20)),d=L(n(843)),c=L(n(8239)),f=L(n(124)),p=L(n(444)),h=L(n(6006)),v=L(n(148)),m=L(n(301)),y=L(n(220)),_=L(n(6015)),g=L(n(6004)),E=L(n(5998)),S=L(n(125)),T=L(n(437)),O=L(n(442)),I=L(n(440)),C=L(n(107)),N=L(n(6314)),A=n(0),M=L(n(13)),P=L(n(5363)),b=L(n(5357)),R=L(n(5935));function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function k(e){return e.type===A.ChannelTypes.GUILD_CATEGORY?m.default.Names.CHANNEL_CATEGORY:e.isNSFW()?m.default.Names.CHANNEL_TEXT_NSFW:e.isRoleRequired()?m.default.Names.CHANNEL_TEXT_LIMITED:m.default.Names.CHANNEL_TEXT}var G=function(e){function t(t){var n;return w(n=e.call(this,t)||this).handleMute=n.handleMute.bind(w(n)),w(n).handleDelete=n.handleDelete.bind(w(n)),w(n).unhighlight=n.unhighlight.bind(w(n)),n.state={highlight:!1},n}U(t,e);var n=t.prototype;return n.highlight=function(){var e=this;this.setState({highlight:!0},function(){null!=e._timeout&&clearTimeout(e._timeout),e._timeout=setTimeout(e.unhighlight,1e3)})},n.unhighlight=function(){this.setState({highlight:!1})},n.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)},n.setMessageNotification=function(e,t){void 0===t&&(t=!1);var n=this.props.channel,r=n.getGuildId();null!=r&&s.default.updateChannelOverrideSettings(r,n.id,{message_notifications:e,muted:t})},n.handleRadioChange=function(e){this.setMessageNotification(e)},n.handleMute=function(e,t){var n=this.props.messageNotifications;this.setMessageNotification(n||A.UserNotificationSettings.NULL,t)},n.handleDelete=function(){var e=this.props,t=e.onDelete,n=e.channel;this.setMessageNotification(A.UserNotificationSettings.NULL,!1),t(n.id)},n.messageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,r=t.guildMuted,a=t.muted,o=t.guildMessageNotifications,i=n===e;null!=n&&n!==A.UserNotificationSettings.NULL||e!==o||(i=!0);var l=h.default.Types.INVERTED;return(a||n===A.UserNotificationSettings.NULL||null==n)&&(l=h.default.Types.GHOST),D(h.default,{value:!r&&i,disabled:r,shape:h.default.Shapes.ROUND,color:A.Colors.STATUS_GREEN,type:l,onChange:this.handleRadioChange.bind(this,e)})},n.renderName=function(){var e,t=this.props.channel;t.parent_id&&(e=u.default.getChannel(t.parent_id));var n,r=k(t);if(t.type===A.ChannelTypes.GUILD_CATEGORY&&t.guild_id){var a=d.default.getCategories(t.guild_id);n=M.default.Messages.NUM_CHANNELS.format({num:a[t.id]?a[t.id].length:0})}else n=null!=e?M.default.Messages.IN_CATEGORY.format({categoryName:e.toString()}):M.default.Messages.NO_CATEGORY;return D(v.default,{align:v.default.Align.START},void 0,D(v.default,{grow:0,shrink:0,className:R.default.iconContainer,align:v.default.Align.CENTER},void 0,D(m.default,{name:r,className:R.default.icon})),D(v.default.Child,{grow:1,shrink:1,className:b.default.marginReset},void 0,D(S.default,{weight:S.default.Weights.SEMIBOLD,size:S.default.Sizes.MEDIUM,className:R.default.channelName},void 0,t.toString()),D(S.default,{weight:S.default.Weights.NORMAL,size:S.default.Sizes.SMALL,className:R.default.channelNameByline},void 0,n)))},n.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return D(v.default,{grow:0,shrink:0,className:R.default.checkboxGroup,justify:v.default.Justify.AROUND,align:v.default.Align.CENTER},void 0,D(v.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(A.UserNotificationSettings.ALL_MESSAGES)),D(v.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(A.UserNotificationSettings.ONLY_MENTIONS)),D(v.default.Child,{wrap:!0,grow:0,shrink:0,className:n?R.default.checkboxContainerMuted:R.default.checkboxContainer},void 0,this.messageNotificationsRadioOption(A.UserNotificationSettings.NO_MESSAGES)),D(v.default.Child,{wrap:!0,grow:0,shrink:0,className:R.default.checkboxMute},void 0,D(h.default,{value:t,shape:h.default.Shapes.BOX,type:h.default.Types.INVERTED,onChange:this.handleMute})))},n.render=function(){var e=this.state.highlight;return D(p.default,{outline:!0,editable:!0,className:e?R.default.overrideHighlight:R.default.override},void 0,this.renderName(),this.renderOptions(),D("button",{className:(0,o.default)(R.default.removeOverride,P.default.button),onClick:this.handleDelete}))},t}(a.PureComponent);function F(e){return Object.keys(e).filter(function(t){return!0===e[t].muted||e[t].message_notifications!==A.UserNotificationSettings.NULL})}G.displayName="ChannelNotificationSettings";var j=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={overrides:new Set(F(t.props.channelOverrides)),lastSelected:null},t.setScrollerRef=function(e){t._scroller=null!=e?e.getScroller():null},t.handleSelectChange=function(e){if(null!=e){var n=t.state.overrides;(n=new Set(n)).add(e.value),t.setState({overrides:n,lastSelected:e.value})}},t.handleDeleteOverride=function(e){var n=t.state.overrides;(n=new Set(n)).delete(e),t.setState({overrides:n})},t.renderOption=function(e){var t=u.default.getChannel(e.value);if(null==t)return e.label;var n=u.default.getChannel(t.parent_id),r=null!=n?n.name:null;return D(N.default,{iconType:k(t),title:e.label,subtitle:r})},t}U(t,e);var n=t.prototype;return n.UNSAFE_componentWillReceiveProps=function(e){var t=e.channelOverrides,n=this.state.overrides;n=new Set(n),F(t).forEach(function(e){return n.add(e)}),this.setState({overrides:n})},n.close=function(){s.default.close()},n.componentDidUpdate=function(e,t){var n=this,r=this.state.lastSelected;null!=this._scroller&&null!=r&&null!=this.refs[r]&&r!==t.lastSelected&&(this._scroller.scrollIntoView((0,l.findDOMNode)(this.refs[r]),!0,{top:20,bottom:20},function(){return n.setState({lastSelected:null})}),this.refs[r].highlight())},n.handleCheckboxChange=function(e,t){var n;s.default.updateNotificationSettings(this.props.guildId,((n={})[e]=t.currentTarget.checked,n))},n.handleRadioChange=function(e,t){var n,r=t.value;s.default.updateNotificationSettings(this.props.guildId,((n={})[e]=r,n))},n.renderHeader=function(){var e=this.props.guild;return D(y.default.Header,{},void 0,D(v.default.Child,{},void 0,D(C.default,{tag:C.default.Tags.H4},void 0,M.default.Messages.NOTIFICATION_SETTINGS),D(S.default,{size:S.default.Sizes.SMALL,color:S.default.Colors.PRIMARY,className:R.default.guildName},void 0,e.name)),D(v.default.Child,{grow:0},void 0,D(y.default.CloseButton,{onClick:this.close})))},n.renderFooter=function(){return D(y.default.Footer,{},void 0,D(f.default,{onClick:s.default.close},void 0,M.default.Messages.DONE))},n.renderMute=function(){var e=this.props.muted;return D(E.default,{value:e,onChange:this.handleCheckboxChange.bind(this,"muted"),note:M.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION},void 0,M.default.Messages.FORM_LABEL_MUTE_SERVER.format({name:this.props.guild.name}))},n.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted;return D(O.default,{title:M.default.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:R.default.spacing},void 0,D(_.default,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,"message_notifications"),options:[{name:M.default.Messages.FORM_LABEL_ALL_MESSAGES,value:A.UserNotificationSettings.ALL_MESSAGES},{name:M.default.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:A.UserNotificationSettings.ONLY_MENTIONS},{name:M.default.Messages.FORM_LABEL_NOTHING,value:A.UserNotificationSettings.NO_MESSAGES}]}))},n.renderNotificationOptions=function(){var e=this.props,t=e.suppressEveryone,n=e.mobilePush,r=e.muted;return D(O.default,{className:R.default.largeSpacing},void 0,D(E.default,{onChange:this.handleCheckboxChange.bind(this,"suppress_everyone"),value:t},void 0,M.default.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()),D(E.default,{value:!r&&n,disabled:r,onChange:this.handleCheckboxChange.bind(this,"mobile_push")},void 0,M.default.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS))},n.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,r=(0,i.default)(t).filter(function(e){var t=e.channel;return t.type!==A.ChannelTypes.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0}).map(function(e){var t=e.channel;return{value:t.id,label:t.toString()}}).value();return D(O.default,{title:M.default.Messages.NOTIFICATION_OVERRIDES,className:R.default.largeSpacing},void 0,D(I.default,{type:I.default.Types.DESCRIPTION,className:R.default.smallSpacing},void 0,M.default.Messages.ADD_CHANNEL_TO_OVERRIDE),D(g.default,{searchable:!0,scrollMenuIntoView:!1,placeholder:M.default.Messages.SELECT_CHANNEL_OR_CATEGORY,optionRenderer:this.renderOption,options:r,onChange:this.handleSelectChange}))},n.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,r=t.muted,o=t.channels,i=t.messageNotifications,l=t.categories,s=this.state.overrides,u=o.map(function(t){var o=t.channel;if(!s.has(o.id)||null!=l[o.id]&&0===l[o.id].length)return null;var u=n[o.id];return a.createElement(G,{key:o.id,ref:o.id,channel:o,guildMuted:r,muted:null!=u&&u.muted,messageNotifications:null!=u?u.message_notifications:null,guildMessageNotifications:i,onDelete:e.handleDeleteOverride})}).filter(function(e){return null!=e});return 0!==s.size&&0!==u.length||u.push(D("div",{className:R.default.overridePlaceholder},"placeholder",D(S.default,{color:S.default.Colors.PRIMARY,weight:S.default.Weights.SEMIBOLD,className:R.default.lighten},void 0,M.default.Messages.ADD_CHANNEL_TO_OVERRIDE))),D("div",{className:R.default.overrideList},void 0,D(v.default,{},void 0,D(S.default,{color:S.default.Colors.PRIMARY,size:R.default.headerSize,weight:S.default.Weights.BOLD,className:R.default.headerName},void 0,M.default.Messages.CHANNEL_OR_CATEGORY),D(S.default,{color:S.default.Colors.PRIMARY,size:R.default.headerSize,weight:S.default.Weights.BOLD,className:R.default.headerOption},void 0,M.default.Messages.FORM_LABEL_ALL),D(S.default,{color:S.default.Colors.PRIMARY,size:R.default.headerSize,weight:S.default.Weights.BOLD,className:R.default.headerOption},void 0,M.default.Messages.FORM_LABEL_MENTIONS),D(S.default,{color:S.default.Colors.PRIMARY,size:R.default.headerSize,weight:S.default.Weights.BOLD,className:R.default.headerOption},void 0,M.default.Messages.FORM_LABEL_NOTHING),D(S.default,{color:S.default.Colors.PRIMARY,size:R.default.headerSize,weight:S.default.Weights.BOLD,className:R.default.headerOption},void 0,D(T.default,{text:M.default.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:T.default.Positions.BOTTOM},void 0,D("span",{},void 0,M.default.Messages.SOUND_MUTE)))),u)},n.render=function(){return a.createElement(y.default,{size:y.default.Sizes.MEDIUM,ref:this.setScrollerRef},this.renderHeader(),D(y.default.Content,{},void 0,this.renderMute(),this.renderServerSettings(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()),this.renderFooter())},t}(a.PureComponent);j.displayName="NotificationSettings",j.modalConfig={store:c.default};var x=j;t.default=x,e.exports=t.default},8239:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=f(n(3)),a=f(n(1)),o=n(126),i=n(449),l=f(n(843)),s=f(n(108)),u=f(n(28)),d=f(n(226)),c=n(0);function f(e){return e&&e.__esModule?e:{default:e}}var p,h=c.FormStates.CLOSED;var v=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){var e=this;this.syncWith([d.default,s.default,u.default],function(){return e.isOpen()})},a.isOpen=function(){return h!==c.FormStates.CLOSED},a.getProps=function(){var e=l.default.getCategories(p);return{guildId:p,categories:e,guild:u.default.getGuild(p),suppressEveryone:d.default.isSuppressEveryoneEnabled(p),mobilePush:d.default.isMobilePushEnabled(p),muted:d.default.isMuted(p),messageNotifications:d.default.getMessageNotifications(p),channelOverrides:d.default.getChannelOverrides(p),channels:(0,i.getFlattenedChannelList)(e._categories,e,function(e){var t=e.channel.type;return(0,o.isGuildSelectableChannelType)(t)||t===c.ChannelTypes.GUILD_CATEGORY})}},r}(r.default.Store))(a.default,{NOTIFICATION_SETTINGS_MODAL_OPEN:function(e){var t=e.guildId;h=c.FormStates.OPEN,p=t},NOTIFICATION_SETTINGS_MODAL_CLOSE:function(e){return h=c.FormStates.CLOSED,void(p=null)}});t.default=v,e.exports=t.default},8240:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=v(n(6641)),i=v(n(452)),l=v(n(8241)),s=v(n(124)),u=v(n(220)),d=v(n(5998)),c=v(n(442)),f=v(n(107)),p=n(7165),h=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,n;function r(t){var n;return y(n=e.call(this,t)||this).handleRestrictedGuildChange=n.handleRestrictedGuildChange.bind(y(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){o.default.close()},a.handleRestrictedGuildChange=function(e){var t=new Set((0,p.getSanitizedRestrictedGuilds)());e.currentTarget.checked?t.delete(this.props.guildId):t.add(this.props.guildId),t=Array.from(t),i.default.updateRemoteSettings({restrictedGuilds:t})},a.render=function(){var e=this.props,t=e.isGuildRestricted,n=e.guild;return m(u.default,{},void 0,m(u.default.Header,{},void 0,m(f.default,{tag:f.default.Tags.H4},void 0,h.default.Messages.PRIVACY_SETTINGS,"—",null!=n?n.toString():"??")),m(u.default.Content,{},void 0,m(c.default,{},void 0,m(f.default,{tag:f.default.Tags.H5,style:{marginBottom:4}},void 0,h.default.Messages.DIRECT_MESSAGES),m(d.default,{value:!t,onChange:this.handleRestrictedGuildChange,hideBorder:!0},void 0,h.default.Messages.ALLOW_SERVER_DMS))),m(u.default.Footer,{},void 0,m(s.default,{onClick:this.close},void 0,h.default.Messages.DONE)))},r}(a.PureComponent);_.displayName="PrivacySettings",_.modalConfig={store:l.default};var g=_;t.default=g,e.exports=t.default},8241:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(3)),a=s(n(1)),o=s(n(28)),i=s(n(35)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u,d,c,f=l.FormStates.CLOSED;function p(){if(f===l.FormStates.CLOSED)return!1;var e=o.default.getGuild(u),t=i.default.isGuildRestricted(u),n=!1;return d!==e&&(d=e,n=!0),c!==t&&(c=t,n=!0),n}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.syncWith([o.default,i.default],p)},a.isOpen=function(){return f!==l.FormStates.CLOSED},a.getProps=function(){return{guildId:u,guild:d,isGuildRestricted:c}},r}(r.default.Store))(a.default,{PRIVACY_SETTINGS_MODAL_OPEN:function(e){f=l.FormStates.OPEN,u=e.guildId,p()},PRIVACY_SETTINGS_MODAL_CLOSE:function(e){return f=l.FormStates.CLOSED,d=null,void(c=null)}});t.default=h,e.exports=t.default},8242:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=m(n(6721)),i=m(n(28)),l=m(n(8243)),s=m(n(124)),u=m(n(220)),d=m(n(6015)),c=m(n(442)),f=m(n(440)),p=m(n(107)),h=m(n(13)),v=m(n(5936));function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(e){var t,n;function r(t){var n;return _(n=e.call(this,t)||this).handleDaysChange=n.handleDaysChange.bind(_(n)),_(n).handlePrune=n.handlePrune.bind(_(n)),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.close=function(){o.default.close()},a.render=function(){var e=this.props,t=e.estimate,n=e.guildId,r=e.days,a=i.default.getGuild(n);return y(u.default,{tag:"form",onSubmit:this.handlePrune},void 0,y(u.default.Header,{},void 0,y(p.default,{tag:p.default.Tags.H4},void 0,h.default.Messages.PRUNE_MEMBERS,"—",null!=a?a.toString():"")),y(u.default.Content,{},void 0,y(c.default,{title:h.default.Messages.FORM_LABEL_LAST_SEEN},void 0,y(d.default,{value:r,options:[{name:h.default.Messages.LAST_SEEN.format({days:1}),value:1},{name:h.default.Messages.LAST_SEEN.format({days:7}),value:7},{name:h.default.Messages.LAST_SEEN.format({days:30}),value:30}],onChange:this.handleDaysChange,className:v.default.spacing}),y(f.default,{type:f.default.Types.DESCRIPTION,className:v.default.spacing},void 0,h.default.Messages.FORM_HELP_LAST_SEEN.format({members:t,days:r})))),y(u.default.Footer,{},void 0,y(s.default,{type:"submit",disabled:0===t},void 0,h.default.Messages.PRUNE),y(s.default,{type:"button",look:s.default.Looks.LINK,color:s.default.Colors.PRIMARY,onClick:this.close},void 0,h.default.Messages.CANCEL)))},a.handleDaysChange=function(e){var t=e.value;o.default.open(this.props.guildId,parseInt(t,10))},a.handlePrune=function(e){e.preventDefault();var t=this.props,n=t.days,r=t.guildId;o.default.prune(r,n)},r}(a.PureComponent);g.displayName="PruneGuild",g.modalConfig={store:l.default};var E=g;t.default=E,e.exports=t.default},8243:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=i(n(3)),a=i(n(1)),o=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l,s,u,d=o.FormStates.CLOSED;var c=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return d!==o.FormStates.CLOSED},a.getProps=function(){return{guildId:l,days:s,estimate:u}},r}(r.default.Store))(a.default,{PRUNE_GUILD_MODAL_OPEN:function(e){d=o.FormStates.OPEN,l=e.guildId,s=e.days,u=e.estimate},PRUNE_GUILD_MODAL_UPDATE:function(e){e.guildId===l&&e.days===s&&(u=e.estimate)},PRUNE_GUILD_MODAL_CLOSE:function(e){return d=o.FormStates.CLOSED,l=null,s=null,void(u=null)}});t.default=c,e.exports=t.default},8244:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(2)),o=m(n(1)),i=m(n(827)),l=y(n(6114)),s=m(n(8245)),u=m(n(220)),d=m(n(125)),c=m(n(44)),f=m(n(6667)),p=n(0),h=m(n(13)),v=m(n(5642));function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function _(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function a(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).transitionTo=function(e){var n=t.props,r=n.guildId,a=n.guestGuildId;o.default.wait(function(){var t=[i.default.joinGuild(r,!1,"Chat Input Blocker - Lurker Mode")];null!=a&&a!==r&&t.push(i.default.joinGuild(a,!1,"Chat Input Blocker - Lurker Mode")),Promise.all(t).then(function(){c.default.transitionTo(e)})})},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var s=a.prototype;return s.close=function(){l.close()},s.render=function(){var e=this.props,t=e.guildId,r=e.channelId;return _(u.default,{className:v.default.modal,size:u.default.Sizes.MEDIUM},void 0,_("div",{className:v.default.information},void 0,_(d.default,{size:d.default.Sizes.LARGE,color:d.default.Colors.PRIMARY},void 0,h.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_HEADER),_(d.default,{color:d.default.Colors.PRIMARY,className:v.default.body},void 0,h.default.Messages.GUEST_LURKER_MODE_CHAT_INPUT_BODY),_("img",{alt:"",src:n(6489),className:v.default.image})),_(f.default,{transitionTo:this.transitionTo,redirectTo:p.Routes.CHANNEL(t,r),isGuest:!0,authBoxClassName:v.default.card}))},a}(a.PureComponent);g.displayName="Register",g.modalConfig={store:s.default,closable:!0};var E=g;t.default=E,e.exports=t.default},8245:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=c(n(3)),a=c(n(1)),o=c(n(12)),i=c(n(339)),l=c(n(49)),s=c(n(150)),u=c(n(6055)),d=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var f=d.FormStates.CLOSED;function p(){f=d.FormStates.CLOSED}var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(u.default,o.default,i.default)},a.isOpen=function(){return!u.default.hasAction()&&f!==d.FormStates.CLOSED},a.getProps=function(){var e=s.default.getGuildId();return{guildId:e,channelId:l.default.getChannelId(e),guestGuildId:i.default.getGuildId()}},r}(r.default.Store))(a.default,{REGISTER_MODAL_OPEN:function(e){return function(){if(!o.default.isGuest())return!1;f=d.FormStates.OPEN}()},REGISTER_SUCCESS:function(e){f===d.FormStates.OPEN&&(f=d.FormStates.CLOSED)},REGISTER_MODAL_CLOSE:function(e){return p()},CONNECTION_CLOSED:function(e){return p()},USER_REQUIRED_ACTION_UPDATE:function(e){return!0}});t.default=h,e.exports=t.default},8246:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=n(56),i=_(n(446)),l=_(n(824)),s=_(n(6597)),u=_(n(46)),d=_(n(8247)),c=_(n(14)),f=_(n(7274)),p=_(n(8249)),h=_(n(18)),v=_(n(222)),m=n(0),y=_(n(13));function _(e){return e&&e.__esModule?e:{default:e}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var E=function(e){var t,n;function a(t){var n;return g(n=e.call(this,t)||this).handleShare=n.handleShare.bind(g(n)),g(n).handlePromptPremium=n.handlePromptPremium.bind(g(n)),g(n).close=n.close.bind(g(n)),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=a.prototype;return d.getItems=function(){return[{name:y.default.Messages.SCREENSHARE_SCREEN,value:o.DesktopSources.SCREEN,layout:f.default.Layout.STACK,options:this.props.screenSources,sound:!1},{name:y.default.Messages.SCREENSHARE_WINDOW,value:o.DesktopSources.WINDOW,layout:f.default.Layout.WRAP,options:this.props.windowSources,sound:u.default.supports(o.Features.SOUNDSHARE)}]},d.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(p.default,{items:this.getItems(),value:o.DesktopSources.SCREEN,resolution:720,frameRate:30,sound:u.default.supports(o.Features.SOUNDSHARE),premium:v.default.canUseHigherFramerate(c.default.getCurrentUser()),description:y.default.Messages.SCREENSHARE_DESCRIPTION.format({name:this.props.channel.toString()}),onCancel:this.close,onSelectSourceType:this.handleSelectSourceType,onPromptPremium:this.handlePromptPremium,onShare:this.handleShare})},d.close=function(){s.default.close()},d.handleShare=function(e,t,n,r){this.close(),i.default.setDesktopSource(e,t,n,r)},d.handleSelectSourceType=function(e){s.default.selectSourceType(e)},d.handlePromptPremium=function(){h.default.track(m.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:m.AnalyticsPages.DM_CHANNEL,location_section:m.AnalyticsSections.SCREENSHARE_POPOUT}),this.close(),l.default.open(m.UserSettingsSections.PREMIUM)},a}(a.PureComponent);E.displayName="Screenshare",E.modalConfig={store:d.default};var S=E;t.default=S,e.exports=t.default},8247:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(113)),a=u(n(3)),o=n(56),i=u(n(8248)),l=n(78),s=u(n(1));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d,c,f,p=!1,h=o.DesktopSources.SCREEN,v=new l.Interval;function m(){var e=h===o.DesktopSources.WINDOW?{width:150,height:150}:{width:307,height:240},t=h===o.DesktopSources.WINDOW?d:c,n=h;(0,i.default)([h],e).then(function(e){n!==h||null!=t&&(0,r.default)(t,e)||(h===o.DesktopSources.WINDOW?d=e:c=e,y.emitChange())})}var y=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.isOpen=function(){return p},a.getProps=function(){return{windowSources:d,screenSources:c,channel:f}},r}(a.default.Store))(s.default,{SCREENSHARE_MODAL_OPEN:function(e){p=!0,f=e.channel,m(),v.start(1e3,m)},SCREENSHARE_MODAL_CLOSE:function(e){return p=!1,h=o.DesktopSources.SCREEN,f=null,v.stop(),d=null,void(c=null)},SCREENSHARE_MODAL_SELECT_SOURCE_TYPE:function(e){var t=e.sourceType;h=t,d=null,c=null,m()}}),_=y;t.default=_,e.exports=t.default},8249:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=A(n(2)),o=N(n(17)),i=N(n(6)),l=n(869),s=n(178),u=A(n(124)),d=N(n(6740)),c=N(n(219)),f=N(n(148)),p=N(n(7274)),h=N(n(301)),v=N(n(220)),m=N(n(308)),y=N(n(8250)),_=N(n(438)),g=N(n(6161)),E=N(n(125)),S=N(n(440)),T=N(n(107)),O=n(0),I=N(n(13)),C=N(n(5939));function N(e){return e&&e.__esModule?e:{default:e}}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function M(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P=M(_.default,{}),b=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).state={selectedSegment:t.value,selectedTile:null,selectedResolution:t.resolution,selectedFrameRate:t.frameRate,sound:t.sound},i.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleSelectSegment","handleSoundChange","handleShare"]),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){this.props.value!==e.value&&this.setState({selectedSegment:e.value})},a.getButton=function(e,t){var n,r,a,o=this,i=this.props,l=i.premium,u=i.onPromptPremium,d=this.state,c=d.selectedResolution,p=d.selectedFrameRate,v=t?e===c:e===p,m=!1;return l||(m=t?0===e||e>=1080:60===e),t||60!==e?t&&(0===e||e>=1080)&&(n=60===p):n=0===c||c>=1080,m?(r=M(f.default,{align:f.default.Align.CENTER},void 0,M(E.default,{size:E.default.Sizes.SMALL,weight:E.default.Weights.SEMIBOLD,color:E.default.Colors.PRIMARY,className:C.default.selectorNitroText},void 0,0===e?I.default.Messages.SCREENSHARE_SOURCE:e),M(h.default,{name:h.default.Names.NITRO,color:O.Colors.BRAND,className:C.default.selectorNitroIcon})),a=u):(r=M(E.default,{size:E.default.Sizes.SMALL,weight:E.default.Weights.SEMIBOLD,className:(0,s.getClass)(C.default,"selectorText",v?"Selected":null)},void 0,0===e?I.default.Messages.SCREENSHARE_SOURCE:e),a=t?function(){return o.handleSelectResolution(e)}:function(){return o.handleSelectFrameRate(e)}),{content:r,className:(0,s.getClass)(C.default,"selectorButton",v?"Selected":null),onClick:a,disabled:n}},a.renderSelectors=function(){var e=this,t=[480,720,1080,0].map(function(t){return e.getButton(t,!0)}),n=[15,30,60].map(function(t){return e.getButton(t,!1)});return M(f.default,{align:f.default.Align.CENTER,shrink:0,className:C.default.selector},void 0,M(f.default.Child,{grow:0},void 0,M(T.default,{tag:T.default.Tags.H5},void 0,I.default.Messages.SCREENSHARE_STREAM_QUALITY),M(d.default,{buttons:t})),M(f.default.Child,{grow:0},void 0,M(T.default,{tag:T.default.Tags.H5},void 0,I.default.Messages.SCREENSHARE_FRAME_RATE),M(d.default,{buttons:n})),this.renderSound())},a.renderSound=function(){var e=this,t=this.props.items,n=this.state,r=n.selectedSegment,a=n.sound,o=(0,i.default)(t).filter(function(e){return e.value===r}).first();return null!=o&&o.sound?M(l.SmartUID,{},void 0,function(t){return M(f.default.Child,{grow:0},void 0,M("label",{htmlFor:t,className:C.default.label},void 0,I.default.Messages.SCREENSHARE_SOUND_TOGGLE_LABEL),M(f.default,{align:f.default.Align.CENTER,style:{height:30}},void 0,M(g.default,{id:t,value:a,onChange:e.handleSoundChange})))}):null},a.renderGrids=function(){var e=this,t=this.props.items,n=this.state,r=n.selectedSegment,a=n.selectedTile,l=(0,i.default)(t).filter(function(e){return e.value===r}).first();if(null==l||null==l.options)return M(f.default,{className:C.default.spinner,justify:f.default.Justify.CENTER,align:f.default.Align.CENTER},void 0,P);var s=l.layout,u=l.options,d=s===p.default.Layout.STACK,h=u.map(function(t){var n,r,i,l=t.id,s=t.name,u=t.url,p=a===l;return M(c.default,{className:C.default.tile,onClick:function(){return e.handleSelectTile(l)}},l,M(f.default,{direction:f.default.Direction.VERTICAL,justify:f.default.Justify.CENTER,align:f.default.Align.CENTER},void 0,M(f.default,{justify:f.default.Justify.CENTER,align:f.default.Align.CENTER,className:(0,o.default)((n={},n[C.default.imageContainerStack]=d,n[C.default.imageContainerWrap]=!d,n))},void 0,M("img",{alt:"",className:(0,o.default)((r={},r[C.default.imageSelected]=p,r[C.default.imageStack]=d,r[C.default.imageWrap]=!d,r)),src:u})),M("div",{className:(0,o.default)((i={},i[C.default.titleStack]=d,i[C.default.titleWrap]=!d,i[C.default.titleSelected]=p,i))},void 0,s)))});return M(m.default,{theme:m.default.Themes.GHOST_HAIRLINE},void 0,M(p.default,{layout:s,columns:3,className:C.default.container},void 0,h))},a.render=function(){var e=this.props,t=e.items,n=e.description,r=e.onCancel,a=this.state,o=a.selectedSegment,l=a.selectedTile,s=[];return(0,i.default)(t).forEach(function(e){var t=e.name,n=e.value;s.push({name:t,value:n})}),M(v.default,{size:C.default.size},void 0,M(f.default,{className:C.default.content,direction:f.default.Direction.VERTICAL},void 0,M(y.default,{options:s,value:o,onChange:this.handleSelectSegment,className:C.default.border}),this.renderSelectors(),M(f.default,{className:C.default.tiles,direction:f.default.Direction.VERTICAL,align:f.default.Align.STRETCH},void 0,this.renderGrids()),M(S.default,{type:S.default.Types.DESCRIPTION,className:C.default.description},void 0,n)),M(v.default.Footer,{},void 0,M(u.default,{disabled:null==l,onClick:this.handleShare},void 0,I.default.Messages.SHARE),M(u.default,{look:u.ButtonLooks.LINK,color:u.ButtonColors.PRIMARY,onClick:r},void 0,I.default.Messages.CANCEL)))},a.handleSelectSegment=function(e){var t=e.value;t!==this.state.selectedSegment&&(this.setState({selectedSegment:t}),(0,this.props.onSelectSourceType)(t))},a.handleSelectResolution=function(e){e!==this.state.selectedResolution&&this.setState({selectedResolution:e})},a.handleSelectFrameRate=function(e){e!==this.state.selectedFrameRate&&this.setState({selectedFrameRate:e})},a.handleSelectTile=function(e){e!==this.state.selectedTile&&this.setState({selectedTile:e})},a.handleSoundChange=function(e){this.setState({sound:e.currentTarget.checked})},a.handleShare=function(){var e=this.props.onShare,t=this.state;e(t.selectedTile,t.selectedResolution,t.selectedFrameRate,t.sound)},r}(a.PureComponent);b.displayName="ScreenshareModal",b.defaultProps={items:[],value:null,premium:!1,resolution:480,frameRate:30,sound:!1,onCancel:O.NOOP,onShare:O.NOOP,onSelectSourceType:O.NOOP,onPromptPremium:O.NOOP};var R=b;t.default=R,e.exports=t.default},8250:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(17)),i=d(n(219)),l=d(n(148)),s=n(0),u=d(n(5938));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;return n&&n(t.props.option,e)},t}return f(t,e),t.prototype.render=function(){var e,t=this.props.selected,n=this.props.option.name;return c(i.default,{className:(0,o.default)(u.default.item,(e={},e[u.default.selected]=t,e)),onClick:this.handleClick},void 0,n)},t}(a.PureComponent);p.displayName="SegmentControlItem";var h=function(e){function t(){return e.apply(this,arguments)||this}f(t,e);var n=t.prototype;return n.renderItem=function(e){var t=this.props.value===e.value;return c(p,{selected:t,option:e,onClick:this.props.onChange},e.value)},n.render=function(){var e=this.props.className;return c(l.default,{className:(0,o.default)(u.default.container,e),shrink:0},void 0,this.props.options.map(this.renderItem,this))},t}(a.PureComponent);h.displayName="SegmentControl",h.defaultProps={options:[],onChange:s.NOOP,value:null};var v=h;t.default=v,e.exports=t.default},8251:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=d(n(6)),i=n(478),l=d(n(6055)),s=d(n(8252)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function a(t){var n;return(n=e.call(this,t)||this).state={accepting:!1},o.default.bindAll(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n),["handleAccept"]),n}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var l=a.prototype;return l.handleAccept=function(){var e=this;return this.setState({accepting:!0}),(0,i.acceptAgreements)().then(function(t){return e.setState({accepting:t})})},l.render=function(){return function(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}(s.default,{className:"theme-light",onAccept:this.handleAccept,accepting:this.state.accepting})},a}(a.PureComponent);t.default=c,c.displayName="UserAgreements",c.modalConfig={store:l.default,center:!0,isOpen:function(){return l.default.getAction()===u.UserRequiredActions.AGREEMENTS}},e.exports=t.default},8252:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2)),o=h(n(17)),i=h(n(124)),l=h(n(6006)),s=h(n(148)),u=h(n(832)),d=h(n(440)),c=n(0),f=h(n(13)),p=h(n(5940));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var m=v(u.default,{}),y=v(u.default,{}),_=v(u.default,{}),g=function(e){var t,r;function a(t){var n;return(n=e.call(this,t)||this).handleCheck=function(){n.setState({checked:!n.state.checked})},n.state={checked:!1},n}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.className,r=e.accepting,a=e.onAccept,u=this.state.checked;return v("div",{className:(0,o.default)(p.default.modal,t)},void 0,v("div",{className:p.default.title},void 0,f.default.Messages.NEW_TERMS_TITLE),m,v(d.default,{className:p.default.description},void 0,f.default.Messages.NEW_TERMS_DESCRIPTION),v(s.default,{className:p.default.container,align:s.default.Align.CENTER,justify:s.default.Justify.CENTER},void 0,v(s.default,{direction:s.default.Direction.VERTICAL},void 0,v("div",{className:p.default.link},void 0,f.default.Messages.TERMS_OF_SERVICE.format({url:c.MarketingURLs.TERMS})),v("div",{className:p.default.link},void 0,f.default.Messages.PRIVACY_POLICY.format({url:c.MarketingURLs.PRIVACY}))),v("img",{alt:"",src:n(8253)})),y,v("div",{className:p.default.container},void 0,v(l.default,{onChange:this.handleCheck,value:u},void 0,v("div",{className:p.default.ack},void 0,f.default.Messages.NEW_TERMS_ACK))),_,v(s.default,{className:p.default.buttonContainer,justify:s.default.Justify.END},void 0,v(i.default,{className:p.default.button,disabled:!u,submitting:r,onClick:a},void 0,f.default.Messages.NEW_TERMS_CONTINUE)))},a}(a.PureComponent);g.displayName="NewTermsModal",g.defaultProps={onAccept:c.NOOP,accepting:!1};var E=g;t.default=E,e.exports=t.default},8253:function(e,t,n){e.exports=n.p+"a13cfdd7220132fff399a76c3ed64519.svg"},8254:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=f(n(3)),o=n(78),i=f(n(1)),l=f(n(152)),s=f(n(132)),u=f(n(12)),d=f(n(130)),c=(n(0),f(n(13)));function f(e){return e&&e.__esModule?e:{default:e}}var p=new o.Timeout,h=3e5;function v(){null!=r&&(l.default.sendBotMessage(r,c.default.Messages.BOT_CALL_IDLE_DISCONNECT),s.default.selectVoiceChannel(null,null))}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(d.default)},r}(a.default.Store))(i.default,{CONNECTION_CLOSED:function(e){return r=null,void p.stop()},VOICE_STATE_UPDATE:function(e){if(null!=e.guildId)return!1;var t=d.default.getCurrentVoiceChannelId(null,u.default.getId());return null==t?(p.stop(),!1):(1===d.default.getVoiceStatesForChannel(null,t).length?(r=t,p.start(h,v,!1)):p.stop(),!1)}});t.default=m,e.exports=t.default},8255:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=h(n(6)),a=h(n(3)),o=h(n(8)),i=h(n(21)),l=h(n(1)),s=n(7141),u=h(n(7142)),d=h(n(9)),c=h(n(12)),f=h(n(468)),p=n(0);function h(e){return e&&e.__esModule?e:{default:e}}var v={},m="FriendSyncResultHashes";function y(){i.default.set(m,{userId:c.default.getId(),resultHashes:v})}function _(e){return e.type+":"+e.id}var g=new u.default(function(e){var t=f.default.getAccounts(),n=(0,r.default)(t).filter(function(e){return e.friendSync&&p.UNSAFE_PLATFORM_TYPES.has(e.type)&&p.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type}).uniq().value();(0,s.fetchAccounts)(n).then(function(t){var n=t.filter(function(e){if(v[_(e)]===e.resultHash)return!1;var t=f.default.getAccount(e.id,e.type);return null!=t&&t.friendSync});n.length>0&&o.default.post({url:p.Endpoints.FRIEND_SUGGESTIONS+"/sync",body:n.map(function(e){return{id:e.id,name:e.name,id_hash:e.idHash,platform_type:e.type,friend_id_hashes:e.friendIdHashes}})}).then(function(){n.forEach(function(e){v[_(e)]=e.resultHash}),y()}),e()})});function E(){var e;return d.default.embedded&&((e=i.default.get(m))&&(e.userId===c.default.getId()?v=e.resultHashes:i.default.remove(m)),g.start(36e5)),!1}var S=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(f.default,c.default)},r}(a.default.Store))(l.default,{CONNECTION_OPEN:function(e){return E()},CONNECTION_CLOSED:function(e){return g.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return function(){for(var e,t,n=!1,r=0,a=Object.keys(v);r<a.length;r++){var o=a[r],i=(t=(e=o).indexOf(":"),{type:e.substr(0,t),id:e.substr(t+1)}),l=i.type,s=i.id,u=f.default.getAccount(s,l);null!=u&&u.friendSync||(delete v[o],n=!0)}return n&&y(),d.default.embedded&&g.run(),!1}()},LOGOUT:function(e){return g.stop(),void i.default.remove(m)}});t.default=S,e.exports=t.default},8256:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(3)),a=d(n(1)),o=d(n(132)),i=d(n(9)),l=d(n(28)),s=d(n(348)),u=d(n(181));n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c,f,p=18e6;var h=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(s.default)},r}(r.default.Store))(a.default,{IDLE:function(e){var t=e.idleSince;if(i.default.embedded&&(clearTimeout(c),clearTimeout(f),null!=t&&!u.default.isDisabled())){var n=u.default.getChannelId();if(null!=n){f=setTimeout(function(){o.default.selectVoiceChannel(null,null)},p);var r=l.default.getGuild(u.default.getGuildId());null!=r&&null!=r.afkChannelId&&r.afkChannelId!==n&&null!=r.afkTimeout&&(c=setTimeout(function(){null!=(r=l.default.getGuild(u.default.getGuildId()))&&null!=r.afkChannelId&&o.default.selectVoiceChannel(r.id,r.afkChannelId)},t+1e3*r.afkTimeout-Date.now()))}}}});t.default=h,e.exports=t.default},8257:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(6)),a=u(n(3)),o=u(n(1)),i=u(n(9)),l=u(n(41)),s=u(n(64));n(0);function u(e){return e&&e.__esModule?e:{default:e}}var d={};function c(){i.default.embedded&&i.default.isWindows()&&i.default.ensureModule("discord_vigilante").then(function(){var e=i.default.requireModule("discord_vigilante"),t=s.default.getRunningGames(),n=r.default.map(t,function(e){return e.pid.toString()});d=r.default.pick(d,n);var a=(0,r.default)(t).reject(function(e){return e.pid in d}).map(function(e){return[e.pid,l.default.getGameByName(e.name)||l.default.getGameByName(e.processName)]}).filter(function(e){return null!=e[1]}).filter(function(t){var n=t[1];return e.hasSidekick(n.id)}).map(function(t){var n=t[0],r=t[1];return[n,e.spawnSidekick(n,r.id)]}).value();d=r.default.assign(d,r.default.fromPairs(a))})}var f=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(l.default,s.default)},r}(a.default.Store))(o.default,{RUNNING_GAMES_CHANGE:function(e){return c()},GAMES_DATABASE_UPDATE:function(e){return c()}});t.default=f,e.exports=t.default},8258:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=d(n(6)),a=d(n(3)),o=d(n(1)),i=d(n(8259)),l=d(n(20)),s=d(n(71)),u=n(0);function d(e){return e&&e.__esModule?e:{default:e}}var c=new i.default(s.default.isMember,function(e,t){o.default.dispatch({type:u.ActionTypes.GUILD_MEMBERS_REQUEST,guildIds:[e],userIds:t})});function f(){c.reset()}function p(e,t){return c.request(e,t),!1}function h(e,t){return t.forEach(function(t){var n=t.author,r=t.mentions;null!=n&&p(e,n.id),r.forEach(function(t){return p(e,t.id)})}),!1}function v(e){var t=e.channelId,n=e.messages,r=l.default.getChannel(t);return null!=r&&null!=r.guild_id&&h(r.guild_id,n)}var m=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(l.default,s.default)},r}(a.default.Store))(o.default,{CONNECTION_CLOSED:function(e){return f()},CONNECTION_OPEN:function(e){return f()},CONNECTION_RESUMED:function(e){return c.requestUnacknowledged(),!1},GUILD_MEMBERS_CHUNK:function(e){var t=e.guildId,n=e.members,r=e.notFound;return n.forEach(function(e){c.acknowledge(t,e.user.id)}),null!=r&&r.forEach(function(e){return c.acknowledge(t,e)}),!1},SEARCH_FINISH:function(e){var t=e.searchId,n=e.messages;return h(t,r.default.flatten(n))},LOAD_MESSAGES_SUCCESS:v,LOAD_MESSAGES_AROUND_SUCCESS:v,LOAD_PINNED_MESSAGES_SUCCESS:v,LOAD_RECENT_MENTIONS_SUCCESS:v});t.default=m,e.exports=t.default},8259:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(6))&&r.__esModule?r:{default:r},o=n(78);var i=function(){function e(e,t){this._pendingRequests=new Set,this._sentRequests=new Set,this._unacknowledgedRequests=new Set,this._guildId=e,this._guildMemberExists=function(n){return t(e,n)}}var t=e.prototype;return t.acknowledge=function(e){this._unacknowledgedRequests.delete(e),this._pendingRequests.delete(e)},t.flushRequests=function(e){var t=this;if(0!==this._pendingRequests.size){var n=[];this._pendingRequests.forEach(function(e){t._guildMemberExists(e)||(t._unacknowledgedRequests.add(e),t._sentRequests.add(e),n.push(e))}),n.length>0&&e(this._guildId,n),this._pendingRequests.clear()}},t.requestUnacknowledged=function(){var e=this;return 0!==this._unacknowledgedRequests.size&&(this._unacknowledgedRequests.forEach(function(t){e._guildMemberExists(t)?e._unacknowledgedRequests.delete(t):e._pendingRequests.add(t)}),0!==this._pendingRequests.size&&void 0)},t.request=function(e){if(this._guildMemberExists(e)||this._sentRequests.has(e)||this._pendingRequests.has(e))return!1;this._pendingRequests.add(e)},e}(),l=function(){function e(e,t){var n=this;this._guildStates={},this._flush=new o.DelayedCall(0,function(){return n.flushRequests()}),this._guildMemberExists=e,this._onChange=t}var t=e.prototype;return t.reset=function(){this._guildStates={},this._flush.cancel()},t.request=function(e,t){!1!==this._getGuildState(e).request(t)&&this._flush.delay()},t.acknowledge=function(e,t){this._getGuildState(e).acknowledge(t)},t.flushRequests=function(){var e=this;a.default.forEach(this._guildStates,function(t){return t.flushRequests(e._onChange)})},t.requestUnacknowledged=function(){a.default.reduce(this._guildStates,function(e,t){return!1!==t.requestUnacknowledged()||t},!1)&&this._flush.delay()},t._getGuildState=function(e){var t=this._guildStates[e];return null==t&&(t=this._guildStates[e]=new i(e,this._guildMemberExists)),t},e}();t.default=l,e.exports=t.default},8260:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=y(n(3)),o=y(n(1)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(8261)),l=y(n(12)),s=y(n(6198)),u=y(n(71)),d=y(n(28)),c=y(n(181)),f=y(n(85)),p=y(n(49)),h=y(n(150)),v=y(n(235)),m=n(0);function y(e){return e&&e.__esModule?e:{default:e}}function _(){E.forEach(function(e){e===h.default.getGuildId()||e===c.default.getGuildId()||null!=r&&r.guildId===e||E.clear(e)})}function g(e,t){E.subscribeTyping(e),E.subscribeActivities(e),null!=t&&s.default.getSection()===m.ChannelSections.MEMBERS&&E.subscribeChannel(e,t,i.DEFAULT_RANGES)}var E=new i.default(function(e,t){o.default.dispatch({type:m.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:t})});function S(e){e.type===m.ActionTypes.CONNECTION_OPEN&&_();var t=h.default.getGuildId();return null!=t&&g(t,p.default.getChannelId(t)),E.forEach(function(e){null==d.default.getGuild(e)?E.clear(e):o.default.dirtyDispatch({type:m.ActionTypes.GUILD_SUBSCRIPTIONS_FLUSH,guildId:e,subscriptions:E.get(e)})}),!1}function T(){var e=v.default.getSyncingWith();if(null==e)null!=r&&(E.unsubscribeUser(r.guildId,r.userId),r=null);else{var t=e.userId;if(null!=r&&r.userId===t)return!1;if(f.default.isFriend(t))return!1;var n=u.default.memberOf(t);if(0===n.length)return!1;var a=n[0];r={guildId:a,userId:t},E.subscribeUser(a,t)}return!1}var O=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.initialize=function(){this.waitFor(d.default,h.default,p.default,c.default,l.default,s.default),this.syncWith([v.default],T)},r}(a.default.Store))(o.default,{CONNECTION_OPEN:S,CONNECTION_RESUMED:S,CONNECTION_CLOSED:function(e){return _(),!1},IDLE:function(e){return e.idle&&_(),!1},LOGOUT:function(e){return E.reset(),!1},GUILD_SELECT:function(e){return g(e.guildId),!1},GUILD_DELETE:function(e){var t=e.guild;return E.clear(t.id),!1},GUILD_SUBSCRIPTIONS_MEMBERS_ADD:function(e){var t=e.guildId;return e.userIds.forEach(function(e){e!==l.default.getId()&&E.subscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE:function(e){var t=e.guildId;return e.userIds.forEach(function(e){E.unsubscribeUser(t,e)}),!1},GUILD_SUBSCRIPTIONS_CHANNEL:function(e){var t=e.guildId,n=e.channelId,r=e.ranges;return E.subscribeChannel(t,n,r),!1},CHANNEL_PRELOAD:function(e){return g(e.guildId,e.channelId),!1}});t.default=O,e.exports=t.default},8261:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var r=s(n(6)),a=n(78),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7119));t.MINIMUM_RANGE=o.MINIMUM_RANGE,t.DEFAULT_RANGES=o.DEFAULT_RANGES;var i=s(n(8262)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e){return null!=e&&"null"!==e&&e!==l.ME&&"undefined"!==e}var c=function(){function e(e){var t=this;this._members=new i.default(function(e,n){return t._enqueue(e,{members:n})}),this._channels=new o.default(function(e,n){return t._enqueue(e,{channels:n})}),this._typing=new Set,this._activities=new Set,this._subscribed=new Set,this._pending=new Set,this._flush=new a.DelayedCall(0,function(){return t.flush()}),this._onChange=e}var t=e.prototype;return t._enqueue=function(e,t){this._pending[e]=u({},this._pending[e],t),this._flush.delay()},t.reset=function(){this._subscribed.clear(),this._pending={},this._members.reset(),this._channels.reset(),this._typing.clear(),this._activities.clear()},t.get=function(e){return{typing:this._typing.has(e),activities:this._activities.has(e),members:this._members.get(e),channels:this._channels.get(e)}},t.forEach=function(e){this._subscribed.forEach(e)},t.clear=function(e){this._subscribed.delete(e),delete this._pending[e],this._members.clear(e),this._channels.clear(e),this._typing.delete(e),this._activities.delete(e)},t.flush=function(){var e=this;r.default.forEach(this._pending,function(t,n){e._subscribed.add(n),e._onChange(n,t)}),this._pending={}},t.subscribeUser=function(e,t){d(e)&&this._members.subscribe(e,t)},t.unsubscribeUser=function(e,t){d(e)&&this._members.unsubscribe(e,t)},t.subscribeChannel=function(e,t,n){d(e)&&this._channels.subscribe(e,t,n)},t.subscribeTyping=function(e){d(e)&&(this._typing.has(e)||(this._typing.add(e),this._enqueue(e,{typing:!0})))},t.subscribeActivities=function(e){d(e)&&(this._activities.has(e)||(this._activities.add(e),this._enqueue(e,{activities:!0})))},e}();t.default=c},8262:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(6))&&r.__esModule?r:{default:r},o=n(78);var i=6e4,l=function(){function e(e){var t=this;this._subscriptions={},this._unsubscriptions={},this._unsubscribe=new o.DelayedCall(i,function(){return t.flushUnsubscriptions()}),this._onChange=e}var t=e.prototype;return t.reset=function(){this._subscriptions={},this._unsubscriptions={},this._unsubscribe.cancel()},t.get=function(e){var t=this._subscriptions[e]||{};return a.default.keys(t)},t.clear=function(e){delete this._subscriptions[e],delete this._unsubscriptions[e]},t.subscribe=function(e,t){var n=this._subscriptions[e]||{};n[t]=(n[t]||0)+1,this._subscriptions[e]=n,1===n[t]&&this._onChange(e,this.get(e)),this.checkForLeaks(e,t)},t.isSubscribed=function(e,t){return null!=this._subscriptions[e]&&null!=this._subscriptions[e][t]},t.unsubscribe=function(e,t){if(this.isSubscribed(e,t)){var n=this._unsubscriptions[e]||{};n[t]=(n[t]||0)+1,this._unsubscriptions[e]=n,1===n[t]&&this._unsubscribe.delay(!1)}},t.checkForLeaks=function(e,t){var n=(this._subscriptions[e]&&this._subscriptions[e][t]||0)-(this._unsubscriptions[e]&&this._unsubscriptions[e][t]||0);n>5&&console.warn("GuildMemberSubscriptions.subscribe(...): Potential reference leak! ("+n+" subscriptions)")},t.flushUnsubscriptions=function(){var e=this;a.default.isEmpty(this._unsubscriptions)||(a.default.forEach(this._unsubscriptions,function(t,n){var r=e._subscriptions[n];a.default.forEach(t,function(e,t){r[t]=(r[t]||0)-e,r[t]<=0&&delete r[t]}),a.default.isEmpty(r)&&delete e._subscriptions[n],e._onChange(n,e.get(n))}),this._unsubscriptions={})},e}();t.default=l,e.exports=t.default},8263:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=v(n(3)),a=v(n(21)),o=n(78),i=v(n(1)),l=v(n(873)),s=n(111),u=v(n(41)),d=v(n(86)),c=v(n(64)),f=v(n(35)),p=v(n(238)),h=n(0);function v(e){return e&&e.__esModule?e:{default:e}}var m="ActivityTrackingStore",y=18e5,_=3e5,g=4004,E=a.default.get(m)||{},S={},T=!1;function O(e,t){void 0===t&&(t=!0),t&&I(e,!0);var n=S[e.applicationId];null!=n&&(n.stop(),delete S[e.applicationId]),delete E[e.applicationId],a.default.set(m,E)}function I(e,t){void 0===t&&(t=!1);var n=Date.now(),r=null!=e.updatedAt?n-e.updatedAt:0;r>y+_&&(r=0),l.default.updateActivity(e.applicationId,e.isDiscordApplication?h.Distributors.DISCORD:e.distributor,(0,s.shouldShareApplicationActivity)(e.applicationId,f.default,d.default,p.default),e.token,Math.floor(r/1e3),t),e.updatedAt=n;var i=S[e.applicationId];null==i&&(i=S[e.applicationId]=new o.Interval).start(y,function(){return I(e)}),t||(E[e.applicationId]=e,a.default.set(m,E))}function C(e){void 0===e&&(e=!0);var t=c.default.getRunningGames(),n=new Set,r=t,a=Array.isArray(r),o=0;for(r=a?r:r[Symbol.iterator]();;){var i;if(a){if(o>=r.length)break;i=r[o++]}else{if((o=r.next()).done)break;i=o.value}var l=i,s=l.name,d=l.distributor,f=u.default.getGameByName(s);null!=f&&(n.add(f.id),f.id in E||I({applicationId:f.id,updatedAt:Date.now(),distributor:d}))}for(var p=0,h=Object.keys(E);p<h.length;p++){var v=h[p];n.has(v)||O(E[v],e)}}function N(){for(var e=0,t=Object.keys(E);e<t.length;e++){var n=t[e];O(E[n])}T=!1}var A=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.initialize=function(){this.waitFor(c.default,f.default,d.default,p.default),this.syncWith([f.default],C)},a.getActivities=function(){return E},r}(r.default.Store))(i.default,{RUNNING_GAMES_CHANGE:function(e){return C()},CONNECTION_OPEN:function(e){return function(){if(T)return!1;for(var e=0,t=Object.keys(E);e<t.length;e++){var n=t[e];I(E[n])}C(!1),T=!0}()},CONNECTION_CLOSED:function(e){e.code===g&&N()},LOGOUT:function(e){return N()},ACTIVITY_UPDATE_SUCCESS:function(e){var t=e.applicationId,n=e.token,r=E[t];if(null==r)return!1;r.token=n,a.default.set(m,E)},ACTIVITY_UPDATE_FAIL:function(e){var t=e.applicationId,n=E[t];if(null==n)return!1;n.token=null,n.updatedAt=null,a.default.set(m,E)}});t.default=A,e.exports=t.default},8264:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=l(n(3)),a=l(n(1)),o=l(n(473)),i=l(n(41));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=64;var u=new(function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(r.default.Store))(a.default,{USER_ACHIEVEMENT_UPDATE:function(e){var t=e.userAchievement,n=t.application_id,r=t.achievement;if(100===t.percent_complete){var a=i.default.getGame(n),l=null!=a?a.getIconURL(s):null;o.default.showNotification(l,r.name,r.description)}}});t.default=u,e.exports=t.default},853:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2));var r,a=i(n(17)),o=i(n(907));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var s={UP:o.default.directionUp,RIGHT:o.default.directionRight,DOWN:o.default.directionDown,LEFT:o.default.directionLeft},u=function(e){var t=e.direction,n=void 0===t?s.DOWN:t,r=e.width,i=void 0===r?24:r,u=e.height,d=void 0===u?24:u,c=e.color,f=void 0===c?"currentColor":c,p=e.transition,h=void 0===p?o.default.transition:p,v=e.className,m=e.foreground,y=e.expanded,_=n;return!0===y?_=s.DOWN:!1===y&&(_=s.RIGHT),l("svg",{className:(0,a.default)(v,h,_),width:i,height:d,viewBox:"0 0 24 24"},void 0,l("path",{className:m,fill:"none",stroke:f,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M7 10L12 15 17 10"}))};u.displayName="Caret",u.Directions=s;var d=u;t.default=d,e.exports=t.default},894:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,u=void 0===s?"currentColor":s,d=e.foreground,c=e.background,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["width","height","color","foreground","background"]);return a.createElement("svg",o({},f,{width:n,height:l,viewBox:"0 0 24 24"}),i("path",{className:c,fill:u,d:"M6.16204 15.0065C6.10859 15.0022 6.05455 15 6 15H4V12C4 7.588 7.589 4 12 4C13.4809 4 14.8691 4.40439 16.0599 5.10859L17.5102 3.65835C15.9292 2.61064 14.0346 2 12 2C6.486 2 2 6.485 2 12V19.1685L6.16204 15.0065Z"}),i("path",{className:c,fill:u,d:"M19.725 9.91686C19.9043 10.5813 20 11.2796 20 12V15H18C16.896 15 16 15.896 16 17V20C16 21.104 16.896 22 18 22H20C21.105 22 22 21.104 22 20V12C22 10.7075 21.7536 9.47149 21.3053 8.33658L19.725 9.91686Z"}),i("path",{className:d,fill:u,d:"M3.20101 23.6243L1.7868 22.2101L21.5858 2.41113L23 3.82535L3.20101 23.6243Z"}))},e.exports=t.default},895:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2));function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t,n,a){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var s=new Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}t.default=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,l=void 0===r?24:r,s=e.color,u=void 0===s?"currentColor":s,d=e.foreground,c=e.background,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["width","height","color","foreground","background"]);return a.createElement("svg",o({},f,{width:n,height:l,viewBox:"0 0 24 24"}),i("path",{className:d,fill:u,d:"M21 4.27L19.73 3L3 19.73L4.27 21L8.46 16.82L9.69 15.58L11.35 13.92L14.99 10.28L21 4.27Z"}),i("path",{fill:u,className:c,d:"M6.7 11H5C5 12.19 5.34 13.3 5.9 14.28L7.13 13.05C6.86 12.43 6.7 11.74 6.7 11Z"}),i("path",{fill:u,className:c,d:"M9.01 11.085C9.015 11.1125 9.02 11.14 9.02 11.17L15 5.18V5C15 3.34 13.66 2 12 2C10.34 2 9 3.34 9 5V11C9 11.03 9.005 11.0575 9.01 11.085Z"}),i("path",{fill:u,className:c,d:"M11.7237 16.0927L10.9632 16.8531L10.2533 17.5688C10.4978 17.633 10.747 17.6839 11 17.72V21H13V17.72C16.28 17.23 19 14.41 19 11H17.3C17.3 14 14.76 16.1 12 16.1C11.9076 16.1 11.8155 16.0975 11.7237 16.0927Z"}))},e.exports=t.default}}]);
//# sourceMappingURL=e2d0285a3a5e67f6a69e.js.map