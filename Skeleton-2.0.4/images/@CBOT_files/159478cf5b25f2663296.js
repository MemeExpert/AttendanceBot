(window.webpackJsonp=window.webpackJsonp||[]).push([[4,11,17,253,254,255,256],{5358:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=D(r(12)),i=D(r(20)),l=D(r(5996)),u=D(r(5995)),s=D(r(6461)),d=D(r(6062)),c=D(r(7323)),f=D(r(7324)),p=D(r(7325)),y=D(r(7339)),h=D(r(7340)),v=D(r(6755)),_=D(r(7341)),m=D(r(7342)),g=D(r(7343)),O=D(r(7344)),A=D(r(7346)),I=D(r(7347)),E=D(r(7440)),S=D(r(7441)),T=D(r(7442)),b=D(r(7443)),P=D(r(7444)),N=D(r(7445)),M=D(r(7446)),C=D(r(7449)),R=D(r(7450)),L=r(0);function D(e){return e&&e.__esModule?e:{default:e}}function w(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var U=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var D=n.prototype;return D.renderAdminGroup=function(){var e=this.props,t=e.user,r=e.guildId,n=e.channelId;return null!=r&&null!=n?w(p.default,{user:t,guildId:r,channelId:n}):null},D.renderRolesGroup=function(){var e=this.props,t=e.user,r=e.guildId,n=e.invertChildY;return null!=r?w(b.default,{userId:t.id,guildId:r,invertChildY:n}):null},D.renderCloseChatItem=function(){var e=this.props,t=e.channelId,r=e.selected;return null!=t?w(_.default,{selected:r,channelId:t}):null},D.renderChangeNicknameItem=function(){var e=this.props,t=e.user,r=e.guildId;return null!=r?w(v.default,{userId:t.id,guildId:r}):null},D.renderMoveToItem=function(){var e=this.props,t=e.user,r=e.guildId,n=e.invertChildY;return null!=r?w(c.default,{user:t,guildId:r,invertChildY:n}):null},D.renderMenu=function(){if(this.props.user.isNonUserBot())return null;var e=this.props,t=e.user,r=e.type,n=e.guildId,o=e.channelId,l=e.target,c=e.mediaEngineContext;switch(r){case L.ContextMenuTypes.USER_CHANNEL_MEMBERS:case L.ContextMenuTypes.USER_CHANNEL_VOICE:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(O.default,{user:t,guildId:n}),w(A.default,{userId:t.id}),w(h.default,{userId:t.id}),w(I.default,{user:t,guildId:n,channelId:o,target:l,position:r===L.ContextMenuTypes.USER_CHANNEL_MEMBERS?I.default.LEFT:I.default.RIGHT}),w(P.default,{userId:t.id})),w(R.default,{userId:t.id}),w(u.default,{},void 0,w(g.default,{userId:t.id,mediaEngineContext:c}),null!=n?w(v.default,{userId:t.id,guildId:n}):null,w(m.default,{user:t,guildId:n}),w(N.default,{user:t}),w(f.default,{user:t}),w(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_MESSAGE:case L.ContextMenuTypes.USER_CHANNEL_MENTION:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(O.default,{user:t,guildId:n}),w(A.default,{userId:t.id}),w(h.default,{userId:t.id}),w(I.default,{user:t,guildId:n,channelId:o,target:l})),w(u.default,{},void 0,this.renderChangeNicknameItem(),w(m.default,{user:t,guildId:n}),w(N.default,{user:t}),w(f.default,{user:t}),w(y.default,{user:t})),this.renderAdminGroup(),this.renderRolesGroup(),this.renderMoveToItem(),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_PRIVATE_CHANNELS:var p=i.default.getChannel(o);return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(h.default,{userId:t.id}),w(I.default,{user:t,guildId:n,channelId:o,target:l}),this.renderCloseChatItem(),w(P.default,{userId:t.id})),w(u.default,{},void 0,w(m.default,{user:t,guildId:n}),w(N.default,{user:t}),w(f.default,{user:t}),w(y.default,{user:t}),null!=p?w(s.default,{channel:p}):null),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GROUP_DM:case L.ContextMenuTypes.USER_CALL_AVATAR:var _,b;null!=o&&(_=w(T.default,{userId:t.id,channelId:o}),b=w(u.default,{},void 0,w(S.default,{userId:t.id,channelId:o})));var D=i.default.getChannel(o);return D&&D.isManaged()&&(_=null,b=null),w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(O.default,{user:t}),w(A.default,{userId:t.id}),_,w(I.default,{user:t,channelId:o,target:l}),w(P.default,{userId:t.id})),w(R.default,{userId:t.id}),b,w(u.default,{},void 0,w(g.default,{userId:t.id,mediaEngineContext:c}),null!=o?w(C.default,{userId:t.id,channelId:o,guildId:n}):null,w(m.default,{user:t,guildId:n}),w(N.default,{user:t}),w(f.default,{user:t}),w(y.default,{user:t})),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_FRIEND_LIST:case L.ContextMenuTypes.USER_PROFILE_MUTUAL:case L.ContextMenuTypes.USER_GENERIC_LIST:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(A.default,{userId:t.id}),w(h.default,{userId:t.id}),w(I.default,{user:t,guildId:n,channelId:o,target:l}),w(P.default,{userId:t.id})),w(u.default,{},void 0,w(m.default,{user:t,guildId:n}),w(N.default,{user:t}),w(f.default,{user:t}),w(y.default,{user:t})),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_CHANNEL_TITLE:case L.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(h.default,{userId:t.id}),w(I.default,{user:t,guildId:n,channelId:o,target:l}),w(P.default,{userId:t.id}),this.renderCloseChatItem()),w(u.default,{},void 0,w(m.default,{user:t,guildId:n}),w(N.default,{user:t}),w(f.default,{user:t}),w(y.default,{user:t})),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_GUILD_MEMBERS:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(g.default,{userId:t.id,mediaEngineContext:c}),this.renderChangeNicknameItem()),this.renderAdminGroup(),this.renderRolesGroup(),null!=n?w(u.default,{},void 0,w(M.default,{user:t,guildId:n})):null,w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_AUDIT_LOG:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(A.default,{userId:t.id})),this.renderRolesGroup(),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_BANS:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(E.default,{userId:t.id,guildId:n}),w(A.default,{userId:t.id})),w(d.default,{id:t.id}));case L.ContextMenuTypes.USER_ACTIVITY_FEED:return w(a.Fragment,{},void 0,w(u.default,{},void 0,w(N.default,{user:t})));default:console.warn("Error - no such ctx menu type")}return null},D.render=function(){var e=this.props,t=e.analyticsContext,r=e.className,n=e.style;if(o.default.isGuest())return null;var a=this.renderMenu();return null!=a?w(l.default,{context:t,object:L.AnalyticsObjects.CONTEXT_MENU},void 0,w("div",{className:r,style:n},void 0,a)):null},n}(a.PureComponent);U.displayName="UserContextMenu",U.defaultProps={selected:!1};var j=U;t.default=j,e.exports=t.default},5359:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=V(r(2)),o=Y(r(17)),i=Y(r(3)),l=Y(r(179)),u=Y(r(865)),s=Y(r(6462)),d=Y(r(5360)),c=Y(r(12)),f=Y(r(41)),p=Y(r(230)),y=Y(r(71)),h=Y(r(28)),v=Y(r(129)),_=Y(r(85)),m=Y(r(35)),g=Y(r(14)),O=Y(r(5992)),A=Y(r(219)),I=Y(r(148)),E=Y(r(6287)),S=Y(r(6208)),T=r(223),b=Y(r(18)),P=V(r(79)),N=Y(r(456)),M=r(324),C=r(316),R=r(178),L=Y(r(6757)),D=Y(r(5996)),w=Y(r(6070)),U=Y(r(6758)),j=Y(r(7398)),G=Y(r(6674)),k=r(0),x=Y(r(13)),F=Y(r(5357)),B=Y(r(5750));function Y(e){return e&&e.__esModule?e:{default:e}}function V(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function K(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var z=[r(7433),r(7434),r(7435),r(7436),r(7437),r(7438),r(7439)],$=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={show:!1},t}W(t,e);var r=t.prototype;return r.componentDidMount=function(){this.setState({show:!0})},r.getWumpusImage=function(){var e=this.props.userId;if("string"!=typeof e)return z[0];var t=parseInt(e.slice(-6),10);return z[t%z.length]},r.render=function(){var e;return K("div",{className:B.default.wumpusWrapper},void 0,K("div",{className:(0,o.default)(B.default.wumpus,(e={},e[B.default.wumpusShown]=this.state.show,e))},void 0,K("img",{alt:x.default.Messages.IMG_ALT_ICON.format({name:x.default.Messages.WUMPUS}),src:this.getWumpusImage()}),K("span",{className:B.default.wumpusTooltip},void 0,x.default.Messages.USER_POPOUT_WUMPUS_TOOLTIP)))},t}(a.PureComponent);$.displayName="BouncyWumpus";var X=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).close=function(){var e=t.props.onClose;e&&e()},t.handleOpenProfile=function(){u.default.open(t.props.user.id,t.props.guildId),t.close()},t}W(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;this.fetchApplication().then(function(){return e.trackOpenPopout()})},r.componentDidUpdate=function(e){var t=this.props.activity;null==t||null!=e.activity&&t.application_id===e.activity.application_id||this.fetchApplication()},r.fetchApplication=function(){var e=this.props.activity;return null!=e&&null!=e.application_id&&null==f.default.getGame(e.application_id)?l.default.fetchApplication(e.application_id):Promise.resolve()},r.trackOpenPopout=function(){var e,t,r,n=this.props,a=n.activity,o=n.user,i=n.status,l=n.showMobileIndicator,u=n.analyticsParams;null!=a&&(e=a.party,t=a.assets,r=null!=a.application_id?f.default.getGame(a.application_id):null);var s=i;i===k.StatusTypes.ONLINE&&(s=l?k.AnalyticsUserStatusTypes.ONLINE_MOBILE:k.AnalyticsUserStatusTypes.ONLINE_DESKTOP),b.default.track(k.AnalyticEvents.OPEN_POPOUT,H({type:"Profile Popout",other_user_id:o.id,application_id:null!=a?a.application_id:void 0,sku_id:null!=r?r.primarySkuId:null,is_friend:_.default.isFriend(o.id),has_images:!(null==t||!t.large_image&&!t.small_image),party_max:null!=e&&null!=e.size?e.size[1]:void 0,party_id:null!=e?e.id:void 0,party_platform:null!=e&&(0,M.isSpotifyParty)(e.id)?k.PlatformTypes.SPOTIFY:null,game_platform:(0,T.getGamePlatform)(a),game_name:null!=a?a.name:null,profile_user_status:s},u))},r.getMode=function(){var e=this.props.activity;return null==e?"Normal":(0,T.isStreaming)(e)?"Streaming":(0,T.isOnXbox)(e)?"Xbox":(0,T.isListeningOnSpotify)(e)?"Spotify":"Playing"},r.getStatusMode=function(){var e=this.props,t=e.activity,r=e.status;return(0,T.isStreaming)(t)?"Streaming":(0,C.upperCaseFirstChar)(r)},r.getNonUserBotMode=function(){var e=this.props.disableUserProfileLink;return this.props.user.isNonUserBot()||e?"NonUserBot":"Normal"},r.renderHeaderName=function(e){var t,r,n,a=this.props,i=a.nickname,l=a.showMobileIndicator;return null==i?null:K("div",{className:(0,o.default)(B.default.headerNameWrapper,(t={},t[B.default.nameWithMobileIndicator]=l,t))},void 0,K("span",{className:(0,o.default)(B.default.headerName,(r={},r[B.default.headerNameWithMobileIndicator]=l,r))},void 0,i),l?K(E.default,{className:(0,o.default)(B.default.mobileIndicator,(n={},n[B.default.mobileIndicatorPrimary]="Normal"===e,n[B.default.mobileIndicatorWhite]="Normal"!==e,n))}):null)},r.renderHeader=function(){var e,t,r=this.props,n=r.user,a=r.nickname,i=r.status,l=r.theme,u=r.disableUserProfileLink,s=r.isGuest,d=r.showMobileIndicator,c=P.hasAnimatedAvatar(n)?n.getAvatarURL("gif"):n.getAvatarURL(),f=n.isNonUserBot(),p=this.getMode(),y=this.getNonUserBotMode(),h=K(O.default,{src:c,size:O.default.Sizes.POPOUT,status:i,statusClassName:B.default.avatarStatus});return K("div",{className:(0,R.getClass)(B.default,"header",p)},void 0,K(I.default,{align:I.default.Align.CENTER,justify:I.default.Justify.CENTER,direction:I.default.Direction.VERTICAL,className:B.default.headerTop},void 0,s?h:K(A.default,{className:(0,R.getClass)(B.default,"avatarWrapper",y),onClick:f||u?null:this.handleOpenProfile},void 0,h,K(I.default,{align:I.default.Align.CENTER,justify:I.default.Justify.CENTER,className:B.default.avatarHint},void 0,K("div",{className:B.default.avatarHintInner},void 0,x.default.Messages.VIEW_PROFILE))),K("div",{className:B.default.headerText},void 0,this.renderHeaderName(p),K(w.default,{user:n,invertBotTagColor:l!==k.ThemeTypes.LIGHT||"Normal"!==p,hideDiscriminator:f,className:(0,o.default)((e={},e[B.default.headerTagNoNickname]=null==a,e[B.default.headerTagWithNickname]=null!=a,e[B.default.nameWithMobileIndicator]=null==a&&d,e)),usernameClass:null==a?B.default.headerTagUsernameNoNickname:null,botClass:null==a?B.default.headerBotTag:B.default.headerBotTagWithNickname,showMobileIndicator:d&&null==a,mobileIndicatorClassName:(0,o.default)(B.default.mobileIndicator,(t={},t[B.default.mobileIndicatorPrimary]="Normal"===p,t[B.default.mobileIndicatorWhite]="Normal"!==p,t))}))),this.renderActivity())},r.renderActivity=function(){var e=this.props,t=e.activity,r=e.user,n=e.guildId,a=e.channelId;return null==t?null:K(G.default,{type:G.default.Types.USER_POPOUT,activity:t,className:B.default.activity,user:r,guildId:n,channelId:a,source:k.AnalyticsLocations.PROFILE_POPOUT,onOpenGameProfile:this.close,onOpenConnections:this.close},"activity")},r.renderRoles=function(){var e=this.props,t=e.guild,r=e.user,n=e.guildMember,a=e.popoutKey;return null==t||null==n?null:[K("div",{className:B.default.bodyTitle},"title",x.default.Messages.ROLES_LIST.format({numRoles:n.roles.length})),K(L.default,{className:(0,o.default)(B.default.rolesList,B.default.endBodySection),guild:t,user:r,userRoles:n.roles,popoutKey:a},"roles")]},r.renderNote=function(){var e=this.props,t=e.user,r=e.setNote;return[K("div",{className:B.default.bodyTitle},"title",x.default.Messages.NOTE),K(U.default,{className:B.default.note,userId:t.id,autoFocus:r},"note")]},r.renderBody=function(){return this.props.user.isNonUserBot()?null:K("div",{className:B.default.body},void 0,this.renderRoles(),this.renderNote())},r.renderProtip=function(e){var t;return K(S.default,{type:S.default.Types.INLINE,className:(0,o.default)(B.default.protip,(t={},t[F.default.marginTop8]=e,t))},void 0,x.default.Messages.CONTEXT_MENU_HINT)},r.renderFooter=function(){var e=this.props,t=e.user,r=e.setNote,n=e.isMe,a=e.isLurking;if(t.isNonUserBot())return null;var o=!n&&!a&&(_.default.isFriend(t.id)||null!=y.default.memberOf(t.id).find(function(e){return!m.default.isGuildRestricted(e)})),i=o&&Date.now()-t.createdAt<6048e5;return __OVERLAY__&&!o?null:K("div",{className:B.default.footer},void 0,i?K($,{userId:t.id}):null,o?K(j.default,{className:B.default.quickMessage,user:t,autoFocus:!r,onClose:this.close}):null,i||__OVERLAY__?null:this.renderProtip(o))},r.render=function(){return K(D.default,{section:k.AnalyticsSections.PROFILE_POPOUT},void 0,K("div",{className:B.default.userPopout},void 0,this.renderHeader(),this.renderBody(),this.renderFooter()))},t}(a.PureComponent);X.displayName="UserPopout",X.defaultProps={disableUserProfileLink:__OVERLAY__,analyticsParams:{}};var J=i.default.connectStores([h.default,y.default,v.default,m.default,g.default,p.default,c.default,d.default],function(e){var t=e.user,r=e.guildId,n=e.channelId;return{user:t=g.default.getUser(t.id)||t,guild:null!=r?h.default.getGuild(r):null,nickname:N.default.getNickname(r,n,t),guildMember:null!=r?y.default.getMember(r,t.id):null,activity:v.default.getPrimaryActivity(t.id),status:t.isNonUserBot()?null:v.default.getStatus(t.id),isMe:g.default.getCurrentUser()===t,theme:m.default.theme,showMobileIndicator:v.default.isMobileOnline(t.id),isLurking:null!=r&&p.default.isLurking(r),isGuest:c.default.isGuest(),isApplicationStreaming:null!=d.default.getStreamForUser(t.id)}})((0,s.default)(function(e){var t,r=e.guildId,n=e.user;return(t={})[r]=[n.id],t})(X));t.default=J,e.exports=t.default},5360:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(3)),a=u(r(1)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(871)),i=u(r(842)),l=u(r(130));r(0);function u(e){return e&&e.__esModule?e:{default:e}}var s=null,d=!1,c={},f={};function p(e){c[e.ownerId]=e}function y(e){var t=e.streamKey,r=e.region,n=e.viewerIds,a=o.decodeStreamKey(t);d=!1,s=a,f[t]={streamKey:t,region:r,viewerIds:n}}function h(e){var t=e.streamKey,r=e.unavailable;d=r,delete f[t],d||(s=null)}var v=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.syncWith([i.default],function(){return!0})},a.getActiveStream=function(){return s},a.getIsReconnecting=function(){return d},a.getStreamForUser=function(e){return c[e]},a.getStreamsForChannel=function(e){return l.default.getVoiceStatesForChannel(e.guild_id,e.id).map(function(e){return c[e.userId]}).filter(function(e){return null!=e})},a.getRTCStream=function(e){return f[e]},a.getAllApplicationStreams=function(){return Object.keys(c).map(function(e){return c[e]})},a.getViewerIds=function(e){var t=f[e];return null!=t?t.viewerIds:[]},a.getState=function(){return{streamsByUser:c,rtcStreams:f}},n}(n.default.Store))(a.default,{OVERLAY_INITIALIZE:function(e){e.streams.forEach(p)},VOICE_STATE_UPDATE:function(e){var t=e.userId,r=e.guildId,n=e.channelId;e.selfStream&&null!=n&&null!=r?p({streamType:"guild",ownerId:t,guildId:r,channelId:n}):function(e){delete c[e]}(t)},STREAM_CREATE:y,STREAM_UPDATE:y,STREAM_DELETE:h,STREAM_STOP:h});t.default=v,e.exports=t.default},5368:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),a=r(78),o=l(r(1)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={},d={},c=12e4;function f(e,t,r){var n=r.applicationId,l=s[n]||{};if(l[t]=e,s[n]=l,!__OVERLAY__&&e===i.ActivityActionStates.FAILED){null!=d[n]&&d[n].stop();var u=new a.Timeout;u.start(c,function(){return o.default.dispatch({type:i.ActionTypes.ACTIVITY_LAUNCH_FAIL,applicationId:n,activityType:t})}),d[n]=u}}var p=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getState=function(e,t){var r=s[e];return r&&r[t]},a.getStates=function(){return s},n}(n.default.Store))(o.default,{OVERLAY_INITIALIZE:function(e){var t=e.activityLauncherStates;s=u({},t)},ACTIVITY_JOIN_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.JOIN,e)},ACTIVITY_JOIN:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.JOIN,e)},ACTIVITY_SPECTATE_LOADING:function(e){return f(i.ActivityActionStates.LOADING,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE_FAILED:function(e){return f(i.ActivityActionStates.FAILED,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_SPECTATE:function(e){return f(i.ActivityActionStates.COMPLETE,i.ActivityActionTypes.SPECTATE,e)},ACTIVITY_LAUNCH_FAIL:function(e){var t=e.applicationId,r=e.activityType,n=s[t];if(null==n||n[r]!==i.ActivityActionStates.FAILED)return!1;delete n[r]}});t.default=p,e.exports=t.default},5369:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(6)),a=d(r(3)),o=d(r(1)),i=d(r(12)),l=d(r(85)),u=d(r(319)),s=r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={},p={};function y(e,t){return(f[e]||{})[t]||null}function h(e,t){var r=y(e,t);if(null!=r){var n=f[e];delete n[t],0===Object.keys(n)&&delete f[e];var a=p[r];null!=a&&(a.delete(e),0===a.size&&delete p[r])}}function v(e,t,r,n){var a=r.find(function(e){return null!=e.party&&e.party.id}),o=null!=a&&null!=a.party?a.party.id:null,i=y(t,e);if(null==o||n===s.StatusTypes.OFFLINE)return null!=i&&void h(t,e);if(null!=i){if(i===o)return!1;h(t,e)}!function(e,t,r){var n=f[e];if(null==n&&(n=f[e]={}),n[t]=r,!l.default.isBlocked(e)){var a=p[r]||new Set;p[r]=a,a.add(e)}}(t,e,o)}function _(e){var t=e.guild,r=!1,n=t.presences,a=Array.isArray(n),o=0;for(n=a?n:n[Symbol.iterator]();;){var i;if(a){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var l=i,u=l.user,s=l.status,d=l.activities;!1!==v(t.id,u.id,d,s)&&(r=!0)}return r}function m(){var e=i.default.getId(),t=u.default.getActivities();return v(s.ME,e,t)}var g=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.syncWith([u.default],m),this.waitFor(u.default,l.default)},a.getParty=function(e){return null!=e&&null!=p[e]?p[e]:null},a.getUserParties=function(){return f},a.getParties=function(){return p},n}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){var t=e.presences,r=e.guilds,n=!1,a=t,o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var u=l,d=u.user,c=u.status,f=u.activities;null!=d&&!1!==v(s.ME,d.id,f,c)&&(n=!0)}var p=r,y=Array.isArray(p),h=0;for(p=y?p:p[Symbol.iterator]();;){var m;if(y){if(h>=p.length)break;m=p[h++]}else{if((h=p.next()).done)break;m=h.value}!1!==_({guild:m})&&(n=!0)}return n},OVERLAY_INITIALIZE:function(e){var t=e.parties,r=e.userParties;p={},f=c({},r),Object.keys(t).forEach(function(e){return p[e]=new Set(t[e])})},GUILD_CREATE:_,PRESENCES_REPLACE:function(e){var t=!1,r=e.presences,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o,l=i.user,u=i.activities;null!=l&&!1!==v(s.ME,l.id,u)&&(t=!0)}return t},PRESENCE_UPDATE:function(e){var t=e.guildId,r=e.user,n=e.status,a=e.activities;return v(t||s.ME,r.id,a,n)},RELATIONSHIP_ADD:function(e){var t=e.relationship;if(!l.default.isBlocked(t.id))return!1;var r=f[t.id];if(null==r)return!1;var a=n.default.values(r),o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var u;if(o){if(i>=a.length)break;u=a[i++]}else{if((i=a.next()).done)break;u=i.value}var s=p[u];null!=s&&s.delete(t.id)}},RELATIONSHIP_REMOVE:function(e){var t=e.relationship,r=f[t.id];if(null==r)return!1;var a=n.default.values(r),o=Array.isArray(a),i=0;for(a=o?a:a[Symbol.iterator]();;){var l;if(o){if(i>=a.length)break;l=a[i++]}else{if((i=a.next()).done)break;l=i.value}var u=p[l];null!=u&&u.add(t.id)}}});t.default=g,e.exports=t.default},5380:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=o(r(3)),a=o(r(1));r(0);function o(e){return e&&e.__esModule?e:{default:e}}var i={};function l(e){i=e.notes||{}}var u=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getNotes=function(){return i},a.getNote=function(e){return i[e]||""},n}(n.default.Store))(a.default,{CONNECTION_OPEN:l,OVERLAY_INITIALIZE:l,USER_NOTE_UPDATE:function(e){i[e.id]=e.note}});t.default=u,e.exports=t.default},5991:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=l(r(17)),o=l(r(219)),i=l(r(847));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t,r=e.styles,n=e.label,l=e.hint,s=e.action,d=e.danger,c=void 0!==d&&d,f=e.disabled,p=void 0!==f&&f,y=e.brand,h=void 0!==y&&y,v=e.children,_=void 0===v?null:v;return u(o.default,{className:(0,a.default)(i.default.item,(t={},t[i.default.danger]=c,t[i.default.disabled]=p,t[i.default.brand]=h,t)),style:r,onClick:p?null:s},void 0,u("span",{},void 0,n),u("div",{className:i.default.hint},void 0,l),_)};s.displayName="MenuItem";var d=s;t.default=d,e.exports=t.default},5993:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){function t(t,r){return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;t||0===i||(t={children:void 0});if(t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(o.AnalyticsContext.Consumer,{},void 0,function(n){return a.createElement(e,i({},t,{ref:r,analyticsContext:n}))})}var r=e.displayName||e.name||"";return t.displayName="withAnalyticsContext("+r+")",a.forwardRef(t)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(18);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}e.exports=t.default},5995:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=(n=r(847))&&n.__esModule?n:{default:n};var l=function(e){var t=e.children;return o.Children.toArray(t).length?function(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:i.default.itemGroup},void 0,t):null};l.displayName="MenuGroup";var u=l;t.default=u,e.exports=t.default},5996:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=(n=r(156))&&n.__esModule?n:{default:n},l=r(18),u=r(868),s=r(0);function d(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._loadId=t.props.root?i.default.v4():null,t._loadDate=t.props.root?Date.now():null,t.getLocation=(0,u.cachedFunction)(function(e,t,r,n){var a={};return null!=e&&(a.page=e),null!=t&&(a.section=t),null!=r&&(a.object=r),null!=n&&(a.objectType=n),a}),t.mergeLocation=(0,u.cachedFunction)(function(e,t){return c({},e,t)}),t.getContext=(0,u.cachedFunction)(function(e,t,r){return{location:e,loadDate:t,loadId:r}}),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderProvider=function(e){var t=this.props,r=t.section,n=t.page,a=t.object,o=t.objectType,i=t.children,u=this.mergeLocation(e.location,this.getLocation(n,r,a,o)),s=this.getContext(u,this._loadDate||e.loadDate,this._loadId||e.loadId);return d(l.AnalyticsContext.Provider,{value:s},void 0,i)},a.render=function(){var e=this,t=this.props.context;return null!=t?this.renderProvider(t):d(l.AnalyticsContext.Consumer,{},void 0,function(t){return e.renderProvider(t)})},n}(o.Component);t.default=f,f.displayName="AnalyticsContext",f.Pages=s.AnalyticsPages,f.Sections=s.AnalyticsSections,f.Objects=s.AnalyticsObjects,f.ObjectTypes=s.AnalyticsObjectTypes,f.defaultProps={root:!1},e.exports=t.default},5998:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=p(r(2)),o=f(r(17)),i=r(869),l=f(r(148)),u=f(r(6161)),s=f(r(832)),d=p(r(440)),c=f(r(5752));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t,r,n=this.props,a=n.value,f=n.onChange,p=n.disabled,h=n.fill,v=n.hideBorder,_=n.children,m=n.className,g=n.note,O=n.style,A=n.theme,I=n.size;return I===u.default.Sizes.MINI?(t=c.default.titleMini,r=c.default.dividerMini):(t=c.default.titleDefault,r=c.default.dividerDefault),y(l.default,{style:O,className:(0,o.default)(m,(e={},e[c.default.disabled]=p,e)),direction:l.default.Direction.VERTICAL},void 0,y(i.SmartUID,{},void 0,function(e){return y(l.default,{align:l.default.Align.START},void 0,y(l.default.Child,{wrap:!0},void 0,y("label",{htmlFor:e,className:t},void 0,_)),y(l.default.Child,{grow:0,shrink:0},void 0,y(u.default,{id:e,value:a,fill:h,onChange:f,disabled:p,theme:A,size:I})))}),g&&y(l.default.Child,{className:c.default.note},void 0,y(d.default,{disabled:p,type:d.Types.DESCRIPTION},void 0,g)),!v&&y(s.default,{className:r}))},n}(a.PureComponent);h.displayName="SwitchItem",h.Sizes=u.default.Sizes,h.Themes=u.default.Themes,h.defaultProps={disabled:!1,size:u.default.Sizes.DEFAULT,theme:u.default.Themes.DEFAULT,hideBorder:!1,className:c.default.switchItem};var v=h;t.default=v,e.exports=t.default},6000:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(8)),a=s(r(1)),o=s(r(493)),i=r(830),l=r(0),u=s(r(13));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c={init:function(e,t){void 0===t&&(t=null),a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_INIT,guildId:e,section:t})},open:function(e,t){(0,i.pushLayer)(l.Layers.GUILD_SETTINGS),c.init(e,t)},close:function(){a.default.wait(function(){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_CLOSE})})},setSection:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SECTION,section:e})},setSearchQuery:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_SEARCH_QUERY,searchQuery:e})},selectRole:function(e){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_ROLE_SELECT,roleId:e})},updateEmbed:function(e,t,r){n.default.patch({url:l.Endpoints.GUILD_EMBED(e),body:{enabled:t,channel_id:r}}).then(function(t){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_EMBED,guildId:e,enabled:t.body.enabled,channelId:t.body.channel_id})})},updateMFALevel:function(e){var t=e.guildId,r=e.level,i=e.isEnabled;(0,o.default)({title:u.default.Messages.GUILD_SECURITY_REQ_MFA_LABEL,actionText:i?u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_OFF:u.default.Messages.GUILD_SECURITY_REQ_MFA_TURN_ON},function(e){return n.default.post({url:l.Endpoints.GUILD_MFA(t),body:d({level:r},e)})}).then(function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SET_MFA_SUCCESS,level:e.body.level})})},updateIcon:function(e,t){n.default.patch({url:l.Endpoints.GUILD(e),body:{icon:t}}).then(function(){a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_UPDATE,icon:t})},function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},cancelChanges:function(e){a.default.dirtyDispatch({type:l.ActionTypes.GUILD_SETTINGS_CANCEL_CHANGES,guildId:e})},updateGuild:function(e){a.default.dispatch(d({type:l.ActionTypes.GUILD_SETTINGS_UPDATE},e))},saveGuild:function(e,t){var r=t.name,o=t.description,i=t.icon,u=t.splash,s=t.banner,d=t.region,c=t.afkChannelId,f=t.afkTimeout,p=t.systemChannelId,y=t.verificationLevel,h=t.defaultMessageNotifications,v=t.explicitContentFilter;return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT}),n.default.patch({url:l.Endpoints.GUILD(e),body:{name:r,description:o,icon:i,splash:u,banner:s,region:d,afk_channel_id:c,afk_timeout:f,system_channel_id:p,verification_level:y,default_message_notifications:h,explicit_content_filter:v}}).then(function(){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_SUCCESS})},function(e){return a.default.dispatch({type:l.ActionTypes.GUILD_SETTINGS_SUBMIT_FAILURE,errors:e.body})})},updateGuildModeration:function(e,t){return n.default.patch({url:l.Endpoints.GUILD(e),body:{verification_level:t.verificationLevel,explicit_content_filter:t.explicitContentFilter}})},transferOwnership:function(e,t){return(0,o.default)({title:u.default.Messages.TRANSFER_OWNERSHIP,actionText:u.default.Messages.TRANSFER_OWNERSHIP},function(r){return n.default.patch({url:l.Endpoints.GUILD(e),body:d({owner_id:t},r)})})},deleteGuild:function(e,t){(0,o.default)({title:u.default.Messages.DELETE_SERVER_TITLE.format({name:t}),actionText:u.default.Messages.DELETE_SERVER},function(t){return n.default.post({url:l.Endpoints.GUILD(e)+"/delete",body:t})}).then(function(){return c.close()})},leaveGuild:function(e){n.default.delete(""+l.Endpoints.GUILD_LEAVE(e)).then(function(){return c.close()})},updateMemberRoles:function(e,t,r){n.default.patch({url:l.Endpoints.GUILD_MEMBERS(e)+"/"+t,body:{roles:r}})},enableIntegration:function(e,t,r){n.default.post({url:l.Endpoints.GUILD_INTEGRATIONS(e),body:{type:t,id:r}})},disableIntegration:function(e,t){n.default.delete(l.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t)},updateIntegration:function(e,t,r,a,o){var i={expire_behavior:r,expire_grace_period:a,enable_emoticons:o};n.default.patch({url:l.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t,body:i})},enableCustomEmoji:function(e,t,r){n.default.patch({url:l.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t+"/custom_emoji",body:{enable:r}})},syncIntegration:function(e,t){n.default.post(l.Endpoints.GUILD_INTEGRATIONS(e)+"/"+t+"/sync")}},f=c;t.default=f,e.exports=t.default},6011:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r,n;function l(){for(var r,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(r=t.call.apply(t,[this].concat(o))||this).setRef=function(e){r._ref=e},r.triggerResize=function(){null!=r._ref&&r._ref.onResize()},r.renderComponent=function(t){var n=t.width,o=t.height,l=r.props,u=l.setRef,s=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(l,["setRef"]);return a.createElement(e,i({},s,{ref:u,width:n,height:o,triggerResize:r.triggerResize}))},r}n=t,(r=l).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var u=l.prototype;return u.render=function(){return a.createElement(o.default,{ref:this.setRef},this.renderComponent)},l}(a.Component)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=(n=r(7382))&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}e.exports=t.default},6012:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=s(r(17)),o=s(r(219)),i=s(r(438)),l=s(r(889)),u=s(r(847));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t,r,n=e.styles,s=e.label,c=e.action,f=e.active,p=void 0!==f&&f,y=e.disabled,h=void 0!==y&&y,v=e.danger,_=void 0!==v&&v,m=e.loading,g=void 0!==m&&m,O=e.className;return h||(r=function(e){return c(e,s,p)}),d(o.default,{className:(0,a.default)(u.default.item,u.default.itemToggle,O,(t={},t[u.default.danger]=_,t)),style:n,onClick:r},void 0,d("div",{className:u.default.label},void 0,g?d(i.default,{type:i.default.Type.PULSING_ELLIPSIS}):s),d(l.default,{checked:p,disabled:h,containerClassName:u.default.checkbox,onChange:function(){}}))};c.displayName="ToggleMenuItem";var f=c;t.default=f,e.exports=t.default},6021:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=y(r(17)),l=r(221),u=y(r(3)),s=r(7448),d=y(r(151)),c=r(5992),f=r(79),p=(r(0),y(r(5753)));function y(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _=Object.freeze(((n={})[c.AvatarSizes.XSMALL]=p.default.avatarXSmall,n[c.AvatarSizes.SMALL]=p.default.avatarSmall,n[c.AvatarSizes.LARGE]=p.default.avatarLarge,n[c.AvatarSizes.XLARGE]=p.default.avatarXLarge,n[c.AvatarSizes.XXLARGE]=p.default.avatarXXLarge,n[c.AvatarSizes.POPOUT]=p.default.avatarPopout,n[c.AvatarSizes.PROFILE]=p.default.avatarProfile,n[c.AvatarSizes.ACTIVITY_FEED_24]=p.default.avatarXSmall,n)),m=Object.freeze({xsmall:20,small:30,large:40,xlarge:60,xxlarge:100,popout:90,profile:128,activityFeed24:24}),g=(0,s.backgroundImagePreloader)(function(e){return o.createElement("div",e)}),O=(0,s.backgroundImagePreloader)(function(e){return o.createElement(l.Link,e)}),A=function(e){var t,r;function n(t){var r;r=e.call(this,t)||this;var n=t.user,a=!!n&&(0,f.hasAnimatedAvatar)(n);return r.state={animatedAvatar:a,animatedAvatarLoaded:!1},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getStyle=function(){var e,t=this.props,r=t.user,n=t.channel,a=t.size,o=t.animate,i=t.game,l=this.state.animatedAvatar;return null!=r?e=l&&o?r.getAvatarURL("gif"):r.avatarURL||r.getAvatarURL("jpg"):null!=i?e=i.getIconURL(m[a]):null!=n&&(e=n.getIconURL()),{backgroundImage:e?'url("'+e+'")':null}},a.renderStatus=function(){var e=this.props,t=e.status,r=e.size,n=e.streaming,a=e.typing,o=e.isFocused,l=e.statusClassName,u=e.hideTooltip;return null!=t||n?v(c.AvatarStatusIcon,{status:n?c.AvatarStatusIcon.Statuses.STREAMING:t,size:r,isTyping:a,className:(0,i.default)(p.default.status,l),hideTooltip:u,shouldAnimateTypingIndicator:o}):null},a.render=function(){var e,t=this.props,r=t.size,n=t.to,a=t.className,l=t.isFocused,u=(t.streaming,t.typing,t.animate,t.theme),s=(t.statusClassName,t.hideTooltip,t.outerClassName),d=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["size","to","className","isFocused","streaming","typing","animate","theme","statusClassName","hideTooltip","outerClassName"]),f=(0,i.default)(a,p.default.inner,((e={})[p.default.animate]=l,e["stop-animation"]=!l,e));return v(c.AvatarWrapper,{size:r,theme:u,className:(0,i.default)(s,_[r])},void 0,null!=n?o.createElement(O,h({},d,{to:n,className:f,style:this.getStyle()})):o.createElement(g,h({},d,{className:f,style:this.getStyle()})),this.renderStatus())},n}(o.PureComponent);A.displayName="Avatar",A.defaultProps={size:c.AvatarSizes.SMALL,typing:!1,streaming:!1,animate:!1};var I=u.default.connectStores([d.default],function(){return{isFocused:d.default.isFocused()}})(A);t.default=I,e.exports=t.default},6026:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=l(r(17)),o=l(r(5737)),i=l(r(5487));function l(e){return e&&e.__esModule?e:{default:e}}var u=Object.freeze({STANDARD:o.default.colorStandard,MUTED:o.default.colorMuted,NONE:null}),s=Object.freeze({SIZE_10:i.default.size10,SIZE_12:i.default.size12,SIZE_14:i.default.size14,SIZE_16:i.default.size16,SIZE_24:i.default.size24}),d=function(e){var t,r=e.className,i=e.color,l=void 0===i?u.STANDARD:i,d=e.size,c=void 0===d?s.SIZE_14:d,f=e.tag,p=void 0===f?"div":f,y=e.selectable,h=void 0!==y&&y,v=e.children,_=e.style;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(p,{className:(0,a.default)(l,c,r,(t={},t[o.default.selectable]=h,t)),style:_},void 0,v)};d.displayName="Text",d.Colors=u,d.Sizes=s;var c=d;t.default=c,e.exports=t.default},6033:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=l(r(17)),o=l(r(5736)),i=l(r(5487));function l(e){return e&&e.__esModule?e:{default:e}}var u=Object.freeze({SIZE_10:i.default.size10,SIZE_12:i.default.size12,SIZE_14:i.default.size14,SIZE_16:i.default.size16,SIZE_20:i.default.size20,SIZE_24:i.default.size24}),s=Object.freeze({H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6"}),d=function(e){var t,r=e.tag,i=void 0===r?s.H3:r,l=e.muted,d=void 0!==l&&l,c=e.className,f=void 0===c?o.default.wrapper:c,p=e.size,y=void 0===p?u.SIZE_14:p,h=e.selectable,v=void 0!==h&&h,_=e.children,m=e.color,g=e.onClick,O=e.onContextMenu;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(i,{role:null!=g?"button":null,onClick:g,onContextMenu:O,className:(0,a.default)(f,(t={},t[o.default.base]=!0,t[y]=!0,t[o.default.selectable]=v,t[o.default.muted]=d,t)),style:null!=m?{color:m}:null},void 0,_)};d.displayName="Header",d.Sizes=u,d.Tags=s;var c=d;t.default=c,e.exports=t.default},6046:function(e,t,r){"use strict";t.__esModule=!0,t.installApplication=I,t.updateApplication=E,t.repairApplication=function(e,t,r){var n=f.default.getGame(e);if(null==n)return;return o.repairApplication(n,t,r)},t.playApplication=S,t.getDefaultLibraryApplicationAction=b,t.performDefaultLibraryApplicationAction=function(e,t){var r=b(e,d.default,c.default),n=t.analyticsParams;switch(r){case _.LibraryApplicationActions.PLAY:return S(e.id,e,{analyticsParams:n});case _.LibraryApplicationActions.INSTALL:return I(e.id,e.branchId,n.source);case _.LibraryApplicationActions.UPDATE:return E(e.id,e.branchId)}};var n=g(r(2)),a=g(r(7135)),o=g(r(326)),i=m(r(179)),l=m(r(77)),u=m(r(7406)),s=r(186),d=m(r(154)),c=m(r(860)),f=m(r(41)),p=m(r(467)),y=m(r(18)),h=r(323),v=r(7407),_=r(0);function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function I(e,t,r){var n=f.default.getGame(e);if(null!=n){var a=p.default.getTargetBuildId(n.id,t),o=p.default.getTargetManifests(n.id,t);null!=a&&null!=o&&null!=v.installApplication&&(0,v.installApplication)(n,t,a,o,r)}}function E(e,t){var r=f.default.getGame(e);if(null!=r)return o.updateApplication(r,t,p.default.getTargetBuildId(r.id,t),p.default.getTargetManifests(r.id,t))}function S(e,t,r){return T.apply(this,arguments)}function T(){var e;return e=regeneratorRuntime.mark(function e(t,r,o){var d,c,p,h,v,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(d=f.default.getGame(t))){e.next=3;break}return e.abrupt("return");case 3:if(c=o.cloudSync,p=void 0===c||c,h=o.cloudSyncForceHash,v=void 0===h?null:h,m=o.analyticsParams,!(p&&null!=r&&r instanceof s.LibraryApplicationRecord)){e.next=15;break}return g=r.branchId,e.prev=6,e.next=9,a.sync(r.id,g,v);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),l.default.push(function(e){return n.createElement(u.default,e)},{libraryApplication:r,analyticsParams:m,branchId:g}),e.abrupt("return");case 15:return y.default.track(_.AnalyticEvents.APPLICATION_OPENED,O({application_id:d.id,application_name:d.name,type:_.AnalyticsGameOpenTypes.LAUNCH,distributor:null!=r?r.getDistributor():null},m)),e.abrupt("return",i.default.launch(d.id,r instanceof s.LibraryApplicationRecord?r.branchId:null));case 17:case"end":return e.stop()}},e,null,[[6,11]])}),(T=function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){A(o,n,a,i,l,"next",e)}function l(e){A(o,n,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}function b(e,t,r){if(e instanceof s.LocalApplicationRecord)return _.LibraryApplicationActions.PLAY;var n=t.getState(e.id,e.branchId),a=r.getQueuePosition(e.id,e.branchId),o=r.paused;if(null!=n){if(null==a||-1===a)switch(n.type){case _.LocalDispatchApplicationStates.INSTALLING:return _.LibraryApplicationActions.INSTALL;case _.LocalDispatchApplicationStates.UPDATING:case _.LocalDispatchApplicationStates.UPDATE_REQUIRED:return _.LibraryApplicationActions.UPDATE}switch(n.type){case _.LocalDispatchApplicationStates.INSTALLING:case _.LocalDispatchApplicationStates.UPDATING:case _.LocalDispatchApplicationStates.UPDATE_REQUIRED:case _.LocalDispatchApplicationStates.REPAIRING:return a>0?_.LibraryApplicationActions.MOVE_UP:o?_.LibraryApplicationActions.RESUME:_.LibraryApplicationActions.PAUSE;case _.LocalDispatchApplicationStates.UP_TO_DATE:return _.LibraryApplicationActions.PLAY;case _.LocalDispatchApplicationStates.UNINSTALLING:return null}}return null!=a&&a>0?_.LibraryApplicationActions.MOVE_UP:(0,h.isSupportedPlatform)()?_.LibraryApplicationActions.INSTALL:null}},6047:function(e,t,r){"use strict";t.__esModule=!0,t.getSKUIdFromURL=function(e){var t=(0,a.matchPath)(e,{path:l.Routes.APPLICATION_STORE_LISTING_SKU(":skuId",":slug")});return null!=t?t.params.skuId:null},t.getGenreURLSlugFromId=function(e){return c[e]},t.getGenreIdFromURLSlug=function(e){return d[e]},t.getGenreText=function(e){switch(e){case l.SKUGenres.ACTION:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION;case l.SKUGenres.ACTION_RPG:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_RPG;case l.SKUGenres.BRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_BRAWLER;case l.SKUGenres.HACK_AND_SLASH:return u.default.Messages.APPLICATION_STORE_GENRE_HACK_AND_SLASH;case l.SKUGenres.PLATFORMER:return u.default.Messages.APPLICATION_STORE_GENRE_PLATFORMER;case l.SKUGenres.STEALTH:return u.default.Messages.APPLICATION_STORE_GENRE_STEALTH;case l.SKUGenres.SURVIVAL:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL;case l.SKUGenres.ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ADVENTURE;case l.SKUGenres.ACTION_ADVENTURE:return u.default.Messages.APPLICATION_STORE_GENRE_ACTION_ADVENTURE;case l.SKUGenres.METROIDVANIA:return u.default.Messages.APPLICATION_STORE_GENRE_METROIDVANIA;case l.SKUGenres.OPEN_WORLD:return u.default.Messages.APPLICATION_STORE_GENRE_OPEN_WORLD;case l.SKUGenres.PSYCHOLOGICAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_PSYCHOLOGICAL_HORROR;case l.SKUGenres.SANDBOX:return u.default.Messages.APPLICATION_STORE_GENRE_SANDBOX;case l.SKUGenres.SURVIVAL_HORROR:return u.default.Messages.APPLICATION_STORE_GENRE_SURVIVAL_HORROR;case l.SKUGenres.VISUAL_NOVEL:return u.default.Messages.APPLICATION_STORE_GENRE_VISUAL_NOVEL;case l.SKUGenres.DRIVING_RACING:return u.default.Messages.APPLICATION_STORE_GENRE_DRIVING_RACING;case l.SKUGenres.VEHICULAR_COMBAT:return u.default.Messages.APPLICATION_STORE_GENRE_VEHICULAR_COMBAT;case l.SKUGenres.MASSIVELY_MULTIPLAYER:return u.default.Messages.APPLICATION_STORE_GENRE_MASSIVELY_MULTIPLAYER;case l.SKUGenres.MMORPG:return u.default.Messages.APPLICATION_STORE_GENRE_MMORPG;case l.SKUGenres.ROLE_PLAYING:return u.default.Messages.APPLICATION_STORE_GENRE_ROLE_PLAYING;case l.SKUGenres.DUNGEON_CRAWLER:return u.default.Messages.APPLICATION_STORE_GENRE_DUNGEON_CRAWLER;case l.SKUGenres.ROGUELIKE:return u.default.Messages.APPLICATION_STORE_GENRE_ROGUELIKE;case l.SKUGenres.SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOTER;case l.SKUGenres.LIGHT_GUN:return u.default.Messages.APPLICATION_STORE_GENRE_LIGHT_GUN;case l.SKUGenres.SHOOT_EM_UP:return u.default.Messages.APPLICATION_STORE_GENRE_SHOOT_EM_UP;case l.SKUGenres.FPS:return u.default.Messages.APPLICATION_STORE_GENRE_FPS;case l.SKUGenres.DUAL_JOYSTICK_SHOOTER:return u.default.Messages.APPLICATION_STORE_GENRE_DUAL_JOYSTICK_SHOOTER;case l.SKUGenres.SIMULATION:return u.default.Messages.APPLICATION_STORE_GENRE_SIMULATION;case l.SKUGenres.FLIGHT_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_FLIGHT_SIMULATOR;case l.SKUGenres.TRAIN_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_TRAIN_SIMULATOR;case l.SKUGenres.LIFE_SIMULATOR:return u.default.Messages.APPLICATION_STORE_GENRE_LIFE_SIMULATOR;case l.SKUGenres.FISHING:return u.default.Messages.APPLICATION_STORE_GENRE_FISHING;case l.SKUGenres.SPORTS:return u.default.Messages.APPLICATION_STORE_GENRE_SPORTS;case l.SKUGenres.BASEBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASEBALL;case l.SKUGenres.BASKETBALL:return u.default.Messages.APPLICATION_STORE_GENRE_BASKETBALL;case l.SKUGenres.BILLIARDS:return u.default.Messages.APPLICATION_STORE_GENRE_BILLIARDS;case l.SKUGenres.BOWLING:return u.default.Messages.APPLICATION_STORE_GENRE_BOWLING;case l.SKUGenres.BOXING:return u.default.Messages.APPLICATION_STORE_GENRE_BOXING;case l.SKUGenres.FOOTBALL:return u.default.Messages.APPLICATION_STORE_GENRE_FOOTBALL;case l.SKUGenres.GOLF:return u.default.Messages.APPLICATION_STORE_GENRE_GOLF;case l.SKUGenres.HOCKEY:return u.default.Messages.APPLICATION_STORE_GENRE_HOCKEY;case l.SKUGenres.SKATEBOARDING_SKATING:return u.default.Messages.APPLICATION_STORE_GENRE_SKATEBOARDING_SKATING;case l.SKUGenres.SNOWBOARDING_SKIING:return u.default.Messages.APPLICATION_STORE_GENRE_SNOWBOARDING_SKIING;case l.SKUGenres.SOCCER:return u.default.Messages.APPLICATION_STORE_GENRE_SOCCER;case l.SKUGenres.TRACK_FIELD:return u.default.Messages.APPLICATION_STORE_GENRE_TRACK_FIELD;case l.SKUGenres.SURFING_WAKEBOARDING:return u.default.Messages.APPLICATION_STORE_GENRE_SURFING_WAKEBOARDING;case l.SKUGenres.WRESTLING:return u.default.Messages.APPLICATION_STORE_GENRE_WRESTLING;case l.SKUGenres.STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_STRATEGY;case l.SKUGenres.FOUR_X:return u.default.Messages.APPLICATION_STORE_GENRE_FOUR_X;case l.SKUGenres.ARTILLERY:return u.default.Messages.APPLICATION_STORE_GENRE_ARTILLERY;case l.SKUGenres.RTS:return u.default.Messages.APPLICATION_STORE_GENRE_RTS;case l.SKUGenres.TOWER_DEFENSE:return u.default.Messages.APPLICATION_STORE_GENRE_TOWER_DEFENSE;case l.SKUGenres.TURN_BASED_STRATEGY:return u.default.Messages.APPLICATION_STORE_GENRE_TURN_BASED_STRATEGY;case l.SKUGenres.WARGAME:return u.default.Messages.APPLICATION_STORE_GENRE_WARGAME;case l.SKUGenres.MOBA:return u.default.Messages.APPLICATION_STORE_GENRE_MOBA;case l.SKUGenres.FIGHTING:return u.default.Messages.APPLICATION_STORE_GENRE_FIGHTING;case l.SKUGenres.PUZZLE:return u.default.Messages.APPLICATION_STORE_GENRE_PUZZLE;case l.SKUGenres.CARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_CARD_GAME;case l.SKUGenres.EDUCATION:return u.default.Messages.APPLICATION_STORE_GENRE_EDUCATION;case l.SKUGenres.FITNESS:return u.default.Messages.APPLICATION_STORE_GENRE_FITNESS;case l.SKUGenres.GAMBLING:return u.default.Messages.APPLICATION_STORE_GENRE_GAMBLING;case l.SKUGenres.MUSIC_RHYTHM:return u.default.Messages.APPLICATION_STORE_GENRE_MUSIC_RHYTHM;case l.SKUGenres.PARTY_MINI_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_PARTY_MINI_GAME;case l.SKUGenres.PINBALL:return u.default.Messages.APPLICATION_STORE_GENRE_PINBALL;case l.SKUGenres.TRIVIA_BOARD_GAME:return u.default.Messages.APPLICATION_STORE_GENRE_TRIVIA_BOARD_GAME;default:return u.default.Messages.APPLICATION_STORE_GENRE_MISCELLANEOUS}},t.canUserInstall=function(e){var t=(0,i.nativePlatformTypeToSKUOperatingSystem)(o.default.getPlatform());return e.type===l.SKUTypes.GAME&&null!=t&&e.supportedOperatingSystems.includes(t)},t.getReadablePreorderReleaseDate=function(e){var t=e.preorderReleaseAt,r=e.preorderApproximateReleaseDate;if(null!=t)return t.format("MMMM DD");if(null==r)return null;for(var a=0;a<f.length;a++){var o=f[a],i=o[0],l=o[1],u=(0,n.default)(r,i,!0);if(u.isValid())return u.format(l)}return r};var n=s(r(4)),a=r(147),o=s(r(9)),i=r(127),l=r(0),u=s(r(13));function s(e){return e&&e.__esModule?e:{default:e}}var d={},c={};Object.keys(l.StoreApplicationGenresFilter).forEach(function(e){var t=e.toLowerCase().replace(/_/g,"-"),r=l.StoreApplicationGenresFilter[e];d[t]=r,c[r]=t});var f=[["YYYY-MM-DD","MMMM DD, Y"],["YYYY-MM","MMMM Y"],["MM-DD","MMMM DD"],["MM","MMMM"],["YYYY","Y"]]},6062:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=p(r(304)),o=p(r(439)),i=p(r(3)),l=r(302),u=p(r(35)),s=r(6010),d=p(r(5995)),c=p(r(5991)),f=p(r(13));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var h=(0,a.default)({displayName:"DeveloperModeGroup",mixins:[i.default.StoreListenerMixin(u.default),o.default],getStateFromStores:function(){return{developerMode:u.default.developerMode}},render:function(){return!__OVERLAY__&&this.state.developerMode&&s.SUPPORTS_COPY?y(d.default,{},void 0,y(c.default,{label:f.default.Messages.COPY_ID,action:this.handleCopyID})):null},handleCopyID:function(e){(0,l.closeContextMenu)();var t=this.props,r=t.shiftId,n=t.id,a=r&&e.shiftKey?r:n;(0,s.copy)(a)}});t.default=h,e.exports=t.default},6063:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=j(r(2)),o=U(r(17)),i=r(447),l=U(r(3)),u=U(r(180)),s=r(919),d=j(r(315)),c=j(r(906)),f=r(841),p=U(r(824)),y=U(r(5993)),h=U(r(41)),v=U(r(35)),_=U(r(14)),m=U(r(151)),g=U(r(850)),O=U(r(6210)),A=U(r(176)),I=U(r(185)),E=U(r(124)),S=U(r(301)),T=U(r(6052)),b=U(r(437)),P=U(r(18)),N=r(159),M=U(r(222)),C=U(r(44)),R=r(6047),L=r(0),D=U(r(13)),w=U(r(5739));function U(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function x(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function F(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){x(o,n,a,i,l,"next",e)}function l(e){x(o,n,a,i,l,"throw",e)}i(void 0)})}}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleViewInStore=function(e){var r=t.props,n=r.sku,a=r.skuId,o=r.application,i=r.onClick;if(null==n)throw new Error("Unexpected missing sku");null!=i&&i(e),null!=a?(0,f.goToSKUStoreListing)(n.id,{analyticsSource:t.analyticsLocation,slug:n.slug}):null!=o&&(0,f.goToApplicationStoreListing)(o.id,{analyticsSource:t.analyticsLocation,slug:o.slug})},t.handleClick=function(){var e=F(regeneratorRuntime.mark(function e(r){var n,a,o,l,d,f,y,h,v,_,m,g,O,A,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,a=n.isAuthenticated,o=n.applicationId,l=n.sku,d=n.targetSkuId,f=n.entitlementBranchId,y=n.isUserPremium,h=n.onClick,v=n.isInTestMode,_=n.storeListingAnalyticsProperties,m=n.asGift,g=n.forceDistribution,null!=l){e.next=3;break}throw new Error("should not be able to buy without sku");case 3:if(null!=h&&null!=r&&h(r),null==l.externalPurchaseUrl){e.next=7;break}return window.open(l.externalPurchaseUrl),e.abrupt("return");case 7:if(a){e.next=11;break}return O={redirect_to:L.Routes.APPLICATION_STORE_LISTING_SKU(l.id,l.slug)},C.default.transitionTo(L.Routes.LOGIN,{search:(0,i.stringify)(O)}),e.abrupt("return");case 11:if(A=null!=f,!l.premium||g||y||v||A){e.next=17;break}E=t.analyticsLocation,P.default.track(L.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location:E}),p.default.open(L.UserSettingsSections.PREMIUM),e.next=37;break;case 17:if((l.requiresPayment||g)&&!A){e.next=29;break}return e.prev=18,e.next=21,t.purchaseOrGrantSKU(l);case 21:I=e.sent,(0,s.openPurchaseConfirmationModal)(l.applicationId,l.id,I,{analyticsSource:t.analyticsLocation}),e.next=27;break;case 25:e.prev=25,e.t0=e.catch(18);case 27:e.next=37;break;case 29:return e.prev=29,e.next=32,c.openSKUPaymentModal(o,d,t.analyticsLocation,{promotionId:null!=_?_.promotionId:null,isGift:m});case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(29),e.t1===L.PaymentModalPriceChangedError&&u.default.show({title:D.default.Messages.PAYMENT_PRICE_CHANGE_TITLE,body:D.default.Messages.PAYMENT_PRICE_CHANGE_BODY,confirmText:D.default.Messages.OKAY});case 37:case"end":return e.stop()}var E},e,null,[[18,25],[29,34]])}));return function(t){return e.apply(this,arguments)}}(),t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l,y,h,v=n.prototype;return v.componentDidMount=function(){var e=this.props,t=e.sku,r=e.applicationId,n=e.targetSkuId;null==t&&d.fetchSKU(r,n).catch(function(){})},v.componentDidUpdate=function(e){this.props.locale!==e.locale&&d.fetchSKU(this.props.applicationId,this.props.targetSkuId).catch(function(){})},v.purchaseOrGrantSKU=function(){var e=F(regeneratorRuntime.mark(function e(t){var r,n,a,o,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,n=r.channelId,a=r.entitlementBranchId,o=r.analyticsContext,null==n||null==a){e.next=6;break}return e.next=4,d.grantChannelBranchEntitlement(t.applicationId,n,t.id);case 4:return i=e.sent,e.abrupt("return",i);case 6:return e.next=8,d.purchaseSKU(t.applicationId,t.id,{analyticsLoadId:o.loadId});case 8:return l=e.sent,e.abrupt("return",l.entitlements);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v.wrapWithDisabledTooltip=function(e,t){var r=this.props,n=r.className,a=r.tooltipPosition;return k("div",{className:(0,o.default)(w.default.disabledButtonWrapper,n)},void 0,e,k(b.default,{text:t,position:a},void 0,k("div",{className:w.default.disabledButtonOverlay})))},v.renderButton=function(e,t){void 0===t&&(t=Object.freeze({}));var r,n=this.props,i=n.isPurchasing,l=n.wrapperClassName,u=n.className,s=n.fullWidth,d=n.size,c=n.isWindowFocused,f=n.color,p=n.customDisabledColor,y=n.pauseAnimation,h=n.isEntitled,v=n.asGift,_=n.sku,m=n.entitlementBranchId,g=n.isInTestMode,O=n.innerClassName,A=!0===h&&(null==_||_.type!==L.SKUTypes.CONSUMABLE),I=null!=m,S=!0===t.disabled||null!=_&&!_.available&&!I&&!g||A&&!v,b=t.disabledTooltipText,P={wrapperClassName:l,className:u,fullWidth:s,size:d,color:S&&null!=p?p:null!=f?f:E.default.Colors.GREEN,hover:this.hover,innerClassName:(0,o.default)(null!=O?O:null,w.default.applicationBuyButton),disabled:S,submitting:i||!0===t.submitting,onClick:null!=t.onClick?t.onClick:this.handleClick};return r=!0===t.useShinyButton?a.createElement(T.default,G({},P,{pauseAnimation:!c||y}),t.buttonIcon,e):a.createElement(E.default,P,t.buttonIcon,e),null!=b?this.wrapWithDisabledTooltip(r,b):r},v.renderFreeButton=function(e,t){var r=this.props,n=r.isEntitled,a=r.isUserPremium,o=r.isInTestMode,i=r.forceDistribution;if(null!=r.entitlementBranchId)return(0,R.canUserInstall)(e)&&!n?this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY);var l=e.getPrice();return e.premium&&!i&&(a||o)?(0,R.canUserInstall)(e)&&!n?this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_INSTALL,t):this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY,t):null==l||0!==l.amount||e.premium&&!(0,N.hasFlag)(e.flags,L.SKUFlags.PREMIUM_AND_DISTRIBUTION)?void 0:(0,R.canUserInstall)(e)&&!n?this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_INSTALL):this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY)},v.render=function(){var e=this.props,t=e.isAuthenticated,r=e.sku,n=e.onStoreListing,a=e.shouldRenderPrice,o=e.forceDistribution,i=e.asGift,l=e.isInTestMode,u={useShinyButton:!0,buttonIcon:k(S.default,{name:S.default.Names.NITRO_WHEEL,className:w.default.premiumIcon})};if(null==r)return this.renderButton(null,{submitting:!0});if(i)return r.isPreorder()?this.renderButton(D.default.Messages.APPLICATION_STORE_PREORDER_AS_GIFT):this.renderButton(D.default.Messages.APPLICATION_STORE_BUY_AS_GIFT);var s=this.renderFreeButton(r,u);if(null!=s)return s;if(!n)return this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE,{onClick:this.handleViewInStore});var d=r.getPrice();return!r.available&&!l||!r.premium&&null==d?this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE,{disabled:!0}):r.restricted?this.renderButton(D.default.Messages.APPLICATION_STORE_BUY,{disabledTooltipText:D.default.Messages.GAME_ACTION_BUTTON_RESTRICTED_IN_REGION}):r.premium&&!o?this.renderButton(D.default.Messages.APPLICATION_STORE_GET_PREMIUM,u):t||null!=r.externalPurchaseUrl?r.isPreorder()?this.renderButton(a?D.default.Messages.APPLICATION_STORE_PREORDER_FOR_PRICE.format({price:r.getDisplayPrice(!0,!0)}):D.default.Messages.APPLICATION_STORE_PREORDER):this.renderButton(a?D.default.Messages.APPLICATION_STORE_BUY_FOR_PRICE.format({price:r.getDisplayPrice(!0,!0)}):D.default.Messages.APPLICATION_STORE_BUY):this.renderButton(D.default.Messages.GAME_ACTION_BUTTON_LOGIN_TO_BUY)},l=n,(y=[{key:"analyticsLocation",get:function(){var e=this.props,t=e.storeListingAnalyticsProperties,r=e.asGift,n=null!=t?t.promotionId:null;return G({},this.props.analyticsContext.location,{object:L.AnalyticsObjects.BUTTON_CTA,objectType:r?L.AnalyticsObjectTypes.GIFT:L.AnalyticsObjectTypes.BUY,promotionId:n})}},{key:"hover",get:function(){var e=this.props,t=e.hover,r=e.color;return null!=t?t:null!=r?E.default.Hovers.GREEN:E.default.Hovers.DEFAULT}}])&&B(l.prototype,y),h&&B(l,h),n}(a.Component);Y.displayName="ApplicationBuyButton",Y.defaultProps={tooltipPosition:b.default.Positions.TOP,onStoreListing:!1,shouldRenderPrice:!1,pauseAnimation:!1,asGift:!1,forceDistribution:!1};var V=l.default.connectStores([g.default,A.default,O.default,_.default,v.default,m.default,I.default],function(e){var t=e.skuId,r=e.applicationId,n=e.entitlementBranchId,a=e.channelId,o=_.default.getNullableCurrentUser(),i=h.default.getGame(r),l=null!=n?n:r,u=t;if(null==u&&null!=i&&(u=i.destinationSkuId),null!=n&&null==a)throw new Error("Unexpected entitlementBranchId without a channelId");return{targetSkuId:u,sku:null!=u?A.default.get(u):null,application:i,isInTestMode:I.default.inTestModeForApplication(r),isEntitled:null!=u?g.default.isEntitledToSku(o,u,r,l):null,isUserPremium:M.default.canInstallPremiumApplications(o),isWindowFocused:m.default.isFocused(),isAuthenticated:null!=o,isPurchasing:O.default.isPurchasingSKU,locale:v.default.locale}})((0,y.default)(Y));t.default=V,e.exports=t.default},6070:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=u(r(17)),o=u(r(3)),i=u(r(307)),l=u(r(6465));function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var d=function(e){var t,r;function o(){return e.apply(this,arguments)||this}return r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,o.prototype.render=function(){var e=this.props,t=e.usernameClass,r=e.discriminatorClass,o=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["usernameClass","discriminatorClass"]);return n.createElement(l.default,s({},o,{usernameClass:(0,a.default)("username",t),discriminatorClass:(0,a.default)("discriminator",r)}))},o}(n.Component);d.displayName="DiscordTag",d.defaultProps={className:"discord-tag",invertBotTagColor:!1,hideDiscriminator:!1};var c=o.default.connectStores([i.default],function(e){return{hideDiscriminator:e.hideDiscriminator||i.default.hidePersonalInformation}})(d);t.default=c,e.exports=t.default},6071:function(e,t,r){"use strict";t.__esModule=!0,t.applyChatRestrictions=function(e,t,r,h,v){void 0===h&&(h=!0);void 0===v&&(v=!0);return new Promise(function(A){return function(e,t,r,h,v,A){if(0===t.length&&e.props.type!==p.TextareaTypes.FORM)return void A({valid:!1,failureReason:p.MessageRestrictionTypes.EMPTY_MESSAGE});if(t.length>p.MAX_MESSAGE_LENGTH)return a.default.push(function(e){return n.createElement(o.default,_({title:y.default.Messages.MESSAGE_TOO_LONG_HEADER,body:y.default.Messages.MESSAGE_TOO_LONG_BODY.format({maxLength:p.MAX_MESSAGE_LENGTH}),confirmText:y.default.Messages.OKAY},e))}),void A({valid:!1,failureReason:p.MessageRestrictionTypes.MESSAGE_TOO_LONG});var I=null!=r&&null!=r.getGuildId();if(v&&I){var E=s.default.getSlowmodeCooldownGuess(r.id)>0;if(E)return void A({valid:!1,failureReason:p.MessageRestrictionTypes.SLOWMODE_COOLDOWN})}if(I&&h&&t.match(g)){var S=0,T=t.match(g)[0],b=u.default.getProps(r.getGuildId(),r.id);if(b.groups.forEach(function(e){"@everyone"!==T&&e.id===p.StatusTypes.OFFLINE||(S+=e.count)}),S>O&&f.default.can(p.Permissions.MENTION_EVERYONE,d.default.getCurrentUser(),r))return e?void(0,c.openPopout)(e,{onClose:function(){return A({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},closeOnScroll:!1,backdrop:!0,shadow:!1,position:c.default.Positions.TOP_LEFT,animationType:c.default.Animations.NONE,zIndexBoost:e.props.type===p.TextareaTypes.FORM?1e3:0,render:function(e){return n.createElement(i.default,_({},e,{channel:r,onConfirm:function(){return A({valid:!0})},onCancel:function(){return A({valid:!1,failureReason:p.MessageRestrictionTypes.SHOUTING_CANCELLED})},numPeople:S,role:T}))}},m):void A({valid:!0})}if(l.default.isFull())return a.default.push(function(e){return n.createElement(o.default,_({title:y.default.Messages.MESSAGE_RATE_LIMITED_HEADER,body:y.default.Messages.MESSAGE_RATE_LIMITED_BODY,confirmText:y.default.Messages.MESSAGE_RATE_LIMITED_BUTTON},e))}),void A({valid:!1,failureReason:p.MessageRestrictionTypes.RATE_LIMITED});A({valid:!0})}(e,t,r,h,v,A)})};var n=v(r(2)),a=h(r(77)),o=h(r(454)),i=h(r(7399)),l=h(r(959)),u=h(r(6466)),s=h(r(6128)),d=h(r(14)),c=v(r(821)),f=h(r(87)),p=r(0),y=h(r(13));function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var m="popout-channel-text-area-shouting",g=new RegExp(/@(:?everyone|here)/,"i"),O=30},6072:function(e,t,r){"use strict";t.__esModule=!0,t.getTimeUnit=R,t.getTimeAndUnit=function(e,t){var r=null!=e?R(e,function(e){return t.includes(e)}):T.NONE,n=null!=r?P[r]:null;return{unit:r,time:null!=e&&null!=n?Math.floor(n(e)):null}},t.default=t.TimeUnitMax=t.TimeUnitConversion=t.TimeUnits=void 0;var n,a,o,i,l,u,s,d,c,f,p,y,h,v,_,m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),g=I(r(6)),O=r(78),A=I(r(13));function I(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=Object.freeze({ACTIVITY_FEED:"ACTIVITY_FEED",ACTIVITY_FEED_NEW:"ACTIVITY_FEED_NEW",USER_ACTIVITY:"USER_ACTIVITY",GAME_LIBRARY_TIME_PLAYED:"GAME_LIBRARY_TIME_PLAYED",GAME_LIBRARY_LAST_PLAYED:"GAME_LIBRARY_LAST_PLAYED"}),T=Object.freeze({NONE:"NONE",SECONDS:"SECONDS",MINUTES:"MINUTES",HOURS:"HOURS",DAYS:"DAYS",WEEKS:"WEEKS",MONTHS:"MONTHS",YEARS:"YEARS"});t.TimeUnits=T;var b=Object.freeze({START:"START",END:"END",TIME:"TIME"}),P=((n={})[T.NONE]=function(e){return 0},n[T.SECONDS]=function(e){return 60*e},n[T.MINUTES]=function(e){return e},n[T.HOURS]=function(e){return e/60},n[T.DAYS]=function(e){return e/60/24},n[T.WEEKS]=function(e){return e/60/24/7},n[T.MONTHS]=function(e){return e/60/24/31},n[T.YEARS]=function(e){return e/60/24/365},n);t.TimeUnitConversion=P;var N=[{unit:T.NONE,max:0},{unit:T.SECONDS,max:1},{unit:T.MINUTES,max:60},{unit:T.HOURS,max:1440},{unit:T.DAYS,max:44640},{unit:T.WEEKS,max:40320},{unit:T.MONTHS,max:525600},{unit:T.YEARS,max:1/0}];t.TimeUnitMax=N;var M=function(e){return function(t,r){return null==r?"":e.format(E({time:t},r))}},C=((v={})[S.ACTIVITY_FEED]=((i={})[b.START]=((a={})[T.SECONDS]=function(){return A.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},a[T.MINUTES]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYING_FOR_MINUTES.format({time:e})},a[T.HOURS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYING_FOR_HOURS.format({time:e})},a[T.DAYS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYING_FOR_DAYS.format({time:e})},a),i[b.END]=((o={})[T.SECONDS]=function(){return A.default.Messages.GAME_FEED_USER_PLAYING_JUST_ENDED},o[T.MINUTES]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},o[T.HOURS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},o[T.DAYS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},o[T.WEEKS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_WEEKS_AGO.format({time:e})},o[T.MONTHS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_MONTHS_AGO.format({time:e})},o[T.YEARS]=function(e){return A.default.Messages.GAME_FEED_USER_PLAYED_YEARS_AGO.format({time:e})},o),i),v[S.ACTIVITY_FEED_NEW]=((s={})[b.START]=((l={})[T.SECONDS]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_JUST_STARTED),l[T.MINUTES]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_MINUTES),l[T.HOURS]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_HOURS),l[T.DAYS]=M(A.default.Messages.ACTIVITY_FEED_USER_PLAYING_FOR_DAYS),l),s[b.END]=((u={})[T.SECONDS]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_SECONDS_AGO.format({time:e})},u[T.MINUTES]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_MINUTES_AGO.format({time:e})},u[T.HOURS]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_HOURS_AGO.format({time:e})},u[T.DAYS]=function(e){return A.default.Messages.ACTIVITY_FEED_USER_PLAYED_DAYS_AGO.format({time:e})},u),s),v[S.USER_ACTIVITY]=((c={})[b.START]=((d={})[T.SECONDS]=function(){return A.default.Messages.GAME_FEED_USER_PLAYING_JUST_STARTED},d[T.MINUTES]=function(e){return A.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_MINUTES.format({time:e})},d[T.HOURS]=function(e){return A.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_HOURS.format({time:e})},d[T.DAYS]=function(e){return A.default.Messages.USER_ACTIVITY_USER_PLAYING_FOR_DAYS.format({time:e})},d),c),v[S.GAME_LIBRARY_TIME_PLAYED]=((p={})[b.TIME]=((f={})[T.NONE]=function(){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_NONE},f[T.SECONDS]=function(e){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_SECONDS.format({time:e})},f[T.MINUTES]=function(e){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_MINUTES.format({time:e})},f[T.HOURS]=function(e){return A.default.Messages.GAME_LIBRARY_TIME_PLAYED_HOURS.format({time:e})},f),p),v[S.GAME_LIBRARY_LAST_PLAYED]=((h={})[b.END]=((y={})[T.NONE]=function(){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_NONE},y[T.SECONDS]=function(){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_JUST_NOW},y[T.MINUTES]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_MINUTES.format({time:e})},y[T.HOURS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_HOURS.format({time:e})},y[T.DAYS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_DAYS.format({time:e})},y[T.WEEKS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_WEEKS.format({time:e})},y[T.MONTHS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_MONTHS.format({time:e})},y[T.YEARS]=function(e){return A.default.Messages.GAME_LIBRARY_LAST_PLAYED_YEARS.format({time:e})},y),h),v);function R(e,t){var r=N.findIndex(function(t){var r=t.max;return t.unit===T.NONE&&e===r||e<r}),n=g.default.findLast(N,function(e){var r=e.unit;return t(r)},r);if(null!=n)return n.unit;var a=N.find(function(e){var r=e.unit;return t(r)});return a?a.unit:null}var L=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).timer=new O.Interval,t.state={time:t.getDiff()},t.update=function(){t.setState({time:t.getDiff()})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){this.timer.start(1e4,this.update)},a.componentDidUpdate=function(e){var t=this.props,r=t.start,n=t.end,a=t.time;e.start===r&&e.end===n&&e.time===a||this.update()},a.componentWillUnmount=function(){this.timer.stop()},a.getDiff=function(){var e=this.props,t=e.start,r=e.end,n=e.time;if(null!=n)return n/1e3/60;var a=Date.now(),o=0;return null!=t?o=a-t:null!=r&&(o=a-r),Math.abs(o)/1e3/60},a.getTimeUnit=function(e,t,r){var n=R(e,function(e){return function(e,t,r){var n=C[r];if(null!=n){var a=n[t];if(null!=a)return null!=a[e]}return!1}(e,r,t)});if(null==n)throw new Error("Could not get the time unit in PlayTime with time: "+e+" in location: "+t);return n},a.getType=function(){var e=this.props,t=e.start,r=e.end,n=e.time;return null!=t?b.START:null!=r?b.END:null!=n?b.TIME:null},a.transformTime=function(e,t){return P[e](t)},a.render=function(){var e=this.props,t=e.location,r=e.className,n=e.messageProps,a=this.state.time,o=this.getType();if(null==o)return null;var i=this.getTimeUnit(a,t,o),l=C[t][o];return null==l?null:function(e,t,r,n){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var i in a)void 0===t[i]&&(t[i]=a[i]);else t||(t=a||{});if(1===o)t.children=n;else if(o>1){for(var l=new Array(o),u=0;u<o;u++)l[u]=arguments[u+3];t.children=l}return{$$typeof:_,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("span",{className:r},void 0,(0,l[i])(Math.floor(this.transformTime(i,a)),n))},n}(m.PureComponent);L.displayName="PlayTime",L.Locations=S,L.Types=b;var D=L;t.default=D},6087:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(17)),i=h(r(304)),l=(h(r(306)),h(r(96))),u=r(962),s=h(r(3)),d=h(r(35)),c=h(r(219)),f=h(r(308)),p=r(0),y=h(r(847));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var _=(0,i.default)({displayName:"SubMenuItem",getInitialState:function(){return{open:!1,position:{top:0,left:0}}},uiMenuNode:null,_timer:void 0,componentDidMount:function(){this.uiMenuNode=l.default.findDOMNode(this)},componentWillUnmount:function(){clearTimeout(this._timer)},render:function(){var e,t=this.props,r=t.label,n=t.render,i=t.disabled,l=t.action,s=t.invertChildY,d=this.props.theme,h="function"==typeof n?n():n.filter(function(e){return e}),_=(0,u.isFragment)(h)?h.props.children.length:h.length;if(0===_)return null;var m,g=_<=9,O=s?30*(Math.min(_,9)-1):0,A={className:(0,o.default)(y.default.contextMenu,"theme-"+d),style:{top:this.state.position.top-O,left:this.state.position.left},onClick:function(e){e.stopPropagation()}};if(this.state.open)if(g)m=a.createElement("div",A,h);else{var I=d===p.ThemeTypes.LIGHT?"#ffffff":"#282b30";m=a.createElement("div",A,v(f.default,{theme:f.default.Themes.GHOST_HAIRLINE,backgroundColor:I,className:y.default.scroller},void 0,h))}return v(c.default,{className:(0,o.default)(y.default.item,y.default.itemSubMenu,(e={},e[y.default.itemSubMenuHasScroller]=g,e)),onClick:i?function(){}:l,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,r,m)},handleMouseEnter:function(){if(clearTimeout(this._timer),this.uiMenuNode&&!this.props.disabled){var e=this.uiMenuNode.getBoundingClientRect(),t=e.top,r=e.left;this.setState({open:!0,position:{top:t-2,left:r}})}},handleMouseLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.setState({open:!1})},100)}}),m=s.default.connectStores([d.default],function(){return{theme:d.default.theme}})(_);t.default=m,e.exports=t.default},6088:function(e,t,r){"use strict";t.__esModule=!0,t.acceptPurchaseTerms=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_ACCEPT_STORE_TERMS})},t.acceptEULA=function(e){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_ACCEPT_EULA,eulaId:e})},t.muteStoreDirectory=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_MUTE})},t.unmuteStoreDirectory=function(){a.default.dispatch({type:o.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMUTE})};var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(0)},6089:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=s(r(17)),o=s(r(219)),i=s(r(301)),l=r(872),u=s(r(5730));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t=e.onPlay,r=e.externalURL,n=e.className,s=e.linkComponent,c=e.inactive,f=e.playText,p=s||"a",y=null!=f;return d(l.MessagesInteractionContext.Consumer,{},void 0,function(e){var l,s;return d("div",{className:(0,a.default)(n,u.default.wrapper,(l={},l[u.default.disableInteractions]=e.disableInteractions,l[u.default.wrapperHasPlayText]=y,l))},void 0,c&&null==t?d("div",{className:u.default.iconWrapper},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay})):null,null!=t?d(o.default,{onClick:t,className:(0,a.default)(u.default.iconWrapperActive,(s={},s[u.default.iconWrapperHasPlayText]=y,s))},void 0,d(i.default,{name:i.default.Names.PLAY,className:u.default.iconPlay}),y?d("span",{className:u.default.text},void 0,f):null):null,y||null==r||null==p?null:d(p,{href:r,target:"_blank",rel:"noreferrer noopener",className:u.default.iconWrapperActive},void 0,d(i.default,{name:i.default.Names.OPEN_EXTERNAL,className:null!=t?u.default.iconExternalMargins:u.default.iconExternal})))})};c.displayName="VideoPlayPill";var f=c;t.default=f,e.exports=t.default},6107:function(e,t,r){"use strict";t.__esModule=!0,t.trackGameNewsChanged=function(e,t,r,n){return o.default.track(i.AnalyticEvents.GAME_NEWS_CHANGED,{location:e,load_id:null!=n?n.loadId:void 0,game_id:null!=t?t.id:null,game_name:null!=t?t.name:null,af_news:!0,change_count:r})},t.trackGameNewsOpened=function(e,t,r,n,a){var u={location:e,news_url:t.url,news_index:r,news_id:t.id},s=null!=a?{load_id:a.loadId,card_index:a.index,card_type:a.type}:{},d=null!=n?{game_id:n.id,game_name:n.name,af_news:!0}:{af_news:!0};return o.default.track(i.AnalyticEvents.GAME_NEWS_OPENED,l({},u,s,d))},t.trackUserMessaged=function(e,t,r,n,u){var s={game_name:null!=r?r.name:null,game_id:null!=r?r.id:null},d=null!=n?{af_voice_chat:n.voiceChannels.length>0,af_people_count:n.partiedMembers.length,af_recently_played:!1,af_rich_presence:n.currentActivities.some(function(e){var t=e.activity;return(0,a.hasRichActivity)(t)}),game_platform:n.currentActivities.length>0?(0,a.getGamePlatform)(n.currentActivities[0].activity):null}:{af_recently_played:!0},c={load_id:u.loadId,card_index:u.index,card_type:u.type},f={channel_id:t,recipient_id:e.id};return o.default.track(i.AnalyticEvents.ACTIVITY_FEED_DM_VISITED,l({},s,d,c,f))},t.trackGamePopoutOpened=function(e,t,r){return o.default.track(i.AnalyticEvents.OPEN_POPOUT,{type:i.AnalyticsLocations.GAME_POPOUT,source:t,location:r,game_id:e.id,game_name:e.name,sku_id:e.primarySkuId,application_id:e.id})},t.trackGameModalOpened=function(e,t,r){return o.default.track(i.AnalyticEvents.OPEN_MODAL,{type:i.AnalyticsLocations.GAME_MODAL,source:t,location:r,game_id:e.id,game_name:e.name,sku_id:e.primarySkuId})};var n,a=r(223),o=(n=r(18))&&n.__esModule?n:{default:n},i=r(0);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6108:function(e,t,r){"use strict";t.__esModule=!0,t.isRealGameId=function(e){return"string"==typeof e&&e!==f.SPOTIFY_APPLICATION_ID&&!e.startsWith(y.XBOX_APPLICATION_ID_PREFIX)&&!e.startsWith(p.TWITCH_APPLICATION_ID_PREFIX)},t.default=void 0;var n=B(r(6)),a=B(r(156)),o=B(r(3)),i=B(r(1)),l=B(r(873)),u=B(r(179)),s=r(911),d=B(r(7403)),c=F(r(6467)),f=(B(r(110)),r(862)),p=F(r(6760)),y=F(r(6761)),h=r(223),v=B(r(20)),_=B(r(458)),m=B(r(481)),g=B(r(852)),O=B(r(5369)),A=B(r(41)),I=B(r(28)),E=B(r(6290)),S=B(r(129)),T=B(r(6129)),b=B(r(85)),P=B(r(64)),N=B(r(7404)),M=B(r(455)),C=B(r(14)),R=B(r(7405)),L=B(r(130)),D=B(r(881)),w=B(r(941)),U=B(r(7134)),j=B(r(6130)),G=B(r(325)),k=B(r(6766)),x=r(0);function F(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function B(e){return e&&e.__esModule?e:{default:e}}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var H,K="party-",W="channel-",z="user-",$=6e5,X=216e5,J=7,q=3,Z=4,Q=30,ee=!1,te=!1,re=[],ne=[],ae=[],oe=[],ie=[],le={},ue={},se=new Set,de=new Set,ce=null,fe=!1,pe=!1,ye=null,he=new Set,ve=[],_e=[],me=[],ge=[];function Oe(e){var t;null==le[e]&&(le=V({},le,((t={})[e]=new y.default({name:e}),t)));return le[e]}function Ae(e){var t;null==ue[e]&&(ue=V({},ue,((t={})[e]=new p.default({url:e}),t)));return ue[e]}function Ie(e){de.has(e)||se.add(e)}function Ee(e){if((0,h.isListeningOnSpotify)(e))return f.SpotifyApplication;var t=null!=e.application_id?A.default.getGame(e.application_id):null;return null!=t?t:(0,h.isOnXbox)(e)?Oe(e.name):(0,h.isStreaming)(e)&&null!=e.url?Ae(e.url):(null!=e.application_id&&Ie(e.application_id),t)}function Se(e){return b.default.isFriend(e.id)}function Te(){var e=Date.now();null!=ye&&e-ye<X||(l.default.getActivities(),ye=e)}function be(){te&&M.default.isAutosubscribedGamesFetched&&(ne=we(),ae=ne.map(function(e){var t=e.news,r=e.applicationId;return{news:t,application:A.default.getGame(r)}}),ze())}function Pe(){ze()}function Ne(e,t){var r,a=e.map(function(e){return e.id}),o=e.filter(function(e){return M.default.isOnFeed(e.id)}),i=!1,l=[],u=new Set,s=!1,d=function(){if(h){if(_>=c.length)return"break";m=c[_++]}else{if((_=c.next()).done)return"break";m=_.value}var t=m,r=E.default.getUserGame(t.id),a=null!=r?r.gameId:null;if(null==a)return"continue";s=a===f.SPOTIFY_APPLICATION_ID;var o=function(e){var t=A.default.getGame(e);return null!=t?t:e===f.SPOTIFY_APPLICATION_ID?f.SpotifyApplication:e.startsWith(y.XBOX_APPLICATION_ID_PREFIX)?Oe(e.slice(y.XBOX_APPLICATION_ID_PREFIX.length)):e.startsWith(p.TWITCH_APPLICATION_ID_PREFIX)?Ae(e.slice(p.TWITCH_APPLICATION_ID_PREFIX.length)):(Ie(e),null)}(a);if(null==r||null==o||u.has(o.id))return"continue";var d=S.default.getPrimaryActivity(t.id),v=null!=d?Ee(d):null;null!=v&&v.id===o.id||(d=null);var g=[];if(null!=d&&null!=d.party&&null!=d.party.id){var I=O.default.getParty(d.party.id)||[];g=Array.from(I).reduce(function(e,t){var r=C.default.getUser(t);return null!=r&&e.push(r),e},[])}else g=e.filter(function(e){var t=S.default.getPrimaryActivity(e.id),r=null!=t?Ee(t):null;return null!=r&&r.id===o.id});if(s&&g.length<2)return"continue";(g=n.default.orderBy(g,[Se],["desc"])).length!==e.length&&(i=!0),u.add(o.id),l.push({game:o,activity:d,activityUser:t,startedPlayingTime:r.startedPlaying,playingMembers:g})};var c=e,h=Array.isArray(c),_=0;e:for(c=h?c:c[Symbol.iterator]();;){var m;switch(d()){case"break":break e;case"continue":continue}}var g,T,b=1===o.length,P=[],N=new Set,D=new Set,w=e,U=Array.isArray(w),j=0;for(w=U?w:w[Symbol.iterator]();;){var G;if(U){if(j>=w.length)break;G=w[j++]}else{if((j=w.next()).done)break;G=j.value}var k=G,x=R.default.getChannel(k.id).channelId,F=v.default.getChannel(x),B=null!=F?F.getGuildId():null,Y=I.default.getGuild(B);if(D.has(B)&&N.has(x)||null==F||null==Y)null==F&&(r=null,b=!0);else{var V=(0,n.default)(L.default.getVoiceStatesForChannel(B,x)).map(function(e){var t=e.userId;return C.default.getUser(t)}).filter(function(e){return null!=e}).orderBy([Se],["desc"]).value();V.filter(function(e){return!a.includes(e.id)}).forEach(function(t){return e.push(t)}),b?D.has(B)||(r=null):(r=Y,b=!0),D.add(B),N.add(x),P.push({channel:F,guild:Y,members:V})}}return{id:t,voiceChannels:P,isSpotifyActivity:s,priorityMembers:o.map(function(e){return{user:e,status:S.default.getStatus(e.id)}}),partiedMembers:e,showPlayingMembers:i,guildContext:r,currentActivities:(g=l,T=function(e){return e.startedPlayingTime},(0,n.default)(g).orderBy([T,function(e){return e.game.name}],["desc","asc"])).value()}}function Me(){var e=new Set,t=U.default.getExperimentDescriptor(),r=M.default.gameIDsToShow,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o;e.add(i)}return 0!==e.size||null!=t&&t.bucket!==x.ExperimentBuckets.CONTROL||N.default.trendingApplications.map(function(t){var r=t.game_id;return e.add(r)}),e}function Ce(){var e=Me();i.default.wait(function(){return u.default.getGameNews(Array.from(e))}),fe=!0}function Re(){M.default.isAutosubscribedGamesFetched||c.fetchSettings({includeAutosubscribedGames:!0})}function Le(){var e=D.default.getGuilds();if(null==e)return!1;(e=e.filter(function(e){return!he.has(e)})).length>0&&(he.clear(),(0,s.fetchGuildDiscoveryMetadata)(e),e.forEach(function(e){return he.add(e)}))}var De=function(e){return null!=e&&null!=e.title&&null!=e.url&&(null==e.type||e.type===x.EmbedTypes.VIDEO||e.type===x.EmbedTypes.ARTICLE||e.type===x.EmbedTypes.RICH||e.type===x.EmbedTypes.APPLICATION_NEWS||e.type===x.EmbedTypes.LINK)};function we(){var e=new Set,t=[],r=function(r,n){e.add(r.url),t.push({news:r,applicationId:n})},a=function(){if(i){if(l>=o.length)return"break";u=o[l++]}else{if((l=o.next()).done)return"break";u=l.value}var e=u,t=g.default.getRecentByGameId(e).filter(De);w.default.inExperiment?t.forEach(function(t){return r(t,e)}):t.length>0&&r(t[0],e)},o=Me(),i=Array.isArray(o),l=0;for(o=i?o:o[Symbol.iterator]();;){var u;if("break"===a())break}return(0,n.default)(t).orderBy(function(e){var t=e.news;return new Date(t.timestamp||new Date).getTime()},["desc"]).value().slice(0,Q)}function Ue(){return ee&&_.default.isConnected()}function je(){if(!Ue())return!1;se.clear();var e,t,r,a,o=Array.from(M.default.feedUserIDs).reduce(function(e,t){var r=C.default.getUser(t);return null==r||r.bot||e.push(r),e},[]),l=(e=o,void 0===t&&(t=!1),(0,n.default)(e).groupBy(function(e){if(t)return z+"-"+e.id;var r=R.default.getChannel(e.id).channelId,n=S.default.getPrimaryActivity(e.id);return null!=r?W+"-"+r:null!=n&&null!=n.party&&null!=n.party.id?K+"-"+n.party.id:z+"-"+e.id})),s=(r=l,(0,n.default)(r).mapValues(Ne)),c=s.values().orderBy([function(e){return e.currentActivities.length>0},function(e){return e.partiedMembers.length>1},function(e){return e.priorityMembers.map(function(e){return e.user.username.toLowerCase()}).join(" ")}],["desc","desc","asc"]).value();re=function(e){return e.filter(function(e){return e.isSpotifyActivity?e.partiedMembers.length>1:e.priorityMembers.length>1||e.currentActivities.length>0})}(c),oe=function(e){var t=n.default.groupBy(e,function(e){var t=e.id,r=e.priorityMembers,n=e.voiceChannels,a=e.currentActivities;if(r.length>1||n.length>0)return"party-"+t;var o=a[0],i=o.game,l=o.activity;return null!=l&&(0,h.hasRichActivity)(l)?"party-"+t:"game-"+i.id});return Object.keys(t).map(function(e){var r=t[e];return 1===r.length?{type:x.ActivityCardTypes.USER,party:r[0]}:{type:x.ActivityCardTypes.GAME,game:r[0].currentActivities[0].game,parties:r}})}(re),a=[],oe.forEach(function(e){e.type===x.ActivityCardTypes.GAME?e.parties.forEach(function(e){a.push({type:x.ActivityCardTypes.USER,party:e})}):a.push(e)}),ie=a,te&&M.default.isAutosubscribedGamesFetched&&(ne=we(),ae=ne.map(function(e){var t=e.news,r=e.applicationId;return{news:t,application:A.default.getGame(r)}})),!N.default.loaded&&N.default.shouldFetch()&&i.default.wait(function(){return d.default.fetchTrendingApplications()}),Ce(),function(){if(!pe&&te&&fe&&!(se.size>0)){var e=Me(),t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}var a=n;if(!g.default.isFetched(a))return}pe=!0}}(),ze(),function(){if(se.size>0){var e=Array.from(se);u.default.fetchApplications(e),e.forEach(function(e){return de.add(e)}),se.clear()}}()}var Ge=n.default.throttle(function(){je(),$e.emitChange()},500,{leading:!1}),ke=n.default.throttle(function(){je(),$e.emitChange()},500,{leading:!1});var xe=n.default.throttle(function(){je(),$e.emitChange()},500,{leading:!1});function Fe(e){return{type:x.FeedCardTypes.NEWS,key:e.news.game_id+"-"+(e.news.url||"no-url"),data:e}}function Be(){return{type:x.FeedCardTypes.SIDE_BAR,key:"side-bar"}}function Ye(e){for(var t,r=[],n=0;n<e;n++)r.push((t=n.toString(),{type:x.FeedCardTypes.PLACEHOLDER,key:t}));return r}function Ve(){return{type:x.FeedCardTypes.NO_NEWS,key:"no-news"}}function He(){return{type:x.FeedCardTypes.GDPR,key:"opt-in"}}function Ke(){return{type:x.FeedCardTypes.GDPR_SIDE_BAR,key:"gdpr-side-bar"}}function We(){return{type:x.FeedCardTypes.NO_GAMES,key:"no-games"}}function ze(){var e,t=k.default.promotions,r=M.default.gameIDsToShow.size,n=t.length>0?(e=t[0],{type:x.FeedCardTypes.PROMOTION,key:e.id,data:e}):null,a=m.default.hasConsented(x.Consents.PERSONALIZATION),o=M.default.hasDismissedPersonalizationNotice,i=M.default.hasDismissedNoGamesNotice,l=ne.map(Fe);a?0!==r&&0!==ne.length||i?0===ne.length&&null==n?(ve=[Ve()],_e=[Ve()]):(ve=l.slice(),_e=l.slice(),n&&(ve.splice(1,0,n),_e.splice(0,0,n))):(_e=[We()],ve=[We()],n&&(ve.push(n),_e.push(n)),_e=_e.concat(l),ve=ve.concat(l)):(ve=o?[]:[He()],_e=o?[]:[He()],n&&(ve.push(n),_e.push(n)),_e=_e.concat(l),ve=ve.concat(l)),me=[a?Be():Ke()],_e.splice(1,0,a?Be():Ke());var u=J-ve.length,s=J-_e.length;ve.length<q&&u>0&&(ve=ve.concat(Ye(u))),_e.length<Z&&s>0&&(_e=_e.concat(Ye(s)))}var $e=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,i,l=n.prototype;return l.initialize=function(){this.syncWith([E.default,C.default,A.default,S.default,O.default,L.default,b.default,R.default,T.default,w.default,m.default],function(){return!!Ue()&&(pe?(Ge(),!1):void je())}),this.syncWith([M.default,U.default],je),this.syncWith([P.default,j.default,G.default,N.default],function(){return xe(),!1}),this.syncWith([D.default],Le),this.waitFor(_.default,I.default,A.default,M.default,G.default)},l.getFeed=function(e){switch(e){case x.FeedLayouts.TWO_COL:return _e;case x.FeedLayouts.THREE_COL:default:return ve}},l.getSidebar=function(e){switch(e){case x.FeedLayouts.TWO_COL:return ge;case x.FeedLayouts.THREE_COL:default:return me}},a=n,(o=[{key:"currentActivityParties",get:function(){return re}},{key:"nowPlayingCards",get:function(){return oe}},{key:"nowPlayingCardsAF2",get:function(){return ie}},{key:"news",get:function(){return ne}},{key:"newsAF1",get:function(){return ae}},{key:"loaded",get:function(){return pe&&k.default.loaded}},{key:"loadId",get:function(){return ce}},{key:"isMounted",get:function(){return ee}}])&&Y(a.prototype,o),i&&Y(a,i),n}(o.default.Store))(i.default,{ACTIVITY_FEED_MOUNT:function(e){return ee=!0,pe=null!=H&&Date.now()-H<$,ce=a.default.v4(),fe=!1,je(),_.default.isConnected()&&(Re(),Te()),void(pe||Ce())},ACTIVITY_FEED_UNMOUNT:function(e){return ee=!1,void(pe&&(H=Date.now()))},ACTIVITIES_UPDATE:function(e){return te=!0,ke(),!1},CONNECTION_OPEN:function(e){Ue()&&(i.default.wait(function(){return d.default.fetchTrendingApplications()}),Re(),Te(),Ce())},PROMOTIONS_FETCH_START:function(e){return Pe()},PROMOTIONS_FETCH_SUCCESS:function(e){return Pe()},PROMOTIONS_FETCH_FAIL:function(e){return Pe()},GAME_NEWS_FETCH:function(e){return be()},GAME_NEWS_UPDATE:function(e){return be()},GAME_NEWS_READ:function(e){return be()},GAME_NEWS_HIDE:function(e){return be()},LOGOUT:function(e){return ee=!1,te=!1,re=[],ne=[],ye=null,ce=null,fe=!1,pe=!1,ve=[],_e=[],me=[],void se.clear()}}),Xe=$e;t.default=Xe},6110:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=p(r(3)),o=(r(186),p(r(86))),i=p(r(238)),l=p(r(176)),u=p(r(124)),s=r(111),d=p(r(6063)),c=p(r(7139)),f=p(r(6769));r(0);function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e){var t,r;function a(){return e.apply(this,arguments)||this}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.application,r=e.isDiscordStoreApplication,a=e.libraryApplication,o=e.localApplication,i=e.fullWidth,l=e.size,u=e.color,p=e.customDisabledColor,h=e.hideNotLaunchable,v=e.tooltipPosition,_=e.onClick,m=e.className,g=e.source,O=e.storeListingAnalyticsProperties,A=e.pauseAnimation,I={fullWidth:i,size:l,color:u,customDisabledColor:p,tooltipPosition:v,onClick:_,className:m,hover:e.hover,innerClassName:e.innerClassName};return null!=a&&(0,s.isUserEntitledToLibraryApplication)(a)?n.createElement(f.default,y({},I,{libraryApplication:a,source:g})):null==o&&r?n.createElement(d.default,y({},I,{skuId:null!=a?a.skuId:null,applicationId:t.id,pauseAnimation:A,storeListingAnalyticsProperties:O})):n.createElement(c.default,y({},I,{hideNotLaunchable:h,applicationId:t.id}))},a}(n.PureComponent);h.displayName="ApplicationActionButton",h.defaultProps={fullWidth:!1,size:u.default.Sizes.LARGE};var v=a.default.connectStores([o.default,i.default,l.default],function(e){var t=e.application,r=o.default.getActiveLibraryApplication(t.id),n=null!=r?r.sku.id:null,a=null!=n?n:t.primarySkuId;return{isDiscordStoreApplication:null!=a&&!l.default.didFetchingSkuFail(a),libraryApplication:r,localApplication:i.default.getLocalApplication(t.id)}})(h);t.default=v,e.exports=t.default},6127:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(7345)),a=i(r(6207)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=null,u=null,s={typing:function(e){l===e&&null!=u&&u>Date.now()||(l=e,a.default.getCount(e)>o.MAX_TYPING_USERS?u=Date.now()+o.TYPING_TIMEOUT:(n.default.sendTyping(e),u=Date.now()+.8*o.TYPING_TIMEOUT))},clear:function(e){l===e&&(u=null)}};t.default=s,e.exports=t.default},6128:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(3)),a=r(78),o=s(r(1)),i=s(r(20)),l=s(r(149)),u=r(0);function s(e){return e&&e.__esModule?e:{default:e}}var d={};function c(e){var t=e.channelId,r=e.cooldownMs,n=i.default.getChannel(t);if(null!=n){var s=d[t];if(l.default.can(u.Permissions.MANAGE_CHANNELS,n)||l.default.can(u.Permissions.MANAGE_MESSAGES,n))null!=s&&(d[t].timer.stop(),delete d[t]);else if(null==s&&(s={cooldownMs:0,timer:new a.Timeout},d[t]=s),s.timer.stop(),null!=r&&r>0){var c=Math.max(r-1e3,0);s.cooldownMs=r,s.timer.start(1e3,function(){o.default.dispatch({type:u.ActionTypes.SLOWMODE_COOLDOWN_CHANGE,channelId:t,cooldownMs:c})},!0)}else delete d[t]}}function f(e){var t=e.channelId,r=e.cooldownMs,n=i.default.getChannel(t);if(null!=n){var a=r||1e3*n.rateLimitPerUser;return a>0?c({channelId:n.id,cooldownMs:a+u.SLOWMODE_COOLDOWN_BUFFER_MS}):void 0}}var p=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.getSlowmodeCooldownGuess=function(e){var t=d[e];return null!=t?t.cooldownMs:0},n}(n.default.Store))(o.default,{SLOWMODE_COOLDOWN_CHANGE:c,UPLOAD_START:f,SLOWMODE_START_COOLDOWN:f,LOGOUT:function(e){return Object.keys(d).forEach(function(e){return d[e].timer.stop()}),void(d={})}});t.default=p,e.exports=t.default},6129:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(3)),a=r(78),o=d(r(1)),i=d(r(41)),l=d(r(129)),u=d(r(455)),s=d(r(14));r(0);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var p=72e5,y=1728e5,h={},v={},_={},m=!1,g=new a.Interval;function O(){var e=Date.now(),t=!1,r=function(t){return null!=t&&e-t.date>y};for(var n in h){var a=h[n];if(null!=a)for(var o in a){r(a[o])&&(delete h[n][o],null!=v[o]&&delete v[o][n],t=!0)}}return t}function A(e){var t=e.user,r=e.activities;if(null==t||!u.default.isOnFeed(t.id))return!1;var n=!1,a=_[t.id]||new Set,o=new Set;return r.forEach(function(e){var r=i.default.getGameByName(e.name),a=null!=r?r.id:null;null!=a&&(o.add(a),null!=h[t.id]&&null!=h[t.id][a]&&h[t.id][a].gameId===a&&(delete(h=f({},h))[t.id][a],null!=v[a]&&delete(v=f({},v))[a][t.id],n=!0))}),a.forEach(function(e){if(!o.has(e)){var r,a,i,l,u=Date.now();h=f({},h,((a={})[t.id]=f({},h[t.id],((r={})[e]={gameId:e,date:u},r)),a)),v=f({},v,((l={})[e]=f({},v[e],((i={})[t.id]={userId:t.id,date:u},i)),l)),n=!0}}),_[t.id]=o,n}function I(){l.default.getUserIds().forEach(function(e){var t=s.default.getUser(e);null!=t&&A({user:t,activities:l.default.getActivities(t.id)})})}var E=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,l,s=n.prototype;return s.initialize=function(){this.waitFor(i.default,u.default),this.syncWith([i.default],I),O()},s.getUserGames=function(e){return h[e]||[]},s.getRecentlyPlayedForApplication=function(e){return v[e]},a=n,(o=[{key:"gamesByUser",get:function(){return h}},{key:"usersByGame",get:function(){return v}},{key:"hasFetchedActivities",get:function(){return m}}])&&c(a.prototype,o),l&&c(a,l),n}(n.default.Store))(o.default,{ACTIVITY_FEED_MOUNT:function(e){return g.start(p,O),O()},ACTIVITY_FEED_UNMOUNT:function(e){g.stop()},ACTIVITIES_UPDATE:function(e){var t=e.activities;h={};var r=t,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o,l=i.user_id,u=i.application_id,s=i.updated_at,d=Date.parse(s);null!=_[l]&&_[l].has(u)||(null==h[l]||null==h[l][u]||h[l][u].date<d)&&(null==h[l]&&(h[l]={}),null==v[u]&&(v[u]={}),h[l][u]={gameId:u,date:d},v[u][l]={userId:l,date:d})}m=!0},PRESENCE_UPDATE:A,CONNECTION_OPEN:function(e){var t=e.presences;_={};var r=t,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}A(o)}},LOGOUT:function(e){return h={},v={},void(_={})}});t.default=E,e.exports=t.default},6130:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=P(r(6034)),o=P(r(6)),i=P(r(4)),l=P(r(3)),u=P(r(1)),s=r(186),d=r(323),c=r(868),f=r(6046),p=r(111),y=P(r(9)),h=P(r(322)),v=P(r(154)),_=P(r(860)),m=P(r(41)),g=P(r(86)),O=P(r(64)),A=P(r(307)),I=P(r(35)),E=P(r(325)),S=P(r(238)),T=P(r(6765)),b=r(0);function P(e){return e&&e.__esModule?e:{default:e}}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=5,C=(0,i.default)().subtract(1,"week"),R=[],L="",D=!1;function w(e,t){return e.application.name.localeCompare(t.application.name,I.default.locale,{sensitivity:"base"})}var U=((n={})[b.GameTableListKeys.NAME]=w,n[b.GameTableListKeys.PLATFORM]=function(e,t,r){var n=e.libraryApplication.getDistributor(),a=t.libraryApplication.getDistributor();return n===a?(r===b.TableSortDirections.DESCENDING?-1:1)*w(e,t):null==n?1:null==a?-1:n.localeCompare(a)},n[b.GameTableListKeys.LAST_PLAYED]=function(e,t){return e.isNew&&!t.isNew?-1:!e.isNew&&t.isNew?1:e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1},n[b.GameTableListKeys.ACTIONS]=null,n),j=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.shouldShowInLibrary})}),G=(0,c.cachedFunction)(function(e){return e.filter(function(e){return e.isLaunchable&&(null==e.libraryApplication||e.shouldShowInLibrary)})}),k=(0,c.cachedFunction)(function(e,t){return e.filter(function(e){return(0,a.default)(t.toLowerCase(),e.application.name.toLowerCase())})}),x=(0,c.cachedFunction)(function(e,t,r,n){var a=U[t];if(null==a)return e;var o=[].concat(e).sort(a);return r===b.TableSortDirections.DESCENDING?o.reverse():o}),F=(0,c.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.libraryApplication.isHidden()})});function B(e,t){var r=E.default.getCurrentUserStatisticsForApplication(e.id);if(null!=r)return new Date(r.last_played_at).getTime();var n=t[e.id];return null!=n?n:0}function Y(e,t,r,n,a){if(!a&&t.has(e.id))return null;var o=m.default.getGame(e.id);if(null==o)return null;var l=B(o,r);return t.add(e.id),e instanceof s.LocalApplicationRecord||(0,p.isUserEntitledToLibraryApplication)(e)||v.default.isInstalled(e.id,e.branchId)?{key:e.id+"-"+e.branchId,application:o,libraryApplication:e,lastPlayed:l,supportsCloudSync:null!=e&&!(e instanceof s.LocalApplicationRecord)&&v.default.supportsCloudSync(e.id,e.branchId),isNew:function(e,t){return null!=e&&(0,i.default)(e.createdAt).isAfter(C)&&0===t&&!(e instanceof s.LocalApplicationRecord)}(e,l),isLaunching:m.default.launchingGames.has(e.id),isRunning:n.has(e.id),isLaunchable:(0,d.isLaunchable)(g.default,m.default,v.default,h.default,e.id,e.branchId),isUpdatingFlags:g.default.isUpdatingFlags(e.id,e.branchId),shouldShowInLibrary:(0,p.shouldShowGameInLibrary)(o,e,S.default,A.default),defaultAction:(0,f.getDefaultLibraryApplicationAction)(e,v.default,_.default)}:null}function V(){var e=new Set(O.default.getRunningVerifiedApplicationIds()),t={},r=new Set,n=O.default.getGamesSeen(!1,!1).map(function(e){var r=m.default.getGameBySettingGame(e);return null!=r?(t[r.id]=1e3*e.lastFocused,r.id):null}),a=Object.values(g.default.getAllLibraryApplications()).map(function(n){return Y(n,r,t,e,!0)}).filter(Boolean),i=Object.values(S.default.localApplications).map(function(n){return Y(n,r,t,e,!1)}).filter(Boolean),l=n.map(function(n){return function(e,t,r,n){var a=null!=e?m.default.getGame(e):null;if(null==a||null==e||t.has(e))return null;var o=B(a,r);return t.add(e),{key:e,application:a,lastPlayed:o,supportsCloudSync:!1,isNew:!1,isLaunching:m.default.launchingGames.has(e),isRunning:n.has(e),isLaunchable:(0,d.isLaunchable)(g.default,m.default,v.default,h.default,e,null),isUpdatingFlags:!1,shouldShowInLibrary:!1,libraryApplication:null,defaultAction:null}}(n,r,t,e)}).filter(Boolean),u=[].concat(l,i,a).sort(function(e,t){return e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1});return D=null!=m.default.lastFetched&&g.default.fetched,!o.default.isEqual(u,R)&&(R=u,y.default.embedded&&y.default.setSystemTrayApplications(G(R).map(function(e){return e.application}).slice(0,M)),!0)}var H=new(function(e){var t,r,n,a,o;function i(){return e.apply(this,arguments)||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.initialize=function(){this.syncWith([m.default,O.default,v.default,_.default,g.default,E.default,A.default,h.default],V,200),this.syncWith([T.default,I.default],function(){return!0})},n=i,(a=[{key:"applicationFilterQuery",get:function(){return L}},{key:"applicationViewItems",get:function(){return R}},{key:"launchableApplicationViewItems",get:function(){return G(R)}},{key:"libraryApplicationViewItems",get:function(){return j(R)}},{key:"filteredLibraryApplicationViewItems",get:function(){return k(this.libraryApplicationViewItems,L)}},{key:"sortedFilteredLibraryApplicationViewItems",get:function(){return x(this.filteredLibraryApplicationViewItems,T.default.sortKey,T.default.sortDirection,I.default.locale)}},{key:"hiddenLibraryApplicationViewItems",get:function(){return F(R)}},{key:"hasFetchedApplications",get:function(){return D}}])&&N(n.prototype,a),o&&N(n,o),i}(l.default.Store))(u.default,{LIBRARY_APPLICATION_FILTER_UPDATE:function(e){var t=e.query;L=t}});t.default=H,e.exports=t.default},6131:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=S(r(3)),i=S(r(41)),l=S(r(86)),u=S(r(238)),s=S(r(7414)),d=S(r(7415)),c=S(r(7416)),f=S(r(7417)),p=S(r(7418)),y=S(r(7419)),h=S(r(7420)),v=S(r(7421)),_=S(r(7422)),m=S(r(7423)),g=S(r(7424)),O=S(r(7425)),A=S(r(7426)),I=S(r(6062)),E=r(0);function S(e){return e&&e.__esModule?e:{default:e}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var P=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.renderFallback=function(){return b(I.default,{id:this.props.applicationId})},o.renderLibraryApplicationItems=function(e){var t=this.props,r=t.libraryApplication,n=t.application;return null==r||null==n?null:b(a.Fragment,{},void 0,b(c.default,{libraryApplication:r,analyticsLocation:e}),b(p.default,{libraryApplication:r}),b(m.default,{libraryApplication:r}),b(O.default,{libraryApplication:r}),b(g.default,{libraryApplication:r}),b(h.default,{application:n,analyticsLocation:e}),b(v.default,{application:n}),b(s.default,{application:n,libraryApplication:r}),b(_.default,{application:n,libraryApplication:r}),b(d.default,{application:n,libraryApplication:r}))},o.renderMenuItems=function(){var e=this.props,t=e.type,r=e.libraryApplication,n=e.application,o=e.onPlay,i=e.analyticsContext;if(null==n)return this.renderFallback();if(t===E.ContextMenuTypes.APPLICATION_STORE_DIRECTORY)return b(a.Fragment,{},void 0,b(y.default,{application:n}),b(d.default,{application:n,libraryApplication:r}));var l=T({},null!=i?i.location:null,{object:E.AnalyticsObjects.CONTEXT_MENU});switch(t){case E.ContextMenuTypes.APPLICATION_ACTIVITY_FEED:case E.ContextMenuTypes.APPLICATION_GAME_LIBRARY:case E.ContextMenuTypes.APPLICATION_LIBRARY_UPDATES:return b(a.Fragment,{},void 0,this.renderLibraryApplicationItems(l),b(v.default,{application:n}),b(A.default,{application:n}));case E.ContextMenuTypes.APPLICATION_LIBRARY_QUICK_LAUNCHER:return null==r?this.renderFallback():b(a.Fragment,{},void 0,b(c.default,{libraryApplication:r,analyticsLocation:l}),b(d.default,{application:n,libraryApplication:r}));case E.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS:return null==r?this.renderFallback():b(f.default,{libraryApplication:r,onPlay:o})}},o.render=function(){var e=this.props,t=e.className,r=e.style,n=this.renderMenuItems();return null==n?null:b("div",{className:t,style:r},void 0,n)},n}(a.PureComponent);P.displayName="ApplicationContextMenu";var N=o.default.connectStores([l.default,i.default],function(e){var t=e.applicationId,r=e.branchId,n=null!=r?l.default.getLibraryApplication(t,r):l.default.getActiveLibraryApplication(t),a=null==n?u.default.getLocalApplication(t):null,o=i.default.getGame(t);return{libraryApplication:n||a,application:o}})(P);t.default=N,e.exports=t.default},6157:function(e,t,r){"use strict";t.__esModule=!0,t.categoryCollapse=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_COLLAPSE,id:e})},t.categoryExpand=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_EXPAND,id:e})},t.categoryCollapseAll=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_COLLAPSE_ALL,guildId:e})},t.categoryExpandAll=function(e){a.default.dispatch({type:o.ActionTypes.CATEGORY_EXPAND_ALL,guildId:e})};var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(0)},6158:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(8)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={open:function(e){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_SETTINGS_MODAL_OPEN,guildId:e})},close:function(){a.default.dispatch({type:o.ActionTypes.NOTIFICATION_SETTINGS_MODAL_CLOSE})},updateNotificationSettings:function(e,t,r){void 0===r&&(r=!1),n.default.patch({url:o.Endpoints.USER_GUILD_SETTINGS(e||o.ME),body:t}),a.default.dispatch({type:o.ActionTypes.USER_GUILD_SETTINGS_UPDATE,userGuildSettings:[l({guild_id:e||o.ME},t)],partial:r})},updateChannelOverrideSettings:function(e,t,r){var n;this.updateNotificationSettings(e,{channel_overrides:(n={},n[t]=r,n)},!0)}};t.default=u,e.exports=t.default},6159:function(e,t,r){"use strict";t.__esModule=!0,t.mount=function(){a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_MOUNT})},t.unmount=function(){a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_UNMOUNT})},t.handleRedirect=function(){o.default.transitionTo(i.Routes.APP),a.default.dirtyDispatch({type:i.ActionTypes.ACTIVITY_FEED_HANDLE_REDIRECT})},t.addMembersToFeed=function(e){u({subscribeUsers:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD,userIds:e})})},t.removeMembersFromFeed=function(e){u({unsubscribeUsers:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_MEMBER_MANAGEMENT_REMOVE,userIds:e})})},t.addGamesToFeed=function(e){u({subscribeGames:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_ADD,gameIds:e})})},t.removeGamesFromFeed=function(e){u({unsubscribeGames:e}).then(function(){return a.default.dispatch({type:i.ActionTypes.ACTIVITY_FEED_GAME_MANAGEMENT_REMOVE,gameIds:e})})};var n=l(r(8)),a=l(r(1)),o=l(r(44)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return n.default.patch({url:i.Endpoints.USER_FEED_SETTINGS,body:{subscribe_users:e.subscribeUsers,unsubscribe_users:e.unsubscribeUsers,subscribe_games:e.subscribeGames,unsubscribe_games:e.unsubscribeGames}})}},6160:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=u(r(17)),i=r(0),l=u(r(5741));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=Object.freeze({XSMALL:"xsmall",SMALL:"small",LARGE:"large"}),f=function(e){var t,r,n,u,f=e.className,p=e.percent,y=e.size,h=void 0===y?c.SMALL:y,v=e.foregroundColor,_=void 0===v?i.Colors.BRAND:v,m=e.backgroundColor,g=void 0===m?"#e9e7e7":m,O=e.foregroundGradientColor,A=e.animate,I=void 0===A||A,E=null!=p?p:0;return u=null!=O?{background:"linear-gradient(to right, "+O[0]+", "+O[1]+")"}:{backgroundColor:_},s("div",{className:(0,o.default)(f,l.default.progress,l.default[h]),style:{backgroundColor:g}},void 0,"indeterminate"!==E&&"number"==typeof E?s("div",{className:(0,o.default)(l.default.progressBar,l.default[h],(t={},t[l.default.animating]=I,t)),style:d({transform:"translate3d("+(Math.min(Math.max(0,E),100)-100)+"%, 0, 0)"},u)}):s(a.Fragment,{},void 0,s("div",{className:(0,o.default)(l.default.indeterminateBar1,l.default[h],(r={},r[l.default.animating]=I,r)),style:u}),s("div",{className:(0,o.default)(l.default.indeterminateBar2,l.default[h],(n={},n[l.default.animating]=I,n)),style:u})))};f.displayName="Progress",f.Sizes=c,f.INDETERMINATE="indeterminate";var p=f;t.default=p,e.exports=t.default},6161:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=r(178),l=r(0),u=s(r(5751));function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=Object.freeze({DEFAULT:u.default.themeDefault,CLEAR:u.default.themeClear}),f=Object.freeze({DEFAULT:u.default.sizeDefault,MINI:u.default.sizeMini}),p=Object.freeze({CHECKED:u.default.valueChecked,UNCHECKED:u.default.valueUnchecked}),y=Object.freeze({ENABLED:"enabled",DISABLED:"disabled"}),h=function(e){var t,r;function s(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleKeyPress=function(e){e.charCode!==l.KeyboardKeys.SPACE&&e.charCode!==l.KeyboardKeys.ENTER||(e.preventDefault(),null!=t.ref&&t.ref.click())},t}return r=e,(t=s).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,s.prototype.render=function(){var e=this,t=this.props,r=t.id,l=t.onChange,s=t.value,c=t.fill,f=t.theme,h=t.disabled,v=t.className,_=t.size,m=h?y.DISABLED:y.ENABLED,g=s?p.CHECKED:p.UNCHECKED,O=this.props.style;return null!=c&&s&&(O=d({},O,{backgroundColor:c})),function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(v,(0,i.getClass)(u.default,"switch",m),g,_,f),style:O,onKeyPress:this.handleKeyPress,tabIndex:h?-1:0},void 0,a.createElement("input",{id:r,ref:function(t){return e.ref=t},className:(0,i.getClass)(u.default,"checkbox",m),type:"checkbox",disabled:h,onChange:l,checked:s,tabIndex:-1}))},s}(a.Component);h.displayName="Switch",h.Themes=c,h.Sizes=f,h.defaultProps={theme:c.DEFAULT,size:f.DEFAULT};var v=h;t.default=v,e.exports=t.default},6207:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(3)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={},s=Object.freeze({});function d(e){return u[e]||s}function c(e){var t=e.channelId,r=e.userId,n=u[t];if(null==n||null==n[r])return!1;var a=l({},n);clearTimeout(a[r]),delete a[r],u[t]=a}function f(){u={}}var p=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getTypingUsers=function(e){return d(e)},a.isTyping=function(e,t){return null!=d(e)[t]},a.getCount=function(e){var t=d(e);return t===s?0:Object.keys(t).length},n}(n.default.Store))(a.default,{TYPING_START:function(e){var t=e.channelId,r=e.userId,n=l({},d(t));clearTimeout(n[r]),n[r]=function(e,t){return setTimeout(function(){a.default.dispatch({type:o.ActionTypes.TYPING_STOP,channelId:e,userId:t})},o.TYPING_TIMEOUT)}(t,r),u[t]=n},TYPING_STOP:c,CONNECTION_OPEN:function(e){return f()},OVERLAY_INITIALIZE:function(e){return f()},MESSAGE_CREATE:function(e){return c({channelId:e.channelId,userId:e.message.author.id})}});t.default=p,e.exports=t.default},6208:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=s(r(125)),l=s(r(13)),u=s(r(5710));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c={BLOCK:u.default.block,INLINE:u.default.inline},f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.children,r=e.className,n=e.type,a=void 0===n?c.BLOCK:n,s=e.style;return d("div",{className:(0,o.default)(r,a),style:s},void 0,d(i.default,{size:i.default.Sizes.SMALL,color:i.default.Colors.GREEN,weight:i.default.Weights.BOLD,className:u.default.pro},void 0,l.default.Messages.FORM_LABEL_ROLES_PRO_TIP,":"),d(i.default,{color:i.default.Colors.PRIMARY,className:u.default.tip},void 0,t))},n}(a.PureComponent);f.displayName="Protip",f.Types=c;var p=f;t.default=p,e.exports=t.default},6210:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(3)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s,d,c=null,f=null,p=null,y=null,h=null,v={},_=null,m=!1,g=null,O=!1,A=!1,I=!1,E=!1,S=null;function T(e){null!=s&&null!=_?s(_):null!=d&&d(e),s=null,d=null}function b(e,t){return e+"-"+(null!=t?t:"")}var P=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,i,u,s=n.prototype;return s.getPrice=function(e,t){return v[b(e,t)]},s.isOpen=function(){var e=__OVERLAY__?o.AppContext.OVERLAY:o.AppContext.APP;return S===e&&I},s.getProps=function(){return{appContext:S,skuId:c,applicationId:p}},a=n,(i=[{key:"isPurchasingSKU",get:function(){return m}},{key:"forceConfirmationStepOnMount",get:function(){return O}},{key:"error",get:function(){return g}},{key:"skuId",get:function(){return c}},{key:"applicationId",get:function(){return p}},{key:"analyticsLocation",get:function(){return y}},{key:"promotionId",get:function(){return h}},{key:"isIAP",get:function(){return A}},{key:"giftCode",get:function(){return f}},{key:"isGift",get:function(){return E}}])&&l(a.prototype,i),u&&l(a,u),n}(n.default.Store))(a.default,{SKU_PURCHASE_MODAL_OPEN:function(e){T(),c=e.skuId,p=e.applicationId,A=e.isIAP,y=e.analyticsLocation,S=e.context,E=e.isGift,I=!0,O=!1,s=e.resolve,d=e.reject,g=null,_=null,h=e.promotionId},SKU_PURCHASE_MODAL_CLOSE:function(e){var t=e.error;I=!1,S=null,T(t)},SKU_PURCHASE_PREVIEW_FETCH_SUCCESS:function(e){var t,r=e.skuId,n=e.paymentSourceId,a=e.price;v=u({},v,((t={})[b(r,n)]=a,t))},SKU_PURCHASE_START:function(e){m=!0},SKU_PURCHASE_SUCCESS:function(e){var t=e.entitlements,r=e.giftCode;m=!1,_=t,f=r},SKU_PURCHASE_FAIL:function(e){var t=e.error;m=!1,g=t},SKU_PURCHASE_SHOW_CONFIRMATION_STEP:function(e){O=!0},SKU_PURCHASE_CLEAR_ERROR:function(e){g=null},SKU_PURCHASE_UPDATE_IS_GIFT:function(e){E=e.isGift},OVERLAY_SET_INPUT_LOCKED:function(e){if(!e.locked||null==S)return!1;I=!1,S=null,T()}});t.default=P,e.exports=t.default},6211:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=_(r(6)),a=_(r(3)),o=_(r(21)),i=_(r(1)),l=_(r(6677)),u=_(r(7142)),s=_(r(155)),d=_(r(18)),c=_(r(9)),f=_(r(468)),p=_(r(307)),y=_(r(35)),h=_(r(151)),v=r(0);function _(e){return e&&e.__esModule?e:{default:e}}var m,g="DetectedPlatformAccountsStore",O=[],A=[],I=[],E=v.DetectedPlatformAccountsDisplayTypes.NONE,S={},T=[],b=new u.default(function(e,t){var r=f.default.getAccounts(),n=s.default.filter(function(e){return!e.serverSync&&e.enabled}).map(function(e){return e.type}).filter(function(e){return-1===A.indexOf(e)}).filter(function(e){return!r.some(function(t){return t.type===e})}).filter(function(e){return!O.some(function(t){return t.type===e})});n.length>0&&(t||y.default.detectPlatformAccounts)&&l.default.detectAccounts(n),e()});function P(){if(I=[],!p.default.enabled){var e=f.default.getAccounts().filter(function(e){return v.FRIEND_SYNC_PLATFORM_TYPES.has(e.type)}).map(function(e){return e.type});I=n.default.without.apply(n.default,[[v.PlatformTypes.FACEBOOK].concat(A)].concat(e))}}var N=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.waitFor(f.default,h.default,p.default,y.default),A=o.default.get(g)||A},a.getDetectedAccounts=function(){return O},a.getDisplayType=function(){return p.default.enabled?v.DetectedPlatformAccountsDisplayTypes.NONE:E},a.getAvailablePlatformTypes=function(){return I},a.hasAvailablePlatformType=function(e){return I.includes(e)},a.getNotDetectedPlatformTypes=function(){return T},a.isDetecting=function(e){return S[e]||!1},a.isOpen=function(){return this.getDisplayType()===v.DetectedPlatformAccountsDisplayTypes.MODAL},a.getProps=function(){return{detectedAccounts:O,displayType:E,analyticsLocation:m}},n}(a.default.Store))(i.default,{CONNECTION_OPEN:function(e){return c.default.embedded&&(b.start(6e4),b.run()),void P()},CONNECTION_CLOSED:function(e){return b.stop(),!1},USER_CONNECTIONS_UPDATE:function(e){return c.default.embedded&&b.run(),void P()},PLATFORM_ACCOUNTS_DETECTING:function(e){var t=e.platformTypes,r=e.location;t.forEach(function(e){return S[e]=!0}),null!=r&&(T=[])},PLATFORM_ACCOUNTS_DETECTED:function(e){var t=e.platformTypes,r=e.accounts,n=e.location;t.forEach(function(e){return S[e]=!1});var a=f.default.getAccounts();O=[].concat(O.filter(function(e){return-1===t.indexOf(e.type)}),r.filter(function(e){return!a.some(function(t){return e.type===t.type&&e.id===t.id})}));var o=null!=n;O.length>0?(o?E=v.DetectedPlatformAccountsDisplayTypes.MODAL:E===v.DetectedPlatformAccountsDisplayTypes.NONE&&(E=h.default.isFocused()?v.DetectedPlatformAccountsDisplayTypes.NOTICE:v.DetectedPlatformAccountsDisplayTypes.MODAL),r.forEach(function(e){d.default.track("detect_platform_account",{platform_type:e.type,display_type:E,location:n})})):E=v.DetectedPlatformAccountsDisplayTypes.NONE,o&&(T=t.filter(function(e){return!O.some(function(t){return t.type===e})})),m=n},PLATFORM_ACCOUNTS_IGNORE:function(e){var t=e.platformTypes;null==t&&(t=(0,n.default)(O).map(function(e){return e.type}).uniq().value()),t.forEach(function(e){d.default.track("ignore_platform_account",{platform_type:e,display_type:E})}),A=n.default.uniq([].concat(A,O.map(function(e){return e.type}))),o.default.set(g,A),P(),O=[],E=v.DetectedPlatformAccountsDisplayTypes.NONE},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){E=e.displayType},WINDOW_FOCUS:function(e){var t=e.focused;E!==v.DetectedPlatformAccountsDisplayTypes.NOTICE||t||(E=v.DetectedPlatformAccountsDisplayTypes.MODAL)},STREAMER_MODE_UPDATE:function(e){return P()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return P()},EXPERIMENT_OVERRIDE_BUCKET:function(e){return P()},EXPERIMENT_OVERRIDE_TYPE:function(e){return P()}});t.default=N,e.exports=t.default},6212:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=u(r(17)),i=u(r(96)),l=u(r(5489));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var c=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this).getMarkerState=function(e){var t=e.markers,n=e.defaultValue,a=e.minValue,o=e.maxValue,i=[],l=[];if(null==t)return{min:a,max:o,range:o-a,sortedMarkers:i,markerPositions:l};i=t.sort(function(e,t){return e-t});var u=r.findClosestMarkerByIndex(n,i),s=i[0],d=i[i.length-1],c=d-s;if(r.props.equidistant){var f=100/(i.length-1);l=i.map(function(e,t){return t*f})}else{l=i.map(function(e){return 100*(e-s)/c})}return{min:s,max:d,range:c,sortedMarkers:i,markerPositions:l,closestMarkerIndex:u}},r.handleMouseDown=function(e){if(!r.props.disabled){document.addEventListener("mousemove",r.handleMouseMove,!0),document.addEventListener("mouseup",r.handleMouseUp,!0);var t=i.default.findDOMNode(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));if(null==t||t instanceof Text)throw new Error("[UIKit]Slider.handleMouseDown(): assert failed: domNode instanceof Element");r.setState({x:e.clientX,boundingRect:t.getBoundingClientRect(),newClosestIndex:r.state.closestMarkerIndex})}},r.handleMouseUp=function(){r.reset();var e=r.props,t=e.onValueChange,n=e.stickToMarkers,a=r.state.newClosestIndex;n&&null!=a?(t&&t(r.state.sortedMarkers[a]),r.setState({newClosestIndex:null,closestMarkerIndex:a})):t&&t(r.state.value)},r.handleMouseMove=function(e){e.preventDefault(),r.props.stickToMarkers?r.moveStaggered(e):r.moveSmoothly(e)},r.state=d({value:t.defaultValue},r.getMarkerState(t),{newClosestIndex:null}),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.UNSAFE_componentWillReceiveProps=function(e){null==this.state.newClosestIndex&&this.props.defaultValue!==e.defaultValue&&this.setState(d({value:e.defaultValue},this.getMarkerState(e)))},a.componentWillUnmount=function(){this.reset()},a.renderBubble=function(e){var t=this.state.value,r=this.props,n=r.stickToMarkers,a=r.onValueRender;if(!n)return s("span",{className:l.default.bubble},void 0,a?a(t):e.toFixed(0)+"%")},a.renderMark=function(e){var t=this.props.onMarkerRender;return null!=t?t(e):e},a.render=function(){var e,t=this,r=this.state,n=r.value,a=r.sortedMarkers,i=r.markerPositions,u=r.closestMarkerIndex,c=r.newClosestIndex,f=this.props,p=f.disabled,y=f.stickToMarkers,h=f.className,v=f.children,_=f.barStyles,m=f.fillStyles,g=f.mini,O=f.hideBubble,A=0;y?null!=i&&(null!=c?A=i[c]:null!=u&&(A=i[u])):A=this.scaleValue(n);var I=A+"%",E=i&&a?i.map(function(e,r){var n=t.renderMark(a[r]);return s("div",{className:l.default.mark,style:{left:e+"%"}},r,s("div",{className:l.default.markValue},void 0,n),s("div",{className:l.default["markDash"+(null==n?"simple":"")]}))}):null;return s("div",{className:(0,o.default)(l.default.slider,h,(e={},e[l.default.disabled]=p,e[l.default.mini]=g,e))},void 0,s("input",{type:"number",className:l.default.input,value:A.toFixed(0),readOnly:!0}),s("div",{className:l.default.track},void 0,E),s("div",{className:l.default.bar,style:_},void 0,s("div",{className:l.default.barFill,style:d({},m,{width:I})})),v,s("div",{className:l.default.track},void 0,s("div",{className:l.default.grabber,style:{left:I},onMouseDown:this.handleMouseDown},void 0,O?null:this.renderBubble(A))))},a.reset=function(){document.removeEventListener("mousemove",this.handleMouseMove,!0),document.removeEventListener("mouseup",this.handleMouseUp,!0)},a.findClosestMarkerByIndex=function(e,t){for(var r=null!=t?t:this.state.sortedMarkers,n=0,a=0;a<r.length;a++){var o=r[a];if(e===o)return a;if(e<o)return 0===n?a:o-e<n?a:a-1;n=e-o}return null},a.scaleValue=function(e){return 100*(e-this.state.min)/this.state.range},a.unscaleValue=function(e){return e*this.state.range/100+this.state.min},a.moveStaggered=function(e){var t=this.state,r=t.boundingRect,n=t.x,a=void 0===n?0:n,o=t.closestMarkerIndex,i=t.markerPositions,l=t.sortedMarkers,u=this.props.asValueChanges,s=r||{},d=s.left,c=s.right;if(!(e.clientX<=d||e.clientX>=c)){var f,p=c-d,y=(e.clientX-a)/p,h=i[o]+100*y;if(this.props.equidistant)f=this.findClosestMarkerByIndex(h,i);else{var v=this.unscaleValue(h);f=this.findClosestMarkerByIndex(v)}null!=f&&u&&u(l[f]),this.setState({newClosestIndex:f})}},a.moveSmoothly=function(e){var t=this.props,r=t.minValue,n=t.maxValue,a=t.handleSize,o=t.asValueChanges,i=this.state.boundingRect,l=i.left,u=i.right,s=this.state.x-e.clientX,d=(this.state.value-r)/(n-r);if(!(e.clientX<=l&&s<0||e.clientX>=u&&s>0)){var c=u-l-a,f=c*d;d=Math.min(Math.max(f-s,0),c)/c}var p=r+d*(n-r);o&&o(p),this.setState({value:p,x:e.clientX})},n}(a.PureComponent);c.displayName="Slider",c.defaultProps={defaultValue:10,minValue:0,maxValue:100,handleSize:10,disabled:!1,stickToMarkers:!1,fillStyles:{}};var f=c;t.default=f,e.exports=t.default},6284:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=f(r(6)),a=f(r(3)),o=f(r(1)),i=f(r(128)),l=f(r(12)),u=f(r(71)),s=f(r(14)),d=f(r(130)),c=r(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var y=Object.freeze([]),h={},v=[];function _(e){var t=h[e];return null==t&&(t=new A(e),h[e]=t),t}function m(e,t){return u.default.getNick(e,t.id)||t.toString()}function g(e){return{nick:e,comparator:e.toLowerCase()}}function O(e,t,r){var n=s.default.getUser(r),a=null==n;null==n&&(n=new i.default({id:r,username:"...",discriminator:r.slice(-5,-1)}));var o=p({voiceState:e,user:n},function(e,t){return g(m(e,t))}(t,n));return a&&(o._isPlaceholder=!0),o}var A=function(){function e(e){this.guildId=e,this._voiceStates={},this._sortedVoiceStates=null}var t=e.prototype;return t.isInvalid=function(){return null==this._sortedVoiceStates},t.invalidate=function(){this._sortedVoiceStates=null},t.updateVoiceState=function(e){var t=d.default.getVoiceState(this.guildId,e),r=this._voiceStates[e];null!=t?null==r?(this._voiceStates[e]=O(t,this.guildId,e),this.invalidate()):r.voiceState!==t&&(this._voiceStates[e]=p({},r,{voiceState:t}),this.invalidate()):null!=r&&(delete this._voiceStates[e],this.invalidate())},t.updateNick=function(e){var t=this._voiceStates[e];if(null!=t){var r=m(this.guildId,t.user);if(r!==t.nick)return this._voiceStates[e]=p({},t,g(r)),this.invalidate(),!0}return!1},t.forEach=function(e){var t=this.isInvalid();n.default.forEach(this._voiceStates,e);var r=this.isInvalid();return r&&r!==t},t.updateUsers=function(){var e=this;return this.forEach(function(t,r){var n=s.default.getUser(r);null!=n&&t.user!==n&&(e._voiceStates[r]=O(t.voiceState,e.guildId,r),e.invalidate())})},t.updateNicks=function(){var e=this;return this.forEach(function(t,r){if(!t._isPlaceholder){var n=m(e.guildId,t.user);t.nick!==n&&(e._voiceStates[r]=p({},t,g(n)),e.invalidate())}})},t.getVoiceStates=function(){return null==this._sortedVoiceStates&&(this._sortedVoiceStates=(0,n.default)(this._voiceStates).sortBy(function(e){return e.comparator}).sortBy(function(e){return!e.voiceState.selfStream}).groupBy(function(e){return e.voiceState.channelId}).value()),this._sortedVoiceStates},e}();function I(){return n.default.reduce(h,function(e,t){return t.updateUsers()||e},!1)}function E(){v.forEach(function(e){var t=e.guildId,r=e.userId;_(t||c.ME).updateVoiceState(r)}),v=[]}var S=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.waitFor(l.default,s.default,u.default,d.default),this.syncWith([s.default],I),this.syncWith([d.default],E)},a.getVoiceStates=function(e){return _(e||c.ME).getVoiceStates()},a.getVoiceStatesForChannel=function(e,t){return this.getVoiceStates(e||c.ME)[t]||y},n}(a.default.Store))(o.default,{CONNECTION_OPEN:function(e){return h={},void(v=[])},OVERLAY_INITIALIZE:function(e){return function(){h={},v=[];var e=d.default.getAllVoiceStates();Object.keys(e).forEach(function(t){Object.keys(e[t]).forEach(function(e){_(t||c.ME).updateVoiceState(e)})})}()},VOICE_CHANNEL_SELECT:function(e){var t=e.guildId,r=l.default.getId();return null!=r&&v.push({guildId:t||c.ME,userId:r}),!1},VOICE_STATE_UPDATE:function(e){var t=e.guildId,r=e.userId;return v.push({guildId:t||c.ME,userId:r}),!1},GUILD_MEMBER_UPDATE:function(e){var t=e.guildId,r=e.user;return _(t).updateNick(r.id)},GUILD_DELETE:function(e){var t=e.guild;delete h[t.id]}});t.default=S,e.exports=t.default},6286:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=s(r(899)),l=s(r(5707)),u=s(r(880));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var c=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).onChange=function(e){var r=t.props,n=r.onChange,a=r.name;n&&n(e.currentTarget.value,a)},t.onFocus=function(e){var r=t.props,n=r.onFocus,a=r.name;n&&n(e,a)},t.onBlur=function(e){var r=t.props,n=r.onBlur,a=r.name;n&&n(e,a)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getPaddingRight=function(){var e=this.props.maxLength;return null==e?10:7.23*(""+e).length+10},a.renderMaxLength=function(){var e=this.props,t=e.maxLength,r=e.value;if(null==t)return null;var n=t-(null!=r?r.length:0);return d("div",{className:l.default.maxLength},void 0,n)},a.renderErrorMessage=function(){var e=this.props.error;return null==e?null:d("div",{className:u.default.errorMessage},void 0,e)},a.render=function(){var e,t,r,n=this.props,a=n.disabled,s=n.value,c=n.placeholder,f=n.error,p=n.autoFocus,y=n.maxLength,h=n.resizeable,v=n.className,_=n.id,m=n.rows,g=n.flex;return d("div",{className:(0,o.default)(u.default.inputWrapper,(e={},e[l.default.flex]=g,e))},void 0,d("div",{className:(0,o.default)(l.default.inputMaxLength,(t={},t[l.default.flex]=g,t))},void 0,d("textarea",{type:"text",className:(0,o.default)(u.default.inputDefault,l.default.textArea,i.default.scrollbarDefault,v,(r={},r[u.default.error]=f,r[u.default.disabled]=a,r[l.default.resizeable]=h,r)),style:{paddingRight:this.getPaddingRight()},id:_,disabled:a,placeholder:c,value:s,autoFocus:p,maxLength:y,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,rows:m}),this.renderMaxLength()),this.renderErrorMessage())},n}(a.PureComponent);c.displayName="TextArea",c.defaultProps={name:"",disabled:!1,placeholder:"",autoFocus:!1,resizeable:!1,flex:!1,rows:3};var f=c;t.default=f,e.exports=t.default},6287:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=u(r(301)),i=u(r(437)),l=u(r(13));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.className,r=e.invertTooltip,n=s(o.default,{name:o.default.Names.MOBILE_DEVICE,className:t});return s(i.default,{text:l.default.Messages.ACTIVE_ON_MOBILE,position:r?i.default.Positions.BOTTOM:i.default.Positions.TOP},void 0,n)},n}(a.PureComponent);t.default=d,d.displayName="MobileIndicator",d.defaultProps={invertTooltip:!1},e.exports=t.default},6288:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=i(r(17)),o=i(r(5713));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.invertColor,r=void 0!==t&&t,i=e.className;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("span",{className:(0,a.default)(r?o.default.botTagInvert:o.default.botTagRegular,i)},void 0,"BOT")};l.displayName="BotTag";var u=l;t.default=u,e.exports=t.default},6289:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=z(r(2)),o=W(r(17)),i=W(r(6)),l=W(r(3)),u=r(6159),s=r(302),d=W(r(179)),c=W(r(827)),f=W(r(77)),p=W(r(825)),y=(W(r(128)),W(r(852))),h=W(r(41)),v=W(r(28)),_=W(r(6290)),m=W(r(6129)),g=W(r(455)),O=W(r(14)),A=W(r(6108)),I=W(r(7137)),E=W(r(5992)),S=W(r(124)),T=W(r(6767)),b=W(r(219)),P=W(r(148)),N=W(r(6005)),M=W(r(301)),C=W(r(6072)),R=W(r(821)),L=W(r(437)),D=W(r(832)),w=W(r(107)),U=W(r(6033)),j=W(r(6026)),G=z(r(6107)),k=W(r(888)),x=W(r(5996)),F=W(r(5358)),B=W(r(6110)),Y=W(r(5359)),V=r(0),H=W(r(13)),K=W(r(5743));function W(e){return e&&e.__esModule?e:{default:e}}function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function J(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function q(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Z=600,Q=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).state={playingNewsVideo:!1},t.numIntentionalNewsChange=0,t.handleNewsClick=function(e,r){var n=t.props,a=n.game,o=n.location;G.trackGameNewsOpened(o,e,r,a)},t.handleVideoPlay=function(){t.setState({playingNewsVideo:!0})},t.handleIntentionalCarouselChange=function(){t.numIntentionalNewsChange++,t.setState({playingNewsVideo:!1})},t.renderNewsItem=function(e,r){return J(I.default,{game:t.props.game,news:e,className:K.default.news,backgroundClassname:K.default.background,onClick:function(){return t.handleNewsClick(e,r)},onVideoPlay:t.handleVideoPlay})},t.renderEmptyBody=function(){var e=t.props.game.getSplashURL(Z)||r(7427);return J("div",{className:K.default.newsEmpty,style:null!=e?{backgroundImage:"url("+e+")"}:null})},t}q(t,e);var n=t.prototype;return n.componentWillUnmount=function(){if(this.numIntentionalNewsChange>0){var e=this.props,t=e.game,r=e.location;G.trackGameNewsChanged(r,t,this.numIntentionalNewsChange)}},n.render=function(){var e=this.props.gameNews;return 0===e.length?this.renderEmptyBody():1===e.length?J("div",{className:K.default.news},void 0,this.renderNewsItem(e[0])):J(T.default,{className:K.default.carousel,paginationClassName:K.default.carouselPagination,includeHitboxPadding:!1,items:e,renderItem:this.renderNewsItem,delay:1e4,onIntentionalChange:this.handleIntentionalCarouselChange})},t}(a.PureComponent);Q.displayName="GamePreviewNews";var ee=l.default.connectStores([y.default],function(e){var t=e.game;return{gameNews:y.default.getByGameId(t.id)}})(Q),te=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderUserPopout=function(e,r){return a.createElement(Y.default,X({},r,{analyticsParams:{location:t.props.location},user:e}))},t.handleContextMenu=function(e,t){(0,s.openContextMenu)(e,function(e){return a.createElement(F.default,X({},e,{type:V.ContextMenuTypes.USER_GENERIC_LIST,user:t}))})},t.renderPlayer=function(e,r){var n=e.user,a=e.lastPlayedDate;void 0===r&&(r=!1);var o=r?J(L.default,{text:n.username},void 0,J(E.default,{className:K.default.overflowAvatar,size:E.default.Sizes.ACTIVITY_FEED_24,src:n.getAvatarURL()})):J("div",{className:K.default.player},void 0,J(L.default,{text:n.username},void 0,J(E.default,{src:n.getAvatarURL(),size:E.default.Sizes.ACTIVITY_FEED_24})),J(j.default,{className:K.default.username},void 0,n.username),null!=a?J(C.default,{className:K.default.playtime,end:a,location:C.default.Locations.ACTIVITY_FEED_NEW}):J(j.default,{className:K.default.nowPlaying,size:j.default.Sizes.SIZE_12},void 0,H.default.Messages.ACTIVITY_FEED_USER_PLAYING));return J(R.default,{render:function(e){return t.renderUserPopout(n,e)},position:R.default.Positions.LEFT,closeOnScroll:!1,dependsOn:t.props.popoutKey},n.id,J("div",{onContextMenu:function(e){return t.handleContextMenu(e,n)}},void 0,o))},t}q(t,e);var n=t.prototype;return n.renderOverflowPlayers=function(){var e=this,t=this.props,r=t.nowPlayingUsers,n=t.recentlyPlayedUsers,o=r.concat(n);if(o.length<=3)return null;var l=o.slice(3),u=(0,i.default)(l).take(4).map(function(t){return e.renderPlayer(t,!0)}).value();return 5===l.length?u.push(this.renderPlayer(l[4],!0)):l.length>5&&u.push(J("div",{className:K.default.overflowPlayerCount},void 0,"+",l.length-5+1)),J(a.Fragment,{},void 0,J(D.default,{className:K.default.divider}),J("div",{className:K.default.overflowPlayers},void 0,u))},n.render=function(){var e=this,t=this.props,n=t.nowPlayingUsers,a=t.recentlyPlayedUsers,o=n.concat(a);if(0===o.length)return J("div",{className:K.default.emptyPlayers},void 0,J("img",{src:r(7428),alt:""}),J(j.default,{color:j.default.Colors.MUTED},void 0,H.default.Messages.GAME_POPOUT_NO_RECENT_PLAYERS));var l=(0,i.default)(o).take(3).value();return J("div",{className:K.default.players},void 0,J(w.default,{tag:w.default.Tags.H5,className:K.default.title},void 0,H.default.Messages.GAME_FEED_ACTIVITY_RECENTLY_PLAYED),l.map(function(t){return e.renderPlayer(t)}),this.renderOverflowPlayers())},t}(a.PureComponent);te.displayName="GamePreviewUsers";var re=l.default.connectStores([m.default,_.default],function(e){var t,r=e.game;return{nowPlayingUsers:(t=_.default.getNowPlaying(r.id),null==t?[]:i.default.values(t).sort(function(e,t){return t.startedPlaying-e.startedPlaying}).map(function(e){var t=e.userId;return{lastPlayedDate:null,user:O.default.getUser(t)}}).filter(function(e){var t=e.user;return null!=t&&g.default.isOnFeed(t.id)})),recentlyPlayedUsers:function(e){return null==e?[]:i.default.values(e).sort(function(e,t){return t.date-e.date}).map(function(e){var t=e.date,r=e.userId;return{lastPlayedDate:t,user:O.default.getUser(r)}}).filter(function(e){var t=e.user;return null!=t&&g.default.isOnFeed(t.id)})}(m.default.usersByGame[r.id])}})(te),ne=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).close=function(){var e=t.props,r=e.popoutKey,n=e.onClose;r&&p.default.close(r),n&&n()},t.handleViewGuild=function(){var e=t.props.game.guildId;e&&(t.close(),k.default.transitionTo(V.Routes.GUILD(e)))},t.handleJoinGuild=function(){var e=t.props.game.guildId;e&&c.default.joinGuild(e,!0).then(function(){t.close(),c.default.transitionToGuildSync(e)})},t.handleActionButtonClick=function(){var e=t.props,r=e.isModal,n=e.popoutKey;r?f.default.popAll():p.default.close(n)},t}q(t,e);var r,n,i,l=t.prototype;return l.getLocation=function(){return this.props.isModal?V.AnalyticsLocations.GAME_MODAL:V.AnalyticsLocations.GAME_POPOUT},l.componentDidMount=function(){var e=this.props,t=e.isNewsFetched,r=e.game;t||d.default.getGameNews([this.props.game.id]),null!=r.guildId&&null==r.guild&&d.default.fetchApplication(r.id,!0)},l.renderGameInfoVerified=function(){var e=this.props.game;if(null==e.guildId)return null;var t=v.default.getGuild(e.guildId),r=null;if(null!=e.guild){var n=e.guild;r=J(P.default,{align:P.default.Align.CENTER},void 0,J("div",{className:K.default.dotOnline}),J(j.default,{size:j.default.Sizes.SIZE_12},void 0,H.default.Messages.GAME_POPOUT_ONLINE_IN_SERVER.format({membersOnline:n.approximate_presence_count})))}return J(a.Fragment,{},void 0,J(b.default,{className:(0,o.default)(K.default.gameIcon,K.default.verified),onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,J(N.default,{game:e}),J(M.default,{name:M.default.Names.VERIFIED,className:K.default.verifiedIcon,width:16,height:16,color:V.Colors.BRAND_500})),J("div",{className:K.default.gameInfo},void 0,J(b.default,{onClick:t?this.handleViewGuild:this.handleJoinGuild},void 0,J(U.default,{className:(0,o.default)(K.default.gameTitle,K.default.verified),size:U.default.Sizes.SIZE_16},void 0,e.name)),r))},l.renderGameInfo=function(){var e=this.props.game,t=e.publishers;return J(a.Fragment,{},void 0,J("div",{className:K.default.gameIcon},void 0,J(N.default,{game:e})),J("div",{className:K.default.gameInfo},void 0,J(U.default,{className:K.default.gameTitle,size:U.default.Sizes.SIZE_16},void 0,e.name),t.length>0?J(j.default,{size:j.default.Sizes.SIZE_12},void 0,t[0].name):null))},l.renderFooter=function(){var e=this.props,t=e.game,r=e.isSubscribedOnFeed,n=e.analyticsContext,a=[];if(a.push(J(B.default,{application:t,source:this.getLocation(),size:S.default.Sizes.SMALL,color:S.default.Colors.GREY,customDisabledColor:K.default.disabledButton,onClick:this.handleActionButtonClick,location:X({},n.location,{section:V.AnalyticsSections.ACTIVITY_FEED_GAME_POPOUT}),hideNotLaunchable:!0},"action-button")),t.guildId){var o=v.default.getGuild(t.guildId);a.push(J(S.default,{className:K.default.button,size:S.default.Sizes.SMALL,color:S.default.Colors.GREY,onClick:o?this.handleViewGuild:this.handleJoinGuild},"guild-button",o?H.default.Messages.GAME_POPOUT_GO_TO_SERVER:H.default.Messages.GAME_POPOUT_VIEW_SERVER))}return a.push(J(S.default,{className:K.default.button,look:r?S.default.Looks.OUTLINED:S.default.Looks.FILLED,size:S.default.Sizes.SMALL,color:S.default.Colors.GREY,onClick:function(){return r?(0,u.removeGamesFromFeed)([t.id]):(0,u.addGamesToFeed)([t.id])}},"follow-button",r?H.default.Messages.GAME_POPOUT_UNFOLLOW:H.default.Messages.GAME_POPOUT_FOLLOW)),J("div",{className:K.default.footer},void 0,null!=t.guildId?this.renderGameInfoVerified():this.renderGameInfo(),a)},l.render=function(){var e=this.props,t=e.game,r=e.isNewsFetched,n=e.popoutKey;return J(x.default,{context:this.props.analyticsContext,section:this.contextSection},void 0,J(P.default,{className:K.default.container},void 0,J("div",{className:K.default.header},void 0,J(ee,{game:t,isFetched:r,location:this.getLocation()}),J(re,{game:t,popoutKey:n,location:this.getLocation()})),this.renderFooter()))},r=t,(n=[{key:"contextSection",get:function(){return this.props.isModal?V.AnalyticsSections.GAME_MODAL:V.AnalyticsSections.GAME_POPOUT}}])&&$(r.prototype,n),i&&$(r,i),t}(a.PureComponent);ne.displayName="GamePreview",ne.defaultProps={isModal:!1};var ae=l.default.connectStores([h.default,O.default,A.default,g.default],function(e){var t=e.game;return{game:h.default.getGame(t.id),isSubscribedOnFeed:g.default.gameIDsToShow.has(t.id),isNewsFetched:y.default.isFetched(t.id)}})(ne);t.default=ae,e.exports=t.default},6290:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=f(r(3)),a=f(r(1)),o=r(862),i=r(6760),l=r(6761),u=r(223),s=f(r(129)),d=f(r(455)),c=f(r(14));r(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=!1,v={},_={};function m(e){var t=!1;return e.forEach(function(e){t=!1!==O(e)||t}),t}function g(e){var t=_[e];if(null==t)return!1;var r=t.gameId;return v[r]&&(delete(v=y({},v))[r][e],0===Object.values(v[r]).length&&delete v[r]),delete(_=y({},_))[e],!0}function O(e){var t=e.user,r=e.activities;if(null==t||!d.default.isOnFeed(t.id))return!1;var n,a=r[0];if(null==a)return g(t.id);if((0,u.isOnXbox)(a))n=l.XBOX_APPLICATION_ID_PREFIX+a.name;else if((0,u.isListeningOnSpotify)(a)&&null!=a.party&&null!=a.party.id)n=o.SpotifyApplication.id;else if((0,u.isStreaming)(a)&&null!=a.url)n=i.TWITCH_APPLICATION_ID_PREFIX+a.url;else{if(null==a.application_id)return g(t.id);n=a.application_id}var s=_[t.id];s&&s.gameId!==n&&g(t.id);var c=null!=a.timestamps&&a.timestamps.start||Date.now();return function(e,t){var r,n,a;v=y({},v,((n={})[e]=y({},v[e],((r={})[t.userId]=t,r)),n)),_=y({},_,((a={})[t.userId]={gameId:e,startedPlaying:t.startedPlaying},a))}(n,{userId:t.id,activity:a,startedPlaying:c}),!0}function A(){var e=!1;return d.default.hasLoadedSettings&&!h&&(e=function(){v={},_={};var e=!1;return s.default.getUserIds().forEach(function(t){var r=c.default.getUser(t);null!=r&&(e=O({user:r,activities:s.default.getActivities(t)})||e)}),e}()),h=d.default.hasLoadedSettings,e}var I=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,i,l=n.prototype;return l.initialize=function(){this.waitFor(d.default),this.syncWith([d.default],A)},l.getNowPlaying=function(e){return v[e]},l.getUserGame=function(e){return _[e]},a=n,(o=[{key:"games",get:function(){return v}},{key:"usersPlaying",get:function(){return _}},{key:"gameIds",get:function(){return Object.keys(v)}}])&&p(a.prototype,o),i&&p(a,i),n}(n.default.Store))(a.default,{CONNECTION_OPEN:function(e){var t=e.presences;return v={},_={},m(t)},LOGOUT:function(e){return v={},void(_={})},PRESENCE_UPDATE:function(e){return O(e)},PRESENCES_REPLACE:function(e){return m(e.presences)},ACTIVITY_FEED_MEMBER_MANAGEMENT_ADD:function(e){var t=!1;return e.userIds.forEach(function(e){var r=s.default.getActivities(e);if(0!==r.length){var n=c.default.getUser(e);null!=n&&(t=O({user:n,activities:r})||t)}}),t}});t.default=I,e.exports=t.default},6292:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.SpotifyButtonTypes=void 0;var n,a=N(r(2)),o=P(r(17)),i=P(r(3)),l=r(78),u=P(r(77)),s=P(r(825)),d=N(r(477)),c=P(r(7430)),f=P(r(155)),p=P(r(12)),y=P(r(71)),h=P(r(235)),v=P(r(124)),_=P(r(148)),m=P(r(301)),g=P(r(437)),O=P(r(18)),A=P(r(456)),I=r(324),E=r(6676),S=r(0),T=P(r(13)),b=P(r(5747));function P(e){return e&&e.__esModule?e:{default:e}}function N(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function C(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function R(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}var L=3e4,D=f.default.get(S.PlatformTypes.SPOTIFY).name,w={USER_ACTIVITY_PLAY:"user_activity_play",USER_ACTIVITY_SYNC:"user_activity_sync",EMBED_SYNC:"embed_sync"};t.SpotifyButtonTypes=w;var U=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={loading:!1},t.loadingTimeout=new l.Timeout,t._mounted=!1,t.handleClick=function(){var e=t.props,r=e.activity,n=e.hasSpotifyAccount,a=e.type,o=e.user,i=e.source;n?null!=r.sync_id&&(t.setState({loading:!0}),t.loadingTimeout.start(L,t.clearLoading),(0,I.ensureSpotifyPlayable)().then(function(){switch(a){case w.USER_ACTIVITY_PLAY:d.play(r,o.id),O.default.track(S.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:a,source:i,is_premium:(0,I.isSpotifyPremium)(),other_user_id:o.id});break;case w.USER_ACTIVITY_SYNC:case w.EMBED_SYNC:(0,I.ensureSpotifyPremium)().then(function(){return d.sync(t.props.activity,o.id)},function(e){return u.default.push(c.default),Promise.reject(e)}).catch(function(){t.clearLoading(),s.default.close()}),O.default.track(S.AnalyticEvents.SPOTIFY_BUTTON_CLICKED,{type:a,source:i,is_premium:(0,I.isSpotifyPremium)(),party_id:null!=r.party?r.party.id:null,other_user_id:o.id})}}).catch(function(){return t.clearLoading()})):(0,E.authorize)(S.PlatformTypes.SPOTIFY,"Spotify Button")},t.clearLoading=function(){t._mounted&&(t.loadingTimeout.stop(),t.setState({loading:!1}))},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.componentDidMount=function(){this._mounted=!0},i.UNSAFE_componentWillReceiveProps=function(e){(null!=e.currentUserTrackId&&e.currentUserTrackId!==this.props.currentUserTrackId||e.isSyncingWithUser)&&this.state.loading&&this.clearLoading()},i.componentWillUnmount=function(){this.loadingTimeout.stop(),this._mounted=!1},i.renderPlayButton=function(){var e,t=this.props,r=t.activity,n=t.hasSpotifyAccount,o=t.isSpotifyPlayable,i=t.isCurrentUser,l=t.currentUserTrackId,u=R(t,["activity","hasSpotifyAccount","isSpotifyPlayable","isCurrentUser","currentUserTrackId"]),s=this.state.loading;e=n?T.default.Messages.USER_ACTIVITY_PLAY_ON_PLATFORM.format({platform:D}):T.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:D});var d,c=n&&!o,f=l===r.sync_id;return i?d=T.default.Messages.USER_ACTIVITY_CANNOT_PLAY_SELF:f?d=T.default.Messages.USER_ACTIVITY_ALREADY_PLAYING:c&&(d=T.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:D})),C(g.default,{text:d},void 0,a.createElement(v.default,M({},u,{onClick:this.handleClick,disabled:!s&&(i||c||f),submitting:s}),C(_.default,{align:_.default.Align.CENTER},void 0,C(m.default,{name:m.default.Names.PLATFORM_SPOTIFY,className:b.default.spotifyButtonLogo}),e)))},i.renderSyncButton=function(){var e,t=this.props,r=t.className,n=t.hasSpotifyAccount,i=t.isSpotifyPlayable,l=t.isCurrentUser,u=t.isSyncingWithUser,s=t.isSyncingWithParty,d=t.user,c=t.nickname,f=(t.currentUserTrackId,t.size),p=R(t,["className","hasSpotifyAccount","isSpotifyPlayable","isCurrentUser","isSyncingWithUser","isSyncingWithParty","user","nickname","currentUserTrackId","size"]),y=this.state.loading;return n&&i?(e=l?T.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:u||s?T.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:T.default.Messages.USER_ACTIVITY_LISTEN_ALONG_DESCRIPTION.format({name:c||d}),C(g.default,{text:e},void 0,a.createElement(v.default,M({},p,{size:(0,o.default)(f,b.default.iconButtonSize),className:(0,o.default)(r,b.default.iconButton),onClick:this.handleClick,disabled:!y&&(l||u||s),submitting:y}),C(m.default,{name:m.default.Names.PERSON_PLAY,className:b.default.listenAlongIcon})))):null},i.renderJoinButton=function(){var e,t=this.props,r=t.hasSpotifyAccount,n=t.isSpotifyPlayable,o=t.isCurrentUser,i=t.isSyncingWithUser,l=t.isSyncingWithParty,u=R(t,["hasSpotifyAccount","isSpotifyPlayable","isCurrentUser","isSyncingWithUser","isSyncingWithParty"]),s=this.state.loading;e=r?i||l?T.default.Messages.INVITE_EMBED_JOINED:T.default.Messages.JOIN:T.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:D});var d,c=r&&!n,f=o||i||l||c;return o?d=T.default.Messages.USER_ACTIVITY_CANNOT_SYNC_SELF:i||l?d=T.default.Messages.USER_ACTIVITY_ALREADY_SYNCING:c&&(d=T.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:D})),C(g.default,{text:d},void 0,a.createElement(v.default,M({},u,{color:f?v.default.Colors.GREY:v.default.Colors.GREEN,onClick:this.handleClick,disabled:!s&&f,submitting:s}),e))},i.render=function(){switch(this.props.type){case w.USER_ACTIVITY_PLAY:return this.renderPlayButton();case w.USER_ACTIVITY_SYNC:return this.renderSyncButton();case w.EMBED_SYNC:return this.renderJoinButton();default:return null}},n}(a.Component);U.displayName="SpotifyButton";var j=i.default.connectStores([h.default,p.default,y.default],function(e){var t,r=h.default.getTrack(),n=h.default.getSyncingWith(),a=e.activity.party,o=h.default.getActivity();return t=null!=r?r.id:null!=o?o.sync_id:h.default.getLastPlayedTrackId(),{isCurrentUser:e.user.id===p.default.getId(),hasSpotifyAccount:h.default.hasConnectedAccount(),isSpotifyPlayable:(0,I.isSpotifyPlayable)(h.default),isSyncingWithParty:null!=o&&null!=o.party&&null!=a&&a.id===o.party.id,isSyncingWithUser:null!=n&&n.userId===e.user.id,currentUserTrackId:t,nickname:A.default.getNickname(e.guildId,e.channelId,e.user)}})(U);t.default=j},6461:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=p(r(304)),o=(p(r(306)),p(r(439))),i=p(r(3)),l=r(6157),u=p(r(6158)),s=p(r(226)),d=p(r(6012)),c=r(0),f=p(r(13));function p(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"ChannelMuteItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isMuted:s.default.isChannelMuted(this.props.channel.getGuildId(),this.props.channel.id)}},render:function(){return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.MUTE_CHANNEL.format({name:this.props.channel.toString(!0)}),action:this.handleChannelMute,active:this.state.isMuted})},handleChannelMute:function(){var e=this.state.isMuted,t=this.props.channel;u.default.updateChannelOverrideSettings(t.getGuildId(),t.id,{muted:!e}),t.type===c.ChannelTypes.GUILD_CATEGORY&&(e?(0,l.categoryExpand)(t.id):(0,l.categoryCollapse)(t.id))}});t.default=y,e.exports=t.default},6462:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r=function(r){var l,s;function d(t){var n;n=r.call(this,t)||this;var o=e(t);return a.default.forEach(o,function(e,t){return(0,i.subscribeMembers)(t,e)}),n._subscriptions=o,n}s=r,(l=d).prototype=Object.create(s.prototype),l.prototype.constructor=l,l.__proto__=s;var c=d.prototype;return c.componentDidUpdate=function(t){if(!(0,o.default)(this.props,t)){var r=e(this.props);null!=this._subscriptions&&a.default.isEqual(this._subscriptions,r)||(null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)}),a.default.forEach(r,function(e,t){return(0,i.subscribeMembers)(t,e)}),this._subscriptions=r)}},c.componentWillUnmount=function(){null!=this._subscriptions&&a.default.forEach(this._subscriptions,function(e,t){return(0,i.unsubscribeMembers)(t,e)})},c.render=function(){var e=this.props,r=e.forwardedRef,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["forwardedRef"]);return n.createElement(t,u({ref:r},a))},d}(n.Component);return r.displayName="WrappedComponent",r.displayName="SubscribeGuildMembersContainer("+function(e){return e.displayName||e.name||"Component"}(t)+")",n.forwardRef(function(e,t){return n.createElement(r,u({},e,{forwardedRef:t}))})}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=l(r(6)),o=l(r(320)),i=r(7118);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}e.exports=t.default},6465:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(17)),i=p(r(6288)),l=p(r(301)),u=p(r(6287)),s=p(r(437)),d=r(0),c=p(r(13)),f=p(r(5714));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var d=n.prototype;return d.renderOwner=function(){var e=this.props,t=e.ownerIconClass,r=e.ownerTooltipText,n=void 0===r?null:r,a=e.ownerIconColor;return h(s.default,{text:n},void 0,h(l.default,{name:l.default.Names.CROWN,className:(0,o.default)(f.default.ownerIcon,t),color:a}))},d.render=function(){var e,t=this.props,r=t.user,n=t.nick,l=t.hideDiscriminator,s=t.invertBotTagColor,d=t.className,c=t.usernameClass,p=t.discriminatorClass,v=t.botClass,_=t.isOwner,m=(t.ownerIconClass,t.ownerTooltipText,t.ownerIconColor,t.showMobileIndicator),g=t.mobileIndicatorClassName,O=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["user","nick","hideDiscriminator","invertBotTagColor","className","usernameClass","discriminatorClass","botClass","isOwner","ownerIconClass","ownerTooltipText","ownerIconColor","showMobileIndicator","mobileIndicatorClassName"]),A=null!=n?n:r.toString();return a.createElement("div",y({className:(0,o.default)(d,f.default.nameTag)},O),h("span",{className:c},void 0,A),l?null:h("span",{className:(0,o.default)(p,(e={},e[f.default.discriminatorWithMobileIndicator]=m,e))},void 0,"#",r.discriminator),m?h(u.default,{className:g}):null,_?this.renderOwner():null,r.bot?h(i.default,{invertColor:s,className:(0,o.default)(v,f.default.bot)}):null)},n}(a.PureComponent);v.displayName="NameTag",v.defaultProps={usernameClass:f.default.username,discriminatorClass:f.default.discriminator,ownerTooltipText:c.default.Messages.GUILD_OWNER,ownerIconColor:d.Colors.STATUS_YELLOW};var _=v;t.default=_,e.exports=t.default},6466:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.MemberListRowTypes=void 0;var n=g(r(153)),a=g(r(6)),o=g(r(492)),i=g(r(3)),l=g(r(1)),u=g(r(87)),s=g(r(12)),d=g(r(20)),c=g(r(472)),f=g(r(71)),p=g(r(28)),y=g(r(129)),h=g(r(319)),v=g(r(14)),_=r(0),m=g(r(13));function g(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var A="everyone",I=(0,n.default)({GROUP:null,MEMBER:null});function E(e,t,r,n){switch(t){case _.StatusTypes.ONLINE:case _.StatusTypes.OFFLINE:case _.StatusTypes.UNKNOWN:return{type:I.GROUP,key:t,id:t,get title(){switch(t){case _.StatusTypes.ONLINE:return m.default.Messages.STATUS_ONLINE;case _.StatusTypes.OFFLINE:return m.default.Messages.STATUS_OFFLINE;default:return m.default.Messages.STATUS_UNKNOWN}},count:r,index:n};default:var a=p.default.getGuild(e),o=null!=a?a.getRole(t):null;return{type:I.GROUP,key:t,id:t,title:null!=o?o.name:"",count:r,index:n}}}function S(e,t,r){var n=r===s.default.getId(),a=n?h.default.getStatus():y.default.getStatus(r,e),o=n?h.default.getPrimaryActivity():y.default.getPrimaryActivity(r,e),i=v.default.getUser(r);return null==i?null:O({type:I.MEMBER},f.default.getMember(e,r),{user:i,status:a,activity:o,isOwner:t===r})}function T(e){var t=d.default.getChannel(e);return null==t?A:null==t.memberListId?function(e){if(u.default.canEveryone(_.Permissions.VIEW_CHANNEL,e))return A;return o.default.v3((0,a.default)(e.permissionOverwrites).reduce(function(e,t){var r=t.id,n=t.allow,a=t.deny;return(n&_.Permissions.VIEW_CHANNEL)>0?e.push("allow:"+r):(a&_.Permissions.VIEW_CHANNEL)>0&&e.push("deny:"+r),e},[]).sort().join(",")).toString()}(t):t.memberListId}t.MemberListRowTypes=I;var b=function(){function e(e,t){this.rows=[],this.groups=[],this.members={},this.version=0,this.guildId=e,this.listId=t,this.updateOwnerId()}var t=e.prototype;return t.updateOwnerId=function(){var e=p.default.getGuild(this.guildId);if(null==e)return!1;var t=a.default.some(e.roles,function(e){return e.hoist&&(e.permissions&_.Permissions.ADMINISTRATOR)===_.Permissions.ADMINISTRATOR})?null:e.ownerId;return this.ownerId!==t&&(this.ownerId=t,!0)},t.setGroups=function(e){var t=this,r=0;this.groups=e.map(function(e){var n=r;return r+=e.count+1,E(t.guildId,e.id,e.count,n)}),this.rows.length=r},t.sync=function(e,t){var r=this,n=e[0];t.forEach(function(e,t){return r.update(n+t,e)})},t.invalidate=function(e){for(var t=e[0],r=e[1],n=t;n<=r;n++){var a=this.rows[n];if(null==a)break;delete this.rows[n],a.type===I.MEMBER&&delete this.members[a.user.id]}this.version++},t.insert=function(e,t){var r=t.group,n=t.member;if(null!=r)this.rows.splice(e,0,E(this.guildId,r.id,r.count));else if(null!=n){var a=S(this.guildId,this.ownerId,n.user.id);if(null==a)return;this.rows.splice(e,0,a),this.members[n.user.id]=a}this.version++},t.update=function(e,t){var r=t.group,n=t.member,a=this.rows[e];if(null!=a&&a.type===I.MEMBER&&delete this.members[a.user.id],null!=r)this.rows[e]=E(this.guildId,r.id,r.count);else if(null!=n){var o=S(this.guildId,this.ownerId,n.user.id);if(null==o)return;this.rows[e]=o,this.members[n.user.id]=o}this.version++},t.delete=function(e){var t=this.rows[e];null!=t&&(t.type===I.MEMBER&&delete this.members[t.user.id],this.rows.splice(e,1),this.version++)},t.rebuildMember=function(e){var t=this.members[e];null!=t&&(Object.assign(t,S(this.guildId,this.ownerId,e)),this.version++)},t.rebuildMembers=function(){var e=this;a.default.forEach(this.members,function(t,r){e.rebuildMember(r)})},e}(),P=new(function(){function e(){this._guildLists={}}var t=e.prototype;return t.get=function(e,t){var r=this._guildLists[e];null==r&&(r=this._guildLists[e]={});var n=r[t];return null==n&&((n=new b(e,t)).setGroups([{id:_.StatusTypes.UNKNOWN,count:c.default.getMemberCount(e)||0}]),r[t]=n),n},t.forEach=function(e,t){if(null==e)a.default.forEach(this._guildLists,function(e){a.default.forEach(e,t)});else{var r=this._guildLists[e];null!=r&&a.default.forEach(r,t)}},t.delete=function(e){delete this._guildLists[e]},t.reset=function(){this._guildLists={}},e}());function N(){P.reset()}function M(e){var t=e.guildId,r=e.user;P.forEach(t,function(e){return e.rebuildMember(r.id)})}function C(){var e=s.default.getId();P.forEach(null,function(t){return t.rebuildMember(e)})}var R=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.initialize=function(){this.waitFor(v.default,p.default,d.default,f.default,y.default,h.default,s.default,c.default),this.syncWith([h.default],C)},a.getProps=function(e,t){var r=P.get(e,T(t));return{listId:r.guildId+":"+r.listId,groups:r.groups,rows:r.rows,version:r.version}},n}(i.default.Store))(l.default,{CONNECTION_OPEN:function(e){return N()},OVERLAY_INITIALIZE:function(e){return N()},GUILD_MEMBER_LIST_UPDATE:function(e){var t=P.get(e.guildId,e.id);e.ops.forEach(function(e){var r=e.op,n=e.index,a=e.item,o=e.range,i=e.items;switch(r){case"SYNC":t.sync(o,i);break;case"INVALIDATE":t.invalidate(o);break;case"INSERT":t.insert(n,a);break;case"UPDATE":t.update(n,a);break;case"DELETE":t.delete(n)}}),t.setGroups(e.groups)},GUILD_UPDATE:function(e){var t=e.guild;P.forEach(t.id,function(e){e.updateOwnerId()&&e.rebuildMembers()})},GUILD_DELETE:function(e){var t=e.guild;P.delete(t.id)},GUILD_ROLE_UPDATE:function(e){var t=e.guildId;P.forEach(t,function(e){return e.rebuildMembers()})},GUILD_MEMBER_UPDATE:M,PRESENCE_UPDATE:M,CHANNEL_UPDATE:function(e){return!0}});t.default=R},6467:function(e,t,r){"use strict";t.__esModule=!0,t.fetchSettings=function(e){void 0===e&&(e={});var t={};!0===e.includeAutosubscribedGames&&(t.include_autosubscribed_games=!0);n.default.get({url:l.Endpoints.USER_FEED_SETTINGS,query:t}).then(function(e){a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_FETCH_SUCCESS,settings:s({autosubscribed_games:[]},e.body)})})},t.dismissPersonalizationNotice=function(){a.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_PERSONALIZATION_NOTICE})},t.dismissNoGamesNotice=function(){a.default.dispatch({type:l.ActionTypes.ACTIVITY_FEED_DISMISS_NO_GAMES_NOTICE})},t.fetchUnknownUnsubscribedUsers=function(){var e=o.default.unsubscribedUserIds,t=Array.from(e).filter(function(e){return null==i.default.getUser(e)});if(0===t.length)return void a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:[]});var r={user_ids:t};n.default.get({url:l.Endpoints.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS,query:r}).then(function(e){a.default.dispatch({type:l.ActionTypes.USER_FEED_SETTINGS_UNSUBSCRIBED_USERS_SUCCESS,unsubscribedUsers:e.body.unsubscribed_users})})};var n=u(r(8)),a=u(r(1)),o=u(r(455)),i=u(r(14)),l=r(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}},6469:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.ArrowDirections=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=s(r(17)),l=s(r(921)),u=s(r(5732));function s(e){return e&&e.__esModule?e:{default:e}}var d={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"};t.ArrowDirections=d;var c=((n={})[d.UP]=u.default.up,n[d.RIGHT]=u.default.right,n[d.DOWN]=u.default.down,n[d.LEFT]=u.default.left,n),f=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e,t=this.props,r=t.direction,n=t.onClick,o=t.className;return function(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{className:(0,i.default)(u.default.arrow,o,(e={},e[c[r]]=!0,e)),onClick:n})},n}(o.PureComponent);f.displayName="Arrow",f.Directions=d;var p=f;t.default=p},6470:function(e,t,r){"use strict";t.__esModule=!0,t.getApplicationTrailer=function(e){return a+"/"+e+"/trailer.mp4"},t.getApplicationBackground=function(e){return a+"/"+e+"/hero-background.jpg"},t.getStoreListingLink=function(e){var t;t=location.protocol+"//"+location.host;return""+t+n.Routes.APPLICATION_STORE_LISTING_SKU(e.id,e.slug)};var n=r(0),a="https://cdn.discordapp.com/store-directory-assets/applications"},6672:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(8)),a=l(r(1)),o=l(r(12)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={open:function(e,t){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_OPEN,guildId:e,userId:t})},close:function(){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_CLOSE})},changeNickname:function(e,t,r){var l,u=this;a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT}),l=o.default.getId()===t?i.Endpoints.GUILD_MEMBERS(e)+"/"+i.ME+"/nick":i.Endpoints.GUILD_MEMBERS(e)+"/"+t,n.default.patch({url:l,body:{nick:r}}).then(function(){return u.close()},function(e){a.default.dispatch({type:i.ActionTypes.CHANGE_NICKNAME_MODAL_SUBMIT_FAILURE,errors:e.body||{}})})}};t.default=u,e.exports=t.default},6673:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=i(r(17)),o=i(r(899));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s,d=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-transform","width","padding-left","padding-right","border-width","box-sizing"],c=function(e){var t,r;function i(t){var r;return(r=e.call(this,t)||this).handleSetRef=function(e){r._textArea=e},r.handleChange=function(e){var t=r.props.onChange;t&&t(e),r.calculateSize()},r.state={height:"auto"},r}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var c,f,p,y=i.prototype;return y.componentDidMount=function(){this.calculateSize()},y.componentDidUpdate=function(e,t){if(this.state.height!==t.height){var r=this.props.onResize;r&&r(this.state.height)}e.value!==this.props.value&&this.calculateSize()},y.calculateSize=function(){var e=this._textArea;if(null!=e){var t=e.value;if(null!=this.props.fontWidthEstimate&&-1===t.indexOf("\n")&&t.length*this.props.fontWidthEstimate<.8*e.offsetWidth)this.setState({height:"auto"});else{null==s&&null!=document.body&&(s=document.createElement("textarea"),document.body.appendChild(s));var r=this.calculateNodeStyling(e),n=r.paddingSize,a=r.borderSize,o=r.boxSizing,i=r.sizingStyle;s.setAttribute("style",i+";\n  height:0;\n  visibility:hidden;\n  overflow:hidden;\n  position:absolute;\n  z-index:-1000;\n  top:0;\n  right:0;\n"),s.value=t;var l=s.scrollHeight;"border-box"===o?l+=a:"content-box"===o&&(l-=n),this.setState({height:l})}}},y.calculateNodeStyling=function(e){var t=window.getComputedStyle(e),r=t.getPropertyValue("box-sizing")||t.getPropertyValue("-moz-box-sizing")||t.getPropertyValue("-webkit-box-sizing"),n=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),a=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{sizingStyle:d.map(function(e){return e+":"+t.getPropertyValue(e)}).join(";"),paddingSize:n,borderSize:a,boxSizing:r}},y.clear=function(){null!=this._textArea&&(this._textArea.value=""),this.calculateSize()},y.blur=function(){this._textArea&&this._textArea.blur()},y.focus=function(){this._textArea&&this._textArea.focus()},y.setSelection=function(e,t){null!=this._textArea&&(this._textArea.selectionStart=e,this._textArea.selectionEnd=t)},y.render=function(){var e=this.props,t=e.style,r=e.className,i=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["style","className"]);delete i.fontWidthEstimate,delete i.onResize;var u=l({},this.state,t);return n.createElement("textarea",l({},i,{className:(0,a.default)(r,o.default.scrollbarGhostHairline),ref:this.handleSetRef,style:u,onChange:this.handleChange}))},c=i,(f=[{key:"selectionStart",get:function(){return this._textArea&&this._textArea.selectionStart||0}},{key:"selectionEnd",get:function(){return this._textArea&&this._textArea.selectionEnd||0}},{key:"value",get:function(){return this._textArea&&this._textArea.value||""}}])&&u(c.prototype,f),p&&u(c,p),i}(n.PureComponent);c.displayName="TextAreaAutosize";var f=c;t.default=f,e.exports=t.default},6674:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=g(r(3)),i=r(476),l=g(r(5360)),u=g(r(20)),s=g(r(41)),d=g(r(28)),c=g(r(149)),f=g(r(130)),p=g(r(7131)),y=r(178),h=g(r(6759)),v=g(r(7140)),_=r(0),m=g(r(5488));function g(e){return e&&e.__esModule?e:{default:e}}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function A(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).renderGameOpener=function(e,r,n){var a=t.props,o=a.source,i=a.onOpenGameProfile;return A(h.default,{game:r,source:o,interactiveClassName:n,onOpen:i},void 0,e)},t.renderActions=function(){var e=t.props,r=e.type,n=e.source,a=e.activity,o=e.applicationStreamData,i=e.user,l=e.guildId,u=e.channelId,s=e.onOpenConnections;return A(v.default,{className:(0,y.getClass)(m.default,"actions",r),type:r,source:n,activity:a,applicationStreamData:o,user:i,guildId:l,channelId:u,onOpenConnections:s,showBuyDiscordGame:null==o})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.render=function(){var e=this.props.showActions;return a.createElement(p.default,O({},this.props,{renderActions:e?this.renderActions:null,renderGameOpener:this.renderGameOpener,onOpenSpotifyTrack:this.handleOpenSpotifyTrack,onOpenSpotifyArtist:this.handleOpenSpotifyArtist,onOpenSpotifyAlbum:this.handleOpenSpotifyAlbum}))},o.handleOpenSpotifyTrack=function(e){(0,i.openTrack)(e)},o.handleOpenSpotifyArtist=function(e,t,r){(0,i.openArtist)(e,t,r)},o.handleOpenSpotifyAlbum=function(e,t){(0,i.openAlbum)(e,t)},n}(a.PureComponent);I.displayName="UserActivityContainer",I.defaultProps={showActions:!0};var E=o.default.connectStores([s.default,c.default,f.default,l.default],function(e){var t=e.activity,r=e.user,n=l.default.getStreamForUser(r.id),a=null;if(null!=n){var o=n.channelId,i=n.guildId,f=u.default.getChannel(o);if(null!=f)!c.default.can(_.Permissions.CONNECT,f)||(a={channel:u.default.getChannel(o),guild:d.default.getGuild(i)})}return{game:s.default.getGameByName(t.name),applicationStreamData:a}})(I);E.Types=p.default.Types;var S=E;t.default=S,e.exports=t.default},6675:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=(n=r(305))&&n.__esModule?n:{default:n};function l(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function u(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var s=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props,r=e.onClick,n=e.index;r&&r(n)},t}return u(t,e),t.prototype.render=function(){var e=this.props,t=e.text,r=e.lastItem,n=e.className;return l("span",{},void 0,l(i.default,{className:n,onClick:this.handleClick},void 0,t),r?"":", ")},t}(o.PureComponent);s.displayName="SpotifyArtistLink";var d=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleOpenSpotifyArtist=function(e){var r=t.props.onOpenSpotifyArtist;r&&r(e)},t}return u(t,e),t.prototype.render=function(){var e=this,t=this.props.artists.split(";");if(!this.props.canOpen)return t.join(", ");var r=t.length-1;return t.map(function(t,n){return l(s,{text:t,index:n,lastItem:n===r,onClick:e.handleOpenSpotifyArtist,className:e.props.linkClassName},"spotify-artist-"+n)})},t}(o.PureComponent);t.default=d,d.displayName="SpotifyArtists",e.exports=t.default},6676:function(e,t,r){"use strict";t.__esModule=!0,t.authorize=g,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=_(r(17)),o=_(r(304)),i=(_(r(306)),_(r(439))),l=_(r(3)),u=_(r(333)),s=_(r(6677)),d=_(r(155)),c=_(r(6211)),f=_(r(438)),p=_(r(18)),y=_(r(9)),h=r(0),v=_(r(5746));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e,t){var r,n=Math.round(screen.width/2-350),a=screen.height>640?Math.round(screen.height/2-320):0;y.default.isDesktop()||(r=window.open(location.protocol+"//"+location.host+h.Routes.CONNECTIONS(e)+"?loading=true","authorize","scrollbars=yes,resizable=yes,toolbar=no,location=yes,top="+a+",left="+n+",width=700,height=640")),u.default.authorize(e,t).then(function(e){var t=e.body.url;null!=t&&(null!=r?r.location.href=t:window.open(t))})}var O=(0,o.default)({displayName:"ConnectAccountButton",mixins:[i.default,l.default.LazyStoreListenerMixin(c.default)],getDefaultProps:function(){return{disabled:!1}},getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{isDetecting:c.default.isDetecting(this.props.type)}},handleConnect:function(e){var t=d.default.get(e);t.serverSync?g(t.type,"Friends List"):s.default.detectAccounts([t.type],this.props.location),p.default.track(h.AnalyticEvents.ACCOUNT_LINK_STEP,{previous_step:"desktop connections",current_step:"desktop oauth",platform_type:t.type})},render:function(){var e,t=this,r=this.state.isDetecting,n=this.props,o=n.className,i=n.innerClassName,l=d.default.get(this.props.type);return r&&(e=m(f.default,{type:f.default.Type.PULSING_ELLIPSIS,className:v.default.ellipsis,itemClassName:v.default.spinnerItem})),m("div",{className:(0,a.default)(v.default.wrapper,o)},void 0,m("button",{className:(0,a.default)(v.default.inner,i),type:"button",disabled:this.props.disabled||r,style:{backgroundImage:"url('"+l.icon.color+"')"},onClick:function(){return t.handleConnect(t.props.type)}}),e)}});t.default=O},6677:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(7141),i=r(0);var l={detectAccounts:function(e,t){return a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTING,platformTypes:e,location:t}),(0,o.fetchAccounts)(e).then(function(r){return a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_DETECTED,platformTypes:e,accounts:r,location:t}),r})},ignore:function(e){a.default.dispatch({type:i.ActionTypes.PLATFORM_ACCOUNTS_IGNORE,platformTypes:e})},changeDisplayType:function(e){a.default.dispatch({type:i.ActionTypes.DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE,displayType:e})}};t.default=l,e.exports=t.default},6678:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(1)),a=l(r(18)),o=r(177),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var s={selectParticipant:function(e,t){n.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_SELECT_PARTICIPANT,channelId:e,userId:t})},updateLayout:function(e,t){a.default.track(i.AnalyticEvents.VIDEO_LAYOUT_TOGGLED,u({video_layout:t},(0,o.collectVoiceAnalyticsMetadata)(e))),n.default.dispatch({type:i.ActionTypes.CHANNEL_RTC_UPDATE_LAYOUT,channelId:e,layout:t})}};t.default=s,e.exports=t.default},6755:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(3)),i=h(r(6672)),l=r(302),u=h(r(6462)),s=h(r(12)),d=h(r(28)),c=h(r(149)),f=h(r(5991)),p=r(0),y=h(r(13));function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t,r;function a(t){var r;return(r=e.call(this,t)||this).handleOpenChangeNickname=function(){(0,l.closeContextMenu)(),i.default.open(r.props.guildId,r.props.userId)},r.state={guild:d.default.getGuild(t.guildId),currentUserId:s.default.getId()},r}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.render=function(){var e=this.props.userId,t=this.state.guild;return this.canChangeNickname()||null!=t&&c.default.canManageUser(p.Permissions.MANAGE_NICKNAMES,e,t)?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(f.default,{label:y.default.Messages.CHANGE_NICKNAME,action:this.handleOpenChangeNickname}):null},o.canChangeNickname=function(){var e=this.props.userId,t=this.state,r=t.currentUserId,n=t.guild;return r===e&&null!=n&&(c.default.can(p.Permissions.CHANGE_NICKNAME,n)||c.default.can(p.Permissions.MANAGE_NICKNAMES,n))},a}(a.PureComponent);v.displayName="UserChangeNicknameItem";var _=o.default.connectStores([c.default],function(e){var t=e.guildId;return{permissionVersion:c.default.getGuildVersion(t)}})(v),m=(0,u.default)(function(e){var t,r=e.guildId,n=e.userId;return(t={})[r]=[n],t})(_);t.default=m,e.exports=t.default},6757:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),l=T(r(17)),u=T(r(6)),s=T(r(96)),d=r(229),c=T(r(3)),f=T(r(6e3)),p=T(r(6011)),y=T(r(71)),h=T(r(149)),v=T(r(14)),_=T(r(148)),m=T(r(301)),g=T(r(821)),O=T(r(87)),A=T(r(7130)),I=r(0),E=T(r(13)),S=T(r(5712));function T(e){return e&&e.__esModule?e:{default:e}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function N(e,t,r,n){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var l in a)void 0===t[l]&&(t[l]=a[l]);else t||(t=a||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:o,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var C=30,R=4,L=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handlerFilterResults=function(e){var r=t.props,n=r.guild,a=r.userId,o=v.default.getCurrentUser(),i=O.default.getHighestRole(n,o.id),l=(0,u.default)(n.roles).filter(function(e){return e.id!==n.id}).filter(function(e){return!e.managed}).filter(function(e){return O.default.isRoleHigher(n,o.id,i,e)}).filter(function(t){return e(t.name.toLowerCase())}),s=y.default.getMember(n.id,a);return s&&(l=l.filter(function(e){return-1===s.roles.indexOf(e.id)})),l.value()},t.renderRole=function(e){var t;return e.colorString&&(t={color:e.colorString}),N("span",{style:t},void 0,e.name)},t}return M(t,e),t.prototype.render=function(){var e=this.props,t=e.onSelect,r=e.onClose,n=e.position;return N(A.default,{label:E.default.Messages.ADD_ROLE_LABEL,placeholder:E.default.Messages.ADD_ROLE_PLACEHOLDER,onRenderResult:this.renderRole,onFilterResults:this.handlerFilterResults,onSelect:t,onClose:r,position:n})},t}(i.Component);L.displayName="AddRolesPopout";var D=function(e){function t(){return e.apply(this,arguments)||this}return M(t,e),t.prototype.render=function(){var e=this.props,t=e.userRoles,r=P(e,["userRoles"]);return N("div",{className:S.default.overflowRolesPopout},void 0,N("div",{className:S.default.overflowRolesPopoutArrowWrapper},void 0,N("div",{className:S.default.overflowRolesPopoutArrow})),N(_.default,{className:S.default.overflowRolesPopoutHeader,align:_.default.Align.CENTER},void 0,N(m.default,{name:m.default.Names.FLAG,color:I.Colors.PRIMARY_DARK_400,className:S.default.overflowRolesPopoutHeaderIcon}),N("div",{className:S.default.overflowRolesPopoutHeaderText},void 0,E.default.Messages.ROLES_LIST.format({numRoles:t.length}))),i.createElement(U,b({},r,{userRoles:t})))},t}(i.PureComponent);D.displayName="OverflowRolesPopout";var w=function(e){function t(){return e.apply(this,arguments)||this}return M(t,e),t.prototype.render=function(){var e,t=this.props,r=t.role,n=t.canRemove,a=t.onRemove,o=I.Colors.PRIMARY_DARK_300;if(null!=r.colorString&&(o=r.colorString),n){var i=I.Colors.WHITE,l=(0,d.hex2int)(o);null!=l&&(0,d.getDarkness)(l)<.3&&(i=I.Colors.PRIMARY_DARK_630),e=N("button",{onClick:a,className:S.default.roleCircleButton,style:{backgroundColor:o}},void 0,N(m.default,{name:m.default.Names.CLOSE,color:i,className:S.default.roleRemoveIcon}))}else e=N("div",{className:S.default.roleCircle,style:{backgroundColor:o}});return N("li",{className:S.default.role,style:{borderColor:(0,d.hex2rgb)(o,.6)}},void 0,e,N("div",{className:S.default.roleName},void 0,r.name))},t}(i.Component);w.displayName="MemberRole";var U=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={numPillsToShow:null},t._pillRefs={},t.setPillRef=function(e,r){null!=r?t._pillRefs[e]=r:delete t._pillRefs[e]},t.handleRemoveRole=function(e){var r=t.props.userRoles.filter(function(t){return t!==e.id});f.default.updateMemberRoles(t.props.guild.id,t.props.user.id,r)},t.renderOverflowRolesPopout=function(e){var r=t.props,n=(r.wrap,P(r,["wrap"]));return i.createElement(D,b({},e,n))},t.renderAddRolesPopout=function(e){return i.createElement(L,b({},e,{guild:t.props.guild,userId:t.props.user.id,onSelect:t.handleAddRole}))},t.handleAddRole=function(e){if(null!=e){var r=t.props.userRoles;-1===r.indexOf(e.id)&&(r=r.concat([e.id])),f.default.updateMemberRoles(t.props.guild.id,t.props.user.id,r)}},t.filterPillsToFit=function(){var e=t.props,r=e.wrap,n=e.width;if(!r){var a=t.getRolesToRender(),o=0,i=0;if("number"!=typeof n)throw new Error("Unexpected null width");for(var l=n-C-R,u=0;u<a.length;u++){var d=a[u];if(null!=t._pillRefs[d.id]){var c=s.default.findDOMNode(t._pillRefs[d.id]);if(c instanceof HTMLElement){if((i+=c.offsetWidth+R)>l)break;o++}}}var f=null;o<a.length&&(f=o),t.state.numPillsToShow!==f&&t.setState({numPillsToShow:f})}},t}M(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.wrap||this.filterPillsToFit()},r.componentDidUpdate=function(e){var t=this,r=this.props,n=r.wrap,a=r.width,o=r.userRoles;n||a===e.width&&o===e.userRoles||this.setState({numPillsToShow:null},function(){return t.filterPillsToFit()})},r.getRolesToRender=function(){var e=this.props,t=e.guild,r=e.userRoles;return u.default.values(t.roles).filter(function(e){return r.includes(e.id)})},r.render=function(){var e=this,t=v.default.getCurrentUser(),r=this.props,n=r.guild,a=r.popoutKey,o=r.className,u=this.state.numPillsToShow,s=h.default.can(I.Permissions.MANAGE_ROLES,n),d=O.default.getHighestRole(n,t.id),c=this.getRolesToRender(),f=0;null!=u&&(f=c.length-u,c=c.slice(0,u));var p,y,_=c.map(function(r){return i.createElement(w,{role:r,canRemove:s&&O.default.isRoleHigher(n,t.id,d,r),onRemove:function(){return e.handleRemoveRole(r)},ref:function(t){return e.setPillRef(r.id,t)},key:r.id})});return 0!==f?p=N(g.default,{render:this.renderOverflowRolesPopout,zIndexBoost:5,position:g.default.Positions.TOP,shadow:!1,dependsOn:a},void 0,N("button",{className:S.default.overflowButton},void 0,"+"+f)):s&&(y=N(g.default,{render:this.renderAddRolesPopout,zIndexBoost:5,position:g.default.Positions.BOTTOM,shadow:!1,dependsOn:a},void 0,N("button",{className:S.default.addButton},void 0,N(m.default,{name:m.default.Names.PLUS,className:S.default.addButtonIcon})))),N("ul",{className:(0,l.default)(S.default.root,o)},void 0,_,p,y)},t}(i.PureComponent);U.displayName="MemberRolesList",U.defaultProps={wrap:!0};var j=(0,p.default)(U),G=c.default.connectStores([h.default],function(){var e=h.default.getState();return{permissionGuilds:e.guilds,permisisonChannels:e.channels}})((a=n=function(e){function t(){return e.apply(this,arguments)||this}M(t,e);var r=t.prototype;return r.UNSAFE_componentWillReceiveProps=function(e){0},r.render=function(){return!1===this.props.wrap?i.createElement(j,this.props):i.createElement(U,this.props)},t}(i.Component),n.defaultProps=U.defaultProps,a));t.default=G,e.exports=t.default},6758:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=v(r(17)),i=v(r(304)),l=(v(r(306)),v(r(439))),u=v(r(96)),s=v(r(3)),d=v(r(7397)),c=v(r(5380)),f=v(r(307)),p=v(r(6673)),y=v(r(13)),h=v(r(5715));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,i.default)({displayName:"Note",mixins:[s.default.StoreListenerMixin(c.default,f.default),l.default],getDefaultProps:function(){return{autoFocus:!1}},getStateFromStores:function(){return{note:c.default.getNote(this.props.userId),hideNote:f.default.hidePersonalInformation}},handleBlur:function(e){var t=e.currentTarget.value;this.state.note!==t&&d.default.updateNote(this.props.userId,t)},handleKeyPress:function(e){13===e.which&&(e.shiftKey?(e.currentTarget.value.match(/\n/g)||[]).length>=5&&e.preventDefault():(e.preventDefault(),e.currentTarget.blur()))},componentDidMount:function(){if(this.props.autoFocus&&!this.state.hideNote){var e=u.default.findDOMNode(this.refs.NOTE_REF);null!=e&&null!=e.selectionStart&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)}},render:function(){var e=this.state,t=e.note;return e.hideNote?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}("div",{className:(0,o.default)(h.default.note,this.props.className)},void 0,a.createElement(p.default,{ref:"NOTE_REF",placeholder:y.default.Messages.NOTE_PLACEHOLDER,onBlur:this.handleBlur,onKeyPress:this.handleKeyPress,defaultValue:t,maxLength:256}))}});t.default=_,e.exports=t.default},6759:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=d(r(2)),a=s(r(17)),o=s(r(77)),i=s(r(5993)),l=(s(r(110)),d(r(6107))),u=s(r(6289));function s(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var c=function(e){var t,r;function i(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(e){var r=t.props,n=r.children,a=r.source,i=r.game,s=r.onOpen,d=r.analyticsContext,c=n.props.onClick;null!=i&&(e.preventDefault(),e.stopPropagation(),o.default.push(u.default,{game:i,source:a,analyticsContext:d,isModal:!0}),s&&s(),l.trackGameModalOpened(i,a,d.location)),c&&c(e)},t}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i.prototype.render=function(){var e=this.props,t=e.children,r=e.interactiveClassName;return null==e.game?t:n.cloneElement(t,{onClick:this.handleClick,className:(0,a.default)(t.props.className,r)})},i}(n.PureComponent);c.displayName="GameModalOpener";var f=(0,i.default)(c);t.default=f,e.exports=t.default},6760:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.TWITCH_APPLICATION_ID_PREFIX=void 0;var n=i(r(155)),a=i(r(110)),o=i(r(13));function i(e){return e&&e.__esModule?e:{default:e}}t.TWITCH_APPLICATION_ID_PREFIX="twitch:";var l=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=a.prototype;return i.initialize=function(t){e.prototype.initialize.call(this,t),this.id="twitch:"+t.url,this.name=o.default.Messages.GAME_FEED_ACTIVITY_STREAMING_TWITCH},i.getIconURL=function(){return n.default.get("twitch").icon.svg},a}(a.default);t.default=l},6761:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.XBOX_APPLICATION_ID_PREFIX=void 0;var n=o(r(155)),a=o(r(110));function o(e){return e&&e.__esModule?e:{default:e}}t.XBOX_APPLICATION_ID_PREFIX="xbox:";var i=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.initialize=function(t){e.prototype.initialize.call(this,t),this.id="xbox:"+t.name,this.name=t.name},o.getIconURL=function(){return n.default.get("xbox").icon.svg},a}(a.default);t.default=i},6762:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o,i=v(r(3)),l=v(r(1)),u=h(r(7135)),s=v(r(86)),d=v(r(64)),c=h(r(928)),f=r(111),p=v(r(9)),y=r(0);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var _=new(function(e){var t,r;function i(){return e.apply(this,arguments)||this}r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var l=i.prototype;return l.initialize=function(){p.default.embedded&&c.init(),n={},a=new Set,o=[]},l.getState=function(e,t){var r=(0,f.getComboId)(e,t);return n[r]},l.isSyncing=function(e,t){var r=(0,f.getComboId)(e,t);return a.has(r)},i}(i.default.Store))(l.default,{GAME_CLOUD_SYNC_START:function(e){var t=e.applicationId,r=e.branchId,n=(0,f.getComboId)(t,r);a.add(n)},GAME_CLOUD_SYNC_UPDATE:function(e){for(var t=e.state,r=0,a=Object.keys(t);r<a.length;r++){var o=a[r];n[o]=t[o]}},GAME_CLOUD_SYNC_COMPLETE:function(e){var t=e.applicationId,r=e.branchId,o=(0,f.getComboId)(t,r);return a.delete(o),n[o]={type:y.CloudSyncStateTypes.DONE,timestamp:Date.now()},!0},GAME_CLOUD_SYNC_CONFLICT:function(e){var t=e.applicationId,r=e.branchId,o=e.next,i=e.remote,l=(0,f.getComboId)(t,r);n[l]={type:y.CloudSyncStateTypes.CONFLICT,next:o,remote:i},a.delete(l)},GAME_CLOUD_SYNC_ERROR:function(e){var t=e.applicationId,r=e.branchId,o=(0,f.getComboId)(t,r);n[o]={type:y.CloudSyncStateTypes.ERROR},a.delete(o)},RUNNING_GAMES_CHANGE:function(e){return function(){var e=d.default.getRunningDiscordApplicationIds(),t=function(){if(n){if(a>=r.length)return"break";i=r[a++]}else{if((a=r.next()).done)return"break";i=a.value}var e=i,t=s.default.getActiveLibraryApplication(e);if(null==t)return"continue";l.default.wait(function(){try{u.sync(t.id,t.branchId)}catch(e){}})},r=o.filter(function(t){return!e.includes(t)}),n=Array.isArray(r),a=0;e:for(r=n?r:r[Symbol.iterator]();;){var i;switch(t()){case"break":break e;case"continue":continue}}return o=e,!1}()}});t.default=_,e.exports=t.default},6764:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=y(r(3)),i=r(7136),l=y(r(329)),u=y(r(6109)),s=y(r(107)),d=r(882),c=y(r(9)),f=y(r(13)),p=y(r(5728));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v="select",_=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={directoryMetadata:{},newInstallationPath:null},t.fetchedMetadataPaths=new Set,t.handleChange=function(e){var r=e.value;r===v?c.default.showOpenDialog(["openDirectory"]).then(function(e){if(null!=e&&e.length>0){var r=e[0];t.setState({newInstallationPath:t.props.installationPaths.find(function(e){return e.path===r})?null:r}),t.sendChange(r)}}):t.sendChange(r)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.fetchAllDirectoryMetadata=function(){var e=this,t=this.props.installationPaths.map(function(e){return e.path}),r=this.state.newInstallationPath;null!=r&&t.push(r),t=t.filter(function(t){return!e.fetchedMetadataPaths.has(t)}),(0,i.fetchMetadata)(t);var n=t,a=Array.isArray(n),o=0;for(n=a?n:n[Symbol.iterator]();;){var l;if(a){if(o>=n.length)break;l=n[o++]}else{if((o=n.next()).done)break;l=o.value}var u=l;this.fetchedMetadataPaths.add(u)}},a.componentDidMount=function(){this.fetchAllDirectoryMetadata()},a.componentDidUpdate=function(e){this.fetchAllDirectoryMetadata(),this.props.requiredDiskKB===e.requiredDiskKB&&this.props.installationPathsMetadata===e.installationPathsMetadata||this.sendChange(this.props.value)},a.getOptions=function(){var e=this,t=this.props.installationPaths,r=this.state.newInstallationPath,n=t.map(function(t){var r=t.path,n=t.label;return{value:r,label:e.renderLabel(r,n)}});return null!=r&&n.push({value:r,label:this.renderLabel(r)}),n.push({value:v,label:f.default.Messages.APPLICATION_INSTALLATION_MODAL_SELECT_DIRECTORY}),n},a.hasEnoughDiskSpace=function(e){var t=this.props,r=t.requiredDiskKB,n=t.installationPathsMetadata,a=null!=n[e]?n[e].availableKB:null;return null==r||null==a||r<a},a.sendChange=function(e){var t=this.props,r=t.installationPathsMetadata;(0,t.onChange)(e,null!=r[e]&&!1===r[e].hasPermission||!this.hasEnoughDiskSpace(e))},a.renderError=function(){var e=this.props,t=e.value,r=e.installationPathsMetadata;return null!=r[t]&&!1===r[t].hasPermission?h("div",{className:p.default.error},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_NO_PERMISSION):this.hasEnoughDiskSpace(t)?null:h("div",{className:p.default.error},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_NOT_ENOUGH_SPACE)},a.renderLabel=function(e,t){var r=this.props.installationPathsMetadata,n=null!=t?t:e;return null!=r[e]&&null!=r[e].availableKB?f.default.Messages.APPLICATION_INSTALLATION_MODAL_DIRECTORY_WITH_SPACE.format({path:n,size:(0,d.formatSize)(r[e].availableKB,{useKibibytes:!0})}):n},a.render=function(){var e=this.props,t=e.value,r=e.className,n=e.autoFocus;return h("div",{className:r},void 0,h(s.default,{tag:s.default.Tags.H5},void 0,f.default.Messages.APPLICATION_INSTALLATION_MODAL_LOCATION),h(u.default,{autoFocus:n,options:this.getOptions(),value:t,onChange:this.handleChange}),this.renderError())},n}(a.PureComponent);_.displayName="InstallationLocationSelector";var m=o.default.connectStores([l.default],function(){return{installationPaths:l.default.installationPaths,installationPathsMetadata:l.default.installationPathsMetadata}})(_);t.default=m,e.exports=t.default},6765:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(6)),a=u(r(3)),o=u(r(21)),i=u(r(1)),l=r(0);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var d,c="GameLibraryViewStore",f=l.TableSortDirections.ASCENDING,p=l.GameTableListKeys.LAST_PLAYED,y=!1,h=n.default.debounce(function(){y=!1,v.emitChange()},200);var v=new(function(e){var t,r,n,a,i;function l(){return e.apply(this,arguments)||this}return r=e,(t=l).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,l.prototype.initialize=function(){var e=o.default.get(c)||{};null!=e.sortDirection&&null!=e.sortKey&&(f=e.sortDirection,p=e.sortKey)},n=l,(a=[{key:"sortDirection",get:function(){return f}},{key:"sortKey",get:function(){return p}},{key:"activeRowKey",get:function(){return d}},{key:"isNavigatingByKeyboard",get:function(){return y}}])&&s(n.prototype,a),i&&s(n,i),l}(a.default.Store))(i.default,{LIBRARY_TABLE_SORT_UPDATE:function(e){var t=e.direction,r=e.key;f=t,p=r,o.default.set(c,{sortDirection:f,sortKey:p})},LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE:function(e){var t=e.key;e.isKeyboardEvent&&(y=!0,h()),d=t}}),_=v;t.default=_,e.exports=t.default},6766:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),a=l(r(1)),o=l(r(7412)),i=l(r(35));r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=[],d=!1,c=null,f=i.default.locale;function p(){s=[],c=null}var y=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,l,p=n.prototype;return p.initialize=function(){this.waitFor(i.default),f=i.default.locale},p.shouldFetch=function(){return null==c||Date.now()>c+6e5},a=n,(o=[{key:"promotions",get:function(){return s}},{key:"loaded",get:function(){return d}}])&&u(a.prototype,o),l&&u(a,l),n}(n.default.Store))(a.default,{PROMOTIONS_FETCH_START:function(e){d=!1},PROMOTIONS_FETCH_SUCCESS:function(e){var t=e.promotions;s=t.slice(0,1).map(o.default.createFromServer),c=Date.now(),d=!0},PROMOTIONS_FETCH_FAIL:function(e){d=!0},USER_SETTINGS_UPDATE:function(e){return function(){if(f===i.default.locale)return!1;f=i.default.locale,p()}()},LOGOUT:function(e){return p()}});t.default=y,e.exports=t.default},6767:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(17)),i=h(r(6)),l=r(78),u=r(106),s=h(r(6469)),d=h(r(6768)),c=h(r(148)),f=h(r(7138)),p=r(0),y=h(r(5735));function h(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function _(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var m={JUMP:"jump",NEXT:"next",PREVIOUS:"previous"},g=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleDotClick=function(e){var r=t.props,n=r.onSetItem,a=r.onIntentionalChange,o=r.current;a&&a(o,e,m.JUMP),n(e)},t.handleNext=function(){var e=t.props,r=e.onIntentionalChange,n=e.current,a=(0,e.onChangePage)(1);r&&r(n,a,m.NEXT)},t.handlePrevious=function(){var e=t.props,r=e.onIntentionalChange,n=e.current,a=(0,e.onChangePage)(-1);r&&r(n,a,m.PREVIOUS)},t}_(t,e);var r=t.prototype;return r.componentDidMount=function(){u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.subscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},r.componentWillUnmount=function(){u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_PREV,this.handlePrevious),u.ComponentDispatch.unsubscribe(p.ComponentActions.CAROUSEL_NEXT,this.handleNext)},r.render=function(){var e,t=this,r=this.props,n=r.current,a=r.count,l=r.includeHitboxPadding,u=i.default.times(a,function(e){return v("button",{onClick:function(){return t.handleDotClick(e)},className:e===n?y.default.dotSelected:y.default.dotNormal},"dot-"+e)}),d=(0,o.default)(y.default.arrowHitbox,((e={})[y.default.arrowHitboxPadding]=l,e));return v(c.default,{className:this.props.className,justify:c.default.Justify.BETWEEN,align:c.default.Align.CENTER},void 0,v("button",{className:d,onClick:this.handlePrevious},void 0,v(s.default,{className:y.default.arrow,direction:s.default.Directions.LEFT})),v("div",{className:y.default.dots},void 0,u),v("button",{className:d,onClick:this.handleNext},void 0,v(s.default,{className:y.default.arrow,direction:s.default.Directions.RIGHT})))},t}(a.PureComponent);g.displayName="PaginationController",g.defaultProps={includeHitboxPadding:!0};var O=function(e){function t(t){var r;return(r=e.call(this,t)||this).timer=new l.Interval,r.getCurrentDirection=function(){return r.state.direction},r.nextItem=function(){var e=r.props.items;r.changeItem(e,1)},r.previousItem=function(){var e=r.props.items;r.changeItem(e,-1)},r.handleSetItem=function(e){var t=r.state.visibleIndex,n=r.props.items;r.changeItem(n,e-t)},r.handleMouseEnter=function(){r.setState({hovered:!0})},r.handleMouseLeave=function(){r.setState({hovered:!1})},r.handleIntentionalChange=function(e,t,n){var a=r.props,o=a.items,i=a.onIntentionalChange;return i&&i(o[t],e,t,n)},r.state={visibleIndex:!0===t.randomize?i.default.random(0,t.items.length-1):0,direction:1,hovered:!1},r}_(t,e);var r=t.prototype;return r.componentDidMount=function(){this.props.paused||this.state.hovered||this.startTimer()},r.componentWillUnmount=function(){this.stopTimer()},r.UNSAFE_componentWillReceiveProps=function(e){var t=e.items;null==t[this.state.visibleIndex]&&this.changeItem(t,1)},r.componentDidUpdate=function(e,t){var r=function(e,t){return!e.paused&&!t.hovered},n=r(this.props,this.state),a=r(e,t);n&&!a?this.startTimer():!n&&a&&this.stopTimer()},r.startTimer=function(){this.timer.start(this.props.delay,this.nextItem)},r.stopTimer=function(){this.timer.stop()},r.changeItem=function(e,t){var r=this.state.visibleIndex+t;r<0?r=e.length-1:r>e.length-1&&(r=0);var n=this.props.onChangeItem;return n&&n(e[r],this.state.visibleIndex,r),this.setState({visibleIndex:r,direction:t>0?1:-1}),r},r.render=function(){var e=this,t=this.props,r=t.items,n=t.renderItem,a=t.className,i=t.paginationClassName,l=t.themedPagination,u=t.includeHitboxPadding,s=t.style,c=this.state.visibleIndex;return v("div",{className:(0,o.default)(y.default.root,a),style:s,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,v(d.default,{aspectRatio:16/9},void 0,v(f.default,{step:c,getDirection:this.getCurrentDirection,className:y.default.carousel},void 0,n(r[c],c))),v(g,{className:(0,o.default)(i,l?y.default.themedPagination:y.default.pagination),includeHitboxPadding:u,current:c,count:r.length,onChangePage:function(t){return e.changeItem(r,t)},onSetItem:this.handleSetItem,onIntentionalChange:this.handleIntentionalChange}))},t}(a.PureComponent);O.displayName="CarouselWithSlide";var A=O;t.default=A,e.exports=t.default},6768:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=i(r(17)),o=i(r(5733));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var u=function(e){var t=e.aspectRatio,r=e.className,n=e.children;return l("div",{className:(0,a.default)(o.default.outer,r),style:{paddingTop:1/t*100+"%"}},void 0,l("div",{className:o.default.inner},void 0,n))};u.displayName="AspectRatioSizer";var s=u;t.default=s,e.exports=t.default},6769:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=P(r(2)),i=b(r(3)),l=P(r(327)),u=b(r(5993)),s=r(186),d=b(r(6762)),c=b(r(154)),f=b(r(860)),p=b(r(467)),y=b(r(124)),h=b(r(6160)),v=b(r(437)),_=P(r(6046)),m=P(r(111)),g=b(r(9)),O=b(r(44)),A=P(r(6047)),I=b(r(7139)),E=r(0),S=b(r(13)),T=b(r(5742));function b(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function C(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}function R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var L=Object.freeze({PLAY:"play",NOW_PLAYING:"now_playing",INSTALL:"install",UPDATE:"update",PAUSED:"paused",LOCATE:"locate",UNINSTALLING:"uninstalling",QUEUED:"queued",DOWNLOADING:"downloading",UNSUPPORTED_OS:"unsupported_os",ADD_TO_LIBRARY:"add_to_library",PREORDER_WAIT:"preorder_wait"}),D=Object.freeze(((n={})[E.LibraryApplicationActions.PLAY]=L.PLAY,n[E.LibraryApplicationActions.INSTALL]=L.INSTALL,n[E.LibraryApplicationActions.UPDATE]=L.UPDATE,n[E.LibraryApplicationActions.PAUSE]=L.DOWNLOADING,n[E.LibraryApplicationActions.MOVE_UP]=L.QUEUED,n[E.LibraryApplicationActions.RESUME]=L.PAUSED,n));var w=function(e){var t,r;function n(){for(var t,r,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(r=e.call.apply(e,[this].concat(a))||this)._uninstallStringIndex=null,r.handleAddToLibrary=function(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){C(o,n,a,i,l,"next",e)}function l(e){C(o,n,a,i,l,"throw",e)}i(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=r.props.libraryApplication,e.next=4,l.updateFlags(t.id,t.branchId,t.getFlags()&~E.LibraryApplicationFlags.HIDDEN);case 4:O.default.transitionTo(E.Routes.APPLICATION_LIBRARY),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])})),r.handleInstall=function(){var e=r.props,t=e.libraryApplication,n=e.source;_.installApplication(t.id,t.branchId,n)},r.handleUpdate=function(){var e=r.props.libraryApplication;_.updateApplication(e.id,e.branchId)},r.onClickHandlers=((t={})[L.ADD_TO_LIBRARY]=r.handleAddToLibrary,t[L.INSTALL]=r.handleInstall,t[L.UPDATE]=r.handleUpdate,t),r.handleClick=function(e,t){var n=r.props.onClick;n&&n(e),t(e)},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a,o,i,u=n.prototype;return u.getText=function(e){switch(e!==L.UNINSTALLING&&(this._uninstallStringIndex=null),e){case L.INSTALL:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case L.UPDATE:return S.default.Messages.GAME_ACTION_BUTTON_UPDATE;case L.PAUSED:return S.default.Messages.GAME_ACTION_BUTTON_PAUSED;case L.LOCATE:return S.default.Messages.GAME_ACTION_BUTTON_LOCATE;case L.UNINSTALLING:var t=[S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_1,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_2,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_3,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_4,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_5,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_6,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_7,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_8,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_9,S.default.Messages.GAME_ACTION_BUTTON_UNINSTALLING_10];return null==this._uninstallStringIndex&&(this._uninstallStringIndex=Math.floor(Math.random()*t.length)),t[this._uninstallStringIndex];case L.QUEUED:return S.default.Messages.GAME_ACTION_BUTTON_QUEUED;case L.DOWNLOADING:return S.default.Messages.GAME_ACTION_BUTTON_DOWNLOADING;case L.UNSUPPORTED_OS:return S.default.Messages.GAME_ACTION_BUTTON_INSTALL;case L.ADD_TO_LIBRARY:return S.default.Messages.GAME_ACTION_BUTTON_ADD_TO_LIBRARY;case L.PREORDER_WAIT:return S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT;default:throw new Error("Unexpected button state")}},u.getButtonState=function(){var e=this.props,t=e.libraryApplication,r=e.dispatchState,n=e.actionState;if(t.isHidden())return L.ADD_TO_LIBRARY;if(t.isPreorder())return L.PREORDER_WAIT;var a=null!=n?D[n]:null;return null!=a?a:null!=r&&r.type===E.LocalDispatchApplicationStates.UNINSTALLING?L.UNINSTALLING:g.default.isWeb()?L.PLAY:L.UNSUPPORTED_OS},u.renderPlayButton=function(){var e=this.props,t=e.libraryApplication,r=e.fullWidth,n=e.size,a=e.color,o=e.customDisabledColor,i=e.isPlayShiny,l=e.onDropdownOpen,u=e.onDropdownClose,s=e.analyticsListSort,d=e.analyticsListIndex;return M(I.default,{applicationId:t.id,libraryApplication:t,fullWidth:r,size:n,color:a,customDisabledColor:o,isShiny:i,onDropdownOpen:l,onDropdownClose:u,analyticsListSort:s,analyticsListIndex:d})},u.renderDisabledButton=function(e,t){var r=this.props,n=r.className,a=r.fullWidth,o=r.size,i=r.customDisabledColor,l=r.tooltipPosition;return M("div",{className:T.default.disabledButtonWrapper},void 0,M(y.default,{className:n,fullWidth:a,size:o,color:null!=i?i:T.default.disabledButtonColor,disabled:!0},void 0,this.getText(e),this.renderProgressBar()),M(v.default,{text:t,position:l},void 0,M("div",{className:T.default.disabledButtonOverlay})))},u.renderProgressBar=function(){var e=this.props,t=e.hideProgress,r=e.dispatchState;if(t)return null;var n=m.convertToTransitionState(r);if(null==n)return null;var a=n.type===E.LocalDispatchApplicationStates.UNINSTALLING?h.default.INDETERMINATE:m.calculateProgressPercentage(n.progress,n.total);return M(h.default,{percent:a,size:h.default.Sizes.XSMALL,foregroundColor:n.paused?E.Colors.PRIMARY_DARK:E.Colors.STATUS_GREEN,backgroundColor:E.Colors.TRANSPARENT,className:T.default.progress})},u.renderActionButton=function(e,t){var r=this,n=this.props,a=n.className,o=n.fullWidth,i=n.size,l=n.color,u=n.isCloudSyncing;return M(y.default,{className:a,fullWidth:o,size:i,color:null!=l?l:y.default.Colors.GREEN,hover:null!=l?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:e===L.UNINSTALLING||u,onClick:function(e){return r.handleClick(e,t)}},void 0,this.getText(e),this.renderProgressBar())},u.render=function(){var e=this.props,t=e.hasNoBuild,r=e.libraryApplication,n=this.getButtonState();if(n===L.PLAY)return this.renderPlayButton();if(n===L.PREORDER_WAIT)return this.renderDisabledButton(n,function(e){if(e instanceof s.LibraryApplicationRecord){var t=A.getReadablePreorderReleaseDate(e.sku);return null!=t?S.default.Messages.GAME_ACTION_BUTTON_PREORDER_WAIT_TOOLTIP.format({date:t}):null}}(r));if(n===L.UNSUPPORTED_OS)return this.renderDisabledButton(n,S.default.Messages.GAME_ACTION_BUTTON_UNAVAILABLE_TOOLTIP.format({operatingSystem:S.default.Messages.WINDOWS}));if(n===L.INSTALL&&t)return this.renderDisabledButton(n,S.default.Messages.GAME_ACTION_BUTTON_CANNOT_INSTALL);var a=this.onClickHandlers[n];return null==a?this.renderDisabledButton(n):this.renderActionButton(n,a)},a=n,(o=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:E.AnalyticsObjects.BUTTON_CTA})}}])&&R(a.prototype,o),i&&R(a,i),n}(o.Component);w.displayName="LibraryApplicationButton",w.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,hideProgress:!1,isPlayShiny:!1,tooltipPosition:v.default.Positions.TOP},w.ButtonStates=L;var U=i.default.connectStores([c.default,f.default,p.default,d.default],function(e){var t=e.libraryApplication;return{actionState:_.getDefaultLibraryApplicationAction(t,c.default,f.default),isCloudSyncing:d.default.isSyncing(t.id,t.branchId),hasNoBuild:p.default.hasNoBuild(t.id,t.branchId),dispatchState:c.default.getState(t.id,t.branchId)}})((0,u.default)(w));t.default=U,e.exports=t.default},6770:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=l(r(17)),o=l(r(6212)),i=l(r(847));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var s=function(e){var t=e.defaultValue,r=void 0===t?0:t,n=e.minValue,l=void 0===n?0:n,s=e.maxValue,d=void 0===s?100:s,c=e.onValueChange,f=e.onValueRender,p=e.label;return u("div",{className:(0,a.default)(i.default.item,i.default.itemSlider)},void 0,u("div",{className:i.default.label},void 0,p),u(o.default,{mini:!0,handleSize:16,className:i.default.slider,defaultValue:r,minValue:l,maxValue:d,onValueChange:c,onValueRender:f}))};s.displayName="SliderMenuItem";var d=s;t.default=d,e.exports=t.default},7118:function(e,t,r){"use strict";t.__esModule=!0,t.subscribeMembers=function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_ADD,guildId:e,userIds:t})},t.unsubscribeMembers=function(e,t){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_MEMBERS_REMOVE,guildId:e,userIds:t})},t.subscribeChannel=l,t.subscribeChannelDimensions=function(e,t,r,n,a){function i(e,t){return void 0===t&&(t=0),Math.max(0,Math.ceil(Math.ceil(e/a))+t)}var u=[];function s(e){var t=e+(o.MINIMUM_RANGE-1);return u.push([e,t]),t+1}var d=i(.5*n),c=i(r,-d),f=i(r+n,d);c>0&&(c=Math.max(s(0),c));c=Math.floor(c/o.MINIMUM_RANGE)*o.MINIMUM_RANGE;for(;c<=f;)c=s(c);l(e,t,u)};var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=r(7119),i=r(0);function l(e,t,r){a.default.dirtyDispatch({type:i.ActionTypes.GUILD_SUBSCRIPTIONS_CHANNEL,guildId:e,channelId:t,ranges:r})}},7119:function(e,t,r){"use strict";t.__esModule=!0,t.default=t.DEFAULT_RANGES=t.MINIMUM_RANGE=void 0;var n=o(r(6)),a=o(r(878));function o(e){return e&&e.__esModule?e:{default:e}}t.MINIMUM_RANGE=100;var i=[[0,99]];function l(e){var t={};return e.forEach(function(e,r){t[r]=e}),t}t.DEFAULT_RANGES=i;var u=function(){function e(e){this._subscriptions={},this._onChange=e}var t=e.prototype;return t.reset=function(){this._subscriptions={}},t.get=function(e){return l(this._get(e))},t._get=function(e){return this._subscriptions[e]||new a.default({max:5})},t.clear=function(e){delete this._subscriptions[e]},t.subscribe=function(e,t,r){var a=this._get(e);n.default.isEqual(a.get(t),r)||(a.set(t,r),this._subscriptions[e]=a,this._onChange(e,l(a)))},e}();t.default=u},7130:function(e,t,r){"use strict";(function(n){t.__esModule=!0,t.default=void 0;var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=v(r(17)),l=v(r(304)),u=v(r(3)),s=v(r(35)),d=v(r(219)),c=v(r(184)),f=v(r(845)),p=r(0),y=v(r(13)),h=v(r(5711));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var m=(0,l.default)({displayName:"AutocompletePopout",getDefaultProps:function(){return{sections:[null],position:"top"}},getInitialState:function(){return this.createState()},UNSAFE_componentWillReceiveProps:function(){this.setState(this.createState(this.state.prefix))},createState:function(e){var t=this;void 0===e&&(e="");for(var r=new RegExp("^"+c.default.escape(e.trim()),"i"),n=function(e){return r.test(e)},a=this.props.sections.map(function(e,r){return t.props.onFilterResults(n,r)}),o=0;o<a.length&&!(a[o].length>0);o++);return{prefix:e,selectedSection:o,selectedRow:0,rows:a}},componentDidMount:function(){n.nextTick(this.focus)},handleChange:function(e){var t=e.target.value;this.props.onQueryChange&&this.props.onQueryChange(t),this.setState(this.createState(t))},handleMouseEnter:function(e,t){this.setState({selectedSection:e,selectedRow:t})},handleClick:function(e,t){this.props.onSelect(this.state.rows[e][t],e),this.props.onClose()},handleKeyDown:function(e){var t=this.state,r=t.selectedSection,n=t.selectedRow;switch(e.keyCode){case p.KeyboardKeys.TAB:if(p.EnableAccessibility)break;case p.KeyboardKeys.ARROW_DOWN:e.preventDefault(),this.props.sections.length>r&&++n>=this.state.rows[r].length&&(++r>=this.props.sections.length&&(r=0),n=0),this.setState({selectedSection:r,selectedRow:n});break;case p.KeyboardKeys.ARROW_UP:e.preventDefault(),--n<0&&(--r<0&&(r=this.props.sections.length-1),n=this.state.rows[r].length-1),this.setState({selectedSection:r,selectedRow:n});break;case p.KeyboardKeys.ENTER:e.preventDefault(),this.props.sections.length>r&&this.state.rows[r].length>n&&(this.props.onSelect(this.state.rows[r][n],r),this.props.onClose());break;case p.KeyboardKeys.ESCAPE:e.preventDefault(),this.props.onSelect(null,null),this.props.onClose()}},render:function(){var e=this,t=this.props,r=t.theme,n=t.position,a=[];if(0===this.state.rows.reduce(function(e,t){return e+t.length},0))a.push(_("div",{className:h.default.empty},"empty",_("h4",{className:h.default.noResultsHeader},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_HEADER),_("p",{},void 0,y.default.Messages.AUTOCOMPLETE_NO_RESULTS_BODY)));else{var l=this.state,u=l.selectedSection,s=l.selectedRow;this.props.sections.forEach(function(t,r){var n=e.state.rows[r];0!==n.length&&(a.push(_("div",{className:h.default.section},r,t)),n.forEach(function(t,n){var o;a.push(_(d.default,{onClick:e.handleClick.bind(e,r,n),onMouseEnter:e.handleMouseEnter.bind(e,r,n),className:(0,i.default)(h.default.row,(o={},o[h.default.selected]=u===r&&s===n,o))},r+"-"+n,_("span",{},void 0,e.props.onRenderResult(t,r))))}))})}return _("div",{className:(0,i.default)(h.default.container,function(e){switch(e){case"bottom":return h.default.positionBottom;default:return h.default.positionTop}}(n))},void 0,_("div",{className:h.default.autocompleteShadow}),_("div",{className:h.default.autocompleteArrowWrapper},void 0,_("div",{className:h.default.autocompleteArrow})),_("header",{className:h.default.header},void 0,_("div",{className:h.default.autocompleteHeaderBackground}),_("h3",{className:h.default.headerText},void 0,this.props.label),o.createElement("input",{type:"text",className:h.default.input,placeholder:this.props.placeholder,ref:"input",onChange:this.handleChange,onKeyDown:this.handleKeyDown})),_("section",{className:h.default.sectionTag},void 0,_(f.default,{className:h.default.autocompleteScroller,fade:!0,theme:r===p.ThemeTypes.DARK?f.default.Themes.DARK:f.default.Themes.LIGHT,elementHeight:44},void 0,a)))},focus:function(){null!=this.refs.input&&this.refs.input.focus()}}),g=u.default.connectStores([s.default],function(){return{theme:s.default.theme}})(m);t.default=g,e.exports=t.default}).call(this,r(58))},7131:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),i=E(r(17)),l=E(r(7132)),u=E(r(155)),s=r(223),d=r(178),c=E(r(7400)),f=E(r(305)),p=E(r(148)),y=E(r(6005)),h=E(r(6072)),v=E(r(6675)),_=E(r(125)),m=E(r(437)),g=r(0),O=E(r(13)),A=E(r(5381)),I=E(r(5720));function E(e){return e&&e.__esModule?e:{default:e}}function S(e,t,r,n){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=n;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:a,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var b={USER_POPOUT:"UserPopout",ACTIVITY_FEED:"ActivityFeed",PROFILE:"Profile"},P=64,N=160,M=((n={})[b.USER_POPOUT]=[108,60],n[b.PROFILE]=[162,90],n[b.ACTIVITY_FEED]=[900,500],n),C=r(242).getAssetImage;var R=(0,l.default)(function(e){function t(){return e.apply(this,arguments)||this}return T(t,e),t.prototype.render=function(){return S("div",{className:I.default.timestamp},void 0,this.props.message)},t}(o.PureComponent)),L=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleOpenSpotifyTrack=function(){var e=t.props,r=e.activity,n=e.onOpenSpotifyTrack;n&&n(r)},t.handleOpenSpotifyArtist=function(e){var r=t.props,n=r.activity,a=r.onOpenSpotifyArtist,o=r.user;a&&a(n,o.id,e)},t.handleOpenSpotifyAlbum=function(){var e=t.props,r=e.activity,n=e.onOpenSpotifyAlbum,a=e.user;n&&n(r,a.id)},t}T(t,e);var r=t.prototype;return r.getTypeClass=function(e,t){return(0,d.getClass)(I.default,e,this.props.type,t)},r.isStreamerOnTypeProfile=function(){return(0,s.isStreaming)(this.props.activity)&&this.props.type===b.PROFILE},r.isStreamerOnTypeActivityFeed=function(){return(0,s.isStreaming)(this.props.activity)&&this.props.type===b.ACTIVITY_FEED},r.renderHeader=function(e){var t,r=this.props,n=r.activity.name,a=r.hideHeader,o=r.applicationStreamData;if(a)return null;switch(this.props.activity.type){case g.ActivityTypes.STREAMING:t=O.default.Messages.USER_ACTIVITY_HEADER_LIVE_ON_PLATFORM.format({platform:u.default.get(g.PlatformTypes.TWITCH).name});break;case g.ActivityTypes.LISTENING:t=O.default.Messages.USER_ACTIVITY_HEADER_LISTENING.format({name:n});break;case g.ActivityTypes.WATCHING:t=O.default.Messages.USER_ACTIVITY_HEADER_WATCHING.format({name:n});break;case g.ActivityTypes.PLAYING:t=(0,s.isOnXbox)(this.props.activity)?O.default.Messages.USER_ACTIVITY_HEADER_PLAYING_ON_PLATFORM.format({platform:u.default.get(g.PlatformTypes.XBOX).name}):O.default.Messages.USER_ACTIVITY_HEADER_PLAYING}return null!=o&&(t=O.default.Messages.USER_ACTIVITY_HEADER_STREAMING_TO_SERVER.format({server:o.guild.name})),S(_.default,{className:(0,d.getClass)(I.default,"headerText",e?"EmptyBody":"Normal"),weight:_.default.Weights.BOLD,size:_.default.Sizes.SMALL},void 0,t)},r.renderXboxImage=function(){return S("div",{className:I.default.xboxAssets},void 0,S("img",{alt:"",src:u.default.get(g.PlatformTypes.XBOX).icon.color3d,className:(0,i.default)(this.getTypeClass("assetsLargeImage","Xbox"))}))},r.renderImage=function(){var e,t,r=this.props,n=r.activity,a=r.type,o=n.assets,l=n.application_id;if(null==o||null==o.large_image)return null;(0,s.isStreaming)(n)&&(t=M[a]);var u,d=S("img",{alt:o.large_text||"",src:C(l,o.large_image,t||[N,N]),className:(0,i.default)(this.getTypeClass("assetsLargeImage",this.isStreamerOnTypeProfile()||this.isStreamerOnTypeActivityFeed()?g.PlatformTypes.TWITCH:""),(e={},e[this.getTypeClass("assetsLargeMask")]=null!=o.small_image,e))});return(0,s.isListeningOnSpotify)(n)&&(d=S(f.default,{onClick:this.handleOpenSpotifyAlbum},void 0,d)),this.isStreamerOnTypeActivityFeed()&&n.url&&(d=S("div",{className:I.default.twitchImageContainer},void 0,S("div",{className:I.default.twitchImageOverlay},void 0,S("h3",{className:I.default.streamName},void 0,n.name),S("div",{className:I.default.streamGame},void 0,O.default.Messages.STREAMER_PLAYING.format({game:n.details}))),S(f.default,{className:I.default.twitchBackgroundImage,href:n.url},void 0,d))),null!=o.large_text&&(d=S(m.default,{text:o.large_text,position:m.default.Positions.TOP},void 0,d)),null!=o.small_image&&(u=S("img",{alt:o.small_text||"",src:C(l,o.small_image,[P,P]),className:this.getTypeClass("assetsSmallImage")}),null!=o.small_text&&(u=S(m.default,{text:o.small_text,position:m.default.Positions.TOP},void 0,u))),S("div",{className:I.default.assets},void 0,d,u)},r.renderGameImage=function(){var e=this.props,t=e.activity,r=e.user,n=e.type,a=e.renderGameOpener,o=e.game;return(0,s.hasRichActivity)(t)||t.type!==g.ActivityTypes.PLAYING||n===b.ACTIVITY_FEED||r.bot?null:a(S(y.default,{className:I.default.gameIcon,game:o}),o,A.default.iconHover)},r.renderName=function(){var e=this.props,t=e.activity,r=e.user,n=e.game,a=e.renderGameOpener,o=(0,s.isGameActivity)(t),i=t.name,l=t.details,u=i;return o&&null!=n?i=a(S("span",{className:I.default.activityName},void 0,i),n,A.default.textHover):o||(u=l,i=l,(0,s.isListeningOnSpotify)(t)&&null!=t.sync_id&&null!=l&&(i=S(f.default,{className:I.default.bodyLink,onClick:this.handleOpenSpotifyTrack},void 0,l))),null==i?null:S(_.default,{title:u,weight:_.default.Weights.SEMIBOLD,className:(0,d.getClass)(I.default,"name",r.bot||this.isStreamerOnTypeProfile()?"wrap":"normal")},void 0,i)},r.renderDetails=function(){var e=this,t=this.props.activity,r=t.details,n=t.state,a=r,o=r;if(!(0,s.isGameActivity)(t)&&(o=a=n,(0,s.isListeningOnSpotify)(t)&&null!=n)){a=O.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:o,artistsHook:function(r,a){return S(v.default,{artists:n,linkClassName:I.default.bodyLink,canOpen:null!=t.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},a)}})}return null==a||0===a.length?null:((0,s.isStreaming)(t)&&(a=O.default.Messages.STREAMER_PLAYING.format({game:a})),S("div",{title:o,className:(0,s.isStreaming)(t)||(0,s.isListeningOnSpotify)(t)?I.default.detailsWrap:I.default.details},void 0,a))},r.renderTimePlayed=function(){var e=this.props.activity;if(!(0,s.isGameActivity)(e)||(0,s.isListeningOnSpotify)(e))return null;var t=e.timestamps;return null==t?null:(0,s.hasRichActivity)(e)?S(R,{timestamps:t}):S(h.default,{start:t.start,end:t.end,location:h.default.Locations.USER_ACTIVITY,className:I.default.playTime})},r.renderTimeBar=function(){var e=this.props.activity;if(!(0,s.isListeningOnSpotify)(e))return null;var t=e.timestamps;if(null==t)return null;var r=t.start,n=t.end;return null==r||null==n?null:S(c.default,{start:r,end:n,className:this.getTypeClass("timeBar")})},r.renderState=function(){var e,t=this,r=this.props.activity,n=r.state,a=r.party,o=r.assets,i=n,l=i;if(!(0,s.isGameActivity)(r)){if(null==o||null==o.large_text)return null;if(i=o.large_text,l=i,(0,s.isListeningOnSpotify)(r)){i=O.default.Messages.USER_ACTIVITY_LISTENING_ALBUM.format({album:l,albumHook:function(e,n){return null!=r.sync_id&&null!=l?S(f.default,{className:I.default.bodyLink,onClick:t.handleOpenSpotifyAlbum},n,l):l}})}}return null==i||0===i.length?null:(null!=a&&null!=a.size&&a.size.length>=2&&(e=O.default.Messages.USER_ACTIVITY_STATE_SIZE.format({count:a.size[0],max:a.size[1]})),S("div",{className:I.default.state},void 0,S("span",{title:l},void 0,i),null!=e?S("span",{},void 0," ",e):null))},r.render=function(){var e=this.props,t=e.activity,r=e.type,n=e.renderActions,a=e.className,o=e.hideName;if(null==t)return null;var l,u=r===b.USER_POPOUT,c=r===b.PROFILE,f=r===b.ACTIVITY_FEED,y=!1;(0,s.isOnXbox)(t)?(l=this.renderXboxImage(),y=!0):null==(l=this.renderImage())&&(y=null!=(l=this.renderGameImage()));var h=o?null:this.renderName(),v=this.renderDetails(),_=this.renderState(),m=this.renderTimePlayed(),g=null!=n?n():null,O=this.renderTimeBar(),A=![l,h,v,_,m,O,g].some(function(e){return null!=e});return S("div",{className:(0,i.default)(this.getTypeClass("activity"),a)},void 0,this.renderHeader(A),S("div",{className:y?I.default.bodyAlignCenter:I.default.bodyNormal},void 0,l,this.isStreamerOnTypeActivityFeed()?null:S(p.default.Child,{className:(0,i.default)((0,d.getClass)(I.default,"content",y?"GameImage":null!=l?"Images":"NoImages",r))},void 0,h,v,_,m,u?null:O,f?g:null),c?g:null),u?O:null,u?g:null)},t}(o.PureComponent);L.displayName="UserActivity",L.Types=b;var D=L;t.default=D,e.exports=t.default},7132:function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e){return function(t){var r,n;function u(e){var r;return(r=t.call(this,e)||this)._interval=new o.Interval,r.state=l({},r.getUpdatedTime()),r}n=t,(r=u).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var d=u.prototype;return d.componentDidMount=function(){var e=this;this._interval.start(1e3,function(){return e.setState(e.getUpdatedTime())})},d.componentWillUnmount=function(){this._interval.stop()},d.componentDidUpdate=function(e){e.timestamps.end===this.props.timestamps.end&&e.timestamps.start===this.props.timestamps.start||this.setState(this.getUpdatedTime())},d.getUpdatedTime=function(){var e=this.props.timestamps,t=Date.now()/1e3;return null!=e.end?this.getDiff(t,s(e.end)/1e3):null!=e.start?this.getDiff(s(e.start)/1e3,t):{hours:0,minutes:0,seconds:0}},d.renderTime=function(e,t){return void 0===t&&(t=!1),t&&e<=0?-1:e<10?"0"+e:e},d.getDiff=function(e,t){var r=Math.max(t-e,0),n=Math.floor(r)%60,a=Math.floor(r/60)%60,o=Math.floor(r/3600)%24;return{hours:o,minutes:a,seconds:n}},d.render=function(){var t=this.props,r=t.timestamps,n=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["timestamps"]),o=this.state,u=o.hours,s=o.minutes,d=o.seconds,c={hours:this.renderTime(u,!0),minutes:this.renderTime(s),seconds:this.renderTime(d)};return null!=r.end?a.createElement(e,l({},n,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_END.format(c)})):null!=r.start?a.createElement(e,l({},n,{message:i.default.Messages.USER_ACTIVITY_TIMESTAMP_START.format(c)})):null},u}(a.PureComponent)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(78),i=(n=r(13))&&n.__esModule?n:{default:n};function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=13;function s(e){return(""+e).length<u?1e3*e:e}e.exports=t.default},7134:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(840))&&n.__esModule?n:{default:n},o=r(0);var i=(0,a.default)(o.Experiments.AF2_TRENDING_APPLICATIONS,"AF2 Trending Games","Test the effect of showing news for trending games on new user habits in AF");t.default=i,e.exports=t.default},7135:function(e,t,r){"use strict";t.__esModule=!0,t.sync=function(e,t,r){return c.apply(this,arguments)},t.ConflictError=void 0;var n=l(r(1)),a=l(r(65)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(928)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}var s=a.default.create("CloudSync"),d=function(e){this.message=e};function c(){var e;return e=regeneratorRuntime.mark(function e(t,r,a){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===a&&(a=null),n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_START,applicationId:t,branchId:r}),e.prev=2,e.next=5,o.syncApplication(t,r,a);case 5:if((l=e.sent).type!==i.CloudSyncResultTypes.CONFLICT){e.next=11;break}throw n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_CONFLICT,applicationId:t,branchId:r,next:l.next,remote:l.remote}),new d("Conflict in cloud sync.");case 11:l.type!==i.CloudSyncResultTypes.PULL&&l.type!==i.CloudSyncResultTypes.PUSH||s.info("Sync complete",l);case 12:e.next=21;break;case 14:if(e.prev=14,e.t0=e.catch(2),!(e.t0 instanceof d)){e.next=18;break}throw e.t0;case 18:throw n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_ERROR,applicationId:t,branchId:r}),s.error("Failed to cloud sync:",e.t0),new Error("Failed to cloud sync.");case 21:return n.default.dispatch({type:i.ActionTypes.GAME_CLOUD_SYNC_COMPLETE,applicationId:t,branchId:r}),e.abrupt("return",l);case 23:case"end":return e.stop()}},e,null,[[2,14]])}),(c=function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){u(o,n,a,i,l,"next",e)}function l(e){u(o,n,a,i,l,"throw",e)}i(void 0)})}).apply(this,arguments)}t.ConflictError=d},7136:function(e,t,r){"use strict";t.__esModule=!0,t.addInstallLocation=function(e){a.default.queryDirectory(e,function(t,r){null==t&&null!=r&&n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_ADD,path:e,metadata:r})})},t.removeInstallLocation=function(e){n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_REMOVE,path:e})},t.updateInstallLocation=function(e,t){var r=t.label,a=t.isDefault;n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_UPDATE,path:e,label:r,isDefault:a})},t.fetchMetadata=function(e){var t={},r=0,i=function(){if(u){if(s>=l.length)return"break";d=l[s++]}else{if((s=l.next()).done)return"break";d=s.value}var i=d;if(null==i||"string"!=typeof i)return"continue";a.default.queryDirectory(i,function(a,l){++r,null==a&&null!=l&&(t[i]=l),r===e.length&&n.default.dispatch({type:o.ActionTypes.INSTALLATION_LOCATION_FETCH_METADATA,metadataPayload:t})})};e:for(var l=e,u=Array.isArray(l),s=0,l=u?l:l[Symbol.iterator]();;){var d,c=i();switch(c){case"break":break e;case"continue":continue}}};var n=i(r(1)),a=i(r(344)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}},7137:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=h(r(17)),i=h(r(4)),l=r(109),u=r(6001),s=r(233),d=h(r(305)),c=h(r(219)),f=h(r(6089)),p=r(0),y=h(r(5731));function h(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={playingVideo:!1},t.handlePlay=function(){t.setState({playingVideo:!0});var e=t.props.onVideoPlay;e&&e()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var h=n.prototype;return h.getBackgroundURL=function(){var e=this.props,t=e.game,r=e.news.thumbnail;return null!=r&&null!=r.proxy_url?(0,s.getSizedImageSrc)(r.proxy_url,600,210,"png"):t.getSplashURL(600)},h.getSubtitle=function(){var e=this.props.news,t=null!=e.timestamp?(0,u.dateFormat)((0,i.default)(e.timestamp),"LL"):null,r=e.author;return null!=t&&null!=r?t+"  "+r.name:null!=r?r.name:null!=t?t:void 0},h.renderBase=function(e){var t=this.props,r=t.news,n=r.title,i=r.description,l=t.backgroundClassname,u=this.getBackgroundURL(),s=this.getSubtitle();return m(a.Fragment,{},void 0,m("div",{className:(0,o.default)(l,y.default.background,null!=u?y.default.splash:y.default.splashBackup),style:null!=u?{backgroundImage:"url("+u+")"}:null}),m("div",{className:y.default.body},void 0,m("div",{className:y.default.title},void 0,n),e&&null!=i?m("div",{className:y.default.description},void 0,i):null,null!=s?m("div",{className:y.default.subtitle},void 0,s):null))},h.renderArticle=function(){var e,t=this.props,r=t.news,n=t.className,i=(t.backgroundClassname,t.game,t.onVideoPlay,_(t,["news","className","backgroundClassname","game","onVideoPlay"]));return a.createElement(d.default,v({},i,{href:r.url,className:(0,o.default)(y.default.newsLink,(e={},e[y.default.fixedHeight]=null!=this.getBackgroundURL(),e),n)}),this.renderBase(!0))},h.renderVideo=function(){var e=this.props,t=e.news,r=e.className,n=e.onClick;e.game,_(e,["news","className","onClick","game"]);if(this.state.playingVideo&&null!=t.video){var a=(0,l.parse)(t.video.url,!0);return a.query=v({},a.query,{autoplay:1}),m(c.default,{onClick:n,className:(0,o.default)(y.default.newsPlayingVideo,r)},void 0,m("iframe",{src:(0,l.format)(a),frameBorder:0,allowFullScreen:!0,className:y.default.video}))}return m(c.default,{onClick:n,className:(0,o.default)(y.default.news,y.default.fixedHeight,r)},void 0,this.renderBase(!1),m("div",{className:y.default.videoControls},void 0,m(f.default,{externalURL:t.url,onPlay:this.handlePlay})))},h.render=function(){switch(this.props.news.type){case p.EmbedTypes.VIDEO:return this.renderVideo();default:case p.EmbedTypes.ARTICLE:return this.renderArticle()}},n}(a.Component);t.default=g,g.displayName="ActivityFeedCardNews",e.exports=t.default},7138:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=s(r(17)),i=s(r(303)),l=s(r(826)),u=s(r(5734));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var f={friction:7,tension:40,overshootClamping:!0},p=function(e){var t,r;function n(t){var r;return(r=e.call(this,t)||this)._animated=new i.default.Value(-1*t.getDirection()),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentWillEnter=function(e){this._animated.setValue(-this.props.getDirection()),i.default.spring(this._animated,c({toValue:0},f)).start(e)},a.componentDidAppear=function(){this._animated.setValue(0)},a.componentWillLeave=function(e){i.default.spring(this._animated,c({toValue:this.props.getDirection()},f)).start(e)},a.getStyle=function(){return i.default.accelerate({transform:[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]})},a.render=function(){return d(i.default.div,{style:this.getStyle(),className:u.default.item},void 0,this.props.children)},n}(a.PureComponent);p.displayName="Item";var y=function(e){var t=e.children,r=e.step,n=e.getDirection,a=e.className;return d(l.default,{component:"div",className:(0,o.default)(u.default.animator,a)},void 0,d(p,{getDirection:n},r,t))};y.displayName="SlideAnimator";var h=y;t.default=h,e.exports=t.default},7139:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=b(r(2)),o=T(r(17)),i=T(r(3)),l=b(r(302)),u=T(r(5993)),s=T(r(322)),d=T(r(154)),c=T(r(41)),f=T(r(64)),p=T(r(238)),y=T(r(124)),h=T(r(219)),v=T(r(301)),_=T(r(6052)),m=T(r(437)),g=b(r(6046)),O=T(r(9)),A=T(r(6131)),I=r(0),E=T(r(13)),S=T(r(5740));function T(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function P(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleDropdownClick=function(e){e.stopPropagation();var r=t.props,n=r.libraryApplication,o=r.onDropdownOpen,i=r.onDropdownClose,u=r.analyticsContext;if(o&&o(e),null==n)throw new Error("Unexpected missing libraryApplication");l.openContextMenu(e,function(e){return a.createElement(A.default,N({},e,{type:I.ContextMenuTypes.APPLICATION_LAUNCH_OPTIONS,applicationId:n.id,branchId:n.branchId,onPlay:t.handleClick,analyticsContext:u}))},{onClose:i})},t.handleClick=function(e){var r=t.props,n=r.applicationId,a=r.libraryApplication,o=r.analyticsListSort,i=r.analyticsListIndex,l=r.onClick;g.playApplication(n,a,{analyticsParams:{location:t.analyticsLocation,list_sort:o,list_index:i}}),l&&l(e)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i,u,s,d=n.prototype;return d.renderDropdown=function(){var e=this.props.dispatchState;return null!=e&&null!=e.launchOptions&&Object.keys(e.launchOptions).length>1?P(h.default,{className:S.default.dropdownArrowHitbox,onClick:this.handleDropdownClick},void 0,P("div",{className:S.default.arrowSeparator}),P(v.default,{name:v.default.Names.ARROW_DROP_DOWN,className:S.default.dropdownArrow})):null},d.renderDisabledButton=function(e,t){var r=this.props,n=r.className,a=r.fullWidth,o=r.size,i=r.customDisabledColor,l=r.tooltipPosition;return P("div",{className:S.default.disabledButtonWrapper},void 0,P(y.default,{className:n,fullWidth:a,size:o,color:null!=i?i:S.default.disabledButtonColor,disabled:!0},void 0,e),P(m.default,{text:t,position:l},void 0,P("div",{className:S.default.disabledButtonOverlay})))},d.render=function(){var e=this.props,t=e.className,r=e.fullWidth,n=e.size,a=e.color,i=e.isLaunchable,l=e.isLaunching,u=e.isRunning,s=e.isShiny,d=e.hideNotLaunchable;return i?u?this.renderDisabledButton(E.default.Messages.GAME_ACTION_BUTTON_NOW_PLAYING):P(s?_.default:y.default,{className:(0,o.default)(S.default.playButton,t),innerClassName:S.default.playButtonContents,fullWidth:r,size:n,color:null!=a?a:y.default.Colors.GREEN,hover:null!=a?y.default.Hovers.GREEN:y.default.Hovers.DEFAULT,submitting:l,onClick:this.handleClick},void 0,P("div",{className:S.default.buttonText},void 0,E.default.Messages.GAME_ACTION_BUTTON_PLAY),this.renderDropdown()):d?null:this.renderDisabledButton(E.default.Messages.GAME_ACTION_BUTTON_PLAY,O.default.embedded?E.default.Messages.GAME_ACTION_BUTTON_GAME_NOT_DETECTED:E.default.Messages.GAME_ACTION_BUTTON_PLAY_DISABLED_DESKTOP_APP)},i=n,(u=[{key:"analyticsLocation",get:function(){return N({},this.props.analyticsContext.location,{object:I.AnalyticsObjects.BUTTON_CTA})}}])&&M(i.prototype,u),s&&M(i,s),n}(a.PureComponent);C.displayName="ApplicationPlayButton",C.defaultProps={fullWidth:!1,size:y.default.Sizes.LARGE,tooltipPosition:m.default.Positions.TOP,isShiny:!1,hideNotLaunchable:!1};var R=i.default.connectStores([c.default,f.default,p.default,s.default],function(e){var t=e.applicationId,r=e.libraryApplication,n=new Set(f.default.getRunningVerifiedApplicationIds());return{isLaunchable:s.default.isConnected(t)||c.default.isLaunchable(t)||null!=r&&d.default.isLaunchable(r.id,r.branchId),isLaunching:c.default.launchingGames.has(t),isRunning:n.has(t),dispatchState:null!=r?d.default.getState(r.id,r.branchId):null}})((0,u.default)(C));t.default=R,e.exports=t.default},7140:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=x(r(2)),o=k(r(3)),i=x(r(901)),l=k(r(179)),u=k(r(77)),s=k(r(825)),d=k(r(858)),c=k(r(132)),f=r(841),p=r(482),y=k(r(5993)),h=k(r(155)),v=k(r(884)),_=k(r(5360)),m=k(r(468)),g=k(r(322)),O=k(r(154)),A=k(r(41)),I=k(r(86)),E=k(r(85)),S=k(r(14)),T=k(r(5368)),b=k(r(7429)),P=k(r(18)),N=r(323),M=k(r(9)),C=k(r(44)),R=k(r(450)),L=x(r(6292)),D=k(r(7431)),w=k(r(7432)),U=r(0),j=k(r(13)),G=k(r(5488));function k(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function F(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderSpotifyPlayButton=function(e){var r=t.props,n=r.channelId,o=r.guildId,i=r.source;return a.createElement(L.default,B({type:L.SpotifyButtonTypes.USER_ACTIVITY_PLAY,guildId:o,channelId:n,source:i},e))},t.renderSpotifySyncButton=function(e){var r=t.props,n=r.channelId,o=r.guildId,i=r.source;return a.createElement(L.default,B({type:L.SpotifyButtonTypes.USER_ACTIVITY_SYNC,guildId:o,channelId:n,source:i},e))},t.renderXboxButton=function(e){return a.createElement(D.default,B({onOpenConnections:t.props.onOpenConnections},e))},t.handleWatchStream=function(e){if(null!=e){var r=e.guild,n=e.channel,a=t.props.user;c.default.selectVoiceChannel(r.id,n.id),C.default.transitionTo(U.Routes.CHANNEL(r.id,n.id));var o=_.default.getActiveStream();null!=o&&o.channelId===n.id||(0,p.watchStream)({streamType:"guild",guildId:r.id,channelId:n.id,ownerId:a.id}),s.default.closeAll()}},t.handleJoinRequest=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(i.request(t.props.user,e),t.trackApplicationOpened(e,U.AnalyticsGameOpenTypes.ASK_TO_JOIN))},t.handleSpectate=function(e){t.validateAction()&&null!=e.session_id&&null!=e.application_id&&(l.default.spectate(t.props.user.id,e.session_id,e.application_id),t.trackApplicationOpened(e,U.AnalyticsGameOpenTypes.SPECTATE))},t.handleSendFriendRequest=function(){var e=t.props.user;d.default.addRelationship(e.id,{location:"Spectate Modal"}),u.default.pop()},t.handleCloseModal=function(){null!=t.modalKey?u.default.popWithKey(t.modalKey):u.default.pop()},t.handleOpenDownloads=function(){u.default.push(R.default,{source:"Spectate Modal"})},t.handleViewInStore=function(){var e=t.props,r=e.game,n=e.analyticsContext;if(null==r)throw new Error("Unexpected missing game");(0,f.goToApplicationStoreListing)(r.id,{analyticsSource:B({},n.location,{object:U.AnalyticsObjects.BUTTON_CTA}),slug:r.slug})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.render=function(){var e=this.props,t=(e.channelId,e.guildId,e.onOpenConnections,e.source,e.isGameLaunchable),r=(e.analyticsContext,function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["channelId","guildId","onOpenConnections","source","isGameLaunchable","analyticsContext"]));return a.createElement(b.default,B({},r,{isBrowser:!M.default.embedded,isLaunchable:t,renderXboxButton:this.renderXboxButton,renderSpotifyPlayButton:this.renderSpotifyPlayButton,renderSpotifySyncButton:this.renderSpotifySyncButton,onJoinRequest:this.handleJoinRequest,onSpectate:this.handleSpectate,onNotify:this.handleNotify,onViewInStore:this.handleViewInStore,onWatchStream:this.handleWatchStream}))},o.validateAction=function(){var e=this,t=this.props.user;return M.default.embedded?!!E.default.isFriend(t.id)||(this.modalKey=u.default.push(function(){return F(w.default,{title:j.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_TITLE,imageClass:G.default.notFriendsImage,body:j.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_BODY.format({user:t.username}),confirmText:j.default.Messages.USER_ACTIVITY_ERROR_FRIENDS_ACTION,cancelText:j.default.Messages.CANCEL,onConfirm:e.handleSendFriendRequest,onClose:e.handleCloseModal})}),!1):(this.modalKey=u.default.push(function(){return F(w.default,{title:j.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_TITLE,cancelText:j.default.Messages.CANCEL,body:j.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_BODY,confirmText:j.default.Messages.USER_ACTIVITY_ERROR_DESKTOP_ACTION,onConfirm:e.handleOpenDownloads,onClose:e.handleCloseModal})}),!1)},o.trackApplicationOpened=function(e,t){var r=this.props,n=r.source,a=r.user,o=null!=e.application_id?I.default.getActiveLibraryApplication(e.application_id):null,i=null!=e.application_id?A.default.getGame(e.application_id):null;P.default.track(U.AnalyticEvents.APPLICATION_OPENED,{type:t,source:n,application_id:e.application_id,application_name:null!=i?i.name:e.name,other_user_id:a.id,distributor:null!=o?o.getDistributor():null})},o.handleNotify=function(e,t){console.log("notify",t,e)},n}(a.PureComponent);Y.displayName="UserActivityActionsContainer",Y.defaultProps={showBuyDiscordGame:!1};var V=o.default.connectStores([T.default,v.default,S.default,A.default,I.default,O.default,g.default],function(e){var t=e.activity,r=e.user,n=null!=t.application_id?A.default.getGame(t.application_id):null;return null==n&&(n=A.default.getGameByName(t.name)),{spectateState:null!=t.application_id?T.default.getState(t.application_id,U.ActivityActionTypes.SPECTATE):null,hasActiveJoinRequest:!!v.default.getRequest(r.id),currentUser:S.default.getCurrentUser(),game:n,hasXboxAccount:m.default.getAccounts().some(function(e){return e.type===h.default.get(U.PlatformTypes.XBOX).type}),isGameLaunchable:null!=t.application_id&&(0,N.isLaunchable)(I.default,A.default,O.default,g.default,t.application_id),canBuyDiscordGame:null!=n&&null!=n.primarySkuId&&null==I.default.getActiveLibraryApplication(n.id)}})((0,y.default)(Y));t.default=V,e.exports=t.default},7141:function(e,t,r){"use strict";t.__esModule=!0,t.fetchAccounts=function(e){return Promise.all(e.map(v)).then(n.default.flatten)};var n=l(r(6)),a=l(r(21)),o=l(r(9)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u="InProgressContactImports",s=1,d={},c=!1;function f(e,t){t?d[e]=!0:delete d[e],0===Object.keys(d).length?a.default.remove(u):a.default.set(u,{version:s,potentiallyFailedFetches:d})}function p(e){var t=e.username,r=e.name,n=e.friend_id_hashes;return r&&t&&n.length>0}function y(e){return function(){if(!c){var e=a.default.get(u);c=!0,e&&e.version===s&&(d=e.potentiallyFailedFetches)}}(),new Promise(function(t){o.default.ensureModule("discord_contact_import").then(function(){return o.default.requireModule("discord_contact_import")}).then(function(r){r.isAvailable(e)&&!function(e){return!0===d[e]}(e)?(f(e,!0),r.fetch(e,{debug:!1},function(r,n){f(e,!1),n||(n=[]),t(n.filter(p).map(function(e){return{id:e.username,idHash:e.id_hash,type:e.platform,name:function(e){var t=e.platform,r=e.username,n=e.name;switch(t){case i.PlatformTypes.BATTLENET:case i.PlatformTypes.SKYPE:return r;default:return n}}(e),friendIdHashes:e.friend_id_hashes,resultHash:e.result_hash}}))})):t([])},function(){return t([])})})}var h={};function v(e){var t=null!=h[e];return null==h[e]&&(h[e]=[]),new Promise(function(r,n){if(h[e].push({resolve:r,reject:n}),!t){var a=function(t,r){var n=h[e];delete h[e],n&&n.forEach(function(e){return e[t](r)})};y(e).then(function(e){return a("resolve",e)},function(e){return a("reject",e)})}})}},7142:function(e,t,r){"use strict";(function(r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.__esModule=!0,t.default=void 0;var a=function(){function e(e){this._running=!1,this._callback=e}var t,a,o,i=e.prototype;return i.start=function(e){var t=this;this.stop(),this._ref=setInterval(function(){return t._run(!1)},e)},i.stop=function(){null!=this._ref&&(clearInterval(this._ref),this._ref=null,this._running=!1)},i.run=function(){var e=this;r(function(){return e._run(!0)})},i._run=function(e){var t=this;this._running||(this._running=!0,this._callback(function(){t._running=!1},e))},t=e,(a=[{key:"running",get:function(){return this._running}}])&&n(t.prototype,a),o&&n(t,o),e}();t.default=a,e.exports=t.default}).call(this,r(29).setImmediate)},7323:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=I(r(304)),o=(I(r(306)),I(r(439))),i=I(r(3)),l=r(302),u=I(r(827)),s=I(r(132)),d=I(r(12)),c=I(r(20)),f=I(r(108)),p=I(r(149)),y=I(r(130)),h=I(r(6284)),v=r(449),_=I(r(87)),m=I(r(5991)),g=I(r(6087)),O=r(0),A=I(r(13));function I(e){return e&&e.__esModule?e:{default:e}}function E(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var S=(0,a.default)({displayName:"GuildVoiceMoveToItem",mixins:[i.default.LazyStoreListenerMixin(f.default,y.default,c.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=this.props,t=e.guildId,r=e.user,n=y.default.getCurrentVoiceChannelId(t,r.id),a=n?c.default.getChannel(n):null;return{voiceChannels:f.default.getChannels(t)[O.ChannelTypes.GUILD_VOICE],currentVoiceChannel:a}},checkPermissionsForCurrentUser:function(e){if(!p.default.can(O.Permissions.CONNECT,e))return!1;if(p.default.can(O.Permissions.MOVE_MEMBERS,e))return!0;var t=e.getGuildId(),r=null!=t?h.default.getVoiceStatesForChannel(t,e.id):[];return!(0,v.isChannelFull)(e,r.length)},checkPermissionsForOtherUser:function(e){return function(t){return p.default.can(O.Permissions.MOVE_MEMBERS,t)&&(p.default.can(O.Permissions.CONNECT,t)||_.default.can(O.Permissions.CONNECT,e,t))}},getTargetChannels:function(){var e=this.props.user,t=this.state,r=t.voiceChannels,n=t.currentVoiceChannel,a=e.id===d.default.getId();if(null==n)throw new Error("[App]GuildVoiceMoveToItem.getTargetChannels(): assert failed: currentVoiceChannel != null");if(!a&&!p.default.can(O.Permissions.MOVE_MEMBERS,n))return[];var o=a?this.checkPermissionsForCurrentUser:this.checkPermissionsForOtherUser(e);return r.filter(function(e){var t=e.channel;return t.id!==n.id&&o(t)})},render:function(){var e=this,t=this.props.invertChildY;if(!this.state.currentVoiceChannel)return null;var r=this.getTargetChannels();if(0===r.length)return null;var n=r.map(function(t){var r=t.channel;return E(m.default,{action:function(){return e.handleChannelMove(r)},label:r.toString()},r.id)});return E(g.default,{label:A.default.Messages.MOVE_TO,invertChildY:t,render:n})},handleChannelMove:function(e){(0,l.closeContextMenu)(),this.props.user.id===d.default.getId()?s.default.selectVoiceChannel(this.props.guildId,e.id):u.default.setChannel(this.props.guildId,this.props.user.id,e.id)}}),T=i.default.connectStores([p.default],function(e){var t=e.guildId;return{permissionVersion:p.default.getGuildVersion(t)}})(S);t.default=T,e.exports=t.default},7324:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=_(r(304)),i=(_(r(306)),_(r(439))),l=_(r(3)),u=r(302),s=_(r(77)),d=_(r(858)),c=_(r(85)),f=_(r(14)),p=_(r(125)),y=_(r(5991)),h=_(r(445)),v=_(r(13));function _(e){return e&&e.__esModule?e:{default:e}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var O=(0,o.default)({displayName:"UserAddFriendItem",mixins:[l.default.StoreListenerMixin(c.default),i.default],getInitialState:function(){return{requestSent:!1}},getStateFromStores:function(){var e=this.props.user.id;return{me:f.default.getCurrentUser().id===e,isFriend:c.default.isFriend(e),isBlocked:c.default.isBlocked(e)}},render:function(){if(this.props.user.bot)return null;var e=null;if(!this.state.me){var t=v.default.Messages.ADD_FRIEND;this.state.isFriend?t=v.default.Messages.REMOVE_FRIEND:this.state.requestSent&&(t=v.default.Messages.ADD_FRIEND_BUTTON_AFTER),e=g(y.default,{label:t,action:this.handleToggleFriend,disabled:this.state.isBlocked||this.state.requestSent&&!this.state.isFriend})}return e},handleToggleFriend:function(){var e=this;this.state.requestSent||(this.state.isFriend?((0,u.closeContextMenu)(),s.default.push(function(t){return a.createElement(h.default,m({header:v.default.Messages.REMOVE_FRIEND_TITLE.format({name:e.props.user.username}),confirmText:v.default.Messages.REMOVE_FRIEND,cancelText:v.default.Messages.CANCEL,onConfirm:e.performRemoval},t),g(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,v.default.Messages.REMOVE_FRIEND_BODY.format({name:e.props.user.username})))})):(d.default.addRelationship(this.props.user.id,{location:"ContextMenu"}),this.setState({requestSent:!0})))},performRemoval:function(){d.default.removeRelationship(this.props.user.id,{location:"ContextMenu"}),this.setState({requestSent:!1})}});t.default=O,e.exports=t.default},7325:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=A(r(3)),i=r(302),l=A(r(827)),u=A(r(77)),s=A(r(6462)),d=A(r(28)),c=A(r(149)),f=A(r(14)),p=A(r(130)),y=A(r(5995)),h=A(r(5991)),v=A(r(6012)),_=A(r(7326)),m=A(r(7338)),g=r(0),O=A(r(13));function A(e){return e&&e.__esModule?e:{default:e}}function I(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var S=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).handleToggleServerMute=function(){var e=t.props,r=e.user,n=e.guildId,a=e.mute,o=e.suppress;l.default.setServerMute(n,r.id,!(a||o))},t.handleToggleServerDeaf=function(){var e=t.props,r=e.user,n=e.guildId,a=e.deaf;l.default.setServerDeaf(n,r.id,!a)},t.handleKick=function(){var e=t.props,r=e.user,n=e.guildId;u.default.push(function(e){return a.createElement(m.default,E({},e,{guildId:n,user:r}))}),(0,i.closeContextMenu)()},t.handleBan=function(){var e=t.props,r=e.user,n=e.guildId;u.default.push(function(e){return a.createElement(_.default,E({},e,{guildId:n,user:r}))}),(0,i.closeContextMenu)()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.channelId,r=e.user,n=e.guild,a=e.me,o=e.mute,i=e.deaf,l=e.suppress,u=null,s=null,d=null,f=null;return e.isVoiceConnected&&(c.default.can(g.Permissions.MUTE_MEMBERS,{channelId:t})&&(u=I(v.default,{danger:!0,label:O.default.Messages.SERVER_VOICE_MUTE,action:this.handleToggleServerMute,active:o||l})),c.default.can(g.Permissions.DEAFEN_MEMBERS,{channelId:t})&&(s=I(v.default,{danger:!0,label:O.default.Messages.SERVER_DEAFEN,action:this.handleToggleServerDeaf,active:i}))),a||null==n||(c.default.canManageUser(g.Permissions.KICK_MEMBERS,r,n)&&(d=I(h.default,{danger:!0,label:O.default.Messages.KICK+" "+r.username,action:this.handleKick})),c.default.canManageUser(g.Permissions.BAN_MEMBERS,r,n)&&(f=I(h.default,{danger:!0,label:O.default.Messages.BAN+" "+r.username,action:this.handleBan}))),I(y.default,{},void 0,u,s,d,f)},n}(a.Component);S.displayName="UserAdminItemGroup";var T=o.default.connectStores([f.default,p.default,d.default,c.default],function(e){var t=e.user,r=e.guildId,n=f.default.getCurrentUser()===t,a=!1,o=!1,i=!1,l=!1,u=p.default.getVoiceState(r,t.id);return null!=u&&(a=u.mute,o=u.deaf,i=u.suppress,l=null!=u.channelId),{guild:d.default.getGuild(r),me:n,mute:a,deaf:o,suppress:i,isVoiceConnected:l}})(S),b=(0,s.default)(function(e){var t,r=e.user;return(t={})[e.guildId]=[r.id],t})(T);t.default=b,e.exports=t.default},7326:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(827)),i=p(r(6004)),l=p(r(6286)),u=p(r(442)),s=p(r(445)),d=r(0),c=p(r(13)),f=p(r(5708));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=[{value:"0",label:c.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_NONE},{value:"1",label:c.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_24HR},{value:"7",label:c.default.Messages.DELETE_MESSAGE_HISTORY_OPTION_7D}],m=1,g=function(e){var t,n;function p(t){var r;return v(r=e.call(this,t)||this).handleSubmit=r.handleSubmit.bind(v(r)),v(r).handleChangeDeleteDuration=r.handleChangeDeleteDuration.bind(v(r)),v(r).handleChangeReason=r.handleChangeReason.bind(v(r)),r.state={duration:_[m].value,reason:""},r}n=e,(t=p).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=p.prototype;return g.handleSubmit=function(){var e=this.props,t=e.guildId,r=e.user,n=this.state,a=n.duration,i=n.reason;o.default.banUser(t,r.id,a,i)},g.handleChangeDeleteDuration=function(e){var t=e.value;this.setState({duration:t})},g.handleChangeReason=function(e){this.setState({reason:e})},g.render=function(){var e=this.state,t=e.duration,n=e.reason,o=this.props,p=o.user,v=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(o,["user"]);return a.createElement(s.default,y({header:c.default.Messages.BAN_CONFIRM_TITLE.format({username:"@"+p.toString()}),confirmText:c.default.Messages.BAN,cancelText:c.default.Messages.CANCEL,onConfirm:this.handleSubmit,red:!0},v),h("video",{autoPlay:!0,loop:!0,className:f.default.spacing,width:400},void 0,h("source",{src:r(7335),type:"video/webm"}),h("source",{src:r(7336),type:"video/mp4"}),h("img",{alt:"",src:r(7337)})),h(u.default,{title:c.default.Messages.FORM_LABEL_DELETE_MESSAGE_HISTORY,className:f.default.spacing},void 0,h(i.default,{clearable:!1,searchable:!1,options:_,value:t,onChange:this.handleChangeDeleteDuration})),h(u.default,{title:c.default.Messages.FORM_LABEL_REASON_BAN,className:f.default.spacing},void 0,h(l.default,{maxLength:d.MAX_REASON_LENGTH,onChange:this.handleChangeReason,value:n,rows:2})))},p}(a.PureComponent);g.displayName="BanConfirm";var O=g;t.default=O,e.exports=t.default},7335:function(e,t,r){e.exports=r.p+"62ac6016dc438a1fe4926ed43d3fe280.webm"},7336:function(e,t,r){e.exports=r.p+"6b3cc6ff5c09de83cc37561a43304dee.mp4"},7337:function(e,t,r){e.exports=r.p+"1923b5f96b83785235595042bd7f5a0d.png"},7338:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(827)),i=p(r(125)),l=p(r(6286)),u=p(r(442)),s=p(r(445)),d=r(0),c=p(r(13)),f=p(r(5709));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){var t,r;function n(t){var r;return v(r=e.call(this,t)||this).handleReasonChange=r.handleReasonChange.bind(v(r)),v(r).handleKick=r.handleKick.bind(v(r)),r.state={reason:""},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=n.prototype;return p.render=function(){var e=this.props.user;return a.createElement(s.default,y({header:c.default.Messages.KICK_USER_TITLE.format({user:e.username}),confirmText:c.default.Messages.KICK,cancelText:c.default.Messages.CANCEL,onConfirm:this.handleKick,red:!0},this.props),h(i.default,{size:i.default.Sizes.MEDIUM,color:i.default.Colors.PRIMARY,className:f.default.spacing},void 0,c.default.Messages.KICK_USER_BODY.format({user:"@"+e.toString()})),h(u.default,{title:c.default.Messages.FORM_LABEL_REASON_KICK,className:f.default.spacing},void 0,h(l.default,{maxLength:d.MAX_REASON_LENGTH,onChange:this.handleReasonChange,value:this.state.reason,rows:2})))},p.handleReasonChange=function(e){this.setState({reason:e})},p.handleKick=function(){var e=this.props,t=e.guildId,r=e.user;o.default.kickUser(t,r.id,this.state.reason)},n}(a.PureComponent);_.displayName="KickConfirm";var m=_;t.default=m,e.exports=t.default},7339:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=m(r(304)),i=(m(r(306)),m(r(439))),l=m(r(3)),u=r(302),s=m(r(77)),d=m(r(858)),c=m(r(85)),f=m(r(14)),p=m(r(125)),y=m(r(5991)),h=m(r(445)),v=r(0),_=m(r(13));function m(e){return e&&e.__esModule?e:{default:e}}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var A=(0,o.default)({displayName:"UserBlockItem",mixins:[l.default.StoreListenerMixin(c.default,f.default),i.default],getStateFromStores:function(){var e=this.props.user.id;return{me:f.default.getCurrentUser().id===e,isBlocked:c.default.isBlocked(e),isFriend:c.default.isFriend(e)}},render:function(){return this.state.me?null:O(y.default,{label:this.state.isBlocked?_.default.Messages.UNBLOCK:_.default.Messages.BLOCK,action:this.handleBlock})},handleBlock:function(){var e=this;(0,u.closeContextMenu)(),this.state.isBlocked?d.default.removeRelationship(this.props.user.id,{location:"ContextMenu"}):s.default.push(function(t){return a.createElement(h.default,g({header:_.default.Messages.CONFIRM_USER_BLOCK_TITLE.format({name:e.props.user.username}),confirmText:_.default.Messages.BLOCK,cancelText:_.default.Messages.CANCEL,onConfirm:e.performBlock},t),O(p.default,{size:p.default.Sizes.MEDIUM,color:p.default.Colors.PRIMARY},void 0,_.default.Messages.CONFIRM_USER_BLOCK_BODY.format({name:e.props.user.username})))})},performBlock:function(){d.default.addRelationship(this.props.user.id,{location:"ContextMenu"},v.RelationshipTypes.BLOCKED)}});t.default=A,e.exports=t.default},7340:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=d(r(443)),i=r(302),l=d(r(12)),u=d(r(5991)),s=d(r(13));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleCall=function(){(0,i.closeContextMenu)(),o.default.openPrivateChannel(l.default.getId(),t.props.userId,!0)},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return l.default.getId()===this.props.userId?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.CALL,action:this.handleCall})},a}(a.PureComponent);t.default=c,c.displayName="UserCallItem",e.exports=t.default},7341:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=c(r(443)),i=r(302),l=c(r(20)),u=c(r(5991)),s=r(0),d=c(r(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClose=function(){o.default.closePrivateChannel(t.props.channelId,t.props.selected),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=l.default.getChannel(this.props.channelId);return null==e||e.type===s.ChannelTypes.GROUP_DM?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:d.default.Messages.CLOSE_DM,action:this.handleClose})},a}(a.PureComponent);f.displayName="UserCloseChatItem";var p=f;t.default=p,e.exports=t.default},7342:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=I(r(304)),o=I(r(6)),i=(I(r(306)),I(r(439))),l=I(r(3)),u=I(r(443)),s=I(r(311)),d=I(r(152)),c=I(r(20)),f=I(r(108)),p=I(r(149)),y=I(r(85)),h=I(r(451)),v=I(r(14)),_=r(227),m=I(r(5991)),g=I(r(6087)),O=r(0),A=I(r(13));function I(e){return e&&e.__esModule?e:{default:e}}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var T=(0,a.default)({displayName:"UserInviteItem",mixins:[i.default],getInitialState:function(){return{guilds:h.default.getSortedGuilds().map(function(e){return e.guild}),currentUser:v.default.getCurrentUser(),invitedGuilds:{}}},render:function(){var e=this.props,t=e.user,r=e.guildId,n=this.state,a=n.currentUser,o=n.guilds,i=1===o.length&&o[0].id===r;return a.id===t.id||t.bot||i||y.default.isBlocked(t.id)?null:S(g.default,{label:A.default.Messages.INVITE_TO_SERVER,render:this.renderSubMenuItems})},renderSubMenuItems:function(){var e=this,t=this.props,r=t.user,n=t.guildId,a=this.state,i=a.guilds,l=a.currentUser,u=a.invitedGuilds;return(0,o.default)(i).filter(function(e){return(0,_.canViewInviteModal)(e,e)&&e.id!==n}).map(function(t){return u[t.id]?S(m.default,{disabled:!0,label:A.default.Messages.INVITE_SENT},t.id):S(m.default,{label:t.name,action:function(){return e.handleInvite(t,l.id,r.id)}},t.id)}).value()},handleInvite:function(e,t,r){var n,a=f.default.getDefaultChannel(e.id);if(null!=a){var o,i=this.state.invitedGuilds;if(this.setState({invitedGuilds:E({},i,(n={},n[e.id]=!0,n))}),p.default.can(O.Permissions.CREATE_INSTANT_INVITE,e))s.default.createInvite(a.id,(o={},o.max_uses=1,o.unique=!0,o),"User Invite Context Menu").then(function(e){var n=e.body;u.default.ensurePrivateChannel(t,r).then(function(e){var t=c.default.getChannel(e);null!=t&&d.default.sendInvite(t.id,n.code,"context_menu")})});else u.default.ensurePrivateChannel(t,r).then(function(t){var r=c.default.getChannel(t);null!=r&&d.default.sendInvite(r.id,e.vanityURLCode,"context_menu")})}}}),b=l.default.connectStores([p.default],function(){return{guildsPermissionState:p.default.getState().guilds}})(T);t.default=b,e.exports=t.default},7343:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=r(56),l=f(r(446)),u=f(r(46)),s=f(r(14)),d=f(r(6012)),c=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleToggleMute=function(){var e=t.props,r=e.me,n=e.userId,a=e.mediaEngineContext;r?l.default.toggleSelfMute(a):l.default.toggleLocalMute(n,a)},t.handleToggleDeaf=function(){var e=t.props,r=e.me,n=e.mediaEngineContext;r&&l.default.toggleSelfDeaf(n)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.me,r=e.localMute,n=e.selfDeafen;return p("div",{},void 0,p(d.default,{label:c.default.Messages.SOUND_MUTE,action:this.handleToggleMute,active:r}),t?p(d.default,{label:c.default.Messages.DEAFEN,action:this.handleToggleDeaf,active:n}):null)},n}(a.PureComponent);y.displayName="UserLocalMuteDeafenItem",y.defaultProps={mediaEngineContext:i.MediaEngineContextTypes.DEFAULT};var h=o.default.connectStores([u.default,s.default],function(e){var t=e.userId,r=e.mediaEngineContext,n=s.default.getCurrentUser().id===t,a=!1,o=!1;return n?(a=!u.default.isEnabled()||u.default.isSelfMute(r),o=u.default.isSelfDeaf(r)):a=u.default.isLocalMute(t,r),{me:n,localMute:a,selfDeafen:o}})(y);t.default=h,e.exports=t.default},7344:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=_(r(304)),o=(_(r(306)),_(r(439))),i=_(r(3)),l=r(302),u=_(r(20)),s=_(r(149)),d=_(r(49)),c=_(r(307)),f=r(106),p=_(r(6127)),y=_(r(5991)),h=r(0),v=_(r(13));function _(e){return e&&e.__esModule?e:{default:e}}var m=(0,a.default)({displayName:"UserMentionItem",mixins:[i.default.LazyStoreListenerMixin(d.default,u.default,s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){var e=d.default.getChannelId(this.props.guildId),t=u.default.getChannel(e);return{channelId:e,canSendMessages:null!=t&&(t.isGroupDM()||s.default.can(h.Permissions.SEND_MESSAGES,t))}},render:function(){return this.state.canSendMessages?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(y.default,{label:v.default.Messages.MENTION,action:this.handleMention}):null},handleMention:function(){var e=this.props.user,t=e.username,r=e.discriminator;(0,l.closeContextMenu)();var n="@"+t;c.default.hidePersonalInformation||(n+="#"+r),f.ComponentDispatch.dispatchToLastSubscribed(h.ComponentActions.INSERT_TEXT,{content:n}),null!=this.state.channelId&&p.default.typing(this.state.channelId)}});t.default=m,e.exports=t.default},7345:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(8)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={sendTyping:function(e){n.default.post(o.Endpoints.TYPING(e)).then(function(t){if(200===t.status){var r=t.body.message_send_cooldown_ms;r>0&&a.default.dispatch({type:o.ActionTypes.SLOWMODE_START_COOLDOWN,channelId:e,cooldownMs:r})}})}};t.default=l,e.exports=t.default},7346:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=c(r(443)),i=r(302),l=r(830),u=c(r(12)),s=c(r(5991)),d=c(r(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={currentUserId:u.default.getId()},t.handleMessage=function(){(0,i.closeContextMenu)(),o.default.openPrivateChannel(t.state.currentUserId,t.props.userId),(0,l.popLayer)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=null;return this.state.currentUserId!==this.props.userId&&(e=function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.USER_POPOUT_MESSAGE,action:this.handleMessage})),e},a}(a.PureComponent);f.displayName="UserMessageItem";var p=f;t.default=p,e.exports=t.default},7347:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=_(r(2)),o=v(r(304)),i=(v(r(306)),v(r(439))),l=v(r(3)),u=r(302),s=v(r(12)),d=v(r(5380)),c=v(r(307)),f=_(r(821)),p=v(r(5991)),y=v(r(5359)),h=v(r(13));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=(0,o.default)({displayName:"UserNoteItem",mixins:[l.default.StoreListenerMixin(d.default),i.default],statics:{LEFT:f.default.Positions.LEFT,RIGHT:f.default.Positions.RIGHT},getDefaultProps:function(){return{position:f.default.Positions.RIGHT}},getStateFromStores:function(){return{hasNote:d.default.getNote(this.props.user.id).length>0}},render:function(){return this.props.user.id===s.default.getId()||c.default.hidePersonalInformation?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(p.default,{label:this.state.hasNote?h.default.Messages.EDIT_NOTE:h.default.Messages.ADD_NOTE,action:this.handleOpenUserPopout})},renderUserPopout:function(e){var t=this.props,r=t.user,n=t.guildId,o=t.channelId;return a.createElement(y.default,m({},e,{user:r,guildId:n,channelId:o,setNote:!0}))},handleOpenUserPopout:function(){var e=this.props,t=e.target,r=e.position;(0,f.openPopout)(t||this,{closeOnScroll:!1,render:this.renderUserPopout,position:r,offsetX:15,shadow:!1}),(0,u.closeContextMenu)()}});t.default=g,e.exports=t.default},7397:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=(n=r(8))&&n.__esModule?n:{default:n},o=r(0);var i={updateNote:function(e,t){a.default.put({url:o.Endpoints.NOTES+"/"+e,body:{note:t}})}};t.default=i,e.exports=t.default},7398:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),a=v(r(17)),o=v(r(304)),i=(v(r(306)),v(r(439))),l=v(r(443)),u=v(r(152)),s=v(r(20)),d=v(r(85)),c=v(r(14)),f=r(6071),p=v(r(314)),y=v(r(13)),h=v(r(5717));function v(e){return e&&e.__esModule?e:{default:e}}var _=(0,o.default)({displayName:"QuickMessage",mixins:[i.default],handleKeyPress:function(e){var t=this;if(13===e.which){e.preventDefault();var r=this.refs.DM_INPUT_REF.value.trim();return(0,f.applyChatRestrictions)(null,r,null).then(function(e){if(e.valid){l.default.openPrivateChannel(c.default.getCurrentUser().id,t.props.user.id).then(function(e){var t=s.default.getChannel(e);u.default.sendMessage(t.id,p.default.parse(t,r))});var n=t.props.onClose;n&&n()}}),!0}},render:function(){var e=this.props,t=e.user,r=e.autoFocus,o=e.className,i=d.default.isBlocked(t.id);return n.createElement("input",{className:(0,a.default)(h.default.quickMessage,o,{isBlocked:i}),ref:"DM_INPUT_REF",autoFocus:r,placeholder:i?y.default.Messages.QUICK_DM_BLOCKED:y.default.Messages.QUICK_DM_USER.format({name:t.username}),onKeyPress:this.handleKeyPress,disabled:i})}});t.default=_,e.exports=t.default},7399:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=v(r(6209)),i=v(r(825)),l=v(r(35)),u=v(r(124)),s=v(r(301)),d=v(r(125)),c=v(r(18)),f=r(177),p=r(0),y=v(r(13)),h=v(r(5716));function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var g=function(e){var t,n;function v(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).animItem=null,t.handleConfirm=function(){var e=t.props.onConfirm;null!=e&&e(),t.close()},t.handleCancel=function(){var e=t.props.onCancel;null!=e&&e(),t.close()},t}n=e,(t=v).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var g=v.prototype;return g.componentDidMount=function(){var e=this,t=l.default.theme;r.e(250).then(function(n){var a=t===p.ThemeTypes.DARK?r(8343):r(8344);e.animItem=o.default.loadAnimation({container:e.animRef,renderer:"svg",loop:!0,autoplay:!0,animationData:a})}.bind(null,r)).catch(r.oe),c.default.track(p.AnalyticEvents.OPEN_POPOUT,m({type:"@Everyone Warning"},(0,f.collectChannelAnalyticsMetadata)(this.props.channel)))},g.componentWillUnmount=function(){null!=this.animItem&&(this.animItem.destroy(),this.animItem=void 0)},g.close=function(){var e=this.props.popoutKey;i.default.close(e)},g.render=function(){var e=this,t=this.props,r=t.numPeople,n=t.role,o=r>100?100:10;return _("form",{className:h.default.everyonePopout,onSubmit:this.handleConfirm},void 0,_("div",{className:h.default.body},void 0,a.createElement("div",{className:h.default.animation,ref:function(t){e.animRef=t}}),_("div",{className:h.default.content},void 0,_("div",{className:h.default.header},void 0,y.default.Messages.SELF_XSS_HEADER),_(d.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_BODY.format({role:n,count:(parseInt(r/o,10)*o).toLocaleString()})),_("div",{className:h.default.buttonWrapper},void 0,_("div",{className:h.default.buttonContainer},void 0,_(u.default,{className:h.default.button,look:u.default.Looks.OUTLINED,onClick:this.handleCancel},void 0,y.default.Messages.EDIT_MESSAGE),_(d.default,{className:h.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ESC.format())),_("div",{className:h.default.buttonContainer},void 0,_(u.default,{className:h.default.button,onClick:this.handleConfirm,type:"submit",autoFocus:!0},void 0,y.default.Messages.EVERYONE_POPOUT_SEND_NOW),_(d.default,{className:h.default.buttonHint},void 0,y.default.Messages.EVERYONE_POPOUT_ENTER.format()))))),_("div",{className:h.default.footer},void 0,_(s.default,{name:s.default.Names.INFO,color:p.Colors.PRIMARY_DARK_400,className:h.default.icon}),_(d.default,{},void 0,y.default.Messages.EVERYONE_POPOUT_FOOTER)))},v}(a.PureComponent);t.default=g,g.displayName="EveryonePopout",e.exports=t.default},7400:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(78),i=u(r(148)),l=u(r(5718));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function d(e){var t=e.percentage;return s("div",{className:l.default.bar},void 0,s("div",{className:l.default.barInner,style:{width:100*Math.max(Math.min(t,1),0)+"%"}}))}function c(e){return String(e).padStart(2,"0")}function f(e){var t=Math.floor(e)%60,r=Math.floor(e/60)%60,n=Math.floor(e/3600);return 0===n?r+":"+c(t):n+":"+c(r)+":"+c(t)}d.displayName="Bar";var p=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).timer=new o.Interval,t.state={now:Date.now()},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.componentDidMount=function(){var e=this;this.timer.start(500,function(){e.setState({now:Date.now()})})},a.componentWillUnmount=function(){this.timer.stop()},a.render=function(){var e=this.props,t=e.start,r=e.end,n=e.className,a=this.state.now,o=(r-t)/1e3,u=Math.max(Math.min((a-t)/1e3,o),0);return s("div",{className:n},void 0,s(d,{percentage:u/o}),s(i.default,{},void 0,s(i.default.Child,{grow:1,className:l.default.textLeft},void 0,f(u)),s(i.default.Child,{grow:0,className:l.default.textRight},void 0,f(o))))},n}(a.PureComponent);p.displayName="ActivityTimeBar";var y=p;t.default=y,e.exports=t.default},7403:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(8)),a=i(r(1)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void r(e)}l.done?t(u):Promise.resolve(u).then(n,a)}var u={fetchTrendingApplications:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH}),e.prev=1,e.next=4,n.default.get({url:o.Endpoints.APPLICATIONS_TRENDING});case 4:t=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH_FAIL}),e.t0;case 11:r=t.body,a.default.dispatch({type:o.ActionTypes.TRENDING_APPLICATIONS_FETCH_SUCCESS,trendingApplications:r});case 13:case"end":return e.stop()}},e,null,[[1,7]])}),function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function i(e){l(o,n,a,i,u,"next",e)}function u(e){l(o,n,a,i,u,"throw",e)}i(void 0)})});return function(){return t.apply(this,arguments)}}()};t.default=u,e.exports=t.default},7404:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=o(r(3)),a=o(r(1));r(0);function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=[],u=!1,s=null,d=!1;var c=new(function(e){var t,r,n,a,o;function c(){return e.apply(this,arguments)||this}return r=e,(t=c).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,c.prototype.shouldFetch=function(){return!d&&(null==s||Date.now()>s+864e5)},n=c,(a=[{key:"trendingApplications",get:function(){return l}},{key:"loaded",get:function(){return u}}])&&i(n.prototype,a),o&&i(n,o),c}(n.default.Store))(a.default,{TRENDING_APPLICATIONS_FETCH:function(e){d=!0},TRENDING_APPLICATIONS_FETCH_SUCCESS:function(e){var t=e.trendingApplications;l=t,s=Date.now(),u=!0,d=!1},TRENDING_APPLICATIONS_FETCH_FAIL:function(e){return s=Date.now(),u=!0,void(d=!1)}});t.default=c,e.exports=t.default},7405:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=l(r(3)),a=l(r(1)),o=l(r(149)),i=r(0);function l(e){return e&&e.__esModule?e:{default:e}}var u={};var s=new(function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.getChannel=function(e){var t=u[e];return null!=t&&o.default.can(i.Permissions.VIEW_CHANNEL,{channelId:t.channelId})?t:{channelId:null,guildId:null}},n}(n.default.Store))(a.default,{CONNECTION_OPEN:function(e){u={}},VOICE_STATE_UPDATE:function(e){var t=e.userId,r=e.guildId,n=e.channelId;if(null!=r&&null!=n){var a=u[t];if(null==a||a.guildId!==r||a.channelId!==n)return u[t]={guildId:r,channelId:n},!0}else if(null!=u[t])return delete u[t],!0;return!1}});t.default=s,e.exports=t.default},7406:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=O(r(2)),o=g(r(4)),i=g(r(3)),l=g(r(77)),u=g(r(6762)),s=g(r(41)),d=g(r(124)),c=g(r(148)),f=g(r(220)),p=g(r(107)),y=O(r(6046)),h=r(0),v=g(r(13)),_=g(r(5357)),m=g(r(5721));function g(e){return e&&e.__esModule?e:{default:e}}function O(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function A(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handlePlay=function(e,r){void 0===e&&(e=!0),void 0===r&&(r=null);var n=t.props,a=n.libraryApplication,o=n.analyticsParams;t.onClose(),y.playApplication(a.id,a,{analyticsParams:o,cloudSync:e,cloudSyncForceHash:r})},t.handleChooseDownload=function(){var e=t.props.cloudSyncState;e.type===h.CloudSyncStateTypes.CONFLICT&&t.handlePlay(!0,e.remote.hash)},t.handleChooseUpload=function(){var e=t.props.cloudSyncState;e.type===h.CloudSyncStateTypes.CONFLICT&&t.handlePlay(!0,e.next.hash)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var i=n.prototype;return i.onClose=function(){l.default.pop()},i.renderConflictButton=function(e,t,r,n){return A(d.default,{className:m.default.conflictButton,innerClassName:m.default.conflictButtonInner,onClick:n},void 0,A("div",{className:r}),A("div",{className:m.default.buttonBody},void 0,A("div",{className:m.default.conflictTitle},void 0,e),A("div",{},void 0,v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_LAST_MODIFIED),A("div",{className:m.default.timestamp},void 0,(0,o.default)(t).calendar())))},i.renderError=function(){var e=this,t=this.props.application;return A(a.Fragment,{},void 0,A(f.default.Content,{},void 0,A(c.default,{justify:c.default.Justify.CENTER},void 0,A("div",{className:m.default.errorArt})),A("div",{className:m.default.description},void 0,v.default.Messages.CLOUD_SYNC_MODAL_ERROR_DESCRIPTION.format({applicationName:t.name}))),A(f.default.Footer,{},void 0,A(c.default,{justify:c.default.Justify.BETWEEN},void 0,A(d.default,{className:m.default.linkButton,size:m.default.linkButtonSize,look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:this.onClose},void 0,v.default.Messages.CANCEL),A(c.default,{direction:c.default.Direction.HORIZONTAL,justify:c.default.Justify.END},void 0,A(d.default,{look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:function(){return e.handlePlay()},className:m.default.retryButton},void 0,v.default.Messages.RETRY),A(d.default,{onClick:function(){return e.handlePlay(!1)}},void 0,v.default.Messages.GAME_ACTION_BUTTON_PLAY)))))},i.renderConflict=function(){var e=this.props,t=e.application,r=e.cloudSyncState;if(r.type!==h.CloudSyncStateTypes.CONFLICT)throw new Error("Cannot render conflict for non conflict type");return A(f.default.Content,{className:_.default.marginBottom20},void 0,A("div",{className:m.default.description},void 0,v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_DESCRIPTION.format({applicationName:t.name})),this.renderConflictButton(v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_DOWNLOAD,r.remote.timestamp,m.default.conflictDownloadArt,this.handleChooseDownload),A(c.default,{className:m.default.choiceWrapper,align:c.default.Align.CENTER},void 0,A("div",{className:m.default.choiceLine}),A("div",{className:m.default.choiceTitle},void 0,v.default.Messages.CLOUD_SYNC_MODAL_OR),A("div",{className:m.default.choiceLine})),this.renderConflictButton(v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_CHOICE_UPLOAD,r.next.timestamp,m.default.conflictUploadArt,this.handleChooseUpload))},i.render=function(){var e=this.props.cloudSyncState;return A(f.default,{className:m.default.modal},void 0,A(f.default.Header,{separator:!1},void 0,A(f.default.CloseButton,{className:m.default.closeButton,onClick:this.onClose}),A(p.default,{tag:p.default.Tags.H2,className:_.default.marginReset},void 0,e.type===h.CloudSyncStateTypes.CONFLICT?v.default.Messages.CLOUD_SYNC_MODAL_CONFLICT_HEADER:v.default.Messages.CLOUD_SYNC_MODAL_ERROR_HEADER)),e.type===h.CloudSyncStateTypes.CONFLICT?this.renderConflict():this.renderError())},n}(a.PureComponent);I.displayName="CloudSyncResolutionModal";var E=i.default.connectStores([u.default,s.default],function(e){var t=e.libraryApplication,r=e.branchId;return{cloudSyncState:u.default.getState(t.id,r),application:s.default.getGame(t.id)}})(I);t.default=E,e.exports=t.default},7407:function(e,t,r){"use strict";t.__esModule=!0,t.installApplication=function(e,t,r,s,c){var f=l.default.getInstallationPath(e.id,t),p=null!=e.eulaId&&!u.default.hasAcceptedEULA(e.eulaId);null==f||p?i.default.push(function(r){return a.createElement(n,d({},r,{applicationId:e.id,branchId:t,analyticsLocation:c}))}):(0,o.installApplication)(e,t,r,s,f,c)};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(326),i=s(r(77)),l=(s(r(110)),s(r(329))),u=s(r(6468));r(0);function s(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}n=n=r(7408)},7408:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=P(r(3)),i=P(r(1)),l=r(491),u=r(6088),s=r(326),d=P(r(77)),c=P(r(41)),f=P(r(329)),p=P(r(467)),y=P(r(6468)),h=P(r(124)),v=P(r(148)),_=P(r(6005)),m=P(r(220)),g=P(r(107)),O=r(882),A=P(r(44)),I=P(r(6291)),E=P(r(6764)),S=r(0),T=P(r(13)),b=P(r(5729));function P(e){return e&&e.__esModule?e:{default:e}}function N(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var M=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={selectedInstallationPath:t.props.defaultInstallationPath,hasError:!1,isInstalling:!1,hasAcceptedNeccessaryTerms:!1},t.isUnmounted=!1,t.handleChangePath=function(e,r){t.setState({selectedInstallationPath:e,hasError:r})},t.install=function(e,r){var n=t.props,a=n.application,o=n.branchId,i=n.analyticsLocation;if(null==a)return null;(0,s.installApplication)(a,o,e,r,t.state.selectedInstallationPath,i),A.default.transitionTo(S.Routes.APPLICATION_LIBRARY),t.close()},t.handleInstall=function(){var e=t.props,r=e.application,n=e.buildId,a=e.manifestIds,o=e.hasPreviouslyAcceptedStoreTerms;if(null==n||null==a)throw new Error("Unexpected missing build info for non-premium product");o||(0,u.acceptPurchaseTerms)(),null!=r.eulaId&&(0,u.acceptEULA)(r.eulaId),t.install(n,a)},t.handlePurchaseTermsChange=function(e){t.setState({hasAcceptedNeccessaryTerms:e})},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.fetchInstallSize=function(){var e=this.props,t=e.applicationId,r=e.branchId,n=e.buildId,a=e.manifestIds,o=e.buildSizeKB;null!=n&&null!=a&&null==o&&i.default.wait(function(){(0,l.fetchBuildSize)(t,r,n,a)})},a.componentDidMount=function(){var e=this.props,t=e.applicationId,r=e.branchId,n=e.buildId,a=e.manifestIds;null==n||null==a?(0,l.fetchLiveBuild)(t,r):this.fetchInstallSize()},a.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()},a.componentWillUnmount=function(){this.isUnmounted=!0},a.close=function(){d.default.pop()},a.renderButton=function(){var e=this.props.buildId,t=this.state,r=t.hasError,n=t.hasAcceptedNeccessaryTerms;return N(h.default,{disabled:r||null==e||!n,color:h.default.Colors.GREEN,onClick:this.handleInstall},void 0,T.default.Messages.GAME_ACTION_BUTTON_INSTALL)},a.render=function(){var e=this.props,t=e.application,r=e.buildSizeKB,n=this.state,a=n.selectedInstallationPath,o=n.isInstalling,i=t.getSplashURL(440);return N(m.default,{size:m.default.Sizes.SMALL},void 0,null!=i?N("div",{className:b.default.splash,style:{backgroundImage:"url("+i+")"}}):null,N(m.default.Header,{},void 0,N(v.default.Child,{grow:1},void 0,N(g.default,{tag:g.default.Tags.H4},void 0,T.default.Messages.APPLICATION_INSTALLATION_MODAL_TITLE)),N(v.default.Child,{grow:0},void 0,N(m.default.CloseButton,{onClick:this.close}))),N(m.default.Content,{},void 0,N(v.default,{align:v.default.Align.CENTER},void 0,N(_.default,{game:t,size:_.default.Sizes.MEDIUM,className:b.default.gameIcon}),N("div",{className:b.default.gameName},void 0,t.name),null!=r?N("div",{className:b.default.installSize},void 0,(0,O.formatSize)(r,{useKibibytes:!0})):null),N("div",{className:b.default.divider}),N(E.default,{autoFocus:!0,className:b.default.selector,value:a,requiredDiskKB:r,onChange:this.handleChangePath}),N(I.default,{eulaId:t.eulaId,applicationName:t.name,disabled:o,onChange:this.handlePurchaseTermsChange,className:b.default.terms})),N(m.default.Footer,{},void 0,this.renderButton()))},n}(a.Component);M.displayName="ApplicationInstallationModal";var C=o.default.connectStores([f.default,c.default,p.default,y.default],function(e){var t=e.applicationId,r=e.branchId,n=p.default.getTargetBuildId(t,r);return{application:c.default.getGame(t),defaultInstallationPath:f.default.defaultInstallationPath,buildId:n,manifestIds:p.default.getTargetManifests(t,r),buildSizeKB:null!=n?p.default.getBuildSize(n):null,hasPreviouslyAcceptedStoreTerms:y.default.hasAcceptedStoreTerms}})(M);t.default=C,e.exports=t.default},7412:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=i(r(47)),a=i(r(835)),o=r(0);function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t,r;function n(){return e.apply(this,arguments)||this}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.createFromServer=function(e){return Object.values(o.PromotionTypes).includes(e.data.type)?new n({id:e.promotion_id,title:e.data.title,description:e.data.description,ctaButtonLabel:e.data.type===o.PromotionTypes.GENERAL?e.data.cta_button_label:null,imageUrl:e.data.image_url,videoUrl:e.data.video_url,ackKey:e.impression_ack_key,destination:e.data.type===o.PromotionTypes.GAME?{type:o.PromotionTypes.GAME,sku:a.default.createFromServer(e.data.sku)}:{type:o.PromotionTypes.GENERAL,linkUrl:e.data.link_url}}):null},n.prototype.initialize=function(e){this.id=e.id,this.title=e.title,this.description=e.description,this.ctaButtonLabel=e.ctaButtonLabel,this.imageUrl=e.imageUrl,this.videoUrl=e.videoUrl,this.ackKey=e.ackKey,this.destination=e.destination},n}(n.default);t.default=l,e.exports=t.default},7414:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(3)),i=r(302),l=p(r(154)),u=p(r(86)),s=p(r(194)),d=p(r(9)),c=p(r(5991)),f=p(r(13));function p(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.application,a=e.installPath,o=r.getBranchedName(n);s.default.createShortcuts(!0,!1,o,r.id,a),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return null!=this.props.installPath&&d.default.isDesktop()?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_CREATE_DESKTOP_SHORTCUT,action:this.handleAction}):null},a}(a.PureComponent);y.displayName="ApplicationCreateDesktopShortcut";var h=o.default.connectStores([u.default,l.default],function(e){var t,r=e.libraryApplication,n=l.default.getState(r.id,r.branchId);return null!=n&&(t=n.installPath),{installPath:t}})(y);t.default=h,e.exports=t.default},7415:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=y(r(3)),i=r(302),l=r(186),u=y(r(35)),s=r(6010),d=y(r(5995)),c=y(r(5991)),f=y(r(6087)),p=y(r(13));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).renderItems=function(){var e=t.props,r=e.libraryApplication,n=e.application,o=n.primarySkuId;return h(a.Fragment,{},void 0,h(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_APPLICATION_ID,action:function(){return t.handleCopy(n.id)}}),null==r||r instanceof l.LocalApplicationRecord?null:h(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_BRANCH_ID,action:function(){return t.handleCopy(r.branchId)}}),null!=o?h(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_SKU_ID,action:function(){return t.handleCopy(o)}}):null)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.handleCopy=function(e){(0,s.copy)(e),(0,i.closeContextMenu)()},o.render=function(){var e=this,t=this.props,r=t.developerMode,n=t.application;return!__OVERLAY__&&r&&s.SUPPORTS_COPY?h(d.default,{},void 0,h(f.default,{label:p.default.Messages.COPY,render:this.renderItems,action:function(){return e.handleCopy(n.id)}})):null},n}(a.PureComponent);v.displayName="ApplicationDeveloperModeGroup";var _=o.default.connectStores([u.default],function(){return{developerMode:u.default.developerMode}})(v);t.default=_,e.exports=t.default},7416:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=_(r(2)),o=v(r(3)),i=r(302),l=v(r(322)),u=v(r(154)),s=v(r(41)),d=v(r(86)),c=v(r(64)),f=r(323),p=_(r(6046)),y=v(r(5991)),h=v(r(13));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var m=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.isLaunchable,a=e.analyticsLocation;n&&p.playApplication(r.id,r,{analyticsParams:{location:a}}),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return!this.props.isLaunchable||this.props.isRunning?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(y.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_LAUNCH,action:this.handleAction})},a}(a.PureComponent);m.displayName="ApplicationLaunchItem";var g=o.default.connectStores([s.default,u.default,d.default,c.default,l.default],function(e){var t=e.libraryApplication;return{isRunning:c.default.getRunningVerifiedApplicationIds().includes(t.id),isLaunchable:(0,f.isLaunchable)(d.default,s.default,u.default,l.default,t.id,t.branchId)}})(m);t.default=g,e.exports=t.default},7417:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=f(r(2)),o=c(r(3)),i=r(302),l=f(r(327)),u=c(r(154)),s=c(r(86)),d=c(r(5991));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(e,r){var n=t.props,a=n.libraryApplication,o=n.onPlay,u=n.activeLaunchOptionId;r.id!==u&&l.setActiveLaunchOptionId(a.id,a.branchId,r.id),o&&o(e),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this,t=this.props.launchOptions;return t.length<2?null:t.map(function(t){var r=t.id,a=t.name;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:a,action:function(r){return e.handleAction(r,t)}},r)})},a}(a.PureComponent);p.displayName="ApplicationLaunchOptionSelectorItem";var y=o.default.connectStores([s.default,u.default],function(e){var t=e.libraryApplication;return{launchOptions:u.default.getLaunchOptions(t.id,t.branchId),activeLaunchOptionId:s.default.getActiveLaunchOptionId(t.id,t.branchId)}})(p);t.default=y,e.exports=t.default},7418:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=h(r(2)),o=y(r(3)),i=r(302),l=y(r(154)),u=y(r(86)),s=y(r(64)),d=h(r(6046)),c=y(r(5991)),f=r(0),p=y(r(13));function y(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var v=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.libraryApplication;d.repairApplication(e.id,e.branchId,f.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.isUpToDate,r=e.isRunning,a=e.shouldPatch;return t&&!r&&a?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:p.default.Messages.APPLICATION_CONTEXT_MENU_REPAIR,action:this.handleAction}):null},a}(a.PureComponent);v.displayName="ApplicationRepairItem";var _=o.default.connectStores([l.default,u.default,s.default],function(e){var t=e.libraryApplication;return{isRunning:s.default.getRunningVerifiedApplicationIds().includes(t.id),isUpToDate:l.default.isUpToDate(t.id,t.branchId),shouldPatch:l.default.shouldPatch(t.id,t.branchId)}})(v);t.default=_,e.exports=t.default},7419:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=r(302),l=f(r(176)),u=r(6470),s=r(6010),d=f(r(5991)),c=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.sku;if(null==e)throw new Error("SKU null in ApplicationStoreCopyLinkItem");(0,s.copy)((0,u.getStoreListingLink)(e)),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return null==this.props.sku||__OVERLAY__||!s.SUPPORTS_COPY?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:c.default.Messages.APPLICATION_CONTEXT_MENU_COPY_STORE_LINK,action:this.handleAction})},a}(a.PureComponent);p.displayName="ApplicationStoreLinkItem";var y=o.default.connectStores([l.default],function(e){var t=e.application.primarySkuId;return{sku:null!=t?l.default.get(t):null}})(p);t.default=y,e.exports=t.default},7420:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(302),i=r(841),l=s(r(5991)),u=s(r(13));function s(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.application,n=e.analyticsLocation;(0,i.goToApplicationStoreListing)(r.id,{analyticsSource:n,slug:r.slug}),(0,o.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return null==this.props.application.primarySkuId?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(l.default,{label:u.default.Messages.APPLICATION_CONTEXT_MENU_STORE_LINK,action:this.handleAction})},a}(a.PureComponent);d.displayName="ApplicationStoreLinkItem";var c=d;t.default=c,e.exports=t.default},7421:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=c(r(2)),o=d(r(3)),i=c(r(6159)),l=d(r(455)),u=d(r(6012)),s=d(r(13));function d(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var f=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleToggle=function(){var e=t.props,r=e.application;e.isFollowing?i.removeGamesFromFeed([r.id]):i.addGamesToFeed([r.id])},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props.isFollowing;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:e})},a}(a.PureComponent);f.displayName="ApplicationShowInActivityFeedItem";var p=o.default.connectStores([l.default],function(e){var t=e.application;return{isFollowing:l.default.applicationIsOnFeed(t.id)}})(f);t.default=p,e.exports=t.default},7422:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=E(r(2)),o=I(r(3)),i=r(302),l=E(r(327)),u=I(r(77)),s=E(r(875)),d=r(186),c=I(r(154)),f=I(r(41)),p=I(r(86)),y=I(r(238)),h=I(r(125)),v=I(r(18)),_=r(159),m=I(r(5991)),g=I(r(445)),O=r(0),A=I(r(13));function I(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function S(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var b=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props,r=e.libraryApplication,n=e.application,a=e.shouldShowConfirmationModal;null!=r&&null!=n&&(r.isHidden()||!a?t.toggleHidden(r):t.openRemoveConfirmationModal(r,n),(0,i.closeContextMenu)())},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=n.prototype;return o.track=function(e){var t=this.props.libraryApplication;v.default.track(O.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,T({hidden_enabled:e},t.getAnalyticsData()))},o.openRemoveConfirmationModal=function(e,t){var r=this;u.default.push(function(n){return a.createElement(g.default,T({header:A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_HEADER,confirmText:A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_CONFIRM,cancelText:A.default.Messages.CANCEL,onConfirm:function(){return r.removeFromLibrary(e)},red:!1},n),S(h.default,{size:h.default.Sizes.MEDIUM,color:h.default.Colors.PRIMARY},void 0,A.default.Messages.APPLICATION_LIBRARY_REMOVE_CONFIRM_BODY.format({name:t.name})))})},o.removeFromLibrary=function(e){this.props.isInstalled||this.toggleHidden(e)},o.toggleHidden=function(e){var t=(0,_.toggleFlag)(e.getFlags(),O.LibraryApplicationFlags.HIDDEN);e instanceof d.LocalApplicationRecord?s.updateFlags(e.id,t):e instanceof d.LibraryApplicationRecord&&l.updateFlags(e.id,e.branchId,t),this.track((0,_.hasFlag)(t,O.LibraryApplicationFlags.HIDDEN))},o.render=function(){var e=this.props,t=e.isInstalled,r=e.libraryApplication;return t&&!r.isHidden()?null:S(m.default,{label:r.isHidden()?A.default.Messages.APPLICATION_CONTEXT_MENU_SHOW:A.default.Messages.APPLICATION_CONTEXT_MENU_HIDE,action:this.handleAction})},n}(a.PureComponent);b.displayName="ApplicationToggleInLibraryItem";var P=o.default.connectStores([p.default,c.default,y.default,f.default],function(e){var t=e.libraryApplication;return{isInstalled:c.default.isInstalled(t.id,t.branchId),shouldShowConfirmationModal:!p.default.hasRemovedLibraryApplicationThisSession}})(b);t.default=P,e.exports=t.default},7423:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=_(r(2)),o=v(r(3)),i=r(302),l=_(r(326)),u=v(r(154)),s=v(r(86)),d=v(r(64)),c=v(r(467)),f=_(r(6046)),p=v(r(5991)),y=r(0),h=v(r(13));function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleInstall=function(){var e=t.props.libraryApplication;f.installApplication(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t.handleUninstall=function(){var e=t.props.libraryApplication;l.uninstallBranchPrompt(e.id,e.branchId,y.AnalyticsLocations.APPLICATION_CONTEXT_MENU_TOGGLE_INSTALL),(0,i.closeContextMenu)()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=this.props,t=e.isInstalled,r=e.targetManifests,n=e.isRunning;return t?n?null:m(p.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_UNINSTALL,action:this.handleUninstall}):null==r?null:m(p.default,{label:h.default.Messages.APPLICATION_CONTEXT_MENU_INSTALL,action:this.handleInstall})},n}(a.PureComponent);g.displayName="ApplicationToggleInstallItem";var O=o.default.connectStores([u.default,c.default,s.default,d.default],function(e){var t=e.libraryApplication;return{isRunning:d.default.getRunningVerifiedApplicationIds().includes(t.id),isInstalled:u.default.isInstalled(t.id,t.branchId),targetManifests:c.default.getTargetManifests(t.id,t.branchId)}})(g);t.default=O,e.exports=t.default},7424:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=y(r(2)),o=y(r(327)),i=y(r(875)),l=r(186),u=p(r(18)),s=r(159),d=p(r(6012)),c=r(0),f=p(r(13));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var r=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.OVERLAY_DISABLED);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,r):o.updateFlags(e.id,e.branchId,r),t.track((0,s.hasFlag)(r,c.LibraryApplicationFlags.OVERLAY_DISABLED))}},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=a.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,h({overlay_disabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_TOGGLE_OVERLAY_DISABLE,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.OVERLAY_DISABLED)})},a}(a.PureComponent);v.displayName="ApplicationToggleOverlayItem";var _=v;t.default=_,e.exports=t.default},7425:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=y(r(2)),o=y(r(327)),i=y(r(875)),l=r(186),u=p(r(18)),s=r(159),d=p(r(6012)),c=r(0),f=p(r(13));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var v=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).toggle=function(){var e=t.props.libraryApplication;if(null!=e){var r=(0,s.toggleFlag)(e.getFlags(),c.LibraryApplicationFlags.PRIVATE);e instanceof l.LocalApplicationRecord?i.updateFlags(e.id,r):o.updateFlags(e.id,e.branchId,r),t.track((0,s.hasFlag)(r,c.LibraryApplicationFlags.PRIVATE))}},t}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var p=a.prototype;return p.track=function(e){var t=this.props.libraryApplication;u.default.track(c.AnalyticEvents.APPLICATION_SETTINGS_UPDATED,h({private_enabled:e},t.getAnalyticsData()))},p.render=function(){var e=this.props.libraryApplication;return null==e?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:f.default.Messages.APPLICATION_CONTEXT_MENU_PRIVATE_STATUS,action:this.toggle,active:e.hasFlag(c.LibraryApplicationFlags.PRIVATE)})},a}(a.PureComponent);v.displayName="ApplicationTogglePrivateItem";var _=v;t.default=_,e.exports=t.default},7426:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=r(302),l=r(905),u=f(r(46)),s=f(r(5991)),d=r(0),c=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleAction=function(){var e=t.props.application;(0,l.openModal)(e.id,d.CURRENT_APP_CONTEXT,e.name),(0,i.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return this.props.hasMediaEngineContext?function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:c.default.Messages.IN_GAME_VOICE_SETTINGS,action:this.handleAction}):null},a}(a.PureComponent);p.displayName="ApplicationVoiceSettingsItem";var y=o.default.connectStores([u.default],function(e){var t=e.application;return{hasMediaEngineContext:u.default.hasContext(t.id)}})(p);t.default=y,e.exports=t.default},7427:function(e,t,r){e.exports=r.p+"6a0d045ec452de05f71ee63fece2327f.svg"},7428:function(e,t,r){e.exports=r.p+"5917566c2502226aa777df2eadbb19e6.svg"},7429:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=v(r(17)),i=r(223),l=r(178),u=v(r(124)),s=v(r(148)),d=v(r(125)),c=v(r(7131)),f=v(r(437)),p=r(0),y=v(r(13)),h=v(r(5744));function v(e){return e&&e.__esModule?e:{default:e}}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var g=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleJoinRequest=function(){var e=t.props,r=e.activity,n=e.onJoinRequest,a=e.user;n&&n(r,a.id)},t.handleSpectate=function(){var e=t.props,r=e.activity,n=e.onSpectate,a=e.user;n&&n(r,a.id)},t.handleNotify=function(){var e=t.props,r=e.activity,n=e.onNotify,a=e.user;n&&n(r,a.id)},t.handleWatchStream=function(){var e=t.props,r=e.applicationStreamData,n=e.onWatchStream;n&&n(r)},t}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.getTypeClass=function(e){return(0,l.getClass)(h.default,e,this.props.type)},a.isListeningActivity=function(){return this.props.activity.type===p.ActivityTypes.LISTENING},a.processActions=function(e){var t=this.props,r=t.showPrimaryActionOnly,n=t.reverse;return r?e.find(function(e){return null!=e})||null:n?[].concat(e).reverse():e},a.renderBuyButton=function(){var e=this.props,t=e.color,r=e.look,n=e.hover,a=e.onViewInStore;return m(u.default,{className:h.default.button,color:t,look:r,hover:n,size:h.default.buttonSize,onClick:a},"buy",y.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},a.renderJoinRequest=function(){var e=this.props,t=e.activity,r=e.hasActiveJoinRequest,n=e.user,a=e.currentUser,o=e.isBrowser,l=e.isLaunchable,s=e.color,d=e.look,c=e.hover;if(null==t||!(0,i.hasFlag)(t,p.ActivityFlags.JOIN)||null==t.application_id)return null;var v=a.id===n.id,_=!v&&(o||l)&&!r,g=null;return v?g=y.default.Messages.USER_ACTIVITY_CANNOT_JOIN_SELF:o||l||(g=y.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name})),m(f.default,{text:g},"join-request",m(u.default,{className:h.default.button,onClick:this.handleJoinRequest,color:s,look:d,hover:c,disabled:!_,size:h.default.buttonSize,fullWidth:!0},void 0,y.default.Messages.USER_ACTIVITY_ACTION_ASK_TO_JOIN))},a.renderSpectate=function(){var e=this.props,t=e.activity,r=e.spectateState,n=e.user,a=e.currentUser,o=e.isBrowser,l=e.isLaunchable,c=e.color,v=e.look,_=e.applicationStreamData;if(null==t||!(0,i.hasFlag)(t,p.ActivityFlags.SPECTATE)||null==t.application_id||null!=_)return null;var g=r===p.ActivityActionStates.FAILED,O=r===p.ActivityActionStates.LOADING,A=a.id===n.id,I=!A&&(o||l),E=null;A?E=y.default.Messages.USER_ACTIVITY_CANNOT_SPECTATE_SELF:o||l||(E=y.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:t.name}));var S=m(f.default,{text:E},"spectate",m(u.default,{className:h.default.button,onClick:this.handleSpectate,submitting:O,disabled:!I,color:c,look:v,size:h.default.buttonSize,fullWidth:!0},void 0,y.default.Messages.USER_ACTIVITY_ACTION_SPECTATE));return g?m(s.default,{direction:s.default.Direction.VERTICAL},void 0,S,m(d.default,{color:d.default.Colors.RED,className:h.default.actionError},void 0,y.default.Messages.USER_ACTIVITY_ACTION_FAILED_TO_LAUNCH)):S},a.renderNotify=function(){return(0,i.hasFlag)(this.props.activity,p.ActivityFlags.INSTANCE)?m(u.default,{className:h.default.button,look:u.default.Looks.OUTLINED,size:h.default.buttonSize,onClick:this.handleNotify,fullWidth:!0},"notify",y.default.Messages.USER_ACTIVITY_ACTION_NOTIFY_ME):null},a.renderSync=function(){var e=this.props,t=e.activity,r=e.color,n=e.look,a=e.user,o=e.renderSpotifySyncButton;if(!(0,i.hasFlag)(t,p.ActivityFlags.SYNC))return null;var l={key:"sync",className:h.default.button,size:h.default.buttonSize,color:r,look:n};return(0,i.isListeningOnSpotify)(t)?o(_({},l,{activity:t,user:a})):null},a.renderXboxConnectButton=function(){var e=this.props,t=e.color,r=e.look,n=e.hasXboxAccount,a=e.type,o=e.renderXboxButton;return n||a===c.default.Types.ACTIVITY_FEED?null:m(s.default,{grow:0,className:this.getTypeClass("actions")},void 0,o({className:h.default.button,size:h.default.buttonSize,color:t,look:r,fullWidth:!0}))},a.renderPlay=function(){var e=this.props,t=e.activity,r=e.user,n=e.color,a=e.look,o=e.renderSpotifyPlayButton;if(!(0,i.hasFlag)(t,p.ActivityFlags.PLAY))return null;var l={key:"play",className:h.default.button,size:h.default.buttonSize,color:n,look:a};return(0,i.isListeningOnSpotify)(t)?o(_({},l,{activity:t,user:r,fullWidth:!0})):null},a.renderWatch=function(){var e=this.props,t=e.activity,r=e.color,n=e.look,a=null!=e.applicationStreamData;return(0,i.isStreaming)(t)||a?m(u.default,{className:h.default.button,size:h.default.buttonSize,onClick:a?this.handleWatchStream:function(){return window.open((0,i.getStreamURL)(t))},color:r,look:n,fullWidth:!0},"play",a?y.default.Messages.WATCH_STREAM:y.default.Messages.WATCH):null},a.render=function(){var e=this.props,t=e.activity,r=e.type,n=e.isLaunchable,a=e.showBuyDiscordGame,l=e.canBuyDiscordGame;if((0,i.isOnXbox)(t))return this.renderXboxConnectButton();var u,d=r===c.default.Types.PROFILE,f=d?s.default.Align.END:s.default.Align.STRETCH,p=d?s.default.Direction.VERTICAL:s.default.Direction.HORIZONTAL;if(this.isListeningActivity()){var y=this.renderSync(),h=this.renderPlay();return m(s.default,{grow:0,align:f,className:this.getTypeClass("listeningActions")},void 0,h,y)}if(!n&&a&&l)u=[this.renderBuyButton()];else{var v=this.renderJoinRequest(),_=this.renderSpectate(),g=this.renderNotify(),O=this.renderWatch();if(null==v&&null==_&&null==g&&null==O)return null;u=[v,_,g,O]}return m(s.default,{grow:0,align:f,direction:p,className:(0,o.default)(this.props.className,this.getTypeClass("actions"))},void 0,this.processActions(u))},n}(a.PureComponent);g.displayName="UserActivityActions",g.defaultProps={color:u.default.Colors.WHITE,look:u.default.Looks.OUTLINED,showPrimaryActionOnly:!1,reverse:!1};var O=g;t.default=O,e.exports=t.default},7430:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=y(r(77)),i=r(476),l=y(r(124)),u=y(r(148)),s=y(r(220)),d=y(r(125)),c=y(r(107)),f=y(r(13)),p=y(r(5745));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleCancel=function(){o.default.pop()},t.handleUpgrade=function(){(0,i.openPremiumSite)(),o.default.pop()},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){return h(s.default,{size:s.default.Sizes.SMALL},void 0,h(s.default.Header,{},void 0,h(c.default,{tag:c.default.Tags.H4},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_HEADER)),h(s.default.Content,{},void 0,h(u.default,{justify:u.default.Justify.CENTER},void 0,h("div",{className:p.default.image})),h(d.default,{color:d.default.Colors.PRIMARY,className:p.default.text},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BODY)),h(s.default.Footer,{},void 0,h(l.default,{onClick:this.handleUpgrade},void 0,f.default.Messages.SPOTIFY_PREMIUM_UPGRADE_BUTTON),h(l.default,{look:l.default.Looks.LINK,color:l.default.Colors.PRIMARY,onClick:this.handleCancel},void 0,f.default.Messages.CANCEL)))},n}(a.PureComponent);v.displayName="SpotifyPremiumUpgrade";var _=v;t.default=_,e.exports=t.default},7431:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(824)),i=p(r(155)),l=p(r(124)),u=p(r(148)),s=p(r(301)),d=r(0),c=p(r(13)),f=p(r(5748));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=i.default.get(d.PlatformTypes.XBOX).name,_=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(){var e=t.props.onOpenConnections;e&&e(),o.default.open(d.UserSettingsSections.CONNECTIONS)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){return a.createElement(l.default,y({},this.props,{onClick:this.handleClick}),h(u.default,{align:u.default.Align.CENTER},void 0,h(s.default,{name:s.default.Names.PLATFORM_XBOX,className:f.default.xboxButtonLogo}),c.default.Messages.USER_ACTIVITY_CONNECT_PLATFORM.format({platform:v})))},n}(a.Component);t.default=_,_.displayName="XboxButton",e.exports=t.default},7432:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=d(r(17)),i=d(r(124)),l=d(r(220)),u=d(r(107)),s=d(r(5749));function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){var t,r;function n(t){var r;return f(r=e.call(this,t)||this).handleCancel=r.handleCancel.bind(f(r)),f(r).handleConfirm=r.handleConfirm.bind(f(r)),r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.renderCancel=function(){var e=this.props.cancelText;return null==e?null:c(i.default,{look:i.default.Looks.LINK,onClick:this.handleCancel},void 0,e)},a.renderConfirm=function(){var e=this.props.confirmText;return null==e?null:c(i.default,{onClick:this.handleConfirm},void 0,e)},a.render=function(){var e=this.props,t=e.title,r=e.imageClass,n=e.body;return c(l.default,{},void 0,c(l.default.Header,{},void 0,c(u.default,{tag:u.default.Tags.H4},void 0,t)),c(l.default.Content,{},void 0,r&&c("div",{className:(0,o.default)(s.default.image,r)}),c("div",{className:s.default.body},void 0,n)),c(l.default.Footer,{},void 0,this.renderConfirm(),this.renderCancel()))},a.handleCancel=function(){var e=this.props,t=e.onCancel,r=e.onClose;r&&r(),t&&t()},a.handleConfirm=function(){var e=this.props,t=e.onConfirm,r=e.onClose;r&&r(),t&&t()},n}(a.PureComponent);p.displayName="ActionableError";var y=p;t.default=y,e.exports=t.default},7433:function(e,t,r){e.exports=r.p+"c613a8513d53c5b2a4d5941419100a11.svg"},7434:function(e,t,r){e.exports=r.p+"14ce1e8528e32f1a13659e476a3c0716.svg"},7435:function(e,t,r){e.exports=r.p+"69599bf4774238ea687b769da6a9595e.svg"},7436:function(e,t,r){e.exports=r.p+"006ca0d19c6267812c15ff9611d4e6d5.svg"},7437:function(e,t,r){e.exports=r.p+"b3bbdcadbdb67b466e9330da22ed0221.svg"},7438:function(e,t,r){e.exports=r.p+"273ec1aee7edca70e8038dfcb26436b1.svg"},7439:function(e,t,r){e.exports=r.p+"5947547ef2316bb7db5650751f2ccb2f.svg"},7440:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=r(302),i=d(r(825)),l=d(r(865)),u=d(r(5991)),s=d(r(13));function d(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleViewProfile=function(){l.default.open(t.props.userId,t.props.guildId),i.default.close(),(0,o.closeContextMenu)()},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(u.default,{label:s.default.Messages.PROFILE,action:this.handleViewProfile})},a}(a.PureComponent);c.displayName="UserProfileItem";var f=c;t.default=f,e.exports=t.default},7441:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=p(r(304)),o=(p(r(306)),p(r(439))),i=p(r(3)),l=p(r(443)),u=r(302),s=p(r(20)),d=p(r(14)),c=p(r(5991)),f=p(r(13));function p(e){return e&&e.__esModule?e:{default:e}}var y=(0,a.default)({displayName:"UserRemoveFromGroupItem",mixins:[i.default.LazyStoreListenerMixin(s.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{currentUser:d.default.getCurrentUser(),channel:s.default.getChannel(this.props.channelId)}},UNSAFE_componentWillReceiveProps:function(e){this.setState({channel:s.default.getChannel(e.channelId)})},render:function(){var e=this.props.userId,t=this.state,r=t.currentUser,a=t.channel;return null==a||a.isOwner(e)||!a.isOwner(r.id)?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(c.default,{label:f.default.Messages.REMOVE_FROM_GROUP,action:this.handleRemoveFromGroup,danger:!0})},handleRemoveFromGroup:function(){var e=this.props,t=e.channelId,r=e.userId;l.default.removeRecipient(t,r),(0,u.closeContextMenu)()}});t.default=y,e.exports=t.default},7442:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=y(r(304)),o=y(r(6)),i=(y(r(306)),y(r(439))),l=y(r(3)),u=y(r(331)),s=r(302),d=y(r(12)),c=y(r(842)),f=y(r(5991)),p=y(r(13));function y(e){return e&&e.__esModule?e:{default:e}}function h(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var v=(0,a.default)({displayName:"UserRingHangItem",mixins:[l.default.LazyStoreListenerMixin(c.default),i.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{me:d.default.getId()===this.props.userId,participants:c.default.getParticipants(this.props.channelId)}},render:function(){var e=this,t=this.state.participants;if(this.state.me||!t||!t.length)return null;var r=o.default.find(t,function(t){return t.user.id===e.props.userId});return null==r?h(f.default,{label:p.default.Messages.RING,action:this.handleRing}):r.ringing?h(f.default,{label:p.default.Messages.STOP_RINGING,action:this.handleStopRinging}):null},handleRing:function(){(0,s.closeContextMenu)(),u.default.ring(this.props.channelId,[this.props.userId])},handleStopRinging:function(){(0,s.closeContextMenu)(),u.default.stopRinging(this.props.channelId,[this.props.userId])}});t.default=v,e.exports=t.default},7443:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=O(r(304)),o=O(r(6)),i=(O(r(306)),O(r(439))),l=O(r(3)),u=O(r(6e3)),s=O(r(71)),d=O(r(28)),c=O(r(149)),f=O(r(14)),p=O(r(87)),y=O(r(5995)),h=O(r(5991)),v=O(r(6087)),_=O(r(6012)),m=r(0),g=O(r(13));function O(e){return e&&e.__esModule?e:{default:e}}function A(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var I=(0,a.default)({displayName:"UserRolesGroup",mixins:[l.default.LazyStoreListenerMixin(s.default,c.default),i.default],getInitialState:function(){return this.getStateFromStores()},getDefaultProps:function(){return{invertChildY:!1}},getStateFromStores:function(){var e=d.default.getGuild(this.props.guildId),t=s.default.getMember(this.props.guildId,this.props.userId);return{guild:e,userRoles:t?t.roles:null,isGuildMember:!!t,canManageRoles:null!=e&&c.default.can(m.Permissions.MANAGE_ROLES,e)}},render:function(){var e=this;if(__OVERLAY__)return null;var t=this.state,r=t.guild,n=t.userRoles,a=t.canManageRoles,i=this.props.invertChildY,l=n&&n.length,u=f.default.getCurrentUser(),s=null;if(this.state.isGuildMember&&(l>0||a)){var d=p.default.getHighestRole(r,u.id),c=(0,o.default)(r.roles).filter(function(e){return e.id!==r.id&&(a||-1!==n.indexOf(e.id))}).map(function(t){if(a){var o=t.managed||!p.default.isRoleHigher(r,u.id,d,t),i=-1!==n.indexOf(t.id);return o&&!i?null:A(_.default,{label:t.name,disabled:o,styles:{color:t.colorString},boxStyles:{background:t.colorString},action:function(){return e.handleRoleToggle(t)},active:i},t.id)}return A(h.default,{styles:{color:t.colorString},label:t.name},t.id)}).value();c.length&&(s=A(y.default,{},void 0,A(v.default,{label:g.default.Messages.ROLES_LIST.format({numRoles:3}),render:c,invertChildY:i})))}return s},handleRoleToggle:function(e){var t=this.state.userRoles;t=-1===t.indexOf(e.id)?t.concat([e.id]):t.filter(function(t){return t!==e.id}),u.default.updateMemberRoles(this.props.guildId,this.props.userId,t)}});t.default=I,e.exports=t.default},7444:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}t.default=e}(r(2));var n,a=c(r(304)),o=(c(r(306)),c(r(439))),i=c(r(3)),l=c(r(129)),u=r(223),s=c(r(5991)),d=c(r(13));function c(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.default)({displayName:"UserStreamItem",mixins:[i.default.LazyStoreListenerMixin(l.default),o.default],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{streamURL:(0,u.getStreamURL)(l.default.getPrimaryActivity(this.props.userId))}},render:function(){return null==this.state.streamURL?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.WATCH_STREAM,action:this.handleWatchStream})},handleWatchStream:function(){window.open(this.state.streamURL,"_blank")}});t.default=f,e.exports=t.default},7445:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=f(r(2)),o=c(r(3)),i=f(r(6159)),l=c(r(455)),u=c(r(14)),s=c(r(6012)),d=c(r(13));function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var p=function(e){var t,r;function a(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleToggle=function(){var e=t.props,r=e.user;e.isFollowing?i.removeMembersFromFeed([r.id]):i.addMembersToFeed([r.id])},t}return r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,a.prototype.render=function(){var e=this.props,t=e.user,r=e.isFollowing,a=e.isCurrentUser;return t.bot||a?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(s.default,{label:d.default.Messages.GAME_FEED_SETTINGS_VISIBILITY,action:this.handleToggle,active:r})},a}(a.PureComponent);p.displayName="UserToggleFeedVisibilityItem";var y=o.default.connectStores([l.default],function(e){var t=e.user;return{isFollowing:l.default.isOnFeed(t.id),isCurrentUser:u.default.getCurrentUser().id===t.id}})(p);t.default=y,e.exports=t.default},7446:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=p(r(3)),i=r(302),l=p(r(77)),u=p(r(28)),s=p(r(14)),d=p(r(5991)),c=p(r(7447)),f=p(r(13));function p(e){return e&&e.__esModule?e:{default:e}}function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var v=function(e){var t,r;function o(t){var r;return h(r=e.call(this,t)||this).handleTransferOwnership=r.handleTransferOwnership.bind(h(r)),r}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var u=o.prototype;return u.render=function(){var e=this.props,t=e.guild,r=e.currentUser,a=e.user;return null==t||null==r||a.id===t.ownerId||a.bot||!t.isOwnerWithRequiredMfaLevel(r)?null:function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{danger:!0,label:f.default.Messages.TRANSFER_OWNERSHIP,action:this.handleTransferOwnership})},u.handleTransferOwnership=function(){var e=this.props,t=e.guild,r=e.currentUser,n=e.user;l.default.push(function(e){return a.createElement(c.default,y({},e,{guild:t,fromUser:r,toUser:n}))}),(0,i.closeContextMenu)()},o}(a.PureComponent);v.displayName="UserTransferOwnershipItem";var _=o.default.connectStores([u.default,s.default],function(e){var t=e.guildId;return{currentUser:s.default.getCurrentUser(),guild:u.default.getGuild(t)}})(v);t.default=_,e.exports=t.default},7447:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=_(r(6e3)),i=r(830),l=_(r(77)),u=_(r(124)),s=_(r(148)),d=_(r(220)),c=_(r(5998)),f=_(r(440)),p=_(r(107)),y=_(r(6021)),h=_(r(13)),v=_(r(5754));function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var O=function(e){var t,r;function n(t){var r;return g(r=e.call(this,t)||this).handleTransfer=r.handleTransfer.bind(g(r)),g(r).handleAcknowledged=r.handleAcknowledged.bind(g(r)),r.state={acknowledged:!1},r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var a=n.prototype;return a.handleTransfer=function(e){e.preventDefault(),l.default.pop(),o.default.transferOwnership(this.props.guild.id,this.props.toUser.id).then(function(){return(0,i.popLayer)()}).catch(function(){})},a.handleAcknowledged=function(e){e.currentTarget.checked?this.setState({acknowledged:!0}):this.setState({acknowledged:!1})},a.render=function(){var e=this.props,t=e.fromUser,r=e.toUser,n=e.onClose,a=this.state.acknowledged;return m(d.default,{tag:"form",onSubmit:this.handleTransfer},void 0,m(d.default.Header,{},void 0,m(p.default,{tag:p.default.Tags.H4},void 0,h.default.Messages.TRANSFER_OWNERSHIP,"",this.props.toUser.toString())),m(d.default.Content,{},void 0,m(s.default,{className:v.default.fromToWrapper,justify:s.default.Justify.CENTER},void 0,m("div",{className:v.default.from},void 0,m(y.default,{user:t,size:"xxlarge"})),m("div",{className:v.default.to},void 0,m(y.default,{user:r,size:"xxlarge"}))),m(c.default,{hideBorder:!0,value:a,onChange:this.handleAcknowledged},void 0,m(f.default,{type:f.default.Types.DESCRIPTION},void 0,h.default.Messages.TRANSFER_OWNERSHIP_ACKNOWLEDGE.format({username:r.toString()})))),m(d.default.Footer,{},void 0,m(u.default,{type:"submit",disabled:!a,color:u.default.Colors.RED},void 0,h.default.Messages.TRANSFER_OWNERSHIP),m(u.default,{look:u.default.Looks.LINK,color:u.default.Colors.PRIMARY,onClick:n},void 0,h.default.Messages.CANCEL)))},n}(a.PureComponent);O.displayName="TransferOwnership",O.key=function(){return"transfer-ownership-modal"};var A=O;t.default=A,e.exports=t.default},7448:function(e,t,r){"use strict";t.__esModule=!0,t.backgroundImagePreloader=function(e){var t=function(t){var r,n;function o(e){var r;(r=t.call(this,e)||this).cachedURLs=[],r.canceller=null;var n=e.style,a=n?s(n.backgroundImage):null;return r.cachedURLs=[a],r.state={cached:a,url:null,loaded:!0},r}n=t,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var u=o.prototype;return u.componentDidUpdate=function(e,t){var r=this;if(t!==this.state){var n=this.state,a=n.cached,o=n.loaded,i=this.props.style,l=i?s(i.backgroundImage):null;null==l&&l!==a?this.setState({loaded:!0,cached:l}):this.cachedURLs.indexOf(l)>=0?this.setState({loaded:!0,cached:l}):null!=l&&l!==a&&!0===o&&this.setState({loaded:!1},function(){return r.preloadURL(l)})}},u.preloadURL=function(e){var t=this;this.canceller&&this.canceller(),this.canceller=(0,i.loadImage)(e,function(r){t.canceller&&(t.canceller=null),r||(t.cachedURLs.push(e),t.setState({cached:e,loaded:!0}));var n=t.props.onBackgroundImageLoad;n&&n(r,e)})},u.componentWillUnmount=function(){this.canceller&&this.canceller(),this.cachedURLs.length=0},u.render=function(){var t=this.props,r=t.style,n=(t.onBackgroundImageLoad,function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(t,["style","onBackgroundImageLoad"])),o=this.state,i=o.loaded,u=o.cached;return!i&&r&&(r=l({},r,{backgroundImage:function(e){if(!e||"none"===e)return"none";return"url("+e+")"}(u)})),a.createElement(e,l({style:r},n))},o}(a.Component);return t.displayName="BackgroundImagePreloader",(0,o.default)(t,e),t};var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=(n=r(351))&&n.__esModule?n:{default:n},i=r(233);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u=/url\(['"](.*)['"]\)/,s=function(e){if(!e||"none"===e)return null;var t=e.match(u);return t?t[1]:e}},7449:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(3)),i=f(r(6678)),l=f(r(842)),u=f(r(20)),s=f(r(130)),d=f(r(5991)),c=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t,r;function a(){return e.apply(this,arguments)||this}r=e,(t=a).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r;var o=a.prototype;return o.render=function(){var e=this,t=this.props,r=t.focused;if(t.hidden)return null;var a=r?c.default.Messages.UNFOCUS_PARTICIPANT:c.default.Messages.FOCUS_PARTICIPANT;return function(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}(d.default,{label:a,action:function(){return e.handleFocus()}})},o.handleFocus=function(){var e=this.props,t=e.focused,r=e.channelId,n=e.userId;i.default.selectParticipant(r,t?null:n)},a}(a.PureComponent);p.displayName="UserVideoFocusItem";var y=o.default.connectStores([l.default,s.default],function(e){var t=e.channelId,r=e.userId,n=e.guildId,a=l.default.getSelectedParticipantId(t),o=u.default.getChannel(t),i=s.default.isInChannel(n,t,r)&&s.default.hasVideo(n,t);return{hidden:null==o||(o.isDM()||!i),focused:a===r}})(p);t.default=y,e.exports=t.default},7450:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=f(r(446)),i=f(r(46)),l=f(r(14)),u=f(r(9)),s=f(r(5995)),d=f(r(6770)),c=f(r(13));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var y=function(e){var t,r;function n(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={me:null!=t.props.me?t.props.me:l.default.getCurrentUser().id===t.props.userId,volume:null!=t.props.volume?t.props.volume:i.default.getLocalVolume(t.props.userId)},t.handleVolumeChange=function(e){t.state.me||o.default.setLocalVolume(t.props.userId,u.default.embedded?2*e:e)},t}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.prototype.render=function(){var e=null;if(!this.state.me){var t,r=this.state.volume;u.default.embedded?(t=function(e){return(2*e).toFixed(0)+"%"},r/=2):t=function(e){return e.toFixed(0)+"%"},e=p(d.default,{label:c.default.Messages.USER_VOLUME,onValueChange:this.handleVolumeChange,onValueRender:t,defaultValue:r})}return p(s.default,{},void 0,e)},n}(a.PureComponent);y.displayName="UserVolumeGroup";var h=y;t.default=h,e.exports=t.default},861:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=l(r(17)),i=l(r(887));function l(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t,r,a){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&o)for(var l in o)void 0===t[l]&&(t[l]=o[l]);else t||(t=o||{});if(1===i)t.children=a;else if(i>1){for(var u=new Array(i),s=0;s<i;s++)u[s]=arguments[s+3];t.children=u}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}var d=Object.freeze({LEFT:"LEFT",RIGHT:"RIGHT",UP:"UP",DOWN:"DOWN"});var c=function(e){var t=e.width,r=void 0===t?24:t,n=e.height,l=void 0===n?24:n,c=e.color,f=void 0===c?"currentColor":c,p=e.direction,y=e.foreground,h=e.className,v=e.title,_=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,["width","height","color","direction","foreground","className","title"]);return a.createElement("svg",u({},_,{width:r,height:l,className:(0,o.default)(h,function(e){switch(e){case d.LEFT:return i.default.left;case d.RIGHT:return i.default.right;case d.UP:return null;case d.DOWN:return i.default.down;default:throw new Error("Invalid Direction "+e)}}(p)),viewBox:"0 0 24 24"}),null!=v?s("title",{},void 0,v):null,s("polygon",{className:y,fill:f,fillRule:"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"}))};c.displayName="Arrow",c.Directions=d;var f=c;t.default=f,e.exports=t.default},921:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(2)),o=(n=r(861))&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.default=function(e){return a.createElement(o.default,i({},e,{direction:o.default.Directions.UP}))},e.exports=t.default}}]);
//# sourceMappingURL=159478cf5b25f2663296.js.map